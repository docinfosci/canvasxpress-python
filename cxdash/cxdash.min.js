/*! For license information please see cxdash.min.js.LICENSE.txt */
window.cxdash=function(t){var e={};function i(a){if(e[a])return e[a].exports;var s=e[a]={i:a,l:!1,exports:{}};return t[a].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=e,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(a,s,function(e){return t[e]}.bind(null,s));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var a,s=function(){var t=document.currentScript;if(!t){for(var e=document.getElementsByTagName("script"),i=[],a=0;a<e.length;a++)i.push(e[a]);t=(i=i.filter((function(t){return!t.async&&!t.text&&!t.textContent}))).slice(-1)[0]}return t};if(Object.defineProperty(i,"p",{get:(a=s().src.split("/").slice(0,-1).join("/")+"/",function(){return a})}),"undefined"!=typeof jsonpScriptSrc){var r=jsonpScriptSrc;jsonpScriptSrc=function(t){var e=function(t){return/\/_dash-component-suites\//.test(t.src)}(s()),i=r(t);if(!e)return i;var a=i.split("/"),n=a.slice(-1)[0].split(".");return n.splice(1,0,"v1_0_0m1645655877"),a.splice(-1,1,n.join(".")),a.join("/")}}return i(i.s=4)}([function(t,e){t.exports=window.PropTypes},function(t,e){t.exports=window.React},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return CXDashElement}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__),canvasxpress_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var i,a=_getPrototypeOf(t);if(e){var s=_getPrototypeOf(this).constructor;i=Reflect.construct(a,arguments,s)}else i=a.apply(this,arguments);return _possibleConstructorReturn(this,i)}}function _possibleConstructorReturn(t,e){if(e&&("object"===_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var CXDashElement=function(_Component){_inherits(CXDashElement,_Component);var _super=_createSuper(CXDashElement);function CXDashElement(){return _classCallCheck(this,CXDashElement),_super.apply(this,arguments)}return _createClass(CXDashElement,[{key:"add_canvasxpress_script",value:function(){if(!document.getElementById("CXDashElementIncludeScript")){var t=document.getElementsByTagName("head")[0],e=document.createElement("script");e.type="text/javascript",e.src="https://www.canvasxpress.org/dist/canvasXpress.min.js",e.id="CXDashElementIncludeScript",t.appendChild(e)}}},{key:"add_canvasxpress_css",value:function(){if(!document.getElementById("CXDashElementIncludeCSS")){var t=document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",e.src="https://www.canvasxpress.org/dist/canvasXpress.css",e.id="CXDashElementIncludeCSS",t.appendChild(e)}}},{key:"render",value:function render(){var _this$props=this.props,id=_this$props.id,data=_this$props.data,config=_this$props.config,events=_this$props.events,width=_this$props.width,height=_this$props.height,adjusted_data,adjusted_config,adjusted_events;if(this.add_canvasxpress_script(),this.add_canvasxpress_css(),void 0!==data)try{adjusted_data=JSON.parse(data)}catch(t){adjusted_data=data}if(void 0!==config)try{adjusted_config=JSON.parse(config)}catch(t){adjusted_config=config}if(void 0!==events)try{adjusted_events=eval("("+events+")")}catch(t){adjusted_events=events}return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{id:id+"-dcxc-parent-context"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(canvasxpress_react__WEBPACK_IMPORTED_MODULE_2__.a,{target:id,data:adjusted_data,config:adjusted_config,events:adjusted_events,width:width,height:height}))}}]),CXDashElement}(react__WEBPACK_IMPORTED_MODULE_0__.Component);CXDashElement.defaultProps={},CXDashElement.propTypes={id:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,data:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,config:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,events:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,width:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,height:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,setProps:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func}},function(t,e,i){"use strict";var a=i(1),s=i(5);i(7);class r extends a.Component{constructor(t){super(t),this.target=!!t.target&&t.target,this.data=!!t.data&&t.data,this.config=!!t.config&&t.config,this.events=!!t.events&&t.events,this.width=t.width?t.width:500,this.height=t.height?t.height:500}componentDidMount(){this.graph=new s.init(this.target,this.data,this.config,this.events),this.props.onRef&&this.props.onRef(this.graph)}shouldComponentUpdate(t,e){return!(t.data===this.data&&t.config===this.config)}componentDidUpdate(){this.graph.resetConfig(),this.graph.updateConfig(this.props.config),this.graph.updateData(this.props.data)}componentWillUnmount(){this.graph.destroy(),this.props.onRef&&this.props.onRef(void 0)}render(){return a.createElement("canvas",{id:this.target,width:this.width,height:this.height})}}e.a=r},function(t,e,i){"use strict";i.r(e);var a=i(2);i.d(e,"CXDashElement",(function(){return a.a}))},function(module,exports,__webpack_require__){(function(global){!function(t){this&&(this.window,this.document),CanvasXpress=function(t,e,i,a,s,r,n,o,h,l){var c=this,d=function(){c.init(t,e,i,a,s,r,n,o,h,l)};i&&i.fonts||t&&t.config&&t.config.fonts?i&&i.fonts?CanvasXpress.loadFonts(i.fonts,d):CanvasXpress.loadFonts(t.config.fonts,d):i&&i.fontsExternal||t&&t.config&&t.config.fontsExternal?i&&i.fontsExternal?CanvasXpress.loadFontsExternal(i.fontsExternal,d):CanvasXpress.loadFontsExternal(t.config.fontsExternal,d):this.init(t,e,i,a,s,r,n,o,h,l)}}(),CanvasXpress.instances=[],CanvasXpress.config=[],CanvasXpress.transitions={},CanvasXpress.cacheImages={},CanvasXpress.cacheImagesReady=!1,CanvasXpress.cachePatterns={},CanvasXpress.cacheText={},CanvasXpress.fonts={Arial:!0,Courier:!0,Verdana:!0},CanvasXpress.loadFonts=function(t,e){if(t&&t.length){for(var i=!1,a=0;a<t.length;a++)if(!CanvasXpress.fonts.hasOwnProperty(t[a])){i=!0;break}WebFontConfig={google:{families:t},timeout:2e3},e&&(WebFontConfig.active=e),function(a){if(window.navigator.onLine&&i){var s=a.createElement("script"),r=a.scripts[0];s.src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js",s.async=!0,r.parentNode.insertBefore(s,r);for(var n=0;n<t.length;n++)CanvasXpress.fonts[t[n]]=!0}else e()}(document)}},CanvasXpress.loadFontsExternal=function(t,e){if(t&&t.length){var i=!1;CanvasXpress.fonts.hasOwnProperty(t[0].name)||(i=!0),function(a){if(window.navigator.onLine&&i){var s=new XMLHttpRequest;s.addEventListener("readystatechange",(function(i){if(2==s.readyState&&200==s.status);else if(3==s.readyState);else if(4==s.readyState){var a=new FontFace(t[0].name,s.response);document.fonts.add(a),CanvasXpress.fonts[t[0].name]=!0,e()}})),s.responseType="arraybuffer",s.open("get",t[0].url),s.send()}else e()}(document)}},CanvasXpress.selector={vars:{},smps:{},meta:{},comp:{},nodes:{},edges:{},mixed:{},selections:0,graphType:!1},CanvasXpress.hidden={hiddenVars:{},hiddenSmps:{},hiddenGrps:{},hiddenMapFeatures:{}},CanvasXpress.stack={},CanvasXpress.current=!1,CanvasXpress.chain={},CanvasXpress.resizing=!1,CanvasXpress.registered="8A065461A294AD8265280B7",CanvasXpress.system={},CanvasXpress.ready=!1,CanvasXpress.factory={version:37.8,buildDate:"02-23-2022",client:"",siteSrc:!1,valid:"string"==typeof window.cX?window.cX:void 0,href:window.location.href},CanvasXpress.factory.services="https://www.canvasxpress.org/cgi-bin/services.pl",CanvasXpress.onReady=function(){var t=[],e=!1,i=!1,a=function(){if(!e){console.log("canvasXpress JS ready"),e=!0;for(var i=0;i<t.length;i++)t[i].fn.call(window,t[i].ctx);t=[],CanvasXpress.system.isHTMLWidgets="undefined"!=typeof HTMLWidgets,CanvasXpress.system.isShiny=void 0!==window.Shiny&&!!window.Shiny.outputBindings,CanvasXpress.system.isRViewer=/\bviewer_pane=1\b/.test(window.location),CanvasXpress.system.isRConsole=CanvasXpress.system.isHTMLWidgets&&!CanvasXpress.system.isShiny&&!CanvasXpress.system.isRViewer,CanvasXpress.system.isjQuery="function"==typeof $,CanvasXpress.system.isReveal="undefined"!=typeof Reveal,CanvasXpress.system.isZoom="undefined"!=typeof zoom,CanvasXpress.factory.valid="string"==typeof window.cX?window.cX:void 0}},s=function(){"complete"===window.document.readyState&&a()},r=function(){a()};return window.onReady=function(n,o){e?setTimeout((function(){n(o)}),1):(t.push({fn:n,ctx:o}),"complete"===window.document.readyState?setTimeout(a,1):i||(window.document.addEventListener?(window.document.addEventListener("DOMContentLoaded",a,!1),window.addEventListener("load",r,!1)):(window.document.attachEvent("onreadystatechange",s),window.attachEvent("onload",r)),i=!0))},!0}(),CanvasXpress.loadScripts=function(){var i=0;return function(files,callback,scope){var head=window.document.getElementsByTagName("head")[0],loadScript=function(t,e){t.type.match(/javascript/i)?(t.onreadystatechange=function(){"loaded"!==t.readyState&&"complete"!==t.readyState||(t.onreadystatechange=null,e())},t.onload=function(){e()},head.appendChild(t)):(head.appendChild(t),e())},count=function(){i===files.length?(i=0,callback&&("function"==typeof callback?callback.call(scope):"string"==typeof callback&&(eval("var fn = "+callback),fn()))):CanvasXpress.loadScripts(files,callback,scope)};i++,loadScript(files[i-1],count)}}(),CanvasXpress.transferDatasetAttributes=function(t,e,i){var a=JSON.parse(JSON.stringify(t.dataset));for(var s in a)if(a.hasOwnProperty(s))if(i)e[s.replace(/^data-/,"")]=a[s];else{var r="data-"+s.replace(/([a-zA-Z])(?=[A-Z])/g,"$1-").toLowerCase();e.setAttribute(r,a[s])}},CanvasXpress.initCanvas=function(){for(var t=window.document.getElementsByTagName("canvas"),e=0;e<t.length;e++){var i=t[e];if("CanvasXpress"==i.className&&i.id){var a=!1,s={},r=CanvasXpress.getObject(i.id);i.hasAttribute("data-src")&&!r&&(a=i.getAttribute("data-src"),CanvasXpress.transferDatasetAttributes(i,s,!0),Object.keys(s).length?new CanvasXpress(i.id,a,s):new CanvasXpress(i.id,a))}}},CanvasXpress.initImage=function(){for(var t=window.document.getElementsByTagName("img"),e=0;e<t.length;e++){var i=t[e];if("CanvasXpress"==i.className&&i.id){var a=CanvasXpress.getObject(i.id),s=i.parentNode;if(!a){var r=i.src,n=i.id,o=window.document.createElement("canvas");o.width=i.clientWidth,o.height=i.clientHeight,CanvasXpress.transferDatasetAttributes(i,o),s.removeChild(i),o.id=n,s.appendChild(o),new CanvasXpress(n,r)}}}},CanvasXpress.initTable=function(){for(var t=window.document.getElementsByTagName("table"),e=0;e<t.length;e++){var i=t[e];if("CanvasXpress"==i.className&&i.id){var a=CanvasXpress.getObject(i.id),s=i.parentNode;if(!a){var r=i.id,n=window.document.createElement("canvas");n.id="temp-table-id-"+i.id,n.width=i.hasAttribute("data-width")?i.getAttribute("data-width"):500,n.height=i.hasAttribute("data-height")?i.getAttribute("data-height"):500,CanvasXpress.transferDatasetAttributes(i,n),s.appendChild(n),new CanvasXpress({data:r,renderTo:r})}}}},CanvasXpress.getObject=function(t,e){if(t){for(;CanvasXpress.chain.hasOwnProperty(t);)t=CanvasXpress.chain[t];for(var i=0;i<CanvasXpress.instances.length;i++)if(CanvasXpress.instances[i].target==t)return CanvasXpress.instances[i]}else{if(e){var a=window.document.getElementById(t);if(!a){var s=window.document.createElement("canvas");s.id=t,s.width=100,s.height=100,window.document.body.appendChild(s),a=new CanvasXpress({renderTo:t,hidden:!0})}return a}if(CanvasXpress.instances.length)return CanvasXpress.instances[0]}},CanvasXpress.json=function(t,e){var i=new FileReader;i.onload=function(){try{e(JSON.parse(i.result))}catch(t){alert("Oooops! Not a valid callback")}},i.readAsText(t)},CanvasXpress.csv=function(t,e){var i=new FileReader;i.onload=function(){try{var t=JSON.parse(i.result),a=t.split(/\r\n|\r|\n/g),s=0,r=0;t.match(/,/g)&&(s=t.match(/,/g).length),t.match(/\t/g)&&(r=t.match(/\t/g).length);for(var n=s>r?",":"\t",o=0;o<a.length;o++)if(a[o].match(/^#/))a.splice(o,1),o--;else{for(var h=a[o].split(n),l=h.length-1;l>=0;l--)if('"'==h[l].replace(/"\s+$/,'"').charAt(h[l].length-1)){var c=h[l].replace(/^\s+"/,'"');c.length>1&&'"'==c.charAt(0)?h[l]=h[l].replace(/^\s*"|"\s*$/g,"").replace(/""/g,'"'):l?h.splice(l-1,2,[h[l-1],h[l]].join(n)):h=h.shift().split(n).concat(h)}else h[l].replace(/""/g,'"');1!=h.length||""!=h[0]?a[o]=h:(a.splice(o,1),o--)}e(a)}catch(t){alert("Oooops! Not a valid callback")}},i.readAsText(t)},CanvasXpress.$=function(t,e){return CanvasXpress.getObject(t,e)},CanvasXpress.destroy=function(t,e){CanvasXpress.instances.length>0&&CanvasXpress.instances[0].destroy(t,e)},CanvasXpress.prototype.init=function(t,e,i,a,s,r,n,o,h,l){t&&("object"==typeof t&&t.renderTo&&(e=t.tracks?{tracks:t.tracks}:t.nodes?{nodes:t.nodes}:t.venn?{venn:t.venn}:!!t.data&&t.data,i=t.config||!1,t.version&&(i.createVersion=t.version),t.factory&&(i.createFactory=t.factory),a=t.events||!1,s=!!t.info&&t.info.replace(/'/g,"'").replace(/"/g,"'"),r=t.afterRender||!1,n=t.hidden||!1,o=t.callback||!1,h=t.uploadFile||!1,l=t.noValidate?t.noValidate:!(!i||!i.noValidate)&&i.noValidate,t=t.renderTo),this.setInit=function(){this.target=t,this.events=a,this.info=s,this.userId=1,this.url={},this.meta={ids:{},time:{start:(new Date).getTime(),elapsed:null,end:null,draw:[],render:[]},data:!1,canvas:{},config:{user:i,orig:{},vals:{},remote:!1},vals:{},render:{objects:[],groups:{},types:{},order:[],map:{},origin:[],transition:!1},events:{},state:{save:0,clip:!1,translate:[0,0],rotate:[0],scale:[1,1],last:{translate:[0,0],rotate:[0],scale:[1,1]}},stack:[],def:{},dom:{}}},this.validateParameters=function(){this.validateData(),this.validateConfig(),this.validateEvents(),this.validateInfo(),this.validateAfterRender()},this.validateData=function(){if(this.dataURL=!1,this.dataString=!1,"string"==typeof e)if((s=window.document.getElementById(e))&&"table"==s.tagName.toLowerCase()&&"CanvasXpress"==s.className&&s.id){var t=e;e=this.parseHTMLTable(s,!0),i=e.config,e=e.data,s.parentNode.removeChild(s);var a=window.document.getElementById("temp-table-id-"+t);a?a.id=t:alert("Dude! What did you do?")}else{var s;switch((s=this.isValidString(e)).type){case"URL":this.dataURL=e,e=!1;break;case"XML":this.dataString=s.data,e=!1;break;case"JSON":e=s.data;break;case"DELIM":e=s.data.data,i||(i=s.data.config);break;default:alert("Not a valid data string\n")}}else if("function"==typeof e)try{e=e.call(this)}catch(t){alert("Not a valid Data object:\n"+t)}else if(!l)try{this.stringifyJSON(e)}catch(t){alert("Data object malformed:\n"+t)}},this.validateConfig=function(){if(i){if("function"==typeof i)try{i=i.call(this)}catch(t){alert("Not a valid Data object:\n"+t)}else if(!l)try{this.stringifyJSON(i)}catch(t){alert("Config object malformed:\n"+t)}if(this.topoJSONURL=!1,i.topoJSON&&"string"==typeof i.topoJSON)switch(this.isValidString(i.topoJSON).type){case"URL":this.topoJSONURL=i.topoJSON}}},this.validateEvents=function(){},this.validateInfo=function(){s||(s="")},this.validateAfterRender=function(){if(r)try{this.stringifyJSON(r)}catch(t){alert("AfterRender object malformed:\n"+t)}},this.isOneTimeFunctionInConfig=function(t){return t||(t=this),!!t.transposeData||(!!t.transformData||(!(!t.asSampleFactors||!t.asSampleFactors.length)||(!(!t.asVariableFactors||!t.asVariableFactors.length)||(!(!t.stringSampleFactors||!t.stringSampleFactors.length)||(!(!t.stringVariableFactors||!t.stringVariableFactors.length)||(!!t.histogramData||(!!t.ridgeBy||(!(!t.sortData||!t.sortData.length)||(t.asDOE,!1)))))))))},this.getAfterRender=function(t){var e=[];if((t.histogramData||t.ridgeBy)&&(!0===t.histogramData&&t.colorBy?e.unshift(["createHistogram",[],{}]):e.unshift(["createHistogram",[t.ridgeBy||t.histogramData||t.colorBy],{}])),t.stringVariableFactors&&t.stringVariableFactors.length)for(var i=0;i<t.stringVariableFactors.length;i++)e.unshift(["switchNumericToString",[t.stringVariableFactors[i]],{}]);if(t.stringSampleFactors&&t.stringSampleFactors.length)for(i=0;i<t.stringSampleFactors.length;i++)e.unshift(["switchNumericToString",[t.stringSampleFactors[i],!0],{}]);if(t.asVariableFactors&&t.asVariableFactors.length)for(i=0;i<t.asVariableFactors.length;i++)e.unshift(["switchVarToAnnotation",[t.asVariableFactors[i]],{}]);if(t.asSampleFactors&&t.asSampleFactors.length)for(i=0;i<t.asSampleFactors.length;i++)e.unshift(["switchSmpToAnnotation",[t.asSampleFactors[i]],{}]);if(t.transposeData&&e.unshift(["transpose",[!1,!0],{}]),t.transformData&&e.unshift(["transform",[t.transformData,t.transformAxis,!1,!0],{}]),t.sortData&&t.sortData.length)for(i=0;i<t.sortData.length;i++)e.push(["modifySort",[t.sortData[i][0],t.sortData[i][1],t.sortData[i][2],!1,i==this.sortData.length-1],{}]);return t.asDOE&&e.push(["createDOE",[],{}]),e},this.applyAfterRender=function(){if(this.isCxplot&&this.meta.config.user.aes){var t=this.meta.config.user.aes;t.stringVariableFactors&&(this.stringVariableFactors=this.cloneObject(t.stringVariableFactors)),t.stringSampleFactors&&(this.stringSampleFactors=this.cloneObject(t.stringSampleFactors)),t.asVariableFactors&&(this.asVariableFactors=this.cloneObject(this.asVariableFactors)),t.asSampleFactors&&(this.asSampleFactors=this.cloneObject(t.asSampleFactors))}},this.afterRender=function(t,e){this.afterRendering=!0,t||(t=[]);var i=this.meta.time.start,a="Scatter2D"==this.graphType&&"visium"==this.scatterType;if(this.applyAfterRender(),(this.histogramData||this.ridgeBy)&&(!0===this.histogramData?t.push(["createHistogram",[],{},i,!0]):t.push(["createHistogram",[this.ridgeBy||this.histogramData],{},i,!0]),this.histogramData=!1,delete CanvasXpress.stack[this.target].config.histogramData),this.stringVariableFactors.length){for(var s=0;s<this.stringVariableFactors.length;s++)t.unshift(["switchNumericToString",[this.stringVariableFactors[s],!1],{},i,!0]);this.stringVariableFactors=[],this.layoutRestore=!1}if(this.stringSampleFactors.length){for(s=0;s<this.stringSampleFactors.length;s++)t.unshift(["switchNumericToString",[this.stringSampleFactors[s],!0],{},i,!0]);this.stringSampleFactors=[],this.layoutRestore=!1}if(this.asVariableFactors.length){for(s=0;s<this.asVariableFactors.length;s++)t.unshift(["switchVarToAnnotation",[this.asVariableFactors[s],!1],{},i,!0]);this.asVariableFactors=[],this.layoutRestore=!1}if(this.asSampleFactors.length){for(s=0;s<this.asSampleFactors.length;s++)t.unshift(["switchSmpToAnnotation",[this.asSampleFactors[s],!1],{},i,!0]);this.asSampleFactors=[],this.layoutRestore=!1}if(this.transposeData&&(t.unshift(["transpose",[!1,this.sortData.length||this.selectedDataPoints.length],{},i,!0]),this.transposeData=!1,delete CanvasXpress.stack[this.target].config.transposeData),this.sortData){for(s=0;s<this.sortData.length;s++)t.push(["modifySort",[this.sortData[s][0],this.sortData[s][1],this.sortData[s][2],!1,s==this.sortData.length-1],{},i,!0]);this.sortData=[],delete CanvasXpress.stack[this.target].config.sortData}if(this.selectedDataPoints.length&&this.xAxisIndices&&this.xAxisIndices.length&&this.yAxisIndices&&this.yAxisIndices.length){var r=!1;for(s=0;s<this.selectedDataPoints.length;s++){var n=this.getVariableIndices(this.selectedDataPoints[s]);n>=0&&(this.addRemoveToSelected([n,this.xAxisIndices[0],this.yAxisIndices[0]]),r=!0)}r&&t.unshift(["broadcastDraw",[{func:"afterRender"}],{},i,!0])}var o=t.length-1,h=!1;for(s=0;s<t.length;s++){var l=t[s],c=l.shift();if(c){var d=l.length>0?l.shift():[],p=l.length>0?l.shift():{},g=(l.length>0&&l.shift(),l.length>0&&l.shift());this.showFunctionNamesAfterRender&&this.flashInfoSpan(20,20,c);var u=!!(t[s+1]&&t[s+1][0]&&t[s+1][0].match(/drag/i));for(var m in this.skipRender="createDOE"!=c&&"createHistogram"!=c&&"modifyColorScheme"!=c&&!c.match(/segregate/)&&!u&&(!this.showTransition&&s<o||"table"==this.view),this.skipRender=!!(c.match(/switch/)&&s<o),p)this[m]=p[m];if(c.match(/switch/)&&a&&s==o&&(h=!0),this[c].apply(this,d),"moveCanvas"==c&&CanvasXpress.stack[this.target].afterRender.push([c,d]),g){var f=CanvasXpress.stack[this.target].afterRender.length-1;CanvasXpress.stack[this.target].afterRender[f][4]=!0}h&&this.masterReset()}}this.asDOE&&this.isDOEable()&&this.createDOE(this.asDOE),"table"==this.view?(this.view="canvas",this.clickView()):"layout"==this.view&&(this.view="canvas",this.clickLayout(!1,!1,"none")),this.triggerDataLoaded("afterRender"),this.afterRendering=!1},this.setURL=function(){if(""!=window.location.search)for(var t=location.search.substring(1).split("&"),e=0;e<t.length;e++){var i=t[e].split("=");i[0]&&(i[0].match(/^cX/)?this.url[i[0]]=i[1]||!0:this.url[i[0]]="false"!=i[1]&&("true"==i[1]||i[1]))}},this.createThumbnailBase64=function(){if(this.url.hasOwnProperty("cXprint")||this.printThumbnail){this.printThumbnail=!1;var t=!0!==this.url.cXprint&&"true"!==this.url.cXprint?this.url.cXprint:this.saveFilename?this.saveFilename:this.target+".png",e=this,i=function(t,i){e.saveAs(t,i),setTimeout((function(){window.close()}),4e3)};e.print(!1,t,i)}else if(this.url.hasOwnProperty("cXprintBase64")||this.cacheBase64){this.cacheBase64=!1;i=function(){};CanvasXpress.$(this.target)&&this.print(!1,!1,i)}},this.logConsole=function(t){this.verbose&&console.log(this.target,this.prettyJSON(t))},this.triggerDataLoaded=function(t,e){var i=this,a=function(){var a=e||i;a.logConsole("canvasXpress data ready - "+t),a.createThumbnailBase64(),CanvasXpress.ready=!0};CanvasXpress.cacheImagesReady&&("afterRender"==t?this.isAnimation||this.isTransitionOn||this.dataURL||this.dataString||h||this.isUpdateRemoteData||n||a():"Network"==this.graphType?this.isAnimation||this.isUpdateRemoteData||a():this.isTransitionOn||a())},this.saveFirstState=function(){CanvasXpress.stack[this.target].state.push(this.getConfigState())},this.continueInitialization=function(){var t=CanvasXpress.stack[this.target],e=this.isOneTimeFunctionInConfig();this.initializeGraph(!1,!1,!1,!1,!1,!1,e),this.dataURL||this.afterRender(t.afterRenderInit),this.getDataFromURLOrString(this.target,t.config,t.events,t.info,o),this.saveFirstState(),CanvasXpress.current=this.target,this.meta.time.end=(new Date).getTime(),this.meta.time.elapsed=this.meta.time.end-this.meta.time.start,this.hideMask()},this.pauseInitialization=function(){(!this.lazyLoad||!this.loaded&&this.isInViewport(this.meta.canvas.ctx.canvas))&&this.continueInitialization()},this.initializeProcessing=function(){var t=this;t.initializeBrowser(),t.inititalizeConfig(i),t.initializeViewport(n),t.validateUserColors(),t.initializeApi(),t.initializeDimensions(),t.initializeData(e),t.initializeLayout(),t.initializeDataFilters(),t.initializeEvents(),t.initializeRemote(),t.initStack(e,i,a,s,r),t.initTransitions(),t.pauseInitialization()},this.initialize=function(){CanvasXpress.instances.push(this),this.setInit(),this.setURL(),this.initDOM(),this.initSVG(),this.initInterface(),this.initSave(),this.validateParameters(),this.initConfig(),this.initDate(),this.initViewport(),this.initPrimitives(),this.initUtils(),this.initNumeric(),this.initjLouvain(),this.initMathUtils(),this.initLegendUtils(),this.initFilterUtils(),this.initClusterUtils(),this.initSortUtils(),this.initExample(),this.initDataUtils(),this.initRandom(),this.initData(),this.initValidity(),this.initLayout(),this.initEvents(),this.initTooltip(),this.initTooltipMouse(),this.initTooltipDiv(),this.initToolbar(),this.initMenus(),this.initLinks(),this.initConfigurator(),this.initDataFilter(),this.initDataTable(),this.initCodeInfo(),this.initBin(),this.initDataExplorer(),this.initAnimation(),this.initRemote(),this.initAxes(),this.initGraph(),this.initCxplot(),this.initializeProcessing()},this.initialize())},CanvasXpress.png="data:image/png;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",CanvasXpress.letters=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],CanvasXpress.dates={Sun:1,Mon:2,Tue:3,Wed:4,Thu:5,Fri:6,Sat:7,Sunday:1,Monday:2,Tuesday:3,Wednesday:4,Thursday:5,Friday:6,Saturday:7,Jan:"01",Feb:"02",Mar:"03",Apr:"04",May:"05",Jun:"06",Jul:"07",Aug:"08",Sep:"09",Oct:"10",Nov:"11",Dec:"12",January:"01",February:"02",March:"03",April:"04",May:"05",June:"06",July:"07",August:"08",September:"09",October:"10",November:"11",December:"12"},CanvasXpress.constants={DBL_EPSILON:2220446049250313e-31},CanvasXpress.countries={AFG:["Afghanistan","Asia","South Asia","AF",33.939,67.709],ALA:["Aland Islands","Europe","North Europe","AX",48.464,-122.706],ALB:["Albania","Europe","South Europe","AL",41.153,20.168],DZA:["Algeria","Africa","North Africa","DZ",28.033,1.659],ASM:["American Samoa","Oceania","Polynesia","AS",-14.271,-170.133],AND:["Andorra","Europe","South Europe","AD",42.546,1.601],AGO:["Angola","Africa","Middle Africa","AO",-11.203,17.873],AIA:["Anguilla","America","Caribbean","AI",18.22,-63.069],ATA:["Antarctica","","","AQ",-75.251,-.072],ATG:["Antigua and Barbuda","America","Caribbean","AG",17.06,-61.797],ARG:["Argentina","America","South America","AR",-38.417,-63.617],ARM:["Armenia","Asia","West Asia","AM",40.069,45.038],ABW:["Aruba","America","Caribbean","AW",12.521,-69.969],AUS:["Australia","Oceania","Australia and New Zealand","AU",-25.275,133.775],AUT:["Austria","Europe","West Europe","AT",47.516,14.55],AZE:["Azerbaijan","Asia","West Asia","AZ",40.143,47.576],BHS:["Bahamas","America","Caribbean","BS",25.034,-77.397],BHR:["Bahrain","Asia","West Asia","BH",25.93,50.637],BGD:["Bangladesh","Asia","South Asia","BD",23.684,90.356],BRB:["Barbados","America","Caribbean","BB",13.193,-59.544],BLR:["Belarus","Europe","East Europe","BY",53.709,27.953],BEL:["Belgium","Europe","West Europe","BE",50.503,4.469],BLZ:["Belize","America","Central America","BZ",17.189,-88.498],BEN:["Benin","Africa","West Africa","BJ",9.307,2.315],BMU:["Bermuda","America","North America","BM",32.321,-64.758],BTN:["Bhutan","Asia","South Asia","BT",27.514,90.433],BOL:["Bolivia","America","South America","BO",-16.291,-63.589],BES:["Bonaire","America","Caribbean","BQ",12.201,-68.262],BIH:["Bosnia and Herzegovina","Europe","South Europe","BA",43.915,17.679],BWA:["Botswana","Africa","South Africa","BW",-22.329,24.684],BVT:["Bouvet Island","","","BV",-54.424,3.413],BRA:["Brazil","America","South America","BR",-14.236,-51.926],IOT:["British Indian Ocean Territory","","","IO",-6.344,71.876],BRN:["Brunei Darussalam","Asia","South-East Asia","BN",4.535,114.727],BGR:["Bulgaria","Europe","East Europe","BG",42.733,25.485],BFA:["Burkina Faso","Africa","West Africa","BF",12.238,-1.562],BDI:["Burundi","Africa","East Africa","BI",-3.374,29.918],KHM:["Cambodia","Asia","South-East Asia","KH",12.565,104.99],CMR:["Cameroon","Africa","Middle Africa","CM",7.369,12.354],CAN:["Canada","America","North America","CA",56.13,-106.347],CPV:["Cabo Verde","Africa","West Africa","CV",16.002,-24.014],CYM:["Cayman Islands","America","Caribbean","KY",19.513,-80.567],CAF:["Central African Republic","Africa","Middle Africa","CF",6.611,20.939],TCD:["Chad","Africa","Middle Africa","TD",15.454,18.732],CHL:["Chile","America","South America","CL",-35.676,-71.543],CHN:["China","Asia","East Asia","CN",35.861,104.195],CXR:["Christmas Island","","","CX",-10.448,105.69],CCK:["Cocos (Keeling) Islands","","","CC",-12.165,96.87],COL:["Colombia","America","South America","CO",4.57,-74.298],COM:["Comoros","Africa","East Africa","KM",-11.876,43.872],COG:["Congo","Africa","Middle Africa","CG",-.229,15.827],COD:["Congo (Democratic Republic of the)","Africa","Middle Africa","CD",-4.039,21.758],COK:["Cook Islands","Oceania","Polynesia","CK",-21.237,-159.778],CRI:["Costa Rica","America","Central America","CR",9.748,-83.754],CIV:["Cote d'Ivoire","Africa","West Africa","CI",7.539,-5.548],HRV:["Croatia","Europe","South Europe","HR",45.1,15.2],CUB:["Cuba","America","Caribbean","CU",21.521,-77.782],CUW:["Cura�ao","America","Caribbean","CW",12.169,-68.99],CYP:["Cyprus","Asia","West Asia","CY",35.126,33.429],CZE:["Czech Republic","Europe","East Europe","CZ",49.817,15.472],DNK:["Denmark","Europe","North Europe","DK",56.263,9.501],DJI:["Djibouti","Africa","East Africa","DJ",11.825,42.59],DMA:["Dominica","America","Caribbean","DM",15.414,-61.371],DOM:["Dominican Republic","America","Caribbean","DO",18.735,-70.163],ECU:["Ecuador","America","South America","EC",-1.832,-78.184],EGY:["Egypt","Africa","North Africa","EG",26.82,30.802],SLV:["El Salvador","America","Central America","SV",13.794,-88.897],GNQ:["Equatorial Guinea","Africa","Middle Africa","GQ",1.65,10.267],ERI:["Eritrea","Africa","East Africa","ER",15.179,39.782],EST:["Estonia","Europe","North Europe","EE",58.595,25.013],ETH:["Ethiopia","Africa","East Africa","ET",9.145,40.489],FLK:["Falkland Islands","America","South America","FK",-51.797,-59.524],FRO:["Faroe Islands","Europe","North Europe","FO",61.892,-6.912],FJI:["Fiji","Oceania","Melanesia","FJ",-16.579,179.414],FIN:["Finland","Europe","North Europe","FI",61.924,25.748],FRA:["France","Europe","West Europe","FR",46.227,2.213],GUF:["French Guiana","America","South America","GF",3.933,-53.126],PYF:["French Polynesia","Oceania","Polynesia","PF",-17.68,-149.407],ATF:["French Southern Territories","","","TF",-49.281,69.348],GAB:["Gabon","Africa","Middle Africa","GA",-.804,11.609],GMB:["Gambia","Africa","West Africa","GM",13.443,-15.311],GEO:["Georgia","Asia","West Asia","GE",42.315,43.356],DEU:["Germany","Europe","West Europe","DE",51.165,10.451],GHA:["Ghana","Africa","West Africa","GH",7.946,-1.024],GIB:["Gibraltar","Europe","South Europe","GI",36.137,-5.346],GRC:["Greece","Europe","South Europe","GR",39.074,21.824],GRE:["Greece","Europe","South Europe","EL",39.074,21.824],GRL:["Greenland","America","North America","GL",71.706,-42.605],GRD:["Grenada","America","Caribbean","GD",12.262,-61.605],GLP:["Guadeloupe","America","Caribbean","GP",16.995,-62.068],GUM:["Guam","Oceania","Micronesia","GU",13.444,144.793],GTM:["Guatemala","America","Central America","GT",15.783,-90.231],GGY:["Guernsey","Europe","North Europe","GG",49.465,-2.586],GIN:["Guinea","Africa","West Africa","GN",9.945,-9.697],GNB:["Guinea-Bissau","Africa","West Africa","GW",11.803,-15.181],GUY:["Guyana","America","South America","GY",4.86,-58.931],HTI:["Haiti","America","Caribbean","HT",18.971,-72.286],HMD:["Heard Island and McDonald Islands","","","HM",-53.082,73.504],VAT:["Holy See","Europe","South Europe","VA",41.902,12.453],HND:["Honduras","America","Central America","HN",15.199,-86.242],HKG:["Hong Kong","Asia","East Asia","HK",22.396,114.109],HUN:["Hungary","Europe","East Europe","HU",47.162,19.503],ISL:["Iceland","Europe","North Europe","IS",64.963,-19.021],IND:["India","Asia","South Asia","IN",20.593,78.962],IDN:["Indonesia","Asia","South-East Asia","ID",-.79,113.921],IRN:["Iran","Asia","South Asia","IR",32.427,53.688],IRQ:["Iraq","Asia","West Asia","IQ",33.223,43.679],IRL:["Ireland","Europe","North Europe","IE",53.412,-8.244],IMN:["Isle of Man","Europe","North Europe","IM",54.236,-4.549],ISR:["Israel","Asia","West Asia","IL",31.046,34.851],ITA:["Italy","Europe","South Europe","IT",41.871,12.567],JAM:["Jamaica","America","Caribbean","JM",18.109,-77.298],JPN:["Japan","Asia","East Asia","JP",36.204,138.252],JEY:["Jersey","Europe","North Europe","JE",49.214,-2.132],JOR:["Jordan","Asia","West Asia","JO",30.585,36.238],KAZ:["Kazakhstan","Asia","Central Asia","KZ",48.019,66.923],KEN:["Kenya","Africa","East Africa","KE",-.024,37.906],KIR:["Kiribati","Oceania","Micronesia","KI",-3.371,-168.735],PRK:["Korea (Democratic People's Republic of)","Asia","East Asia","KP",40.339,127.51],KOR:["Korea (Republic of)","Asia","East Asia","KR",35.907,127.766],XKX:["Kosovo","Europe","South Europe","XK",42.602,20.902],KWT:["Kuwait","Asia","West Asia","KW",29.311,47.481],KGZ:["Kyrgyzstan","Asia","Central Asia","KG",41.204,74.766],LAO:["Lao People's Democratic Republic","Asia","South-East Asia","LA",19.856,102.495],LVA:["Latvia","Europe","North Europe","LV",56.879,24.603],LBN:["Lebanon","Asia","West Asia","LB",33.854,35.862],LSO:["Lesotho","Africa","South Africa","LS",-29.61,28.233],LBR:["Liberia","Africa","West Africa","LR",6.428,-9.43],LBY:["Libya","Africa","North Africa","LY",26.335,17.228],LIE:["Liechtenstein","Europe","West Europe","LI",47.166,9.555],LTU:["Lithuania","Europe","North Europe","LT",55.169,23.881],LUX:["Luxembourg","Europe","West Europe","LU",49.815,6.129],MAC:["Macao","Asia","East Asia","MO",22.198,113.543],MKD:["Macedonia","Europe","South Europe","MK",41.608,21.745],MDG:["Madagascar","Africa","East Africa","MG",-18.767,46.869],MWI:["Malawi","Africa","East Africa","MW",-13.255,34.301],MYS:["Malaysia","Asia","South-East Asia","MY",4.21,101.975],MDV:["Maldives","Asia","South Asia","MV",3.202,73.22],MLI:["Mali","Africa","West Africa","ML",17.57,-3.997],MLT:["Malta","Europe","South Europe","MT",35.937,14.375],MHL:["Marshall Islands","Oceania","Micronesia","MH",7.131,171.184],MTQ:["Martinique","America","Caribbean","MQ",14.641,-61.025],MRT:["Mauritania","Africa","West Africa","MR",21.007,-10.941],MUS:["Mauritius","Africa","East Africa","MU",-20.349,57.552],MYT:["Mayotte","Africa","East Africa","YT",-12.828,45.166],MEX:["Mexico","America","Central America","MX",23.634,-102.553],FSM:["Micronesia","Oceania","Micronesia","FM",7.425,150.55],MDA:["Moldova","Europe","East Europe","MD",47.411,28.369],MCO:["Monaco","Europe","West Europe","MC",43.75,7.412],MNG:["Mongolia","Asia","East Asia","MN",46.862,103.846],MNE:["Montenegro","Europe","South Europe","ME",42.708,19.374],MSR:["Montserrat","America","Caribbean","MS",16.742,-62.188],MAR:["Morocco","Africa","North Africa","MA",31.791,-7.093],MOZ:["Mozambique","Africa","East Africa","MZ",-18.666,35.529],MMR:["Myanmar","Asia","South-East Asia","MM",21.913,95.956],NAM:["Namibia","Africa","South Africa","NA",-22.958,18.49],NRU:["Nauru","Oceania","Micronesia","NR",-.523,166.931],NPL:["Nepal","Asia","South Asia","NP",28.394,84.124],NLD:["Netherlands","Europe","West Europe","NL",52.132,5.291],ANT:["Netherlands Antilles","","","AN",12.226,-69.061],NCL:["New Caledonia","Oceania","Melanesia","NC",-20.905,165.618],NZL:["New Zealand","Oceania","Australia and New Zealand","NZ",-40.901,174.885],NIC:["Nicaragua","America","Central America","NI",12.865,-85.208],NER:["Niger","Africa","West Africa","NE",17.607,8.081],NGA:["Nigeria","Africa","West Africa","NG",9.081,8.675],NIU:["Niue","Oceania","Polynesia","NU",-19.055,-169.868],NFK:["Norfolk Island","Oceania","Australia and New Zealand","NF",-29.041,167.954],MNP:["West Mariana Islands","Oceania","Micronesia","MP",17.33,145.384],NOR:["Norway","Europe","North Europe","NO",60.472,8.468],OMN:["Oman","Asia","West Asia","OM",21.512,55.923],PAK:["Pakistan","Asia","South Asia","PK",30.375,69.345],PLW:["Palau","Oceania","Micronesia","PW",7.514,134.582],PSE:["Palestine","Asia","West Asia","PS",31.952,35.233],PAN:["Panama","America","Central America","PA",8.537,-80.783],PNG:["Papua New Guinea","Oceania","Melanesia","PG",-6.315,143.955],PRY:["Paraguay","America","South America","PY",-23.443,-58.444],PER:["Peru","America","South America","PE",-9.19,-75.016],PHL:["Philippines","Asia","South-East Asia","PH",12.879,121.774],PCN:["Pitcairn","Oceania","Polynesia","PN",-24.704,-127.44],POL:["Poland","Europe","East Europe","PL",51.919,19.145],PRT:["Portugal","Europe","South Europe","PT",39.399,-8.225],PRI:["Puerto Rico","America","Caribbean","PR",18.22,-66.591],QAT:["Qatar","Asia","West Asia","QA",25.354,51.183],REU:["R�union","Africa","East Africa","RE",-21.116,55.536],ROU:["Romania","Europe","East Europe","RO",45.943,24.966],RUS:["Russian Federation","Europe","East Europe","RU",61.524,105.318],RWA:["Rwanda","Africa","East Africa","RW",-1.941,29.873],BLM:["Saint Barthelemy","America","Caribbean","BL",17.899,-62.833],SHN:["Saint Helena","Africa","West Africa","SH",-24.144,-10.031],KNA:["Saint Kitts and Nevis","America","Caribbean","KN",17.357,-62.783],LCA:["Saint Lucia","America","Caribbean","LC",13.909,-60.979],MAF:["Saint Martin","America","Caribbean","MF",18.075,-63.06],SPM:["Saint Pierre and Miquelon","America","North America","PM",46.941,-56.272],VCT:["Saint Vincent and the Grenadines","America","Caribbean","VC",12.984,-61.288],WSM:["Samoa","Oceania","Polynesia","WS",-13.76,-172.105],SMR:["San Marino","Europe","South Europe","SM",43.942,12.457],STP:["Sao Tome and Principe","Africa","Middle Africa","ST",.186,6.613],SAU:["Saudi Arabia","Asia","West Asia","SA",23.885,45.079],SEN:["Senegal","Africa","West Africa","SN",14.497,-14.453],SRB:["Serbia","Europe","South Europe","RS",44.016,21.005],SYC:["Seychelles","Africa","East Africa","SC",-4.68,55.491],SLE:["Sierra Leone","Africa","West Africa","SL",8.46,-11.78],SGP:["Singapore","Asia","South-East Asia","SG",1.352,103.819],SXM:["Sint Maarten","America","Caribbean","SX",18.042,-63.054],SVK:["Slovakia","Europe","East Europe","SK",48.669,19.699],SVN:["Slovenia","Europe","South Europe","SI",46.151,14.995],SLB:["Solomon Islands","Oceania","Melanesia","SB",-9.646,160.156],SOM:["Somalia","Africa","East Africa","SO",5.152,46.199],ZAF:["South Africa","Africa","South Africa","ZA",-30.56,22.937],SGS:["South Georgia and the South Sandwich Islands","","","GS",-54.43,-36.588],SSD:["South Sudan","Africa","East Africa","SS",4.859,31.571],ESP:["Spain","Europe","South Europe","ES",40.463,-3.75],LKA:["Sri Lanka","Asia","South Asia","LK",7.873,80.771],SDN:["Sudan","Africa","North Africa","SD",12.862,30.217],SUR:["Suriname","America","South America","SR",3.919,-56.028],SJM:["Svalbard and Jan Mayen","Europe","North Europe","SJ",77.553,23.67],SWZ:["Swaziland","Africa","South Africa","SZ",-26.523,31.465],SWE:["Sweden","Europe","North Europe","SE",60.128,18.643],CHE:["Switzerland","Europe","West Europe","CH",46.818,8.227],SYR:["Syrian Arab Republic","Asia","West Asia","SY",34.802,38.996],TWN:["Taiwan","Asia","East Asia","TW",23.697,120.96],TJK:["Tajikistan","Asia","Central Asia","TJ",38.861,71.276],TZA:["Tanzania","Africa","East Africa","TZ",-6.37,34.888],THA:["Thailand","Asia","South-East Asia","TH",15.87,100.992],TLS:["Timor-Leste","Asia","South-East Asia","TL",-8.875,125.727],TGO:["Togo","Africa","West Africa","TG",8.619,.824],TKL:["Tokelau","Oceania","Polynesia","TK",-8.968,-171.856],TON:["Tonga","Oceania","Polynesia","TO",-21.179,-175.199],TTO:["Trinidad and Tobago","America","Caribbean","TT",10.691,-61.223],TUN:["Tunisia","Africa","North Africa","TN",33.886,9.537],TUR:["Turkey","Asia","West Asia","TR",38.963,35.243],TKM:["Turkmenistan","Asia","Central Asia","TM",38.969,59.556],TCA:["Turks and Caicos Islands","America","Caribbean","TC",21.694,-71.798],TUV:["Tuvalu","Oceania","Polynesia","TV",-7.11,177.649],UGA:["Uganda","Africa","East Africa","UG",1.373,32.29],UKR:["Ukraine","Europe","East Europe","UA",48.379,31.165],ARE:["United Arab Emirates","Asia","West Asia","AE",23.424,53.847],GBR:["United Kingdom of Great Britain and Northern Ireland","Europe","North Europe","GB",55.378,-3.436],UKM:["United Kingdom of Great Britain and Northern Ireland","Europe","North Europe","UK",55.378,-3.436],USA:["United States of America","America","North America","US",37.09,-95.713],UMI:["United States Minor Outlying Islands","","","UM",-.374,-159.996],URY:["Uruguay","America","South America","UY",-32.523,-55.766],UZB:["Uzbekistan","Asia","Central Asia","UZ",41.377,64.585],VUT:["Vanuatu","Oceania","Melanesia","VU",-15.377,166.959],VEN:["Venezuela","America","South America","VE",6.423,-66.59],VNM:["Vietnam","Asia","South-East Asia","VN",14.058,108.277],VGB:["Virgin Islands (British)","America","Caribbean","VG",18.42,-64.64],VIR:["Virgin Islands (U.S.)","America","Caribbean","VI",18.335,-64.897],WLF:["Wallis and Futuna","Oceania","Polynesia","WF",-13.769,-177.157],ESH:["Western Sahara","Africa","North Africa","EH",24.215,-12.886],XXX:["Unespecified Nationality","","","XX"],YEM:["Yemen","Asia","West Asia","YE",15.552,48.516],ZMB:["Zambia","Africa","East Africa","ZM",-13.134,27.849],ZWE:["Zimbabwe","Africa","East Africa","ZW",-19.016,29.154]},CanvasXpress.usa={AK:["Alaska",63.588753,-154.493062],AL:["Alabama",32.318231,-86.902298],AR:["Arkansas",35.20105,-91.831833],AZ:["Arizona",34.048928,-111.093731],CA:["California",36.778261,-119.417932],CO:["Colorado",39.550051,-105.782067],CT:["Connecticut",41.603221,-73.087749],DC:["District of Columbia",38.905985,-77.033418],DE:["Delaware",38.910832,-75.52767],FL:["Florida",27.664827,-81.515754],GA:["Georgia",32.157435,-82.907123],HI:["Hawaii",19.898682,-155.665857],IA:["Iowa",41.878003,-93.097702],ID:["Idaho",44.068202,-114.742041],IL:["Illinois",40.633125,-89.398528],IN:["Indiana",40.551217,-85.602364],KS:["Kansas",39.011902,-98.484246],KY:["Kentucky",37.839333,-84.270018],LA:["Louisiana",31.244823,-92.145024],MA:["Massachusetts",42.407211,-71.382437],MD:["Maryland",39.045755,-76.641271],ME:["Maine",45.253783,-69.445469],MI:["Michigan",44.314844,-85.602364],MN:["Minnesota",46.729553,-94.6859],MO:["Missouri",37.964253,-91.831833],MS:["Mississippi",32.354668,-89.398528],MT:["Montana",46.879682,-110.362566],NC:["North Carolina",35.759573,-79.0193],ND:["NorthDakota",47.551493,-101.002012],NE:["Nebraska",41.492537,-99.901813],NH:["New Hampshire",43.193852,-71.572395],NJ:["New Jersey",40.058324,-74.405661],NM:["New Mexico",34.97273,-105.032363],NV:["Nevada",38.80261,-116.419389],NY:["New York",43.299428,-74.217933],OH:["Ohio",40.417287,-82.907123],OK:["Oklahoma",35.007752,-97.092877],OR:["Oregon",43.804133,-120.554201],PA:["Pennsylvania",41.203322,-77.194525],PR:["Puerto Rico",18.220833,-66.590149],RI:["Rhode Island",41.580095,-71.477429],SC:["South Carolina",33.836081,-81.163725],SD:["South Dakota",43.969515,-99.901813],TN:["Tennessee",35.517491,-86.580447],TX:["Texas",31.968599,-99.901813],UT:["Utah",39.32098,-111.093731],VA:["Virginia",37.431573,-78.656894],VT:["Vermont",44.558803,-72.577841],WA:["Washington",47.751074,-120.740139],WI:["Wisconsin",43.78444,-88.787868],WV:["West Virginia",38.597626,-80.454903],WY:["Wyoming",43.075968,-107.290284]},CanvasXpress.maps={Africa:"/data/africa.geo.json",Argentina:"/data/argentina.geo.json",Asia:"/data/asia.geo.json",Belgium:"/data/belgium.geo.json",China:"/data/china.geo.json",Colombia:"/data/colombia.geo.json",Countries:"/data/countries.geo.json",Europe:"/data/europe.geo.json",France:"/data/france.geo.json",India:"/data/india.geo.json",Italy:"/data/italy.geo.json",NorthAmerica:"/data/north-america.geo.json",Oceania:"/data/oceania.geo.json",SouthAmerica:"/data/south-america.geo.json",Spain:"/data/spain.geo.json",UnitedKingdom:"/data/united-kindom.geo.json",USA:"/data/USA.geo.json",USACounties:"/data/usa-counties.json",USADistricts:"/data/usa-districts.json",USAStates:"/data/usa-states.json",WorldContinents:"/data/world-continents-geo.json",World:"/data/world.geo.json"},CanvasXpress.chromosomes={hg19:{columns:["start","end","name","stain"],order:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,"X","Y"],data:{1:[[0,23e5,"p36.33","gneg"],[23e5,54e5,"p36.32","gpos25"],[54e5,72e5,"p36.31","gneg"],[72e5,92e5,"p36.23","gpos25"],[92e5,127e5,"p36.22","gneg"],[127e5,162e5,"p36.21","gpos50"],[162e5,204e5,"p36.13","gneg"],[204e5,239e5,"p36.12","gpos25"],[239e5,28e6,"p36.11","gneg"],[28e6,302e5,"p35.3","gpos25"],[302e5,324e5,"p35.2","gneg"],[324e5,346e5,"p35.1","gpos25"],[346e5,401e5,"p34.3","gneg"],[401e5,441e5,"p34.2","gpos25"],[441e5,468e5,"p34.1","gneg"],[468e5,507e5,"p33","gpos75"],[507e5,561e5,"p32.3","gneg"],[561e5,59e6,"p32.2","gpos50"],[59e6,613e5,"p32.1","gneg"],[613e5,689e5,"p31.3","gpos50"],[689e5,697e5,"p31.2","gneg"],[697e5,849e5,"p31.1","gpos100"],[849e5,884e5,"p22.3","gneg"],[884e5,92e6,"p22.2","gpos75"],[92e6,947e5,"p22.1","gneg"],[947e5,997e5,"p21.3","gpos75"],[997e5,1022e5,"p21.2","gneg"],[1022e5,1072e5,"p21.1","gpos100"],[1072e5,1118e5,"p13.3","gneg"],[1118e5,1161e5,"p13.2","gpos50"],[1161e5,1178e5,"p13.1","gneg"],[1178e5,1206e5,"p12","gpos50"],[1206e5,1215e5,"p11.2","gneg"],[1215e5,125e6,"p11.1","acen"],[125e6,1289e5,"q11","acen"],[1289e5,1426e5,"q12","gvar"],[1426e5,147e6,"q21.1","gneg"],[147e6,1503e5,"q21.2","gpos50"],[1503e5,155e6,"q21.3","gneg"],[155e6,1565e5,"q22","gpos50"],[1565e5,1591e5,"q23.1","gneg"],[1591e5,1605e5,"q23.2","gpos50"],[1605e5,1655e5,"q23.3","gneg"],[1655e5,1672e5,"q24.1","gpos50"],[1672e5,1709e5,"q24.2","gneg"],[1709e5,1729e5,"q24.3","gpos75"],[1729e5,176e6,"q25.1","gneg"],[176e6,1803e5,"q25.2","gpos50"],[1803e5,1858e5,"q25.3","gneg"],[1858e5,1908e5,"q31.1","gpos100"],[1908e5,1938e5,"q31.2","gneg"],[1938e5,1987e5,"q31.3","gpos100"],[1987e5,2072e5,"q32.1","gneg"],[2072e5,2115e5,"q32.2","gpos25"],[2115e5,2145e5,"q32.3","gneg"],[2145e5,2241e5,"q41","gpos100"],[2241e5,2246e5,"q42.11","gneg"],[2246e5,227e6,"q42.12","gpos25"],[227e6,2307e5,"q42.13","gneg"],[2307e5,2347e5,"q42.2","gpos50"],[2347e5,2366e5,"q42.3","gneg"],[2366e5,2437e5,"q43","gpos75"],[2437e5,249250621,"q44","gneg"]],2:[[0,44e5,"p25.3","gneg"],[44e5,71e5,"p25.2","gpos50"],[71e5,122e5,"p25.1","gneg"],[122e5,167e5,"p24.3","gpos75"],[167e5,192e5,"p24.2","gneg"],[192e5,24e6,"p24.1","gpos75"],[24e6,279e5,"p23.3","gneg"],[279e5,3e7,"p23.2","gpos25"],[3e7,321e5,"p23.1","gneg"],[321e5,366e5,"p22.3","gpos75"],[366e5,386e5,"p22.2","gneg"],[386e5,418e5,"p22.1","gpos50"],[418e5,478e5,"p21","gneg"],[478e5,529e5,"p16.3","gpos100"],[529e5,55e6,"p16.2","gneg"],[55e6,613e5,"p16.1","gpos100"],[613e5,641e5,"p15","gneg"],[641e5,686e5,"p14","gpos50"],[686e5,715e5,"p13.3","gneg"],[715e5,735e5,"p13.2","gpos50"],[735e5,75e6,"p13.1","gneg"],[75e6,833e5,"p12","gpos100"],[833e5,905e5,"p11.2","gneg"],[905e5,933e5,"p11.1","acen"],[933e5,968e5,"q11.1","acen"],[968e5,1027e5,"q11.2","gneg"],[1027e5,106e6,"q12.1","gpos50"],[106e6,1075e5,"q12.2","gneg"],[1075e5,1102e5,"q12.3","gpos25"],[1102e5,1144e5,"q13","gneg"],[1144e5,1188e5,"q14.1","gpos50"],[1188e5,1224e5,"q14.2","gneg"],[1224e5,1299e5,"q14.3","gpos50"],[1299e5,1325e5,"q21.1","gneg"],[1325e5,1351e5,"q21.2","gpos25"],[1351e5,1368e5,"q21.3","gneg"],[1368e5,1422e5,"q22.1","gpos100"],[1422e5,1441e5,"q22.2","gneg"],[1441e5,1487e5,"q22.3","gpos100"],[1487e5,1499e5,"q23.1","gneg"],[1499e5,1505e5,"q23.2","gpos25"],[1505e5,1549e5,"q23.3","gneg"],[1549e5,1598e5,"q24.1","gpos75"],[1598e5,1637e5,"q24.2","gneg"],[1637e5,1697e5,"q24.3","gpos75"],[1697e5,178e6,"q31.1","gneg"],[178e6,1806e5,"q31.2","gpos50"],[1806e5,183e6,"q31.3","gneg"],[183e6,1894e5,"q32.1","gpos75"],[1894e5,1919e5,"q32.2","gneg"],[1919e5,1974e5,"q32.3","gpos75"],[1974e5,2033e5,"q33.1","gneg"],[2033e5,2049e5,"q33.2","gpos50"],[2049e5,209e6,"q33.3","gneg"],[209e6,2153e5,"q34","gpos100"],[2153e5,2215e5,"q35","gneg"],[2215e5,2252e5,"q36.1","gpos75"],[2252e5,2261e5,"q36.2","gneg"],[2261e5,231e6,"q36.3","gpos100"],[231e6,2356e5,"q37.1","gneg"],[2356e5,2373e5,"q37.2","gpos50"],[2373e5,243199373,"q37.3","gneg"]],3:[[0,28e5,"p26.3","gpos50"],[28e5,4e6,"p26.2","gneg"],[4e6,87e5,"p26.1","gpos50"],[87e5,118e5,"p25.3","gneg"],[118e5,133e5,"p25.2","gpos25"],[133e5,164e5,"p25.1","gneg"],[164e5,239e5,"p24.3","gpos100"],[239e5,264e5,"p24.2","gneg"],[264e5,309e5,"p24.1","gpos75"],[309e5,321e5,"p23","gneg"],[321e5,365e5,"p22.3","gpos50"],[365e5,394e5,"p22.2","gneg"],[394e5,437e5,"p22.1","gpos75"],[437e5,441e5,"p21.33","gneg"],[441e5,442e5,"p21.32","gpos50"],[442e5,506e5,"p21.31","gneg"],[506e5,523e5,"p21.2","gpos25"],[523e5,544e5,"p21.1","gneg"],[544e5,586e5,"p14.3","gpos50"],[586e5,637e5,"p14.2","gneg"],[637e5,698e5,"p14.1","gpos50"],[698e5,742e5,"p13","gneg"],[742e5,798e5,"p12.3","gpos75"],[798e5,835e5,"p12.2","gneg"],[835e5,872e5,"p12.1","gpos75"],[872e5,879e5,"p11.2","gneg"],[879e5,91e6,"p11.1","acen"],[91e6,939e5,"q11.1","acen"],[939e5,983e5,"q11.2","gvar"],[983e5,1e8,"q12.1","gneg"],[1e8,1009e5,"q12.2","gpos25"],[1009e5,1028e5,"q12.3","gneg"],[1028e5,1062e5,"q13.11","gpos75"],[1062e5,1079e5,"q13.12","gneg"],[1079e5,1113e5,"q13.13","gpos50"],[1113e5,1135e5,"q13.2","gneg"],[1135e5,1173e5,"q13.31","gpos75"],[1173e5,119e6,"q13.32","gneg"],[119e6,1219e5,"q13.33","gpos75"],[1219e5,1238e5,"q21.1","gneg"],[1238e5,1258e5,"q21.2","gpos25"],[1258e5,1292e5,"q21.3","gneg"],[1292e5,1337e5,"q22.1","gpos25"],[1337e5,1357e5,"q22.2","gneg"],[1357e5,1387e5,"q22.3","gpos25"],[1387e5,1428e5,"q23","gneg"],[1428e5,1489e5,"q24","gpos100"],[1489e5,1521e5,"q25.1","gneg"],[1521e5,155e6,"q25.2","gpos50"],[155e6,157e6,"q25.31","gneg"],[157e6,159e6,"q25.32","gpos50"],[159e6,1607e5,"q25.33","gneg"],[1607e5,1676e5,"q26.1","gpos100"],[1676e5,1709e5,"q26.2","gneg"],[1709e5,1757e5,"q26.31","gpos75"],[1757e5,179e6,"q26.32","gneg"],[179e6,1827e5,"q26.33","gpos75"],[1827e5,1845e5,"q27.1","gneg"],[1845e5,186e6,"q27.2","gpos25"],[186e6,1879e5,"q27.3","gneg"],[1879e5,1923e5,"q28","gpos75"],[1923e5,198022430,"q29","gneg"]],4:[[0,45e5,"p16.3","gneg"],[45e5,6e6,"p16.2","gpos25"],[6e6,113e5,"p16.1","gneg"],[113e5,152e5,"p15.33","gpos50"],[152e5,178e5,"p15.32","gneg"],[178e5,213e5,"p15.31","gpos75"],[213e5,277e5,"p15.2","gneg"],[277e5,358e5,"p15.1","gpos100"],[358e5,412e5,"p14","gneg"],[412e5,446e5,"p13","gpos50"],[446e5,482e5,"p12","gneg"],[482e5,504e5,"p11","acen"],[504e5,527e5,"q11","acen"],[527e5,595e5,"q12","gneg"],[595e5,666e5,"q13.1","gpos100"],[666e5,705e5,"q13.2","gneg"],[705e5,763e5,"q13.3","gpos75"],[763e5,789e5,"q21.1","gneg"],[789e5,824e5,"q21.21","gpos50"],[824e5,841e5,"q21.22","gneg"],[841e5,869e5,"q21.23","gpos25"],[869e5,88e6,"q21.3","gneg"],[88e6,937e5,"q22.1","gpos75"],[937e5,951e5,"q22.2","gneg"],[951e5,988e5,"q22.3","gpos75"],[988e5,1011e5,"q23","gneg"],[1011e5,1077e5,"q24","gpos50"],[1077e5,1141e5,"q25","gneg"],[1141e5,1208e5,"q26","gpos75"],[1208e5,1238e5,"q27","gneg"],[1238e5,1288e5,"q28.1","gpos50"],[1288e5,1311e5,"q28.2","gneg"],[1311e5,1395e5,"q28.3","gpos100"],[1395e5,1415e5,"q31.1","gneg"],[1415e5,1468e5,"q31.21","gpos25"],[1468e5,1485e5,"q31.22","gneg"],[1485e5,1511e5,"q31.23","gpos25"],[1511e5,1556e5,"q31.3","gneg"],[1556e5,1618e5,"q32.1","gpos100"],[1618e5,1645e5,"q32.2","gneg"],[1645e5,1701e5,"q32.3","gpos100"],[1701e5,1719e5,"q33","gneg"],[1719e5,1763e5,"q34.1","gpos75"],[1763e5,1775e5,"q34.2","gneg"],[1775e5,1832e5,"q34.3","gpos100"],[1832e5,1871e5,"q35.1","gneg"],[1871e5,191154276,"q35.2","gpos25"]],5:[[0,45e5,"p15.33","gneg"],[45e5,63e5,"p15.32","gpos25"],[63e5,98e5,"p15.31","gneg"],[98e5,15e6,"p15.2","gpos50"],[15e6,184e5,"p15.1","gneg"],[184e5,233e5,"p14.3","gpos100"],[233e5,246e5,"p14.2","gneg"],[246e5,289e5,"p14.1","gpos100"],[289e5,338e5,"p13.3","gneg"],[338e5,384e5,"p13.2","gpos25"],[384e5,425e5,"p13.1","gneg"],[425e5,461e5,"p12","gpos50"],[461e5,484e5,"p11","acen"],[484e5,507e5,"q11.1","acen"],[507e5,589e5,"q11.2","gneg"],[589e5,629e5,"q12.1","gpos75"],[629e5,632e5,"q12.2","gneg"],[632e5,667e5,"q12.3","gpos75"],[667e5,684e5,"q13.1","gneg"],[684e5,733e5,"q13.2","gpos50"],[733e5,769e5,"q13.3","gneg"],[769e5,814e5,"q14.1","gpos50"],[814e5,828e5,"q14.2","gneg"],[828e5,923e5,"q14.3","gpos100"],[923e5,982e5,"q15","gneg"],[982e5,1028e5,"q21.1","gpos100"],[1028e5,1045e5,"q21.2","gneg"],[1045e5,1096e5,"q21.3","gpos100"],[1096e5,1115e5,"q22.1","gneg"],[1115e5,1131e5,"q22.2","gpos50"],[1131e5,1152e5,"q22.3","gneg"],[1152e5,1214e5,"q23.1","gpos100"],[1214e5,1273e5,"q23.2","gneg"],[1273e5,1306e5,"q23.3","gpos100"],[1306e5,1362e5,"q31.1","gneg"],[1362e5,1395e5,"q31.2","gpos25"],[1395e5,1445e5,"q31.3","gneg"],[1445e5,1498e5,"q32","gpos75"],[1498e5,1527e5,"q33.1","gneg"],[1527e5,1557e5,"q33.2","gpos50"],[1557e5,1599e5,"q33.3","gneg"],[1599e5,1685e5,"q34","gpos100"],[1685e5,1728e5,"q35.1","gneg"],[1728e5,1766e5,"q35.2","gpos25"],[1766e5,180915260,"q35.3","gneg"]],6:[[0,23e5,"p25.3","gneg"],[23e5,42e5,"p25.2","gpos25"],[42e5,71e5,"p25.1","gneg"],[71e5,106e5,"p24.3","gpos50"],[106e5,116e5,"p24.2","gneg"],[116e5,134e5,"p24.1","gpos25"],[134e5,152e5,"p23","gneg"],[152e5,252e5,"p22.3","gpos75"],[252e5,27e6,"p22.2","gneg"],[27e6,304e5,"p22.1","gpos50"],[304e5,321e5,"p21.33","gneg"],[321e5,335e5,"p21.32","gpos25"],[335e5,366e5,"p21.31","gneg"],[366e5,405e5,"p21.2","gpos25"],[405e5,462e5,"p21.1","gneg"],[462e5,518e5,"p12.3","gpos100"],[518e5,529e5,"p12.2","gneg"],[529e5,57e6,"p12.1","gpos100"],[57e6,587e5,"p11.2","gneg"],[587e5,61e6,"p11.1","acen"],[61e6,633e5,"q11.1","acen"],[633e5,634e5,"q11.2","gneg"],[634e5,7e7,"q12","gpos100"],[7e7,759e5,"q13","gneg"],[759e5,839e5,"q14.1","gpos50"],[839e5,849e5,"q14.2","gneg"],[849e5,88e6,"q14.3","gpos50"],[88e6,931e5,"q15","gneg"],[931e5,995e5,"q16.1","gpos100"],[995e5,1006e5,"q16.2","gneg"],[1006e5,1055e5,"q16.3","gpos100"],[1055e5,1146e5,"q21","gneg"],[1146e5,1183e5,"q22.1","gpos75"],[1183e5,1185e5,"q22.2","gneg"],[1185e5,1261e5,"q22.31","gpos100"],[1261e5,1271e5,"q22.32","gneg"],[1271e5,1303e5,"q22.33","gpos75"],[1303e5,1312e5,"q23.1","gneg"],[1312e5,1352e5,"q23.2","gpos50"],[1352e5,139e6,"q23.3","gneg"],[139e6,1428e5,"q24.1","gpos75"],[1428e5,1456e5,"q24.2","gneg"],[1456e5,149e6,"q24.3","gpos75"],[149e6,1525e5,"q25.1","gneg"],[1525e5,1555e5,"q25.2","gpos50"],[1555e5,161e6,"q25.3","gneg"],[161e6,1645e5,"q26","gpos50"],[1645e5,171115067,"q27","gneg"]],7:[[0,28e5,"p22.3","gneg"],[28e5,45e5,"p22.2","gpos25"],[45e5,73e5,"p22.1","gneg"],[73e5,138e5,"p21.3","gpos100"],[138e5,165e5,"p21.2","gneg"],[165e5,209e5,"p21.1","gpos100"],[209e5,255e5,"p15.3","gneg"],[255e5,28e6,"p15.2","gpos50"],[28e6,288e5,"p15.1","gneg"],[288e5,35e6,"p14.3","gpos75"],[35e6,372e5,"p14.2","gneg"],[372e5,433e5,"p14.1","gpos75"],[433e5,454e5,"p13","gneg"],[454e5,49e6,"p12.3","gpos75"],[49e6,505e5,"p12.2","gneg"],[505e5,54e6,"p12.1","gpos75"],[54e6,58e6,"p11.2","gneg"],[58e6,599e5,"p11.1","acen"],[599e5,617e5,"q11.1","acen"],[617e5,67e6,"q11.21","gneg"],[67e6,722e5,"q11.22","gpos50"],[722e5,775e5,"q11.23","gneg"],[775e5,864e5,"q21.11","gpos100"],[864e5,882e5,"q21.12","gneg"],[882e5,911e5,"q21.13","gpos75"],[911e5,928e5,"q21.2","gneg"],[928e5,98e6,"q21.3","gpos75"],[98e6,1038e5,"q22.1","gneg"],[1038e5,1045e5,"q22.2","gpos50"],[1045e5,1074e5,"q22.3","gneg"],[1074e5,1146e5,"q31.1","gpos75"],[1146e5,1174e5,"q31.2","gneg"],[1174e5,1211e5,"q31.31","gpos75"],[1211e5,1238e5,"q31.32","gneg"],[1238e5,1271e5,"q31.33","gpos75"],[1271e5,1292e5,"q32.1","gneg"],[1292e5,1304e5,"q32.2","gpos25"],[1304e5,1326e5,"q32.3","gneg"],[1326e5,1382e5,"q33","gpos50"],[1382e5,1431e5,"q34","gneg"],[1431e5,1479e5,"q35","gpos75"],[1479e5,1526e5,"q36.1","gneg"],[1526e5,1551e5,"q36.2","gpos25"],[1551e5,159138663,"q36.3","gneg"]],8:[[0,22e5,"p23.3","gneg"],[22e5,62e5,"p23.2","gpos75"],[62e5,127e5,"p23.1","gneg"],[127e5,19e6,"p22","gpos100"],[19e6,233e5,"p21.3","gneg"],[233e5,274e5,"p21.2","gpos50"],[274e5,288e5,"p21.1","gneg"],[288e5,365e5,"p12","gpos75"],[365e5,383e5,"p11.23","gneg"],[383e5,397e5,"p11.22","gpos25"],[397e5,431e5,"p11.21","gneg"],[431e5,456e5,"p11.1","acen"],[456e5,481e5,"q11.1","acen"],[481e5,522e5,"q11.21","gneg"],[522e5,526e5,"q11.22","gpos75"],[526e5,555e5,"q11.23","gneg"],[555e5,616e5,"q12.1","gpos50"],[616e5,622e5,"q12.2","gneg"],[622e5,66e6,"q12.3","gpos50"],[66e6,68e6,"q13.1","gneg"],[68e6,705e5,"q13.2","gpos50"],[705e5,739e5,"q13.3","gneg"],[739e5,783e5,"q21.11","gpos100"],[783e5,801e5,"q21.12","gneg"],[801e5,846e5,"q21.13","gpos75"],[846e5,869e5,"q21.2","gneg"],[869e5,933e5,"q21.3","gpos100"],[933e5,99e6,"q22.1","gneg"],[99e6,1016e5,"q22.2","gpos25"],[1016e5,1062e5,"q22.3","gneg"],[1062e5,1105e5,"q23.1","gpos75"],[1105e5,1121e5,"q23.2","gneg"],[1121e5,1177e5,"q23.3","gpos100"],[1177e5,1192e5,"q24.11","gneg"],[1192e5,1225e5,"q24.12","gpos50"],[1225e5,1273e5,"q24.13","gneg"],[1273e5,1315e5,"q24.21","gpos50"],[1315e5,1364e5,"q24.22","gneg"],[1364e5,1399e5,"q24.23","gpos75"],[1399e5,146364022,"q24.3","gneg"]],9:[[0,22e5,"p24.3","gneg"],[22e5,46e5,"p24.2","gpos25"],[46e5,9e6,"p24.1","gneg"],[9e6,142e5,"p23","gpos75"],[142e5,166e5,"p22.3","gneg"],[166e5,185e5,"p22.2","gpos25"],[185e5,199e5,"p22.1","gneg"],[199e5,256e5,"p21.3","gpos100"],[256e5,28e6,"p21.2","gneg"],[28e6,332e5,"p21.1","gpos100"],[332e5,363e5,"p13.3","gneg"],[363e5,384e5,"p13.2","gpos25"],[384e5,41e6,"p13.1","gneg"],[41e6,436e5,"p12","gpos50"],[436e5,473e5,"p11.2","gneg"],[473e5,49e6,"p11.1","acen"],[49e6,507e5,"q11","acen"],[507e5,659e5,"q12","gvar"],[659e5,687e5,"q13","gneg"],[687e5,722e5,"q21.11","gpos25"],[722e5,74e6,"q21.12","gneg"],[74e6,792e5,"q21.13","gpos50"],[792e5,811e5,"q21.2","gneg"],[811e5,841e5,"q21.31","gpos50"],[841e5,869e5,"q21.32","gneg"],[869e5,904e5,"q21.33","gpos50"],[904e5,918e5,"q22.1","gneg"],[918e5,939e5,"q22.2","gpos25"],[939e5,966e5,"q22.31","gneg"],[966e5,993e5,"q22.32","gpos25"],[993e5,1026e5,"q22.33","gneg"],[1026e5,1082e5,"q31.1","gpos100"],[1082e5,1113e5,"q31.2","gneg"],[1113e5,1149e5,"q31.3","gpos25"],[1149e5,1177e5,"q32","gneg"],[1177e5,1225e5,"q33.1","gpos75"],[1225e5,1258e5,"q33.2","gneg"],[1258e5,1303e5,"q33.3","gpos25"],[1303e5,1335e5,"q34.11","gneg"],[1335e5,134e6,"q34.12","gpos25"],[134e6,1359e5,"q34.13","gneg"],[1359e5,1374e5,"q34.2","gpos25"],[1374e5,141213431,"q34.3","gneg"]],10:[[0,3e6,"p15.3","gneg"],[3e6,38e5,"p15.2","gpos25"],[38e5,66e5,"p15.1","gneg"],[66e5,122e5,"p14","gpos75"],[122e5,173e5,"p13","gneg"],[173e5,186e5,"p12.33","gpos75"],[186e5,187e5,"p12.32","gneg"],[187e5,226e5,"p12.31","gpos75"],[226e5,246e5,"p12.2","gneg"],[246e5,296e5,"p12.1","gpos50"],[296e5,313e5,"p11.23","gneg"],[313e5,344e5,"p11.22","gpos25"],[344e5,38e6,"p11.21","gneg"],[38e6,402e5,"p11.1","acen"],[402e5,423e5,"q11.1","acen"],[423e5,461e5,"q11.21","gneg"],[461e5,499e5,"q11.22","gpos25"],[499e5,529e5,"q11.23","gneg"],[529e5,612e5,"q21.1","gpos100"],[612e5,645e5,"q21.2","gneg"],[645e5,706e5,"q21.3","gpos100"],[706e5,749e5,"q22.1","gneg"],[749e5,777e5,"q22.2","gpos50"],[777e5,82e6,"q22.3","gneg"],[82e6,879e5,"q23.1","gpos100"],[879e5,895e5,"q23.2","gneg"],[895e5,929e5,"q23.31","gpos75"],[929e5,941e5,"q23.32","gneg"],[941e5,97e6,"q23.33","gpos50"],[97e6,993e5,"q24.1","gneg"],[993e5,1019e5,"q24.2","gpos50"],[1019e5,103e6,"q24.31","gneg"],[103e6,1049e5,"q24.32","gpos25"],[1049e5,1058e5,"q24.33","gneg"],[1058e5,1119e5,"q25.1","gpos100"],[1119e5,1149e5,"q25.2","gneg"],[1149e5,1191e5,"q25.3","gpos75"],[1191e5,1217e5,"q26.11","gneg"],[1217e5,1231e5,"q26.12","gpos50"],[1231e5,1275e5,"q26.13","gneg"],[1275e5,1306e5,"q26.2","gpos50"],[1306e5,135534747,"q26.3","gneg"]],11:[[0,28e5,"p15.5","gneg"],[28e5,107e5,"p15.4","gpos50"],[107e5,127e5,"p15.3","gneg"],[127e5,162e5,"p15.2","gpos50"],[162e5,217e5,"p15.1","gneg"],[217e5,261e5,"p14.3","gpos100"],[261e5,272e5,"p14.2","gneg"],[272e5,31e6,"p14.1","gpos75"],[31e6,364e5,"p13","gneg"],[364e5,435e5,"p12","gpos100"],[435e5,488e5,"p11.2","gneg"],[488e5,516e5,"p11.12","gpos75"],[516e5,537e5,"p11.11","acen"],[537e5,557e5,"q11","acen"],[557e5,599e5,"q12.1","gpos75"],[599e5,617e5,"q12.2","gneg"],[617e5,634e5,"q12.3","gpos25"],[634e5,659e5,"q13.1","gneg"],[659e5,684e5,"q13.2","gpos25"],[684e5,704e5,"q13.3","gneg"],[704e5,752e5,"q13.4","gpos50"],[752e5,771e5,"q13.5","gneg"],[771e5,856e5,"q14.1","gpos100"],[856e5,883e5,"q14.2","gneg"],[883e5,928e5,"q14.3","gpos100"],[928e5,972e5,"q21","gneg"],[972e5,1021e5,"q22.1","gpos100"],[1021e5,1029e5,"q22.2","gneg"],[1029e5,1104e5,"q22.3","gpos100"],[1104e5,1125e5,"q23.1","gneg"],[1125e5,1145e5,"q23.2","gpos50"],[1145e5,1212e5,"q23.3","gneg"],[1212e5,1239e5,"q24.1","gpos50"],[1239e5,1278e5,"q24.2","gneg"],[1278e5,1308e5,"q24.3","gpos50"],[1308e5,135006516,"q25","gneg"]],12:[[0,33e5,"p13.33","gneg"],[33e5,54e5,"p13.32","gpos25"],[54e5,101e5,"p13.31","gneg"],[101e5,128e5,"p13.2","gpos75"],[128e5,148e5,"p13.1","gneg"],[148e5,2e7,"p12.3","gpos100"],[2e7,213e5,"p12.2","gneg"],[213e5,265e5,"p12.1","gpos100"],[265e5,278e5,"p11.23","gneg"],[278e5,307e5,"p11.22","gpos50"],[307e5,333e5,"p11.21","gneg"],[333e5,358e5,"p11.1","acen"],[358e5,382e5,"q11","acen"],[382e5,464e5,"q12","gpos100"],[464e5,491e5,"q13.11","gneg"],[491e5,515e5,"q13.12","gpos25"],[515e5,549e5,"q13.13","gneg"],[549e5,566e5,"q13.2","gpos25"],[566e5,581e5,"q13.3","gneg"],[581e5,631e5,"q14.1","gpos75"],[631e5,651e5,"q14.2","gneg"],[651e5,677e5,"q14.3","gpos50"],[677e5,715e5,"q15","gneg"],[715e5,757e5,"q21.1","gpos75"],[757e5,803e5,"q21.2","gneg"],[803e5,867e5,"q21.31","gpos100"],[867e5,89e6,"q21.32","gneg"],[89e6,926e5,"q21.33","gpos100"],[926e5,962e5,"q22","gneg"],[962e5,1016e5,"q23.1","gpos75"],[1016e5,1038e5,"q23.2","gneg"],[1038e5,109e6,"q23.3","gpos50"],[109e6,1117e5,"q24.11","gneg"],[1117e5,1123e5,"q24.12","gpos25"],[1123e5,1143e5,"q24.13","gneg"],[1143e5,1168e5,"q24.21","gpos50"],[1168e5,1181e5,"q24.22","gneg"],[1181e5,1207e5,"q24.23","gpos50"],[1207e5,1259e5,"q24.31","gneg"],[1259e5,1293e5,"q24.32","gpos50"],[1293e5,133851895,"q24.33","gneg"]],13:[[0,45e5,"p13","gvar"],[45e5,1e7,"p12","stalk"],[1e7,163e5,"p11.2","gvar"],[163e5,179e5,"p11.1","acen"],[179e5,195e5,"q11","acen"],[195e5,233e5,"q12.11","gneg"],[233e5,255e5,"q12.12","gpos25"],[255e5,278e5,"q12.13","gneg"],[278e5,289e5,"q12.2","gpos25"],[289e5,322e5,"q12.3","gneg"],[322e5,34e6,"q13.1","gpos50"],[34e6,355e5,"q13.2","gneg"],[355e5,401e5,"q13.3","gpos75"],[401e5,452e5,"q14.11","gneg"],[452e5,458e5,"q14.12","gpos25"],[458e5,473e5,"q14.13","gneg"],[473e5,509e5,"q14.2","gpos50"],[509e5,553e5,"q14.3","gneg"],[553e5,596e5,"q21.1","gpos100"],[596e5,623e5,"q21.2","gneg"],[623e5,657e5,"q21.31","gpos75"],[657e5,686e5,"q21.32","gneg"],[686e5,733e5,"q21.33","gpos100"],[733e5,754e5,"q22.1","gneg"],[754e5,772e5,"q22.2","gpos50"],[772e5,79e6,"q22.3","gneg"],[79e6,877e5,"q31.1","gpos100"],[877e5,9e7,"q31.2","gneg"],[9e7,95e6,"q31.3","gpos100"],[95e6,982e5,"q32.1","gneg"],[982e5,993e5,"q32.2","gpos25"],[993e5,1017e5,"q32.3","gneg"],[1017e5,1048e5,"q33.1","gpos100"],[1048e5,107e6,"q33.2","gneg"],[107e6,1103e5,"q33.3","gpos100"],[1103e5,115169878,"q34","gneg"]],14:[[0,37e5,"p13","gvar"],[37e5,81e5,"p12","stalk"],[81e5,161e5,"p11.2","gvar"],[161e5,176e5,"p11.1","acen"],[176e5,191e5,"q11.1","acen"],[191e5,246e5,"q11.2","gneg"],[246e5,333e5,"q12","gpos100"],[333e5,353e5,"q13.1","gneg"],[353e5,366e5,"q13.2","gpos50"],[366e5,378e5,"q13.3","gneg"],[378e5,435e5,"q21.1","gpos100"],[435e5,472e5,"q21.2","gneg"],[472e5,509e5,"q21.3","gpos100"],[509e5,541e5,"q22.1","gneg"],[541e5,555e5,"q22.2","gpos25"],[555e5,581e5,"q22.3","gneg"],[581e5,621e5,"q23.1","gpos75"],[621e5,648e5,"q23.2","gneg"],[648e5,679e5,"q23.3","gpos50"],[679e5,702e5,"q24.1","gneg"],[702e5,738e5,"q24.2","gpos50"],[738e5,793e5,"q24.3","gneg"],[793e5,836e5,"q31.1","gpos100"],[836e5,849e5,"q31.2","gneg"],[849e5,898e5,"q31.3","gpos100"],[898e5,919e5,"q32.11","gneg"],[919e5,947e5,"q32.12","gpos25"],[947e5,963e5,"q32.13","gneg"],[963e5,1014e5,"q32.2","gpos50"],[1014e5,1032e5,"q32.31","gneg"],[1032e5,104e6,"q32.32","gpos50"],[104e6,107349540,"q32.33","gneg"]],15:[[0,39e5,"p13","gvar"],[39e5,87e5,"p12","stalk"],[87e5,158e5,"p11.2","gvar"],[158e5,19e6,"p11.1","acen"],[19e6,207e5,"q11.1","acen"],[207e5,257e5,"q11.2","gneg"],[257e5,281e5,"q12","gpos50"],[281e5,303e5,"q13.1","gneg"],[303e5,312e5,"q13.2","gpos50"],[312e5,336e5,"q13.3","gneg"],[336e5,401e5,"q14","gpos75"],[401e5,428e5,"q15.1","gneg"],[428e5,436e5,"q15.2","gpos25"],[436e5,448e5,"q15.3","gneg"],[448e5,495e5,"q21.1","gpos75"],[495e5,529e5,"q21.2","gneg"],[529e5,591e5,"q21.3","gpos75"],[591e5,593e5,"q22.1","gneg"],[593e5,637e5,"q22.2","gpos25"],[637e5,672e5,"q22.31","gneg"],[672e5,673e5,"q22.32","gpos25"],[673e5,675e5,"q22.33","gneg"],[675e5,727e5,"q23","gpos25"],[727e5,752e5,"q24.1","gneg"],[752e5,766e5,"q24.2","gpos25"],[766e5,783e5,"q24.3","gneg"],[783e5,817e5,"q25.1","gpos50"],[817e5,852e5,"q25.2","gneg"],[852e5,891e5,"q25.3","gpos50"],[891e5,943e5,"q26.1","gneg"],[943e5,985e5,"q26.2","gpos50"],[985e5,102531392,"q26.3","gneg"]],16:[[0,79e5,"p13.3","gneg"],[79e5,105e5,"p13.2","gpos50"],[105e5,126e5,"p13.13","gneg"],[126e5,148e5,"p13.12","gpos50"],[148e5,168e5,"p13.11","gneg"],[168e5,212e5,"p12.3","gpos50"],[212e5,242e5,"p12.2","gneg"],[242e5,281e5,"p12.1","gpos50"],[281e5,346e5,"p11.2","gneg"],[346e5,366e5,"p11.1","acen"],[366e5,386e5,"q11.1","acen"],[386e5,47e6,"q11.2","gvar"],[47e6,526e5,"q12.1","gneg"],[526e5,567e5,"q12.2","gpos50"],[567e5,574e5,"q13","gneg"],[574e5,667e5,"q21","gpos100"],[667e5,708e5,"q22.1","gneg"],[708e5,729e5,"q22.2","gpos50"],[729e5,741e5,"q22.3","gneg"],[741e5,792e5,"q23.1","gpos75"],[792e5,817e5,"q23.2","gneg"],[817e5,842e5,"q23.3","gpos50"],[842e5,871e5,"q24.1","gneg"],[871e5,887e5,"q24.2","gpos25"],[887e5,90354753,"q24.3","gneg"]],17:[[0,33e5,"p13.3","gneg"],[33e5,65e5,"p13.2","gpos50"],[65e5,107e5,"p13.1","gneg"],[107e5,16e6,"p12","gpos75"],[16e6,222e5,"p11.2","gneg"],[222e5,24e6,"p11.1","acen"],[24e6,258e5,"q11.1","acen"],[258e5,318e5,"q11.2","gneg"],[318e5,381e5,"q12","gpos50"],[381e5,384e5,"q21.1","gneg"],[384e5,409e5,"q21.2","gpos25"],[409e5,449e5,"q21.31","gneg"],[449e5,474e5,"q21.32","gpos25"],[474e5,502e5,"q21.33","gneg"],[502e5,576e5,"q22","gpos75"],[576e5,583e5,"q23.1","gneg"],[583e5,611e5,"q23.2","gpos75"],[611e5,626e5,"q23.3","gneg"],[626e5,642e5,"q24.1","gpos50"],[642e5,671e5,"q24.2","gneg"],[671e5,709e5,"q24.3","gpos75"],[709e5,748e5,"q25.1","gneg"],[748e5,753e5,"q25.2","gpos25"],[753e5,81195210,"q25.3","gneg"]],18:[[0,29e5,"p11.32","gneg"],[29e5,71e5,"p11.31","gpos50"],[71e5,85e5,"p11.23","gneg"],[85e5,109e5,"p11.22","gpos25"],[109e5,154e5,"p11.21","gneg"],[154e5,172e5,"p11.1","acen"],[172e5,19e6,"q11.1","acen"],[19e6,25e6,"q11.2","gneg"],[25e6,327e5,"q12.1","gpos100"],[327e5,372e5,"q12.2","gneg"],[372e5,435e5,"q12.3","gpos75"],[435e5,482e5,"q21.1","gneg"],[482e5,538e5,"q21.2","gpos75"],[538e5,562e5,"q21.31","gneg"],[562e5,59e6,"q21.32","gpos50"],[59e6,616e5,"q21.33","gneg"],[616e5,668e5,"q22.1","gpos100"],[668e5,687e5,"q22.2","gneg"],[687e5,731e5,"q22.3","gpos25"],[731e5,78077248,"q23","gneg"]],19:[[0,69e5,"p13.3","gneg"],[69e5,139e5,"p13.2","gpos25"],[139e5,14e6,"p13.13","gneg"],[14e6,163e5,"p13.12","gpos25"],[163e5,2e7,"p13.11","gneg"],[2e7,244e5,"p12","gvar"],[244e5,265e5,"p11","acen"],[265e5,286e5,"q11","acen"],[286e5,324e5,"q12","gvar"],[324e5,355e5,"q13.11","gneg"],[355e5,383e5,"q13.12","gpos25"],[383e5,387e5,"q13.13","gneg"],[387e5,434e5,"q13.2","gpos25"],[434e5,452e5,"q13.31","gneg"],[452e5,48e6,"q13.32","gpos25"],[48e6,514e5,"q13.33","gneg"],[514e5,536e5,"q13.41","gpos25"],[536e5,563e5,"q13.42","gneg"],[563e5,59128983,"q13.43","gpos25"]],20:[[0,51e5,"p13","gneg"],[51e5,92e5,"p12.3","gpos75"],[92e5,121e5,"p12.2","gneg"],[121e5,179e5,"p12.1","gpos75"],[179e5,213e5,"p11.23","gneg"],[213e5,223e5,"p11.22","gpos25"],[223e5,256e5,"p11.21","gneg"],[256e5,275e5,"p11.1","acen"],[275e5,294e5,"q11.1","acen"],[294e5,321e5,"q11.21","gneg"],[321e5,344e5,"q11.22","gpos25"],[344e5,376e5,"q11.23","gneg"],[376e5,417e5,"q12","gpos75"],[417e5,421e5,"q13.11","gneg"],[421e5,464e5,"q13.12","gpos25"],[464e5,498e5,"q13.13","gneg"],[498e5,55e6,"q13.2","gpos75"],[55e6,565e5,"q13.31","gneg"],[565e5,584e5,"q13.32","gpos50"],[584e5,63025520,"q13.33","gneg"]],21:[[0,28e5,"p13","gvar"],[28e5,68e5,"p12","stalk"],[68e5,109e5,"p11.2","gvar"],[109e5,132e5,"p11.1","acen"],[132e5,143e5,"q11.1","acen"],[143e5,164e5,"q11.2","gneg"],[164e5,24e6,"q21.1","gpos100"],[24e6,268e5,"q21.2","gneg"],[268e5,315e5,"q21.3","gpos75"],[315e5,358e5,"q22.11","gneg"],[358e5,378e5,"q22.12","gpos50"],[378e5,397e5,"q22.13","gneg"],[397e5,426e5,"q22.2","gpos50"],[426e5,48129895,"q22.3","gneg"]],22:[[0,38e5,"p13","gvar"],[38e5,83e5,"p12","stalk"],[83e5,122e5,"p11.2","gvar"],[122e5,147e5,"p11.1","acen"],[147e5,179e5,"q11.1","acen"],[179e5,222e5,"q11.21","gneg"],[222e5,235e5,"q11.22","gpos25"],[235e5,259e5,"q11.23","gneg"],[259e5,296e5,"q12.1","gpos50"],[296e5,322e5,"q12.2","gneg"],[322e5,376e5,"q12.3","gpos50"],[376e5,41e6,"q13.1","gneg"],[41e6,442e5,"q13.2","gpos50"],[442e5,484e5,"q13.31","gneg"],[484e5,494e5,"q13.32","gpos50"],[494e5,51304566,"q13.33","gneg"]],X:[[0,43e5,"p22.33","gneg"],[43e5,6e6,"p22.32","gpos50"],[6e6,95e5,"p22.31","gneg"],[95e5,171e5,"p22.2","gpos50"],[171e5,193e5,"p22.13","gneg"],[193e5,219e5,"p22.12","gpos50"],[219e5,249e5,"p22.11","gneg"],[249e5,293e5,"p21.3","gpos100"],[293e5,315e5,"p21.2","gneg"],[315e5,376e5,"p21.1","gpos100"],[376e5,424e5,"p11.4","gneg"],[424e5,464e5,"p11.3","gpos75"],[464e5,498e5,"p11.23","gneg"],[498e5,548e5,"p11.22","gpos25"],[548e5,581e5,"p11.21","gneg"],[581e5,606e5,"p11.1","acen"],[606e5,63e6,"q11.1","acen"],[63e6,646e5,"q11.2","gneg"],[646e5,678e5,"q12","gpos50"],[678e5,718e5,"q13.1","gneg"],[718e5,739e5,"q13.2","gpos50"],[739e5,76e6,"q13.3","gneg"],[76e6,846e5,"q21.1","gpos100"],[846e5,862e5,"q21.2","gneg"],[862e5,918e5,"q21.31","gpos100"],[918e5,935e5,"q21.32","gneg"],[935e5,983e5,"q21.33","gpos75"],[983e5,1026e5,"q22.1","gneg"],[1026e5,1037e5,"q22.2","gpos50"],[1037e5,1087e5,"q22.3","gneg"],[1087e5,1165e5,"q23","gpos75"],[1165e5,1209e5,"q24","gneg"],[1209e5,1287e5,"q25","gpos100"],[1287e5,1304e5,"q26.1","gneg"],[1304e5,1336e5,"q26.2","gpos25"],[1336e5,138e6,"q26.3","gneg"],[138e6,1403e5,"q27.1","gpos75"],[1403e5,1421e5,"q27.2","gneg"],[1421e5,1471e5,"q27.3","gpos100"],[1471e5,155270560,"q28","gneg"]],Y:[[0,25e5,"p11.32","gneg"],[25e5,3e6,"p11.31","gpos50"],[3e6,116e5,"p11.2","gneg"],[116e5,125e5,"p11.1","acen"],[125e5,134e5,"q11.1","acen"],[134e5,151e5,"q11.21","gneg"],[151e5,198e5,"q11.221","gpos50"],[198e5,221e5,"q11.222","gneg"],[221e5,262e5,"q11.223","gpos50"],[262e5,288e5,"q11.23","gneg"],[288e5,59373566,"q12","gvar"]]}},hg38:{columns:["start","end","name","stain"],order:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,"X","Y"],data:{1:[[0,23e5,"p36.33","gneg"],[23e5,53e5,"p36.32","gpos25"],[53e5,71e5,"p36.31","gneg"],[71e5,91e5,"p36.23","gpos25"],[91e5,125e5,"p36.22","gneg"],[125e5,159e5,"p36.21","gpos50"],[159e5,201e5,"p36.13","gneg"],[201e5,236e5,"p36.12","gpos25"],[236e5,276e5,"p36.11","gneg"],[276e5,299e5,"p35.3","gpos25"],[299e5,323e5,"p35.2","gneg"],[323e5,343e5,"p35.1","gpos25"],[343e5,396e5,"p34.3","gneg"],[396e5,437e5,"p34.2","gpos25"],[437e5,463e5,"p34.1","gneg"],[463e5,502e5,"p33","gpos75"],[502e5,556e5,"p32.3","gneg"],[556e5,585e5,"p32.2","gpos50"],[585e5,608e5,"p32.1","gneg"],[608e5,685e5,"p31.3","gpos50"],[685e5,693e5,"p31.2","gneg"],[693e5,844e5,"p31.1","gpos100"],[844e5,879e5,"p22.3","gneg"],[879e5,915e5,"p22.2","gpos75"],[915e5,943e5,"p22.1","gneg"],[943e5,993e5,"p21.3","gpos75"],[993e5,1018e5,"p21.2","gneg"],[1018e5,1067e5,"p21.1","gpos100"],[1067e5,1112e5,"p13.3","gneg"],[1112e5,1155e5,"p13.2","gpos50"],[1155e5,1172e5,"p13.1","gneg"],[1172e5,1204e5,"p12","gpos50"],[1204e5,1217e5,"p11.2","gneg"],[1217e5,1234e5,"p11.1","acen"],[1234e5,1251e5,"q11","acen"],[1251e5,1432e5,"q12","gvar"],[1432e5,1475e5,"q21.1","gneg"],[1475e5,1506e5,"q21.2","gpos50"],[1506e5,1551e5,"q21.3","gneg"],[1551e5,1566e5,"q22","gpos50"],[1566e5,1591e5,"q23.1","gneg"],[1591e5,1605e5,"q23.2","gpos50"],[1605e5,1655e5,"q23.3","gneg"],[1655e5,1672e5,"q24.1","gpos50"],[1672e5,1709e5,"q24.2","gneg"],[1709e5,173e6,"q24.3","gpos75"],[173e6,1761e5,"q25.1","gneg"],[1761e5,1803e5,"q25.2","gpos50"],[1803e5,1858e5,"q25.3","gneg"],[1858e5,1908e5,"q31.1","gpos100"],[1908e5,1938e5,"q31.2","gneg"],[1938e5,1987e5,"q31.3","gpos100"],[1987e5,2071e5,"q32.1","gneg"],[2071e5,2113e5,"q32.2","gpos25"],[2113e5,2144e5,"q32.3","gneg"],[2144e5,2239e5,"q41","gpos100"],[2239e5,2244e5,"q42.11","gneg"],[2244e5,2268e5,"q42.12","gpos25"],[2268e5,2305e5,"q42.13","gneg"],[2305e5,2346e5,"q42.2","gpos50"],[2346e5,2364e5,"q42.3","gneg"],[2364e5,2435e5,"q43","gpos75"],[2435e5,248956422,"q44","gneg"]],2:[[0,44e5,"p25.3","gneg"],[44e5,69e5,"p25.2","gpos50"],[69e5,12e6,"p25.1","gneg"],[12e6,165e5,"p24.3","gpos75"],[165e5,19e6,"p24.2","gneg"],[19e6,238e5,"p24.1","gpos75"],[238e5,277e5,"p23.3","gneg"],[277e5,298e5,"p23.2","gpos25"],[298e5,318e5,"p23.1","gneg"],[318e5,363e5,"p22.3","gpos75"],[363e5,383e5,"p22.2","gneg"],[383e5,415e5,"p22.1","gpos50"],[415e5,475e5,"p21","gneg"],[475e5,526e5,"p16.3","gpos100"],[526e5,547e5,"p16.2","gneg"],[547e5,61e6,"p16.1","gpos100"],[61e6,639e5,"p15","gneg"],[639e5,684e5,"p14","gpos50"],[684e5,713e5,"p13.3","gneg"],[713e5,733e5,"p13.2","gpos50"],[733e5,748e5,"p13.1","gneg"],[748e5,831e5,"p12","gpos100"],[831e5,918e5,"p11.2","gneg"],[918e5,939e5,"p11.1","acen"],[939e5,96e6,"q11.1","acen"],[96e6,1021e5,"q11.2","gneg"],[1021e5,1053e5,"q12.1","gpos50"],[1053e5,1067e5,"q12.2","gneg"],[1067e5,1087e5,"q12.3","gpos25"],[1087e5,1122e5,"q13","gneg"],[1122e5,1181e5,"q14.1","gpos50"],[1181e5,1216e5,"q14.2","gneg"],[1216e5,1291e5,"q14.3","gpos50"],[1291e5,1317e5,"q21.1","gneg"],[1317e5,1343e5,"q21.2","gpos25"],[1343e5,1361e5,"q21.3","gneg"],[1361e5,1415e5,"q22.1","gpos100"],[1415e5,1434e5,"q22.2","gneg"],[1434e5,1479e5,"q22.3","gpos100"],[1479e5,149e6,"q23.1","gneg"],[149e6,1496e5,"q23.2","gpos25"],[1496e5,154e6,"q23.3","gneg"],[154e6,1589e5,"q24.1","gpos75"],[1589e5,1629e5,"q24.2","gneg"],[1629e5,1689e5,"q24.3","gpos75"],[1689e5,1771e5,"q31.1","gneg"],[1771e5,1797e5,"q31.2","gpos50"],[1797e5,1821e5,"q31.3","gneg"],[1821e5,1885e5,"q32.1","gpos75"],[1885e5,1911e5,"q32.2","gneg"],[1911e5,1966e5,"q32.3","gpos75"],[1966e5,2025e5,"q33.1","gneg"],[2025e5,2041e5,"q33.2","gpos50"],[2041e5,2082e5,"q33.3","gneg"],[2082e5,2145e5,"q34","gpos100"],[2145e5,2207e5,"q35","gneg"],[2207e5,2243e5,"q36.1","gpos75"],[2243e5,2252e5,"q36.2","gneg"],[2252e5,2301e5,"q36.3","gpos100"],[2301e5,2347e5,"q37.1","gneg"],[2347e5,2364e5,"q37.2","gpos50"],[2364e5,242193529,"q37.3","gneg"]],3:[[0,28e5,"p26.3","gpos50"],[28e5,4e6,"p26.2","gneg"],[4e6,81e5,"p26.1","gpos50"],[81e5,116e5,"p25.3","gneg"],[116e5,132e5,"p25.2","gpos25"],[132e5,163e5,"p25.1","gneg"],[163e5,238e5,"p24.3","gpos100"],[238e5,263e5,"p24.2","gneg"],[263e5,308e5,"p24.1","gpos75"],[308e5,32e6,"p23","gneg"],[32e6,364e5,"p22.3","gpos50"],[364e5,393e5,"p22.2","gneg"],[393e5,436e5,"p22.1","gpos75"],[436e5,441e5,"p21.33","gneg"],[441e5,442e5,"p21.32","gpos50"],[442e5,506e5,"p21.31","gneg"],[506e5,523e5,"p21.2","gpos25"],[523e5,544e5,"p21.1","gneg"],[544e5,586e5,"p14.3","gpos50"],[586e5,638e5,"p14.2","gneg"],[638e5,697e5,"p14.1","gpos50"],[697e5,741e5,"p13","gneg"],[741e5,798e5,"p12.3","gpos75"],[798e5,835e5,"p12.2","gneg"],[835e5,871e5,"p12.1","gpos75"],[871e5,878e5,"p11.2","gneg"],[878e5,909e5,"p11.1","acen"],[909e5,94e6,"q11.1","acen"],[94e6,986e5,"q11.2","gvar"],[986e5,1003e5,"q12.1","gneg"],[1003e5,1012e5,"q12.2","gpos25"],[1012e5,1031e5,"q12.3","gneg"],[1031e5,1065e5,"q13.11","gpos75"],[1065e5,1082e5,"q13.12","gneg"],[1082e5,1116e5,"q13.13","gpos50"],[1116e5,1137e5,"q13.2","gneg"],[1137e5,1176e5,"q13.31","gpos75"],[1176e5,1193e5,"q13.32","gneg"],[1193e5,1222e5,"q13.33","gpos75"],[1222e5,1241e5,"q21.1","gneg"],[1241e5,1261e5,"q21.2","gpos25"],[1261e5,1295e5,"q21.3","gneg"],[1295e5,134e6,"q22.1","gpos25"],[134e6,136e6,"q22.2","gneg"],[136e6,139e6,"q22.3","gpos25"],[139e6,1431e5,"q23","gneg"],[1431e5,1492e5,"q24","gpos100"],[1492e5,1523e5,"q25.1","gneg"],[1523e5,1553e5,"q25.2","gpos50"],[1553e5,1573e5,"q25.31","gneg"],[1573e5,1593e5,"q25.32","gpos50"],[1593e5,161e6,"q25.33","gneg"],[161e6,1679e5,"q26.1","gpos100"],[1679e5,1712e5,"q26.2","gneg"],[1712e5,176e6,"q26.31","gpos75"],[176e6,1793e5,"q26.32","gneg"],[1793e5,183e6,"q26.33","gpos75"],[183e6,1848e5,"q27.1","gneg"],[1848e5,1863e5,"q27.2","gpos25"],[1863e5,1882e5,"q27.3","gneg"],[1882e5,1926e5,"q28","gpos75"],[1926e5,198295559,"q29","gneg"]],4:[[0,45e5,"p16.3","gneg"],[45e5,6e6,"p16.2","gpos25"],[6e6,113e5,"p16.1","gneg"],[113e5,15e6,"p15.33","gpos50"],[15e6,177e5,"p15.32","gneg"],[177e5,213e5,"p15.31","gpos75"],[213e5,277e5,"p15.2","gneg"],[277e5,358e5,"p15.1","gpos100"],[358e5,412e5,"p14","gneg"],[412e5,446e5,"p13","gpos50"],[446e5,482e5,"p12","gneg"],[482e5,5e7,"p11","acen"],[5e7,518e5,"q11","acen"],[518e5,585e5,"q12","gneg"],[585e5,655e5,"q13.1","gpos100"],[655e5,694e5,"q13.2","gneg"],[694e5,753e5,"q13.3","gpos75"],[753e5,78e6,"q21.1","gneg"],[78e6,815e5,"q21.21","gpos50"],[815e5,832e5,"q21.22","gneg"],[832e5,86e6,"q21.23","gpos25"],[86e6,871e5,"q21.3","gneg"],[871e5,928e5,"q22.1","gpos75"],[928e5,942e5,"q22.2","gneg"],[942e5,979e5,"q22.3","gpos75"],[979e5,1001e5,"q23","gneg"],[1001e5,1067e5,"q24","gpos50"],[1067e5,1132e5,"q25","gneg"],[1132e5,1199e5,"q26","gpos75"],[1199e5,1228e5,"q27","gneg"],[1228e5,1279e5,"q28.1","gpos50"],[1279e5,1301e5,"q28.2","gneg"],[1301e5,1385e5,"q28.3","gpos100"],[1385e5,1406e5,"q31.1","gneg"],[1406e5,1459e5,"q31.21","gpos25"],[1459e5,1475e5,"q31.22","gneg"],[1475e5,1502e5,"q31.23","gpos25"],[1502e5,1546e5,"q31.3","gneg"],[1546e5,1608e5,"q32.1","gpos100"],[1608e5,1636e5,"q32.2","gneg"],[1636e5,1692e5,"q32.3","gpos100"],[1692e5,171e6,"q33","gneg"],[171e6,1754e5,"q34.1","gpos75"],[1754e5,1766e5,"q34.2","gneg"],[1766e5,1823e5,"q34.3","gpos100"],[1823e5,1862e5,"q35.1","gneg"],[1862e5,190214555,"q35.2","gpos25"]],5:[[0,44e5,"p15.33","gneg"],[44e5,63e5,"p15.32","gpos25"],[63e5,99e5,"p15.31","gneg"],[99e5,15e6,"p15.2","gpos50"],[15e6,184e5,"p15.1","gneg"],[184e5,233e5,"p14.3","gpos100"],[233e5,246e5,"p14.2","gneg"],[246e5,289e5,"p14.1","gpos100"],[289e5,338e5,"p13.3","gneg"],[338e5,384e5,"p13.2","gpos25"],[384e5,425e5,"p13.1","gneg"],[425e5,461e5,"p12","gpos50"],[461e5,488e5,"p11","acen"],[488e5,514e5,"q11.1","acen"],[514e5,596e5,"q11.2","gneg"],[596e5,636e5,"q12.1","gpos75"],[636e5,639e5,"q12.2","gneg"],[639e5,674e5,"q12.3","gpos75"],[674e5,691e5,"q13.1","gneg"],[691e5,74e6,"q13.2","gpos50"],[74e6,776e5,"q13.3","gneg"],[776e5,821e5,"q14.1","gpos50"],[821e5,835e5,"q14.2","gneg"],[835e5,93e6,"q14.3","gpos100"],[93e6,989e5,"q15","gneg"],[989e5,1034e5,"q21.1","gpos100"],[1034e5,1051e5,"q21.2","gneg"],[1051e5,1102e5,"q21.3","gpos100"],[1102e5,1122e5,"q22.1","gneg"],[1122e5,1138e5,"q22.2","gpos50"],[1138e5,1159e5,"q22.3","gneg"],[1159e5,1221e5,"q23.1","gpos100"],[1221e5,1279e5,"q23.2","gneg"],[1279e5,1312e5,"q23.3","gpos100"],[1312e5,1369e5,"q31.1","gneg"],[1369e5,1401e5,"q31.2","gpos25"],[1401e5,1451e5,"q31.3","gneg"],[1451e5,1504e5,"q32","gpos75"],[1504e5,1533e5,"q33.1","gneg"],[1533e5,1563e5,"q33.2","gpos50"],[1563e5,1605e5,"q33.3","gneg"],[1605e5,169e6,"q34","gpos100"],[169e6,1733e5,"q35.1","gneg"],[1733e5,1771e5,"q35.2","gpos25"],[1771e5,181538259,"q35.3","gneg"]],6:[[0,23e5,"p25.3","gneg"],[23e5,42e5,"p25.2","gpos25"],[42e5,71e5,"p25.1","gneg"],[71e5,106e5,"p24.3","gpos50"],[106e5,116e5,"p24.2","gneg"],[116e5,134e5,"p24.1","gpos25"],[134e5,152e5,"p23","gneg"],[152e5,252e5,"p22.3","gpos75"],[252e5,271e5,"p22.2","gneg"],[271e5,305e5,"p22.1","gpos50"],[305e5,321e5,"p21.33","gneg"],[321e5,335e5,"p21.32","gpos25"],[335e5,366e5,"p21.31","gneg"],[366e5,405e5,"p21.2","gpos25"],[405e5,462e5,"p21.1","gneg"],[462e5,518e5,"p12.3","gpos100"],[518e5,53e6,"p12.2","gneg"],[53e6,572e5,"p12.1","gpos100"],[572e5,585e5,"p11.2","gneg"],[585e5,598e5,"p11.1","acen"],[598e5,626e5,"q11.1","acen"],[626e5,627e5,"q11.2","gneg"],[627e5,692e5,"q12","gpos100"],[692e5,752e5,"q13","gneg"],[752e5,832e5,"q14.1","gpos50"],[832e5,842e5,"q14.2","gneg"],[842e5,873e5,"q14.3","gpos50"],[873e5,925e5,"q15","gneg"],[925e5,989e5,"q16.1","gpos100"],[989e5,1e8,"q16.2","gneg"],[1e8,105e6,"q16.3","gpos100"],[105e6,1142e5,"q21","gneg"],[1142e5,1179e5,"q22.1","gpos75"],[1179e5,1181e5,"q22.2","gneg"],[1181e5,1258e5,"q22.31","gpos100"],[1258e5,1268e5,"q22.32","gneg"],[1268e5,13e7,"q22.33","gpos75"],[13e7,1309e5,"q23.1","gneg"],[1309e5,1347e5,"q23.2","gpos50"],[1347e5,1383e5,"q23.3","gneg"],[1383e5,1422e5,"q24.1","gpos75"],[1422e5,1451e5,"q24.2","gneg"],[1451e5,1485e5,"q24.3","gpos75"],[1485e5,1521e5,"q25.1","gneg"],[1521e5,1552e5,"q25.2","gpos50"],[1552e5,1606e5,"q25.3","gneg"],[1606e5,1641e5,"q26","gpos50"],[1641e5,170805979,"q27","gneg"]],7:[[0,28e5,"p22.3","gneg"],[28e5,45e5,"p22.2","gpos25"],[45e5,72e5,"p22.1","gneg"],[72e5,137e5,"p21.3","gpos100"],[137e5,165e5,"p21.2","gneg"],[165e5,209e5,"p21.1","gpos100"],[209e5,255e5,"p15.3","gneg"],[255e5,279e5,"p15.2","gpos50"],[279e5,288e5,"p15.1","gneg"],[288e5,349e5,"p14.3","gpos75"],[349e5,371e5,"p14.2","gneg"],[371e5,433e5,"p14.1","gpos75"],[433e5,454e5,"p13","gneg"],[454e5,49e6,"p12.3","gpos75"],[49e6,505e5,"p12.2","gneg"],[505e5,539e5,"p12.1","gpos75"],[539e5,581e5,"p11.2","gneg"],[581e5,601e5,"p11.1","acen"],[601e5,621e5,"q11.1","acen"],[621e5,675e5,"q11.21","gneg"],[675e5,727e5,"q11.22","gpos50"],[727e5,779e5,"q11.23","gneg"],[779e5,867e5,"q21.11","gpos100"],[867e5,885e5,"q21.12","gneg"],[885e5,915e5,"q21.13","gpos75"],[915e5,933e5,"q21.2","gneg"],[933e5,984e5,"q21.3","gpos75"],[984e5,1042e5,"q22.1","gneg"],[1042e5,1049e5,"q22.2","gpos50"],[1049e5,1078e5,"q22.3","gneg"],[1078e5,115e6,"q31.1","gpos75"],[115e6,1177e5,"q31.2","gneg"],[1177e5,1214e5,"q31.31","gpos75"],[1214e5,1241e5,"q31.32","gneg"],[1241e5,1275e5,"q31.33","gpos75"],[1275e5,1296e5,"q32.1","gneg"],[1296e5,1308e5,"q32.2","gpos25"],[1308e5,1329e5,"q32.3","gneg"],[1329e5,1385e5,"q33","gpos50"],[1385e5,1434e5,"q34","gneg"],[1434e5,1482e5,"q35","gpos75"],[1482e5,1528e5,"q36.1","gneg"],[1528e5,1552e5,"q36.2","gpos25"],[1552e5,159345973,"q36.3","gneg"]],8:[[0,23e5,"p23.3","gneg"],[23e5,63e5,"p23.2","gpos75"],[63e5,128e5,"p23.1","gneg"],[128e5,192e5,"p22","gpos100"],[192e5,235e5,"p21.3","gneg"],[235e5,275e5,"p21.2","gpos50"],[275e5,29e6,"p21.1","gneg"],[29e6,367e5,"p12","gpos75"],[367e5,385e5,"p11.23","gneg"],[385e5,399e5,"p11.22","gpos25"],[399e5,432e5,"p11.21","gneg"],[432e5,452e5,"p11.1","acen"],[452e5,472e5,"q11.1","acen"],[472e5,513e5,"q11.21","gneg"],[513e5,517e5,"q11.22","gpos75"],[517e5,546e5,"q11.23","gneg"],[546e5,606e5,"q12.1","gpos50"],[606e5,613e5,"q12.2","gneg"],[613e5,651e5,"q12.3","gpos50"],[651e5,671e5,"q13.1","gneg"],[671e5,696e5,"q13.2","gpos50"],[696e5,72e6,"q13.3","gneg"],[72e6,746e5,"q21.11","gpos100"],[746e5,747e5,"q21.12","gneg"],[747e5,835e5,"q21.13","gpos75"],[835e5,859e5,"q21.2","gneg"],[859e5,923e5,"q21.3","gpos100"],[923e5,979e5,"q22.1","gneg"],[979e5,1005e5,"q22.2","gpos25"],[1005e5,1051e5,"q22.3","gneg"],[1051e5,1095e5,"q23.1","gpos75"],[1095e5,1111e5,"q23.2","gneg"],[1111e5,1167e5,"q23.3","gpos100"],[1167e5,1183e5,"q24.11","gneg"],[1183e5,1215e5,"q24.12","gpos50"],[1215e5,1263e5,"q24.13","gneg"],[1263e5,1304e5,"q24.21","gpos50"],[1304e5,1354e5,"q24.22","gneg"],[1354e5,1389e5,"q24.23","gpos75"],[1389e5,145138636,"q24.3","gneg"]],9:[[0,22e5,"p24.3","gneg"],[22e5,46e5,"p24.2","gpos25"],[46e5,9e6,"p24.1","gneg"],[9e6,142e5,"p23","gpos75"],[142e5,166e5,"p22.3","gneg"],[166e5,185e5,"p22.2","gpos25"],[185e5,199e5,"p22.1","gneg"],[199e5,256e5,"p21.3","gpos100"],[256e5,28e6,"p21.2","gneg"],[28e6,332e5,"p21.1","gpos100"],[332e5,363e5,"p13.3","gneg"],[363e5,379e5,"p13.2","gpos25"],[379e5,39e6,"p13.1","gneg"],[39e6,4e7,"p12","gpos50"],[4e7,422e5,"p11.2","gneg"],[422e5,43e6,"p11.1","acen"],[43e6,455e5,"q11","acen"],[455e5,615e5,"q12","gvar"],[615e5,65e6,"q13","gneg"],[65e6,693e5,"q21.11","gpos25"],[693e5,713e5,"q21.12","gneg"],[713e5,766e5,"q21.13","gpos50"],[766e5,785e5,"q21.2","gneg"],[785e5,815e5,"q21.31","gpos50"],[815e5,843e5,"q21.32","gneg"],[843e5,878e5,"q21.33","gpos50"],[878e5,892e5,"q22.1","gneg"],[892e5,912e5,"q22.2","gpos25"],[912e5,939e5,"q22.31","gneg"],[939e5,965e5,"q22.32","gpos25"],[965e5,998e5,"q22.33","gneg"],[998e5,1054e5,"q31.1","gpos100"],[1054e5,1085e5,"q31.2","gneg"],[1085e5,1121e5,"q31.3","gpos25"],[1121e5,1149e5,"q32","gneg"],[1149e5,1198e5,"q33.1","gpos75"],[1198e5,1231e5,"q33.2","gneg"],[1231e5,1275e5,"q33.3","gpos25"],[1275e5,1306e5,"q34.11","gneg"],[1306e5,1311e5,"q34.12","gpos25"],[1311e5,1331e5,"q34.13","gneg"],[1331e5,1345e5,"q34.2","gpos25"],[1345e5,138394717,"q34.3","gneg"]],10:[[0,3e6,"p15.3","gneg"],[3e6,38e5,"p15.2","gpos25"],[38e5,66e5,"p15.1","gneg"],[66e5,122e5,"p14","gpos75"],[122e5,173e5,"p13","gneg"],[173e5,183e5,"p12.33","gpos75"],[183e5,184e5,"p12.32","gneg"],[184e5,223e5,"p12.31","gpos75"],[223e5,243e5,"p12.2","gneg"],[243e5,293e5,"p12.1","gpos50"],[293e5,311e5,"p11.23","gneg"],[311e5,342e5,"p11.22","gpos25"],[342e5,38e6,"p11.21","gneg"],[38e6,398e5,"p11.1","acen"],[398e5,416e5,"q11.1","acen"],[416e5,455e5,"q11.21","gneg"],[455e5,486e5,"q11.22","gpos25"],[486e5,511e5,"q11.23","gneg"],[511e5,594e5,"q21.1","gpos100"],[594e5,628e5,"q21.2","gneg"],[628e5,688e5,"q21.3","gpos100"],[688e5,731e5,"q22.1","gneg"],[731e5,759e5,"q22.2","gpos50"],[759e5,803e5,"q22.3","gneg"],[803e5,861e5,"q23.1","gpos100"],[861e5,877e5,"q23.2","gneg"],[877e5,911e5,"q23.31","gpos75"],[911e5,923e5,"q23.32","gneg"],[923e5,953e5,"q23.33","gpos50"],[953e5,975e5,"q24.1","gneg"],[975e5,1001e5,"q24.2","gpos50"],[1001e5,1012e5,"q24.31","gneg"],[1012e5,1031e5,"q24.32","gpos25"],[1031e5,104e6,"q24.33","gneg"],[104e6,1101e5,"q25.1","gpos100"],[1101e5,1131e5,"q25.2","gneg"],[1131e5,1173e5,"q25.3","gpos75"],[1173e5,1199e5,"q26.11","gneg"],[1199e5,1214e5,"q26.12","gpos50"],[1214e5,1257e5,"q26.13","gneg"],[1257e5,1288e5,"q26.2","gpos50"],[1288e5,133797422,"q26.3","gneg"]],11:[[0,28e5,"p15.5","gneg"],[28e5,117e5,"p15.4","gpos50"],[117e5,138e5,"p15.3","gneg"],[138e5,169e5,"p15.2","gpos50"],[169e5,22e6,"p15.1","gneg"],[22e6,262e5,"p14.3","gpos100"],[262e5,272e5,"p14.2","gneg"],[272e5,31e6,"p14.1","gpos75"],[31e6,364e5,"p13","gneg"],[364e5,434e5,"p12","gpos100"],[434e5,488e5,"p11.2","gneg"],[488e5,51e6,"p11.12","gpos75"],[51e6,534e5,"p11.11","acen"],[534e5,558e5,"q11","acen"],[558e5,601e5,"q12.1","gpos75"],[601e5,619e5,"q12.2","gneg"],[619e5,636e5,"q12.3","gpos25"],[636e5,661e5,"q13.1","gneg"],[661e5,687e5,"q13.2","gpos25"],[687e5,705e5,"q13.3","gneg"],[705e5,755e5,"q13.4","gpos50"],[755e5,774e5,"q13.5","gneg"],[774e5,859e5,"q14.1","gpos100"],[859e5,886e5,"q14.2","gneg"],[886e5,93e6,"q14.3","gpos100"],[93e6,974e5,"q21","gneg"],[974e5,1023e5,"q22.1","gpos100"],[1023e5,103e6,"q22.2","gneg"],[103e6,1106e5,"q22.3","gpos100"],[1106e5,1127e5,"q23.1","gneg"],[1127e5,1146e5,"q23.2","gpos50"],[1146e5,1213e5,"q23.3","gneg"],[1213e5,124e6,"q24.1","gpos50"],[124e6,1279e5,"q24.2","gneg"],[1279e5,1309e5,"q24.3","gpos50"],[1309e5,135086622,"q25","gneg"]],12:[[0,32e5,"p13.33","gneg"],[32e5,53e5,"p13.32","gpos25"],[53e5,1e7,"p13.31","gneg"],[1e7,126e5,"p13.2","gpos75"],[126e5,146e5,"p13.1","gneg"],[146e5,198e5,"p12.3","gpos100"],[198e5,211e5,"p12.2","gneg"],[211e5,263e5,"p12.1","gpos100"],[263e5,276e5,"p11.23","gneg"],[276e5,305e5,"p11.22","gpos50"],[305e5,332e5,"p11.21","gneg"],[332e5,355e5,"p11.1","acen"],[355e5,378e5,"q11","acen"],[378e5,46e6,"q12","gpos100"],[46e6,487e5,"q13.11","gneg"],[487e5,511e5,"q13.12","gpos25"],[511e5,545e5,"q13.13","gneg"],[545e5,562e5,"q13.2","gpos25"],[562e5,577e5,"q13.3","gneg"],[577e5,627e5,"q14.1","gpos75"],[627e5,647e5,"q14.2","gneg"],[647e5,673e5,"q14.3","gpos50"],[673e5,711e5,"q15","gneg"],[711e5,753e5,"q21.1","gpos75"],[753e5,799e5,"q21.2","gneg"],[799e5,863e5,"q21.31","gpos100"],[863e5,886e5,"q21.32","gneg"],[886e5,922e5,"q21.33","gpos100"],[922e5,958e5,"q22","gneg"],[958e5,1012e5,"q23.1","gpos75"],[1012e5,1035e5,"q23.2","gneg"],[1035e5,1086e5,"q23.3","gpos50"],[1086e5,1113e5,"q24.11","gneg"],[1113e5,1119e5,"q24.12","gpos25"],[1119e5,1139e5,"q24.13","gneg"],[1139e5,1164e5,"q24.21","gpos50"],[1164e5,1177e5,"q24.22","gneg"],[1177e5,1203e5,"q24.23","gpos50"],[1203e5,1254e5,"q24.31","gneg"],[1254e5,1287e5,"q24.32","gpos50"],[1287e5,133275309,"q24.33","gneg"]],13:[[0,46e5,"p13","gvar"],[46e5,101e5,"p12","stalk"],[101e5,165e5,"p11.2","gvar"],[165e5,177e5,"p11.1","acen"],[177e5,189e5,"q11","acen"],[189e5,226e5,"q12.11","gneg"],[226e5,249e5,"q12.12","gpos25"],[249e5,272e5,"q12.13","gneg"],[272e5,283e5,"q12.2","gpos25"],[283e5,316e5,"q12.3","gneg"],[316e5,334e5,"q13.1","gpos50"],[334e5,349e5,"q13.2","gneg"],[349e5,395e5,"q13.3","gpos75"],[395e5,446e5,"q14.11","gneg"],[446e5,452e5,"q14.12","gpos25"],[452e5,467e5,"q14.13","gneg"],[467e5,503e5,"q14.2","gpos50"],[503e5,547e5,"q14.3","gneg"],[547e5,59e6,"q21.1","gpos100"],[59e6,618e5,"q21.2","gneg"],[618e5,652e5,"q21.31","gpos75"],[652e5,681e5,"q21.32","gneg"],[681e5,728e5,"q21.33","gpos100"],[728e5,749e5,"q22.1","gneg"],[749e5,767e5,"q22.2","gpos50"],[767e5,785e5,"q22.3","gneg"],[785e5,871e5,"q31.1","gpos100"],[871e5,894e5,"q31.2","gneg"],[894e5,944e5,"q31.3","gpos100"],[944e5,975e5,"q32.1","gneg"],[975e5,987e5,"q32.2","gpos25"],[987e5,1011e5,"q32.3","gneg"],[1011e5,1042e5,"q33.1","gpos100"],[1042e5,1064e5,"q33.2","gneg"],[1064e5,1096e5,"q33.3","gpos100"],[1096e5,114364328,"q34","gneg"]],14:[[0,36e5,"p13","gvar"],[36e5,8e6,"p12","stalk"],[8e6,161e5,"p11.2","gvar"],[161e5,172e5,"p11.1","acen"],[172e5,182e5,"q11.1","acen"],[182e5,241e5,"q11.2","gneg"],[241e5,329e5,"q12","gpos100"],[329e5,348e5,"q13.1","gneg"],[348e5,361e5,"q13.2","gpos50"],[361e5,374e5,"q13.3","gneg"],[374e5,43e6,"q21.1","gpos100"],[43e6,467e5,"q21.2","gneg"],[467e5,504e5,"q21.3","gpos100"],[504e5,536e5,"q22.1","gneg"],[536e5,55e6,"q22.2","gpos25"],[55e6,576e5,"q22.3","gneg"],[576e5,616e5,"q23.1","gpos75"],[616e5,643e5,"q23.2","gneg"],[643e5,674e5,"q23.3","gpos50"],[674e5,698e5,"q24.1","gneg"],[698e5,733e5,"q24.2","gpos50"],[733e5,788e5,"q24.3","gneg"],[788e5,831e5,"q31.1","gpos100"],[831e5,844e5,"q31.2","gneg"],[844e5,893e5,"q31.3","gpos100"],[893e5,914e5,"q32.11","gneg"],[914e5,942e5,"q32.12","gpos25"],[942e5,958e5,"q32.13","gneg"],[958e5,1009e5,"q32.2","gpos50"],[1009e5,1027e5,"q32.31","gneg"],[1027e5,1035e5,"q32.32","gpos50"],[1035e5,107043718,"q32.33","gneg"]],15:[[0,42e5,"p13","gvar"],[42e5,97e5,"p12","stalk"],[97e5,175e5,"p11.2","gvar"],[175e5,19e6,"p11.1","acen"],[19e6,205e5,"q11.1","acen"],[205e5,255e5,"q11.2","gneg"],[255e5,278e5,"q12","gpos50"],[278e5,3e7,"q13.1","gneg"],[3e7,309e5,"q13.2","gpos50"],[309e5,334e5,"q13.3","gneg"],[334e5,398e5,"q14","gpos75"],[398e5,425e5,"q15.1","gneg"],[425e5,433e5,"q15.2","gpos25"],[433e5,445e5,"q15.3","gneg"],[445e5,492e5,"q21.1","gpos75"],[492e5,526e5,"q21.2","gneg"],[526e5,588e5,"q21.3","gpos75"],[588e5,59e6,"q22.1","gneg"],[59e6,634e5,"q22.2","gpos25"],[634e5,669e5,"q22.31","gneg"],[669e5,67e6,"q22.32","gpos25"],[67e6,672e5,"q22.33","gneg"],[672e5,724e5,"q23","gpos25"],[724e5,749e5,"q24.1","gneg"],[749e5,763e5,"q24.2","gpos25"],[763e5,78e6,"q24.3","gneg"],[78e6,814e5,"q25.1","gpos50"],[814e5,847e5,"q25.2","gneg"],[847e5,885e5,"q25.3","gpos50"],[885e5,938e5,"q26.1","gneg"],[938e5,98e6,"q26.2","gpos50"],[98e6,101991189,"q26.3","gneg"]],16:[[0,78e5,"p13.3","gneg"],[78e5,104e5,"p13.2","gpos50"],[104e5,125e5,"p13.13","gneg"],[125e5,147e5,"p13.12","gpos50"],[147e5,167e5,"p13.11","gneg"],[167e5,212e5,"p12.3","gpos50"],[212e5,242e5,"p12.2","gneg"],[242e5,285e5,"p12.1","gpos50"],[285e5,353e5,"p11.2","gneg"],[353e5,368e5,"p11.1","acen"],[368e5,384e5,"q11.1","acen"],[384e5,47e6,"q11.2","gvar"],[47e6,526e5,"q12.1","gneg"],[526e5,56e6,"q12.2","gpos50"],[56e6,573e5,"q13","gneg"],[573e5,666e5,"q21","gpos100"],[666e5,708e5,"q22.1","gneg"],[708e5,728e5,"q22.2","gpos50"],[728e5,741e5,"q22.3","gneg"],[741e5,792e5,"q23.1","gpos75"],[792e5,816e5,"q23.2","gneg"],[816e5,841e5,"q23.3","gpos50"],[841e5,87e6,"q24.1","gneg"],[87e6,887e5,"q24.2","gpos25"],[887e5,90338345,"q24.3","gneg"]],17:[[0,34e5,"p13.3","gneg"],[34e5,65e5,"p13.2","gpos50"],[65e5,108e5,"p13.1","gneg"],[108e5,161e5,"p12","gpos75"],[161e5,227e5,"p11.2","gneg"],[227e5,251e5,"p11.1","acen"],[251e5,274e5,"q11.1","acen"],[274e5,335e5,"q11.2","gneg"],[335e5,398e5,"q12","gpos50"],[398e5,402e5,"q21.1","gneg"],[402e5,428e5,"q21.2","gpos25"],[428e5,468e5,"q21.31","gneg"],[468e5,493e5,"q21.32","gpos25"],[493e5,521e5,"q21.33","gneg"],[521e5,595e5,"q22","gpos75"],[595e5,602e5,"q23.1","gneg"],[602e5,631e5,"q23.2","gpos75"],[631e5,646e5,"q23.3","gneg"],[646e5,662e5,"q24.1","gpos50"],[662e5,691e5,"q24.2","gneg"],[691e5,729e5,"q24.3","gpos75"],[729e5,768e5,"q25.1","gneg"],[768e5,772e5,"q25.2","gpos25"],[772e5,83257441,"q25.3","gneg"]],18:[[0,29e5,"p11.32","gneg"],[29e5,72e5,"p11.31","gpos50"],[72e5,85e5,"p11.23","gneg"],[85e5,109e5,"p11.22","gpos25"],[109e5,154e5,"p11.21","gneg"],[154e5,185e5,"p11.1","acen"],[185e5,215e5,"q11.1","acen"],[215e5,275e5,"q11.2","gneg"],[275e5,351e5,"q12.1","gpos100"],[351e5,395e5,"q12.2","gneg"],[395e5,459e5,"q12.3","gpos75"],[459e5,507e5,"q21.1","gneg"],[507e5,562e5,"q21.2","gpos75"],[562e5,586e5,"q21.31","gneg"],[586e5,613e5,"q21.32","gpos50"],[613e5,639e5,"q21.33","gneg"],[639e5,691e5,"q22.1","gpos100"],[691e5,71e6,"q22.2","gneg"],[71e6,754e5,"q22.3","gpos25"],[754e5,80373285,"q23","gneg"]],19:[[0,69e5,"p13.3","gneg"],[69e5,126e5,"p13.2","gpos25"],[126e5,138e5,"p13.13","gneg"],[138e5,161e5,"p13.12","gpos25"],[161e5,199e5,"p13.11","gneg"],[199e5,242e5,"p12","gvar"],[242e5,262e5,"p11","acen"],[262e5,281e5,"q11","acen"],[281e5,319e5,"q12","gvar"],[319e5,351e5,"q13.11","gneg"],[351e5,378e5,"q13.12","gpos25"],[378e5,382e5,"q13.13","gneg"],[382e5,429e5,"q13.2","gpos25"],[429e5,447e5,"q13.31","gneg"],[447e5,475e5,"q13.32","gpos25"],[475e5,509e5,"q13.33","gneg"],[509e5,531e5,"q13.41","gpos25"],[531e5,558e5,"q13.42","gneg"],[558e5,58617616,"q13.43","gpos25"]],20:[[0,51e5,"p13","gneg"],[51e5,92e5,"p12.3","gpos75"],[92e5,12e6,"p12.2","gneg"],[12e6,179e5,"p12.1","gpos75"],[179e5,213e5,"p11.23","gneg"],[213e5,223e5,"p11.22","gpos25"],[223e5,257e5,"p11.21","gneg"],[257e5,281e5,"p11.1","acen"],[281e5,304e5,"q11.1","acen"],[304e5,335e5,"q11.21","gneg"],[335e5,358e5,"q11.22","gpos25"],[358e5,39e6,"q11.23","gneg"],[39e6,431e5,"q12","gpos75"],[431e5,435e5,"q13.11","gneg"],[435e5,478e5,"q13.12","gpos25"],[478e5,512e5,"q13.13","gneg"],[512e5,564e5,"q13.2","gpos75"],[564e5,578e5,"q13.31","gneg"],[578e5,597e5,"q13.32","gpos50"],[597e5,64444167,"q13.33","gneg"]],21:[[0,31e5,"p13","gvar"],[31e5,7e6,"p12","stalk"],[7e6,109e5,"p11.2","gvar"],[109e5,12e6,"p11.1","acen"],[12e6,13e6,"q11.1","acen"],[13e6,15e6,"q11.2","gneg"],[15e6,226e5,"q21.1","gpos100"],[226e5,255e5,"q21.2","gneg"],[255e5,302e5,"q21.3","gpos75"],[302e5,344e5,"q22.11","gneg"],[344e5,364e5,"q22.12","gpos50"],[364e5,383e5,"q22.13","gneg"],[383e5,412e5,"q22.2","gpos50"],[412e5,46709983,"q22.3","gneg"]],22:[[0,43e5,"p13","gvar"],[43e5,94e5,"p12","stalk"],[94e5,137e5,"p11.2","gvar"],[137e5,15e6,"p11.1","acen"],[15e6,174e5,"q11.1","acen"],[174e5,217e5,"q11.21","gneg"],[217e5,231e5,"q11.22","gpos25"],[231e5,255e5,"q11.23","gneg"],[255e5,292e5,"q12.1","gpos50"],[292e5,318e5,"q12.2","gneg"],[318e5,372e5,"q12.3","gpos50"],[372e5,406e5,"q13.1","gneg"],[406e5,438e5,"q13.2","gpos50"],[438e5,481e5,"q13.31","gneg"],[481e5,491e5,"q13.32","gpos50"],[491e5,50818468,"q13.33","gneg"]],X:[[0,44e5,"p22.33","gneg"],[44e5,61e5,"p22.32","gpos50"],[61e5,96e5,"p22.31","gneg"],[96e5,174e5,"p22.2","gpos50"],[174e5,192e5,"p22.13","gneg"],[192e5,219e5,"p22.12","gpos50"],[219e5,249e5,"p22.11","gneg"],[249e5,293e5,"p21.3","gpos100"],[293e5,315e5,"p21.2","gneg"],[315e5,378e5,"p21.1","gpos100"],[378e5,425e5,"p11.4","gneg"],[425e5,476e5,"p11.3","gpos75"],[476e5,501e5,"p11.23","gneg"],[501e5,548e5,"p11.22","gpos25"],[548e5,581e5,"p11.21","gneg"],[581e5,61e6,"p11.1","acen"],[61e6,638e5,"q11.1","acen"],[638e5,654e5,"q11.2","gneg"],[654e5,685e5,"q12","gpos50"],[685e5,73e6,"q13.1","gneg"],[73e6,747e5,"q13.2","gpos50"],[747e5,768e5,"q13.3","gneg"],[768e5,854e5,"q21.1","gpos100"],[854e5,87e6,"q21.2","gneg"],[87e6,927e5,"q21.31","gpos100"],[927e5,943e5,"q21.32","gneg"],[943e5,991e5,"q21.33","gpos75"],[991e5,1033e5,"q22.1","gneg"],[1033e5,1045e5,"q22.2","gpos50"],[1045e5,1094e5,"q22.3","gneg"],[1094e5,1174e5,"q23","gpos75"],[1174e5,1218e5,"q24","gneg"],[1218e5,1295e5,"q25","gpos100"],[1295e5,1313e5,"q26.1","gneg"],[1313e5,1345e5,"q26.2","gpos25"],[1345e5,1389e5,"q26.3","gneg"],[1389e5,1412e5,"q27.1","gpos75"],[1412e5,143e6,"q27.2","gneg"],[143e6,148e6,"q27.3","gpos100"],[148e6,156040895,"q28","gneg"]],Y:[[0,3e5,"p11.32","gneg"],[3e5,6e5,"p11.31","gpos50"],[6e5,103e5,"p11.2","gneg"],[103e5,104e5,"p11.1","acen"],[104e5,106e5,"q11.1","acen"],[106e5,124e5,"q11.21","gneg"],[124e5,171e5,"q11.221","gpos50"],[171e5,196e5,"q11.222","gneg"],[196e5,238e5,"q11.223","gpos50"],[238e5,266e5,"q11.23","gneg"],[266e5,57227415,"q12","gvar"]]}}},CanvasXpress.graphTypes={Area:["Area"],AreaLine:["AreaLine"],Bar:["Bar"],BarLine:["BarLine"],Boxplot:["Boxplot"],Fish:["Fish"],Gantt:["Gantt"],Circular:["Circular"],Correlation:["Correlation"],DotLine:["DotLine"],Dotplot:["Dotplot"],Genome:["Genome"],Heatmap:["Heatmap"],Line:["Line"],Map:["Map"],Meter:["Meter"],Network:["Network"],ParallelCoordinates:["ParallelCoordinates"],Pie:["Pie"],Sankey:["Sankey"],Scatter2D:["Scatter2D"],ScatterBubble2D:["ScatterBubble2D"],Scatter3D:["Scatter3D"],Stacked:["Stacked"],StackedLine:["StackedLine"],StackedPercent:["StackedPercent"],StackedPercentLine:["StackedPercentLine"],TagCloud:["TagCloud"],Tree:["Tree"],Treemap:["Treemap"],Venn:["Venn"],DotGraphs:["Boxplot","DotLine","Dotplot"],LineGraphs:["AreaLine","BarLine","DotLine","Line","ParallelCoordinates","StackedLine","StackedPercentLine"],ScatterGraphs:["Scatter2D","ScatterBubble2D","Scatter3D"],StackedGraphs:["Stacked","StackedLine","StackedPercent","StackedPercentLine"],OneDPlots:["Area","AreaLine","Bar","BarLine","Boxplot","Gantt","Meter","DotLine","Dotplot","Heatmap","Line","ParallelCoordinates","Sankey","Stacked","StackedLine","StackedPercent","StackedPercentLine","TagCloud","Tree","Treemap"],OneDGraphs:["Area","AreaLine","Bar","BarLine","Boxplot","Gantt","Meter","DotLine","Dotplot","Heatmap","Line","ParallelCoordinates","Stacked","StackedLine","StackedPercent","StackedPercentLine"],OneTwoThreeeDGraphs:["Area","AreaLine","Bar","BarLine","Boxplot","Fish","Gantt","Meter","Circular","DotLine","Dotplot","Heatmap","Line","ParallelCoordinates","Pie","Scatter2D","ScatterBubble2D","Scatter3D","Stacked","StackedLine","StackedPercent","StackedPercentLine","Treemap"],AllGraphs:["Area","AreaLine","Bar","BarLine","Boxplot","Gantt","Fish","Meter","Circular","Correlation","DotLine","Dotplot","Genome","Heatmap","Line","Map","Network","ParallelCoordinates","Pie","Sankey","Scatter2D","ScatterBubble2D","Scatter3D","Stacked","StackedLine","StackedPercent","StackedPercentLine","TagCloud","Tree","Treemap","Venn"],AGraphs:["Area","AreaLine","Bar","BarLine","Boxplot","Gantt","Fish","Meter","Circular","Correlation","DotLine","Dotplot","Heatmap","Line","Map","ParallelCoordinates","Sankey","Scatter2D","ScatterBubble2D","Scatter3D","Stacked","StackedLine","StackedPercent","StackedPercentLine","TagCloud","Tree","Treemap"],AttGraphs:["Bar","BarLine","Boxplot","Dotplot","Treemap","Heatmap","Stacked","StackedLine","StackedPercent","StackedPercentLine","ParallelCoordinates","Line","Sankey","Tree","TagCloud","Gantt"],NoneDGraphs:["Fish","Genome","Map","Network","Sankey","TagCloud","Tree","Treemap","Venn"],NonSegregatable:["Fish","Genome","Map","Network","Sankey","TagCloud","Tree","Treemap","Venn","Circular","Gantt"]},CanvasXpress.colorNames={aliceblue:"f0f8ff",antiquewhite1:"ffefdb",antiquewhite2:"eedfcc",antiquewhite3:"cdc0b0",antiquewhite4:"8b8378",antiquewhite:"faebd7",aqua:"00ffff",aquamarine1:"7fffd4",aquamarine2:"76eec6",aquamarine4:"458b74",aquamarine:"7fffd4",azure1:"f0ffff",azure2:"e0eeee",azure3:"c1cdcd",azure4:"838b8b",azure:"f0ffff",beige:"f5f5dc",bisque1:"ffe4c4",bisque2:"eed5b7",bisque3:"cdb79e",bisque4:"8b7d6b",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blue1:"0000ff",blue2:"0000ee",blue3:"1874cd",blue4:"00008b",blueviolet:"8a2be2",brown1:"ff4040",brown2:"ee3b3b",brown3:"cd3333",brown4:"8b2323",brown:"a52a2a",burlywood1:"ffd39b",burlywood2:"eec591",burlywood3:"cdaa7d",burlywood4:"8b7355",burlywood:"deb887",cadetblue1:"98f5ff",cadetblue2:"8ee5ee",cadetblue3:"7ac5cd",cadetblue4:"53868b",cadetblue:"5f9ea0",chartreuse1:"7fff00",chartreuse2:"76ee00",chartreuse3:"66cd00",chartreuse4:"458b00",chartreuse:"7fff00",chocolate1:"ff7f24",chocolate2:"ee7621",chocolate3:"cd661d",chocolate:"d2691e",coral1:"ff7256",coral2:"ee6a50",coral3:"cd5b45",coral4:"8b3e2f",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk1:"fff8dc",cornsilk2:"eee8cd",cornsilk3:"cdc8b1",cornsilk4:"8b8878",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",cyan1:"00ffff",cyan2:"00eeee",cyan3:"00cdcd",cyan4:"008b8b",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod1:"ffb90f",darkgoldenrod2:"eead0e",darkgoldenrod3:"cd950c",darkgoldenrod4:"8b6508",darkgoldenrod4:"8b6508",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen1:"caff70",darkolivegreen2:"bcee68",darkolivegreen3:"a2cd5a",darkolivegreen4:"6e8b3d",darkolivegreen:"556b2f",darkorange1:"ff7f00",darkorange2:"ee7600",darkorange3:"cd6600",darkorange4:"8b4500",darkorange:"ff8c00",darkorchid1:"bf3eff",darkorchid2:"b23aee",darkorchid3:"9a32cd",darkorchid4:"68228b",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen1:"c1ffc1",darkseagreen2:"b4eeb4",darkseagreen3:"9bcd9b",darkseagreen4:"698b69",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray1:"97ffff",darkslategray2:"8deeee",darkslategray:"2f4f4f",darkslategray3:"79cdcd",darkslategray4:"528b8b",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink1:"ff1493",deeppink2:"ee1289",deeppink3:"cd1076",deeppink4:"8b0a50",deeppink:"ff1493",deepskyblue:"00bfff",deepskyblue1:"00bfff",deepskyblue2:"00b2ee",deepskyblue3:"009acd",deepskyblue4:"00688b",dimgray:"696969",dimgrey:"696969",dodgerblue1:"1e90ff",dodgerblue:"1e90ff",dodgerblue2:"1c86ee",dodgerblue3:"1874cd",dodgerblue4:"104e8b",firebrick1:"ff3030",firebrick2:"ee2c2c",firebrick3:"cd2626",firebrick4:"8b1a1a",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold1:"ffd700",gold2:"eec900",gold3:"cdad00",gold4:"8b7500",goldenrod1:"ffc125",goldenrod2:"eeb422",goldenrod3:"cd9b1d",goldenrod4:"8b6914",goldenrod:"daa520",goldenrod:"daa520",gold:"ffd700",gray10:"1a1a1a",gray1:"030303",gray11:"1c1c1c",gray12:"1f1f1f",gray13:"212121",gray14:"242424",gray15:"262626",gray16:"292929",gray17:"2b2b2b",gray18:"2e2e2e",gray19:"303030",gray20:"333333",gray2:"050505",gray21:"363636",gray22:"383838",gray23:"3b3b3b",gray24:"3d3d3d",gray25:"404040",gray26:"424242",gray27:"454545",gray28:"474747",gray29:"4a4a4a",gray30:"4d4d4d",gray3:"080808",gray31:"4f4f4f",gray32:"525252",gray33:"545454",gray34:"575757",gray35:"595959",gray36:"5c5c5c",gray37:"5e5e5e",gray38:"616161",gray39:"636363",gray40:"666666",gray4:"0a0a0a",gray41:"696969",gray42:"6b6b6b",gray43:"6e6e6e",gray44:"707070",gray45:"737373",gray46:"757575",gray47:"787878",gray48:"7a7a7a",gray49:"7d7d7d",gray50:"7f7f7f",gray5:"0d0d0d",gray51:"828282",gray52:"858585",gray53:"878787",gray54:"8a8a8a",gray55:"8c8c8c",gray56:"8f8f8f",gray57:"919191",gray58:"949494",gray59:"969696",gray60:"999999",gray6:"0f0f0f",gray61:"9c9c9c",gray62:"9e9e9e",gray63:"a1a1a1",gray64:"a3a3a3",gray65:"a6a6a6",gray66:"a8a8a8",gray67:"ababab",gray68:"adadad",gray69:"b0b0b0",gray70:"b3b3b3",gray7:"121212",gray71:"b5b5b5",gray72:"b8b8b8",gray73:"bababa",gray74:"bdbdbd",gray75:"bfbfbf",gray76:"c2c2c2",gray77:"c4c4c4",gray78:"c7c7c7",gray79:"c9c9c9",gray:"808080",gray80:"cccccc",gray8:"141414",gray81:"cfcfcf",gray82:"d1d1d1",gray83:"d4d4d4",gray84:"d6d6d6",gray85:"d9d9d9",gray86:"dbdbdb",gray87:"dedede",gray88:"e0e0e0",gray89:"e3e3e3",gray90:"e5e5e5",gray9:"171717",gray91:"e8e8e8",gray92:"ebebeb",gray93:"ededed",gray94:"f0f0f0",gray95:"f2f2f2",gray97:"f7f7f7",gray98:"fafafa",gray99:"fcfcfc",gray:"bebebe",green:"008000",green1:"00ff00",green2:"00ee00",green3:"00cd00",green4:"008b00",greenyellow:"adff2f",grey:"808080",honeydew1:"f0fff0",honeydew2:"e0eee0",honeydew3:"c1cdc1",honeydew4:"838b83",honeydew:"f0fff0",hotpink1:"ff6eb4",hotpink2:"ee6aa7",hotpink3:"cd6090",hotpink4:"8b3a62",hotpink:"ff69b4",indianred1:"ff6a6a",indianred2:"ee6363",indianred3:"cd5555",indianred4:"8b3a3a",indianred:"cd5c5c",indigo:"4b0082",ivory1:"fffff0",ivory2:"eeeee0",ivory3:"cdcdc1",ivory4:"8b8b83",ivory:"fffff0",khaki1:"fff68f",khaki2:"eee685",khaki3:"cdc673",khaki4:"8b864e",khaki:"f0e68c",lavenderblush1:"fff0f5",lavenderblush2:"eee0e5",lavenderblush3:"cdc1c5",lavenderblush4:"8b8386",lavenderblush:"fff0f5",lavender:"e6e6fa",lawngreen:"7cfc00",lemonchiffon1:"fffacd",lemonchiffon2:"eee9bf",lemonchiffon3:"cdc9a5",lemonchiffon4:"8b8970",lemonchiffon:"fffacd",lightblue1:"bfefff",lightblue2:"b2dfee",lightblue3:"9ac0cd",lightblue4:"68838b",lightblue:"add8e6",lightcoral:"f08080",lightcyan1:"e0ffff",lightcyan2:"d1eeee",lightcyan3:"b4cdcd",lightcyan4:"7a8b8b",lightcyan:"e0ffff",light:"eedd82",lightgoldenrod1:"ffec8b",lightgoldenrod2:"eedc82",lightgoldenrod3:"cdbe70",lightgoldenrod4:"8b814c",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink1:"ffaeb9",lightpink2:"eea2ad",lightpink3:"cd8c95",lightpink4:"8b5f65",lightpink:"ffb6c1",lightsalmon1:"ffa07a",lightsalmon2:"ee9572",lightsalmon3:"cd8162",lightsalmon4:"8b5742",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue1:"b0e2ff",lightskyblue2:"a4d3ee",lightskyblue3:"8db6cd",lightskyblue4:"607b8b",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightslategrey:"778899",lightsteelblue1:"cae1ff",lightsteelblue2:"bcd2ee",lightsteelblue3:"a2b5cd",lightsteelblue4:"6e7b8b",lightsteelblue:"b0c4de",lightyellow1:"ffffe0",lightyellow2:"eeeed1",lightyellow3:"cdcdb4",lightyellow4:"8b8b7a",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta2:"ee00ee",magenta3:"cd00cd",magenta4:"8b008b",magenta:"ff00ff",maroon1:"ff34b3",maroon2:"ee30a7",maroon3:"cd2990",maroon4:"8b1c62",maroon:"800000",maroon:"b03060",medium:"66cdaa",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid1:"e066ff",mediumorchid2:"d15fee",mediumorchid3:"b452cd",mediumorchid4:"7a378b",mediumorchid:"ba55d3",mediumpurple1:"ab82ff",mediumpurple2:"9f79ee",mediumpurple3:"8968cd",mediumpurple4:"5d478b",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose1:"ffe4e1",mistyrose2:"eed5d2",mistyrose3:"cdb7b5",mistyrose4:"8b7d7b",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite1:"ffdead",navajowhite2:"eecfa1",navajowhite3:"cdb38b",navajowhite4:"8b795e",navajowhite:"ffdead",navy:"000080",navyblue:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab1:"c0ff3e",olivedrab2:"b3ee3a",olivedrab4:"698b22",olivedrab:"6b8e23",orange1:"ffa500",orange2:"ee9a00",orange3:"cd8500",orange4:"8b5a00",orange:"ffa500",orangered1:"ff4500",orangered2:"ee4000",orangered3:"cd3700",orangered4:"8b2500",orangered:"ff4500",orchid1:"ff83fa",orchid2:"ee7ae9",orchid3:"cd69c9",orchid4:"8b4789",orchid:"da70d6",pale:"db7093",palegoldenrod:"eee8aa",palegreen1:"9aff9a",palegreen2:"90ee90",palegreen3:"7ccd7c",palegreen4:"548b54",palegreen:"98fb98",paleturquoise1:"bbffff",paleturquoise2:"aeeeee",paleturquoise3:"96cdcd",paleturquoise4:"668b8b",paleturquoise:"afeeee",palevioletred1:"ff82ab",palevioletred2:"ee799f",palevioletred3:"cd6889",palevioletred4:"8b475d",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff1:"ffdab9",peachpuff2:"eecbad",peachpuff3:"cdaf95",peachpuff4:"8b7765",peachpuff:"ffdab9",peru:"cd853f",pink1:"ffb5c5",pink2:"eea9b8",pink3:"cd919e",pink4:"8b636c",pink:"ffc0cb",plum1:"ffbbff",plum2:"eeaeee",plum3:"cd96cd",plum4:"8b668b",plum:"dda0dd",powderblue:"b0e0e6",purple1:"9b30ff",purple2:"912cee",purple3:"7d26cd",purple4:"551a8b",purple:"800080",purple:"a020f0",rebeccapurple:"663399",red1:"ff0000",red2:"ee0000",red3:"cd0000",red4:"8b0000",red:"ff0000",rosybrown1:"ffc1c1",rosybrown2:"eeb4b4",rosybrown3:"cd9b9b",rosybrown4:"8b6969",rosybrown:"bc8f8f",royalblue1:"4876ff",royalblue2:"436eee",royalblue3:"3a5fcd",royalblue:"4169e1",royalblue4:"27408b",saddlebrown:"8b4513",salmon1:"ff8c69",salmon2:"ee8262",salmon3:"cd7054",salmon4:"8b4c39",salmon:"fa8072",sandybrown:"f4a460",seagreen1:"54ff9f",seagreen2:"4eee94",seagreen:"2e8b57",seagreen3:"43cd80",seagreen4:"2e8b57",seashell1:"fff5ee",seashell2:"eee5de",seashell3:"cdc5bf",seashell4:"8b8682",seashell:"fff5ee",sienna1:"ff8247",sienna2:"ee7942",sienna3:"cd6839",sienna4:"8b4726",sienna:"a0522d",silver:"c0c0c0",skyblue1:"87ceff",skyblue2:"7ec0ee",skyblue3:"6ca6cd",skyblue4:"4a708b",skyblue:"87ceeb",slateblue1:"836fff",slateblue2:"7a67ee",slateblue3:"6959cd",slateblue4:"473c8b",slateblue:"6a5acd",slategray1:"c6e2ff",slategray2:"b9d3ee",slategray3:"9fb6cd",slategray4:"6c7b8b",slategray:"708090",slategrey:"708090",snow1:"fffafa",snow2:"eee9e9",snow3:"cdc9c9",snow4:"8b8989",snow:"fffafa",springgreen:"00ff7f",springgreen1:"00ff7f",springgreen2:"00ee76",springgreen3:"00cd66",springgreen4:"008b45",steelblue1:"63b8ff",steelblue2:"5cacee",steelblue3:"4f94cd",steelblue4:"36648b",steelblue:"4682b4",tan1:"ffa54f",tan2:"ee9a49",tan3:"cd853f",tan4:"8b5a2b",tan:"d2b48c",teal:"008080",thistle1:"ffe1ff",thistle2:"eed2ee",thistle3:"cdb5cd",thistle4:"8b7b8b",thistle:"d8bfd8",tomato1:"ff6347",tomato2:"ee5c42",tomato3:"cd4f39",tomato4:"8b3626",tomato:"ff6347",turquoise1:"00f5ff",turquoise2:"00e5ee",turquoise3:"00c5cd",turquoise4:"00868b",turquoise:"40e0d0",violet:"ee82ee",violetred1:"ff3e96",violetred2:"ee3a8c",violetred3:"cd3278",violetred4:"8b2252",violetred:"d02090",wheat1:"ffe7ba",wheat2:"eed8ae",wheat3:"cdba96",wheat4:"8b7e66",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow1:"ffff00",yellow2:"eeee00",yellow3:"cdcd00",yellow4:"8b8b00",yellow:"ffff00",yellowgreen:"9acd32"},CanvasXpress.setColorSchemes=function(){for(var t in CanvasXpress.colorSchemes={YlGn:{3:"f7fcb9addd8e31a354",4:"ffffccc2e69978c679238443",5:"ffffccc2e69978c67931a354006837",6:"ffffccd9f0a3addd8e78c67931a354006837",7:"ffffccd9f0a3addd8e78c67941ab5d238443005a32",8:"ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32",9:"ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529"},YlGnBu:{3:"edf8b17fcdbb2c7fb8",4:"ffffcca1dab441b6c4225ea8",5:"ffffcca1dab441b6c42c7fb8253494",6:"ffffccc7e9b47fcdbb41b6c42c7fb8253494",7:"ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84",8:"ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84",9:"ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58"},GnBu:{3:"e0f3dba8ddb543a2ca",4:"f0f9e8bae4bc7bccc42b8cbe",5:"f0f9e8bae4bc7bccc443a2ca0868ac",6:"f0f9e8ccebc5a8ddb57bccc443a2ca0868ac",7:"f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e",8:"f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e",9:"f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081"},BuGn:{3:"e5f5f999d8c92ca25f",4:"edf8fbb2e2e266c2a4238b45",5:"edf8fbb2e2e266c2a42ca25f006d2c",6:"edf8fbccece699d8c966c2a42ca25f006d2c",7:"edf8fbccece699d8c966c2a441ae76238b45005824",8:"f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824",9:"f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b"},PuBuGn:{3:"ece2f0a6bddb1c9099",4:"f6eff7bdc9e167a9cf02818a",5:"f6eff7bdc9e167a9cf1c9099016c59",6:"f6eff7d0d1e6a6bddb67a9cf1c9099016c59",7:"f6eff7d0d1e6a6bddb67a9cf3690c002818a016450",8:"fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450",9:"fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636"},PuBu:{3:"ece7f2a6bddb2b8cbe",4:"f1eef6bdc9e174a9cf0570b0",5:"f1eef6bdc9e174a9cf2b8cbe045a8d",6:"f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d",7:"f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b",8:"fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b",9:"fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858"},BuPu:{3:"e0ecf49ebcda8856a7",4:"edf8fbb3cde38c96c688419d",5:"edf8fbb3cde38c96c68856a7810f7c",6:"edf8fbbfd3e69ebcda8c96c68856a7810f7c",7:"edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b",8:"f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b",9:"f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b"},RdPu:{3:"fde0ddfa9fb5c51b8a",4:"feebe2fbb4b9f768a1ae017e",5:"feebe2fbb4b9f768a1c51b8a7a0177",6:"feebe2fcc5c0fa9fb5f768a1c51b8a7a0177",7:"feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177",8:"fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177",9:"fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a"},PuRd:{3:"e7e1efc994c7dd1c77",4:"f1eef6d7b5d8df65b0ce1256",5:"f1eef6d7b5d8df65b0dd1c77980043",6:"f1eef6d4b9dac994c7df65b0dd1c77980043",7:"f1eef6d4b9dac994c7df65b0e7298ace125691003f",8:"f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f",9:"f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f"},OrRd:{3:"fee8c8fdbb84e34a33",4:"fef0d9fdcc8afc8d59d7301f",5:"fef0d9fdcc8afc8d59e34a33b30000",6:"fef0d9fdd49efdbb84fc8d59e34a33b30000",7:"fef0d9fdd49efdbb84fc8d59ef6548d7301f990000",8:"fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000",9:"fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000"},YlOrRd:{3:"ffeda0feb24cf03b20",4:"ffffb2fecc5cfd8d3ce31a1c",5:"ffffb2fecc5cfd8d3cf03b20bd0026",6:"ffffb2fed976feb24cfd8d3cf03b20bd0026",7:"ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026",8:"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026",9:"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026"},YlOrBr:{3:"fff7bcfec44fd95f0e",4:"ffffd4fed98efe9929cc4c02",5:"ffffd4fed98efe9929d95f0e993404",6:"ffffd4fee391fec44ffe9929d95f0e993404",7:"ffffd4fee391fec44ffe9929ec7014cc4c028c2d04",8:"ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04",9:"ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506"},Purples:{3:"efedf5bcbddc756bb1",4:"f2f0f7cbc9e29e9ac86a51a3",5:"f2f0f7cbc9e29e9ac8756bb154278f",6:"f2f0f7dadaebbcbddc9e9ac8756bb154278f",7:"f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486",8:"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486",9:"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d"},Blues:{3:"deebf79ecae13182bd",4:"eff3ffbdd7e76baed62171b5",5:"eff3ffbdd7e76baed63182bd08519c",6:"eff3ffc6dbef9ecae16baed63182bd08519c",7:"eff3ffc6dbef9ecae16baed64292c62171b5084594",8:"f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594",9:"f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b"},Greens:{3:"e5f5e0a1d99b31a354",4:"edf8e9bae4b374c476238b45",5:"edf8e9bae4b374c47631a354006d2c",6:"edf8e9c7e9c0a1d99b74c47631a354006d2c",7:"edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32",8:"f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32",9:"f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b"},Oranges:{3:"fee6cefdae6be6550d",4:"feeddefdbe85fd8d3cd94701",5:"feeddefdbe85fd8d3ce6550da63603",6:"feeddefdd0a2fdae6bfd8d3ce6550da63603",7:"feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04",8:"fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04",9:"fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704"},Reds:{3:"fee0d2fc9272de2d26",4:"fee5d9fcae91fb6a4acb181d",5:"fee5d9fcae91fb6a4ade2d26a50f15",6:"fee5d9fcbba1fc9272fb6a4ade2d26a50f15",7:"fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d",8:"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d",9:"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d"},Greys:{3:"f0f0f0bdbdbd636363",4:"f7f7f7cccccc969696525252",5:"f7f7f7cccccc969696636363252525",6:"f7f7f7d9d9d9bdbdbd969696636363252525",7:"f7f7f7d9d9d9bdbdbd969696737373525252252525",8:"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525",9:"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000",256:"fffffffffffffefefefefefefdfdfdfdfdfdfcfcfcfcfcfcfbfbfbfbfbfbfafafafafafaf9f9f9f9f9f9f9f9f9f8f8f8f8f8f8f7f7f7f7f7f7f6f6f6f6f6f6f5f5f5f5f5f5f4f4f4f4f4f4f3f3f3f3f3f3f2f2f2f2f2f2f1f1f1f1f1f1f0f0f0f0f0f0efefefefefefeeeeeeeeeeeeededededededececececececebebebebebebeaeaeaeaeaeae9e9e9e9e9e9e8e8e8e8e8e8e7e7e7e7e7e7e6e6e6e6e6e6e5e5e5e5e5e5e4e4e4e4e4e4e3e3e3e3e3e3e2e2e2e2e2e2e1e1e1e1e1e1e0e0e0e0e0e0dfdfdfdfdfdfdedededddddddddddddcdcdcdcdcdcdbdbdbdbdbdbdadadadadadad9d9d9d9d9d9d8d8d8d7d7d7d7d7d7d6d6d6d6d6d6d5d5d5d5d5d5d4d4d4d4d4d4d3d3d3d2d2d2d2d2d2d1d1d1d1d1d1d0d0d0cfcfcfcfcfcfcececececececdcdcdcdcdcdcccccccbcbcbcbcbcbcacacacacacac9c9c9c8c8c8c8c8c8c7c7c7c7c7c7c6c6c6c5c5c5c5c5c5c4c4c4c3c3c3c3c3c3c2c2c2c2c2c2c1c1c1c0c0c0c0c0c0bfbfbfbebebebebebebdbdbdbcbcbcbcbcbcbbbbbbbabababababab9b9b9b8b8b8b8b8b8b7b7b7b6b6b6b6b6b6b5b5b5b4b4b4b4b4b4b3b3b3b2b2b2b2b2b2b1b1b1b0b0b0afafafafafafaeaeaeadadadadadadacacacabababaaaaaaaaaaaaa9a9a9a8a8a8a7a7a7a7a7a7a6a6a6a5a5a5a4a4a4a4a4a4a3a3a3a2a2a2a1a1a1a0a0a0a0a0a09f9f9f9e9e9e9d9d9d9c9c9c9c9c9c9b9b9b9a9a9a9999999898989797979797979696969595959494949393939292929191919090909090908f8f8f8e8e8e8d8d8d8c8c8c8b8b8b8a8a8a8989898888888787878686868585858484848383838282828181818080807f7f7f7e7e7e7d7d7d7c7c7c7b7b7b7a7a7a7878787777777676767575757474747373737272727070706f6f6f6e6e6e6d6d6d6b6b6b6a6a6a6969696767676666666565656363636262626060605f5f5f5d5d5d5c5c5c5a5a5a5959595757575555555454545252525050504e4e4e4c4c4c4a4a4a4848484646464444444242424040403d3d3d3b3b3b3838383535353232322e2e2e2b2b2b2727272222221c1c1c15151500000"},PuOr:{3:"f1a340f7f7f7998ec3",4:"e66101fdb863b2abd25e3c99",5:"e66101fdb863f7f7f7b2abd25e3c99",6:"b35806f1a340fee0b6d8daeb998ec3542788",7:"b35806f1a340fee0b6f7f7f7d8daeb998ec3542788",8:"b35806e08214fdb863fee0b6d8daebb2abd28073ac542788",9:"b35806e08214fdb863fee0b6f7f7f7d8daebb2abd28073ac542788",10:"7f3b08b35806e08214fdb863fee0b6d8daebb2abd28073ac5427882d004b",11:"7f3b08b35806e08214fdb863fee0b6f7f7f7d8daebb2abd28073ac5427882d004b"},BrBG:{3:"d8b365f5f5f55ab4ac",4:"a6611adfc27d80cdc1018571",5:"a6611adfc27df5f5f580cdc1018571",6:"8c510ad8b365f6e8c3c7eae55ab4ac01665e",7:"8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e",8:"8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e",9:"8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e",10:"5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30",11:"5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30"},PRGn:{3:"af8dc3f7f7f77fbf7b",4:"7b3294c2a5cfa6dba0008837",5:"7b3294c2a5cff7f7f7a6dba0008837",6:"762a83af8dc3e7d4e8d9f0d37fbf7b1b7837",7:"762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837",8:"762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837",9:"762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837",10:"40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b",11:"40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b"},PiYG:{3:"e9a3c9f7f7f7a1d76a",4:"d01c8bf1b6dab8e1864dac26",5:"d01c8bf1b6daf7f7f7b8e1864dac26",6:"c51b7de9a3c9fde0efe6f5d0a1d76a4d9221",7:"c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221",8:"c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221",9:"c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221",10:"8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419",11:"8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419"},RdBu:{3:"ef8a62f7f7f767a9cf",4:"ca0020f4a58292c5de0571b0",5:"ca0020f4a582f7f7f792c5de0571b0",6:"b2182bef8a62fddbc7d1e5f067a9cf2166ac",7:"b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac",8:"b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac",9:"b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac",10:"67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061",11:"67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061"},RdGy:{3:"ef8a62ffffff999999",4:"ca0020f4a582bababa404040",5:"ca0020f4a582ffffffbababa404040",6:"b2182bef8a62fddbc7e0e0e09999994d4d4d",7:"b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d",8:"b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d",9:"b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d",10:"67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a",11:"67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a"},RdYlBu:{3:"fc8d59ffffbf91bfdb",4:"d7191cfdae61abd9e92c7bb6",5:"d7191cfdae61ffffbfabd9e92c7bb6",6:"d73027fc8d59fee090e0f3f891bfdb4575b4",7:"d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4",8:"d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4",9:"d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4",10:"a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695",11:"a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695"},Spectral:{3:"fc8d59ffffbf99d594",4:"d7191cfdae61abdda42b83ba",5:"d7191cfdae61ffffbfabdda42b83ba",6:"d53e4ffc8d59fee08be6f59899d5943288bd",7:"d53e4ffc8d59fee08bffffbfe6f59899d5943288bd",8:"d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd",9:"d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd",10:"9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2",11:"9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2"},RdYlGn:{3:"fc8d59ffffbf91cf60",4:"d7191cfdae61a6d96a1a9641",5:"d7191cfdae61ffffbfa6d96a1a9641",6:"d73027fc8d59fee08bd9ef8b91cf601a9850",7:"d73027fc8d59fee08bffffbfd9ef8b91cf601a9850",8:"d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850",9:"d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850",10:"a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837",11:"a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837"},Accent:{3:"7fc97fbeaed4fdc086",4:"7fc97fbeaed4fdc086ffff99",5:"7fc97fbeaed4fdc086ffff99386cb0",6:"7fc97fbeaed4fdc086ffff99386cb0f0027f",7:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17",8:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"},Dark2:{3:"1b9e77d95f027570b3",4:"1b9e77d95f027570b3e7298a",5:"1b9e77d95f027570b3e7298a66a61e",6:"1b9e77d95f027570b3e7298a66a61ee6ab02",7:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d",8:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"},Paired:{3:"a6cee31f78b4b2df8a",4:"a6cee31f78b4b2df8a33a02c",5:"a6cee31f78b4b2df8a33a02cfb9a99",6:"a6cee31f78b4b2df8a33a02cfb9a99e31a1c",7:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6f",8:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00",9:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d6",10:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9a",11:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99",12:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"},Pastel1:{3:"fbb4aeb3cde3ccebc5",4:"fbb4aeb3cde3ccebc5decbe4",5:"fbb4aeb3cde3ccebc5decbe4fed9a6",6:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcc",7:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bd",8:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaec",9:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"},Pastel2:{3:"b3e2cdfdcdaccbd5e8",4:"b3e2cdfdcdaccbd5e8f4cae4",5:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9",6:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2ae",7:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cc",8:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"},Set1:{3:"e41a1c377eb84daf4a",4:"e41a1c377eb84daf4a984ea3",5:"e41a1c377eb84daf4a984ea3ff7f00",6:"e41a1c377eb84daf4a984ea3ff7f00ffff33",7:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628",8:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf",9:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"},Set2:{3:"66c2a5fc8d628da0cb",4:"66c2a5fc8d628da0cbe78ac3",5:"66c2a5fc8d628da0cbe78ac3a6d854",6:"66c2a5fc8d628da0cbe78ac3a6d854ffd92f",7:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494",8:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"},Set3:{3:"8dd3c7ffffb3bebada",4:"8dd3c7ffffb3bebadafb8072",5:"8dd3c7ffffb3bebadafb807280b1d3",6:"8dd3c7ffffb3bebadafb807280b1d3fdb462",7:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69",8:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5",9:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9",10:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bd",11:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5",12:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},Default:{20:"fe296c487eb6a7ce31f8cc03ff8c02699696b7784483acd0c2e076fadc5aff549fffaf549ab8b7d2a6833d699b87ac22cda908d02158d07300567676",36:"ff00000000ff00ff00ffff0000ffffff00ff993300000080808000ff6600008080660066ff99cc666699333300ffcc99ccffff9999ffff80803366ff339966ffcc0000ccffd020909933660066cc99cc00ff990033cccccc99ff800000333399008000ffffcc99ccff800080"},Basic:{24:"0000ffff004dffbf0074ff00a400ffff7400ffff0000ffffff0000ffd3003d00ff00ff00ff00ffff9200d3ff000090ff6d00ffff4900ffe80000ff92ff0090ffaa00aaff00004dff"},Light:{24:"6565ffff6593ffd865abff65c865ffffab65ffff6565ffffff6565ffe5658965ff65ff65ff65ffffbd65e5ff6565bcffa765ffff9165fff16565ffbdff65bcffcc65ccff656593ff"},Favorite:{1:"ff0000",2:"ff000000ffff",3:"ff000000ff000000ff",4:"ff000080ff0000ffff8000ff",5:"ff0000bfff0000ff800040ffff00ff",6:"ff0000ffff0000ff0000ffff0000ffff00ff",8:"ff0000ffbf0080ff0000ff4000ffff0040ff8000ffff00bf",10:"ff0000ff8000ffff0080ff0000ff0000ff8000ffff0080ff0000ff8000ff",12:"ff0000ff8000ffff0080ff0000ff0000ff8000ffff0080ff0000ff8000ffff00ffff0080",24:"ff0000ff4000ff8000ffbf00ffff00bfff0080ff0040ff0000ff0000ff4000ff8000ffbf00ffff00bfff0080ff0040ff0000ff4000ff8000ffbf00ffff00ffff00bfff0080ff0040"},Pastel:{24:"b5b5ffffb5cbffedb5d7ffb5e5b5ffffd7b5ffffb5b5ffffffb5b5fff2b5c7b5ffb5ffb5ffb5ffffdfb5f2ffb5b5dfffd5b5ffffcab5fff8b5b5ffdfffb5dfffe6b5e6ffb5b5cbff"},Balanced:{20:"fe296c487eb6a7ce31f8cc03ff8c02699696b7784483acd0c2e076fadc5aff549fffaf549ab8b7d2a6833d699b87ac22cda908d02158d07300567676"},Rpalette:{8:"000000ff000000cd000000ff00ffffff00ffffff00bebebe"},RlatticeBackground:{7:"ffe5ccccffccccffffcce6ffffccffffccccffffcc"},RlatticeShingle:{7:"ff7f0000ff0000ffff0080ffff00ffff0000ffff00"},RlatticeLine:{7:"0080ffff00ff006400ff0000ffa50000ff00a52a2a"},RlatticePolygon:{7:"ccffffffccffccffccffe5cccce6ffffffccffcccc"},Bootstrap:{1:"337ab7",2:"337ab7d9534f",3:"337ab75cb85cd9534f",4:"337ab75cb85cf0ad4ed9534f",5:"337ab75cb85c5bc0def0ad4ed9534f",6:"337ab75cb85c9370db5bc0def0ad4ed9534f",7:"337ab75cb85cd9534ff0ad4e5bc0de84fe83ff9976",8:"337ab75cb85cd9534ff0ad4e5bc0de84fe83ff9976c86727"},ColorSpectrum:{1:""},White:{1:"ffffff"},Black:{1:"000000"},NPG:{10:"e64b354dbbd500a0873c5488f39b7f8491b491d1c2dc00007e6148b09c85"},AAAS:{10:"3b4992ee0000008b45631879008280bb00215f559ba200568081801b1919"},NEJM:{8:"bc3c290072b5e1872720854e7876b16f99adffdc91ee4c97"},Lancet:{9:"00468bed000042b5400099b4925e9ffdaf91ad002aadb6b61b1919"},Jama:{7:"374e55df8f4400a1d5b2474579af976a659980796b"},JCO:{10:"0073c2efc000868686cd534c7aa6dc003c678f77003b3b3ba730304a6990"},Economist:{12:"6794a7014d6476c0c101a2d97ad2f600887dadadad7bd3f67c260bee8f7176c0c1a18376"},EconomistBG:{5:"d5e4ebc3d6dfed111aebebebc9c9c9"},Excel:{7:"ff00ffffff0000ffff8000808000000080800000ff"},Excel2:{7:"993366ffffccccffff660066ff80800066ccccccff"},Excel3:{10:"365e9698333477973d5d437c36869fd1702f8197c5c47f80acc4849887b0"},GGPlot:{1:"f8766d",2:"f8766d00bfc4",3:"f8766d00ba38619cff",4:"f8766d7cae0000bfc4c77cff",5:"f8766da3a50000bf7d00b0f6e76bf3",6:"f8766db79f0000ba3800bfc4619cfff564e3",7:"f8766dc49a0053b40000c09400b6eba58afffb61d7",8:"f8766dcd96007cae0000be6700bfc400a9ffc77cffff61cc",9:"f8766dd3920093aa0000ba3800c19f00b9e3619cffdb72fbff61c3",10:"f8766dd89000a3a50039b60000bf7d00bfc400b0f69590ffe76bf3ff62bc",11:"f8766ddb8e00aea20064b20000bd5c00c1a700bade00a6ffb385ffef67ebff63b6",12:"f8766dde8c00b79f007cae0000ba3800c08b00bfc400b4f0619cffc77cfff564e3ff64b0",13:"f8766de18a00be9c008cab0024b70000be7000c1ab00bbda00acfc8b93ffd575fef962ddff65ac",14:"f8766de38900c49a0099a80053b40000bc5600c09400bfc400b6eb06a4ffa58affdf70f8fb61d7ff66a8",15:"f8766de58700c99800a3a5006bb10000ba3800bf7d00c0af00bcd800b0f6619cffb983ffe76bf3fd61d1ff67a4",16:"f8766de68613cd9600aba3007cae000cb70200be6700c19a00bfc400b8e700a9ff8494ffc77cffed68edff61ccff68a1",17:"f8766de7851ed09400b2a10089ac0045b50000bc5100c08700c0b200bcd600b3f229a3ff9c8dffd277fff166e8ff61c7ff689e",18:"f8766de88526d39200b79f0093aa005eb30000ba3800bf7400c19f00bfc400b9e300adfa619cffae87ffdb72fbf564e3ff61c3ff699c"},Solarized:{1:"b58900",2:"b58900859900",3:"b58900c671c4859900",4:"b58900dc322f268bd2859900",5:"b58900dc322f6c71c4268bd2859900",6:"b58900cb4b16d336826c71c42aa198859900",7:"b58900cb4b16dc322f6c71c4268bd22aa198859900",8:"b58900cb4b16dc322fd336826c71c4268bd22aa198859900"},SolarizedBase:{7:"002b36073642586e7583949693a1a1eee8d5fdf6e3",8:"002b36073642586e75657b8383949693a1a1eee8d5fdf6e3"},PaulTol:{1:"4477aa",2:"4477aacc6677",3:"4477aaddcc77cc6677",4:"4477aa117733ddcc77cc6677",5:"4477aa88ccee117733ddcc77cc6677",6:"4477aa88ccee117733ddcc77cc6677aa4499",7:"33228888ccee44aa99117733ddcc77cc6677aa4499",8:"33228888ccee44aa99117733999933ddcc77cc6677aa4499",9:"33228888ccee44aa99117733999933ddcc77cc6677882255aa4499",10:"33228888ccee44aa99117733999933ddcc77661100cc6677882255aa4499",11:"3322886699cc88ccee44aa99117733999933ddcc77661100cc6677882255aa4499",12:"3322886699cc88ccee44aa99117733999933ddcc77661100cc6677aa4466882255aa4499"},ColorBlind:{8:"000000e69f0056b4e9009e73f0e4420072b2d55e00cc79a7"},Tableau:{20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"},TableauMedium:{10:"729eceff9e4a67bf5ced665dad8bc9a8786eed97caa2a2a2cdcc5d6dccda"},TableauLight:{10:"aec7e8ffbb7898df8aff9896c5b0d5c49c94f7b6d2c7c7c7dbdb8d9edae5"},TableauGrey:{5:"60636aa5acaf4144518f8782cfcfcf"},TableauColorBlind:{10:"006ba4ff800eababab5959595f9ed1c85200898989a2c8ecffbc79cfcfcf"},TableauTrafficLight:{9:"b10318dba13a309343d82526ffc15669b764f26c64ffdd719fcd99"},TableauPurpleGrey:{12:"7b66d2a699e8dc5fbdffc0da5f5a41b4b19b995688d898baab6ad5d098ee8b7c6edbd4c5"},TableauBlueRed:{12:"2c69b0b5c8e2f02720ffb6b0ac613ce9c39b6ba3d6b5dffdac8763ddc9b4bd0a36f4737a"},TableauGreenOrange:{12:"32a251acd98dff7f0fffb9773cb7cc98d9e4b85a0dffd94a39737c86b4a982853bccc94d"},TableauCyclic:{20:"1f83b41696ac18a18829a03c54a33882a93fadb828d8bd35ffbd4cffb022ff9c0eff810ee75727d23e4ec94d8cc04aa7b446b39658b18061b46f63bb"},TableauPairSequential:{32:"bccfb49c0824bccfb409622ab4d4da26456ef0c2947b3014c3c3c31e1e1ee5e5e5ffb2b6e5e5e5b7e6a7e5e5e5c4d8f3e5e5e5ffcc9ef5cac7bd1100dbe8b43c8200f3e0c2bb5137feffd941b7c4f7e4c6bb5137efedf5807dbaf0f0f0737373"},TableauTripleDiverging:{48:"9c0824cacaca26456e9c0824cacaca09622a9c0824ffffff09622a9c0824cacaca1e1e1e9c0824ffffff1e1e1e09622acacaca26456e7b3014cacaca26456e7b3014ffffff26456effb2b6e5e5e5b7e6a7ffb2b6ffffffb7e6a7ffb2b6ffffffc6c6c6ffcc9ee5e5e5c4d8f3ffcc9effffffc4d8f3e0ad30e4e4e27492aaeda389cde1d35c8b70529985dbcf47c26b51"},WallStreetJournal:{4:"efefefe9f3ead4dee7f8f2e4"},WallStreetJournal2:{4:"d3ba68d5695d5d8ca865a479"},WallStreetJournalRedGreen:{2:"088158ba2f2a"},WallStreetJournalBlackGreen:{4:"00000059595959a77f008856"},WallStreetJournalDemRep:{3:"006a8eb1283aa8a6a7"},WallStreetJournal3:{6:"c72e29016392be9c2e098154fb832d000000"},Stata:{15:"1a476f90353b55752fe37e006e8e84c10534938dd2cac27ea0522d7b92a82d6d669c8847bfa19cffd200d9e6eb"},Stata2:{15:"ffff0000ff000080ffff00ffff7f00ff0000add8e6ffe47400ff80c0dcc0ff45000000ffff00806e8e84a0522d"},Stata3:{15:"006000ff45001a476f90353b6e8e84a0522dff7f00ff00ff00ffffff000000ff009c8847800080c0dcc0add8e6"},StataMono:{15:"606060a0a0a0808080404040000000e0e0e0202020707070909090b0b0b0d0d0d0f0f0f0303030c0c0c0505050"},BlackAndWhite:{3:"f0f0f0bdbdbd636363",4:"f7f7f7cccccc969696525252",5:"f7f7f7cccccc969696636363252525",6:"f7f7f7d9d9d9bdbdbd969696636363252525",7:"f7f7f7d9d9d9bdbdbd969696737373525252252525",8:"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525",9:"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000"},CanvasXpress:{1:"4575b4",2:"d730274575b4",3:"d7191cfdae612c7bb6",4:"d7191cfdae61abd9e92c7bb6",5:"d7191cfdae61ffffbfabd9e92c7bb6",6:"d73027fc8d59fee090e0f3f891bfdb4575b4",7:"d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4",8:"d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4",9:"d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4",10:"a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695",11:"a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695"},CanvasXpressTraditional:{1:"f2000d",2:"f2000d000df2",3:"f2000d000df20df200",4:"f2000d000df20df200f2f20d",5:"f2000d000df20df200f2f20df20df2",6:"f2000d000df20df200f2f20df20df20df2f2",7:"f2000d000df20df200f2f20df20df20df2f2f2f2f2",8:"f2000d000df20df200f2f20df20df20df2f2f2f2f2fe8bd3",9:"f2000d000df20df200f2f20df20df20df2f2f2f2f2fe8bd38bd3fe",10:"f2000d000df20df200f2f20df20df20df2f2f2f2f2fe8bd38bd3fed3fe8b",11:"f2000d000df20df200f2f20df20df20df2f2f2f2f2fe8bd38bd3fed3fe8b5d0016",12:"f2000d000df20df200f2f20df20df20df2f2f2f2f2fe8bd38bd3fed3fe8b5d001600165d",13:"f2000d000df20df200f2f20df20df20df2f2f2f2f2fe8bd38bd3fed3fe8b5d001600165d165d00",14:"f2000d000df20df200f2f20df20df20df2f2f2f2f2fe8bd38bd3fed3fe8b5d001600165d165d00080808",15:"f2000d000df20df200f2f20df20df20df2f2f2f2f2fe8bd38bd3fed3fe8b5d001600165d165d00080808fed38b",16:"f2000d000df20df200f2f20df20df20df2f2f2f2f2fe8bd38bd3fed3fe8b5d001600165d165d00080808fed38bd38bfe",17:"f2000d000df20df200f2f20df20df20df2f2f2f2f2fe8bd38bd3fed3fe8b5d001600165d165d00080808fed38bd38bfe8bfed3",18:"f2000d000df20df200f2f20df20df20df2f2f2f2f2fe8bd38bd3fed3fe8b5d001600165d165d00080808fed38bd38bfe8bfed3404040"},Matlab:{7:"0072bdd95319edb1207e2f8e77ac304dbeeea2142f"},Parula:{10:"352a870f5cdd127dd8079ccf15b1b459bd8ca5be6be1b952fcce2ef9fb0e"},Viridis:{3:"44015421908cfde725",4:"44015431688e35b779fde725",5:"4401543b528b21908c5dc863fde725",6:"4401544144872a788e22a8847ad151fde725",7:"440154443a8331688e21908c35b7798fd744fde725",8:"44015446337e365c8d277f8e1fa1874ac16d9fda3afde725",9:"440154472d7b3b528b2c728e21908c27ad815dc863aadc32fde725",10:"4401544828783e4a8931688e26828e1f9e8935b7796dcd59b4de2cfde725",11:"44015448257641448735608d2a788e21908c22a88443bf717ad151bbdf27fde725",12:"440154482173433e8538598c2d708e25858e1e9b8a2bb07f51c56a85d54ac2df23fde725",256:"44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"},Magma:{3:"000004b63679fcfdbf",4:"000004721f81f1605dfcfdbf",5:"00000451127cb63679fb8861fcfdbf",6:"0000043b0f708c2981de4968fe9f6dfcfdbf",7:"0000042d1160721f81b63679f1605dfeaf77fcfdbf",8:"0000042311515f187f982d80d3436ef8765cfeba80fcfdbf",9:"0000041d114751127c822681b63679e65164fb8861fec287fcfdbf",10:"000004180f3e451077721f819f2f7fcd4071f1605dfd9567fec98dfcfdbf",11:"000004150e373b0f70641a808c2981b63679de4968f76f5cfe9f6dfece91fcfdbf",12:"000004120d323310685a167e7d2482a3307ec83e73e95562f97c5dfea873fed395fcfdbf",256:"00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf"},Plasma:{3:"0d0887cc4678f0f921",4:"0d08879c179eed7953f0f921",5:"0d08877e03a8cc4678f89441f0f921",6:"0d08876a00a8b12a90e16462fca636f0f921",7:"0d08875d01a69c179ecc4678ed7953fdb32ff0f921",8:"0d08875402a38b0aa5b93289db5c68f48849febc2af0f921",9:"0d08874c02a17e03a8a92395cc4678e56b5df89441fdc328f0f921",10:"0d088747039f7301a89c179ebd3786d8576bed7953fa9e3bfdc926f0f921",11:"0d088742049e6a00a8900da4b12a90cc4678e16462f1844bfca636fcce25f0f921",12:"0d08873e049c6300a78707a6a62098c03a83d5546ee76f5af58c46fdad32fcd225f0f921",256:"0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"},Inferno:{3:"000004bb3754fcffa4",4:"000004781c6ded6925fcffa4",5:"00000456106ebb3754f98c0afcffa4",6:"000004420a68932667dd513afca50afcffa4",7:"000004330a5f781c6dbb3754ed6925fcb519fcffa4",8:"000004280b5465156e9f2a63d44842f57d15fac127fcffa4",9:"000004210c4a56106e89226abb3754e35932f98c0af9c932fcffa4",10:"0000041b0c424b0c6b781c6da52c60cf4446ed6925fb9a06f7d03cfcffa4",11:"000004170c3a420a686b186e932667bb3754dd513af3771afca50af6d645fcffa4",12:"000004140b353a096360136e85216ba92e5ecb4149e65d2ff78311fcad12f5db4bfcffa4",256:"00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4"},Cividis:{3:"00204d7c7b78ffea46",4:"00204d575c6da69d75ffea46",5:"00204d414d6b7c7b78bcaf6fffea46",6:"00204d31446b666970958f78cbba69ffea46",7:"00204d233e6c575c6d7c7b78a69d75d3c164ffea46",8:"00204d16396d4b546c6c6e728e8a79b3a772dbc761ffea46",9:"00204d05366e414d6b61646f7c7b789b9477bcaf6fe0cb5effea46",10:"00204d00336f39486b575c6d7071738a8779a69d75c4b56ce4cf5bffea46",11:"00204d00326f31446b4e576c6669707c7b78958f78b0a473cbba69e7d159ffea46",12:"00204d00306f2a406c48526b5e626e7273748784799e9677b6a971d0be67ead357ffea46",256:"00204c00204e00215000225100235300235500245600255800265a00265b00275d00285f002861002963002a64002a66002b68002c6a002d6c002d6d002e6e002e6f002f6f002f6f00306f00316f00316f00326e00336e00346e00346e01356e06366e0a376d0e376d12386d15396d17396d1a3a6c1c3b6c1e3c6c203c6c223d6c243e6c263e6c273f6c29406b2b416b2c416b2e426b2f436b31446b32446b33456b35466b36466b37476b38486b3a496b3b496b3c4a6b3d4b6b3e4b6b404c6b414d6b424e6b434e6b444f6b45506b46506b47516b48526b49536b4a536b4b546b4c556b4d556b4e566b4f576c50586c51586c52596c535a6c545a6c555b6c565c6c575d6d585d6d595e6d5a5f6d5b5f6d5c606d5d616e5e626e5f626e5f636e60646e61656f62656f63666f64676f65676f666870676970686a70686a70696b716a6c716b6d716c6d726d6e726e6f726f6f726f70737071737172737272747373747474757575757575757676767777767878767978777a79777b7a777b7b787c7b787d7c787e7d787f7e78807e78817f788280788381788481788582788683788784788885788985788a86788b87788c88788d88788e89788f8a78908b78918c78928c78938d78948e78958f78968f779790779891779992779a93779b93779c94779d95779e96769f9776a09876a19876a29976a39a75a49b75a59c75a69c75a79d75a89e74a99f74aaa074aba174aca173ada273aea373afa473b0a572b1a672b2a672b4a771b5a871b6a971b7aa70b8ab70b9ab70baac6fbbad6fbcae6ebdaf6ebeb06ebfb16dc0b16dc1b26cc2b36cc3b46cc5b56bc6b66bc7b76ac8b86ac9b869cab969cbba68ccbb68cdbc67cebd67d0be66d1bf66d2c065d3c065d4c164d5c263d6c363d7c462d8c561d9c661dbc760dcc860ddc95fdeca5edfcb5de0cb5de1cc5ce3cd5be4ce5be5cf5ae6d059e7d158e8d257e9d356ebd456ecd555edd654eed753efd852f0d951f1da50f3db4ff4dc4ef5dd4df6de4cf7df4bf9e049fae048fbe147fce246fde345ffe443ffe542ffe642ffe743ffe844ffe945"},Rainbow:{3:"ff000000ff000000ff",4:"ff000080ff0000ffff8000ff",5:"ff0000ccff0000ff660066ffcc00ff",6:"ff0000ffff0000ff0000ffff0000ffff00ff",7:"ff0000ffdb0049ff0000ff920092ff4900ffff00db",8:"ff0000ffbf0080ff0000ff4000ffff0040ff8000ffff00bf",9:"ff0000ffaa00aaff0000ff0000ffaa00aaff0000ffaa00ffff00aa",10:"ff0000ff9900ccff0033ff0000ff6600ffff0066ff3300ffcc00ffff0099",11:"ff0000ff8b00e8ff005dff0000ff2e00ffb900b9ff002eff5d00ffe800ffff008b",12:"ff0000ff8000ffff0080ff0000ff0000ff8000ffff0080ff0000ff8000ffff00ffff0080"},Heat:{3:"ff0000ff8000ffff00",4:"ff0000ff8000ffff00ffff80",5:"ff0000ff5500ffaa00ffff00ffff80",6:"ff0000ff4000ff8000ffbf00ffff00ffff80",7:"ff0000ff3300ff6600ff9900ffcc00ffff00ffff80",8:"ff0000ff3300ff6600ff9900ffcc00ffff00ffff40ffffbf",9:"ff0000ff2a00ff5500ff8000ffaa00ffd500ffff00ffff40ffffbf",10:"ff0000ff2400ff4900ff6d00ff9200ffb600ffdb00ffff00ffff40ffffbf",11:"ff0000ff2000ff4000ff6000ff8000ff9f00ffbf00ffdf00ffff00ffff40ffffbf",12:"ff0000ff2000ff4000ff6000ff8000ff9f00ffbf00ffdf00ffff00ffff2affff80ffffd5"},LastAirBenderFire:{8:"ecb100a100007E605EFF45009948234B4C4E572530000000"},LastAirBenderAir:{7:"ff9933C24841FFFF338B5B4587AFD1EEB05ADBC5A0"},LastAirBenderEarth:{9:"015E05B1A8667A5C1264674225351C4C7022C7C45ED2CFABFEFED8"},LastAirBenderWater:{8:"0047ab1DB4D3A2CAEDAFB5B8120976fffafa174D79949BBC"},SpongeBob:{11:"C86925FDF56CC4433F989B46FC95765D57AFB2CE31FF2027000000B1D6C5AB8323"},Simpsons:{10:"fed90f424f46d1b271FB4122ABC67D0363C37A491E000000FC020946732E"},RickyAndMorty:{9:"01B4C697ce4cFFF874BEE5FDF675DA44281d3a4767F8D3ACE64358"},ParksAndRecreation:{10:"bdbdbda51209ffdb58ec70147A491EC24841005502f7fcb969983ab5651d"},KimPossible:{12:"FF8C0002466370D42389160402001F9CF6F7FFCE455D734DFEC3BB662C9Cfff9f5000000"},GravityFalls:{14:"417BA1ff1493ffff2e3456348b0000ff670093C0D58b45139248A71c88594747478fbc8fd2b48c000000"},GameOfThronesStark:{9:"cadde17B906F174D79fffafa898989D4CDB1708090120976000000"},GameOfThronesStannis:{7:"FF0000ff8d1aFFD700b20000cc6600FFFF66000000"},GameOfThronesLannister:{6:"89080AC5AA73FEDF25C248418B5B45000000"},GameOfThronesTyrell:{9:"068105F7DC27808000AB681BF9FE768DA08071749798FB983CB371"},GameOfThronesTargaryen:{5:"AC1F25272727ff993382878896804b"},GameOfThronesMartell:{8:"ff8000cc6600b81b1873110ff8fc23fafd7b4c2600a57642"},GameOfThronesTully:{6:"212250AE432FE4EDCA8B5B454682B4000000"},GameOfThronesGreyjoy:{6:"000000708090D4CDB1DCDCDCF7DC27808080"},GameOfThronesManderly:{7:"40e0d080808000ff00282828015202195953FFFFFF"},GameOfThronesArryn:{7:"007fff7fbfff0019334c4cffffefb2a89797FFFFFF"},Brooklyn99Regular:{10:"e7298a72bcd4e41a1cFCF40E49f149f16913525252F9FEFF000E33000000"},Brooklyn99Dark:{9:"6CA9C33A3533000E33800000CBCFD2175E78DAA520174D79000000"}},CanvasXpress.colorSchemes)for(var e in CanvasXpress.colorSchemes[t]){var i=CanvasXpress.colorSchemes[t][e].match(/.{6}/g);CanvasXpress.colorSchemes[t][e]=i?i.map((function(t){return"#"+t})):[]}}(),CanvasXpress.ambiguityCodes={"-":["-"],A:["A"],C:["C"],G:["G"],T:["T"],M:["A","C"],R:["A","G"],W:["A","T"],S:["C","G"],Y:["C","T"],K:["G","T"],V:["A","C","G"],H:["A","C","T"],D:["A","G","T"],B:["C","G","T"],N:["A","C","G","T"],X:["A","C","G","T"]},CanvasXpress.codon={TTT:["F","Phe","Phenylalanine"],TCT:["S","Ser","Serine"],TAT:["Y","Tyr","Tyrosine"],TGT:["C","Cys","Cysteine"],TTC:["F","Phe","Phenylalanine"],TCC:["S","Ser","Serine"],TAC:["Y","Tyr","Tyrosine"],TGC:["C","Cys","Cysteine"],TTA:["L","Leu","Leucine"],TCA:["S","Ser","Serine"],TAA:["*","Stop","Ochre"],TGA:["*","Stop","Opal"],TTG:["L","Leu","Leucine"],TCG:["S","Ser","Serine"],TAG:["*","Stop","Amber"],TGG:["W","Trp","Tryptophan"],CTT:["L","Leu","Leucine"],CCT:["P","Pro","Proline"],CAT:["H","His","Histidine"],CGT:["R","Arg","Arginine"],CTC:["L","Leu","Leucine"],CCC:["P","Pro","Proline"],CAC:["H","His","Histidine"],CGC:["R","Arg","Arginine"],CTA:["L","Leu","Leucine"],CCA:["P","Pro","Proline"],CAA:["Q","Gln","Glutamine"],CGA:["R","Arg","Arginine"],CTG:["L","Leu","Leucine"],CCG:["P","Pro","Proline"],CAG:["Q","Gln","Glutamine"],CGG:["R","Arg","Arginine"],ATT:["I","Ile","Isoleucine"],ACT:["T","Thr","Threonine"],AAT:["N","Asn","Asparagine"],AGT:["S","Ser","Serine"],ATC:["I","Ile","Isoleucine"],ACC:["T","Thr","Threonine"],AAC:["N","Asn","Asparagine"],AGC:["S","Ser","Serine"],ATA:["I","Ile","Isoleucine"],ACA:["T","Thr","Threonine"],AAA:["K","Lys","Lysine"],AGA:["R","Arg","Arginine"],ATG:["M","Met","Methionine"],ACG:["T","Thr","Threonine"],AAG:["K","Lys","Lysine"],AGG:["R","Arg","Arginine"],GTT:["V","Val","Valine"],GCT:["A","Ala","Alanine"],GAT:["D","Asp","Aspartic acid"],GGT:["G","Gly","Glycine"],GTC:["V","Val","Valine"],GCC:["A","Ala","Alanine"],GAC:["D","Asp","Aspartic acid"],GGC:["G","Gly","Glycine"],GTA:["V","Val","Valine"],GCA:["A","Ala","Alanine"],GAA:["E","Glu","Glutamic acid"],GGA:["G","Gly","Glycine"],GTG:["V","Val","Valine"],GCG:["A","Ala","Alanine"],GAG:["E","Glu","Glutamic acid"],GGG:["G","Gly","Glycine"]},CanvasXpress.reverseComplement={A:"T",C:"G",G:"C",T:"A",U:"A",Y:"R",R:"Y",W:"W",S:"S",K:"M",M:"K",B:"V",V:"B",D:"H",H:"D",X:"X",N:"N",a:"t",c:"g",g:"c",t:"a",u:"a",y:"r",r:"y",w:"w",s:"s",k:"m",m:"k",b:"v",v:"b",d:"h",h:"d",x:"x",n:"n"," ":" ","-":"-","/":"/","[":"[","]":"]"},CanvasXpress.themes={economist:{backgroundType:"solid",backgroundWindow:"#D5E4EB",background:"#D5E4EB",colorScheme:"Economist",objectBorderColor:"rgb(0,0,0)",fitLineColor:"rgb(255,215,0)",guides:!1,guidesColor:"rgb(204,204,204)",legendColor:"#000000",legendBox:!1,legendBoxColor:"#000000",legendBackgroundColor:"#D5E4EB",legendColumns:4,legendInside:!0,legendPosition:"top",legendScaleFontFactor:1,lineDecoration:"symbol",axisTickScaleFontFactor:1,axisTitleScaleFontFactor:1,axisTickColor:"#000000",axisTitleColor:"#000000",axisTickThickness:2,axisMinMaxTickThickness:1,xAxisMinorTicks:!1,xAxisMajorTicks:!1,xAxisTickColor:"#000000",xAxisLeftMajorTick:!1,xAxisRightMajorTick:!1,xAxisTickStyle:"solid",xAxisLeftRightTickColor:"#000000",yAxisMajorTicks:!0,yAxisMinorTicks:!1,yAxisShow:!1,yAxis2Show:!0,yAxisTickStyle:"solid",yAxisTickColor:"#FFFFFF",yAxisTopMajorTick:!1,yAxisBottomMajorTick:!0,yAxisTopBottomTickColor:"#000000",titleAlign:"left",titleColor:"#000000",subtitleAlign:"left",subtitleColor:"#000000",mapOutlineColor:"#D5E4EB",conditional:{OneDPlots:{xAxisMajorTicks:!0}}},excel:{backgroundType:"window",backgroundWindow:"#C0C0C0",background:"#FFFFFF",colorScheme:"Excel",objectBorderColor:"rgb(0,0,0)",fitLineColor:"rgb(255,215,0)",guides:!1,guidesColor:"rgb(204,204,204)",legendColor:"#000000",legendBox:!0,legendBoxColor:"#000000",legendBackgroundColor:"#FFFFFF",legendColumns:1,legendInside:!1,legendPosition:"right",legendScaleFontFactor:1,lineDecoration:"symbol",axisTickScaleFontFactor:1,axisTitleScaleFontFactor:1,axisTickColor:"#000000",axisTitleColor:"#000000",axisTickThickness:1,axisMinMaxTickThickness:1,xAxisMinorTicks:!1,xAxisMajorTicks:!1,xAxisTickColor:"#000000",xAxisLeftMajorTick:!0,xAxisRightMajorTick:!0,xAxisTickStyle:"solid",xAxisLeftRightTickColor:"#000000",yAxisMajorTicks:!0,yAxisMinorTicks:!1,yAxisShow:!0,yAxis2Show:!1,yAxisTickStyle:"solid",yAxisTickColor:"#000000",yAxisTopMajorTick:!0,yAxisBottomMajorTick:!0,yAxisTopBottomTickColor:"#000000",titleAlign:"left",titleColor:"#000000",subtitleAlign:"left",subtitleColor:"#000000",mapOutlineColor:"#C0C0C0",conditional:{OneDPlots:{xAxisMajorTicks:!0}}},tableau:{backgroundType:"window",backgroundWindow:"#FFFFFF",background:"#E5E5E5",colorScheme:"TableauMedium",objectBorderColor:"rgb(0,0,0)",fitLineColor:"rgb(255,215,0)",guides:!1,guidesColor:"rgb(204,204,204)",legendColor:"#000000",legendBox:!0,legendBoxColor:"#E5E5E5",legendBackgroundColor:"#FFFFFF",legendColumns:1,legendInside:!1,legendPosition:"right",legendScaleFontFactor:1,lineDecoration:"symbol",axisTickScaleFontFactor:1,axisTitleScaleFontFactor:1,axisTickColor:"#000000",axisTitleColor:"#000000",axisTickThickness:1,axisMinMaxTickThickness:1,xAxisMinorTicks:!1,xAxisMajorTicks:!0,xAxisTickStyle:"solid",xAxisTickColor:"#E5E5E5",xAxisLeftMajorTick:!0,xAxisRightMajorTick:!0,xAxisLeftRightTickColor:"#E5E5E5",yAxisMajorTicks:!0,yAxisMinorTicks:!1,yAxisShow:!0,yAxis2Show:!1,yAxisTickStyle:"solid",yAxisTickColor:"#E5E5E5",yAxisTopMajorTick:!0,yAxisBottomMajorTick:!0,yAxisTopBottomTickColor:"#E5E5E5",titleAlign:"left",titleColor:"#000000",subtitleAlign:"left",subtitleColor:"#000000",mapOutlineColor:"#E5E5E5"},stata:{backgroundType:"window",backgroundWindow:"#FFFFFF",background:"#EAF2F3",colorScheme:"Stata",objectBorderColor:"rgb(0,0,0)",fitLineColor:"rgb(255,215,0)",guides:!1,guidesColor:"rgb(204,204,204)",legendColor:"#000000",legendBox:!0,legendBoxColor:"#000000",legendBackgroundColor:"#FFFFFF",legendColumns:4,legendInside:!1,legendPosition:"bottom",legendScaleFontFactor:1,lineDecoration:"symbol",axisTickScaleFontFactor:1,axisTitleScaleFontFactor:1,axisTickColor:"#000000",axisTitleColor:"#000000",axisTickThickness:1,axisMinMaxTickThickness:2,xAxisMinorTicks:!1,xAxisMajorTicks:!1,xAxisTickStyle:"solid",xAxisTickColor:"#000000",xAxisLeftMajorTick:!0,xAxisRightMajorTick:!1,xAxisLeftRightTickColor:"#000000",yAxisMajorTicks:!0,yAxisMinorTicks:!1,yAxisShow:!0,yAxis2Show:!1,yAxisTickStyle:"solid",yAxisTickColor:"#EAF2F3",yAxisTopMajorTick:!1,yAxisBottomMajorTick:!0,yAxisTopBottomTickColor:"#000000",titleAlign:"center",titleColor:"#000000",subtitleAlign:"center",subtitleColor:"#000000",mapOutlineColor:"#EAF2F3",conditional:{OneDPlots:{xAxisMajorTicks:!0}}},igray:{backgroundType:"window",backgroundWindow:"#FFFFFF",background:"#E5E5E5",colorScheme:"GGPlot",objectBorderColor:"rgb(0,0,0)",fitLineColor:"rgb(0,0,255)",guides:!1,guidesColor:"rgb(204,204,204)",legendColor:"#000000",legendBox:!1,legendBoxColor:"#000000",legendBackgroundColor:"#FFFFFF",legendColumns:1,legendInside:!1,legendPosition:"right",legendScaleFontFactor:1,lineDecoration:"symbol",axisTickScaleFontFactor:1,axisTitleScaleFontFactor:1,axisTickColor:"#000000",axisTitleColor:"#000000",axisTickThickness:1,axisMinMaxTickThickness:1,xAxisMinorTicks:!1,xAxisMajorTicks:!0,xAxisTickStyle:"solid",xAxisTickColor:"#E5E5E5",xAxisLeftMajorTick:!1,xAxisRightMajorTick:!1,xAxisLeftRightTickColor:"#000000",yAxisMajorTicks:!0,yAxisMinorTicks:!1,yAxisShow:!0,yAxis2Show:!1,yAxisTickStyle:"solid",yAxisTickColor:"#E5E5E5",yAxisTopMajorTick:!1,yAxisBottomMajorTick:!1,yAxisTopBottomTickColor:"#000000",titleAlign:"center",titleColor:"#000000",subtitleAlign:"center",subtitleColor:"#000000",mapOutlineColor:"#FFFFFF"},solarized:{backgroundType:"solid",backgroundWindow:"#FDF6E3",background:"#FDF6E3",colorScheme:"Solarized",objectBorderColor:"rgb(0,0,0)",fitLineColor:"rgb(255,215,0)",guides:!1,guidesColor:"rgb(204,204,204)",legendColor:"#93A1A1",legendBox:!0,legendBoxColor:"#93A1A1",legendBackgroundColor:"#FFFFFF",legendColumns:1,legendInside:!1,legendPosition:"right",legendScaleFontFactor:1,lineDecoration:"symbol",axisTickScaleFontFactor:1,axisTitleScaleFontFactor:1,axisTickColor:"#93A1A1",axisTitleColor:"#93A1A1",axisTickThickness:1,axisMinMaxTickThickness:2,xAxisMinorTicks:!1,xAxisMajorTicks:!0,xAxisTickStyle:"solid",xAxisTickColor:"#93A1A1",xAxisLeftMajorTick:!0,xAxisRightMajorTick:!1,xAxisLeftRightTickColor:"#93A1A1",yAxisMajorTicks:!0,yAxisMinorTicks:!1,yAxisShow:!0,yAxis2Show:!1,yAxisTickStyle:"solid",yAxisTickColor:"#93A1A1",yAxisTopMajorTick:!1,yAxisBottomMajorTick:!0,yAxisTopBottomTickColor:"#93A1A1",titleAlign:"left",titleColor:"#93A1A1",subtitleAlign:"left",subtitleColor:"#93A1A1",mapOutlineColor:"#FDF6E3"},paulTol:{backgroundType:"solid",backgroundWindow:"#FFFFFF",background:"#FFFFFF",colorScheme:"PaulTol",objectBorderColor:"rgb(0,0,0)",fitLineColor:"rgb(255,215,0)",guides:!1,guidesColor:"rgb(204,204,204)",legendColor:"#000000",legendBox:!1,legendBoxColor:"#000000",legendBackgroundColor:"#FFFFFF",legendColumns:1,legendInside:!1,legendPosition:"right",legendScaleFontFactor:1,lineDecoration:"symbol",axisTickScaleFontFactor:1,axisTitleScaleFontFactor:1,axisTickColor:"#000000",axisTitleColor:"#000000",axisTickThickness:1,axisMinMaxTickThickness:1,xAxisMinorTicks:!1,xAxisMajorTicks:!0,xAxisTickStyle:"solid",xAxisTickColor:"#E5E5E5",xAxisLeftMajorTick:!1,xAxisRightMajorTick:!1,xAxisLeftRightTickColor:"#E5E5E5",yAxisMajorTicks:!0,yAxisMinorTicks:!1,yAxisShow:!0,yAxis2Show:!1,yAxisTickStyle:"solid",yAxisTickColor:"#E5E5E5",yAxisTopMajorTick:!1,yAxisBottomMajorTick:!1,yAxisTopBottomTickColor:"#E5E5E5",titleAlign:"left",titleColor:"#000000",subtitleAlign:"left",subtitleColor:"#000000",mapOutlineColor:"#FFFFFF"},ggplot:{backgroundType:"window",backgroundWindow:"#E5E5E5",background:"#FFFFFF",colorScheme:"GGPlot",objectBorderColor:"rgb(0,0,0)",fitLineColor:"rgb(0,0,255)",guides:!0,guidesColor:"#FFFFFF",legendColor:"#000000",legendBox:!0,legendBoxColor:"rgba(0,0,0,0)",legendBackgroundColor:"rgba(0,0,0,0)",legendColumns:1,legendInside:!1,legendPosition:"right",legendScaleFontFactor:1,lineDecoration:"symbol",axisTickScaleFontFactor:1,axisTitleScaleFontFactor:1,axisTickColor:"#000000",axisTitleColor:"#000000",axisTickThickness:1,axisMinMaxTickThickness:1,xAxisMinorTicks:!1,xAxisMajorTicks:!0,xAxisTickStyle:"solid",xAxisTickColor:"#FFFFFF",xAxisLeftMajorTick:!0,xAxisRightMajorTick:!1,xAxisLeftRightTickColor:"#FFFFFF",yAxisMajorTicks:!0,yAxisMinorTicks:!1,yAxisShow:!0,yAxis2Show:!1,yAxisTickStyle:"solid",yAxisTickColor:"#FFFFFF",yAxisTopMajorTick:!1,yAxisBottomMajorTick:!0,yAxisTopBottomTickColor:"#FFFFFF",titleAlign:"center",titleColor:"#000000",subtitleAlign:"center",subtitleColor:"#000000",mapOutlineColor:"#FFFFFF"},wallStreetJournal:{backgroundType:"solid",backgroundWindow:"#F8F2E4",background:"#F8F2E4",colorScheme:"WallStreetJournal3",objectBorderColor:"rgb(0,0,0)",fitLineColor:"rgb(255,215,0)",guides:!1,guidesColor:"rgb(204,204,204)",legendColor:"#000000",legendBox:!1,legendBoxColor:"#000000",legendBackgroundColor:"#F8F2E4",legendColumns:4,legendInside:!0,legendPosition:"top",legendScaleFontFactor:1,lineDecoration:"symbol",axisTickScaleFontFactor:1,axisTitleScaleFontFactor:1,axisTickColor:"#000000",axisTitleColor:"#000000",axisTickThickness:2,axisMinMaxTickThickness:1,xAxisMinorTicks:!1,xAxisMajorTicks:!1,xAxisTickStyle:"dotted",xAxisTickColor:"#000000",xAxisLeftMajorTick:!1,xAxisRightMajorTick:!1,xAxisLeftRightTickColor:"#000000",yAxisMajorTicks:!0,yAxisMinorTicks:!1,yAxisShow:!0,yAxis2Show:!1,yAxisTickStyle:"dotted",yAxisTickColor:"#000000",yAxisTopMajorTick:!1,yAxisBottomMajorTick:!0,yAxisTopBottomTickColor:"#000000",titleAlign:"left",titleColor:"#000000",subtitleAlign:"left",subtitleColor:"#000000",mapOutlineColor:"#F8F2E4",conditional:{OneDPlots:{xAxisMajorTicks:!0}}},cx:{backgroundType:"window",backgroundWindow:"#E8E8E8",background:"#FFFFFF",colorScheme:"CanvasXpress",objectBorderColor:"rgb(0,0,0)",fitLineColor:"rgb(255,215,0)",guides:!1,guidesColor:"rgb(204,204,204)",legendColor:"#000000",legendBox:!0,legendBoxColor:"#FFFFFF",legendBackgroundColor:"#E8E8E8",lineDecoration:"symbol",axisTickColor:"#000000",axisTitleColor:"#000000",axisTickThickness:1,axisMinMaxTickThickness:1,xAxisMinorTicks:!1,xAxisMajorTicks:!0,xAxisTickStyle:"solid",xAxisTickColor:"#FFFFFF",xAxisLeftMajorTick:!0,xAxisRightMajorTick:!0,xAxisLeftRightTickColor:"#337AB7",yAxisMajorTicks:!0,yAxisMinorTicks:!1,yAxisShow:!0,yAxis2Show:!1,yAxisTickStyle:"solid",yAxisTickColor:"#FFFFFF",yAxisTopMajorTick:!0,yAxisBottomMajorTick:!0,yAxisTopBottomTickColor:"#337AB7",titleAlign:"center",titleColor:"#000000",subtitleAlign:"center",subtitleColor:"#000000",mapOutlineColor:"rgb(204,204,204)",conditional:{OneDPlots:{plotBox:!0,plotBoxColor:"#337AB7"}}},blackAndWhite:{backgroundType:"solid",backgroundWindow:"rgb(255,255,255)",background:"rgb(255,255,255)",colorScheme:"BlackAndWhite",objectBorderColor:"rgb(0,0,0)",fitLineColor:"rgb(0,0,0)",foreground:"rgb(0,0,0)",guides:!1,guidesColor:"rgba(255,255,255,0)",legendColor:"rgb(0,0,0)",legendBox:!1,legendBoxColor:"rgba(255,255,255,0)",legendBackgroundColor:"rgba(255,255,255,0)",legendColumns:1,legendInside:!1,legendPosition:"right",legendScaleFontFactor:1,lineDecoration:"pattern",axisTickScaleFontFactor:1,axisTitleScaleFontFactor:1,axisTickColor:"rgb(0,0,0)",axisTitleColor:"rgb(0,0,0)",axisTickThickness:1,axisMinMaxTickThickness:1,xAxisMinorTicks:!0,xAxisMajorTicks:!0,xAxisTickStyle:"dotted",xAxisTickColor:"rgb(0,0,0)",xAxisLeftMajorTick:!0,xAxisRightMajorTick:!0,xAxisLeftRightTickColor:"rgb(0,0,0)",yAxisMajorTicks:!0,yAxisMinorTicks:!0,yAxisShow:!0,yAxis2Show:!1,yAxisTickStyle:"dotted",yAxisTickColor:"rgb(0,0,0)",yAxisTopMajorTick:!0,yAxisBottomMajorTick:!0,yAxisTopBottomTickColor:"rgb(0,0,0)",titleAlign:"center",titleColor:"rgb(0,0,0)",subtitleAlign:"center",subtitleColor:"rgb(0,0,0)",mapOutlineColor:"rgb(0,0,0)",plotBoxColor:"rgb(0,0,0)",plotBox:!0},lastAirBender:{backgroundType:"solid",backgroundWindow:"rgb(236,229,211)",background:"rgb(236,229,211)",foreground:"rgb(51,51,51)",objectBorderColor:"rgb(0,0,0)",fitLineColor:"rgb(255,215,0)",guides:!1,guidesColor:"rgba(255,255,255,0)",legendColor:"rgb(51,51,51)",legendBox:!1,legendBoxColor:"rgba(236,229,211,0)",legendBackgroundColor:"rgba(236,229,211,0)",legendColumns:3,legendInside:!1,legendPosition:"bottom",legendScaleFontFactor:1,lineDecoration:"false",axisTickScaleFontFactor:1,axisTitleScaleFontFactor:1,axisTickColor:"rgb(51,51,51)",axisTitleColor:"rgb(51,51,51)",axisTickThickness:1,axisMinMaxTickThickness:1,xAxisMinorTicks:!0,xAxisMajorTicks:!0,xAxisTickStyle:"solid",xAxisTickColor:"rgb(51,51,51)",xAxisLeftMajorTick:!0,xAxisRightMajorTick:!0,xAxisLeftRightTickColor:"rgb(51,51,51)",yAxisMajorTicks:!0,yAxisMinorTicks:!0,yAxisShow:!0,yAxis2Show:!1,yAxisTickStyle:"solid",yAxisTickColor:"rgb(51,51,51)",yAxisTopMajorTick:!0,yAxisBottomMajorTick:!0,yAxisTopBottomTickColor:"rgb(51,51,51)",titleAlign:"center",titleColor:"rgb(51,51,51)",subtitleAlign:"center",subtitleColor:"rgb(51,51,51)",mapOutlineColor:"rgb(51,51,51)",plotBoxColor:"rgb(51,51,51)",plotBox:!1},gameOfThrones:{backgroundType:"solid",backgroundWindow:"rgb(255,255,255)",background:"rgb(255,255,255)",foreground:"rgb(51,51,51)",objectBorderColor:"rgb(0,0,0)",fitLineColor:"rgb(255,215,0)",guides:!1,guidesColor:"rgba(255,255,255,0)",legendColor:"rgb(51,51,51)",legendBox:!1,legendBoxColor:"rgba(255,255,255,0)",legendBackgroundColor:"rgba(255,255,255,0)",legendColumns:3,legendInside:!1,legendPosition:"bottom",legendScaleFontFactor:1,lineDecoration:"false",axisTickScaleFontFactor:1,axisTitleScaleFontFactor:1,axisTickColor:"rgb(51,51,51)",axisTitleColor:"rgb(51,51,51)",axisTickThickness:1,axisMinMaxTickThickness:1,xAxisMinorTicks:!0,xAxisMajorTicks:!0,xAxisTickStyle:"solid",xAxisTickColor:"rgb(51,51,51)",xAxisLeftMajorTick:!0,xAxisRightMajorTick:!0,xAxisLeftRightTickColor:"rgb(51,51,51)",yAxisMajorTicks:!0,yAxisMinorTicks:!0,yAxisShow:!0,yAxis2Show:!1,yAxisTickStyle:"solid",yAxisTickColor:"rgb(51,51,51)",yAxisTopMajorTick:!0,yAxisBottomMajorTick:!0,yAxisTopBottomTickColor:"rgb(51,51,51)",titleAlign:"center",titleColor:"rgb(51,51,51)",subtitleAlign:"center",subtitleColor:"rgb(51,51,51)",mapOutlineColor:"rgb(51,51,51)",plotBoxColor:"rgb(51,51,51)",plotBox:!1},none:{backgroundType:"solid",backgroundWindow:"rgb(244,244,244)",background:"rgb(255,255,255)",colorScheme:"User",objectBorderColor:"rgb(0,0,0)",fitLineColor:"rgb(255,215,0)",guides:!1,guidesColor:"rgb(204,204,204)",colors:CanvasXpress.colorSchemes.Default[20],legendColor:"rgb(0,0,0)",legendBox:!1,legendBoxColor:"rgb(204,204,204)",legendBackgroundColor:"rgba(255,255,255,0)",legendColumns:1,legendInside:!1,legendPosition:"right",legendScaleFontFactor:1,lineDecoration:"symbol",axisTickScaleFontFactor:1,axisTitleScaleFontFactor:1,axisTickColor:"rgb(0,0,0)",axisTitleColor:"rgb(0,0,0)",axisTickThickness:1,axisMinMaxTickThickness:1,xAxisMinorTicks:!0,xAxisMajorTicks:!0,xAxisTickStyle:"solid",xAxisTickColor:"rgb(204,204,204)",xAxisLeftMajorTick:!0,xAxisRightMajorTick:!0,xAxisLeftRightTickColor:"rgb(204,204,204)",yAxisMajorTicks:!0,yAxisMinorTicks:!0,yAxisShow:!0,yAxis2Show:!1,yAxisTickStyle:"solid",yAxisTickColor:"rgb(204,204,204)",yAxisTopMajorTick:!0,yAxisBottomMajorTick:!0,yAxisTopBottomTickColor:"rgb(204,204,204)",titleAlign:"center",titleColor:"rgb(0,0,0)",subtitleAlign:"center",subtitleColor:"rgb(0,0,0)",mapOutlineColor:"rgb(204,204,204)"}},CanvasXpress.themes.CanvasXpress=CanvasXpress.themes.cx,CanvasXpress.themes.canvasXpress=CanvasXpress.themes.cx,CanvasXpress.themes.canvasxpress=CanvasXpress.themes.cx,CanvasXpress.themes.paultol=CanvasXpress.themes.paulTol,CanvasXpress.themes.PaulTol=CanvasXpress.themes.paulTol,CanvasXpress.R={lty:[[0,0],[],[8,6],[1,3],[1,3,5,3],[14,6],[4,3,8,3]],ltyNames:["blank","solid","dashed","dotted","dotdash","longdash","twodash"]},CanvasXpress.prototype.initDOM=function(){var toStr,isCallable,maxSafeInteger,toLength;this.$=function(t){return window.document.getElementById(t)},this.$cX=function(t,e,i){var a=window.document.createElement(t);if(e)for(var s in e)a[s]=e[s];if(i)for(var s in i)a.style[s]=i[s];return a},this.$cXI=function(t,e,i,a,s){var r=document.createElementNS("http://www.w3.org/2000/svg","svg"),n="";if(CanvasXpress.icons.use.hasOwnProperty(t)){var o='<rect class="cxnc" x="0" y="0" width="100" height="100" />';CanvasXpress.icons.gradients.hasOwnProperty(t)&&(o+=CanvasXpress.icons.gradients[t].replace(/&quot;/g,'"'));for(var h=0;h<CanvasXpress.icons.use[t].length;h++)o+=CanvasXpress.icons.symbols[CanvasXpress.icons.use[t][h]].replace(/&quot;/g,'"').replace(/&apos;/g,"'");var l=function(t){for(var e={},i=t.split(/class=/),a="<style>",s=1;s<i.length;s++){var r=i[s].match(/"(.+?)"/);if(r)for(var n=r[1].split(/\s+/),o=0;o<n.length;o++){var h=n[o];CanvasXpress.icons.classes.hasOwnProperty(h)&&!e.hasOwnProperty(h)&&(a+="."+h+CanvasXpress.icons.classes[h])}}return a+="</style>"}(o);if(s||(s=24),r.setAttribute("xmlns","http://www.w3.org/2000/svg"),r.setAttribute("viewBox","0 0 100 100"),r.setAttribute("style","width:"+s+"px;height:"+s+"px;box-sizing:border-box;"),e)for(var h in e)"className"==h?r.setAttribute("class",e[h]):(r.setAttribute(h,e[h]),"title"==h&&(n="<title>"+e[h]+"</title>"));if(i)for(var h in i)r.style[h]=i[h];r.innerHTML=n+l+o}return a?(new XMLSerializer).serializeToString(r):r},this.$cXIU=function(t,e,i,a){var s="";if(t&&CanvasXpress.icons.use.hasOwnProperty(e)){var r='<rect class="cxnc" x="0" y="0" width="100" height="100" />';CanvasXpress.icons.gradients.hasOwnProperty(e)&&(r+=CanvasXpress.icons.gradients[e].replace(/&quot;/g,'"'));for(var n=0;n<CanvasXpress.icons.use[e].length;n++)r+=CanvasXpress.icons.symbols[CanvasXpress.icons.use[e][n]].replace(/&quot;/g,'"').replace(/&apos;/g,"'");var o=function(t){for(var e={},i=t.split(/class=/),a="<style>",s=1;s<i.length;s++){var r=i[s].match(/"(.+?)"/);if(r)for(var n=r[1].split(/\s+/),o=0;o<n.length;o++){var h=n[o];CanvasXpress.icons.classes.hasOwnProperty(h)&&!e.hasOwnProperty(h)&&(a+="."+h+CanvasXpress.icons.classes[h])}}return a+="</style>"}(r);if(i)for(var n in i)"className"==n?t.setAttribute("class",i[n]):(t.setAttribute(n,i[n]),"title"==n&&(s="<title>"+i[n]+"</title>"));if(a)for(var n in a)t.style[n]=a[n];t.innerHTML=s+o+r}},this.setPixelImage=function(){1==CanvasXpress.instances.length?this.beaconImage=this.$cX("img",{id:this.target+"-cX-Beacon-Image",src:window.navigator.onLine?"https://www.canvasxpress.org/assets/images/beacon.gif?"+CanvasXpress.factory.client:CanvasXpress.png,title:"",alt:""}):this.beaconImage=CanvasXpress.instances[0].beaconImage},this.$$=function(){for(var t=this,e=CanvasXpress,i=function(t){if(t){if(t.length>36)return 0}else t=e[r[4]];var i=t.length,a=Number(t.substring(2,3)),s=Number(t.substring(i-3,i-2)),n=t.substring(3+a,3+a+5)[r[7]]("")[r[8]]()[r[9]](""),o=t.substring(i-(3+s+5),i-(3+s));return Number(n+""+o+"000")},a=["686578546f537472696e67","6472617754657874","666163746f7279","73797374656d","72656769737465726564","76616c6964","737562737472696e67","73706c6974","72657665727365","6a6f696e","43616e766173587072657373","4e6f7420612076616c696420636f7079206f6620","556e737570706f727465642056657273696f6e206f6620","20522056657273696f6e","204e6f64652056657273696f6e","697352566965776572","697352436f6e736f6c65","68726566","2f7777772e63616e7661737870726573732e6f72672f646973742f","72616e646f6d496e744265747765656e","666f6e7453697a65","666f6e744e616d65","69734378706c6f74","6378706c6f742042792043616e766173587072657373"],s=t.hexToString("686578546f537472696e67"),r=[],n=0;n<a.length;n++)r.push(t[s](a[n]));var o=Number(i()),h=Number(t.meta.time.start),l=isNaN(e[r[2]][r[5]])?Number(i(e[r[2]][r[5]])):0,c=new RegExp(r[18]).test(e[r[2]][r[17]])||e[r[3]][r[15]]||e[r[3]][r[16]],d=t[r[22]]?r[23]:r[10];c||o-h<0&&(!l||l-h<0)&&(e[r[2]][r[5]]&&(d=r[11]+r[10]),setTimeout((function(){t.$$$(d)}),1e3*t[r[19]](1,8)))},this.$$$=function(t){for(var e=this,i=["6472617754657874","666f6e744e616d65"],a=e.hexToString("686578546f537472696e67"),s=[],r=0;r<i.length;r++)s.push(e[a](i[r]));var n=e[s[1]]+20+"px";e[s[0]](t,e.width-6,e.height-10,n,"rgba(0,0,0,1)","right","middle")},this.showMask=function(){var t=this.$(this.target),e=this.$(this.target+"canvasXpressLoadingTimer");e&&(e.style.height=parseInt(t.height/2-100.5)+"px",e.style.display="block")},this.hideMask=function(){var t=this.$(this.target+"canvasXpressLoadingTimer");t&&(t.style.display="none"),this.loaded=!0,this.$$()},this.createNewTarget=function(){var t=this.$cX("canvas").setAttribute("id",this.newId("-canvasXpress-"));return window.document.body.appendChild(t),t.id},this.newId=function(t){for(var e=0,i=this.target+t+e;this.meta.ids[i];)e++,i=this.target+t+e;return this.meta.ids[i]=!0,i},this.insertTarget=function(t,e,i,a,s){if(t&&e){var r=this.$(t);if(r)return;r=this.$cX("canvas",{id:t,width:i,height:a}),this.castCanvasAttributes(r),s?e.parentNode.insertBefore(r,e.nextSibling):e.parentNode.insertBefore(r,e)}},this.castCanvasAttributes=function(t,e){e||(e=this.meta.canvas.ctx.canvas),CanvasXpress.transferDatasetAttributes(e,t)},this.removeTarget=function(t){var e=this.$(t);e&&e.parentNode.removeChild(e)},this.getWindowSize=function(){var t=window.document;return[window.innerWidth||t.documentElement.clientWidth||t.body.clientWidth,window.innerHeight||t.documentElement.clientHeight||t.body.clientHeight]},this.getWindowScroll=function(){var t=window.document.documentElement;return[(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0),(window.pageYOffset||t.scrollTop)-(t.clientTop||0)]},this.isInViewport=function(t,e){var i=this.getWindowSize(),a=t.getBoundingClientRect(),s=a.right-.5*this.width,r=a.bottom-.5*this.height;return a.left>=0&&a.top>=0&&s<=i[0]&&r<=i[1]},this.hasClass=function(t,e){return!!t&&t.classList.contains(e)},this.addClass=function(t,e){t&&t.classList.add(e)},this.removeClass=function(t,e){t&&t.classList.remove(e)},this.getComputedCSS=function(t){for(var e="",i=getComputedStyle(t),a=0;a<i.length;a++)e+=i[a]+":"+i.getPropertyValue(i[a])+";";return e},this.cancelEvent=function(t){if(t)return!CanvasXpress.system.browser.match(/safari/i)&&void(t.preventDefault?t.preventDefault():t.returnValue=!1)},this.stopEvent=function(t){t&&(t.stopPropagation?t.stopPropagation():t.cancelBubble=!0)},this.normalizeEvtName=function(t){return CanvasXpress.system.isIE?"on"+t:t},this.copyEvent=function(t){var e={};for(var i in t)e[i]=t[i];return e},this.addEvtListener=function(t,e,i,a){if(t&&"string"==typeof t&&(t=this.$(t)),t&&e&&i){var s=this.meta.events;t.id?(s[t.id]||(s[t.id]={}),s[t.id][e]=[i,a]):(s[t]||(s[t]={}),s[t][e]=[i,a]),CanvasXpress.system.isIE?t.attachEvent(this.normalizeEvtName(e),i):"touchstart"==e?t.addEventListener(e,i,a):"mousewheel"==e?(t.addEventListener(e,i,a),t.addEventListener("DOMMouseScroll",i,a)):t.addEventListener(e,i,a)}},this.removeEvtListener=function(t,e,i,a){if(t&&"string"==typeof t&&(t=this.$(t)),t&&e&&i){var s=this.meta.events,r=s[t.id||t];if(r&&r.hasOwnProperty(e)){delete r[e],CanvasXpress.system.isIE?t.detachEvent(this.normalizeEvtName(e),i):(t.removeEventListener(e,i,a),"mousewheel"==e&&t.removeEventListener("DOMMouseScroll",i,a));var n=this.getKeys(s[t.id||t]);n&&n.length<1&&delete s[t.id||t]}}},this.addRemoveEvtListener=function(t,e,i,a,s){t&&e&&i&&a&&this[t](e,i,a,s)},this.purgeEventListeners=function(){var t=this.meta.events;for(var e in t){var i=this.$(e)||e;for(var a in t[e])this.removeEvtListener(i,a,t[e][0],t[e][1])}},this.preventSelection=function(){var t=window.document;t.selection?t.selection.empty():window.getSelection&&window.getSelection().removeAllRanges()},this.getTargetEvent=function(t){var e=t.target||t.srcElement;return"object"!=typeof e&&(e=this.$(e)),e instanceof SVGElement&&e.ownerSVGElement&&(e=e.ownerSVGElement),e},this.dispatchEvent=function(t,e){t.dispatchEvent(e)},this.requestAnimationFrame=function(t,e){t&&(raf=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame,raf?raf(t):(e||(e=1e3/60),window.setTimeout(t,e)))},this.setTimeout=function(t,e){if(this.isR)setTimeout(t,e);else{var i=this;(function(t){return new Promise((function(e,i){t?setTimeout(e,t):setTimeout(e,1e3)}))})(e).then((function(){t.apply(i)}))}},this.setInterval=function(t,e){return this.logConsole("canvasXpress setInterval ready - "+arguments.callee.caller.name+" - "+e),setInterval(t,e)},"function"!=typeof JSON.decycle&&(JSON.decycle=function(t,e){var i=new WeakMap;return function t(a,s){var r,n;return void 0!==e&&(a=e(a)),"object"!=typeof a||null===a||a instanceof Boolean||a instanceof Date||a instanceof Number||a instanceof RegExp||a instanceof String?a:void 0!==(r=i.get(a))?{$ref:r}:(i.set(a,s),Array.isArray(a)?(n=[],a.forEach((function(e,i){n[i]=t(e,s+"["+i+"]")}))):(n={},Object.keys(a).forEach((function(e){n[e]=t(a[e],s+"["+JSON.stringify(e)+"]")}))),n)}(t,"$")}),"function"!=typeof JSON.retrocycle&&(JSON.retrocycle=function retrocycle($){var px=/^\$(?:\[(?:\d+|"(?:[^\\"\u0000-\u001f]|\\([\\"\/bfnrt]|u[0-9a-zA-Z]{4}))*")\])*$/;return function rez(value){value&&"object"==typeof value&&(Array.isArray(value)?value.forEach((function(element,i){if("object"==typeof element&&null!==element){var path=element.$ref;"string"==typeof path&&px.test(path)?value[i]=eval(path):rez(element)}})):Object.keys(value).forEach((function(name){var item=value[name];if("object"==typeof item&&null!==item){var path=item.$ref;"string"==typeof path&&px.test(path)?value[name]=eval(path):rez(item)}})))}($),$}),Array.from||(Array.from=(toStr=Object.prototype.toString,isCallable=function(t){return"function"==typeof t||"[object Function]"===toStr.call(t)},maxSafeInteger=Math.pow(2,53)-1,toLength=function(t){var e=function(t){var e=Number(t);return isNaN(e)?0:0!==e&&isFinite(e)?(e>0?1:-1)*Math.floor(Math.abs(e)):e}(t);return Math.min(Math.max(e,0),maxSafeInteger)},function(t){var e=this,i=Object(t);if(null==t)throw new TypeError("Array.from requires an array-like object - not null or undefined");var a,s=arguments.length>1?arguments[1]:void 0;if(void 0!==s){if(!isCallable(s))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(a=arguments[2])}for(var r,n=toLength(i.length),o=isCallable(e)?Object(new e(n)):new Array(n),h=0;h<n;)r=i[h],o[h]=s?void 0===a?s(r,h):s.call(a,r,h):r,h+=1;return o.length=n,o})),Array.prototype.fill||Object.defineProperty(Array.prototype,"fill",{value:function(t){if(null==this)throw new TypeError("this is null or not defined");for(var e=Object(this),i=e.length>>>0,a=arguments[1],s=a>>0,r=s<0?Math.max(i+s,0):Math.min(s,i),n=arguments[2],o=void 0===n?i:n>>0,h=o<0?Math.max(i+o,0):Math.min(o,i);r<h;)e[r]=t,r++;return e}}),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){if(null==t)throw new TypeError("Cannot render undefined or null to object");for(var i=Object(t),a=1;a<arguments.length;a++){var s=arguments[a];if(null!=s)for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(i[r]=s[r])}return i},writable:!0,configurable:!0}),Array.prototype.map||(Array.prototype.map=function(t){var e,i,a;if(null==this)throw new TypeError("this is null or not defined");var s=Object(this),r=s.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(arguments.length>1&&(e=arguments[1]),i=new Array(r),a=0;a<r;){var n,o;a in s&&(n=s[a],o=t.call(e,n,a,s),i[a]=o),a++}return i}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),i=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var a=arguments[1],s=0;s<i;){var r=e[s];if(t.call(a,r,s,e))return s;s++}return-1}}),"function"!=typeof window.CustomEvent&&(window.CustomEvent=function(t,e){e=e||{bubbles:!1,cancelable:!1,detail:null};var i=document.createEvent("CustomEvent");return i.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),i}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(t,e){if(null==this)throw new TypeError('"this" is null or not defined');var i=Object(this),a=i.length>>>0;if(0===a)return!1;var s,r,n=0|e,o=Math.max(n>=0?n:a-Math.abs(n),0);for(;o<a;){if((s=i[o])===(r=t)||"number"==typeof s&&"number"==typeof r&&isNaN(s)&&isNaN(r))return!0;o++}return!1}}),this.isInIframe=function(){try{return window.self!==window.top}catch(t){return!0}},this.initializeBrowser=function(){var t=function(){var t,e=window.navigator.userAgent,i=e.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(i[1])?"IE "+((t=/\brv[ :]+(\d+)/g.exec(e)||[])[1]||""):"Chrome"===i[1]&&null!=(t=e.match(/\b(OPR|Edge)\/(\d+)/))?t.slice(1).join(" ").replace("OPR","Opera"):(i=i[2]?[i[1],i[2]]:[window.navigator.appName,window.navigator.appVersion,"-?"],null!=(t=e.match(/version\/(\d+)/i))&&i.splice(1,1,t[1]),i.join(" "))}().split(" "),e=function(){var t=window.navigator.userAgent,e=window.navigator.platform,i=null;return-1!==["Macintosh","MacIntel","MacPPC","Mac68K"].indexOf(e)?i="Mac OS":-1!==["iPhone","iPad","iPod"].indexOf(e)?i="iOS":-1!==["Win32","Win64","Windows","WinCE"].indexOf(e)?i="Windows":/Android/.test(t)?i="Android":!i&&/Linux/.test(e)&&(i="Linux"),i}();CanvasXpress.system={browser:t[0],browserVersion:t[1],os:e,alt:"Mac OS"==e?"&#8997;":"Alt",command:"&#8984;",control:"Mac OS"==e?"&#8963;":"Ctrl",shift:"Mac OS"==e?"&#8679;":"Shift",isjQuery:"function"==typeof $,isReveal:"undefined"!=typeof Reveal,isZoom:"undefined"!=typeof zoom,isIE:"IE"==this.browser,isInIframe:!!t[0].match(/safari/i)||this.isInIframe(),isTouchScreen:"ontouchstart"in window||"onmsgesturechange"in window||window.navigator.maxTouchPoints}}},CanvasXpress.prototype.initSVG=function(){function t(t,e){var i,a=Object.keys(e);for(i=0;i<a.length;i++)t=t.replace(new RegExp("\\{"+a[i]+"\\}","gi"),e[a[i]]);return t}function e(t){var e,i,a;if(!t)throw new Error("cannot create a random attribute name for an undefined object");e="ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",i="";do{for(i="",a=0;a<12;a++)i+=e[Math.floor(Math.random()*e.length)]}while(t[i]);return i}function i(t){var e={left:"start",right:"end",center:"middle",start:"start",end:"end"};return e[t]||e.start}function a(t){var e={alphabetic:"alphabetic",hanging:"hanging",top:"text-before-edge",bottom:"text-after-edge",middle:"central"};return e[t]||e.alphabetic}var s=function(t,e){var i,a,s,r={};for(t=t.split(","),e=e||10,i=0;i<t.length;i+=2)a="&"+t[i+1]+";",s=parseInt(t[i],e),r[a]="&#"+s+";";return r["\\xa0"]="&#160;",r}("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),r={strokeStyle:{svgAttr:"stroke",canvas:"#000000",svg:"none",apply:"stroke"},fillStyle:{svgAttr:"fill",canvas:"#000000",svg:null,apply:"fill"},lineCap:{svgAttr:"stroke-linecap",canvas:"butt",svg:"butt",apply:"stroke"},lineJoin:{svgAttr:"stroke-linejoin",canvas:"miter",svg:"miter",apply:"stroke"},miterLimit:{svgAttr:"stroke-miterlimit",canvas:10,svg:4,apply:"stroke"},lineWidth:{svgAttr:"stroke-width",canvas:1,svg:1,apply:"stroke"},globalAlpha:{svgAttr:"opacity",canvas:1,svg:1,apply:"fill stroke"},font:{canvas:"10px sans-serif"},shadowColor:{canvas:"#000000"},shadowOffsetX:{canvas:0},shadowOffsetY:{canvas:0},shadowBlur:{canvas:0},textAlign:{canvas:"start"},textBaseline:{canvas:"alphabetic"},lineDash:{svgAttr:"stroke-dasharray",canvas:[],svg:null,apply:"stroke"}},n=function(t,e){this.__root=t,this.__ctx=e};n.prototype.addColorStop=function(e,i){var a,s=this.__ctx.__createElement("stop");s.setAttribute("offset",e),-1!==i.indexOf("rgba")?(a=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi.exec(i),s.setAttribute("stop-color",t("rgb({r},{g},{b})",{r:a[1],g:a[2],b:a[3]})),s.setAttribute("stop-opacity",a[4])):s.setAttribute("stop-color",i),this.__root.appendChild(s)};var o=function(t,e){this.__root=t,this.__ctx=e},h=function(t){var e,i={width:500,height:500,enableMirroring:!1};if(arguments.length>1?((e=i).width=arguments[0],e.height=arguments[1]):e=t||i,!(this instanceof h))return new h(e);this.width=e.width||i.width,this.height=e.height||i.height,this.enableMirroring=void 0!==e.enableMirroring?e.enableMirroring:i.enableMirroring,this.canvas=this,this.__document=e.document||document,e.ctx?this.__ctx=e.ctx:(this.__canvas=this.__document.createElement("canvas"),this.__ctx=this.__canvas.getContext("2d")),this.__setDefaultStyles(),this.__stack=[this.__getStyleState()],this.__groupStack=[],this.__root=this.__document.createElementNS("http://www.w3.org/2000/svg","svg"),this.__root.setAttribute("version",1.1),this.__root.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.__root.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),this.__root.setAttribute("width",this.width),this.__root.setAttribute("height",this.height),this.__ids={},this.__defs=this.__document.createElementNS("http://www.w3.org/2000/svg","defs"),this.__root.appendChild(this.__defs),this.__currentElement=this.__document.createElementNS("http://www.w3.org/2000/svg","g"),this.__root.appendChild(this.__currentElement)};h.prototype.__createElement=function(t,e,i){void 0===e&&(e={});var a,s,r=this.__document.createElementNS("http://www.w3.org/2000/svg",t),n=Object.keys(e);for(i&&(r.setAttribute("fill","none"),r.setAttribute("stroke","none")),a=0;a<n.length;a++)s=n[a],r.setAttribute(s,e[s]);return r},h.prototype.__setDefaultStyles=function(){var t,e,i=Object.keys(r);for(t=0;t<i.length;t++)this[e=i[t]]=r[e].canvas},h.prototype.__applyStyleState=function(t){var e,i,a=Object.keys(t);for(e=0;e<a.length;e++)this[i=a[e]]=t[i]},h.prototype.__getStyleState=function(){var t,e,i={},a=Object.keys(r);for(t=0;t<a.length;t++)i[e=a[t]]=this[e];return i},h.prototype.__applyStyleToCurrentElement=function(e){var i=this.__currentElement,a=this.__currentElementsToStyle;a&&(i.setAttribute(e,""),i=a.element,a.children.forEach((function(t){t.setAttribute(e,"")})));var s,h,l,c,d,p=Object.keys(r);for(s=0;s<p.length;s++)if(h=r[p[s]],l=this[p[s]],h.apply)if(l instanceof o){if(l.__ctx)for(;l.__ctx.__defs.childNodes.length;)c=l.__ctx.__defs.childNodes[0].getAttribute("id"),this.__ids[c]=c,this.__defs.appendChild(l.__ctx.__defs.childNodes[0]);i.setAttribute(h.apply,t("url(#{id})",{id:l.__root.getAttribute("id")}))}else if(l instanceof n)i.setAttribute(h.apply,t("url(#{id})",{id:l.__root.getAttribute("id")}));else if(-1!==h.apply.indexOf(e)&&h.svg!==l)if("stroke"!==h.svgAttr&&"fill"!==h.svgAttr||!l.indexOf||-1===l.indexOf("rgba")){var g=h.svgAttr;if("globalAlpha"===p[s]&&(g=e+"-"+h.svgAttr,i.getAttribute(g)))continue;i.setAttribute(g,l)}else{d=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi.exec(l),i.setAttribute(h.svgAttr,t("rgb({r},{g},{b})",{r:d[1],g:d[2],b:d[3]}));var u=d[4],m=this.globalAlpha;null!=m&&(u*=m),i.setAttribute(h.svgAttr+"-opacity",u)}},h.prototype.__closestGroupOrSvg=function(t){return"g"===(t=t||this.__currentElement).nodeName||"svg"===t.nodeName?t:this.__closestGroupOrSvg(t.parentNode)},h.prototype.getSerializedSvg=function(t){var e,i,a,r,n,o=(new XMLSerializer).serializeToString(this.__root);if(/xmlns="http:\/\/www\.w3\.org\/2000\/svg".+xmlns="http:\/\/www\.w3\.org\/2000\/svg/gi.test(o)&&(o=o.replace('xmlns="http://www.w3.org/2000/svg','xmlns:xlink="http://www.w3.org/1999/xlink')),t)for(e=Object.keys(s),i=0;i<e.length;i++)a=e[i],r=s[a],(n=new RegExp(a,"gi")).test(o)&&(o=o.replace(n,r));return o},h.prototype.getSvg=function(){return this.__root},h.prototype.save=function(){var t=this.__createElement("g"),e=this.__closestGroupOrSvg();this.__groupStack.push(e),e.appendChild(t),this.__currentElement=t,this.__stack.push(this.__getStyleState())},h.prototype.restore=function(){this.__currentElement=this.__groupStack.pop(),this.__currentElementsToStyle=null,this.__currentElement||(this.__currentElement=this.__root.childNodes[1]);var t=this.__stack.pop();this.__applyStyleState(t)},h.prototype.__addTransform=function(t){var e=this.__closestGroupOrSvg();if(e.childNodes.length>0){"path"===this.__currentElement.nodeName&&(this.__currentElementsToStyle||(this.__currentElementsToStyle={element:e,children:[]}),this.__currentElementsToStyle.children.push(this.__currentElement),this.__applyCurrentDefaultPath());var i=this.__createElement("g");e.appendChild(i),this.__currentElement=i}var a=this.__currentElement.getAttribute("transform");a?a+=" ":a="",a+=t,this.__currentElement.setAttribute("transform",a)},h.prototype.scale=function(e,i){void 0===i&&(i=e),this.__addTransform(t("scale({x},{y})",{x:e,y:i}))},h.prototype.rotate=function(e){var i=180*e/Math.PI;this.__addTransform(t("rotate({angle},{cx},{cy})",{angle:i,cx:0,cy:0}))},h.prototype.translate=function(e,i){this.__addTransform(t("translate({x},{y})",{x:e,y:i}))},h.prototype.transform=function(e,i,a,s,r,n){this.__addTransform(t("matrix({a},{b},{c},{d},{e},{f})",{a:e,b:i,c:a,d:s,e:r,f:n}))},h.prototype.beginPath=function(){var t;this.__currentDefaultPath="",this.__currentPosition={},t=this.__createElement("path",{},!0),this.__closestGroupOrSvg().appendChild(t),this.__currentElement=t},h.prototype.__applyCurrentDefaultPath=function(){var t=this.__currentElement;"path"===t.nodeName?t.setAttribute("d",this.__currentDefaultPath):console.error("Attempted to apply path command to node",t.nodeName)},h.prototype.__addPathCommand=function(t){this.__currentDefaultPath+=" ",this.__currentDefaultPath+=t},h.prototype.moveTo=function(e,i){"path"!==this.__currentElement.nodeName&&this.beginPath(),this.__currentPosition={x:e,y:i},this.__addPathCommand(t("M {x} {y}",{x:e,y:i}))},h.prototype.closePath=function(){this.__currentDefaultPath&&this.__addPathCommand("Z")},h.prototype.lineTo=function(e,i){this.__currentPosition={x:e,y:i},this.__currentDefaultPath.indexOf("M")>-1?this.__addPathCommand(t("L {x} {y}",{x:e,y:i})):this.__addPathCommand(t("M {x} {y}",{x:e,y:i}))},h.prototype.bezierCurveTo=function(e,i,a,s,r,n){this.__currentPosition={x:r,y:n},this.__addPathCommand(t("C {cp1x} {cp1y} {cp2x} {cp2y} {x} {y}",{cp1x:e,cp1y:i,cp2x:a,cp2y:s,x:r,y:n}))},h.prototype.quadraticCurveTo=function(e,i,a,s){this.__currentPosition={x:a,y:s},this.__addPathCommand(t("Q {cpx} {cpy} {x} {y}",{cpx:e,cpy:i,x:a,y:s}))};var l=function(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]);return[t[0]/e,t[1]/e]};h.prototype.arcTo=function(t,e,i,a,s){var r=this.__currentPosition&&this.__currentPosition.x,n=this.__currentPosition&&this.__currentPosition.y;if(void 0!==r&&void 0!==n){if(s<0)throw new Error("IndexSizeError: The radius provided ("+s+") is negative.");if(r===t&&n===e||t===i&&e===a||0===s)this.lineTo(t,e);else{var o=l([r-t,n-e]),h=l([i-t,a-e]);if(o[0]*h[1]!=o[1]*h[0]){var c=o[0]*h[0]+o[1]*h[1],d=Math.acos(Math.abs(c)),p=l([o[0]+h[0],o[1]+h[1]]),g=s/Math.sin(d/2),u=t+g*p[0],m=e+g*p[1],f=[-o[1],o[0]],y=[h[1],-h[0]],x=function(t){var e=t[0];return t[1]>=0?Math.acos(e):-Math.acos(e)},b=x(f),v=x(y);this.lineTo(u+f[0]*s,m+f[1]*s),this.arc(u,m,s,b,v)}else this.lineTo(t,e)}}},h.prototype.stroke=function(){"path"===this.__currentElement.nodeName&&this.__currentElement.setAttribute("paint-order","fill stroke markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("stroke")},h.prototype.fill=function(){"path"===this.__currentElement.nodeName&&this.__currentElement.setAttribute("paint-order","stroke fill markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("fill")},h.prototype.rect=function(t,e,i,a){"path"!==this.__currentElement.nodeName&&this.beginPath(),this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+a),this.lineTo(t,e+a),this.lineTo(t,e),this.closePath()},h.prototype.fillRect=function(t,e,i,a){var s;s=this.__createElement("rect",{x:t,y:e,width:i,height:a},!0),this.__closestGroupOrSvg().appendChild(s),this.__currentElement=s,this.__applyStyleToCurrentElement("fill")},h.prototype.strokeRect=function(t,e,i,a){var s;s=this.__createElement("rect",{x:t,y:e,width:i,height:a},!0),this.__closestGroupOrSvg().appendChild(s),this.__currentElement=s,this.__applyStyleToCurrentElement("stroke")},h.prototype.__clearCanvas=function(){for(var t=this.__closestGroupOrSvg().getAttribute("transform"),e=this.__root.childNodes[1],i=e.childNodes,a=i.length-1;a>=0;a--)i[a]&&e.removeChild(i[a]);this.__currentElement=e,this.__groupStack=[],t&&this.__addTransform(t)},h.prototype.clearRect=function(t,e,i,a){if(0!==t||0!==e||i!==this.width||a!==this.height){var s,r=this.__closestGroupOrSvg();s=this.__createElement("rect",{x:t,y:e,width:i,height:a,fill:"#FFFFFF"},!0),r.appendChild(s)}else this.__clearCanvas()},h.prototype.createLinearGradient=function(t,i,a,s){var r=this.__createElement("linearGradient",{id:e(this.__ids),x1:t+"px",x2:a+"px",y1:i+"px",y2:s+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(r),new n(r,this)},h.prototype.createRadialGradient=function(t,i,a,s,r,o){var h=this.__createElement("radialGradient",{id:e(this.__ids),cx:s+"px",cy:r+"px",r:o+"px",fx:t+"px",fy:i+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(h),new n(h,this)},h.prototype.__parseFont=function(){var t=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-,\'\"\sa-z0-9]+?)\s*$/i.exec(this.font),e={style:t[1]||"normal",size:t[4]||"10px",family:t[6]||"sans-serif",weight:t[3]||"normal",decoration:t[2]||"normal",href:null};return"underline"===this.__fontUnderline&&(e.decoration="underline"),this.__fontHref&&(e.href=this.__fontHref),e},h.prototype.__wrapTextLink=function(t,e){if(t.href){var i=this.__createElement("a");return i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t.href),i.appendChild(e),i}return e},h.prototype.__applyText=function(t,e,s,r){var n=this.__parseFont(),o=this.__closestGroupOrSvg(),h=this.__createElement("text",{"font-family":n.family,"font-size":n.size,"font-style":n.style,"font-weight":n.weight,"text-decoration":n.decoration,x:e,y:s,"text-anchor":i(this.textAlign),"dominant-baseline":a(this.textBaseline)},!0);h.appendChild(this.__document.createTextNode(t)),this.__currentElement=h,this.__applyStyleToCurrentElement(r),o.appendChild(this.__wrapTextLink(n,h))},h.prototype.fillText=function(t,e,i){this.__applyText(t,e,i,"fill")},h.prototype.strokeText=function(t,e,i){this.__applyText(t,e,i,"stroke")},h.prototype.measureText=function(t){return this.__ctx.font=this.font,this.__ctx.measureText(t)},h.prototype.arc=function(e,i,a,s,r,n){if(s!==r){(s%=2*Math.PI)===(r%=2*Math.PI)&&(r=(r+2*Math.PI-.001*(n?-1:1))%(2*Math.PI));var o=e+a*Math.cos(r),h=i+a*Math.sin(r),l=e+a*Math.cos(s),c=i+a*Math.sin(s),d=n?0:1,p=0,g=r-s;g<0&&(g+=2*Math.PI),p=n?g>Math.PI?0:1:g>Math.PI?1:0,this.lineTo(l,c),this.__addPathCommand(t("A {rx} {ry} {xAxisRotation} {largeArcFlag} {sweepFlag} {endX} {endY}",{rx:a,ry:a,xAxisRotation:0,largeArcFlag:p,sweepFlag:d,endX:o,endY:h})),this.__currentPosition={x:o,y:h}}},h.prototype.clip=function(){var i=this.__closestGroupOrSvg(),a=this.__createElement("clipPath"),s=e(this.__ids),r=this.__createElement("g");this.__applyCurrentDefaultPath(),i.removeChild(this.__currentElement),a.setAttribute("id",s),a.appendChild(this.__currentElement),this.__defs.appendChild(a),i.setAttribute("clip-path",t("url(#{id})",{id:s})),i.appendChild(r),this.__currentElement=r},h.prototype.drawImage=function(){var t,e,i,a,s,r,n,o,l,c,d,p,g,u=Array.prototype.slice.call(arguments),m=u[0],f=0,y=0;if(3===u.length)t=u[1],e=u[2],i=s=m.width,a=r=m.height;else if(5===u.length)t=u[1],e=u[2],i=u[3],a=u[4],s=m.width,r=m.height;else{if(9!==u.length)throw new Error("Inavlid number of arguments passed to drawImage: "+arguments.length);f=u[1],y=u[2],s=u[3],r=u[4],t=u[5],e=u[6],i=u[7],a=u[8]}n=this.__closestGroupOrSvg(),this.__currentElement;var x="translate("+t+", "+e+")";if(m instanceof h){if((o=m.getSvg().cloneNode(!0)).childNodes&&o.childNodes.length>1){for(l=o.childNodes[0];l.childNodes.length;)g=l.childNodes[0].getAttribute("id"),this.__ids[g]=g,this.__defs.appendChild(l.childNodes[0]);if(c=o.childNodes[1]){var b,v=c.getAttribute("transform");b=v?v+" "+x:x,c.setAttribute("transform",b),n.appendChild(c)}}}else"CANVAS"!==m.nodeName&&"IMG"!==m.nodeName||((d=this.__createElement("image")).setAttribute("width",i),d.setAttribute("height",a),d.setAttribute("preserveAspectRatio","none"),(f||y||s!==m.width||r!==m.height)&&((p=this.__document.createElement("canvas")).width=i,p.height=a,p.getContext("2d").drawImage(m,f,y,s,r,0,0,i,a),m=p),d.setAttribute("transform",x),d.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","CANVAS"===m.nodeName?m.toDataURL():m.getAttribute("src")),n.appendChild(d))},h.prototype.createPattern=function(t,i){var a,s=this.__document.createElementNS("http://www.w3.org/2000/svg","pattern"),r=e(this.__ids);return s.setAttribute("id",r),s.setAttribute("width",t.width),s.setAttribute("height",t.height),"CANVAS"===t.nodeName||"IMG"===t.nodeName?((a=this.__document.createElementNS("http://www.w3.org/2000/svg","image")).setAttribute("width",t.width),a.setAttribute("height",t.height),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","CANVAS"===t.nodeName?t.toDataURL():t.getAttribute("src")),s.appendChild(a),this.__defs.appendChild(s)):t instanceof h&&(s.appendChild(t.__root.childNodes[1]),this.__defs.appendChild(s)),new o(s,this)},h.prototype.setLineDash=function(t){t&&t.length>0?this.lineDash=t.join(","):this.lineDash=null},h.prototype.drawFocusRing=function(){},h.prototype.createImageData=function(){},h.prototype.getImageData=function(){},h.prototype.putImageData=function(){},h.prototype.globalCompositeOperation=function(){},h.prototype.setTransform=function(){},this.canvasToSVG=h},CanvasXpress.prototype.initInterface=function(){this.parseJSON=function(s,r){return s.toString().match(/<!DOCTYPE/)?void 0:r?JSON.parse(s,r):JSON.parse(s,(function(k,v){return"string"==typeof v&&v.startsWith&&v.startsWith("/Function(")&&v.endsWith&&v.endsWith(")/")?(v=v.substring(10,v.length-2).replace(/&quot;/g,'"'),eval("("+v+")")):v}))},this.stringifyJSON=function(t,e,i){return e?JSON.stringify(t,e,i||null):!!t&&JSON.stringify(t,(function(t,e){if("function"==typeof e)return"/Function("+e.toString().replace(/"/g,"&quot;")+")/";if("state"!=t&&"stateIndex"!=t&&"gantt"!=t&&"events"!=t){if(e instanceof Array){for(var i in e)if(Array.isArray(e[i])||e[i]instanceof Object)return e;return JSON.stringify(e)}return e}}),i||null).replace(/\\n/g,"").replace(/\\/g,"").replace(/\"\[/g,"[").replace(/\]\"/g,"]").replace(/\"\{/g,"{").replace(/\}\"/g,"}").replace(/u0000/g,"")},this.isValidURL=function(t){return new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.?)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;,\\s\\(\\)\\[\\]&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(t)},this.stringToXML=function(t){var e=!1;return window.DOMParser?e=(new DOMParser).parseFromString(t,"text/xml"):void 0!==window.ActiveXObject&&new window.ActiveXObject("Microsoft.XMLDOM")&&((e=new window.ActiveXObject("Microsoft.XMLDOM")).async="false",e.loadXML(t)),e},this.isValidXML=function(t){var e=this.stringToXML(t);return null!=e&&0==e.getElementsByTagName("parsererror").length},this.isValidJSON=function(t){try{JSON.parse(t)}catch(t){return!1}return!0},this.isValidDelimitedFile=function(t){var e=this.delimitedToArray(t);return this.isArray(e)&&this.isArray(e[0])},this.isValidString=function(t){var e={type:!1,data:!1};return this.isValidURL(t)?(e.type="URL",e.data=t):this.isValidXML(t)?(e.type="XML",e.data=this.stringToXML(t)):this.isValidJSON(t)?(e.type="JSON",e.data=JSON.parse(t)):this.isValidDelimitedFile(t)&&(e.type="DELIM",e.data=this.delimitedToArray(t,!1,!0,"Network"==this.graphType)),e},this.loadParamsFile=function(t){return function(e){t.removeMenus(),t.resetConfigurator(e);var i=e.target.files[0],a=(i.type,i.name.split(".")),s=new FileReader;"json"==a.pop()?(s.onload=function(){try{var i=t.parseJSON(s.result);for(var a in t.setConfigDefaults(),t.layoutValid=!1,i.config)t[a]=i.config[a];if(i.afterRender)for(var r=0;r<i.afterRender.length;r++){var n=i.afterRender[r],o=n[0],h=n[1]||[];t[o].apply(t,h)}else t.draw({func:"loadParamsFile",par:e})}catch(t){alert("Oooops! Not a valid CanvasXpress json parameter file")}},s.readAsText(i)):alert("Oooops! Not a valid CanvasXpress json parameter file")}}(this),this.parseDataFromPNG=function(t){var e=new DataView(t),i=e.getUint32(8),a=e.getUint32(16+i+4);if(function(t,e){for(var i="",a=0;a<4;a++)i+=String.fromCharCode(t.getUint8(e+a));return"tEXt"==i}(e,16+i+4+4)&&function(t,e,i){for(var a="",s=0;s<i;s++)a+=String.fromCharCode(t.getUint8(e+s));return a.match(/CanvasXpress/)}(e,16+i+4+4+4,a)){for(var s=e.getUint32(16+i+4+4+4+a+4),r=16+i+4+4+4+a+4+4+4,n="",o=0;o<s;o++)n+=String.fromCharCode(e.getUint8(r+o));return n=n.replace("ReproducibleResearch\0",""),this.parseJSON(n)}alert("Oooops! Not a valid CanvasXpress Image")},this.parseNodeLinks=function(t){for(var e=[],i=[],a=[],s=[],r=0;r<t.links.length;r++){var n=t.links[r];n.source&&n.target&&n.value&&(a.push(n.source),s.push(n.target),i.push(n.value),e.push("Smp"+(r+1)))}return{renderTo:"newSankey",data:{y:{vars:["Weight"],smps:e,data:[i]},x:{Source:a,Target:s}},config:{graphType:"Sankey",sankeySource:"Source",sankeyTarget:"Target"}}},this.parseHierarchy=function(t){var e=this;return function(i){for(var a=0,s=[],r=[],n={},o=function(t,i,h,l){return Array.prototype.concat.apply(t.map((function(t){n.hasOwnProperty(t.name)||(n[t.name]=0),n[t.name]++,n[t.name]>1&&(t.name+=n[t.name]);var i=e.cloneObject(t);return i.level=h||1,i.parent=l||null,i})),t.map((function(t){return a=Math.max(a,(h||1)+1),t.children||(s.push(t.name),r.push(t.value||1)),o(i(t)||[],i,(h||1)+1,t.name)})))},h=function(t){return t.children||null},l=o(h(i),h).map((function(t){return t.n=t.children?t.children.length:0,delete t.children&&t})),c={y:{vars:["Dummy"],smps:s,data:[r]},x:{}},d=0;d<c.y.smps.length;d++)for(var p=0;p<l.length;p++)if(!l[p].n&&c.y.smps[d]==l[p].name){l[p].smp=d;break}var g=[],u=t.name;c.x[u]=[],g.push(u);for(d=2;d<a-1;d++)c.x[u+d]=[],g.push(u+d);var m={};for(d=0;d<l.length;d++)m[l[d].name]=d;for(d=0;d<g.length;d++)for(p=0;p<c.y.smps.length;p++)c.x[g[d]][p]=null;for(d=0;d<l.length;d++)if(l[d].parent){var f=m[l[d].parent],y=l[d].smp,x=l[d].level-1,b=l[f].parent;for(c.x[u+(x>1?x:"")][y]=l[f].name;b;)x=l[f=m[b]].level,c.x[u+(x>1?x:"")][y]=l[f].name,b=l[f].parent}return{renderTo:"newTree",data:c,config:{graphType:"Tree",hierarchy:g}}}(t)},this.loadFile=function(t){return function(e,i,a,s){t.removeMenus(),t.resetConfigurator(e),t.showMask();var r=function(e){if(e.config&&e.config.backgroundImage&&e.config.backgroundImage.match(/^javascript:\/\//)&&e.config.backgroundImageSrc){var i=new Image;i.id=e.config.backgroundImage.split("//")[1],i.style.display="none",i.src="data:image/png;base64,"+atob(e.config.backgroundImageSrc),document.body.appendChild(i),CanvasXpress.cacheImages[t.getFileName(i.src)]=i}},n=s||(e.target?e.target.files[0]:e.files[0]),o=n.type,h=n.name.split("."),l=new FileReader;if("image/png"==o){l.onload=function(){var e=new DataView(this.result),s=e.getUint32(8),n=e.getUint32(16+s+4);if(function(t,e){for(var i="",a=0;a<4;a++)i+=String.fromCharCode(t.getUint8(e+a));return"tEXt"==i}(e,16+s+4+4)&&function(t,e,i){for(var a="",s=0;s<i;s++)a+=String.fromCharCode(t.getUint8(e+s));return a.match(/CanvasXpress/)}(e,16+s+4+4+4,n)){for(var o=e.getUint32(16+s+4+4+4+n+4),h=16+s+4+4+4+n+4+4+4,l="",c=0;c<o;c++)l+=String.fromCharCode(e.getUint8(h+c));l=l.replace("ReproducibleResearch\0","");var d=t.parseJSON(l);if(i)return d;r(d),d.hasOwnProperty("config")&&delete d.config.remoteService,d.uploadFile=!0,t.remoteServiceType="file",t.updateRemoteData(d,a),t.hideMask()}else t.hideMask(),alert("Oooops! Not a valid CanvasXpress Image")},l.readAsArrayBuffer(n)}else{var c=h.pop();"json"==c?l.onload=function(){try{var n=t.parseJSON(l.result);if(r(n),n.data||n&&n.config&&n.config.graphType&&"Map"==n.config.graphType)n.config.topoJSON&&n.config.mapId&&(delete window[n.config.mapId],delete t.meta.map,delete t.topoJSON,delete t.topoJSONURL),n.uploadFile=!0,t.remoteServiceType="file",t.updateRemoteData(n,a),t.hideMask();else if(n.config){for(var o in t.setConfigDefaults(),t.layoutValid=!1,n.config)t[o]=n.config[o];if(n.afterRender)for(var h=0;h<n.afterRender.length;h++){var c=n.afterRender[h],d=c[0],p=c[1]||[];t[d].apply(t,p)}else t.draw({func:"loadFile",par:[e,i,a,s]})}else if(n.children&&n.children.length)(n=t.parseHierarchy(n)).uploadFile=!0,t.remoteServiceType="file",t.updateRemoteData(n,a),t.hideMask();else if(n.nodes&&n.links)(n=t.parseNodeLinks(n)).uploadFile=!0,t.remoteServiceType="file",t.updateRemoteData(n,a),t.hideMask();else if(n.type&&n.type.match(/FeatureCollection|Topology/)){var g={data:!1,config:{graphType:"Map",topoJSON:n,mapId:"cXMap"}};window.cXMap=n,t.updateData(g),t.hideMask()}else n.error.error}catch(e){t.hideMask(),alert("Oooops! Not a valid CanvasXpress json file")}}:"geojson"==c?l.onload=function(){try{var e=t.parseJSON(l.result);if(e.type&&e.type.match(/FeatureCollection|Topology/)){var i={data:!1,config:{graphType:"Map",topoJSON:e,mapId:"cXMap"}};window.cXMap=e,t.updateData(i),t.hideMask()}else e.error.error}catch(e){t.hideMask(),alert("Oooops! Not a valid geojson file")}}:"svg"==c?l.onload=function(){try{var e=t.SVGtoCX(l.result);e.uploadFile=!0,t.remoteServiceType="file",t.updateRemoteData(e,a),t.hideMask()}catch(e){t.hideMask(),alert("Oooops! Not a valid CanvasXpress json file")}}:"txt"==c||"csv"==c||"tsv"==c||"tab"==c?l.onload=function(){try{var e=l.result,i=0,s=0;e.match(/,/g)&&(i=e.match(/,/g).length),e.match(/\t/g)&&(s=e.match(/\t/g).length);var r,n="csv"==c&&i>s?",":"\t";if("Network"==t.graphType){if((r=t.delimitedToArray(e,n,!1,!0))&&!t.isArray(r)){var o="";return r.fail>0&&(o=r.fail+" records couldn't be mapped to network data"),alert(r.rows+" "+r.type+" records added to network data\n"+o),"node"==r.type?t.appendNodeData(r.data):t.appendEdgeData(r.data),void t.hideMask()}r=t.arrayToCanvasXpress(r)}else{if((r=t.isMetaDataFile(t.delimitedToArray(e,n),"Map"==t.graphType))&&!t.isArray(r))return r.addt?alert(r.recs+" records added as an additional data set\n"):alert(r.recs+" records added to meta data\n"),t.appendMetaData(r.data,r.addt),void t.hideMask();r=t.arrayToCanvasXpress(r)}r.renderTo=h[0].replace(/\s/g,"").replace(/\(/g,"").replace(/\)/g,""),r.uploadFile=!0,t.remoteServiceType="file",t.updateRemoteData(r,a),t.hideMask()}catch(e){t.hideMask(),alert("Oooops! Not a valid CanvasXpress delimited file")}}:"esv"==c?l.onload=function(){try{var e=l.result,i=0,s=0;e.match(/,/g)&&(i=e.match(/,/g).length),e.match(/\t/g)&&(s=e.match(/\t/g).length);var r=i>s?",":"\t",n=t.delimitedToArray(e,r,!1,!0,"edge");n.renderTo=h[0],n.uploadFile=!0,t.remoteServiceType="file",t.updateRemoteData(n,a),t.hideMask()}catch(e){t.hideMask(),alert("Oooops! Not a valid CanvasXpress delimited file")}}:"gml"==c?l.onload=function(){try{var e=t.parseGML(l.result);e.renderTo=h[0],e.uploadFile=!0,t.remoteServiceType="file",t.updateRemoteData(e,a),t.hideMask()}catch(e){t.hideMask(),alert("Oooops! Not a valid gml file for CanvasXpress")}}:"gexf"==c?l.onload=function(){t.remoteServiceType="file";try{var e=t.parseXML(l.result);t.gexfToCX(e,h[0])}catch(e){t.hideMask(),alert("Oooops! Not a valid "+c+" file for CanvasXpress")}}:c.match(/ml$/)&&(l.onload=function(){try{var e=t.parseXML(l.result);t.loadXML(e,h[0])}catch(e){t.hideMask(),alert("Oooops! Not a valid "+c+" file for CanvasXpress")}}),l.readAsText(n)}}}(this),this.loadXML=function(t,e,i,a){this.remoteServiceType="file";var s=t.childNodes[0],r=t.childNodes[2]||t.childNodes[1];s.tagName&&"map"==s.tagName.toLowerCase()?this.metabaseToCX(t,e,i,a):s.tagName&&"graph"==s.tagName.toLowerCase()?this.cytoscapeToCX(t,e,i,a):s.tagName&&"pathway"==s.tagName.toLowerCase()?this.wikipathwayToCX(t,e,i,a):r&&r.tagName&&"pathway"==r.tagName.toLowerCase()&&this.keggToCX(t,e,i,a)},this.editJSFiddle=function(t){return function(e,i){if(t.editable||i){t.removeMenus();var a="onReady(function () {\n"+t.getCodeJSONJS()+"})",s="<link rel='stylesheet' href='https://www.canvasxpress.org/dist/canvasXpress.css' type='text/css'/>\n";s+="<script type='text/javascript' src='https://www.canvasxpress.org/dist/canvasXpress.min.js'><\/script>\n\n",s+="<canvas id='"+t.target+"' width='"+t.width+"' height='"+t.height+"'></canvas>";var r=t.$cX("form",{id:"submitToJSFiddle",method:"post",action:"https://jsfiddle.net/api/post/library/pure/",target:"check"},{display:"none"});document.body.appendChild(r);var n=t.$cX("textarea",{name:"title",value:t.title||"CanvasXpress"}),o=t.$cX("textarea",{name:"html",value:s}),h=t.$cX("textarea",{name:"js",value:a}),l=t.$cX("button",{type:"submit"});r.appendChild(n),r.appendChild(o),r.appendChild(h),r.appendChild(l),l.click(),document.body.removeChild(r)}}}(this),this.editCodePen=function(t){return function(e,i){if(t.editable||i){t.removeMenus();var a="onReady(function () {\n"+t.getCodeJSONJS().replace(/\'/g,"")+"})",s='<link rel="stylesheet" href="https://www.canvasxpress.org/dist/canvasXpress.css" type="text/css"/>\n';s+='<script type="text/javascript" src="https://www.canvasxpress.org/dist/canvasXpress.min.js"><\/script>\n\n',s+='<canvas id="'+t.target+'" width="'+t.width+'" height="'+t.height+'"></canvas>';var r="https://www.canvasxpress.org/dist/canvasXpress.css;https://www.canvasxpress.org/dist/canvasXpress.min.js",n=t.title;n='{"title": "CanvasXpress", "html": "'+s.replace(/"/g,"'")+'", "js": "'+a.replace(/"/g,"'")+'", "js_external": "'+r.replace(/"/g,"'")+'"}';var o=t.$cX("form",{id:"submitToCodePen",method:"post",action:"https://codepen.io/pen/define",target:"_blank"},{display:"none"});document.body.appendChild(o);var h=t.$cX("input",{type:"hidden",name:"data",value:n}),l=t.$cX("button",{type:"submit"});o.appendChild(h),o.appendChild(l),l.click(),document.body.appendChild(o)}}}(this),this.saveCurrent=function(){this.resortData();for(var t=CanvasXpress.stack[this.target],e=t.afterRender,i=[],a=0;a<e.length;a++)e[a][0].match(/^sort/)&&i.push(this.cloneObject(e[a]));return this.prettyJSON({renderTo:t.renderTo,data:this.data,config:this.getConfig(),afterRender:i,factory:t.factory,system:t.system,version:t.version})},this.save=function(t){return function(e,i,a,s){t.removeMenus(),t.resetConfigurator(e);var r,n=i?i+".json":t.saveFilename?t.saveFilename+".json":"cX-"+t.target+".json";n=n.replace(/.json.json$/,".json"),CanvasXpress.stack[t.target].factory=CanvasXpress.factory,CanvasXpress.stack[t.target].system=CanvasXpress.system,r=a?t.prettyJSON({config:CanvasXpress.stack[t.target].config,afterRender:CanvasXpress.stack[t.target].afterRender||[]}):s||e&&(e.ctrlKey||e.altKey)?t.saveCurrent():t.prettyJSON(t.cleanDataObject(t.cloneObject(CanvasXpress.stack[t.target])));var o=new Blob([r],{type:"text/plain"});t.saveAs(o,n)}}(this),this.saveSVG=function(t){return function(e,i){t.removeMenus(),t.resetConfigurator(e),CanvasXpress.stack[t.target].factory=CanvasXpress.factory,CanvasXpress.stack[t.target].system=CanvasXpress.system,t.isSVG=!0;var a=t.showTransition;t.showTransition=!1,t.meta.canvas.SVG=new this.canvasToSVG({width:t.width,height:t.height,desc:t.isReproducibleResearch?t.prettyJSON(t.cleanDataObject(t.cloneObject(CanvasXpress.stack[t.target]))):""}),t.renderGraph(!0);var s=t.meta.canvas.SVG.getSerializedSvg();t.isReproducibleResearch&&t.flashInfoSpan(100,100,"<h2>Please be aware <br>the actual data is stored<br>inside the downloaded image</h2>",5e3);var r=i?i+".svg":t.saveFilename?t.saveFilename+".svg":"cX-"+t.target+".svg";r=r.replace(/.svg.svg$/,".svg");var n=new Blob([s],{type:"image/svg+xml"});t.saveAs(n,r),t.showTransition=a,delete t.meta.canvas.SVG,t.isSVG=!1}}(this),this.parseXML=function(t){var e=null;if(window.DOMParser)try{e=(new DOMParser).parseFromString(t,"text/xml")}catch(t){e=null}else if(window.ActiveXObject)try{(e=new ActiveXObject("Microsoft.XMLDOM")).async=!1,e.loadXML(t)||window.alert(e.parseError.reason+e.parseError.srcText)}catch(t){e=null}else alert("cannot parse xml string!");return e},this.parseHTMLTable=function(t,e){for(var i=[],a=0;a<t.rows.length;a++){for(var s=[],r=0;r<t.rows.item(a).cells.length;r++)s.push(t.rows.item(a).cells.item(r).innerHTML);i.push(s)}return e?(e=this.arrayToCanvasXpress(i),CanvasXpress.transferDatasetAttributes(t,e.config,!0),e):i},this.SVGtoCX=function(t){var e=this.parseXML(t).childNodes[0];if(e.tagName.match(/svg/i)){var i=e.getAttribute("desc");if(i)return this.parseJSON(i)}},this.arrayBufferToBase64=function(t){for(var e="",i=new Uint8Array(t),a=i.byteLength,s=0;s<a;s++)e+=String.fromCharCode(i[s]);return window.btoa(e)},this.base64ToArrayBuffer=function(t){for(var e=window.atob(t),i=e.length,a=new Uint8Array(i),s=0;s<i;s++)a[s]=e.charCodeAt(s);return a.buffer},this.print=function(t){return function(e,i,a){var s=window,r=t.width,n=t.height,o=t.printMagnification,h=t.autoScaleFont,l=t.showTransition,c=t.skipStack,d=["outlineWidth","lineThickness","axisTickThickness","axisMinMaxTickThickness","guidesWidth","boxplotMedianWidth","boxplotConnectWidth","treeLinkWidth","connectByWidth","histogramBarWidth","heatmapCellBoxWidth","heatmapCellBoxHighlightWidth","edgeThickness","maxTextSize","treemapBorderWidth","errorBarsThickness","ganttDependencyThickness"];CanvasXpress.stack.hasOwnProperty(t.target)||(t=CanvasXpress.getObject(CanvasXpress.current.replace("-events","")));var p=function(e){if(e&&1!=o){for(var i=0;i<d.length;i++)t[d[i]]/=o;t.autoScaleFont=h,t.showTransition=l,t.setDimensions(r,n,!0),t.skipStack=c}else if(1!=o){t.skipStack=!0,t.showTransition=!1;for(i=0;i<d.length;i++)t[d[i]]*=o;t.autoScaleFont=!0,t.setDimensions(r*o,n*o,!0)}},g=function(t,e){var i=new Uint8Array(t.byteLength+e.byteLength);return i.set(new Uint8Array(t),0),i.set(new Uint8Array(e),t.byteLength),i.buffer},u=function(t){var e=t.length,i=function(t){for(var e=s.crcTable||(s.crcTable=function(){for(var t,e=[],i=0;i<256;i++){t=i;for(var a=0;a<8;a++)t=1&t?3988292384^t>>>1:t>>>1;e[i]=t}return e}()),i=-1,a=0;a<t.length;a++)i=i>>>8^e[255&(i^t.charCodeAt(a))];return(-1^i)>>>0}("tEXt"+t),a=new ArrayBuffer(12+e),r=new DataView(a);r.setUint32(0,e);for(var n=0;n<"tEXt".length;n++)r.setUint8(4+n,"tEXt".charCodeAt(n));for(n=0;n<t.length;n++)r.setUint8(8+n,t.charCodeAt(n));return r.setUint32(8+e,i),a};p(),t.removeMenus(),t.resetConfigurator(e),CanvasXpress.stack[t.target].factory=CanvasXpress.factory,CanvasXpress.stack[t.target].system=CanvasXpress.system,CanvasXpress.factory.valid||t.$$$("CanvasXpress"),t.meta.canvas.ctx.canvas.toBlob((function(s){var r=new FileReader,n=i?i+".png":t.saveFilename?t.saveFilename+".png":"cX-"+t.target+".png";n=n.replace(/.png.png$/,".png"),r.onloadend=function(){var i=16+new DataView(this.result).getUint32(8)+4,s=this.result.slice(0,i),r=this.result.slice(i),o=function(t,e,i,a){var s=g(t,e);return s=g(s,i),s=g(s,a)}(s,u("Software\0CanvasXpress Version: "+CanvasXpress.factory.version),u("ReproducibleResearch\0"+function(){if(t.isReproducibleResearch)return 1!=t.printMagnification&&delete CanvasXpress.stack[t.target].config.showTransition,e&&(e.ctrlKey||e.altKey)?t.saveCurrent():t.stringifyJSON(t.cleanDataObject(t.cloneObject(CanvasXpress.stack[t.target])));var i=t.parseJSON(e.ctrlKey||e.altKey?t.saveCurrent():t.stringifyJSON(CanvasXpress.stack[t.target]));return i.afterRender=[i.afterRender[0]],t.stringifyJSON(i)}()),r),h=new Blob([o],{type:"image/png"});t.meta.base64=t.arrayBufferToBase64(o),a?a(h,n):"download"==t.printType?(t.isReproducibleResearch&&t.flashInfoSpan(100,100,"<h2>Please be aware <br>the actual data is stored<br>inside the downloaded image</h2>",5e3),t.saveAs(h,n)):function(i){var a=new FileReader,s="";t.isReproducibleResearch?s+="<h2>Please be aware that the actual data is stored inside the image! Right click to save!</h2>":s+="<h2>Right click to save image</h2>",a.onload=function(i){s+="<img width="+t.width+" height="+t.height+" src= '"+i.target.result+"'/>",t.showTooltipDiv(e,s,t.getTargetEvent(e),{maxWidth:t.width+"px",whiteSpace:"normal"},40,40)},a.readAsDataURL(i)}(h),p(!0)},r.readAsArrayBuffer(s)}),"image/png"),t.maximized&&t.clickGraphMaxMin(e)}}(this),this.exportToSVG=function(t){return function(e){var i=t.meta.canvas.ctx;t.meta.canvas.ctx=new this.canvasToSVG({width:t.width,height:t.height}),t.draw({func:"exportToSVG",par:[e]});var a=t.prettyXML(t.meta.canvas.ctx.getSerializedSvg());return window.open("",t.target+"-SVG").document.write(a),t.meta.canvas.ctx=i,t.draw({func:"exportToSVG",par:[e]}),!1}}(this),this.exportToExcel=function(t){return this.exportToTabDelimited(t)},this.exportToHTML=function(t,e){for(var i="<table>",a=0;a<t.length;a++)i+="<tr><td>",i+=t[a].join("</td><td>"),i+="</td></tr>";return i+="</table>",e?i:window.open().document.write(i)},this.exportToTabDelimited=function(t){for(var e="",i=0;i<t.length;i++)e+=t[i].join("\t")+"\n";var a=this.$(this.target+"-cX-linkTab");a||(a=this.$cX("a",{id:this.target+"-cX-linkTab"},{display:"none"}),window.document.body.appendChild(a)),a.download=this.target+".tsv",a.href="data:text/tab-separated-values;charset=UTF-8,"+encodeURIComponent(e),a.click()},this.arrayToHTML=function(t){var e="";if(t[0].length){e+='<div class="CanvasXpressDataTableContainer" style="overflow:scroll;max-height:400px;max-width:600px;position:inherit;padding-left:18px;">',e+='<table class="CanvasXpressDataTable" style="position:inherit;">',e+="<tbody>",e+="<tr>";for(var i=0;i<t[0][0].length;i++)e+='<th class="CanvasXpressTableCellHead" style="height:18px">',e+='<div class="CanvasXpressTableCell" style="height:18px">',e+=t[0][0][i],e+="</div>",e+="</th>";e+="</tr>";for(i=1;i<t[0].length;i++){e+="<tr>";for(var a=0;a<t[0][i].length;a++)0==a?(e+='<th class="CanvasXpressTableCellHead" style="height:18px">',e+='<div class="CanvasXpressTableCell" style="height:18px">',e+=t[0][i][a],e+="</div>",e+="</th>"):(t[2]&&t[2][i]&&t[2][i][a]?e+='<td class="CanvasXpressTableCell" style="height:18px;background-color:'+t[2][i][a]+'">':e+='<td class="CanvasXpressTableCell" style="height:18px">',e+='<div class="CanvasXpressTableCell" style="height:18px">',e+=t[0][i][a],e+="</div>",e+="</td>");e+="</tr>"}e+="</tbody>",e+="</table>",e+="</div>"}return e},this.rToPrettyR=function(t){for(var e=[],i=t.split(/\n(?=(?:(?:[^"]*"){2})*[^"]*$)/),a=["header","quote","row.names","fill","check.names","stringsAsFactors"],s=!1,r=0;r<i.length;r++){var n=i[r];if(n.match(/library\(canvasXpress\)/))e.push(n.replace("library(canvasXpress)",'library(<span class="json-value">canvasXpress</span>)'));else if(n.match(/canvasXpress\(/))e.push(n.replace("canvasXpress(",'<span class="json-value">canvasXpress</span>(')),s=!0;else if(n.match(/\"http.+\"/)){n=n.replace(/(\"http.+?\")/,'<span class="json-string">$1</span>');for(var o=0;o<a.length;o++)n=n.replace(a[o],'<span class="json-key">'+a[o]+"</span>");n=(n=(n=(n=(n=n.replace('""','<span class="json-string">""</span>,')).replace(/\"\t\"/,'<span class="json-string">"&#92;t"</span>')).replace("=1,",'=<span class="json-number">1</span>,')).replace(/FALSE/g,'<span class="json-boolean">FALSE</span>')).replace(/TRUE/g,'<span class="json-boolean">TRUE</span>'),e.push(n)}else s&&(n.match(/\".+?\"/)?n=n.replace(/(\".+?\")/g,'<span class="json-string">$1</span>'):n.match(/[^xis][\d\.]+/)&&(n=n.replace(/([\d\.]+)/,'<span class="json-number">$1</span>')),n=(n=(n=(n=n.replace(/\n/,"&#92;n")).replace(/(\w+)?=/,'<span class="json-key">$1=</span>')).replace(/FALSE/g,'<span class="json-boolean">FALSE</span>')).replace(/TRUE/g,'<span class="json-boolean">TRUE</span>')),e.push(n)}return'<pre class="CanvasXpressCodeContent">\n<code>'+e.join("</code>\n<code>")+"</code>\n</pre>"},this.prettyColoredR=function(t,e,i){var a=this.stringifyJSON(t,e||null,2);return a.length>1e4&&(i=!1),i&&(a=a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),(a=a.replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g,(function(t){var e="number";return/^"/.test(t)?/:$/.test(t)?(t=t.replace(/"/g,"").replace(":"," ="),e="key"):e="string":/true|false/.test(t)?(t=t.replace("false","FALSE").replace("true","TRUE"),e="boolean"):/null/.test(t)&&(t=t.replace("null","NULL"),e="null"),i?'<span class="json-'+e+'">'+t+"</span>":t}))).replace(/\[/g,"list(").replace(/]/g,")").replace(/{/g,"list(").replace(/}/g,")").replace(/^list\(\n/,"").replace(/\)$/,"")},this.dataToR=function(){var t,e,i=[],a=[],s="",r=CanvasXpress.stack[this.target].data,n="<span class=json-value>canvasXpress</span>(\n";if(this.meta.config.remote&&!this.isObject(this.meta.config.remote.data))!1===this.meta.config.remote.data?s+="data = FALSE\n":s+='data = "'+this.meta.config.remote.data+'"\n',n+="  <span class=json-key>data</span> = data,\n";else if("Map"!=this.graphType||this.isObject(this.meta.config.remote.data)){if(r.y){i=[];for(var o=0;o<r.y.vars.length;o++){for(var h=[],l=0;l<r.y.smps.length;l++)h.push(null!=r.y.data[o][l]?r.y.data[o][l]:"NA");i.push("<span class=json-number>"+h.join("</span>,<span class=json-number>")+"</span>,")}i[i.length-1]=i[i.length-1].replace(/,$/,""),s+=(e="vals = c("+i.join("\n")+")\n")+('vars = c(<span class=json-string>"'+r.y.vars.join('"</span>,\n<span class=json-string>"')+'"</span>)\n')+('smps = c(<span class=json-string>"'+r.y.smps.join('"</span>,\n<span class=json-string>"')+'"</span>)\n')+("data = as.data.frame(matrix(vals, <span class=json-key>nrow</span> = <span class=json-number>"+r.y.vars.length+"</span>, <span class=json-key>ncol</span> = <span class=json-number>"+r.y.smps.length+"</span>, <span class=json-key>byrow</span> = <span class=json-boolean>TRUE</span>, <span class=json-key>dimnames</span> = list(vars, smps)))\n"),n+="  <span class=json-key>data</span> = data,\n"}if(r.x){for(var o in i=[],a=[],e="",r.x)"Numeric"==this.meta.data.x[o].type?i.push("<span class=json-number>"+r.x[o].join("</span>,\n<span class=json-number>")+"</span>,"):i.push('<span class=json-string>"'+r.x[o].join('"</span>,\n<span class=json-string>"')+'"</span>,'),a.push(o);i[i.length-1]=i[i.length-1].replace(/,$/,""),e="valx = c("+i.join("\n ")+")\n","Tree"==this.graphType&&(e=e.replace(/\"\"/g,"NA")),s+=e+('varx = c(<span class=json-string>"'+a.join('"</span>,<span class=json-string>"')+'"</span>)\n')+("datx = as.data.frame(matrix(valx, <span class=json-key>nrow</span> = <span class=json-number>"+a.length+"</span>, <span class=json-key>ncol</span> = <span class=json-number>"+r.y.smps.length+"</span>, <span class=json-key>byrow</span> = <span class=json-boolean>TRUE</span>, <span class=json-key>dimnames</span> = list(varx, smps)))\n"),n+="  <span class=json-key>smpAnnot</span> = datx,\n"}if(r.z){for(var o in i=[],a=[],e="",r.z)"Numeric"==this.meta.data.z[o].type?i.push("<span class=json-number>"+r.z[o].join("</span>,\n<span class=json-number>")+"</span>,"):i.push('<span class=json-string>"'+r.z[o].join('"</span>,\n<span class=json-string>"')+'"</span>,'),a.push(o);i[i.length-1]=i[i.length-1].replace(/,$/,""),s+=(e="valz = c("+i.join("\n ")+")\n")+('smpz = c(<span class=json-string>"'+a.join('"</span>,<span class=json-string>"')+'"</span>)\n')+("datz = as.data.frame(matrix(valz, <span class=json-key>nrow</span> = <span class=json-number>"+r.y.vars.length+"</span>, <span class=json-key>ncol</span> = <span class=json-number>"+a.length+"</span>, <span class=json-key>byrow</span> = <span class=json-boolean>FALSE</span>, <span class=json-key>dimnames</span> = list(vars, smpz)))\n"),n+="  <span class=json-key>varAnnot</span> = datz,\n"}r.nodes&&(s+="nodes = list(\n"+this.prettyColoredR(r.nodes,(function(t,e){if("layout"!=t)return e}),!0)+")\n",n+="  <span class=json-key>nodeData</span> = nodes,\n"),r.edges&&(s+="edges = list(\n"+this.prettyColoredR(r.edges,!1,!0)+")\n",n+="  <span class=json-key>edgeData</span> = edges,\n"),r.venn&&(s+="venn = data.frame(\n"+this.prettyColoredR(r.venn.data,!1,!0)+")\n",n+="  <span class=json-key>vennData</span> = venn,\n",r.venn.legend&&(s+="legn = data.frame(\n"+this.prettyColoredR(r.venn.legend,!1,!0)+")\n",n+="  <span class=json-key>vennLegend</span> = legn,\n")),r.tracks&&(n+="  <span class=json-key>tracks</span> = genome,\n",s+="genome = list(\n"+this.prettyColoredR(r.tracks,!1,!0)+")\n")}else s+="",n+="  <span class=json-key>data</span> = <span class=json-value>FALSE</span>,\n";return t=this.meta.config.remote?this.cloneObject(this.meta.config.remote.config):this.cloneObject(CanvasXpress.stack[this.target].config),CanvasXpress.stack[this.target].afterRender&&CanvasXpress.stack[this.target].afterRender.length>1&&(t.afterRender=this.cloneObject(CanvasXpress.stack[this.target].afterRender)),"<code> "+("library(<span class=json-value>canvasXpress</span>)\n"+s+(n+=this.prettyColoredR(t,!1,!0)+")")).replace(/\n/g,"</code>\n<code> ")+"</code>"},this.prettyJSON=function(t,e,i,a){return i&&t?this.prettyColoredJSON(t,e):!!t&&this.stringifyJSON(t,e,a||2)},this.prettyColoredJSON=function(t,e){if(t){var i=this.stringifyJSON(t,e||null,2);return i.length>1e4?i:(i=i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")).replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g,(function(t){var e="number";return/^"/.test(t)?e=/:$/.test(t)?"key":"string":/true|false/.test(t)?e="boolean":/null/.test(t)&&(e="null"),'<span class="json-'+e+'">'+t+"</span>"}))}return!1},this.prettyXML=function(t){for(var e="",i=t.replace(/(>)\s*(<)(\/*)/g,"$1\n$2$3").replace(/ *(.*) +\n/g,"$1\n").replace(/(<.+>)(.+\n)/g,"$1\n$2").split("\n"),a=0,s="other",r={"single->single":0,"single->closing":-1,"single->opening":0,"single->other":0,"closing->single":0,"closing->closing":-1,"closing->opening":0,"closing->other":0,"opening->single":1,"opening->closing":0,"opening->opening":1,"opening->other":1,"other->single":0,"other->closing":-1,"other->opening":0,"other->other":0},n=0;n<i.length;n++){var o=i[n],h=Boolean(o.match(/<.+\/>/)),l=Boolean(o.match(/<\/.+>/)),c=Boolean(o.match(/<[^!].*>/)),d=h?"single":l?"closing":c?"opening":"other",p=s+"->"+d;s=d;var g="";a+=r[p];for(var u=0;u<a;u++)g+="  ";e+=g+o+"\n"}return e},this.dataToPython=function(t){var e=this.getDataJSON(!0).replace(/\n/g,"\n  ").replace(/true/g,"True").replace(/false/g,"False").replace(/null/g,"None"),i=this.getConfigJSON(!0).replace(/\n/g,"\n  ").replace(/true/g,"True").replace(/false/g,"False").replace(/null/g,"None"),a=this.getEventsJSON(!0),s=this.getAfterRenderJSON(!0),r="";return r+="<span class=json-key>from</span> canvasxpress.canvas <span class=json-key>import</span> CanvasXpress\n",r+=t?"<span class=json-key>from</span> canvasxpress.render.jupyter <span class=json-key>import</span> CXNoteBook\n":"<span class=json-key>from</span> canvasxpress.render.popup <span class=json-key>import</span> CXBrowserPopup\n\n",r+="cx = CanvasXpress(\n",r+='  render_to = </span>"'+this.target+'"</span>,\n',r+="  data = "+e+",\n",r+="  config = "+i+",\n",a&&(r+="  events = "+a.replace(/\n/g,"\n  ").replace(/true/g,"True").replace(/false/g,"False").replace(/null/g,"None")+",\n"),s&&(r+="  afterRender = "+s.replace(/\n/g,"\n  ").replace(/true/g,"True").replace(/false/g,"False").replace(/null/g,"None")+",\n"),r+="  width = <span class=json-number>"+this.width+"</span>,\n",r+="  height = <span class=json-number>"+this.height+"</span>\n",r+=")\n\n",r+=t?"display = CXNoteBook(cx)\n":"display = CXBrowserPopup(cx)\n","<code> "+(r+="display.render()").replace(/\n/g,"</code>\n<code> ")+"</code>"},this.delimitedToArrayOrig=function(t,e,i){e=e||",";for(var a=new RegExp("(\\"+e+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+e+"\\r\\n]*))","gi"),s=[[]],r=null;r=a.exec(t);){var n,o=r[1];o.length&&o!==e&&s.push([]),n=r[2]?r[2].replace(new RegExp('""',"g"),'"'):r[3],s[s.length-1].push(this.isNumber(n)?Number(n):n!=this.missingDataValue?n:null)}return i?this.arrayToCanvasXpress(s):s},this.delimitedToArray=function(t,e,i,a,s){var r,n,o=t.split(/\r\n|\r|\n/g);e||(r=0,n=0,t.match(/,/g)&&(r=t.match(/,/g).length),t.match(/\t/g)&&(n=t.match(/\t/g).length),e=r>n?",":"\t");for(var h=0;h<o.length;h++)if(o[h].match(/^#/))o.splice(h,1),h--;else{for(var l=o[h].split(e),c=l.length-1;c>=0;c--)if('"'==l[c].replace(/"\s+$/,'"').charAt(l[c].length-1)){var d=l[c].replace(/^\s+"/,'"');d.length>1&&'"'==d.charAt(0)?l[c]=l[c].replace(/^\s*"|"\s*$/g,"").replace(/""/g,'"'):c?l.splice(c-1,2,[l[c-1],l[c]].join(e)):l=l.shift().split(e).concat(l)}else l[c].replace(/""/g,'"');for(var p=0;p<l.length;p++)this.isNumber(l[p])?l[p]=Number(l[p]):l[p]==this.missingDataValue?l[p]=null:l[p].match(/^\[.+\]$/)||l[p].match(/^\{.+\}$/)?l[p]=this.parseJSON(l[p]):l[p]=l[p].replace(/"/g,"'");1!=l.length||""!=l[0]?o[h]=l:(o.splice(h,1),h--)}return i&&!s?this.arrayToCanvasXpress(o):a?this.isNetworkFile(o,s):o},this.isMetaDataFile=function(t,e){if(this.varIndices.length&&this.smpIndices.length){var i=this,a=function(t){return"s"==t?{y:{smps:i.cloneObject(i.data.y.smps)},x:{}}:{y:{vars:i.cloneObject(i.data.y.vars)},z:{}}},s={};if(e&&this.data.z&&this.data.z.hasOwnProperty("cXId"))for(var r=0;r<this.data.z.cXId.length;r++)s[this.data.z.cXId[r]]=r;var n,o={s:[],v:[]},h={s:[],v:[]},l=!1;for(r=1;r<t.length;r++)(n=this.getSampleIndices(t[r][0]))>-1?o.s.push([r,n]):(n=e&&s.hasOwnProperty(t[r][0])?s[t[r][0]]:this.getVariableIndices(t[r][0]))>-1&&o.v.push([r,n]);for(r=1;r<t[0].length;r++)(n=e&&s.hasOwnProperty(t[r][0])?s[t[r][0]]:this.getVariableIndices(t[0][r]))>-1?h.v.push([r,n]):(n=this.getSampleIndices(t[0][r]))>-1&&h.s.push([r,n]);var c=o.s.length>2?o.s.length:0,d=o.v.length>2?o.v.length:0,p=h.s.length>2?h.s.length:0,g=h.v.length>2?h.v.length:0,u=this.data.y.smps.length,m=this.data.y.vars.length;if(c||d||p||g){var f=0;if(c==u&&g==m){var y=[];for(r=0;r<h.v.length;r++){var x=h.v[r][0];y[C=h.v[r][1]]=[];for(var b=0;b<o.s.length;b++){var v=o.s[b][0],A=o.s[b][1];y[C][A]=t[v][x],f++}}l=!0}else if(p==u&&d==m){for(y=[],r=0;r<o.v.length;r++){x=o.v[r][0];y[C=o.v[r][1]]=[];for(b=0;b<h.s.length;b++){v=h.s[b][0],A=h.s[b][1];y[C][A]=t[x][v],f++}}l=!0}else if(c>=d&&c>=p&&c>=g)for(y=a("s"),r=1;r<t[0].length;r++){y.x[t[0][r]]=[];var w=0;for(b=0;b<o.s.length;b++){v=o.s[b][0],A=o.s[b][1];y.x[t[0][r]][A]=t[v][r],f++,w=t[v][r]?w+1:w}w||delete y.x[t[0][r]]}else if(d>=c&&d>=p&&d>=g)for(y=a("v"),r=1;r<t[0].length;r++){y.z[t[0][r]]=[];for(w=0,b=0;b<o.v.length;b++){v=o.v[b][0],A=o.v[b][1];y.z[t[0][r]][A]=t[v][r],f++,w=t[v][r]?w+1:w}w||delete y.z[t[0][r]]}else if(p>c&&p>=d&&p>=g)for(y=a("s"),r=0;r<h.s.length;r++){x=h.s[r][0];var C=h.s[r][1];for(w=0,b=1;b<t.length;b++)0==r&&(y.x[t[b][0]]=[]),y.x[t[b][0]][C]=t[b][x],f++,w=t[b][x]?w+1:w;w||delete y.x[t[b][0]]}else if(g>c&&g>=d&&g>=p)for(y=a("v"),r=0;r<o.s.length;r++){for(x=o.s[r][0],C=o.s[r][1],w=0,b=1;b<t.length;b++)0==r&&(y.z[t[b][0]]=[]),y.z[t[b][0]][C]=t[b][x],f++,w=t[b][x]?w+1:w;w||delete y.z[t[b][0]]}return{data:y,recs:f,addt:l}}return t}return t},this.isNetworkFile=function(t,e){var i={},a=t[0],s=0,r=0,n=0,o=e||!1;if("node"!=o){if("edge"==o){s={},i.data={nodes:[],edges:[]};for(var h=1;h<t.length;h++){var l=t[h][0],c=t[h][1];if(l&&c){for(var d={id1:l,id2:c},p=2;p<t[h].length;p++)d[t[0][p]]=t[h][p];i.data.edges.push(d)}s[l]=!0,s[c]=!0}for(var h in s)i.data.nodes.push({id:h,shape:"sphere"});return i.config={graphType:"Network"},i}var g={};for(h=1;h<t.length;h++){l=t[h][0],c=t[h][1];this.data.nodeIndices.hasOwnProperty(l)&&this.data.nodeIndices.hasOwnProperty(c)?r++:this.data.nodeIndices.hasOwnProperty(l)?s++:n++,g[l]=h}if(!s&&!r)for(h=0;h<this.data.nodes.length;h++){(l=this.data.nodes[h]).hasOwnProperty("extId")&&g.hasOwnProperty(l.extId)&&(t[g[l.extId]][0]=l.id,s++)}if(r>s){s=0,r=0,n=0,o="edge";for(h=1;h<t.length;h++){l=t[h][0],c=t[h][1];if(this.data.nodeIndices.hasOwnProperty(l)&&this.data.nodeIndices.hasOwnProperty(c)){r++,i[l+":"+c]={};for(p=2;p<a.length;p++)i[l+":"+c][a[p]]=t[h][p]}else n++}}else{if(!(s>8))return t;s=0,r=0,n=0,o="node";for(h=1;h<t.length;h++){l=t[h][0];if(this.data.nodeIndices.hasOwnProperty(l)){s++,i[l]={};for(p=1;p<a.length;p++)i[l][a[p]]=t[h][p]}else n++}}return"edge"==o&&(r>5||r>=t.length-1)||"node"==o&&(s>5||s>=t.length-1)?{data:i,rows:Math.max(s,r),fail:n,type:o}:t}},this.XMLToJSON=function(t,e,i,a){var s={},r=new RegExp(/(?!xmlns)^.*:/),n=new RegExp(/^\s+|\s+$/g);if(e||(e={}),i&&!e[i]&&(e[i]=[]),t.attributes&&t.attributes.length>0){for(var o=0;o<t.attributes.length;o++){var h=t.attributes.item(o),l=h.name.replace(r,"").replace(/\[/g,"&#91").replace(/\]/g,"&#93").toLowerCase();i?s[l]=h.value.replace(n,""):e[l]=h.value.replace(n,"")}i&&e[i].push(s)}else"alt"==i&&e[i].push(t.textContent.replace(/\"/g,"'").replace(/\[/g,"&#91").replace(/\]/g,"&#93"));if(t.hasChildNodes()&&!a)for(o=0;o<t.childNodes.length;o++){4==(l=t.childNodes.item(o)).nodeType||3==l.nodeType||1==l.nodeType&&(i=l.nodeName.replace(r,"").toLowerCase(),this.XMLToJSON(l,e,i))}return e},this.cytoscapeToCX=function(t,e,i,a){var s={ELLIPSE:"oval",arc:"circle",bitmap:"circle",line:"minus",text:"circle",ver_ellipsis:"oval",hor_ellipsis:"oval"},r=[],n=[],o="",h=t.childNodes[0];if("graph"==h.tagName.toLowerCase()){this.XMLToJSON(h,!1,!1,!0);for(var l=0;l<h.childNodes.length;l++){var c=h.childNodes[l];if(c.nodeName){var d=c.nodeName.toLowerCase(),p=this.XMLToJSON(c);switch(d){case"node":if(p.graphics&&p.id){var g=p.graphics[0],u={id:p.id,x:Number(g.x),y:Number(g.y),z:Number(g.z),width:Number(g.w),height:Number(g.h),shape:s[g.type]||g.type,color:g.fill,outline:g.outline,outlineWidth:Number(g.width)};if(p.label&&(u.name=p.label),p.att)for(var m=0;m<p.att.length;m++){if((y=p.att[m]).name&&!y.name.match(/NODE_/)&&"selected"!=y.name&&"isInPath"!=y.name)switch(y.type){case"String":"COMMON"==y.name&&y.value?u.label=y.value:y.value&&(u[y.name]=y.value);break;case"Double":case"Integer":null!=y.value&&(u[y.name]=Number(y.value));break;case"Boolean":null!=y.value&&(u[y.name]=0!=y.value)}}r.push(u)}break;case"edge":if(p.source&&p.target){var f={id1:p.source,id2:p.target};if(p.id&&(f.intId=p.id),p.label&&(f.label=p.label),p.directed&&(f.directed=p.directed),p.graphics&&(f.color=p.graphics[0].fill,f.width=p.graphics[0].width),p.att)for(m=0;m<p.att.length;m++){var y;if((y=p.att[m]).name&&!y.name.match(/EDGE_/)&&"selected"!=y.name&&"isInPath"!=y.name)switch(y.type){case"String":y.value&&(f[y.name]=y.value);break;case"Double":case"Integer":null!=y.value&&(f[y.name]=Number(y.value));break;case"Boolean":null!=y.value&&(f[y.name]=0!=y.value)}}n.push(f)}break;case"att":p.name&&p.value&&"Dataset Name"==p.name&&(o=p.value)}}}}else alert("Ooops! Not a cytoscape xgmml file!");var x="Number of Nodes: "+r.length+"\nNumber of Edges: "+n.length+"\n";x=x.replace(/\n/g,"<br>");var b={data:{nodes:r,edges:n},config:{adjustBezier:!1,graphType:"Network",calculateLayout:!1,showAnimation:!1,networkNodesOnTop:!0,showNodeNameThreshold:2e4,networkFreeze:!1,preScaleNetwork:!1,title:o,moveParentsWithChildren:!0,ignoreEventlessOrder:!0,networkVendor:"Cytoscape"},renderTo:e,events:a,uploadFile:!this.dataString,afterRender:[["flashInfoSpan",[100,100,x,5e3]],["appendNetworkDataFromURL",[]]]};if(i)for(var v in i)b.config[v]=i[v];var A=!1,w=this.dataURL||this.dataString,C=this.cloneObject(this.meta.config.user);if("Network"==this.graphType){for(var v in this.meta.config.user)b.config[v]=this.meta.config.user[v];A=function(t){t.meta.config.remote={data:w,config:C},t.networkFreeze=!0}}this.updateRemoteData(b,A),this.hideMask()},this.keggToCX=function(t,e,i,a){var s,r,n,o,h=this,l=t.childNodes[2]||t.childNodes[1],c=[],d=[];if("pathway"==l.tagName.toLowerCase()){var p=this.XMLToJSON(l,!1,!1,!0);s=p.title,r=p.image,p.link;var g=new Image;g.onload=function(){n=this.width,o=this.height;var t="Number of Nodes: "+c.length+"\n";t+="Number of Edges: "+d.length+"\n",c.push({id:"__zero__",type:"anchor",shape:"circle",color:"rgba(0,0,0,0)",outline:"rgb(0,0,0)",width:1,height:1,x:0,y:0,hideLabel:!0},{id:"__max__",type:"anchor",shape:"circle",color:"rgba(0,0,0,0)",outline:"rgb(0,0,0)",width:1,height:1,x:n,y:o,hideLabel:!0}),h.remoteServiceType="file",h.networkFreeze=!1;var l={data:{nodes:c,edges:d},config:{adjustBezier:!1,graphType:"Network",calculateLayout:!1,showAnimation:!1,networkNodesOnTop:!1,networkFreeze:!1,showNodeNameThreshold:2e4,preScaleNetwork:!1,title:s,backgroundType:"image",backgroundImage:r,networkVendor:"Kegg"},renderTo:e,events:a,uploadFile:!h.dataString,afterRender:[["flashInfoSpan",[100,100,t,5e3]],["appendNetworkDataFromURL",[]]]};if(i)for(var p in i)l.config[p]=i[p];var g=!1,u=h.dataURL||h.dataString,m=h.cloneObject(h.meta.config.user);if("Network"==h.graphType){for(var p in h.meta.config.user)l.config[p]=h.meta.config.user[p];g=function(t){t.meta.config.remote={data:u,config:m},t.networkFreeze=!0}}h.updateRemoteData(l,g),h.hideMask()},(CanvasXpress.system.isR&&!CanvasXpress.system.isInIframe||!CanvasXpress.system.isR)&&(g.crossOrigin="anonymous"),g.src=p.image;for(var u=0;u<l.childNodes.length;u++){var m=l.childNodes[u];if(m.nodeName)switch(m.nodeName.toLowerCase()){case"entry":if("roundrectangle"==(p=this.XMLToJSON(m)).graphics[0].type&&(p.graphics[0].type="roundrect",p.graphics[0].fgcolor="rgba(0,0,0,0)"),p.graphics&&1==p.graphics.length&&"line"!=p.graphics[0].type){var f="group"==p.type?5:0,y={id:p.id,type:p.type,link:p.link,name:p.graphics[0].name,shape:p.graphics[0].type,color:"rgba(0,0,0,0)",outline:h.validateColor(p.graphics[0].fgcolor)||"rgb(0,0,0)",width:parseInt(p.graphics[0].width)+f,height:parseInt(p.graphics[0].height)+f,x:parseInt(p.graphics[0].x),y:parseInt(p.graphics[0].y),hideLabel:!0,fixed:!0};"group"==p.type?c.unshift(y):c.push(y)}else if(p.graphics&&1==p.graphics.length&&"line"==p.graphics[0].type){var x=p.graphics[0].coords.split(",");if(4==x.length){for(var b,v,A,w=[],C=[];x.length>1;)w.push(parseInt(x.shift())),C.push(parseInt(x.shift()));var T=parseInt(this.mean(w)),S=parseInt(this.mean(C));w[0]==w[1]?(T+=1,b=2,v=C[1]-C[0],A=0):C[0]==C[1]?(S+=1,b=w[1]-w[0],v=2,A=0):(v=this.lineLength(w[0],C[0],w[1],C[1]),b=2,A=this.getAngle(w[0],C[0],w[1],C[1]));y={id:p.id,type:p.type,link:p.link,name:p.graphics[0].name,shape:"rect",color:"rgba(0,0,0,0)",outline:"rgba(0,0,0,0)",x:T,y:S,width:b,height:v,rotate:A,hideLabel:!0,fixed:!0};c.push(y)}}break;case"relation":case"reaction":(p=this.XMLToJSON(m)).id1=this.cloneObject(p.entry1),p.id2=this.cloneObject(p.entry2),delete p.entry1,delete p.entry2,p.color="rgba(0,0,0,0)",d.push(p)}}}else alert("Ooops! Not a kgml file!")},this.wikipathwayToCX=function(t,e,i,a){var s,r=t.childNodes[0],n={},o=[],h={},l={},c={},d={},p=1,g=0,u=[],m={},f={},y={},x="\nWarnings:\n",b={Line:!1,Arrow:"arrow",TBar:"square","mim-necessary-stimulation":!1,"mim-binding":!1,"mim-conversion":"arrow","mim-stimulation":"arrow","mim-catalysis":"round","mim-modification":!1,"mim-inhibition":"square","mim-covalent-bond":!1,"mim-transcription-translation":!1},v=function(t,e){for(var i=Number.MAX_VALUE,a=Number.MAX_VALUE,s=-Number.MAX_VALUE,r=-Number.MAX_VALUE,o=[],h=[],l=!1,c=0;c<t.length;c++)i=Math.min(i,t[c][1]-t[c][3]/2),a=Math.min(a,t[c][2]-t[c][4]/2),s=Math.max(s,t[c][1]+t[c][3]/2),r=Math.max(r,t[c][2]+t[c][4]/2),o.push(t[c][0]),n[t[c][0]].parentNode=e,h.push(n[t[c][0]].zorder),"label"!=n[t[c][0]].nodeName&&(l=!0),h.sort((function(t,e){return t-e}));var p=s-i,m=r-a,f={id:e,x:(i+s)/2,y:(a+r)/2,width:p+(t.length>1&&p>10?5:0),height:m+(t.length>1&&m>10?5:0),group:o,hideLabel:!0,hideTooltip:!1,type:"Group",color:l?"rgba(245,245,245,0.5)":"rgba(0,0,0,0)",outline:l?"rgb(0,0,0)":"rgba(0,0,0,0)",shape:"rectangle",zorder:h[0]};d[e]=g--,n[e]=f,u.push(e)},A=function(t,e){var i={id:e,x:Math.round(10*t.x)/10,y:Math.round(10*t.y)/10,width:t.width?Math.round(t.width):1,height:t.height?Math.round(t.height):1,hideLabel:!t.show,hideTooltip:!1,eventless:!t.show,type:t.type||"Anchor",color:t.color||"rgba(0,0,0,0)",outline:t.outline||"rgba(0,0,0,0)",shape:t.shape||"circle",label:t.label||"",zorder:t.zorder||0};d[e]=p++,n[e]=i,u.push(e)},w=function(t){switch(t){case"r":case"l":return"rl";case"b":case"t":case"c":return"tb"}},C=function(t){return 1==parseInt(t.relx)?"r":-1==parseInt(t.relx)?"l":1==parseInt(t.rely)?"b":-1==parseInt(t.rely)?"t":Math.abs(t.relx)>Math.abs(t.rely)?parseFloat(t.relx)>0?"r":"l":parseFloat(t.rely)>0?"b":parseFloat(t.rely)<0?"t":"c"},T=function(t,e,i){if(i)switch(t){case"r":return[e[0]+20,e[1]];case"l":return[e[0]-20,e[1]];case"t":case"c":return[e[0],e[1]-20];case"b":return[e[0],e[1]+20]}else switch(t){case"r":case"l":return[e[0][0],e[1][1]];case"t":case"b":case"c":return[e[1][0],e[0][1]]}},S=function(t,e){for(var i=[e[0]],a=e[0],s=1;s<e.length;s++){var r=e[s];switch(t){case"rl":i.push([r[0],a[1]]);break;case"tb":i.push([a[0],r[1]])}a=i[s],t="rl"==t?"tb":"rl"}return i.push(e[e.length-1]),i},D=function(t){for(var e=t.point,i=[],a=0;a<e.length;a++)i.push([Math.round(10*e[a].x)/10,Math.round(10*e[a].y)/10]);return i},M=function(t){var e=t.point,i=e.length-1,a=function(t,e){var i=function(t,e,i){switch(t){case"r":if(parseFloat(e.x)>=parseFloat(i.x))return 2;break;case"l":if(parseFloat(e.x)<=parseFloat(i.x))return 2;break;case"t":case"c":if(parseFloat(e.y)<=parseFloat(i.y))return 2;break;case"b":if(parseFloat(e.y)>=parseFloat(i.y))return 2}return 0},a=C(t),s=C(e),r=2;return w(a)==w(s)&&r++,a!=s&&(r+=i(a,t,e),r+=i(s,e,t)),r}(e[0],e[i]),s=C(e[0]),r=C(e[i]),n=w(s),o=D(t);if(a==e.length)o=S(n,o);else if(2==e.length)o.splice(1,0,T(s,o[0],!0)),a>3?(a>3&&o.splice(2,0,T(r,o[2],!0)),a>4?(a>4&&o.splice(3,0,[(o[1][0]+o[2][0])/2,(o[1][1]+o[2][1])/2]),a>5&&(o=D(t),o=S(n,o))):o.splice(2,0,T(s,[o[1],o[2]]))):o[0][0]==o[1][0]&&o[1][0]==o[2][0]||o[0][1]==o[1][1]&&o[1][1]==o[2][1]?o.splice(1,1):o.splice(2,0,T(s,[o[1],o[2]]));else if(e.length>a)o=S(n,o);else for(var h=0;h<i;h++){var l=2*h;"tb"==n?(n="rl",o.splice(l+1,0,[o[l][0],o[l+1][1]])):(n="tb",o.splice(l+1,0,[o[l+1][0],o[l][1]]))}var c=[[o[0][0],o[0][1]]];for(h=1;h<o.length;h++)o[h][0]==o[h-1][0]&&o[h][1]==o[h-1][1]||c.push([o[h][0],o[h][1]]);return c},k=function(t,e,i){var a,s,r,n,o=t.point,h=o.length-1,l=C(o[0]),c=C(o[h]),d=w(l),p=w(c),g=D(t),u=[];if(1==h)a=g[0],s=g[1],e&&i&&(d==p?(r=(a[0]+s[0])/2,n=(a[1]+s[1])/2,"tb"==d?("t"==c?n>i.y-i.height&&(n-=i.height):"b"==c&&n<i.y+i.height&&(n+=i.height),u.push([a[0],a[1],a[0],n,r,n]),u.push([r,n,s[0],n,s[0],s[1]])):("l"==c?r>i.x-i.width&&(r-=.5*i.width):"r"==c&&r<i.x+i.width&&(r+=.5*i.width),u.push([a[0],a[1],r,a[1],r,n]),u.push([r,n,r,s[1],s[0],s[1]]))):"t"==l||"b"==l?(r="l"==c?.5*-i.width:"r"==c?.5*i.width:.5*-i.width,n=(s[1]-a[1])/3,"l"==c&&a[0]>i.x-i.width||"r"==c&&a[0]<i.x+i.width?(u.push([a[0],a[1],a[0],a[1]+n,s[0],a[1]+n]),u.push([s[0],a[1]+n,s[0]+r,a[1]+n,s[0]+r,a[1]+n+n]),u.push([s[0]+r,a[1]+n+n,s[0]+r,s[1],s[0],s[1]])):u.push([a[0],a[1],a[0],s[1],s[0],s[1]])):(r=(s[0]-a[0])/3,n="t"==c?-i.height:"b"==c?i.height:-i.height,"t"==c&&a[1]>i.y-i.height||"b"==c&&a[1]<i.y+i.height?(u.push([a[0],a[1],a[0]+r,a[1],a[0]+r,s[1]]),u.push([a[0]+r,s[1],a[0]+r,s[1]+n,a[0]+r+r,s[1]+n]),u.push([a[0]+r+r,s[1]+n,s[0],s[1]+n,s[0],s[1]])):u.push([a[0],a[1],s[0],a[1],s[0],s[1]])));else if(a=g[0],"t"==l||"b"==l){for(var m=1;m<h;m++)s=g[m],m%2?u.push([a[0],a[1],a[0],s[1],s[0],s[1]]):u.push([a[0],a[1],s[0],a[1],s[0],s[1]]),a=s;s=g[h],h%2?u.push([a[0],a[1],a[0],s[1],s[0],s[1]]):u.push([a[0],a[1],s[0],a[1],s[0],s[1]])}else{for(m=1;m<h;m++)s=g[m],m%2?u.push([a[0],a[1],s[0],a[1],s[0],s[1]]):u.push([a[0],a[1],a[0],s[1],s[0],s[1]]),a=s;s=g[h],h%2?u.push([a[0],a[1],s[0],a[1],s[0],s[1]]):u.push([a[0],a[1],a[0],s[1],s[0],s[1]])}return u},L=function(t,e){var i=parseFloat(e.relx),a=parseFloat(e.rely),s=t.width/2,r=t.height/2;return[t.x+i*s,t.y+a*r]},I=function(t,e,i,a){var s={},r=new RegExp(/(?!xmlns)^.*:/),n=new RegExp(/^\s+|\s+$/g);if(e||(e={}),!i||"point"!=i&&"anchor"!=i||e[i]||(e[i]=[]),t.attributes&&t.attributes.length>0){for(var o=0;o<t.attributes.length;o++){var h=t.attributes.item(o),l=h.name.replace(r,"").replace(/\[/g,"&#91").replace(/\]/g,"&#93").toLowerCase();!i||"point"!=i&&"anchor"!=i?e[l]=h.value.replace(n,""):s[l]=h.value.replace(n,"")}!i||"point"!=i&&"anchor"!=i||e[i].push(s)}if(t.hasChildNodes()&&!a)for(o=0;o<t.childNodes.length;o++){4==(l=t.childNodes.item(o)).nodeType||3==l.nodeType||1==l.nodeType&&(i=l.nodeName.replace(r,"").toLowerCase(),I(l,e,i))}return e};if("pathway"==r.tagName.toLowerCase()){s=(_=I(r,!1,!1,!0)).name,_.organism;for(var B=0;B<r.childNodes.length;B++){var N=r.childNodes[B];if(N.nodeName){var F=N.nodeName.toLowerCase();switch(F){case"comment":case"graphics":break;case"state":(_=I(N)).nodeName=F,h[_.graphid]=_;break;case"datanode":case"label":case"shape":(_=I(N)).nodeName=F,_.centerx&&(_.x=Math.round(10*_.centerx)/10,delete _.centerx),_.centery&&(_.y=Math.round(10*_.centery)/10,delete _.centery),_.width&&(_.width=parseInt(_.width)),_.height&&(_.height=parseInt(_.height)),_.textlabel&&(_.label=_.textlabel,delete _.textlabel),_.database&&_.id&&(_.database+=" : "+_.id),_.graphid&&(_.id=_.graphid),_.fontsize&&(_.labelSize=parseInt(_.fontsize)),_.rotation&&(_.rotate=180*parseFloat(_.rotation)/Math.PI+180),_.shapetype&&("RoundedRectangle"==_.shapetype&&(_.shapetype=_.value&&"Double"==_.value?"roundrectd":"roundrect"),"Arc"==_.shapetype&&(_.shapetype="arc3"),"Mitochondria"==_.shapetype&&(_.shapetype="image",_.imagePath="https://www.canvasxpress.org/assets/images/mit.png"),this.isValidShape(_.shapetype.toLowerCase())?_.shape=_.shapetype.toLowerCase():"None"==_.shapetype?_.shape="rectangle":(x+=_.id+" has an unkown shape: "+_.shapetype+"\n",_.shape=_.shapetype),"oval"==_.shape&&_.value&&"Double"==_.value&&(_.shape="ovald"),delete _.shapetype),_.shape||(_.shape="rectangle"),"shape"==F?_.labelColor=_.color?this.validateColor(_.color):"rgb(0,0,0)":_.color?_.labelColor=this.validateColor(_.color):_.labelColor="rgb(0,0,0)",_.fillcolor?(_.color=this.validateColor(_.fillcolor),delete _.fillcolor):_.color="rgba(0,0,0,0)","rgb(0,0,0)"==_.color&&(_.color="rgba(0,0,0,0)"),"rgb(255,255,255)"==_.color&&(_.color="rgba(255,255,255,0)"),"label"==F?(_.label&&""!=_.label||(_.hideLabel=!0,_.hideTooltip=!1,_.eventless=!0),_.outline="rgba(0,0,0,0)",_.color="rgba(0,0,0,0)"):_.outline=_.labelColor,"shape"!=F||_.label&&""!=_.label||(_.hideLabel=!0,_.hideTooltip=!1,_.outline=_.labelColor),_.groupref&&(m.hasOwnProperty(_.groupref)||(m[_.groupref]=[]),m[_.groupref].push([_.id,_.x,_.y,_.width,_.height]),_.parentNode=_.groupref),d[_.id]=p++,n[_.id]=_,u.push(_.id);break;case"interaction":if((_=I(N)).nodeName=F,_.anchor){for(var P=0;P<_.anchor.length;P++)c[_.anchor[P].graphid]=!0;delete _.anchor}var R=_.point.length-1;_.point[0].graphref&&_.point[R].graphref&&(_.id1=_.point[0].graphref,_.id2=_.point[R].graphref);var O="solid";_.linestyle&&"Broken"==_.linestyle&&(O="dashed"),_.connectortype&&"Curved"==_.connectortype&&(O+="Bezier"),_.type=O,_.point[0].arrowhead&&b[_.point[0].arrowhead]&&(_.startArrow=b[_.point[0].arrowhead]),_.point[R].arrowhead&&b[_.point[R].arrowhead]&&(_.endArrow=b[_.point[R].arrowhead]),_.linethickness&&(_.thickness=parseInt(10*_.linethickness)/10,delete _.linethickness),_.point[0].relx&&_.point[0].rely&&(_.startX=parseFloat(_.point[0].relx),_.startY=parseFloat(_.point[0].rely)),_.point[R].relx&&_.point[R].rely&&(_.endX=parseFloat(_.point[R].relx),_.endY=parseFloat(_.point[R].rely)),delete _.id,o.push(_);break;case"group":(_=I(N)).nodeName=F,_.groupref&&_.groupid?(l.hasOwnProperty(_.groupref)||(l[_.groupref]=[]),l[_.groupref].push(_.groupid),f[_.graphid]=_.groupref):y[_.graphid]=_.groupid}}}}else alert("Ooops! Not a gpml file!");for(var X in h){var z=h[X].graphref;if(n[z]){var E=L(n[z],h[X]);A($={id:z,x:E[0],y:E[1],width:h[X].width,height:h[X].height,label:""==h[X].textlabel?" ":h[X].textlabel,type:"State",color:""==h[X].textlabel?"rgb(255,255,255)":this.validateColor(h[X].fillcolor),outline:"rgb(0,0,0)",shape:"oval",show:!0},X)}}for(var z in m)v(m[z],z);for(var z in l)if(m.hasOwnProperty(z)){for(B=0;B<l[z].length;B++){var _=n[l[z][B]];m[z].push([_.id,_.x,_.y,_.width,_.height])}v(m[z],z)}var H=[],V=[];for(B=0;B<o.length;B++){R=(_=o[B]).point.length-1;_.point[0].graphref||_.point[R].graphref||(_.exact=!0);for(P=0;P<_.point.length;P++){var G=_.point[P];if(G.graphref)n.hasOwnProperty(G.graphref)||(0==P?y[G.graphref]?_.id1=y[G.graphref]:(A(G,G.graphref),_.hideTooltip=!1,_.exactStart=!!c[G.graphref],_.id1=G.graphref):P==_.point.length-1&&(y[G.graphref]?_.id2=y[G.graphref]:(A(G,G.graphref),_.hideTooltip=!1,_.exactEnd=!!c[G.graphref],_.id2=G.graphref)));else if(0==P||P==_.point.length-1){var q=0==P?_.graphid+".1":_.graphid+".2",j=0==P?_.point.length-1:0;A(G,q),0==P?(_.id1=q,_.exactStart=!0):(_.id2=q,_.exactEnd=!0),_.hideTooltip=!1,_.point[j].graphref&&(!n.hasOwnProperty(_.point[j].graphref)&&y[_.point[j].graphref]?0==P?_.id2=y[_.point[j].graphref]:_.id1=y[_.point[j].graphref]:0==P?_.id2=_.point[j].graphref:_.id1=_.point[j].graphref)}}_.connectortype&&("Elbow"==_.connectortype?_.elbows=M(_):"Curved"==_.connectortype?_.elbows=k(_,n[_.id1],n[_.id2]):"Segmented"==_.connectortype&&(_.elbows=D(_))),n[_.id1]&&n[_.id2]?H.push(_):V.push(_)}u.sort((function(t,e){return n[t].zorder&&n[e].zorder?parseInt(n[t].zorder)-parseInt(n[e].zorder)==0?d[t]-d[e]:parseInt(n[t].zorder)-parseInt(n[e].zorder):d[t]-d[e]}));var U=[];for(B=0;B<u.length;B++)U.push(n[u[B]]);var Y="Number of Nodes: "+U.length+"\n";if(Y+="Number of Edges: "+H.length+"\n",V.length>0){Y+="Number of Failed Edges: "+V.length+"\n";for(B=0;B<V.length;B++)Y+="\t"+(B+1)+". "+V[B].graphid+"\n"}"\nWarnings:\n"!=x&&(Y+=x),Y=Y.replace(/\n/g,"<br>");var W={data:{nodes:U,edges:H},config:{adjustBezier:!1,graphType:"Network",calculateLayout:!1,showAnimation:!1,networkNodesOnTop:!1,showNodeNameThreshold:2e4,networkFreeze:!1,preScaleNetwork:!1,title:s,networkVendor:"Wikipathways"},renderTo:e,events:a,uploadFile:!this.dataString,afterRender:[["flashInfoSpan",[100,100,Y,5e3]],["appendNetworkDataFromURL",[]]]};if(i)for(var $ in i)W.config[$]=i[$];var Q=!1,Z=this.dataURL||this.dataString,K=this.cloneObject(this.meta.config.user);if("Network"==this.graphType){for(var $ in this.meta.config.user)W.config[$]=this.meta.config.user[$];Q=function(t){t.meta.config.remote={data:Z,config:K},t.networkFreeze=!0}}this.updateRemoteData(W,Q),this.hideMask()},this.metabaseToCX=function(t,e,i,a){var s=this,r={3:"microsome",13:"epr",21:"lysosome",43:"nucleus",67:"golgi",1287:"mitochondria",1312:"peroxisome"},n=function(t){var e=function(){return{shape:"rectangle",color:"rgba(255,255,255,0)",outline:"rgba(0,0,0,0)",outlineWidth:0,hideLabel:!0,immutable:!0,eventless:!0,type:t.type,zorder:t.zorder+1,width:32,height:32}},i=function(){var i=e();return i.id=t.id+"-membraneTL",i.pattern="membraneTL",i.x=t.x-.5*t.width,i.y=t.y-.5*t.height,i.width=64,i.height=64,i},a=function(){var i=e();return i.id=t.id+"-membraneTR",i.pattern="membraneTR",i.x=t.x+.5*t.width-32,i.y=t.y-.5*t.height,i.width=64,i.height=64,i},s=function(){var i=e();return i.id=t.id+"-membraneBL",i.pattern="membraneBL",i.x=t.x-.5*t.width,i.y=t.y+.5*t.height-32,i.width=64,i.height=64,i},r=function(){var i=e();return i.id=t.id+"-membraneBR",i.pattern="membraneBR",i.x=t.x+.5*t.width-32,i.y=t.y+.5*t.height-32,i.width=64,i.height=64,i},n=function(i){var a=e();return a.id=t.id+"-membraneT",a.pattern="membraneTop",a.x=t.x+(0==i?0:1==i?-16:2==i?16:0),a.y=t.y-.5*t.height,a.width=t.width-(0==i?0:1==i||2==i?32:64),a},o=function(e){var i=n(e);return i.id=t.id+"-membraneB",i.pattern="membraneBottom",i.y=t.y+.5*t.height-16,i},h=function(i){var a=e();return a.id=t.id+"-membraneR",a.pattern="membraneRight",a.x=t.x+.5*t.width-16,a.y=t.y+(0==i?0:1==i?-16:2==i?16:0),a.height=t.height-(0==i?0:1==i||2==i?32:64),a},l=function(e){var i=h(e);return i.id=t.id+"-membraneL",i.pattern="membraneLeft",i.x=t.x-.5*t.width,i};switch(t.type){case 1:return t.shape="rectangle",[n(0)];case 2:return t.shape="rectangle",[h(0)];case 3:return t.shape="roundrecttr",[n(1),h(2),a()];case 4:return t.shape="rectangle",[o(0)];case 5:return t.shape="rectangle",[n(0),o(0)];case 6:return t.shape="roundrectbr",[o(1),h(1),r()];case 7:return t.shape="roundrectr",[n(1),o(1),h(3),r(),a()];case 8:return t.shape="rectangle",[l(0)];case 9:return t.shape="roundrecttl",[n(2),l(2),i()];case 10:return t.shape="rectangle",[h(0),l(0)];case 11:return t.shape="roundrectt",[n(3),h(2),l(2),a(),i()];case 12:return t.shape="roundrectbl",[o(2),l(1),s()];case 13:return t.shape="roundrectl",[n(2),o(2),l(3),i(),s()];case 14:return t.shape="roundrectb",[o(3),h(1),l(1),r(),s()];case 15:return t.width<64||t.height<64?(t.shape="rectangle",delete t.gradient,delete t.color1,delete t.color2,delete t.color3,[n(0)]):(t.shape="roundrect2",[n(3),o(3),h(3),l(3),a(),i(),r(),s()])}return[]},o=function(t,e,i,a,r){r.width,r.height;var n=s.clip("line",[t,e,i,a],[t-r.width/2,e-r.height/2,r.width+(t-r.width/2),r.height+(e-r.height/2)]);return s.lineLength(n[0],n[1],n[2],n[3])+2},h=[],l=[],c=t.childNodes[0];if("map"==c.tagName.toLowerCase()){var d={},p=[],g=0,u=this.XMLToJSON(c,!1,!1,!0);h.push({id:"__background__",type:"background",shape:"rectangle",color:"rgb(220,231,232)",outline:"rgb(29,154,195)",outlineWidth:3,width:Number(u.width),height:Number(u.height),x:.5*Number(u.width),y:.5*Number(u.height),hideLabel:!0,immutable:!0,eventless:!0,zorder:1}),p.push(g++);for(var m=0;m<c.childNodes.length;m++){var f=c.childNodes[m];if(f.nodeName)switch(f.nodeName.toLowerCase()){case"localizations":for(var y=0;y<f.childNodes.length;y++){if((S=f.childNodes[y]).nodeName&&"loc"==S.nodeName.toLowerCase()){var x=this.XMLToJSON(S),b=r.hasOwnProperty(x.id)?"image":"16"==x.id?"roundrect2":"roundrect",v={id:"loc"+(y+1),shape:b,hideLabel:!0,immutable:!0,eventless:!0,x:Number(x.x)+.5*Number(x.width),y:Number(x.y)+.5*Number(x.height),width:Number(x.width),height:Number(x.height),type:Number(x.type),zorder:x.appearance&&x.appearance[0].zorder?Number(x.appearance[0].zorder.replace("Integer: ","")):2};for(var A in"image"!=b&&(v.color="rgba(0,0,0,0)",v.outline="16"==x.id?"rgba(0,0,0,0)":"rgb(83,158,188)",v.outlineWidth="16"!=x.id?3:0,"16"!=x.id&&(v.width-=6,v.height-=6)),x.appearance&&x.appearance[0].rotateangle&&(v.rotate=Number(x.appearance&&x.appearance[0].rotateangle.split(": ")[1]),v.rotate?(v.widthTMP=v.width,v.width=v.height,v.height=v.widthTMP,delete v.widthTMP):delete v.rotate),"16"==x.id&&(v.gradient="linear",v.color1="rgb(122,194,226)",v.color2="rgb(223,237,248)",v.color3="rgb(223,237,248)"),"image"==b&&("1287"==x.id?v.imagePath="1"==x.type?CanvasXpress.images.mitochondria2:CanvasXpress.images.mitochondria:v.imagePath=CanvasXpress.images[r[x.id]]),x)if("appearance"==A.toLowerCase())for(var w in x[A][0])switch(vk=x[A][0][w].split(": "),vk[0]){case"String":v[w]=vk[1];break;case"Integer":case"Double":v[w]=Number(vk[1]);break;case"Boolean":v[w]="true"==vk[1]}if(h.push(v),p.push(g++),16==Number(x.id)){var C=n(v);if(C.length)for(var T=0;T<C.length;T++)h.push(C[T]),p.push(g++)}}}break;case"nodes":for(y=0;y<f.childNodes.length;y++){var S;if((S=f.childNodes[y]).nodeName&&"node"==S.nodeName.toLowerCase()){x=this.XMLToJSON(S),v={};for(var A in x){if("alt"==A.toLowerCase()&&x[A][0].match(/\w/)&&(v.tooltip=x[A][0].replace(/\"/g,"'"),v.tooltip=x[A][0].replace(/\[/g,"&#91"),v.tooltip=x[A][0].replace(/\]/g,"&#93")),"appearance"==A.toLowerCase())for(var w in x[A][0])switch(vk=x[A][0][w].split(":"),vk[0]){case"String":v[w]=vk[1].replace(/\s/g,"");break;case"Integer":case"Double":v[w]=Number(vk[1].replace(/\s/g,""));break;case"Boolean":v[w]="true"==vk[1].replace(/\s/g,"");break;case"Rectangle":v[w]=vk[1].replace(/\s/g,"").split(",").map(Number);break;case"Color":v[w]=vk[1].replace(/\s/g,"").split(",").map(Number),v[w][3]=Math.round(v[w][3]/255*10)/10,v[w]="rgba("+v[w].join(",")+")";break;case"Font":v[w]=vk[1].replace(/\s/g,"").split(",")}v[A]="true"==x[A]||"false"!=x[A]&&(isNaN(x[A])?x[A]:Number(x[A]))}if(v.extId=x.id,v.id=x.nodeid.toString(),v.x=Number(x.x)+.5*Number(x.width),v.y=Number(x.y)+.5*Number(x.height),v.width=Number(x.width),v.height=Number(x.height),v.iconarea&&(v.width=v.iconarea[2],v.height=v.iconarea[3],v.x=v.iconarea[0]+.5*v.width,v.y=v.iconarea[1]+.5*v.height,delete v.iconarea),!x.icontype||0!=x.type&&16!=x.type)if(x.icontype){switch(x.type){case"-10":v.width-=5,v.height-=5,v.x+=2.5,v.y+=2.5,v.shape=v.arcwidth>40?"roundrecto":"roundrect";break;case"21":case"61":case"63":case"91":case"-11":case"-12":v.width-=4,v.height-=4,v.x+=2,v.y+=2,v.shape="roundrect"}v.immutable=!0}else v.shape="roundrect",v.immutable=!0;else isNaN(x.icontype)&&(x.icontype=1e3),Number(x.icontype)<10&&(x.icontype="0"+x.icontype),CanvasXpress.images.hasOwnProperty(x.icontype)?(v.zoomX=50/v.width,v.zoomY=50/v.height,v.shape="image",v.imagePath=CanvasXpress.images[x.icontype],v.immutable=!1):(v.shape="roundrect",v.immutable=!0);if(""==v.name?v.hideLabel=!0:v.name=v.name.toString().replace(/\[/g,"&#91").replace(/\]/g,"&#93").replace(/\"/g,"&quot"),v.textarea){var D=1;if(v.font&&(D=Math.floor(v.textarea[3]/(Number(v.font[2])+(Number(v.font[2])>12?1:0))),v.labelSize=14==v.font[2]?1.1:1,v.font[0].match(/Bold Italic/i)?v.labelStyle="Bold Italic":v.font[0].match(/Bold/i)?v.labelStyle="Bold":v.font[0].match(/Italic/i)&&(v.labelStyle="Italic")),D>1&&!v.name.toString().match(/\n/)){var M=this.nodeFontStyle+" "+Math.floor(10*v.labelSize)+"px "+this.fontName,k=Math.floor(v.textarea[2]/5.5),L=k>0?this.wrapText(v.name.toString(),k):v.name.toString(),I=L.split(/\n/),B=this.measureTextMultiple(L,M);if(I.length>D)for(;I.length>D&&k<v.name.toString().length;)I=(L=this.wrapText(v.name.toString(),k++)).split(/\n/),B=this.measureTextMultiple(L,M);if(B>v.textarea[2])for(I=(L=L.replace("(","\n(")).split(/\n/),B=this.measureTextMultiple(L,M);(B>v.textarea[2]||I.length*M>v.textarea[3]||I.length<D)&&k>3;)I=(L=this.wrapText(v.name,k--)).split(/\n/),B=this.measureTextMultiple(L,M);v.name=L}else 0==D&&(v.hideLabel=!0);v.labelX=v.textarea[0]+.5*v.textarea[2],v.labelY=v.textarea[1]+.5*v.textarea[3]}if(null!=v.textalignment&&(0==v.textalignment?(v.labelAlign="left",v.labelX-=.45*v.textarea[2]):1==v.textalignment?v.labelAlign="center":2==v.textalignment&&(v.labelAlign="right",v.labelX+=.45*v.textarea[2])),delete v.textarea,v.fontcolor&&(v.labelColor=v.fontcolor,delete v.fontcolor),v.backgroundcolor&&(v.color=v.backgroundcolor,delete v.backgroundcolor),v.bordercolor&&(v.outline=v.bordercolor,delete v.bordercolor),v.rotateangle&&(v.rotate="image"==v.shape?-v.rotateangle:270-v.rotateangle,"image"!=v.shape&&(v.labelRotate=-v.rotateangle),delete v.rotateangle),v.borderwidth&&(v.outlineWidth=Number(v.borderwidth)-1,delete v.borderwidth),d[v.id]=g,delete v.appearance,delete v.icontype,h.push(v),p.push(g++),v.complex&&(h.push({id:v.id+"-complex",x:v.x,y:v.y,width:14,height:14,shape:"star",color:"rgb(255,255,255)",hideLabel:!0,zorder:v.zorder+1,parentNode:v.id}),d[v.id+"-complex"]=g,p.push(g++),delete v.complex),v.pathstart){var N=0,F=0,P=0;switch(v.sideofpathstarteditor){case 0:N=90,P=-(40+v.pathstartarrowmargin);break;case 1:N=180,F=40+v.pathstartarrowmargin;break;case 2:N=270,P=40+v.pathstartarrowmargin;break;case 3:N=0,F=-(40+v.pathstartarrowmargin)}h.push({id:v.id+"-pathstart",x:v.x+F,y:v.y+P,width:40,height:40,shape:"image",imagePath:CanvasXpress.images[99],hideLabel:!0,immutable:!0,rotate:N,zorder:v.zorder+1,parentNode:v.id}),d[v.id+"-pathstart"]=g,p.push(g++),delete v.sideofpathstarteditor,delete v.pathstartarrowmargin,delete v.pathstart}v.organismspecificobject&&(h.push({id:v.id+"-organism",x:v.x,y:v.y,width:60,height:60,shape:"circle",color:"rgba(0,0,0,0.1)",outline:"rgb(255,255,0)",outlineWidth:3,hideLabel:!0,zorder:v.zorder-1,parentNode:v.id}),d[v.id+"-organism"]=g,p.push(g++),delete v.organismspecificobject)}}break;case"edges":for(y=0;y<f.childNodes.length;y++){var R=f.childNodes[y];if(R.nodeName&&"edge"==R.nodeName.toLowerCase()){x=this.XMLToJSON(R);var O={};for(var A in x)if("alt"!=A.toLowerCase()){if("appearance"==A.toLowerCase())for(var w in x[A][0])if("linkhighlighting"==w)vk=x[A][0][w].split(":"),"Color"==vk[1]&&vk[2]&&(vk[2]=vk[2].split(","),vk[2].pop(),O.highlight="rgb("+vk[2].join(",")+")");else switch(vk=x[A][0][w].split(": "),vk[0]){case"String":O[w]=vk[1];break;case"Integer":case"Double":O[w]=Number(vk[1]);break;case"Boolean":O[w]="true"==vk[1];break;case"Rectangle":O[w]=vk[1].replace(/\s/g,"").split(",").map(Number);break;case"PointArray":var X=[];vk[1]=vk[1].replace(/\s/g,"").split(";");for(T=0;T<vk[1].length-1;T++)X.push(vk[1][T].split(",").map(Number));O[w]=X}O[A]="true"==x[A]||"false"!=x[A]&&(isNaN(x[A])?x[A]:Number(x[A]))}if(O.id1=x.src,O.id2=x.dst,O.type&&(O.EdgeType=O.type,delete O.type),O.directed&&(O.endArrow="arrow",delete O.directed),O.color="grey",O.type=O.enhances?"dashed":"solid","Round"==O.visualization?(O.type="quadratic",O.angle=O.angle):"Bezier"==O.visualization&&(O.controlpoints?(O.type="bezier",O.angle=O.angle):(O.type="solid",O.linksourcepointindex=0,O.linktargetpointindex=0)),O.hasOwnProperty("effect")){if(O.effect>=0)switch(O.effect){case 0:O.color="rgb(152,156,158)";break;case 1:O.color="rgb(0,128,0)";break;case 2:O.color="rgb(170,0,0)"}if(null!=O.mech){var z={};if(O.showhexagon){var E=O.hexagoncustomcolor||O.color,_=O.hexagonindex||0,H=O.hexagoncoordinate||.5,V=0==O.effect?"black":"rgb(242,216,0)",G=function(t){return{label:t,labelColor:V,shape:"hexagon",color:E,index:_,pos:H}};switch(O.mech){case-1:z=G("");break;case 0:z=G("?");break;case 2:z=G("CM");break;case 3:z=G("+P");break;case 4:z=G("-P");break;case 5:z=G("B");break;case 6:z=G("Cn");break;case 7:z=G("T");break;case 8:z=G("C");break;case 9:z=G("TR");break;case 10:(z=G("GR")).labelColor="white",z.color="rgb(0,0,170)";break;case 11:z=G("CR");break;case 12:z=G("IE");break;case 14:(z=G("CS")).labelColor="white",z.color="rgb(0,0,170)";break;case 15:z=G("Z");break;case 16:z=G("Tn");break;case 20:z=G("cRT");break;case 21:z=G("PE");break;case 22:z=G("TE");break;case 24:z=G("M");break;case 31:z=G("SR");break;case 44:z=G("RG");break;default:z=G("")}""!=z.label&&(O.decoration=[z])}delete O.effect,delete O.mech,delete O.hexagonindex,delete O.hexagoncoordinate,delete O.showhexagon,delete O.hexagoncustomcolor}}if(O.broken&&(O.decoration||(O.decoration=[]),O.decoration.push({label:"X",labelColor:"purple",fontSize:20,shape:"square",color:"rgba(0,0,0,0)",index:O.brokenindex||0,pos:O.brokencoordinate||.5}),delete O.broken,delete O.brokenindex,delete O.brokencoordinate),O.weakens&&(O.decoration||(O.decoration=[]),O.decoration.push({label:"-x-",labelColor:"purple",fontSize:12,shape:"square",color:"rgba(0,0,0,0)",index:O.weakensindex||0,pos:O.weakenscoordinate||.5}),delete O.weakens,delete O.weakensindex,delete O.weakenscoordinate),O.disease&&(O.color="purple",O.thickness=2,delete O.disease),O.enhances&&(O.color="purple",O.thickness=2,delete O.enhances),delete O.appearance,delete O.src,delete O.dst,d.hasOwnProperty(O.id1)&&d.hasOwnProperty(O.id2)){var q,j,U,Y,W,$,Q,Z,K,J,tt,et,it,at=h[d[O.id1]],st=h[d[O.id2]],rt=at.x,nt=at.y,ot=.5*at.width,ht=.5*at.height,lt=st.x,ct=st.y,dt=.5*st.width,pt=.5*st.height;if(O.visualization&&"Right angle polyline"==O.visualization)if(q=O.linksourcepointindex?Math.floor((O.linksourcepointindex-1)/at.linkpointcount):-1,j=O.linksourcepointindex?(O.linksourcepointindex-at.linkpointcount*q)/(at.linkpointcount+1):0,O.firstleg&&"Vertical"==O.firstleg?(nt=(tt=!!O.controlpoints&&O.controlpoints[0][1])&&tt[1]>0?nt+ht:at.y>st.y||tt&&tt<0?nt-ht:nt+ht,0==q||2==q?rt=rt-ot+at.width*j:1==q?rt+=ot:3==q&&(rt-=ot),U="tb"):(rt=(tt=!!O.controlpoints&&O.controlpoints[0][0])&&tt>0?rt+ot:at.x>st.x||tt&&tt<0?rt-ot:rt+ot,1==q||3==q?nt=nt-ht+at.height*j:0==q?nt-=ht:2==q&&(nt+=ht),U="lr"),Y=O.linktargetpointindex?Math.floor((O.linktargetpointindex-1)/st.linkpointcount):-1,W=O.linktargetpointindex?(O.linktargetpointindex-st.linkpointcount*Y)/(st.linkpointcount+1):0,O.controlpoints?($=O.controlpoints.length%2?U:"tb"==U?"lr":"tb",it=O.controlpoints.length-1,et=O.controlpoints[it],O.linktargetpointindex?1==Y||3==Y?(at.x+et[0]>st.x?lt+=dt:lt-=dt,ct=ct-pt+st.height*W):0!=Y&&2!=Y||(lt=lt-dt+st.width*W,at.y+et[1]>st.y?ct+=pt:ct-=pt):(O.controlpoints.length%2?U==$&&"lr"==U&&(at.x+et[0]>st.x?lt+=dt:lt-=dt):lt=at.x+et[0]>st.x?lt+dt:lt-dt,O.controlpoints.length%2?U==$&&"lr"==U||(ct=at.y+et[1]>st.y?ct+pt:ct-pt):at.y+et[1]>st.y&&(ct+=pt))):O.firstleg&&"Vertical"==O.firstleg?(lt=at.x>st.x?lt+dt:lt-dt,1!=Y&&3!=Y||(ct=ct-pt+st.height*W)):(ct=at.y>st.y?ct+pt:ct-pt,0!=Y&&2!=Y||(lt=lt-dt+st.width*W)),O.controlpoints){if(O.elbows=[[rt,nt]],Z=rt,K=nt,O.firstleg&&"Vertical"==O.firstleg){for(T=0;T<O.controlpoints.length;T++)T%2?Z=rt+O.controlpoints[T][0]:K=nt+O.controlpoints[T][1],O.elbows.push([Z,K]);O.controlpoints.length%2?O.elbows.push([lt,K]):O.elbows.push([Z,ct])}else{for(T=0;T<O.controlpoints.length;T++)T%2?K=nt+O.controlpoints[T][1]:Z=rt+O.controlpoints[T][0],O.elbows.push([Z,K]);O.controlpoints.length%2?O.elbows.push([Z,ct]):O.elbows.push([lt,K])}O.elbows.push([lt,ct])}else O.firstleg&&"Vertical"==O.firstleg?O.elbows=[[rt,nt],[rt,ct],[lt,ct]]:O.elbows=[[rt,nt],[lt,nt],[lt,ct]];else if(O.controlpoints&&null!=O.linksourcepointindex&&null!=O.linktargetpointindex&&O.id1!=O.id2){if(O.linksourcepointindex||O.controlpoints)if(tt=O.controlpoints?O.controlpoints[0]:[0,0],0==O.linksourcepointindex)Y=o(rt,nt,rt+tt[0],nt+tt[1],at),Q=this.getCoordinateAtDistance(rt,nt,rt+tt[0],nt+tt[1],Y),J=this.getRadians(rt,nt,rt+tt[0],nt+tt[1]),rt=Q[0],nt=Q[1],-Y*-Math.cos(J),Y*Math.sin(J);else switch(q=Math.floor((O.linksourcepointindex-1)/at.linkpointcount),j=(O.linksourcepointindex-at.linkpointcount*q)/(at.linkpointcount+1),q){case 0:0,rt=at.width*j+rt-ot,nt-=ht;break;case 1:0,rt+=ot,nt=at.height*j+nt-ht;break;case 2:0,rt=at.width*j+rt-ot,nt+=ht;break;case 3:0,rt-=ot,nt=at.height*j+nt-ht}if(O.linktargetpointindex||O.controlpoints)if(et=O.controlpoints?this.cloneObject(O.controlpoints[O.controlpoints.length-1]):[0,0],0==O.linktargetpointindex)O.controlpoints&&(et[0]=lt-(rt+et[0]),et[1]=ct-(nt+et[1])),Y=o(lt,ct,lt+et[0],ct+et[1],st),Q=this.getCoordinateAtDistance(lt,ct,lt+et[0],ct+et[1],-Y),J=this.getRadians(lt,ct,lt+et[0],ct+et[1]),lt=Q[0],ct=Q[1];else switch(Y=Math.floor((O.linktargetpointindex-1)/st.linkpointcount),W=(O.linktargetpointindex-st.linkpointcount*Y)/(st.linkpointcount+1),Y){case 0:lt=st.width*W+lt-dt,ct-=pt;break;case 1:lt+=dt,ct=st.height*W+ct-pt;break;case 2:lt=st.width*W+lt-dt,ct+=pt;break;case 3:lt-=dt,ct=st.height*W+ct-pt}O.elbows=[];for(T=0;T<O.controlpoints.length;T++)O.elbows.push([rt+O.controlpoints[T][0]+5,nt+O.controlpoints[T][1]]);O.elbows.unshift([rt,nt]),O.elbows.push([lt,ct])}else if(O.id1==O.id2)(q=O.linksourcepointindex?Math.floor((O.linksourcepointindex-1)/at.linkpointcount):-1)==(Y=O.linktargetpointindex?Math.floor((O.linktargetpointindex-1)/st.linkpointcount):-1)?O.self={dir:O.angle>0,pos:0==q?"top":1==q?"right":q="bottom",size:20,end:"arrow"}:q>Y||0==q&&3==Y?O.self={dir:O.angle>0,pos:0==q?"topLeft":q="topRight",size:20,end:"arrow"}:(Y>q||0==Y&&3==q)&&(O.self={dir:O.angle>0,pos:0==q?"topRight":1==q?"bottomRight":2==q?"bottomLeft":"topLeft",size:20,end:"arrow"});else if(O.linksourcepointindex&&(q=O.linksourcepointindex?Math.floor((O.linksourcepointindex-1)/at.linkpointcount):-1,j=O.linksourcepointindex?(O.linksourcepointindex-at.linkpointcount*q)/(at.linkpointcount+1):0,0==q||2==q?rt=rt-ot+at.width*j:nt=nt-ht+at.height*j),O.linktargetpointindex&&(Y=O.linktargetpointindex?Math.floor((O.linktargetpointindex-1)/st.linkpointcount):-1,W=O.linktargetpointindex?(O.linktargetpointindex-st.linkpointcount*Y)/(st.linkpointcount+1):0,0==Y||2==Y?lt=lt-dt+st.width*W:ct=ct-pt+st.height*W),O.linksourcepointindex||O.linktargetpointindex){if(O.linksourcepointindex){switch(q){case 0:nt-=ht;break;case 1:rt+=ot;break;case 2:nt+=ht;break;case 3:rt-=ot}if(O.linktargetpointindex)switch(Y){case 0:ct-=pt;break;case 1:lt+=dt;break;case 2:ct+=pt;break;case 3:lt-=dt}else Y=o(lt,ct,rt,nt,st),lt=(Q=this.getCoordinateAtDistance(lt,ct,rt,nt,Y))[0],ct=Q[1]}else{switch(Y){case 0:ct-=pt;break;case 1:lt+=dt;break;case 2:ct+=pt;break;case 3:lt-=dt}Y=o(rt,nt,lt,ct,at),rt=(Q=this.getCoordinateAtDistance(rt,nt,lt,ct,Y))[0],nt=Q[1]}O.elbows=[[rt,nt],[lt,ct]]}delete O.linksourcepointindex,delete O.linktargetpointindex,delete O.controlpoints,delete O.visualization,delete O.firstleg,l.push(O)}}}}}p.sort((function(t,e){return h[t].zorder-h[e].zorder==0?t-e:h[t].zorder-h[e].zorder}));var gt=[];for(m=0;m<p.length;m++)gt.push(h[p[m]]);h=gt}else alert("Ooops! Not a Metabase xgmml file!");var ut="Number of Nodes: "+h.length+"\nNumber of Edges: "+l.length+"\n";ut=ut.replace(/\n/g,"<br>");var mt={data:{nodes:h,edges:l},config:{adjustBezier:!1,graphType:"Network",calculateLayout:!1,showAnimation:!1,networkNodesOnTop:!1,showNodeNameThreshold:2e4,networkFreeze:!1,preScaleNetwork:!1,moveParentsWithChildren:!0,ignoreEventlessOrder:!0,networkVendor:"Metabase"},renderTo:e,events:a,uploadFile:!this.dataString,afterRender:[["flashInfoSpan",[100,100,ut,5e3]],["appendNetworkDataFromURL",[]]]};if(i)for(var A in i)mt.config[A]=i[A];var ft=!1,yt=this.dataURL||this.dataString,xt=this.cloneObject(this.meta.config.user);if("Network"==this.graphType){for(var A in this.meta.config.user)mt.config[A]=this.meta.config.user[A];ft=function(t){t.meta.config.remote={data:yt,config:xt},t.networkFreeze=!0}}this.updateRemoteData(mt,ft),this.hideMask()},this.gexfToCX=function(t,e,i,a){var s=[],r=[],n=!0,o=t.childNodes[0];if("gexf"==o.tagName.toLowerCase())for(var h=0;h<o.childNodes.length;h++){var l=o.childNodes[h];if(l.nodeName&&"graph"==l.nodeName.toLowerCase())for(var c=0;c<l.childNodes.length;c++){var d=l.childNodes[c];if(d.nodeName&&"nodes"==d.nodeName.toLowerCase())for(var p=0;p<d.childNodes.length;p++){var g=d.childNodes[p];if(g.nodeName&&"node"==g.nodeName.toLowerCase()){var u=this.XMLToJSON(g),m={};if(u.id){for(var f in u)switch(f.toLowerCase()){case"id":m.id=u.id;break;case"label":m.name=u.label;break;case"color":m.color="rgb("+u[f][0].r+","+u[f][0].g+","+u[f][0].b+")";break;case"position":m.x=Number(u[f][0].x),m.y=Number(u[f][0].y),m.z=Number(u[f][0].z),n=!1;break;case"size":m.width=Number(u[f][0].value),m.height=Number(u[f][0].value)}s.push(m)}}}else if(d.nodeName&&"edges"==d.nodeName.toLowerCase())for(p=0;p<d.childNodes.length;p++){var y=d.childNodes[p];if(y.nodeName&&"edge"==y.nodeName.toLowerCase()){var x={};(u=this.XMLToJSON(y)).source&&u.target&&(x.id1=u.source,x.id2=u.target,r.push(x))}}}}else alert("Ooops! Not a Gephi gexf file!");var b="Number of Nodes: "+s.length+"\nNumber of Edges: "+r.length+"\n";b=b.replace(/\n/g,"<br>");var v={data:{nodes:s,edges:r},config:{graphType:"Network",calculateLayout:n,showAnimation:!1,networkNodesOnTop:!0,showNodeNameThreshold:2e4,networkFreeze:!1,preScaleNetwork:!1,moveParentsWithChildren:!0,ignoreEventlessOrder:!0,networkVendor:"Gephi"},renderTo:e,events:a,uploadFile:!this.dataString,afterRender:[["flashInfoSpan",[100,100,b,5e3]],["appendNetworkDataFromURL",[]]]};if(i)for(var f in i)v.config[f]=i[f];var A=!1,w=this.dataURL||this.dataString,C=this.cloneObject(this.meta.config.user);if("Network"==this.graphType){for(var f in this.meta.config.user)v.config[f]=this.meta.config.user[f];A=function(t){t.meta.config.remote={data:w,config:C},t.networkFreeze=!0}}this.updateRemoteData(v,A),this.hideMask()},this.parseGML=function(t){var e,i,a=("{\n"+t+"\n}").replace(/^(\s*)(\w+)\s*\[/gm,'$1"$2": {').replace(/^(\s*)\]/gm,"$1},").replace(/^(\s*)(\w+)\s+(.+)$/gm,'$1"$2": $3,').replace(/,(\s*)\}/g,"$1}"),s={},r=[],n=[],o=0;a=a.replace(/^(\s*)"node"/gm,(function(t,e){return e+'"node['+o+++']"'})),o=0,a=a.replace(/^(\s*)"edge"/gm,(function(t,e){return e+'"edge['+o+++']"'}));try{a=this.parseJSON(a)}catch(t){throw new SyntaxError("bad format")}if(!this.isObject(a.graph))throw new SyntaxError("no graph tag");return e=a.graph,i=function(t,e){var i,a,o=t.match(/^(\w+)\[(\d+)\]$/);o?(i=o[1],a=parseInt(o[2],10),"node"===i?r[a]=e:"edge"===i?(n[a]=e,n[a].id1=n[a].source,n[a].id2=n[a].target,delete n[a].source,delete n[a].target):s[t]=e):s[t]=e},Object.keys(e).forEach((function(t){i(t,e[t])})),s.nodes=r,s.edges=n,{data:s,config:{graphType:"Network"}}},this.arrayToCanvasXpress=function(t){var e,i={y:{vars:[],smps:[],data:[]}},a="Scatter2D",s=t[0].filter(Number);if(0==s.length)s=t.shift();else{s=[];for(var r=0;r<t[0].length;r++)s.push("C"+(r+1))}var n=[],o=!1;for(r=0;r<t.length;r++)n.push(t[r][0].toString()),t[r][0].toString().match(/\./)&&(o=!0);if((e=n).filter((function(t,i){return e.indexOf(t)===i})).length!=n.length||o){n=[];for(r=0;r<t.length;r++)n.push("R"+(r+1))}else for(var r=0;r<t.length;r++)t[r].shift(t[r][0]);if(s.length>t[0].length&&(s.shift(),!s.length==t[0].length))return!1;if(t[0].length!=t[t.length-1].length&&(t.pop(),n.pop(),t[0].length!=t[t.length-1].length))return!1;var h=[],l=0;for(r=0;r<s.length;r++){h[r]=!1;for(var c=0;c<n.length;c++)if(isNaN(t[c][r])){h[r]=!0;break}if(h[r])i.z={};else{for(c=0;c<n.length;c++)t[c][r]=null==t[c][r]||null==t[c][r]?null:!isNaN(parseFloat(t[c][r]))&&isFinite(t[c][r])?Number(t[c][r]):null;l++}}var d,p=!1;if(l>1){var g=Math.ceil(.6*l),u=0;for(r=h.length-1;r>=0;r--)h[r]?u<g&&(p=!0):u++}for(r=0;r<n.length;r++)i.y.data[r]=[],i.y.vars.push(n[r]);for(r=0;r<s.length;r++)if(this.isCxplot){var m=!(!this.aes.hasOwnProperty("stringSampleFactors")||!this.aes.stringSampleFactors.includes(s[r]));if(h[r]||s[r]!=this.aes.x&&s[r]!=this.aes.y&&s[r]!=this.aes.z||m){i.z||(i.z={}),i.z[s[r]]=[];for(c=0;c<n.length;c++)i.z[s[r]].push(t[c][r])}else{i.y.smps.push(s[r]);for(var c=0;c<n.length;c++)i.y.data[c].push(t[c][r])}}else if(h[r]||this.metaData&&this.metaData.hasOwnProperty(s[r])){i.z[s[r]]=[];for(c=0;c<n.length;c++)i.z[s[r]].push(t[c][r])}else{i.y.smps.push(s[r]);for(c=0;c<n.length;c++)i.y.data[c].push(t[c][r])}if(0==i.y.smps.length){g=i.y.data.length;i.y.data=[[]];for(r=0;r<g;r++)i.y.data[0].push(1);i.y.smps=i.y.vars,i.y.vars=["counts"],i.x=i.z,delete i.z,a="Bar"}else if(1==i.y.smps.length||p){i.y.data=(d=i.y.data)[0].map((function(t,e){return d.map((function(t){return t[e]}))})),i.y.vars=i.y.smps,i.y.smps=n,i.x=i.z,delete i.z,a="Bar"}return{data:i,config:{graphType:a}}},this.getRDatasets=function(){var t=function(t){return function(e){t.Rdatasets=t.parseJSON(e)}}(this),e=this.RdatasetsURL+"datasets.json";this.ajaxRequest(e,!1,t)},this.getRLibraryDataSets=function(t){this.getDataSetListFromURL(this.RdatasetsURL+"json/"+t+"/datasets.json")},this.appendNetworkDataFromURL=function(){var t=this,e=this.appendNetworkData.length>0&&this.appendNetworkData.shift(),i=function(i){var a=0,s=0;i.match(/,/g)&&(a=i.match(/,/g).length),i.match(/\t/g)&&(s=i.match(/\t/g).length);var r=e.match(/\.csv$/)&&a>s?",":"\t",n=t.delimitedToArray(i,r,!1,!0);if(n&&!t.isArray(n)){var o="";n.fail>0&&(o=n.fail+" records couldn't be mapped to network data"),t.flashInfoSpan(100,150,n.rows+" "+n.type+" records added to network data\n"+o,5e3);for(var h=t.meta.config.user,l=["colorNodeBy","shapeNodeBy","sizeNodeBy","patternNodeBy","colorEdgeBy","SizeEdgeBy","decorations"],c=0;c<l.length;c++){var d=l[c];h.hasOwnProperty(d)&&(t[d]=h[d])}"node"==n.type?t.appendNodeData(n.data):t.appendEdgeData(n.data),t.appendNetworkData.length>0?t.appendNetworkDataFromURL():(t.draw({func:"appendNetworkDataFromURL"}),t.hideMask())}},a=function(e){"node"==e.type?t.appendNodeData(e.data):t.appendEdgeData(e.data),t.appendNetworkData.length>0?t.appendNetworkDataFromURL():(t.draw({func:"appendNetworkDataFromURL"}),t.hideMask())},s=function(t){return function(a){e.match(/\.txt$/)||e.match(/\.csv$/)||e.match(/\.tsv$/)||e.match(/\.tab$/)?i(a):(t.hideMask(),alert("Oooops! Not a CanvasXpress Network delimited file"))}}(this);if(e)if("string"==typeof e){var r=this.isValidString(e);switch(r.type){case"URL":this.ajaxRequest(e,!1,s);break;case"XML":alert("XML not supported!");break;case"JSON":a(r.data);case"DELIM":i(e)}}else a(e)},this.getDataFromURLOrString=function(t,e,a,s,r){if(this.dataURL){var n=this,o=!!this.dataURL.match(/\.png$/)&&"arraybuffer",h=function(i){return function(o){var h=function(t){try{return n.parseJSON(t)}catch(t){return!1}}(o);if(i.remoteService=i.dataURL,i.remoteServiceType="file",i.isObject(h)){if(Array.isArray(h))return i.setDataSetsFromURL(o)}else if(i.dataURL.match(/\.png$/))h=i.parseDataFromPNG(o);else if(i.dataURL.match(/\.svg$/))h=i.SVGtoCX(o);else if(i.dataURL.match(/\.txt$/)||i.dataURL.match(/\.csv$/)||i.dataURL.match(/\.tsv$/)||i.dataURL.match(/\.tab$/))h=i.delimitedToArray(o,!1,!0);else{if(i.dataURL.match(/.gexf/)){var l=i.parseXML(o);return i.gexfToCX(l,p)}if(i.dataURL.match(/\ml$/)){var c=(l=i.parseXML(o)).childNodes[0],d=l.childNodes[2],p=t||i.newId("-cX-data-url-");if(c.tagName&&"map"==c.tagName.toLowerCase())return i.metabaseToCX(l,p);if(c.tagName&&"graph"==c.tagName.toLowerCase())return i.cytoscapeToCX(l,p);if(c.tagName&&"pathway"==c.tagName.toLowerCase())return i.wikipathwayToCX(l,p);if(d&&d.tagName&&"pathway"==d.tagName.toLowerCase())return i.keggToCX(l,p)}}h.records=0,h.renderTo=t||(h.renderTo?h.renderTo:i.newId("-cX-data-url-")),h.config=e||(h.config?h.config:{graphType:"Scatter2D"}),"Network"==h.config.graphType&&(h.config.appendNetworkData=i.appendNetworkData),h.events=a||!!h.events&&h.events,h.info=s?s.toString().replace(/'/g,"'").replace(/"/g,"'"):!!h.info&&h.info.toString().replace(/'/g,"'").replace(/"/g,"'"),h.noValidate=!0,h.afterRender||(h.afterRender=[]),"Network"==h.config.graphType&&h.afterRender.push(["appendNetworkDataFromURL",[]]);var g=i.dataURL,u=i.cloneObject(i.meta.config.user);i.updateRemoteData(h,(function(t){t.meta.config.remote={data:g,config:u},t.reInitStack(h),r&&r.apply(t)}))}}(this);this.ajaxRequest(this.dataURL,!1,h,o)}else if(this.topoJSONURL){h=function(t){return function(e){var a=t.parseJSON(e),s=!t.isExample&&t.cloneObject(t.data),n=t.cloneObject(t.meta.config.user),o={renderTo:t.target,data:!t.isExample&&t.data,config:t.meta.config.user};window[t.mapId]&&t.isObject(window[t.mapId])||(o.config.remoteTransitionEffect="none",window[t.mapId]=a,t.remoteServiceType="file",t.updateRemoteData(o,(function(t){for(i in t.meta.config.remote={data:s,config:n},t.reInitStack(o),CanvasXpress.chain)CanvasXpress.chain[i]==t.target&&CanvasXpress.stack[i].hasOwnProperty("afterRender")&&t.afterRender(CanvasXpress.stack[i].afterRender);r&&r()})))}}(this);this.ajaxRequest(this.topoJSONURL,!1,h)}else this.dataString&&this.loadXML(this.dataString,t,e,a)},this.getDataSetListFromURL=function(t){this.remoteService=t,this.ajaxRequest(t,!1,this.setDataSetsFromURL)},this.setDataSetsFromURL=function(t){return function(e){for(var i=function(t){var e=d.parseJSON(t);d.updateRemoteData({data:e,ids:d.remoteIds,records:d.remoteIds.length})},a=t.parseJSON(e),s=a[0][1],r=[],n=0;n<a.length;n++)r.push(a[n][0]);var o=function(){for(var e=t.$("container-"+t.target).parentNode;e.id.match("canvasXpressRemoteWindow");)e=e.parentNode;return e.id||(e.id=t.newId("-cX-data-sets-url-container-")),e.id}(),h=t.$("container-"+t.target).parentNode,l=t.newId("-cX-data-sets-"),c=t.$cX("canvas",{id:l,width:t.originalWidth,height:t.originalHeight});t.castCanvasAttributes(c),h.appendChild(c);var d=new CanvasXpress(l,!1,{remoteService:t.remoteService});t.remoteIds=r,t.destroy(t.target),d.remoteData=a,d.remoteParentId=o,d.remoteIds=r,d.remoteServiceType="file",d.ajaxRequest(s,!1,i)}}(this),this.initStack=function(t,e,i,a,s){CanvasXpress.stack||(CanvasXpress.stack={});var r=this.$(this.target);r&&(CanvasXpress.stack[this.target]={version:CanvasXpress.factory.version,renderTo:this.target,data:!!t&&this.cloneObject(t),config:e||!1,events:i||!1,info:!!a&&a.toString().replace(/'/g,"'").replace(/"/g,"'"),afterRenderInit:s||!1,afterRender:[["setDimensions",[r.originalWidth,r.originalHeight,!0]]],state:[],stateIndex:0,noValidate:!0})},this.reInitStack=function(t){if(t.data){if(t.config.stringSampleFactors)for(var e=0;e<t.config.stringSampleFactors.length;e++){var i=t.config.stringSampleFactors[e];if(t.data.x&&t.data.x[i])for(var a=0;a<t.data.x[i].length;a++)t.data.x[i][a]=t.data.x[i][a]}if(t.config.stringVariableFactors)for(e=0;e<t.config.stringVariableFactors.length;e++){i=t.config.stringVariableFactors[e];if(t.data.z&&t.data.z[i])for(a=0;a<t.data.z[i].length;a++)t.data.z[i][a]=t.data.z[i][a]}CanvasXpress.stack[this.target].data=t.data}},this.getStack=function(){return CanvasXpress.stack[this.target].afterRender},this.getConfigState=function(){var t={meta:!0,animationOn:!0,arrows:!0,beaconImage:!0,bubble:!0,changingColorItemOn:!0,changingColorOn:!0,changingSliderItemOn:!0,currentCanvasContext:!0,draggingOn:!0,doubleClick:!0,events:!0,functions:!0,gantt:!0,images:!0,info:!0,infoStartTime:!0,isHighlightCanvas:!0,isTransitionOn:!0,keyOn:!0,lastCanvasEvent:!0,lastMousemove:!0,lines:!0,moveSankeyId:!0,movingOn:!0,nodes:!0,panningOn:!0,patterns:!0,resetOn:!0,resizeCanvasCursorShow:!0,shapes:!0,sizes:!0,skipClick:!0,skipTransition:!0,times:!0,touchEvent:!0,touches:!0,transitionIter:!0,userId:!0,validGraphTypes:!0,vennCompartments:!0,xMouseDown:!0,yMouseDown:!0};"Network"!=this.graphType&&(t.data=!0);for(var e=Object.keys(this),i=this.getObjectArray(CanvasXpress.config),a=[],s=0;s<e.length;s++){var r=e[s];i.hasOwnProperty(r)?a.push(r):this.isFunction(this[r])||t.hasOwnProperty(r)||a.push(r)}var n={};for(s=0;s<a.length;s++){n[r=a[s]]=this.isObject(this[r])?this.cloneObject(this[r],!0):this[r]}return n},this.setConfigState=function(t){t||(t=0);var e=CanvasXpress.stack[this.target].state[t];for(var i in e)this[i]=e[i];var a={calculateLayout:this.calculateLayout};for(var i in this.calculateLayout=!1,this.skipStack=!0,this.draw({func:"setConfigState",par:[t]}),this.skipStack=!1,a)this[i]=a[i]},this.stack=function(t){if(!this.skipStack&&t){var e=t.func,i=t.par?this.cleanEventInArguments(t.par):[],a=t.prop?this.cloneObject(t.prop):{},s=(new Date).getTime(),r=CanvasXpress.stack[this.target].afterRender.length;if(e){switch(e){case"setDimensions":if(i&&i[0]==this.width&&i[1]==this.height)return;i&&i[5]&&(e="clickGraphMaxMin",i=i[5]>0?[!1,!1,!0]:[!1,this.maximized,!1]),CanvasXpress.stack[this.target].afterRender.push([e,i,{},s]);break;case"broadcastDraw":e=i[0].func,a=(i=i[0]&&i[0].par?this.cleanEventInArguments(i[0].par):[])[0]&&i[0].prop||{},e&&CanvasXpress.stack[this.target].afterRender.push([e,i,a,s]);break;case"drawIndicesAfterPannEvent":case"drawIndicesAfterWheelEvent":case"drawRangesAfterWheelEvent":case"updateDragCircular":case"updateDragScatter":case"updateDragNetwork":case"updateDragGenome":case"updateDragMap":case"updateDragMarker":var n=CanvasXpress.stack[this.target].afterRender,o=CanvasXpress.stack[this.target].state,h="updateDragNetwork"!=e||!i[0].shiftKey;if(r>1&&n[r-1][0]==e&&h)s-n[r-1][3]<1e3&&(n.pop(),o.pop());CanvasXpress.stack[this.target].afterRender.push([e,i,a,s]);break;case"handleWheelEvent":CanvasXpress.stack[this.target].afterRender.push([e,i,a,s]);break;case"resortSankeyDONOTUSE":n=CanvasXpress.stack[this.target].afterRender,o=CanvasXpress.stack[this.target].state;if(r>1&&"resortSankey"==n[r-1][0])s-n[r-1][3]<1e3&&(n.pop(),o.pop());default:CanvasXpress.stack[this.target].afterRender.push([e,i,a,s])}if(!this.disableUndoRedoKeys&&CanvasXpress.stack[this.target].stateIndex<CanvasXpress.stack[this.target].state.length-1&&CanvasXpress.stack[this.target].state.splice(CanvasXpress.stack[this.target].stateIndex,CanvasXpress.stack[this.target].state.length-1),this.meta.stack.push([e,this.meta.time.start,this.meta.time.elapsed]),!this.disableUndoRedoKeys){var l=this.getConfigState();CanvasXpress.stack[this.target].state.push(l),CanvasXpress.stack[this.target].stateIndex=CanvasXpress.stack[this.target].state.length-1}}}},this.reproducePlay=function(t){return function(e){t.reproduce(e,!0)}}(this),this.reproduce=function(t){return function(e,i,a){t.maximized&&t.clickGraphMaxMin(),t.motionBy||(t.skipStack=!0,t.reproducing=!0,t.resetMenus(),t.resetLinks(),t.resetSelected(e,!0),t.meta.ids={},a?(t.setMotionObject(),t.clickMotion(e,!0,!0)):(t.addMotionDiv(e),(e&&e.shiftKey||i)&&t.clickMotion(e,!0)))}}(this),this.animate=function(t){return function(e){t.replot(e,!0)}}(this),this.replot=function(t){return function(e,i,a){var s=t.cloneObject(CanvasXpress.stack[t.target]);if(this.isRawData||s.data.y&&delete s.data.y.data,this.isQQ=!1,this.isCDF=!1,s.config.showTransition=!!i,a){var r=t.cloneObject(s.afterRender);s.afterRender=[];for(var n=0;n<r.length;n++){var o=r[n];"addCDFPlot"==o[0]&&s.config.decorations&&delete s.config.decorations.cdf,o&&o[4]&&s.afterRender.push(o)}}t.maximized&&t.clickGraphMaxMin(),t.destroy(t.target,!0),new CanvasXpress(s)}}(this)},CanvasXpress.prototype.initSave=function(){!function(t){if(t.URL=t.URL||t.webkitURL,t.Blob&&t.URL)try{return void new Blob}catch(t){}var e=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||function(t){var e=function(t){return Object.prototype.toString.call(t).match(/^\[object\s(.*)\]$/)[1]},i=function(){this.data=[]},a=function(t,e,i){this.data=t,this.size=t.length,this.type=e,this.encoding=i},s=i.prototype,r=a.prototype,n=t.FileReaderSync,o=function(t){this.code=this[this.name=t]},h="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),l=h.length,c=t.URL||t.webkitURL||t,d=c.createObjectURL,p=c.revokeObjectURL,g=c,u=t.btoa,m=t.atob,f=t.ArrayBuffer,y=t.Uint8Array,x=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;for(a.fake=r.fake=!0;l--;)o.prototype[h[l]]=l+1;return c.createObjectURL||(g=t.URL=function(t){var e,i=document.createElementNS("http://www.w3.org/1999/xhtml","a");return i.href=t,"origin"in i||("data:"===i.protocol.toLowerCase()?i.origin=null:(e=t.match(x),i.origin=e&&e[1])),i}),g.createObjectURL=function(t){var e,i=t.type;return null===i&&(i="application/octet-stream"),t instanceof a?(e="data:"+i,"base64"===t.encoding?e+";base64,"+t.data:"URI"===t.encoding?e+","+decodeURIComponent(t.data):u?e+";base64,"+u(t.data):e+","+encodeURIComponent(t.data)):d?d.call(c,t):void 0},g.revokeObjectURL=function(t){"data:"!==t.substring(0,5)&&p&&p.call(c,t)},s.append=function(t){var i=this.data;if(y&&(t instanceof f||t instanceof y)){for(var s="",r=new y(t),h=0,l=r.length;h<l;h++)s+=String.fromCharCode(r[h]);i.push(s)}else if("Blob"===e(t)||"File"===e(t)){if(!n)throw new o("NOT_READABLE_ERR");var c=new n;i.push(c.readAsBinaryString(t))}else t instanceof a?"base64"===t.encoding&&m?i.push(m(t.data)):"URI"===t.encoding?i.push(decodeURIComponent(t.data)):"raw"===t.encoding&&i.push(t.data):("string"!=typeof t&&(t+=""),i.push(unescape(encodeURIComponent(t))))},s.getBlob=function(t){return arguments.length||(t=null),new a(this.data.join(""),t,"raw")},s.toString=function(){return"[object BlobBuilder]"},r.slice=function(t,e,i){var s=arguments.length;return s<3&&(i=null),new a(this.data.slice(t,s>1?e:this.data.length),i,this.encoding)},r.toString=function(){return"[object Blob]"},r.close=function(){this.size=0,delete this.data},i}(t);t.Blob=function(t,i){var a=i&&i.type||"",s=new e;if(t)for(var r=0,n=t.length;r<n;r++)Uint8Array&&t[r]instanceof Uint8Array?s.append(t[r].buffer):s.append(t[r]);var o=s.getBlob(a);return!o.slice&&o.webkitSlice&&(o.slice=o.webkitSlice),o};var i=Object.getPrototypeOf||function(t){return t.__proto__};t.Blob.prototype=i(new t.Blob)}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this),function(t){var e,i=t.Uint8Array,a=t.HTMLCanvasElement,s=a&&a.prototype,r=/\s*;\s*base64\s*(?:;|$)/i,n="toDataURL",o=function(t){for(var a,s,r=t.length,n=new i(r/4*3|0),o=0,h=0,l=[0,0],c=0,d=0;r--;)s=t.charCodeAt(o++),255!==(a=e[s-43])&&void 0!==a&&(l[1]=l[0],l[0]=s,d=d<<6|a,4===++c&&(n[h++]=d>>>16,61!==l[1]&&(n[h++]=d>>>8),61!==l[0]&&(n[h++]=d),c=0));return n};i&&(e=new i([62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,0,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51])),!a||s.toBlob&&s.toBlobHD||(s.toBlob||(s.toBlob=function(t,e){if(e||(e="image/png"),this.mozGetAsFile)t(this.mozGetAsFile("canvas",e));else if(this.msToBlob&&/^\s*image\/png\s*(?:$|;)/i.test(e))t(this.msToBlob());else{var a,s=Array.prototype.slice.call(arguments,1),h=this[n].apply(this,s),l=h.indexOf(","),c=h.substring(l+1),d=r.test(h.substring(0,l));Blob.fake?((a=new Blob).encoding=d?"base64":"URI",a.data=c,a.size=c.length):i&&(a=d?new Blob([o(c)],{type:e}):new Blob([decodeURIComponent(c)],{type:e})),t(a)}}),!s.toBlobHD&&s.toDataURLHD?s.toBlobHD=function(){n="toDataURLHD";var t=this.toBlob();return n="toDataURL",t}:s.toBlobHD=s.toBlob)}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this);var t="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:this;function e(t,e,i){var a=new XMLHttpRequest;a.open("GET",t),a.responseType="blob",a.onload=function(){s(a.response,e,i)},a.onerror=function(){console.error("could not download file")},a.send()}function i(t){var e=new XMLHttpRequest;return e.open("HEAD",t,!1),e.send(),e.status>=200&&e.status<=299}function a(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(i){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var s=t.saveAs||"object"!=typeof window||window!==t?function(){}:"download"in HTMLAnchorElement.prototype?function(s,r,n){var o=t.URL||t.webkitURL,h=document.createElement("a");r=r||s.name||"download",h.download=r,h.rel="noopener","string"==typeof s?(h.href=s,h.origin!==location.origin?i(h.href)?e(s,r,n):a(h,h.target="_blank"):a(h)):(h.href=o.createObjectURL(s),setTimeout((function(){o.revokeObjectURL(h.href)}),4e4),setTimeout((function(){a(h)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,s,r){if(s=s||t.name||"download","string"==typeof t)if(i(t))e(t,s,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout((function(){a(n)}))}else navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Depricated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t}(t,r),s)}:function(i,a,s,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof i)return e(i,a,s);var n="application/octet-stream"===i.type,o=/constructor/i.test(t.HTMLElement)||t.safari,h=/CriOS\/[\d]+/.test(navigator.userAgent);if((h||n&&o)&&"object"==typeof FileReader){var l=new FileReader;l.onloadend=function(){var t=l.result;t=h?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=t:location=t,r=null},l.readAsDataURL(i)}else{var c=t.URL||t.webkitURL,d=c.createObjectURL(i);r?r.location=d:location.href=d,r=null,setTimeout((function(){c.revokeObjectURL(d)}),4e4)}};this.saveAs=s},CanvasXpress.prototype.initConfig=function(){this.setConfigDefaults=function(){var t=CanvasXpress.config;this.graphType="Bar",t.push("graphType"),this.graphOrientation="horizontal",t.push("graphOrientation"),this.transparency=null,t.push("transparency"),this.transparencyHidden=.1,t.push("transparencyHidden"),this.canvasBox=!1,t.push("canvasBox"),this.canvasBoxColor="rgb(204,204,204)",t.push("canvasBoxColor"),this.plotBox=!1,t.push("plotBox"),this.plotBoxColor="rgb(204,204,204)",t.push("plotBoxColor"),this.invertGraph=!1,t.push("invertGraph"),this.view="canvas",t.push("view"),this.isR=!1,t.push("isR"),this.isCxplot=!1,t.push("isCxplot"),this.isReproducibleResearch=!0,t.push("isReproducibleResearch"),this.reproduceTime=500,t.push("reproduceTime"),this.printType="download",t.push("printType"),this.printMagnification=1,t.push("printMagnification"),this.printThumbnail=!1,t.push("printThumbnail"),this.cacheBase64=!1,t.push("cacheBase64"),this.editable=!0,t.push("editable"),this.highlightGreyOut=!1,t.push("highlightGreyOut"),this.highlightGreyOutTransparency=.67,t.push("highlightGreyOutTransparency"),this.theme="none",t.push("theme"),this.useRawLines=!1,t.push("useRawLines"),this.fullTextMeasureCheck=500,t.push("fullTextMeasureCheck"),this.showFunctionNamesAfterRender=!1,t.push("showFunctionNamesAfterRender"),this.saveFilename=!1,t.push("saveFilename"),this.skipRender=!1,t.push("skipRender"),this.tags=[],t.push("tags"),this.createVersion=!1,t.push("createVersion"),this.createFactory=!1,t.push("createFactory"),this.metaData={},t.push("metaData"),this.functions=[],this.aes={},t.push("aes"),this.effect="none",t.push("effect"),this.codeEffectIn="swashIn",t.push("codeEffectIn"),this.codeEffectOut="holeOut",t.push("codeEffectOut"),this.configuratorEffectIn="swashIn",t.push("configuratorEffectIn"),this.configuratorEffectOut="holeOut",t.push("configuratorEffectOut"),this.dataexplorerEffectIn="holeOut",t.push("dataexplorerEffectIn"),this.dataexplorerEffectOut="holeOut",t.push("dataexplorerEffectOut"),this.datafilterEffectIn="holeOut",t.push("datafilterEffectIn"),this.datafilterEffectOut="holeOut",t.push("datafilterEffectOut"),this.datatableEffectIn="holeOut",t.push("datatableEffectIn"),this.datatableEffectOut="holeOut",t.push("datatableEffectOut"),this.motionEffectIn="swashIn",t.push("motionEffectIn"),this.motionEffectOut="holeOut",t.push("motionEffectOut"),this.remoteEffectIn="holeIn",t.push("remoteEffectIn"),this.remoteEffectOut="holeOut",t.push("remoteEffectOut"),this.toolbarEffectIn="holeIn",t.push("toolbarEffectIn"),this.toolbarEffectOut="holeOut",t.push("toolbarEffectOut"),this.tooltipDivEffectIn="holeOut",t.push("tooltipDivEffectIn"),this.tooltipDivEffectOut="spaceInUp",t.push("tooltipDivEffectOut"),this.gradient=!1,t.push("gradient"),this.gradientType="radial",t.push("gradientType"),this.gradientOrientation="vertical",t.push("gradientOrientation"),this.gradientRatio=1.3,t.push("gradientRatio"),this.adjustAspectRatio=!0,t.push("adjustAspectRatio"),this.percentAspectRatioPlotArea=.5,t.push("percentAspectRatioPlotArea"),this.fixedAspectRatio=0,t.push("fixedAspectRatio"),this.variableSpaceFactor=2,t.push("variableSpaceFactor"),this.sampleSpaceFactor=1,t.push("sampleSpaceFactor"),this.widthFactor=1,t.push("widthFactor"),this.dataPointSize=15,t.push("dataPointSize"),this.dataPointSizeScaleFactor=1,t.push("dataPointSizeScaleFactor"),this.adjustAspectRatioMax=3,this.adjustAspectRatioYTries=0,this.adjustAspectRatioXTries=0,this.foreground="rgb(0,0,0)",t.push("foreground"),this.background="rgb(255,255,255)",t.push("background"),this.backgroundWindow="rgb(244,244,244)",t.push("backgroundWindow"),this.backgroundType="solid",t.push("backgroundType"),this.backgroundImage=!1,t.push("backgroundImage"),this.margin=5,t.push("margin"),this.marginLeft=5,t.push("marginLeft"),this.marginTop=5,t.push("marginTop"),this.marginBottom=5,t.push("marginBottom"),this.marginRight=5,t.push("marginRight"),this.showShadow=!1,t.push("showShadow"),this.showTextShadow=!1,t.push("showTextShadow"),this.shadowOffsetX=1,t.push("shadowOffsetX"),this.shadowOffsetY=1,t.push("shadowOffsetY"),this.shadowBlur=2,t.push("shadowBlur"),this.shadowColor="rgba(0,0,0,0.5)",t.push("shadowColor"),this.topoJSON=!1,t.push("topoJSON"),this.mapId=!1,t.push("mapId"),this.mapPropertyId=!1,t.push("mapPropertyId"),this.mapProjection="mercator",t.push("mapProjection"),this.mapLatitudeOrigin=23,t.push("mapLatitudeOrigin"),this.mapCentralMeridian=-96,t.push("mapCentralMeridian"),this.mapStandardParallel1=29.5,t.push("mapStandardParallel1"),this.mapStandardParallel2=45.5,t.push("mapStandardParallel2"),this.mapGraticuleShow=!1,t.push("mapGraticuleShow"),this.mapGraticuleType="solid",t.push("mapGraticuleType"),this.mapConfig=!1,t.push("mapConfig"),this.mapConfigFeatures=!1,t.push("mapConfigFeatures"),this.mapSmps=[],t.push("mapSmps"),this.hiddenMapFeatures=[],t.push("hiddenMapFeatures"),this.visibleMapFeatures=[],t.push("visibleMapFeatures"),this.mapColor="rgb(105,210,230)",t.push("mapColor"),this.mapOutlineColor="rgb(204,204,204)",t.push("mapOutlineColor"),this.fonts=[],t.push("fonts"),this.fontsExternal=[],t.push("fontsExternal"),this.fontName="Arial",t.push("fontName"),this.fontStyle="",t.push("fontStyle"),this.fontSize=12,t.push("fontSize"),this.fontScaleFontFactor=1,t.push("fontScaleFontFactor"),this.align="center",t.push("align"),this.baseline="middle",t.push("baseline"),this.maxTextSize=40,t.push("maxTextSize"),this.minTextSize=4,t.push("minTextSize"),this.autoScaleFont=!0,t.push("autoScaleFont"),this.scaleTextConstantMult=30,this.scaleTextConstantAdd=2,this.title=!1,t.push("title"),this.titleAlign="center",t.push("titleAlign"),this.titleFontSize=16,t.push("titleFontSize"),this.titleColor="rgb(0,0,0)",t.push("titleColor"),this.titleColorBackground=!1,t.push("titleColorBackground"),this.titleScaleFontFactor=1,t.push("titleScaleFontFactor"),this.titleFontStyle="",t.push("titleFontStyle"),this.subtitle=!1,t.push("subtitle"),this.subtitleAlign="center",t.push("subtitleAlign"),this.subtitleFontSize=14,t.push("subtitleFontSize"),this.subtitleColor="rgb(0,0,0)",t.push("subtitleColor"),this.subtitleScaleFontFactor=1,t.push("subtitleScaleFontFactor"),this.subtitleFontStyle="",t.push("subtitleFontStyle"),this.citation=!1,t.push("citation"),this.citationColor="rgb(0,0,0)",t.push("citationColor"),this.citationFontStyle="",t.push("citationFontStyle"),this.citationFontSize=7,t.push("citationFontSize"),this.citationScaleFontFactor=1,t.push("citationScaleFontFactor"),this.dashLength=8,t.push("dashLength"),this.dotLength=1,t.push("dotLength"),this.arrowPointSize=9,t.push("arrowPointSize"),this.arrowQuadraticFactor=2.3,t.push("arrowQuadraticFactor"),this.capType="butt",t.push("capType"),this.joinType="mitter",t.push("joinType"),this.lineWidthEvent=2,this.outlineWidth=1,t.push("outlineWidth"),this.lineThickness=1,t.push("lineThickness"),this.adjustBezier=!1,t.push("adjustBezier"),this.lines=["line","solid","straight","bezier","curved","curvedCC","dashedLine","dashedBezier","dashedCurved","dashedCurvedCC","dottedLine","dottedBezier","dottedCurved","dottedCurvedCC","blank","dashed","dotted","dotdash","longdash","twodash"],this.arrows=["arrow","square","round"],this.colorScheme="User",t.push("colorScheme"),this.colors=["#fe296c","#487eb6","#a7ce31","#f8cc03","#ff8c02","#699696","#b77844","#83acd0","#c2e076","#fadc5a","#ff549f","#ffaf54","#9ab8b7","#d2a683","#3d699b","#87ac22","#cda908","#d02158","#d07300","#567676"],t.push("colors"),this.colorHSV=[0,0,1],this.colorRGB=[1,1,1],this.colorSpectrum=["#4575b4","#91bfdb","#e0f3f8","#ffffbf","#fee090","#fc8d59","#d73027"],t.push("colorSpectrum"),this.colorSpectrumBreaks=[],t.push("colorSpectrumBreaks"),this.colorSpectrumZeroValue=null,t.push("colorSpectrumZeroValue"),this.colorSpectrumNumber=100,t.push("colorSpectrumNumber"),this.colorSpectrumTarget=10,t.push("colorSpectrumTarget"),this.oddColor=this.background,t.push("oddColor"),this.evenColor="rgb(245,245,245)",t.push("evenColor"),this.blindnessType=!1,t.push("blindnessType"),this.roundedPolygonRadius=5,t.push("roundedPolygonRadius"),this.useRoundRectangles=!1,t.push("useRoundRectangles"),this.useOpenShapes=!1,t.push("useOpenShapes"),this.shapes=["sphere","square","triangle","star","rhombus","octagon","oval","plus","minus","pacman","pacman2","mdavid","rect2","pentagon","rect3","arc","rectangle"],t.push("shapes"),this.sizes=[8,12,16,20,24,28,32,36,40,44,48],t.push("sizes"),this.images=[],t.push("images"),this.patterns=["solid","hatchForward","hatchReverse","stripeHorizontal","stripeVertical","polkaDot","crossHatch","crossStripe","squares","circles","plus","minus","bars","squiglesVertical","squiglesHorizontal","brickForward","brickReverse","art","pcx","hatchForward3","hatchReverse3"],t.push("patterns"),this.linePatterns=["solid","dotted","dashed","dotdash","longdash","twodash"],t.push("linePatterns"),this.maxSmpStringLen=25,t.push("maxSmpStringLen"),this.smpTitle=!1,t.push("smpTitle"),this.smpTitleFontStyle="",t.push("smpTitleFontStyle"),this.smpTitleFontSize=12,t.push("smpTitleFontSize"),this.smpTitleFontColor=this.foreground,t.push("smpTitleFontColor"),this.smpTitleScaleFontFactor=1,t.push("smpTitleScaleFontFactor"),this.smpLabelFontStyle="",t.push("smpLabelFontStyle"),this.smpLabelFontSize=12,t.push("smpLabelFontSize"),this.smpLabelFontColor=this.foreground,t.push("smpLabelFontColor"),this.smpLabelScaleFontFactor=1,t.push("smpLabelScaleFontFactor"),this.smpLabelRotate=0,t.push("smpLabelRotate"),this.smpLabelInterval=1,t.push("smpLabelInterval"),this.smpLabelImage=!1,t.push("smpLabelImage"),this.smpLabelImageRound=!1,t.push("smpLabelImageRound"),this.showSampleNames=!0,t.push("showSampleNames"),this.highlightSmp=[],t.push("highlightSmp"),this.smpHighlightColor="rgb(255,0,0)",t.push("smpHighlightColor"),this.maxVarStringLen=25,t.push("maxVarStringLen"),this.varTitle=!1,t.push("varTitle"),this.varTitleFontStyle="",t.push("varTitleFontStyle"),this.varTitleFontSize=12,t.push("varTitleFontSize"),this.varTitleFontColor=this.foreground,t.push("varTitleFontColor"),this.varTitleScaleFontFactor=1,t.push("varTitleScaleFontFactor"),this.varLabelFontStyle="",t.push("varLabelFontStyle"),this.varLabelFontSize=12,t.push("varLabelFontSize"),this.varLabelFontColor=this.foreground,t.push("varLabelFontColor"),this.varLabelScaleFontFactor=1,t.push("varLabelScaleFontFactor"),this.varLabelRotate=0,t.push("varLabelRotate"),this.varLabelInterval=1,t.push("varLabelInterval"),this.showVariableNames=!0,t.push("showVariableNames"),this.highlightVar=[],t.push("highlightVar"),this.varHighlightColor="rgb(255,0,0)",t.push("varHighlightColor"),this.binConfigurations={},t.push("binConfigurations"),this.maxOverlayStringLen=30,t.push("maxOverlayStringLen"),this.overlaysThickness=18,t.push("overlaysThickness"),this.smpOverlays=[],t.push("smpOverlays"),this.smpOverlayProperties={},t.push("smpOverlayProperties"),this.smpOverlaysLegendColumns=1,t.push("smpOverlaysLegendColumns"),this.showSmpOverlaysLegend=!1,t.push("showSmpOverlaysLegend"),this.varOverlays=[],t.push("varOverlays"),this.varOverlayProperties={},t.push("varOverlayProperties"),this.varOverlaysLegendColumns=1,t.push("varOverlaysLegendColumns"),this.showVarOverlaysLegend=!1,t.push("showVarOverlaysLegend"),this.overlaysLegendPosition="topRight",t.push("overlaysLegendPosition"),this.showOverlays=!0,t.push("showOverlays"),this.showLevelOverlays=!0,t.push("showLevelOverlays"),this.overlayFontStyle="",t.push("overlayFontStyle"),this.overlayFontSize=12,t.push("overlayFontSize"),this.overlayFontColor=this.foreground,t.push("overlayFontColor"),this.overlayScaleFontFactor=1,t.push("overlayScaleFontFactor"),this.showLegend=!0,t.push("showLegend"),this.showLegendTitle=!0,t.push("showLegendTitle"),this.legendColumns=1,t.push("legendColumns"),this.legendPosition="right",t.push("legendPosition"),this.legendPositionAuto=!1,t.push("legendPositionAuto"),this.legendInside=!1,t.push("legendInside"),this.legendColor=this.foreground,t.push("legendColor"),this.legendBox=!1,t.push("legendBox"),this.legendBoxColor="rgb(204,204,204)",t.push("legendBoxColor"),this.legendBackgroundColor="rgba(255,255,255,0)",t.push("legendBackgroundColor"),this.legendFontStyle="",t.push("legendFontStyle"),this.legendFontSize=12,t.push("legendFontSize"),this.legendScaleFontFactor=1,t.push("legendScaleFontFactor"),this.legendOrder=!1,t.push("legendOrder"),this.legend=[],t.push("legend"),this.showDecorations=!0,t.push("showDecorations"),this.showDecorationsLegend=!0,t.push("showDecorationsLegend"),this.decorationsPosition="bottom",t.push("decorationsPosition"),this.decorationsColor=this.foreground,t.push("decorationsColor"),this.decorationsBox=!1,t.push("decorationsBox"),this.decorationsBoxColor="rgb(204,204,204)",t.push("decorationsBoxColor"),this.decorationsBackgroundColor="rgba(255,255,255,0)",t.push("decorationsBackgroundColor"),this.decorationFontStyle="",t.push("decorationFontStyle"),this.decorationFontSize=12,t.push("decorationFontSize"),this.decorationScaleFontFactor=1,t.push("decorationScaleFontFactor"),this.decorationsWidth=20,t.push("decorationsWidth"),this.decorationsHeight=40,t.push("decorationsHeight"),this.decorationsType="bar",t.push("decorationsType"),this.decorations=!1,t.push("decorations"),this.decorationsColors=[],t.push("decorationsColors"),this.decorationsProperties={},t.push("decorationsProperties"),this.isGroupedData=!1,this.isBoxplotCalc=!1,this.groupingFactors=[],t.push("groupingFactors"),this.segregateSamplesBy=[],t.push("segregateSamplesBy"),this.segregateVariablesBy=[],t.push("segregateVariablesBy"),this.summaryType=!1,t.push("summaryType"),this.isTransformedData=!1,this.transformBase=10,this.transformData=!1,t.push("transformData"),this.transformAxis="samples",t.push("transformAxis"),this.ratioReference=0,t.push("ratioReference"),this.ratioSampleReference=!1,t.push("ratioSampleReference"),this.ratioGroupReference=!1,t.push("ratioGroupReference"),this.ratioLevelReference="",t.push("ratioLevelReference"),this.transposeData=!1,t.push("transposeData"),this.asSampleFactors=[],t.push("asSampleFactors"),this.asVariableFactors=[],t.push("asVariableFactors"),this.stringSampleFactors=[],t.push("stringSampleFactors"),this.stringVariableFactors=[],t.push("stringVariableFactors"),this.histogramData=!1,t.push("histogramData"),this.appendNetworkData=[],t.push("appendNetworkData"),this.timeFormat="isoDate",t.push("timeFormat"),this.isGraphTime=!1,t.push("isGraphTime"),this.timeValues=[],this.timeValueIndices=[],this.timeValueProperties={},this.sortDir="ascending",t.push("sortDir"),this.sortCaseSensitive=!1,t.push("sortCaseSensitive"),this.sortData=[],t.push("sortData"),this.sortOnGrouping=!1,t.push("sortOnGrouping"),this.missingDataColor="rgb(245,245,245)",t.push("missingDataColor"),this.missingDataValue="NA",t.push("missingDataValue"),this.nanOmit=!1,t.push("nanOmit"),this.showErrorBars=!0,t.push("showErrorBars"),this.errorBarsType="confidenceInterval95",t.push("errorBarsType"),this.errorBarsColor="rgb(0,0,0)",t.push("errorBarsColor"),this.errorBarsThickness=3,t.push("errorBarsThickness"),this.errorBarsWidth=2,t.push("errorBarsWidth"),this.standardDeviationType="unbiased",t.push("standardDeviationType"),this.showRegressionFullRange=!1,t.push("showRegressionFullRange"),this.regressionType="linear",t.push("regressionType"),this.regressionOrder=2,t.push("regressionOrder"),this.showConfidenceIntervals=!0,t.push("showConfidenceIntervals"),this.confidenceLevel=.95,t.push("confidenceLevel"),this.confidenceIntervalType="log",t.push("confidenceIntervalType"),this.confidenceIntervalColor="rgb(50,50,50)",t.push("confidenceIntervalColor"),this.invertCensored=!1,t.push("invertCensored"),this.fitLineColor="rgb(255,215,0)",t.push("fitLineColor"),this.fitLineStyle="solid",t.push("fitLineStyle"),this.fitLineWidth=2,t.push("fitLineWidth"),this.fitLineTransparency=1,t.push("fitLineTransparency"),this.randomSeed=8,t.push("randomSeed"),this.pseudoRandom=!0,t.push("pseudoRandom"),this.randomMethod="numericalRecipes",t.push("randomMethod"),this.randomData=!1,this.randomDataDistribution="biased",t.push("randomDataDistribution"),this.randomDataTime=!1,t.push("randomDataTime"),this.randomDataMin=1,t.push("randomDataMin"),this.randomDataMax=100,t.push("randomDataMax"),this.randomDataMean=0,t.push("randomDataMean"),this.randomDataSigma=1,t.push("randomDataSigma"),this.randomDataVariables=3,t.push("randomDataVariables"),this.randomDataSamples=36,t.push("randomDataSamples"),this.randomDataVariableAnnotations=2,t.push("randomDataVariableAnnotations"),this.randomDataSampleAnnotations=2,t.push("randomDataSampleAnnotations"),this.randomMissingDataPercentage=0,t.push("randomMissingDataPercentage"),this.randomNetworkReduce=!0,t.push("randomNetworkReduce"),this.randomNetworkNodes=40,t.push("randomNetworkNodes"),this.randomNetworkNodeEdgesMax=5,t.push("randomNetworkNodeEdgesMax"),this.randomNetworkAll=!0,t.push("randomNetworkAll"),this.randomNetworkLayout="forceLayout",t.push("randomNetworkLayout"),this.zoom=1,t.push("zoom"),this.zoomGlobal=1,this.zoomStep=.2,t.push("zoomStep"),this.zoomScale=!0,t.push("zoomScale"),this.zoomVariablesDisable=!1,t.push("zoomVariablesDisable"),this.zoomSamplesDisable=!1,t.push("zoomSamplesDisable"),this.zoomDisable=!1,t.push("zoomDisable"),this.panningX=0,t.push("panningX"),this.panningY=0,t.push("panningY"),this.panningGlobalX=0,this.panningGlobalY=0,this.panningStep=.2,t.push("panningStep"),this.resizerBackgroundColor=CanvasXpress.system.isIE?"rgb(204,204,204)":"rgba(204,204,204,0.7)",t.push("resizerBackgroundColor"),this.xAxisAbsMax=null,this.xAxisAbsMin=null,this.xAxisMaxStrLength=!1,this.setMaxX=null,t.push("setMaxX"),this.setMinX=null,t.push("setMinX"),this.xAxisCurrent=0,t.push("xAxisCurrent"),this.xAxisTitle=!1,t.push("xAxisTitle"),this.xAxisTitleDynamic=!1,t.push("xAxisTitleDynamic"),this.xAxis=[],t.push("xAxis"),this.xAxisTickStyle="solid",t.push("xAxisTickStyle"),this.xAxisTickFormat=!1,t.push("xAxisTickFormat"),this.xAxisTickColor="rgb(204,204,204)",t.push("xAxisTickColor"),this.xAxisExact=!1,t.push("xAxisExact"),this.xAxisValues=[],this.xAxisValuesRaw=[],this.xAxisMinorValues=[],this.xAxisTransform=!1,t.push("xAxisTransform"),this.xAxisCeilValue=null,t.push("xAxisCeilValue"),this.xAxisFloorValue=null,t.push("xAxisFloorValue"),this.xAxisTransformTicks=!0,t.push("xAxisTransformTicks"),this.xAxisShow=!0,t.push("xAxisShow"),this.xAxisS2Show=!1,t.push("xAxisS2Show"),this.xAxisTicks=5,t.push("xAxisTicks"),this.xAxisMinorTicks=!0,t.push("xAxisMinorTicks"),this.xAxisMajorTicks=!0,t.push("xAxisMajorTicks"),this.xAxisLeftMajorTick=!0,t.push("xAxisLeftMajorTick"),this.xAxisRightMajorTick=!0,t.push("xAxisRightMajorTick"),this.xAxisLeftRightTickColor="rgb(204,204,204)",t.push("xAxisLeftRightTickColor"),this.xAxisHistogramShow=!1,t.push("xAxisHistogramShow"),this.xAxisHistogramHeight=80,t.push("xAxisHistogramHeight"),this.xAxisRugShow=!1,t.push("xAxisRugShow"),this.xAxisRugHeight=15,t.push("xAxisRugHeight"),this.xAxisRugPosition="bottom",t.push("xAxisRugPosition"),this.xAxis2AbsMax=null,this.xAxis2AbsMin=null,this.xAxis2MaxStrLength=!1,this.setMaxX2=null,t.push("setMaxX2"),this.setMinX2=null,t.push("setMinX2"),this.xAxis2Title=!1,t.push("xAxis2Title"),this.xAxis2=[],t.push("xAxis2"),this.xAxis2TickFormat=!1,t.push("xAxis2TickFormat"),this.xAxis2Values=[],this.xAxis2ValuesRaw=[],this.xAxis2MinorValues=[],this.xAxis2Show=!0,t.push("xAxis2Show"),this.xAxis2Ticks=null,this.yAxisAbsMax=null,this.yAxisAbsMin=null,this.yAxisMaxStrLength=!1,this.setMaxY=null,t.push("setMaxY"),this.setMinY=null,t.push("setMinY"),this.yAxisCurrent=0,t.push("yAxisCurrent"),this.yAxisTitle=!1,t.push("yAxisTitle"),this.yAxisTitleDynamic=!1,t.push("yAxisTitleDynamic"),this.yAxis2Title=!1,t.push("yAxis2Title"),this.yAxis=[],t.push("yAxis"),this.yAxisTickStyle="solid",t.push("yAxisTickStyle"),this.yAxisTickFormat=!1,t.push("yAxisTickFormat"),this.yAxisTickColor="rgb(204,204,204)",t.push("yAxisTickColor"),this.yAxisExact=!1,t.push("yAxisExact"),this.yAxisValues=[],this.yAxisValuesRaw=[],this.yAxisMinorValues=[],this.yAxisTransform=!1,t.push("yAxisTransform"),this.yAxisCeilValue=null,t.push("yAxisCeilValue"),this.yAxisFloorValue=null,t.push("yAxisFloorValue"),this.yAxisTransformTicks=!0,t.push("yAxisTransformTicks"),this.yAxisShow=!0,t.push("yAxisShow"),this.yAxis2Show=!1,t.push("yAxis2Show"),this.yAxisTicks=5,t.push("yAxisTicks"),this.yAxisMinorTicks=!0,t.push("yAxisMinorTicks"),this.yAxisMajorTicks=!0,t.push("yAxisMajorTicks"),this.yAxisTopMajorTick=!0,t.push("yAxisTopMajorTick"),this.yAxisBottomMajorTick=!0,t.push("yAxisBottomMajorTick"),this.yAxisTopBottomTickColor="rgb(204,204,204)",t.push("yAxisTopBottomTickColor"),this.yAxisHistogramShow=!1,t.push("yAxisHistogramShow"),this.yAxisHistogramHeight=80,t.push("yAxisHistogramHeight"),this.yAxisRugShow=!1,t.push("yAxisRugShow"),this.yAxisRugHeight=15,t.push("yAxisRugHeight"),this.yAxisRugPosition="left",t.push("yAxisRugPosition"),this.zAxisAbsMax=null,this.zAxisAbsMin=null,this.zAxisMaxStrLength=!1,this.setMaxZ=null,t.push("setMaxZ"),this.setMinZ=null,t.push("setMinZ"),this.zAxisCurrent=0,t.push("zAxisCurrent"),this.zAxisTitle=!1,t.push("zAxisTitle"),this.zAxisTitleDynamic=!1,t.push("zAxisTitleDynamic"),this.zAxis=[],t.push("zAxis"),this.zAxisTickStyle="solid",t.push("zAxisTickStyle"),this.zAxisTickFormat=!1,t.push("zAxisTickFormat"),this.zAxisTickColor="rgb(204,204,204)",t.push("zAxisTickColor"),this.zAxisExact=!1,t.push("zAxisExact"),this.zAxisValues=[],this.zAxisValuesRaw=[];this.zAxisMinorValues=[],this.zAxisTransform=!1,t.push("zAxisTransform"),this.zAxisCeilValue=null,t.push("zAxisCeilValue"),this.zAxisFloorValue=null,t.push("zAxisFloorValue"),this.zAxisTransformTicks=!0,t.push("zAxisTransformTicks"),this.zAxisShow=!0,t.push("zAxisShow"),this.zAxisTicks=10,this.rAxisAbsMax=null,this.rAxisAbsMin=null,this.rAxisMaxStrLength=!1,this.rAxisTickFormat=!1,t.push("rAxisTickFormat"),this.rAxisTickColor=this.foreground,t.push("rAxisTickColor"),this.rAxisValues=[],t.push("rAxisValues"),this.rAxisValuesRaw=[],this.rAxisMinorValues=[],t.push("rAxisMinorValues"),this.rAxisPercentShow=!0,t.push("rAxisPercentShow"),this.rAxisShow=!0,t.push("rAxisShow"),this.rAxisLabelOrientation="perpendicular",t.push("rAxisLabelOrientation"),this.rAxisTicks=5,t.push("rAxisTicks"),this.rAxisMinorTicks=!0,t.push("rAxisMinorTicks"),this.rAxisMajorTicks=!0,t.push("rAxisMajorTicks"),this.axisTickColor=this.foreground,t.push("axisTickColor"),this.axisTickThickness=1,t.push("axisTickThickness"),this.axisMinMaxTickThickness=1,t.push("axisMinMaxTickThickness"),this.axisTickFontStyle="",t.push("axisTickFontStyle"),this.axisTickFontSize=12,t.push("axisTickFontSize"),this.axisTickScaleFontFactor=1,t.push("axisTickScaleFontFactor"),this.axisTitleColor=this.foreground,t.push("axisTitleColor"),this.axisTitleFontStyle="",t.push("axisTitleFontStyle"),this.axisTitleFontSize=12,t.push("axisTitleFontSize"),this.axisTitleScaleFontFactor=1,t.push("axisTitleScaleFontFactor"),this.axisExtension=.1,t.push("axisExtension"),this.axisAlgorithm="rPretty",t.push("axisAlgorithm"),this.axisWilkinsonLoose=!1,t.push("axisWilkinsonLoose"),this.axisCoordinate=!1,t.push("axisCoordinate"),this.setMax=null,this.setMin=null,this.guides=!1,t.push("guides"),this.guidesWidth=1,t.push("guidesWidth"),this.guidesColor="rgb(204,204,204)",t.push("guidesColor"),this.blockContrast=!1,t.push("blockContrast"),this.plotByVariable=!1,t.push("plotByVariable"),this.is3DPlot=!1,t.push("is3DPlot"),this.showDataValues=!1,t.push("showDataValues"),this.binned=!1,t.push("binned"),this.binAlignment="center",t.push("binAlignment"),this.jitter=!1,t.push("jitter"),this.jitterFactor=.4,t.push("jitterFactor"),this.objectBorderColor="rgb(0,0,0)",t.push("objectBorderColor"),this.objectColorTransparency=1,t.push("objectColorTransparency"),this.dotplotOutlineThreshold=500,t.push("dotplotOutlineThreshold"),this.lineDecoration="symbol",t.push("lineDecoration"),this.lineErrorType="bar",t.push("lineErrorType"),this.coordinateLineColor=!1,t.push("coordinateLineColor"),this.lineType="rect",t.push("lineType"),this.tension=.3,t.push("tension"),this.tensionSegments=16,t.push("tensionSegments"),this.parallelCoordinates=[],this.boxplotOutliersRatio=8,t.push("boxplotOutliersRatio"),this.boxplotWhiskersType="double",t.push("boxplotWhiskersType"),this.boxplotType="boxWhiskers",t.push("boxplotType"),this.boxplotNotched=!1,t.push("boxplotNotched"),this.boxplotTransparency=.5,t.push("boxplotTransparency"),this.boxplotColor=!1,t.push("boxplotColor"),this.boxplotVarWidth=!1,t.push("boxplotVarWidth"),this.boxplotCoef=1.5,t.push("boxplotCoef"),this.boxplotHingeFunction="summary",t.push("boxplotHingeFunction"),this.showBoxplotOriginalData=!1,t.push("showBoxplotOriginalData"),this.showViolinBoxplot=!1,t.push("showViolinBoxplot"),this.violinTrim=!0,t.push("violinTrim"),this.violinScale="width",t.push("violinScale"),this.showBoxplotIfViolin=!0,t.push("showBoxplotIfViolin"),this.boxplotWidthRatioIfViolin=.33,t.push("boxplotWidthRatioIfViolin"),this.violinTransparency=.5,t.push("violinTransparency"),this.violinColor=!1,t.push("violinColor"),this.violinBorderColor="rgb(0,0,0)",t.push("violinBorderColor"),this.showViolinQuantiles=!1,t.push("showViolinQuantiles"),this.boxplotDataPointTransparency=.5,t.push("boxplotDataPointTransparency"),this.boxplotBorderColor=!1,t.push("boxplotBorderColor"),this.boxplotMedianColor="rgb(0,0,0)",t.push("boxplotMedianColor"),this.boxplotMedianWidth=2,t.push("boxplotMedianWidth"),this.boxplotMean=!1,t.push("boxplotMean"),this.boxplotMeanColor="rgb(255,215,0)",t.push("boxplotMeanColor"),this.boxplotMeanColorBorder="rgb(255,0,0)",t.push("boxplotMeanColorBorder"),this.boxplotConnect=!1,t.push("boxplotConnect"),this.boxplotConnectWidth=2,t.push("boxplotConnectWidth"),this.areaType="normal",t.push("areaType"),this.dotplotType="normal",t.push("dotplotType"),this.barType="normal",t.push("barType"),this.barPath=!1,t.push("barPath"),this.barPathTransparency=.1,t.push("barPathTransparency"),this.barPathColor=!1,t.push("barPathColor"),this.barLollipopFactor=1.5,t.push("barLollipopFactor"),this.barLollipopOpen=!1,t.push("barLollipopOpen"),this.swimHigh=!1,t.push("swimHigh"),this.swimStart=!1,t.push("swimStart"),this.swimEnd=!1,t.push("swimEnd"),this.swimStatus=!1,t.push("swimStatus"),this.swimHighCap=!1,t.push("swimHighCap"),this.ganttStart=!1,t.push("ganttStart"),this.ganttEnd=!1,t.push("ganttEnd"),this.ganttCompletion=!1,t.push("ganttCompletion"),this.ganttDependency=!1,t.push("ganttDependency"),this.ganttDependencyEnd=!1,t.push("ganttDependencyEnd"),this.ganttDependencyColor=!1,t.push("ganttDependencyColor"),this.ganttDependencyThickness=!1,t.push("ganttDependencyThickness"),this.ganttCompletionTransparency=.5,t.push("ganttCompletionTransparency"),this.meterType="gauge",t.push("meterType"),this.meterMin=null,t.push("meterMin"),this.meterMax=null,t.push("meterMax"),this.meterStart=270,t.push("meterStart"),this.meterEnd=90,t.push("meterEnd"),this.meterSegments=[],t.push("meterSegments"),this.meterColors=[],t.push("meterColors"),this.meterVar=!1,t.push("meterVar"),this.meterIndex=0,this.meterNeedleColor="rgb(0,0,0)",t.push("meterNeedleColor"),this.meterBackgroundColor="rgb(229,229,229)",t.push("meterBackgroundColor"),this.meterThickness=50,t.push("meterThickness"),this.fishParents=[],t.push("fishParents"),this.fishTimepoints=[],t.push("fishTimepoints"),this.fishSeparateIndependentClones=!1,t.push("fishSeparateIndependentClones"),this.fishShape="polygon",t.push("fishShape"),this.fishAxis=[],t.push("fishAxis"),this.fishAxisLabels=[],t.push("fishAxisLabels"),this.fishCloneLabels=[],t.push("fishCloneLabels"),this.sankeyNodeWidth=20,t.push("sankeyNodeWidth"),this.sankeyIterations=32,this.sankeySource=!1,t.push("sankeySource"),this.sankeyTarget=!1,t.push("sankeyTarget"),this.sankeyColor="rgba(150,150,150,0.5)",t.push("sankeyColor"),this.sankeyCoordinateColor=!1,t.push("sankeyCoordinateColor"),this.hierarchy=[],t.push("hierarchy"),this.hierarchyVar=!1,t.push("hierarchyVar"),this.hierarchyVarIndex=0,this.treeNodeSize=5,this.treeLinkColor="rgb(150,150,150)",t.push("treeLinkColor"),this.treeNodeOutlineColor="rgb(51,122,183)",t.push("treeNodeOutlineColor"),this.treeLinkWidth=1,t.push("treeLinkWidth"),this.treeCircular=!1,t.push("treeCircular"),this.treeInverted=!1,t.push("treeInverted"),this.treeVarIndex=0,t.push("treeVarIndex"),this.treeNodeId=0,this.colorBy=!1,t.push("colorBy"),this.colorByShowLegend=!0,t.push("colorByShowLegend"),this.colorKey=!1,t.push("colorKey"),this.shapeBy=!1,t.push("shapeBy"),this.shapeByContinuous=!1,t.push("shapeByContinuous"),this.shapeByShowLegend=!0,t.push("shapeByShowLegend"),this.shapeKey=!1,t.push("shapeKey"),this.shapeByData=!1,t.push("shapeByData"),this.shapeByShape=!1,t.push("shapeByShape"),this.sizeBy=!1,t.push("sizeBy"),this.sizeByContinuous=!1,t.push("sizeByContinuous"),this.sizeByShowLegend=!0,t.push("sizeByShowLegend"),this.sizeKey=!1,t.push("sizeKey"),this.sizeByData=!1,t.push("sizeByData"),this.outlineBy=!1,t.push("outlineBy"),this.outlineByShowLegend=!0,t.push("outlineByShowLegend"),this.outlineByData=!1,t.push("outlineByData"),this.patternBy=!1,t.push("patternBy"),this.patternByShowLegend=!0,t.push("patternByShowLegend"),this.patternKey=!1,t.push("patternKey"),this.patternByData=!1,t.push("patternByData"),this.connectBy=!1,t.push("connectBy"),this.connectByNoColor=!1,t.push("connectByNoColor"),this.connectByColor="rgb(204,204,204)",t.push("connectByColor"),this.connectByWidth=2,t.push("connectByWidth"),this.connectByShowLegend=!0,t.push("connectByShowLegend"),this.connectKey=!1,t.push("connectKey"),this.connectByData={},this.treemapBy=[],t.push("treemapBy"),this.stackBy=!1,t.push("stackBy"),this.lineBy=!1,t.push("lineBy"),this.lineByShowLegend=!0,t.push("lineByShowLegend"),this.motionBy=!1,t.push("motionBy"),this.markerBy=!1,t.push("markerBy"),this.ellipseBy=!1,t.push("ellipseBy"),this.ridgeBy=!1,t.push("ridgeBy"),this.motionWidth=250,t.push("motionWidth"),this.motionCurrentColor="rgba(0,0,0,0.3)",t.push("motionCurrentColor"),this.motionCurrentFontStyle="",t.push("motionCurrentFontStyle"),this.motionCurrentFontSize=60,t.push("motionCurrentFontSize"),this.motionCurrentScaleFontFactor=1,t.push("motionCurrentScaleFontFactor"),this.scatterType=!1,t.push("scatterType"),this.visiumFlip=!1,t.push("visiumFlip"),this.visiumPanning=!1,t.push("visiumPanning"),this.visiumFixedAspectRatio=!0,t.push("visiumFixedAspectRatio"),this.scatterAxesEqual=!1,t.push("scatterAxesEqual"),this.scatterOutlineThreshold=5e4,t.push("scatterOutlineThreshold"),this.chromosomeLengths=[],t.push("chromosomeLengths"),this.manhattanMarkerChromosomeNumber=!1,t.push("manhattanMarkerChromosomeNumber"),this.manhattanMarkerPosition=!1,t.push("manhattanMarkerPosition"),this.manhattanMarkerLogPValue=!1,t.push("manhattanMarkerLogPValue"),this.manhattanColors=["rgb(128,128,128)","rgb(135,206,235)"],t.push("manhattanColors"),this.manhattanContrastColor="rgba(0,0,0,0.1)",t.push("manhattanContrastColor"),this.groupingFactorWindow=!1,t.push("groupingFactorWindow"),this.functionColor="rgb(0,0,0)",t.push("functionColor"),this.selectionMode="highlight",t.push("selectionMode"),this.selectionColor="rgb(255,0,0)",t.push("selectionColor"),this.selectionMetadata=!1,t.push("selectionMetadata"),this.selectedDataPoints=[],t.push("selectedDataPoints"),this.isContour=!1,t.push("isContour"),this.contourFilled=!1,t.push("contourFilled"),this.contourFilledTransparency=1,t.push("contourFilledTransparency"),this.showContourBands=!0,t.push("showContourBands"),this.contourBandsColor="rgb(0,0,255)",t.push("contourBandsColor"),this.contourLevelWidth=null,t.push("contourLevelWidth"),this.contourLevelNumber=10,t.push("contourLevelNumber"),this.contourStat="density",t.push("contourStat"),this.contourType="normal",t.push("contourType"),this.contourLevels=[],t.push("contourLevels"),this.showContourLevel=!1,t.push("showContourLevel"),this.showContourDataPoints=!1,t.push("showContourDataPoints"),this.contourDataPointsColor="rgb(0,0,0)",t.push("contourDataPointsColor"),this.contourColorScheme="Viridis",t.push("contourColorScheme"),this.isHistogram=!1,t.push("isHistogram"),this.histogramBarWidth=!1,this.histogramRight=!0,t.push("histogramRight"),this.histogramLowest=!0,t.push("histogramLowest"),this.histogramBins=30,t.push("histogramBins"),this.histogramBinWidth=!1,t.push("histogramBinWidth"),this.histogramType="dodged",t.push("histogramType"),this.showHistogramDensity=!1,t.push("showHistogramDensity"),this.showHistogramPath=!1,t.push("showHistogramPath"),this.showFilledHistogramDensity=!1,t.push("showFilledHistogramDensity"),this.histogramDensityFillTransparency=.6,t.push("histogramDensityFillTransparency"),this.showHistogramDataPoints=!1,t.push("showHistogramDataPoints"),this.showHistogramQuantiles=!1,t.push("showHistogramQuantiles"),this.showHistogramMedian=!1,t.push("showHistogramMedian"),this.histogramMedianLineStyle="dashed",t.push("histogramMedianLineStyle"),this.hideHistogram=!1,t.push("hideHistogram"),this.histogramSizeEstimator="sturges",t.push("histogramSizeEstimator"),this.histogramStat="count",t.push("histogramStat"),this.histogramAsDotplot=!1,t.push("histogramAsDotplot"),this.histogramStackRatio=1,t.push("histogramStackRatio"),this.histogramStackDir="down",t.push("histogramStackDir"),this.isCreateHistogram=!1,this.showScatterDensity=!1,t.push("showScatterDensity"),this.densityPixels=1e3,t.push("densityPixels"),this.densityKernel="gaussian",t.push("densityKernel"),this.densityPosition="normal",t.push("densityPosition"),this.bandwidthRule="nrd0",t.push("bandwidthRule"),this.bandwidthCut=3,t.push("bandwidthCut"),this.bandwidthAdjust=1,t.push("bandwidthAdjust"),this.ridgelineScale=1.5,t.push("ridgelineScale"),this.loessDegree=2,t.push("loessDegree"),this.loessSteps=30,t.push("loessSteps"),this.loessBandwidth=.8,t.push("loessBandwidth"),this.loessCell=.2,t.push("loessCell"),this.loessSpan=.75,t.push("loessSpan"),this.loessIterations=4,t.push("loessIterations"),this.showLoessFit=!1,t.push("showLoessFit"),this.loessNormalize=!0,t.push("loessNormalize"),this.loessFamily="gaussian",t.push("loessFamily"),this.loessSurface="interpolate",t.push("loessSurface"),this.loessStatistics="approximate",t.push("loessStatistics"),this.quantiles=[.25,.5,.75],t.push("quantiles"),this.showQuantileRegressionFit=!1,t.push("showQuantileRegressionFit"),this.binplotBins=[],t.push("binplotBins"),this.binplotBinWidth=[],t.push("binplotBinWidth"),this.binplotDrop=!0,t.push("binplotDrop"),this.binplotShape="hexagon",t.push("binplotShape"),this.binplotColorScheme="Blues",t.push("binplotColorScheme"),this.maxDOENumber=8,t.push("maxDOENumber"),this.includeDOE=[],t.push("includeDOE"),this.autoexpandDOE=!0,t.push("autoexpandDOE"),this.extendedDOE=!0,t.push("extendedDOE"),this.asDOE=!1,t.push("asDOE"),this.scatterPlotMatrix=!1,t.push("scatterPlotMatrix"),this.scatterPlotMatrixType="both",t.push("scatterPlotMatrixType"),this.showScatterPlotMatrixLabels=!1,t.push("showScatterPlotMatrixLabels"),this.xRotate=45,t.push("xRotate"),this.yRotate=0,t.push("yRotate"),this.zRotate=0,t.push("zRotate"),this.x3DRatio=1,t.push("x3DRatio"),this.y3DRatio=1,t.push("y3DRatio"),this.z3DRatio=1,t.push("z3DRatio"),this.show3DGrid=!0,t.push("show3DGrid"),this.rotationSensitivity=450,t.push("rotationSensitivity"),this.rotationStep=2,t.push("rotationStep"),this.perspectiveFactor=2.2,t.push("perspectiveFactor"),this.outlineColor3D="rgba(0,0,0,0)",t.push("outlineColor3D"),this.varIndicesStart=-1,this.smpIndicesStart=-1,this.grpIndicesStart=-1,this.isMultidimensionalData=!1,this.heatmapAutoAdjust=!1,t.push("heatmapAutoAdjust"),this.heatmapCellBox=!0,t.push("heatmapCellBox"),this.heatmapCellBoxColor="rgb(102,102,102)",t.push("heatmapCellBoxColor"),this.heatmapCellBoxWidth=1,t.push("heatmapCellBoxWidth"),this.heatmapCellBoxColorHighlight="rgb(255,215,0)",t.push("heatmapCellBoxColorHighlight"),this.heatmapCellBoxHighlightWidth=1,t.push("heatmapCellBoxHighlightWidth"),this.heatmapSmpSeparateBy=!1,t.push("heatmapSmpSeparateBy"),this.heatmapVarSeparateBy=!1,t.push("heatmapVarSeparateBy"),this.heatmapSeparatorThickness=3,t.push("heatmapSeparatorThickness"),this.varTitleLabelPosition="bottom",t.push("varTitleLabelPosition"),this.smpTitleLabelPosition="left",t.push("smpTitleLabelPosition"),this.showHeatmapIndicator=!0,t.push("showHeatmapIndicator"),this.heatmapIndicatorHeight=25,t.push("heatmapIndicatorHeight"),this.heatmapIndicatorWidth=250,t.push("heatmapIndicatorWidth"),this.adjustAspectRatioHeatmapIndicator=!0,t.push("adjustAspectRatioHeatmapIndicator"),this.heatmapIndicatorPosition="right",t.push("heatmapIndicatorPosition"),this.heatmapIndicatorHistogram=!1,t.push("heatmapIndicatorHistogram"),this.heatmapIndicatorHistogramColor="rgb(0,255,255)",t.push("heatmapIndicatorHistogramColor"),this.heatmapType="normal",t.push("heatmapType"),this.heatmapCollapse=!1,t.push("heatmapCollapse"),this.isOncoprint=!1,this.oncoprintCNA=!1,t.push("oncoprintCNA"),this.oncoprintMUT=!1,t.push("oncoprintMUT"),this.oncoprintHeatmapSwitch=!1,t.push("oncoprintHeatmapSwitch"),this.oncoprintNoAlterations=!0,t.push("oncoprintNoAlterations"),this.oncoprintColSummary=!1,t.push("oncoprintColSummary"),this.oncoprintRowSummary=!1,t.push("oncoprintRowSummary"),this.oncoprintHeatmapSwitch=!1,t.push("oncoprintHeatmapSwitch"),this.showHeatmapOncoprint=!1,t.push("showHeatmapOncoprint"),this.oncoprintHeatmapPosition="bottom",t.push("oncoprintHeatmapPosition"),this.treemapBorderWidth=3,t.push("treemapBorderWidth"),this.treemapBorderColor="rgb(204,204,204)",t.push("treemapBorderColor"),this.correlationAxis="samples",t.push("correlationAxis"),this.correlationAnchorLegend=!1,t.push("correlationAnchorLegend"),this.correlationAnchorLegendAlignWidth=40,t.push("correlationAnchorLegendAlignWidth"),this.correlationLabelInterval=1,t.push("correlationLabelInterval"),this.correlationType="diamond",t.push("correlationType"),this.showVarDendrogram=!0,t.push("showVarDendrogram"),this.varDendrogramNewick=!1,t.push("varDendrogramNewick"),this.varDendrogramPosition="top",t.push("varDendrogramPosition"),this.colorVarDendrogramBy=!1,t.push("colorVarDendrogramBy"),this.showSmpDendrogram=!0,t.push("showSmpDendrogram"),this.smpDendrogramNewick=!1,t.push("smpDendrogramNewick"),this.smpDendrogramPosition="left",t.push("smpDendrogramPosition"),this.colorSmpDendrogramBy=!1,t.push("colorSmpDendrogramBy"),this.dendrogramHeight=80,t.push("dendrogramHeight"),this.dendrogramColor="rgb(0,0,0)",t.push("dendrogramColor"),this.distance="euclidian",t.push("distance"),this.linkage="complete",t.push("linkage"),this.clusterAxis="samples",this.kmeansVarClusters=3,t.push("kmeansVarClusters"),this.kmeansSmpClusters=3,t.push("kmeansSmpClusters"),this.maxIterations=500,t.push("maxIterations"),this.imputeMethod="mean",t.push("imputeMethod"),this.samplesClustered=!1,t.push("samplesClustered"),this.variablesClustered=!1,t.push("variablesClustered"),this.samplesKmeaned=!1,t.push("samplesKmeaned"),this.variablesKmeaned=!1,t.push("variablesKmeaned"),this.vennLegendColors=!1,t.push("vennLegendColors"),this.vennGroups=4,t.push("vennGroups"),this.vennCompartments=["A","B","AB","C","AC","BC","ABC","D","AD","BD","CD","ABD","ACD","BCD","ABCD"],t.push("vennCompartments"),this.vennColors=[],t.push("vennColors"),this.pieType="separated",t.push("pieType"),this.pieSegmentPrecision=0,t.push("pieSegmentPrecision"),this.pieSegmentSeparation=1,t.push("pieSegmentSeparation"),this.pieSegmentLabels="inside",t.push("pieSegmentLabels"),this.pieLabelType="percentage",t.push("pieLabelType"),this.maxPieSectors=20,t.push("maxPieSectors"),this.showPieGrid=!0,t.push("showPieGrid"),this.showPieValues=!0,t.push("showPieValues"),this.showPieSampleLabel=!0,t.push("showPieSampleLabel"),this.startPieSectors=270,t.push("startPieSectors"),this.pieInnerRadius=0,t.push("pieInnerRadius"),this.pieColors=[],t.push("pieColors"),this.circularType="normal",t.push("circularType"),this.chordThickness=28,t.push("chordThickness"),this.chordColor="source",t.push("chordColor"),this.bubbleColor="rgba(204,204,204,0.33)",t.push("bubbleColor"),this.circularCenterProportion=.3,t.push("circularCenterProportion"),this.arcSegmentsSeparation=8,t.push("arcSegmentsSeparation"),this.circularRotate=0,t.push("circularRotate"),this.circularArc=360,t.push("circularArc"),this.ringSeparation=5,t.push("ringSeparation"),this.ringGraphType=[],t.push("ringGraphType"),this.ringGraphWeight=[],t.push("ringGraphWeight"),this.arcSegmentsRadius=[],t.push("arcSegmentsRadius"),this.ringsOrder=[],t.push("ringsOrder"),this.rAxis=!1,t.push("rAxis"),this.rAxisZero=!1,t.push("rAxisZero"),this.showCircularConnections=!0,t.push("showCircularConnections"),this.connections=[],t.push("connections"),this.circularLetterSeparationFactor=1.5,t.push("circularLetterSeparationFactor"),this.circularConnectionsTransparency=.5,t.push("circularConnectionsTransparency"),this.overlayLevelOrientation="circular",t.push("overlayLevelOrientation"),this.smpLabelOrientation="perpendicular",t.push("smpLabelOrientation"),this.circularLabelsAlign="outside",t.push("circularLabelsAlign"),this.circularScalesAlign="inside",t.push("circularScalesAlign"),this.circularAnchorsAlign="inside",t.push("circularAnchorsAlign"),this.circularAnchors2Align="outside",t.push("circularAnchors2Align"),this.circularDataPosition="distributed",t.push("circularDataPosition"),this.circularAnchorLength=15,t.push("circularAnchorLength"),this.circularAnchorColor="rgb(0,0,255)",t.push("circularAnchorColor"),this.showIdeogram=!1,t.push("showIdeogram"),this.ideogram="hg38",t.push("ideogram"),this.ideogramChromosome="chr",t.push("ideogramChromosome"),this.ideogramChromosomePosition="pos",t.push("ideogramChromosomePosition"),this.tagCloudTextWeightFactor=1,t.push("tagCloudTextWeightFactor"),this.tagCloudTextGridSize=8,t.push("tagCloudTextGridSize"),this.tagCloudTextEllipticity=.65,t.push("tagCloudTextEllipticity"),this.tagCloudTextRotateRatio=.1,t.push("tagCloudTextRotateRatio"),this.tagCloudShape=!1,t.push("tagCloudShape"),this.tagCloudMask=!1,t.push("tagCloudMask"),this.tagCloudGridPoints=[],this.calculateLayout=!0,t.push("calculateLayout"),this.networkFreeze=!1,t.push("networkFreeze"),this.networkFreezeOnLoad=!1,t.push("networkFreezeOnLoad"),this.preScaleNetwork=!1,t.push("preScaleNetwork"),this.ignoreEventlessOrder=!1,t.push("ignoreEventlessOrder"),this.subNetworks=!1,this.networkLayoutType="forceDirected",t.push("networkLayoutType"),this.networkRoot=!1,t.push("networkRoot"),this.isNetworkMetrics=!1,t.push("isNetworkMetrics"),this.showNetworkRadialLayout=!1,t.push("showNetworkRadialLayout"),this.is3DNetwork=!1,t.push("is3DNetwork"),this.networkNodesOnTop=!0,t.push("networkNodesOnTop"),this.moveParentsWithChildren=!1;t.push("moveParentsWithChildren"),this.highlightNode=[],t.push("highlightNode"),this.nodeHighlightColor="rgb(255,0,0)",t.push("nodeHighlightColor"),this.showNodeNameThreshold=50,t.push("showNodeNameThreshold"),this.showNodeNameSizeThreshold=20,t.push("showNodeNameSizeThreshold"),this.nodeSize=15,this.edgeThickness=1,this.labelNodePosition="auto",t.push("labelNodePosition"),this.nodeFontStyle="",t.push("nodeFontStyle"),this.nodeFontSize=15,this.nodeFontColor=this.foreground,t.push("nodeFontColor"),this.nodeScaleFontFactor=1,t.push("nodeScaleFontFactor"),this.networkVendor=!1,t.push("networkVendor"),this.attractiveForceFunction="square",t.push("attractiveForceFunction"),this.repulsiveForceFunction="square",t.push("repulsiveForceFunction"),this.useBarnesHutSimulation=!1,t.push("useBarnesHutSimulation"),this.networkSpeed=.1,t.push("networkSpeed"),this.networkGravity=.75,t.push("networkGravity"),this.networkSpringLength=35,t.push("networkSpringLength"),this.networkSpringCoeff=8e-4,t.push("networkSpringCoeff"),this.networkRepulsion=-1,t.push("networkRepulsion"),this.networkTheta=.8,t.push("networkTheta"),this.networkDragCoeff=.09,t.push("networkDragCoeff"),this.networkTimeStep=20,t.push("networkTimeStep"),this.barnesHutUpdateQueue=[],this.barnesHutNodesCache=[],this.barnesHutNodesCacheCurrent=0,this.colorNodeBy=!1,t.push("colorNodeBy"),this.shapeNodeBy=!1,t.push("shapeNodeBy"),this.sizeNodeBy=!1,t.push("sizeNodeBy"),this.patternNodeBy=!1,t.push("patternNodeBy"),this.colorEdgeBy=!1,t.push("colorEdgeBy"),this.sizeEdgeBy=!1,t.push("sizeEdgeBy"),this.showNetworkCommunities=!1,t.push("showNetworkCommunities"),this.calculateNetworkCommunities=!0,t.push("calculateNetworkCommunities"),this.coordinateNetworkConvexHullCommunityColor=!1,t.push("coordinateNetworkConvexHullCommunityColor"),this.hullScale=1.25,t.push("hullScale"),this.networkCommunities=null,this.networkConvexHulls=[],this.genomeTicks=50,t.push("genomeTicks"),this.trackNameFontStyle="",t.push("trackNameFontStyle"),this.trackNameFontSize=12,t.push("trackNameFontSize"),this.trackNameFontColor=this.foreground,t.push("trackNameFontColor"),this.trackFillColor=this.background,t.push("trackFillColor"),this.trackDirColor=this.foreground,t.push("trackDirColor"),this.subtracksMaxDefault=8,t.push("subtracksMaxDefault"),this.showFeatureNameThereshold=20,t.push("showFeatureNameThereshold"),this.featureNameFontStyle="",t.push("featureNameFontStyle"),this.featureNameFontSize=12,t.push("featureNameFontSize"),this.featureNameFontColor=this.foreground,t.push("featureNameFontColor"),this.featureFillColor=this.background,t.push("featureFillColor"),this.featureDirColor=this.foreground,t.push("featureDirColor"),this.maxFeatureStringLen=30,t.push("maxFeatureStringLen"),this.featureWidthDefault=3,t.push("featureWidthDefault"),this.featureHeightDefault=14,t.push("featureHeightDefault"),this.featureSpliceStyle="rect",t.push("featureSpliceStyle"),this.featureTraceHeight=40,t.push("featureTraceHeight"),this.featureTraceTrim=1,t.push("featureTraceTrim"),this.featureTracesShow=!0,t.push("featureTracesShow"),this.featureQualityHeight=14,t.push("featureQualityHeight"),this.featureQualityValues=!1,t.push("featureQualityValues"),this.featureQualityShow=!0,t.push("featureQualityShow"),this.featureSignalToNoiseHeight=14,t.push("featureSignalToNoiseHeight"),this.featureSignalToNoiseValues=!1,t.push("featureSignalToNoiseValues"),this.featureSignalToNoiseShow=!0,t.push("featureSignalToNoiseShow"),this.featureCoordinateHeight=14,t.push("featureCoordinateHeight"),this.featureCoordinateShow=!0,t.push("featureCoordinateShow"),this.featureTranslateHeight=14,t.push("featureTranslateHeight"),this.featureTranslateShow=!0,t.push("featureTranslateShow"),this.featureTypeDefault="line",t.push("featureTypeDefault"),this.featureStaggered=!1,t.push("featureStaggered"),this.sequenceFontStyle="",t.push("sequenceFontStyle"),this.sequenceFontSize=12,t.push("sequenceFontSize"),this.sequenceFill=!1,t.push("sequenceFill"),this.sequenceGAPColor="rgb(255,0,255)",t.push("sequenceGAPColor"),this.sequenceAColor="rgb(0,103,0)",t.push("sequenceAColor"),this.sequenceBColor="rgb(0,0,0)",t.push("sequenceBColor"),this.sequenceCColor="rgb(0,0,255)",t.push("sequenceCColor"),this.sequenceDColor="rgb(0,0,0)",t.push("sequenceDColor"),this.sequenceEColor="rgb(0,0,0)",t.push("sequenceEColor"),this.sequenceFColor="rgb(0,0,255)",t.push("sequenceFColor"),this.sequenceGColor="rgb(0,0,0)",t.push("sequenceGColor"),this.sequenceHColor="rgb(255,0,0)",t.push("sequenceHColor"),this.sequenceIColor="rgb(0,103,0)",t.push("sequenceIColor"),this.sequenceKColor="rgb(255,0,0)",t.push("sequenceKColor"),this.sequenceLColor="rgb(0,103,0)",t.push("sequenceLColor"),this.sequenceMColor="rgb(0,103,0)",t.push("sequenceMColor"),this.sequenceNColor="rgb(0,0,0)",t.push("sequenceNColor"),this.sequencePColor="rgb(255,165,0)",t.push("sequencePColor"),this.sequenceQColor="rgb(0,0,0)",t.push("sequenceQColor"),this.sequenceRColor="rgb(255,0,0)",t.push("sequenceRColor"),this.sequenceSColor="rgb(255,165,0)",t.push("sequenceSColor"),this.sequenceTColor="rgb(255,0,0)",t.push("sequenceTColor"),this.sequenceUColor="rgb(255,0,0)",t.push("sequenceUColor"),this.sequenceVColor="rgb(0,103,0)",t.push("sequenceVColor"),this.sequenceWColor="rgb(0,0,255)",t.push("sequenceWColor"),this.sequenceXColor="rgb(0,0,0)",t.push("sequenceXColor"),this.sequenceYColor="rgb(0,0,255)",t.push("sequenceYColor"),this.sequenceZColor="rgb(0,0,0)",t.push("sequenceZColor"),this.sequenceStartColor="rgb(0,204,0)",t.push("sequenceStartColor"),this.sequenceEndColor="rgb(255,0,0)",t.push("sequenceEndColor"),this.wireColor="rgba(204,204,204,0.1)",t.push("wireColor"),this.periodTicksLabels=5,t.push("periodTicksLabels"),this.genomeResolution="low",this.trackConfigurableProperties=["name","hideName","hideFeatureNames","type","height","fill","outline","hide","connect","subtracksMax","highlight"],t.push("trackConfigurableProperties"),this.featureConfigurableProperties=["id","name","label","hideName","fill","outline","dir","showDir","connect","offset","data","subtype","quality","signalToNoise","coordinate","sequence","trace","gaps","translate","hide","counter"],t.push("featureConfigurableProperties"),this.errors=[],this.debug=!1,t.push("debug"),this.verbose=!1,t.push("verbose"),this.offline=!1,t.push("offline"),this.showVersion=!0,t.push("showVersion"),this.showCode=!1,t.push("showCode"),this.codeType="params",t.push("codeType"),this.disableEvents=!1,t.push("disableEvents"),this.disableCode=!1,t.push("disableCode"),this.disableMenu=!1,t.push("disableMenu"),this.disableToolbar=!1,t.push("disableToolbar"),this.disableDataTable=!1,t.push("disableDataTable"),this.disableDataFilters=!1,t.push("disableDataFilters"),this.disableConfigurator=!1,t.push("disableConfigurator"),this.disableDataExplorer=!1,t.push("disableDataExplorer"),this.disableCanvas=!1,t.push("disableCanvas"),this.disableKeys=!1,t.push("disableKeys"),this.disableShowShortcuts=!1,t.push("disableShowShortcuts"),this.disablePlusMinusKeys=!0,t.push("disablePlusMinusKeys"),this.disableUndoRedoKeys=!0,t.push("disableUndoRedoKeys"),this.disableDocument=!1,t.push("disableDocument"),this.disableWindow=!1,t.push("disableWindow"),this.disableWheel=!1,t.push("disableWheel"),this.playable=!1,t.push("playable"),this.resizable=!0,t.push("resizable"),this.resizableX=!0,t.push("resizableX"),this.resizableY=!0,t.push("resizableY"),this.movable=!0,t.push("movable"),this.maxSubMenus=25,t.push("maxSubMenus"),this.showPrimaryMenus=!1,t.push("showPrimaryMenus"),this.maxItemMenuCheckbox=10,t.push("maxItemMenuCheckbox"),this.configuratorWidth=250,t.push("configuratorWidth"),this.configuratorExamplesSize=500,this.alignConfiguratorExamples=!1,t.push("alignConfiguratorExamples"),this.showConfiguratorExamplesOnSelect=!1,t.push("showConfiguratorExamplesOnSelect"),this.resizeWidthOnLayout=!0,t.push("resizeWidthOnLayout"),this.resizeHeightOnLayout=!0,t.push("resizeHeightOnLayout"),this.skipClick=!1,this.infoTimeOut=3e3,t.push("infoTimeOut"),this.infoStartTime=(new Date).getTime(),this.infoTimeIn=50,t.push("infoTimeIn"),this.broadcast=!0,t.push("broadcast"),this.broadcastGroup=!1,t.push("broadcastGroup"),this.showMousePositionOnDrag=!0,t.push("showMousePositionOnDrag"),this.toolbarType="under",t.push("toolbarType"),this.lazyLoad=!1,t.push("lazyLoad"),this.showAnimation=!1,t.push("showAnimation"),this.showTransition=!1,t.push("showTransition"),this.transitionStep=20,t.push("transitionStep"),this.transitionStaggering=10,t.push("transitionStaggering"),this.transitionFunction="easeInOutQuad",t.push("transitionFunction"),this.weight=1,this.scaleX=1,this.scaleY=1,this.translateX=0,this.translateY=0,this.offsetX=0,this.offsetY=0,this.layoutWidth=0,this.layoutHeight=0,this.layout="1X1",this.layoutTopology=!1,t.push("layoutTopology"),this.layoutComb=!1,this.layoutAdjust=!1,t.push("layoutAdjust"),this.layoutCollapse=!1,t.push("layoutCollapse"),this.layoutType="wrap",t.push("layoutType"),this.layoutRemoveEmpty=!0,t.push("layoutRemoveEmpty"),this.layoutCanvasCompartments=!1,t.push("layoutCanvasCompartments"),this.layoutBoxLabelColors=[],t.push("layoutBoxLabelColors"),this.layoutBoxShow=!0,t.push("layoutBoxShow"),this.layoutLabelColor="rgb(0,0,0)",t.push("layoutLabelColor"),this.layoutLabelBoxThickness=30,t.push("layoutLabelBoxThickness"),this.layoutLabelShow=!0,t.push("layoutLabelShow"),this.layoutConfig=[],t.push("layoutConfig"),this.layoutCurrent=0,this.layoutAxis=3,this.imageTimeOut=1e3,t.push("imageTimeOut"),this.imageMaxTries=10,t.push("imageMaxTries"),this.imageTries=0,this.remoteService=!1,t.push("remoteService"),this.remoteServiceType="webService",t.push("remoteServiceType"),this.remoteParams={},t.push("remoteParams"),this.remoteDirection="next",t.push("remoteDirection"),this.remoteAutoPlay=!1,t.push("remoteAutoPlay"),this.remoteAutoPlayDelay=3e3,t.push("remoteAutoPlayDelay"),this.remoteParamOverride=!0,t.push("remoteParamOverride"),this.remoteTransitionEffect="slide",t.push("remoteTransitionEffect"),this.remoteAutoSize=!0,t.push("remoteAutoSize"),this.remoteParentId="",this.remoteDataIndex=0,this.remoteIds=[],this.remoteData=[],this.remoteUpdating=!1,this.RdatasetsURL="https://raw.githubusercontent.com/neuhausi/Rdatasets/master/",this.loadRDatasets=!1,t.push("loadRDatasets"),this.maxDataExplorerEntries=1e4,t.push("maxDataExplorerEntries"),this.skipConfigurableProperties=!0,t.push("skipConfigurableProperties"),this.nodesProperties=[],t.push("nodesProperties"),this.edgesProperties=[],t.push("edgesProperties"),this.featuresProperties=[],t.push("featuresProperties"),this.dataFilterWidth=220,t.push("dataFilterWidth"),this.filterType="and",t.push("filterType"),this.filterMode="remove",t.push("filterMode"),this.filterSkipNullKeys=!1,t.push("filterSkipNullKeys"),this.filterSkipNullValues=!1,t.push("filterSkipNullValues"),this.filterVarBy={cases:[],comp:[],op:[],type:[],value:[]},t.push("filterVarBy"),this.filterSmpBy={cases:[],comp:[],op:[],type:[],value:[]},t.push("filterSmpBy"),this.filterNodeBy={cases:[],comp:[],op:[],type:[],value:[]},t.push("filterNodeBy"),this.filterEdgeBy={cases:[],comp:[],op:[],type:[],value:[]},t.push("filterEdgeBy"),this.filterFeatureBy={cases:[],comp:[],op:[],type:[],value:[]},t.push("filterFeatureBy"),this.filterDataBy={cases:[],comp:[],op:[],type:[],value:[]},t.push("filterDataBy"),this.filtersExposed=[],t.push("filtersExposed"),this.showDataTable=!1,t.push("showDataTable"),this.dataTableTransposed=!0,t.push("dataTableTransposed"),this.maxRows=10,t.push("maxRows"),this.maxCols=6,t.push("maxCols"),this.colWidth=100,t.push("colWidth"),this.rowHeight=18,t.push("rowHeight"),this.dataTableFontSize=12,t.push("dataTableFontSize"),this.dataTableFontFamily="unset",t.push("dataTableFontFamily"),this.refresehDataTableOnDraw=!1,t.push("refresehDataTableOnDraw"),this.showDataTableOnSelect=!1,t.push("showDataTableOnSelect"),this.networkShowDataTable="nodes",t.push("networkShowDataTable"),this.colorDataTable=!0,t.push("colorDataTable"),this.backgroundDataTable="rgba(255,255,255,0.95)",t.push("backgroundDataTable"),this.colorDataTableTransparency=.5,t.push("colorDataTableTransparency"),this.dataTableStyle=!1,t.push("dataTableStyle"),this.startCol=0,this.startRow=0,this.totalCols=null,this.totalRows=null,this.dataTableColumnWidth=[],this.dataTableRowHeight=[]},this.updateTheme=function(t){for(var e in t)if("conditional"==e){for(var i in t[e])if(CanvasXpress.graphTypes[i].includes(this.graphType))for(var a in t[e][i])this[a]=t[e][i][a]}else this[e]=t[e]},this.setTheme=function(t){if(t||(t=!!CanvasXpress.stack[this.target]&&CanvasXpress.stack[this.target].config),t&&t.hasOwnProperty("theme")&&t.theme){var e=t.theme.toLowerCase().replace(" ",""),i="none";switch(e){case"cx":case"canvasxpress":i="cx";break;case"paultol":i="paulTol";break;case"wallstreetjournal":case"wallstreet":i="wallStreetJournal";break;case"blackandwhite":i="blackAndWhite";break;case"lastairbenderfire":i="lastAirBender",this.colorScheme="LastAirBenderFire";break;case"lastairbenderair":i="lastAirBender",this.colorScheme="LastAirBenderAir";break;case"lastairbenderwater":i="lastAirBender",this.colorScheme="LastAirBenderWater";break;case"lastairbenderearth":i="lastAirBender",this.colorScheme="LastAirBenderEarth";break;case"gameofthronestargaryen":i="gameOfThrones",this.colorScheme="GameOfThronesTargaryen";break;case"gameofthronesstark":i="gameOfThrones",this.colorScheme="GameOfThronesStark";break;case"gameofthronesstannis":i="gameOfThrones",this.colorScheme="GameOfThronesStannis";break;case"gameofthroneslannister":i="gameOfThrones",this.colorScheme="GameOfThronesLannister";break;case"gameofthronestyrell":i="gameOfThrones",this.colorScheme="GameOfThronesTyrell";break;case"gameofthronesmartell":i="gameOfThrones",this.colorScheme="GameOfThronesMartell";break;case"gameofthronestully":i="gameOfThrones",this.colorScheme="GameOfThronesTully";break;case"gameofthronesgreyjoy":i="gameOfThrones",this.colorScheme="GameOfThronesGreyjoy";break;case"gameofthronesmanderly":i="gameOfThrones",this.colorScheme="GameOfThronesManderly";break;case"gameofthronesarryn":i="gameOfThrones",this.colorScheme="GameOfThronesArryn";break;default:i=e}CanvasXpress.themes.hasOwnProperty(i)&&this.updateTheme(CanvasXpress.themes[i])}},this.resetInitialFontSize=function(){for(var t=["fontSize","titleFontSize","subtitleFontSize","smpTitleFontSize","smpLabelFontSize","varTitleFontSize","varLabelFontSize","overlayFontSize","legendFontSize","decorationFontSize","axisTickFontSize","axisTitleFontSize","nodeFontSize","trackNameFontSize","featureNameFontSize","sequenceFontSize"],e=0;e<t.length;e++)this[t[e]]=Number(CanvasXpress.doc.P[t[e]].D);this.setInitialFonts()},this.setInitialFonts=function(){this.font=this.fontStyle+" "+this.fontSize+"px "+this.fontName,this.titleFont=this.titleFontStyle+" "+this.titleFontSize+"px "+this.fontName,this.subtitleFont=this.subtitleFontStyle+" "+this.subtitleFontSize+"px "+this.fontName,this.citationFont=this.citationFontStyle+" "+this.citationFontSize+"px "+this.fontName,this.smpTitleFont=this.smpTitleFontStyle+" "+this.smpTitleFontSize+"px "+this.fontName,this.smpLabelFont=this.smpLabelFontStyle+" "+this.smpLabelFontSize+"px "+this.fontName,this.varTitleFont=this.varTitleFontStyle+" "+this.varTitleFontSize+"px "+this.fontName,this.varLabelFont=this.varLabelFontStyle+" "+this.varLabelFontSize+"px "+this.fontName,this.overlayFont=this.overlayFontStyle+" "+this.overlayFontSize+"px "+this.fontName,this.legendFont=this.legendFontStyle+" "+this.legendFontSize+"px "+this.fontName,this.decorationFont=this.decorationFontStyle+" "+this.decorationFontSize+"px "+this.fontName,this.axisTickFont=this.axisTickFontStyle+" "+this.axisTickFontSize+"px "+this.fontName,this.axisTitleFont=this.axisTitleFontStyle+" "+this.axisTitleFontSize+"px "+this.fontName,this.motionCurrentFont=this.motionCurrentFontStyle+" "+this.motionCurrentFontSize+"px "+this.fontName,this.nodeFont=this.nodeFontStyle+" "+this.nodeFontSize+"px "+this.fontName,this.trackNameFont=this.trackNameFontStyle+" "+this.trackNameFontSize+"px "+this.fontName,this.featureNameFont=this.featureNameFontStyle+" "+this.featureNameFontSize+"px "+this.fontName,this.sequenceFont=this.sequenceFontStyle+" "+this.sequenceFontSize+"px "+this.fontName},this.setInitialConfig=function(){if(this.meta.config.user)for(var t in delete this.meta.config.user.skipRender,this.meta.config.user)(!this.isCreateHistogram||"setMaxX"!=t&&"setMinX"!=t)&&(this.isPivot&&"groupingFactors"==t||(CanvasXpress.doc.P[t]&&CanvasXpress.doc.P[t].hasOwnProperty("T")?("integer"!=CanvasXpress.doc.P[t].T&&"float"!=CanvasXpress.doc.P[t].T||(this.meta.config.user[t]=null===this.meta.config.user[t]?null:Number(this.meta.config.user[t])),this[t]=this.meta.config.user[t]):this[t]=this.meta.config.user[t]))},this.resetConfig=function(t){var e={};if(t)for(var i=0;i<t.length;i++)e[t[i]]=this[t[i]];for(var i in this.setConfigDefaults(),e)this[i]=e[i]},this.updateConfig=function(t){if(t)for(var e in this.meta.config.user=t,t)this[e]=t[e]},this.setConfig=function(t){if(t)for(var e in t)this[e]=t[e]},this.getConfig=function(t){var e,i=this,a={},s=CanvasXpress.config.sort(),r={shapes:!0,images:!0,randomSeed:!0,xAxisValues:!0,xAxisValuesRaw:!0,xAxisMinorValues:!0,yAxisValues:!0,yAxisValuesRaw:!0,yAxisMinorValues:!0,zAxisValues:!0,zAxisValuesRaw:!0,zAxisMinorValues:!0,trackConfigurableProperties:!0,featureConfigurableProperties:!0,remoteServiceType:!0};this.isTransformedData&&(a.isTransformedData=this.isTransformedData);for(var n=0;n<s.length;n++){var o=s[n];if(!o.match(/FontSize$/)&&(CanvasXpress.doc.P[o]&&CanvasXpress.doc.P[o].hasOwnProperty("D"))){var h=(e=o,i.theme&&CanvasXpress.themes[i.theme]&&CanvasXpress.themes[i.theme].hasOwnProperty(e)?CanvasXpress.themes[i.theme][e]:CanvasXpress.doc.P[e].D);if(r[o])continue;var l=void 0!==i[o]&&i[o];if("object"==typeof l)if("[]"==h&&(h=[]),"{}"==h&&(h={}),null===l)"null"!=h&&(a[o]=l);else if("sizes"==o)this.isSameObject(l,h.map(Number))||(a[o]=l);else if("colorSpectrum"==o||"colors"==o){for(var c=[],d=0;d<l.length;d++)c.push(this.rgbToHex(l[d]).toLowerCase());this.isSameObject(c,h)||(a[o]=l)}else o.match("filter")&&"filtersExposed"!=o?this.isSameObject(l,this.parseJSON(h.replace(/'/g,'"')))||(a[o]=l):this.isSameObject(l,h)||(a[o]=l);else if(h.toString().match(/false|true|null/)){if("summaryType"==o&&"raw"==l)continue;l.toString()!=h.toString()&&(a[o]=l)}else l!=h&&(a[o]=l)}}if(a.backgroundImage&&a.backgroundImage.match(/javascript:\/\//)&&(a.backgroundImageSrc=btoa(CanvasXpress.cacheImages[a.backgroundImage.split("//")[1]].replace("data:image/png;base64,",""))),t)for(n=0;n<t.length;n++)a[t[n]]=this[t[n]];return a},this.getUserConfig=function(){return this.meta.config.user},this.getNewCanvasContext=function(t){var e=this.$(t);return e&&"canvas"==e.tagName.toLowerCase()||(e=this.$cX("canvas",{id:t}),window.body.appendChild(e)),this.get2DCanvasContext(e)},this.setCanvasPixelRatio=function(){var t=window.devicePixelRatio||1,e=this.get2DCanvasContext(this.$cX("canvas")),i=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;this.meta.canvas.canvasPixelRatio=t/i},this.setDPI=function(t,e){t.style.width=t.style.width||t.width+"px",t.style.height=t.style.height||t.height+"px";var i=e/96,a=parseFloat(t.style.width),s=parseFloat(t.style.height),r=i/(t.width/a),n=t.cloneNode(!1);this.get2DCanvasContext(n).drawImage(t,0,0);var o=this.get2DCanvasContext(t);t.width=Math.ceil(a*i),t.height=Math.ceil(s*i),o.setTransform(r,0,0,r,0,0),o.drawImage(n,0,0),o.setTransform(i,0,0,i,0,0)},this.setCanvas=function(){var t=this.$(this.target);t&&(this.setCanvasPixelRatio(),this.checkCanvasXpressOrgSite(),this.meta.canvas.ctx=this.get2DCanvasContext(t),this.meta.canvas.ctx.setTransform(this.meta.canvas.canvasPixelRatio,0,0,this.meta.canvas.canvasPixelRatio,0,0))},this.get2DCanvasContext=function(t){return t.getContext("2d")},this.getCanvasContext=function(){var t=this.isSVG?this.meta.canvas.SVG:this.isHighlightCanvas?this.meta.canvas.ctx2:this.meta.canvas.ctx;return this.currentCanvasContext=t.canvas.id,t},this.checkCanvasXpressOrgSite=function(){for(var t=new RegExp("/www.canvasxpress.org/dist/"),e=window.document.getElementsByTagName("head")[0],i=0;i<e.childNodes.length;i++){var a=e.childNodes[i];"text/javascript"==a.type&&t.test(a.src)&&(CanvasXpress.factory.siteSrc=!0)}},this.inititalizeConfig=function(t){if(CanvasXpress.config=[],this.setConfigDefaults(),t&&t.graphType&&(this.graphType=t.graphType),this.setTheme(t),t)for(var e=0;e<CanvasXpress.config.length;e++){var i=CanvasXpress.config[e],a=!!CanvasXpress.doc.P[i]&&CanvasXpress.doc.P[i].T;t.hasOwnProperty(i)&&("array"==a?t[i]instanceof Array?this[i]=t[i]:(this[i]=[t[i]],t[i]=[t[i]]):this[i]=t[i])}for(var s in this.setInitialFonts(),this.url)this.hasOwnProperty(s)&&(this[s]=this.url[s]);this.setCanvas(),CanvasXpress.system.isR=this.isR,CanvasXpress.system.isHTMLWidgets="undefined"!=typeof HTMLWidgets,CanvasXpress.system.isShiny=void 0!==window.Shiny&&!!window.Shiny.outputBindings,CanvasXpress.system.isRViewer=/\bviewer_pane=1\b/.test(window.location),CanvasXpress.system.isRConsole=CanvasXpress.system.isHTMLWidgets&&!CanvasXpress.system.isShiny&&!CanvasXpress.system.isRViewer,CanvasXpress.system.isNode=void 0!==module,CanvasXpress.system.isCxplot=this.isCxplot,CanvasXpress.system.isShiny&&(this.disableUndoRedoKeys=!0)}},CanvasXpress.prototype.initDate=function(){var t,e,i,a,s=(t=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,e=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,i=/[^-+\dA-Z]/g,a=function(t,e){for(t=String(t),e=e||2;t.length<e;)t="0"+t;return t},function(r,n,o){var h=s;if(1!=arguments.length||"[object String]"!=Object.prototype.toString.call(r)||/\d/.test(r)||(n=r,r=void 0),r=r?new Date(r):new Date,isNaN(r))throw SyntaxError("invalid date");"UTC:"==(n=String(h.masks[n]||n||h.masks.default)).slice(0,4)&&(n=n.slice(4),o=!0);var l=o?"getUTC":"get",c=r[l+"Date"](),d=r[l+"Day"](),p=r[l+"Month"](),g=r[l+"FullYear"](),u=r[l+"Hours"](),m=r[l+"Minutes"](),f=r[l+"Seconds"](),y=r[l+"Milliseconds"](),x=o?0:r.getTimezoneOffset(),b={d:c,dd:a(c),ddd:h.i18n.dayNames[d],dddd:h.i18n.dayNames[d+7],m:p+1,mm:a(p+1),mmm:h.i18n.monthNames[p],mmmm:h.i18n.monthNames[p+12],yy:String(g).slice(2),yyyy:g,h:u%12||12,hh:a(u%12||12),H:u,HH:a(u),M:m,MM:a(m),s:f,ss:a(f),l:a(y,3),L:a(y>99?Math.round(y/10):y),t:u<12?"a":"p",tt:u<12?"am":"pm",T:u<12?"A":"P",TT:u<12?"AM":"PM",Z:o?"UTC":(String(r).match(e)||[""]).pop().replace(i,""),o:(x>0?"-":"+")+a(100*Math.floor(Math.abs(x)/60)+Math.abs(x)%60,4),S:["th","st","nd","rd"][c%10>3?0:(c%100-c%10!=10)*c%10]};return n.replace(t,(function(t){return t in b?b[t]:t.slice(1,t.length-1)}))});s.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",year:"yyyy",month:"mmmm",day:"dddd",hour:"HH",minute:"MM",second:"ss"},s.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]},Date.prototype.format=function(t,e){return s(this,t,e)},this.isValidDateFormat=function(t){return!isNaN(new Date(t))},this.dateFormat=s},CanvasXpress.prototype.initText=function(){this.setTextShadow=function(t){this.showTextShadow&&(t?(this.meta.canvas.ctx.shadowOffsetX=this.shadowOffsetX,this.meta.canvas.ctx.shadowOffsetY=this.shadowOffsetY,this.meta.canvas.ctx.shadowBlur=this.shadowBlur,this.meta.canvas.ctx.shadowColor=this.shadowColor):(this.meta.canvas.ctx.shadowOffsetX=0,this.meta.canvas.ctx.shadowOffsetY=0,this.meta.canvas.ctx.shadowBlur=0,this.meta.canvas.ctx.shadowColor=this.background))},this.getArcTextArea=function(t,e,i,a,s,r,n,o,h,l,c,d,p){null==t&&(t="");var g=["poly"],u=this.getFontPt(n);r=(s=s+r/2-(h=this.measureText(t,n,p)*(.5*Math.PI)/a)/2%(2*Math.PI))+h;for(var m=this.traceArc1(e,i,a,s,r,!0),f=0;f<m.length;f++)g.push(m[f][0],m[f][1]);m=this.traceArc1(e,i,a-u,s,r);for(f=0;f<m.length;f++)g.push(m[f][0],m[f][1]);return"Network"==this.graphType?this.preScaleNetwork&&!this.isAnimation?g:this.adjustNetworkObjects(g):g},this.drawArcText=function(t,e,i,a,s,r,n,o,h,l,c,d,p){if(null==t&&(t=""),p||(p=this.getCanvasContext()),null!=t)if(p)if(isNaN(e)||isNaN(i))this.debug&&alert("Not a valid coordinate ("+e+", "+i+") to draw "+t);else{d||isNaN(t)||(t=this.formatNumber(t)),t=t.toString().replace("\0",""),e||(e=0),i||(i=0),n||(n=this.font),o||(o=this.foreground),h||(h=this.align),l||(l=this.baseline),this.saveCanvas(p),p.strokeStyle=this.isArray(o)?o[0]:o,p.fillStyle=this.isArray(o)?o[0]:o,p.font=n,p.textAlign=h,p.textBaseline=l,this.setTextShadow(!0);var g="right"==h?1:-1,u=this.getFontPt(n);if((["left","center"].indexOf(h)>-1&&c||"right"==h&&!c)&&(t=t.split("").reverse().join(""),this.isArray(o)&&(o=o.reverse())),p.translate(e,i),s+=Math.PI*!c,s+=Math.PI/2+r/2,"center"==h)for(var m=0;m<t.length;m++){s+=((f=this.measureText(t[m],n,p))+(m==t.length-1?0:this.circularLetterSeparationFactor))/(a-u)/2*-g}r=s,this.rotateCanvas(s,p);for(m=0;m<t.length;m++){var f;r+=(f=this.measureText(t[m],n,p))/2/(a-u)*g,this.rotateCanvas(f/2/(a-u)*g,p),this.isArray(o)&&(p.strokeStyle=o[m],p.fillStyle=o[m]),p.fillText(t[m],0,(c?1:-1)*(0-a+u/2)),r+=(f/2+this.circularLetterSeparationFactor)/(a-u)*g,this.rotateCanvas((f/2+this.circularLetterSeparationFactor)/(a-u)*g)}this.restoreCanvas(p),this.setTextShadow(!1)}else this.debug&&alert("Dude, there is no canvas")},this.getTextMultipleArea=function(t,e,i,a,s,r,n,o,h,l,c){null==t&&(t="");for(var d=t.split(/\n/),p=this.getFontPt(a),g=[],u=i+(d%2?0:p/2)-d.length*p/2,m=0;m<d.length;m++)g.push(this.getTextArea(d[m],e,u,a,s,r,n,o,h,l,c)),u+=p;var f=g[0][1],y=g[0][2],x=g[0][3],b=g[0][4];for(m=1;m<g.length;m++)f=Math.min(f,g[m][1]),y=Math.min(y,g[m][2]),x=Math.max(x,g[m][3]),b=Math.max(b,g[m][4]);return[g[0][0],f,y,x,b]},this.drawTextMultiple=function(t,e,i,a,s,r,n,o,h,l,c,d){var p=t.split(/\n/),g=a;g||(g=this.font);for(var u=this.getFontPt(g),m=i+(p%2?0:u/2)-p.length*u/2,f=0;f<p.length;f++)this.drawText(p[f],e,m,g,s,r,n,o,h,l,c,d),m+=u,o&&o<90&&(e+=u,m-=u)},this.getTextArea=function(t,e,i,a,s,r,n,o,h,l,c,d){var p=this;if(null==t&&(t=""),c){if(e<this.marginLeft+this.offsetX+this.left||e>this.marginLeft+this.offsetX+this.left+this.x)return;if(i<this.marginTop+this.offsetY+this.top||i>this.marginTop+this.offsetY+this.top+this.y)return}if(this.isMultipleLines(t))return this.getTextMultipleArea(t,e,i,a,s,r,n,o,h,l,c);var g,u,m,f,y=[],x=this.measureText(t,a,d),b=this.getFontPt(a),v=0;if(h)for(;x>h&&v<10;)t=t.substring(0,t.length-1),x=this.measureText(t,a,d),v++;return"left"==r?m=(g=e)+x:"right"==r?(g=e-x,m=e):(g=e-x/2,m=e+x/2),"top"==n?f=(u=i)+b:"bottom"==n?(u=i-b,f=i):(u=i-b/2,f=i+b/2),y=["rect",g,u,m,f],y=o?function(t){t.shift();var a=["poly"];return a=(a=(a=(a=a.concat(p.rotatePoint(t[0],t[1],e,i,o))).concat(p.rotatePoint(t[2],t[1],e,i,o))).concat(p.rotatePoint(t[2],t[3],e,i,o))).concat(p.rotatePoint(t[0],t[3],e,i,o))}(y):y,"Network"==this.graphType?this.preScaleNetwork&&!this.isAnimation?y:this.adjustNetworkObjects(y):y},this.drawText=function(t,e,i,a,s,r,n,o,h,l,c,d){null==t&&(t=""),d||(d=this.getCanvasContext());var p=0;if(null!=t){if(this.isMultipleLines(t))return this.drawTextMultiple(t,e,i,a,s,r,n,o,h,l,c,d);if(d)if(isNaN(e)||isNaN(i))this.debug&&alert("Not a valid coordinate ("+e+", "+i+") to draw "+t);else{if(c){if(e<this.marginLeft+this.offsetX+this.left||e>this.marginLeft+this.offsetX+this.left+this.x)return;if(i<this.marginTop+this.offsetY+this.top||i>this.marginTop+this.offsetY+this.top+this.y)return}e||(e=0),i||(i=0),a||(a=this.font),s||(s=this.foreground),r||(r=this.align),n||(n=this.baseline);var g=this.measureText(t,a,d);if(h)for(;g>h&&p<10;)t=t.substring(0,t.length-1),g=this.measureText(t,a,d),p++;this.saveCanvas(d),d.strokeStyle=s,d.fillStyle=s,d.font=a,this.translateCanvas(e,i,d),d.textAlign=r,d.textBaseline=n,this.setTextShadow(!0),o&&this.rotateCanvas(o,d),t=t.toString().replace("\0","").replace("u0000",""),l?d.strokeText(t,0,0):d.fillText(t,0,0),this.restoreCanvas(d),this.setTextShadow(!1)}else this.debug&&alert("Dude, there is no canvas")}},this.isMultipleLines=function(t){return t.toString().split(/\n/).length-1},this.capitalize=function(t){if(t)return t.charAt(0).toUpperCase()+t.slice(1)},this.decapitalize=function(t){if(t)return t.charAt(0).toLowerCase()+t.slice(1)},this.measureTextMultiple=function(t,e,i){var a=t.split(/\n/),s=0;if(!i&&!(i=this.getCanvasContext()))return 0;e||(e=this.font),i.font=e;for(var r=0;r<a.length;r++)s=Math.max(s,i.measureText(a[r]).width);return s},this.measureText=function(t,e,i){return i||(i=this.getCanvasContext()),t&&i?(t=t.toString(),e||(e=this.font),CanvasXpress.cacheText[e]||(CanvasXpress.cacheText[e]={}),CanvasXpress.cacheText[e][t]||(i.font=e,this.isMultipleLines(t)?CanvasXpress.cacheText[e][t]=this.measureTextMultiple(t,e,i):CanvasXpress.cacheText[e][t]=i.measureText(t).width),CanvasXpress.cacheText[e][t]):0},this.measureTextWidth=function(t,e){var i=this.isMultipleLines(t);return i>0?(this.getFontPt(e)+this.margin)*(i+1):this.getFontPt(e)},this.scaleTextToFont=function(t,e,i,a,s){var r=Math.ceil(e),n=this.fontStyle+" "+r+"px "+this.fontName;if(t){for(;this.measureText(t,n,s)>i&&r>=this.minTextSize;)r-=2,n=this.fontStyle+" "+r+"px "+this.fontName;if(a){for(;parseInt(r/1.33)>a-2;)r--;n=this.fontStyle+" "+r+"px "+this.fontName}}return n},this.getFontPt=function(t){return t?Math.max(1,parseInt(t.toString().match(/[\-\d]+/)[0])):1},this.scaleTextToSize=function(t){var e=this.scaleTextConstantMult;return t||(t=1),Math.ceil(1/Math.sqrt(t)*e)},this.wrapText=function(t,e){var i=new RegExp("(?![^\\n]{1,"+e+"}$)([^\\n]{1,"+e+"})([\\s|-])","g");return t.toString().replace(i,"$1$2\n").replace(" \n","\n")},this.scaleFont=function(t,e){var i=this.getFontPt(t),a=Math.max(1,parseInt(i*e));return t.replace(i+"px",a+"px")},this.formatNumber=function(t,e){var i=!isNaN(e)&&parseInt(null!=e?e:10)>0?parseFloat(t).toFixed(parseInt(null!=e?e:10)):Number(t),a=parseFloat(i);if(Math.abs(a)<1e-4||Math.abs(a)>99999||a.toString().length>=8){var s=a.toExponential(2).toString().replace("e+0","").replace(".00","").replace(/(\.[0-9])(0)/,"$1");return(s.match(/e\+1$/)||s.match(/e\+2$/)||s.match(/e\-1$/))&&(s=(1*s).toString()),s}return a.toString()},this.getMaxtTextBySampling=function(t,e){for(var i={},a=[],s=[],r=0;r<t.length;r++){var n=null!=t[r]?t[r].toString():"";i.hasOwnProperty(n)||(i[n]=!0,a.push([n,n.length]))}a.sort((function(t,e){return t[1]<e[1]?-1:t[1]>e[1]?1:0})),e||(e=10),a.length<e&&(e=a.length);for(r=0;r<e;r++)s.push(a[r][0]);return this.getMaxText(s)},this.getMaxText=function(t,e,i){var a="",s=0;if(t&&t.length>0){e||(e=this.font);for(var r=0;r<t.length;r++)if(t[r]){var n=this.measureText(t[r].toString(),e,i);n>s&&(a=t[r].toString(),s=n)}}return a},this.shortenText=function(t,e,i){return null==t?"":(t=t.toString())?i&&t.length>e?t.substring(0,Math.max(parseInt(i/e)-2,1))+"..":t.length<=e?t:t.substring(0,e-3)+"...":""},this.convertToNumber=function(t){return isNaN(t)?t:parseFloat(t)},this.stringToHex=function(t){for(var e="",i=0;i<t.length;i++)e+=""+t.charCodeAt(i).toString(16);return e},this.hexToString=function(t){for(var e="",i=0;i<t.length;i+=2)e+=String.fromCharCode(parseInt(t.substr(i,2),16));return e},this.sprintf=function(){for(var t,e,i,a,s,r=function(t,e){for(var i=[];e>0;i[--e]=t);return i.join("")},n=0,o=arguments[n++],h=[];o;){if(e=/^[^\x25]+/.exec(o))h.push(e[0]);else if(e=/^\x25{2}/.exec(o))h.push("%");else{if(!(e=/^\x25(?:(\d+)\$)?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gosuxX])/.exec(o)))throw"Huh ?!";if(null==(t=arguments[e[1]||n++])||null==t)throw"Too few arguments.";if(/[^s]/.test(e[7])&&"number"!=typeof t)throw"Expecting number but found "+typeof t;switch(e[7]){case"b":t=t.toString(2);break;case"c":t=String.fromCharCode(t);break;case"d":t=parseInt(t);break;case"e":t=e[6]?t.toExponential(e[6]):t.toExponential();break;case"f":t=e[6]?parseFloat(t).toFixed(e[6]):parseFloat(t);break;case"g":t=e[6]?String(Number(t).toPrecision(e[6])):parseFloat(t);break;case"o":t=t.toString(8);break;case"s":t=(t=String(t))&&e[6]?t.substring(0,e[6]):t;break;case"u":t=Math.abs(t);break;case"x":t=t.toString(16);break;case"X":t=t.toString(16).toUpperCase()}t=/[def]/.test(e[7])&&e[2]&&t>0?"+"+t:t,a=e[3]?"0"==e[3]?"0":e[3].charAt(1):" ",s=e[5]-String(t).length,i=e[5]?r(a,s):"",h.push(e[4]?t+i:i+t)}o=o.substring(e[0].length)}return h.join("")}},CanvasXpress.prototype.initTime=function(){Date.prototype.getWeek=function(){var t=new Date(this.getFullYear(),0,1);return Math.ceil(((this-t)/864e5+t.getDay()+1)/7)},Date.prototype.getDayYear=function(){var t=new Date(this.getFullYear(),0,1);return Math.ceil((this-t)/864e5)},Date.prototype.addMilliseconds=function(t){let e=new Date(this.valueOf());return e.setDate(e.getMilliseconds()+t),e},Date.prototype.addSeconds=function(t){let e=new Date(this.valueOf());return e.setDate(e.getSeconds()+t),e},Date.prototype.addMinutes=function(t){let e=new Date(this.valueOf());return e.setDate(e.getMinutes()+t),e},Date.prototype.addHours=function(t){let e=new Date(this.valueOf());return e.setDate(e.getHours()+t),e},Date.prototype.addDays=function(t){let e=new Date(this.valueOf());return e.setDate(e.getDate()+t),e},Date.prototype.addMonths=function(t){let e=new Date(this.valueOf());return e.setMonth(e.getMonth()+t),e},Date.prototype.addYears=function(t){let e=new Date(this.valueOf());return e.setYear(e.getFullYear()+t),e},this.getMillisecond=function(t){return t.getMilliseconds()},this.getSecond=function(t){return t.getSeconds()},this.getMinuteSecond=function(t){return t.getMinutes()+"."+t.getSeconds()},this.getMinute=function(t){return t.getMinutes()},this.getHourMinute=function(t){return t.getHours()+"."+t.getMinutes()},this.getHour=function(t){return t.getHours()},this.getYearWeek=function(t){return t.getFullYear()+"."+t.getWeek()},this.getMonthDay=function(t){return t.getMonth()+1+"."+(t.getDay()+1)},this.getYearMonth=function(t){return t.getFullYear()+"."+(t.getMonth()+1)},this.getYear=function(t){return t.getFullYear()},this.times={second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31556952e3},this.parseDate=function(t){var e=0,i=0,a=0,s=parseInt(t.toString().substring(0,4)),r=parseInt(t.toString().substring(4,6).replace(/^0/,"")),n=parseInt(t.toString().substring(6,8).replace(/^0/,"")),o=!!t.toString().match(/\:/)&&t.toString().substring(10).split(":");return o&&(e=o[0]?parseInt(o[0].replace(/^0/,"")):0,i=o[1]?parseInt(o[1].replace(/^0/,"")):0,a=o[2]?parseInt(o[2].replace(/^0/,"")):0),new Date(s,r-1,n,e,i,a)},this.formatDate=function(t,e){var i,a,s,r,n,o,h,l,c,d,p,g,u,m,f,y,x,b,v,A,w,C;return a=((i=(t=new Date(t)).getFullYear())+"").slice(-2),n=(o=t.getMonth()+1)<10?"0"+o:o,r=(s=["January","February","March","April","May","June","July","August","September","October","November","December"][o-1]).substring(0,3),c=(d=t.getDate())<10?"0"+d:d,l=(h=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][t.getDay()]).substring(0,3),C=d>=10&&d<=20?"th":1==(w=d%10)?"st":2==w?"nd":3==w?"rd":"th",e=e.replace("#YYYY#",i).replace("#YY#",a).replace("#MMMM#",s).replace("#MMM#",r).replace("#MM#",n).replace("#M#",o).replace("#DDDD#",h).replace("#DDD#",l).replace("#DD#",c).replace("#D#",d).replace("#th#",C),0==(m=g=t.getHours())&&(m=24),m>12&&(m-=12),u=m<10?"0"+m:m,p=g<10?"0"+g:g,A=(v=g<12?"am":"pm").toUpperCase(),f=(y=t.getMinutes())<10?"0"+y:y,x=(b=t.getSeconds())<10?"0"+b:b,e.replace("#hhhh#",p).replace("#hhh#",g).replace("#hh#",u).replace("#h#",m).replace("#mm#",f).replace("#m#",y).replace("#ss#",x).replace("#s#",b).replace("#ampm#",v).replace("#AMPM#",A)},this.setTimeAxis=function(){var t=this.validateTimeAxis();if(!t.length)return[];var e,i=Date.parse(t[0]),a=Date.parse(t[t.length-1]),s=a-i;for("year"==this.timeFormat||s>2*this.times.year?e=s/t.length>=this.times.year?"addYears":"addDays":"month"==this.timeFormat||s>this.times.week?e="addDays":s<this.times.second?e="addMilliseconds":s<this.times.minute?e="addSeconds":s<this.times.hour?e="addMinutes":s<this.times.day&&(e="addHourss"),this.timeValues=[this.dateFormat(new Date(i)[e](-1),this.timeFormat)],this.timeValueIndices=[-1];i<=a;){var r=new Date(i),n=this.dateFormat(r,this.timeFormat),o=this.getSampleIndices(this.timeFormat.match(/year|hour|minute|second/)?Number(n):n);this.timeValues.push(n),this.timeValueIndices.push(o),r=r[e](1),i=Date.parse(r)}},this.createRandomTimes=function(t){var e,i=(new Date).getTime(),a=[new Date(i)],s=this.isGroupedData?this.data.w.labs:this.data.y.smps;t&&this.times[t]||(t="day");for(var r=0;r<s.length;r++)e=Date.parse(s[r]),isNaN(e)?i-=this.times[t]:i=e,a.unshift(new Date(i));return a},this.validateTimeAxis=function(){for(var t=this.isGroupedData?this.data.w.labs:this.data.y.smps,e=!1,i=[],a=0;a<t.length;a++){var s=t[a],r=this.timeFormat;switch(this.timeFormat){case"Year":case"year":s+="/01/02",r="isoDate";break;case"Month":case"month":s="2018/"+CanvasXpress.dates[s]+"/02",r="isoDate";break;case"Day":case"day":s="2018/01/"+CanvasXpress.dates[s],r="isoDate"}if(!this.isValidDateFormat(s))return this.isGraphTime=!1,alert("Invalid Date! Graph converted from Time Graph"),[];var n=Date.parse(this.dateFormat(s,r));if(isNaN(n)){if(this.isExample)return i=this.createRandomTimes();e=!0;break}i.push(new Date(n))}return i.sort((function(t,e){return t-e})),!e&&i}},CanvasXpress.prototype.initColor=function(){this.validateColor=function(t,e,i){var a=t;if(a){a=(a=a.toString()).replace(/\s/g,"");var s=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/.exec(a),r=/rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),([0-9\.]+)\)/.exec(a),n=/^#?([0-9abcdef]{6})/i.exec(a),o=/^([0-9abcdef]{6})/i.exec(a);if(CanvasXpress.colorNames.hasOwnProperty(a))a=this.hexToRgb(CanvasXpress.colorNames[a]);else if(null!=s)a=s[0];else if(null!=r)a=r[0];else if(null!=n)a=this.hexToRgb(n[0]);else if(null!=o)a=this.hexToRgb("#"+o[0]);else{if("[objectCanvasGradient]"==a)return t;a=!1}}return(a=a&&null!=e?this.addColorTransparency(a,e,!0):a||!1)&&i?this.rgbToHex(a):a},this.darkenLightenColor=function(t,e){t=this.rgbToHex(this.validateColor(t)).substring(1,7);var i=parseInt(t,16),a=(i>>16)+e,s=(i>>8&255)+e,r=(255&i)+e;return t=(r=r>255?255:r<0?0:r)|(s=s>255?255:s<0?0:s)<<8|(a=a>255?255:a<0?0:a)<<16,this.hexToRgb(t.toString(16))},this.rgbToHex=function(t){var e=function(t){return t=parseInt(t,10),isNaN(t)?"00":(t=Math.max(0,Math.min(t,255)),"0123456789ABCDEF".charAt((t-t%16)/16)+"0123456789ABCDEF".charAt(t%16))};return t&&"#"===t.substr(0,1)?t:t&&t.match(/^rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/)||t&&t.match(/^rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),([0-9\.]+)\)/)?"#"+e(RegExp.$1)+e(RegExp.$2)+e(RegExp.$3):t},this.rgbToHsl=function(t){var e,i,a=this.colorAsArray(t),s=a[0]/255,r=a[1]/255,n=a[2]/255,o=Math.max(s,r,n),h=Math.min(s,r,n),l=(o+h)/2;if(o==h)e=0,i=0;else{var c=o-h;switch(i=l>.5?c/(2-o-h):c/(o+h),o){case s:e=(r-n)/c+(r<n?6:0);break;case r:e=(n-s)/c+2;break;case n:e=(s-r)/c+4}e/=6}return"hsl("+Math.floor(100*e)+","+Math.floor(100*i)+"%,"+Math.floor(100*l)+"%)"},this.complementaryColor=function(t,e){var i=this.validateColor(t.toString());if(i.match(/^rgba?\((\d{1,3}),(\d{1,3}),(\d{1,3})(?:,([0-9\.]+))?/i)){var a=parseInt(255-RegExp.$1),s=parseInt(255-RegExp.$2),r=parseInt(255-RegExp.$3);return i=a==s&&s==r?a>=127?"rgb(255,255,255)":"rgb(0,0,0)":"rgb("+a+","+s+","+r+")",e?this.rgbToHex(i):i}return t},this.hexToRgb=function(t){return t="#"==t.charAt(0)?t.substring(1,7):t,"rgb("+parseInt(t.substring(0,2),16)+","+parseInt(t.substring(2,4),16)+","+parseInt(t.substring(4,6),16)+")"},this.hslToRgb=function(t){var e=t.split(","),i=Number(e[0].replace(/\s/g,"").replace("hsl(","")),a=Number(e[0].replace(/\s/g,"").replace("%","")),s=Number(e[0].replace(/\s/g,"").replace("%)",""));if(0==a)return"rgb("+s+","+s+","+s+")";var r=function(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t},n=s<.5?s*(1+a):s+a-s*a,o=2*s-n;return"rgb("+Math.round(255*r(o,n,i+1/3))+","+Math.round(255*r(o,n,i))+","+Math.round(255*r(o,n,i-1/3))+")"},this.addColorTransparency=function(t,e,i){if(t){if(t instanceof CanvasGradient)return t;var a=t.match(/^rgba?\((\d{1,3},\d{1,3},\d{1,3})(?:,([0-9\.]+))?/i);return a&&i||(a=(t=this.validateColor(t))&&t.match(/^rgba?\((\d{1,3},\d{1,3},\d{1,3})(?:,([0-9\.]+))?/i)),!!a&&"rgba("+a[1]+","+Math.min(e,null!=a[2]?a[2]:1)+")"}return!1},this.removeColorTransparency=function(t,e){if(t){var i=t.match(/^rgba?\((\d{1,3},\d{1,3},\d{1,3})(?:,([0-9\.]+))?/i);return i&&e||(i=(t=this.validateColor(t))&&t.match(/^rgba?\((\d{1,3},\d{1,3},\d{1,3})(?:,([0-9\.]+))?/i)),!!i&&"rgb("+i[1]+")"}return!1},this.isColorTransparency=function(t,e){if(e||(t=this.validateColor(t)),t){var i=t.match(/^rgba?\((\d{1,3},\d{1,3},\d{1,3})(?:,([0-9\.]+))?/i);return i&&null!=i[2]?Number(i[2]):null}},this.isColorTransparent=function(t,e){if(e||(t=this.validateColor(t)),t&&t.match(/^rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/))return!1;if(t){var i=t.match(/^rgba?\((\d{1,3},\d{1,3},\d{1,3})(?:,([0-9\.]+))?/i);return!!i&&(null!=i[2]&&0==i[2])}return!1},this.combineColors=function(t){for(var e=[],i=[],a=[],s=[],r=0;r<t.length;r++)t[r]=this.validateColor(t[r]);for(r=0;r<t.length;r++){var n=t[r];n&&n.match(/^rgba?\((\d{1,3}),(\d{1,3}),(\d{1,3})(?:,([0-9\.]+))?/i)&&(e.push(parseInt(RegExp.$1)),i.push(parseInt(RegExp.$2)),a.push(parseInt(RegExp.$3)),RegExp.$4&&s.push(parseFloat(RegExp.$4)))}if(e.length>0){var o=parseInt(this.mean(e)),h=parseInt(this.mean(i)),l=parseInt(this.mean(a));return s.length>0?"rgba("+o+","+h+","+l+","+parseFloat(this.mean(s))+")":"rgb("+o+","+h+","+l+")"}return!1},this.colorAsArray=function(t){var e=[];if(t=this.validateColor(t)){var i=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/.exec(t),a=/rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),([0-9\.]+)\)/.exec(t);null!=i?e=[parseInt(i[1]),parseInt(i[2]),parseInt(i[3])]:null!=a&&(e=[parseInt(a[1]),parseInt(a[2]),parseInt(a[3]),Number(a[4])])}return e},this.monoColor=function(t,e){var i=this.colorAsArray(t),a=Math.ceil(.3*i[0]+.59*i[1]+.11*i[2]);return null!=e?"rgba("+a+","+a+","+a+","+e+")":"rgb("+a+","+a+","+a+")"},this.blindColor=function(t,e){var i,a=this.colorAsArray(this.validateColor(t,e)),s=a[0],r=a[1],n=a[2];if(0==s&&0==r&&0==n)return"rgb(0,0,0)";switch(this.blindnessType){case"protanopia":i=[.7465,.2535,1.273463,-.073894];break;case"deuteranopia":i=[1.4,-.04,.968437,.003331];break;case"tritanopia":i=[1.748,0,.062921,.292119];break;case"monochromatic":return"rgb("+(t=Math.ceil(.212656*s+.715158*s+.072186*s))+","+t+","+t+")"}var o=i[0],h=i[1],l=i[2],c=i[3],d=Math.pow(s,2.2),p=Math.pow(r,2.2),g=Math.pow(n,2.2),u=.412424*d+.357579*p+.180464*g,m=.212656*d+.715158*p+.072185*g,f=.019332*d+.119193*p+.950444*g,y=u/(u+m+f),x=m/(u+m+f),b=(x-h)/(y-o),v=x-y*b,A=(c-v)/(b-l),w=b*A+v,C=.312713*m/.329016-(u=A*m/w),T=.358271*m/.329016-(f=(1-(A+w))*m/w),S=3.24071*C+-.498571*T,D=-.969258*C+.0415557*T,M=.0556352*C+1.05707*T,k=3.24071*u+-1.53726*m+-.498571*f,L=-.969258*u+1.87599*m+.0415557*f,I=.0556352*u+-.203996*m+1.05707*f,B=((S<0?0:1)-k)/S,N=((D<0?0:1)-L)/D,F=((M<0?0:1)-I)/M,P=[B>1||B<0?0:B,N>1||N<0?0:N,F>1||N<0?0:F];return k+=(P=Math.max.apply(null,P))*S,L+=P*D,I+=P*M,k=Math.pow(k,1/2.2),L=Math.pow(L,1/2.2),I=Math.pow(I,1/2.2),(s=Math.ceil(k))>255&&(s-=255),(r=Math.ceil(L))>255&&(r-=255),(n=Math.ceil(I))>255&&(n-=255),"rgb("+s+","+r+","+s+")"},this.disableGradientTransparencyShadow=function(){this.gradientTemp||(this.gradientTemp=this.gradient),null==this.transparencyTemp&&(this.transparencyTemp=this.transparency),this.showShadowTemp||(this.showShadowTemp=this.showShadow),this.gradient=!1,this.transparency=null,this.showShadow=!1},this.enableGradientTransparencyShadow=function(){this.gradient=this.gradientTemp,this.transparency=this.transparencyTemp,this.showShadow=this.showShadowTemp},this.resetGradientTransparencyShadow=function(){delete this.gradientTemp,delete this.transparencyTemp,delete this.showShadowTemp},this.getGradient=function(t,e,i,a,s,r){return"radial"==this.gradientType?this.getRadialGradient(t,e,i,s,r,!0):this.getLinearGradient(t,e,i,a,s,r,!0)},this.getLinearGradient=function(t,e,i,a,s,r,n){n||this.saveCanvas();var o=this.getCanvasContext().createLinearGradient(t,e,i,a);s?this.validateColor(s)&&(!this.isArray(s)||s.length<2)&&(s=[s,"black"]):s=this.colorSpectrum,r&&this.isArray(r)||(r="Heatmap"==this.graphType?[]:this.colorSpectrumBreaks);for(var h=1/(s.length-1),l=h,c=0;c<s.length;c++)s[c]=this.validateColor(s[c]);o.addColorStop(r[0]||0,null!=this.transparency?this.addColorTransparency(s[0]):s[0]);for(c=1;c<s.length;c++)o.addColorStop(r[c]||l,null!=this.transparency?this.addColorTransparency(s[0]):s[c]),l+=h;return o},this.getRadialGradient=function(t,e,i,a,s,r){r||this.saveCanvas();var n=i/5.5,o=this.getCanvasContext().createRadialGradient(t-n,e-n,1,t,e,i);a?this.validateColor(a)&&(!this.isArray(a)||a.length<2)&&(a=[a,"black"]):a=this.colorSpectrum,s&&this.isArray(s)||(s="Heatmap"==this.graphType?[]:this.colorSpectrumBreaks);var h=1/(a.length-1),l=h;o.addColorStop(s[0]||0,null!=this.transparency?this.addColorTransparency(a[0]):a[0]);for(var c=1;c<a.length;c++)o.addColorStop(s[c]||l,null!=this.transparency?this.addColorTransparency(a[0]):a[c]),l+=h;return o},this.colorRGBfromString=function(t){var e=t.match(/^\W*([0-9A-F]{3}([0-9A-F]{3})?)\W*$/i);e&&(6===e[1].length?this.colorFromRgb(parseInt(e[1].substr(0,2),16)/255,parseInt(e[1].substr(2,2),16)/255,parseInt(e[1].substr(4,2),16)/255):this.colorFromRgb(parseInt(e[1].charAt(0)+e[1].charAt(0),16)/255,parseInt(e[1].charAt(1)+e[1].charAt(1),16)/255,parseInt(e[1].charAt(2)+e[1].charAt(2),16)/255))},this.colorFromRgb=function(t,e,i){if(this.colorRGB){null!=t&&(this.colorRGB[0]=Math.min(Math.max(0,t),1)),null!=e&&(this.colorRGB[1]=Math.min(Math.max(0,e),1)),null!=i&&(this.colorRGB[2]=Math.min(Math.max(0,i),1));var a=this.rgbFromHsv(this.colorRGB[0],this.colorRGB[1],this.colorRGB[2]);null!=a[0]&&(this.colorHSV[0]=a[0]),0!=a[2]&&(this.colorHSV[1]=a[1]),this.colorHSV[2]=a[2]}},this.rgbFromHsv=function(t,e,i){var a=Math.min(Math.min(t,e),i),s=Math.max(Math.max(t,e),i),r=s-a;if(0==r)return[null,0,s];var n=t==a?3+(i-e)/r:e==a?5+(t-i)/r:1+(e-t)/r;return[6==n?0:n,r/s,s]},this.colorFromHsv=function(t,e,i){null!=t&&(this.colorHSV[0]=Math.min(Math.max(0,t),6)),null!=e&&(this.colorHSV[1]=Math.min(Math.max(0,e),1)),null!=i&&(this.colorHSV[2]=Math.min(Math.max(0,i),1)),this.colorRGB=this.hsvFromRgb(this.colorHSV[0],this.colorHSV[1],this.colorHSV[2])},this.hsvFromRgb=function(t,e,i){if(null==t)return[i,i,i];var a=Math.floor(t),s=i*(1-e),r=i*(1-e*(a%2?t-a:1-(t-a)));switch(a){case 0:return[i,r,s];case 1:return[r,i,s];case 2:return[s,i,r];case 3:return[s,r,i];case 4:return[r,s,i];case 5:case 6:return[i,s,r]}},this.colorRGBToString=function(){if(this.colorRGB)return(256|Math.round(255*this.colorRGB[0])).toString(16).substr(1)+(256|Math.round(255*this.colorRGB[1])).toString(16).substr(1)+(256|Math.round(255*this.colorRGB[2])).toString(16).substr(1)},this.getColorNames=function(){return this.sortObject(CanvasXpress.colorNames)},this.getColorSchemes=function(){return this.sortObject(CanvasXpress.colorSchemes)},this.getHexColor=function(t){if(/^#?[0-9a-fA-F]{6}$/i.test(t))return t.substring(t.length-6,t.length);if(/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/.test(t))return this.rgbToHex(t);var e=t.toLowerCase();if(CanvasXpress.colorNames.hasOwnProperty(e))return CanvasXpress.colorNames[e];throw new Error(t+" is not a valid color.")},this.getColorForValue=function(t,e){t||(t=this.meta.def.colorBrew);for(var i=0;i<t.breaks.length;i++)if(t.breaks[i]>=e)return t.colors[i];return t.colors[t.colors.length-1]},this.setColorForValues=function(t,e){var i=this,a=function(a){var s=function(i,s){var r=t.grads[a],n=r.min,o=r.max,h=r.scol.replace("#","").substring(i,s),l=r.ecol.replace("#","").substring(i,s),c=e<n?n:e>o?o:e,d=o-n,p=parseInt(h,16),g=(parseInt(l,16)-p)/d;isNaN(g)&&(g=0);var u=Math.round(g*(c-n)+p).toString(16);return 1==u.length?"0"+u:u},r=s(0,2),n=s(2,4),o=s(4,6);return i.hexToRgb("#"+r+n+o)};if(t||(t=this.meta.def.colorBrew),1==t.length)return a(0);for(var s=0;s<t.grads.length;s++)if(t.grads[s].min<=e&&t.grads[s].max>e)return a(s);var r=(t.max-t.min)/t.grads.length;s=Math.min(Math.floor((Math.max(e,t.min)-t.min)/r),t.grads.length-1);return isNaN(s)?"rgba(0,0,0,0)":a(s)},this.getColorBrew=function(t,e,i,a,s,r){var n=t||this.colorSpectrum,o="Genome"==this.graphType;null!=e&&null!=i&&e==i&&(i+=.1);var h,l,c=null!=e&&s&&s.length?Math.min(e,s[0]):null!=e?e:null!=this.minData?this.minData:0,d=null!=i&&s&&s.length?Math.max(i,s[s.length-1]):null!=i?i:null!=this.maxData?this.maxData:100,p=o||r||null==this.setMinX?null:this.setMinX,g=o||r||null==this.setMaxX?null:this.setMaxX,u=[];null==a?zero=(c+d)/2:(zero=a,(h=a-c)>(l=d-a)?d=a+h:c=a-l);var m=this[this.axisAlgorithm](Math.min(p||c,g||d),Math.max(p||c,g||d),5,this.axisWilkinsonLoose);d==Math.abs(c)&&0==a&&m.length%2&&(m[Math.floor(m.length/2)]=0);for(var f=(m[m.length-1]-m[0])/(n.length-1),y=this.getNumberDecimals(m[1]-m[0]),x=[],b=0;b<m.length;b++)x[b]=m[b].toFixed(y);var A=this.getMaxText(x),w=this.measureText(A.toString(),this.font),C=m[m.length-1]-m[0],T=[];if(s&&s.length>1&&s.length==n.length){for(b=0;b<s.length;b++)s[b]=Number(s[b]),T.push(this.formatNumber(s[b].toString()));A=this.getMaxText(T),w=this.measureText(A.toString(),this.font);var S=(s=s.sort((function(t,e){return t-e})))[0],D=Math.ceil(100/n.length)+1;for(b=1;b<s.length;b++){var M=s[b],k=this.seq(S,M,!1,D);S=k.pop(),u=u.concat(k)}u.push(S),this.colorSpectrumNumber=u.length}else u=this.seq(m[0],m[m.length-1],!1,this.colorSpectrumNumber);var L={spectrum:n,stops:s,z:a,colors:[],smooth:[],grads:[],rmin:c,rmax:d,min:s&&s.length>1?s[0]:m[0],max:s&&s.length>1?s[s.length-1]:m[m.length-1],range:C,zero:zero,vals:m,valStr:x,incr:f,decs:y,breaks:u,maxLevLen:w,maxLevChr:A.toString().length,maxLevStr:A};for(b=0;b<n.length-1;b++){var I={scol:this.getHexColor(n[b]),ecol:this.getHexColor(n[b+1]),min:s&&s.length>1?s[b]:m[0]+f*b,max:s&&s.length>1?s[b+1]:m[0]+f*(b+1)};L.grads.push(I)}for(b=0;b<this.colorSpectrumNumber;b++)v=this.setColorForValues(L,u[b]),L.colors.push(v);return L},this.setColorBrew=function(t,e){if(this.setColorSpectrum(),!this.meta.def.colorBrew||t)if(this.meta.vals.colors&&(this.meta.vals.colors={}),this.graphType.match(/Stacked/))this.meta.def.colorBrew=this.getColorBrew(this.colorSpectrum,this.minDataStacked,this.maxDataStacked,this.colorSpectrumZeroValue,this.colorSpectrumBreaks);else if(this.heatmapAutoAdjust||!this.meta.def.colorBrew)this.meta.def.colorBrew=this.getColorBrew(this.colorSpectrum,this.minData,this.maxData,this.colorSpectrumZeroValue,this.colorSpectrumBreaks);else{var i=this.meta.def.colorBrew;if(e)if(this.isTransformedData){var a=this.isHistogram?1e-6:this.minData,s=this.maxData;switch(this.isTransformedData){case"log2":a=Math.log(a)/Math.LN2,s=Math.log(s)/Math.LN2;break;case"log10":a=Math.log(a)/Math.LN10,s=Math.log(s)/Math.LN10;break;case"exp2":a=Math.pow(2,a),s=Math.pow(2,s);break;case"exp10":a=Math.pow(10,a),s=Math.pow(10,s)}this.isNumber(a,!0)&&this.isNumber(s,!0)||(a=this.min(this.data.y.trans),s=this.max(this.data.y.trans)),this.meta.def.colorBrew=this.getColorBrew(this.colorSpectrum,a,s,this.colorSpectrumZeroValue,this.colorSpectrumBreaks)}else this.meta.def.colorBrew=this.getColorBrew(this.colorSpectrum,this.minData||i.rmin,this.maxData||i.rmax,this.colorSpectrumZeroValue||i.z,this.colorSpectrumBreaks||i.stops);else this.meta.def.colorBrew=this.getColorBrew(this.colorSpectrum,i.rmin,i.rmax,i.z,i.stops)}},this.getCustomColorScheme=function(t,e){t||(t=8),e&&CanvasXpress.colorSchemes.hasOwnProperty(e)||(e=this.colorScheme);var i=this.getKeys(CanvasXpress.colorSchemes[e]);if(i.sort((function(t,e){return t-e})),CanvasXpress.colorSchemes[e]){if(CanvasXpress.colorSchemes[e][t])return CanvasXpress.colorSchemes[e][t];if(256==i[i.length-1]){for(var a=this.frac(t),s=[],r=0;r<t;r++){var n=Math.max(0,Math.min(255,Math.floor(256*a[r])));s.push(CanvasXpress.colorSchemes[e][256][n])}return s}if(t>i[i.length-1]){var o=t-i.length;for(t--;!CanvasXpress.colorSchemes[e][t];)t--;for(s=CanvasXpress.colorSchemes[e][t],r=0;r<o;r++)s.push(CanvasXpress.colorSchemes[e][t][r%CanvasXpress.colorSchemes[e][t].length]);return s}for(t++;!CanvasXpress.colorSchemes[e][t];)t++;return CanvasXpress.colorSchemes[e][t]}return this.colors},this.setColorSpectrum=function(){if(this.blindnessType&&!this.meta.def.colorSpectrum){this.meta.def.colorSpectrum=this.cloneObject(this.colorSpectrum);for(var t=[],e=0;e<this.colorSpectrum.length;e++)t.push(this.blindColor(this.colorSpectrum[e]));this.colorSpectrum=t,delete this.meta.def.colorBrew}else if(this.meta.def.colorSpectrum&&this.meta.def.blindnessTypeSpectrum!=this.blindnessType)if(this.blindnessType){for(t=[],e=0;e<this.colorSpectrum.length;e++)t.push(this.blindColor(this.colorSpectrum[e]));this.colorSpectrum=t,delete this.meta.def.colorBrew}else this.colorSpectrum=this.cloneObject(this.meta.def.colorSpectrum);this.meta.def.blindnessTypeSpectrum=this.blindnessType},this.setColorScheme=function(t){var e,i=this,a=!1;if("User"==this.colorScheme)e=this.cloneObject(this.colors);else if("ColorSpectrum"==this.colorScheme){var s=this.colorSpectrumNumber;this.colorSpectrumNumber="Circular"==this.graphType?Math.max(this.data.y.vars.length,this.data.y.smps.length):this.data.y.vars.length,e=this.getColorBrew(this.colorSpectrum,0,this.data.y.vars.length).colors,this.colorSpectrumNumber=s}else if(CanvasXpress.colorSchemes[this.colorScheme]){var r,n=this.getKeys(CanvasXpress.colorSchemes[this.colorScheme]);if(n.sort((function(t,e){return t-e})),n=parseInt(n[n.length-1]),r=t&&"String"==t.type?t.levels.length:this.graphType.match(/Scatter/)?this.layoutValid?function(t){if(i.data[t]){if(i.colorBy)return i.data[t].hasOwnProperty(i.colorBy)&&i.meta.data[t][i.colorBy].colors?i.meta.data[t][i.colorBy].colors.length:i.data.y.smps.length;var e=i.data.y.smps.length;for(var a in i.meta.data[t])i.meta.data[t][a].levels&&(e=Math.max(e,i.meta.data[t][a].levels.length));return e}return i.data.y.smps.length}("z"):this.colorBy&&this.meta.data.hasOwnProperty("z")&&this.meta.data.z.hasOwnProperty(this.colorBy)&&this.meta.data.z[this.colorBy].colors?this.meta.data.z[this.colorBy].levels.length:this.data.y.smps.length:this.graphType.match(/Treemap|TagCloud|Sankey|Tree|Circular/)?this.colorBy&&this.data.x&&this.data.x.hasOwnProperty(this.colorBy)&&this.meta.data.x[this.colorBy].colors?this.meta.data.x[this.colorBy].colors.length:this.data.y.smps.length:this.graphType.match(/Venn/)?this.vennGroups:this.graphType.match(/Pie/)?this.data.y.vars.length:this.graphType.match(/Network|Genome|Correlation/)?n:"ParallelCoordinates"==this.graphType?this.colorBy&&this.data.x&&this.data.x.hasOwnProperty(this.colorBy)&&this.meta.data.x[this.colorBy].colors?this.meta.data.x[this.colorBy].colors.length:this.data.y.smps.length:!this.graphType.match(/BarLine|DotLine/)||!this.coordinateLineColor||this.isGroupedData&&this.colorBy?this.colorBy&&this.data.x&&this.data.x.hasOwnProperty(this.colorBy)?this.meta.data.x[this.colorBy].colors?this.meta.data.x[this.colorBy].colors.length:this.meta.data.x[this.colorBy].levels?this.meta.data.x[this.colorBy].levels.length:this.data.y.vars.length:this.data.y.vars.length:Math.max(this.xAxis.length,this.xAxis2.length),CanvasXpress.colorSchemes[this.colorScheme][r])e=CanvasXpress.colorSchemes[this.colorScheme][r];else{if(r>n)for(r--;!CanvasXpress.colorSchemes[this.colorScheme][r];)r--;else for(r++;!CanvasXpress.colorSchemes[this.colorScheme][r];)r++;e=CanvasXpress.colorSchemes[this.colorScheme][r]}this.meta.def.colors&&(this.meta.def.colors=this.cloneObject(e),a=!0)}else e=CanvasXpress.colorSchemes.Balanced[20];if(this.blindnessType&&!this.meta.def.colors||a){if(this.meta.def.colors=this.cloneObject(e),this.blindnessType){for(var o=[],h=0;h<e.length;h++)o.push(this.blindColor(e[h]));e=o}}else if(this.meta.def.colors&&this.meta.def.blindnessTypeColors!=this.blindnessType&&(e=this.cloneObject(this.meta.def.colors),this.blindnessType)){for(o=[],h=0;h<e.length;h++)o.push(this.blindColor(e[h]));e=o}this.meta.def.blindnessTypeColors=this.blindnessType;for(h=0;h<e.length;h++)e[h]=this.validateColor(e[h]);t||(this.colors=e),this.updateMetaDataColors(e,t)},this.validateUserColors=function(){for(var t=[],e=0;e<this.colors.length;e++)t.push(this.validateColor(this.colors[e]));t.length>0&&(this.colors=t);var i=[];for(e=0;e<this.colorSpectrum.length;e++)i.push(this.validateColor(this.colorSpectrum[e]));i.length>0&&(this.colorSpectrum=i)}},CanvasXpress.prototype.initAttributes=function(){this.setStyle=function(t,e,i,a){a||(a=this.getCanvasContext()),null!=this.transparency&&(t=this.addColorTransparency(t,this.transparency,!0)),a.fillStyle=t,a.strokeStyle=t,a.lineWidth=e||this.outlineWidth,a.lineCap=i||this.capType,this.setShadow(!0,a)},this.setClipBoundaries=function(t){var e,i,a,s;return t&&4==t.length?(e=t[0],i=t[1],a=t[2],s=t[3]):(e=this.marginLeft+this.offsetX+this.left-1,i=this.marginTop+this.offsetY+this.top-1,a=this.x+2,s=this.y+2),[e,i,a,s]},this.setClipArea=function(t,e){var i,a,s,r;"Tree"!=this.graphType&&(e||(e=this.getCanvasContext()),this.saveCanvas(e),t?(i=t[0],a=t[1],s=t[2],r=t[3]):(i=this.marginLeft+this.offsetX+this.left,a=this.marginTop+this.offsetY+this.top,s=this.x+1,r=this.y+1),e.rect(i,a,s,r),e.clip(),this.meta.state.clip=[i,a,s,r])},this.resetClipArea=function(t){"Tree"!=this.graphType&&(this.restoreCanvas(t),this.setClipArea([0,0,0,0],t),this.restoreCanvas(t),this.meta.state.clip=!1)},this.resetStyle=function(t){this.setShadow(!1,t)},this.setShadow=function(t,e){if(this.showShadow){e||(e=this.getCanvasContext());t?(e.shadowOffsetX=this.shadowOffsetX,e.shadowOffsetY=this.shadowOffsetY,e.shadowBlur=this.shadowBlur,e.shadowColor=this.shadowColor):(e.shadowOffsetX=0,e.shadowOffsetY=0,e.shadowBlur=0,e.shadowColor=this.background,e.strokeStyle="rgba(255,255,255,0)",e.fillStyle="rgba(255,255,255,0)")}},this.lineTo=function(t,e,i,a,s){if("Network"==this.graphType)return this.lineRawTo(t,e,i,a,s);var r=~~(t+.5),n=~~(e+.5),o=~~(i+.5),h=~~(a+.5);if(1==Math.abs(r-o)?o=r=(r+o)/2:(r+=.5,o+=.5),1==Math.abs(n-h)?h=n=(n+h)/2:(n+=.5,h+=.5),s||(s=this.getCanvasContext()),r==o&&n==h){var l=this.lineThickness/1.5;s.fillRect(r,n,l,l)}else s.moveTo(r,n),s.lineTo(o,h);s.stroke()},this.lineRawTo=function(t,e,i,a,s){s||(s=this.getCanvasContext()),s.moveTo(t,e),s.lineTo(i,a),s.stroke()},this.lineToOld=function(t,e,i,a,s){t==i?i=t=.5+(t+.5<<1>>1):e==a&&(a=e=.5+(e+.5<<1>>1)),s||(s=this.getCanvasContext()),s.moveTo(t,e),s.lineTo(i,a),s.stroke()},this.bitCode=function(t,e){var i=0;return t[0]<e[0]?i|=1:t[0]>e[2]&&(i|=2),t[1]<e[1]?i|=4:t[1]>e[3]&&(i|=8),i},this.intersect=function(t,e,i,a){return 8&i?[t[0]+(e[0]-t[0])*(a[3]-t[1])/(e[1]-t[1]),a[3]]:4&i?[t[0]+(e[0]-t[0])*(a[1]-t[1])/(e[1]-t[1]),a[1]]:2&i?[a[2],t[1]+(e[1]-t[1])*(a[2]-t[0])/(e[0]-t[0])]:1&i?[a[0],t[1]+(e[1]-t[1])*(a[0]-t[0])/(e[0]-t[0])]:null},this.lineClip=function(t,e,i){var a,s,r,n;e||((e=this.setClipBoundaries())[2]+=e[0],e[3]+=e[1]),i||(i=[]);for(var o=t.length,h=this.bitCode(t[0],e),l=[],c=1;c<o;c++){for(a=t[c-1],s=t[c],r=n=this.bitCode(s,e);;){if(!(h|r)){l.push(a),r!==n?(l.push(s),c<o-1&&(i.push(l),l=[])):c===o-1&&l.push(s);break}if(h&r)break;h?(a=this.intersect(a,s,h,e),h=this.bitCode(a,e)):(s=this.intersect(a,s,r,e),r=this.bitCode(s,e))}h=n}return l.length&&i.push(l),i},this.polygonClip=function(t,e,i){var a,s,r,n,o;if(e||((e=this.setClipBoundaries())[2]+=e[0],e[3]+=e[1]),i){xy=[];for(var h=1;h<t.length;h+=2)xy.push([t[h],t[h+1]])}else xy=t;for(var l=1;l<=8;l*=2){a=[],s=xy[xy.length-1],r=!(this.bitCode(s,e)&l);for(h=0;h<xy.length;h++)n=xy[h],(o=!(this.bitCode(n,e)&l))!==r&&a.push(this.intersect(s,n,l,e)),o&&a.push(n),s=n,r=o;if(xy=a,!xy.length)break}if(i){t=["poly"];for(h=0;h<a.length;h++)t.push(a[h][0]),t.push(a[h][1]);return t}return a},this.lineIntersect=function(t,e,i,a,s,r,n,o){if(t===i&&e===a||s===n&&r===o)return!1;var h=(o-r)*(i-t)-(n-s)*(a-e);if(0===h)return!1;var l=((n-s)*(e-r)-(o-r)*(t-s))/h,c=((i-t)*(e-r)-(a-e)*(t-s))/h;return!(l<0||l>1||c<0||c>1)&&[t+l*(i-t),e+l*(a-e)]},this.clip=function(t,e,i){var a,s,r,n,o,h,l=[];i||(i=this.setClipBoundaries());var c=i[0],d=i[1],p=i[2],g=i[3];switch(t){case"path":l[0]=[],l[1]=[];for(var u=0;u<e[0].length;u++)((s=e[0][u])<c||s>p)&&(s=null),((n=e[1][u])<d||n>g)&&(n=null),l[0].push(s),l[1].push(n);break;case"arrow":case"box":case"rect":case"rectangle":case"rect2":case"rect3":case"roundrect":case"roundrectt":case"roundrectb":case"roundrectr":case"roundrectl":case"roundrecttr":case"roundrecttl":case"roundrectbr":case"roundrectbl":case"roundrect2":case"roundrectd":case"roundrecto":if(a=this.parseInt(e[0]-e[2]/2),r=this.parseInt(e[1]-e[3]/2),s=this.parseInt(a+e[2]),n=this.parseInt(r+e[3]),s>a)if(n>r){if(a>p+this.outlineWidth||r>g+this.outlineWidth||s<c||n<d)return!1;a<c&&(a=c),s>p&&(s=p),r<d&&(r=d),n>g&&(n=g)}else{if(a>p+this.outlineWidth||n>g+this.outlineWidth||s<c||r<d)return!1;a<c&&(a=c),s>p&&(s=p),r>g&&(r=g),n<d&&(n=d)}else if(n>r){if(s>p+this.outlineWidth||r>g+this.outlineWidth||a<c||n<d)return!1;a>p&&(a=p),s<c&&(s=c),r<d&&(r=d),n>g&&(n=g)}else{if(s>p+this.outlineWidth||n>g+this.outlineWidth||a<c||r<d)return!1;a>p&&(a=p),s<c&&(s=c),r>g&&(r=g),n<d&&(n=d)}l=[a,r,s-a,n-r];break;case"poly":break;case"circle":case"sphere":case"square":case"triangle":case"triangle2":case"equilateral":case"equilateral2":case"diamond":case"rhombus":case"pentagon":case"hexagon":case"octagon":case"oval":case"oval2":case"oval3":case"arc":case"arc2":case"ellipse":case"ellipse2":case"ellipse3":case"plus":case"minus":case"mdavid":case"star":case"pie":case"pie0":case"pie1":case"pie2":case"pie3":case"pie4":case"pie5":case"pie6":case"pie7":case"pie8":case"pie9":case"pacman":case"pacman2":if(a=parseInt(e[0]),r=parseInt(e[1]),a>c+p||a<c||r<d||r>d+g)return!1;l=[a,r];break;case"line":if(a=parseFloat(e[0]),r=parseFloat(e[1]),s=parseFloat(e[2]),n=parseFloat(e[3]),a==s){if(a<c||a>p)return!1;if(r>n){if(r<d)return!1;if(r>g&&(r=g),n>g)return!1;n<d&&(n=d)}else{if(r>g)return!1;if(r<d&&(r=d),n<d)return!1;n>g&&(n=g)}}else if(r==n){if(r<d||r>g)return!1;if(a>s){if(a<c)return!1;if(a>p&&(a=p),s>p)return!1;s<c&&(s=c)}else{if(a>p)return!1;if(a<c&&(a=c),s<c)return!1;s>p&&(s=p)}}else if(a>s){if(a<c||s>p)return!1;if(r>n){if(r<d||n>g)return!1;o=r-n,h=a-s,a>p&&(r-=(a-p)*o/h,a=p),r>g&&(a-=(r-g)*h/o,r=g),s<c&&(n+=(c-s)*o/h,s=c),n<d&&(s+=(d-n)*h/o,n=d)}else{if(n<d||r>g)return!1;o=n-r,h=a-s,a>p&&(r+=(a-p)*o/h,a=p),r<d&&(a-=(d-r)*h/o,r=d),s<c&&(n-=(c-s)*o/h,s=c),n>g&&(s+=(n-g)*h/o,n=g)}}else{if(s<c||a>p)return!1;if(r>n){if(r<d||n>g)return!1;o=r-n,h=s-a,a<c&&(r-=(c-a)*o/h,a=c),r>g&&(a+=(r-g)*h/o,r=g),s>p&&(n+=(s-p)*o/h,s=p),n<d&&(s-=(d-n)*h/o,n=d)}else{if(n<d||r>g)return!1;o=n-r,h=s-a,a<c&&(r+=(c-a)*o/h,a=c),r<d&&(a+=(d-r)*h/o,r=d),s>p&&(n-=(s-p)*o/h,s=p),n>g&&(s-=(n-g)*h/o,n=g)}}l=[a,r,s,n];break;default:return!1}return l},this.getLineArea=function(t,e,i,a,s,r,n,o,h,l,c,d,p,g,u,m){var f=Math.max(n||1,this.lineWidthEvent),y=[],x=["poly"];if((t=this.validateBezier(t,e,i,a,s,h,l)).match(/error/)){if(!this.showErrorBars||!this.isNumeric([e,i,a,s,n]))return!1;e=Math.ceil(e),a=Math.ceil(a),i=Math.ceil(i),s=Math.ceil(s);var b=(n=Math.ceil(n))/2;x=n>0?["poly",e,i-f,a-f,s-f,a-f,s-b,a+f,s-b,a+f,s+b,a-f,s+b,a-f,s+f,e,i+f]:["poly",a-f,s+f,a-b,s+f,a-b,s-f,a+b,s-f,a+b,s+f,a+f,s+f,e+f,i,e-f,i]}else if("spline"==t||"cardinalSpline"==t){if(e.length<3)return!(e.length<2)&&this.getLineArea("line",e[0],i[0],e[1],i[1],r,n,o,h,l,c,d,p,g,u);for(var v=0;v<e.length;v++)x.push(e[v],i[v]-f),y.push(i[v]+f,e[v]);x=x.concat(y.reverse())}else if("arch"==t){if(3!=e.length||3!=i.length)return!1;for(v=0;v<e.length;v++)if(!this.isNumeric([e[v],i[v]]))return!1;y=this.traceQuadraticCurve(e[0],i[0],e[1],i[1],e[2],i[2],.25,!0);for(v=0;v<y.length;v++)x.push(y[v][0],y[v][1]);y=this.traceQuadraticCurve(e[0],i[0],e[1],i[1],e[2],i[2],.25);for(v=0;v<y.length;v++)x.push(y[v][0],y[v][1])}else if("arc"==t){x=["poly"],y=this.traceArc1(e,i,a,h,l,!0);for(v=0;v<y.length;v++)x.push(y[v][0],y[v][1]);y=this.traceArc1(e,i,a-f,h,l);for(v=0;v<y.length;v++)x.push(y[v][0],y[v][1])}else if("quadratic"==t){var A=this.perpendicularLinePoints(e,i,a,s,!1,Math.min(1,this.arrowQuadraticFactor*Math.abs(p))*(p>0?-1:1)),w=this.shortenLine(e,i,a,s,h,l,t,p),C=this.parallelLinePoints(w[0],w[1],A[0],A[1],f),T=this.parallelLinePoints(A[0],A[1],w[2],w[3],f);y=this.traceQuadraticCurve(C[0],C[1],C[4],C[5],T[4],T[5],.1,!0);for(v=0;v<y.length;v++)x.push(y[v][0],y[v][1]);var S=[];y=this.traceQuadraticCurve(C[2],C[3],C[6],C[7],T[6],T[7],.1,!0);for(v=0;v<y.length;v++)S.push(y[v][1],y[v][0]);x=x.concat(S.reverse())}else if("roundLine"==t)x=["poly",e-f,i,e-f,s+f,a,s+f,a,s-f,e+f,s-f,e+f,i];else{if(!this.isNumeric([e,i,a,s]))return!1;var D=this.shortenLine(e,i,a,s,h||0,l||0,t);if(e=D[0],i=D[1],a=D[2],s=D[3],c){if(!(D=this.clip("line",[e,i,a,s],d)))return!1;e=D[0],i=D[1],a=D[2],s=D[3]}if(p&&this.isArray(p)&&p.length>0){if(!this.isNumeric2DArray(p))return!1;if(t.match(/bezier/i))if(6==p[0].length){var M=[p[0][0],p[0][1]];for(v=0;v<p.length;v++)M=M.concat(p[v]);M.push(p[p.length-1][0],p[p.length-1][1]);var k=this.cloneObject(M);for(v=0;v<p.length;v++){y=this.traceBezierCurve(k[0],k[1]-f,k[2],k[3]-f,k[4],k[5]-f,k[6],k[7]-f,.1,!0);for(var L=0;L<y.length;L++)x.push(y[L][0],y[L][1]);for(L=0;L<6;L++)k.shift()}k=this.cloneObject(M);for(S=[],v=0;v<p.length;v++){y=this.traceBezierCurve(k[0],k[1]+f,k[2],k[3]+f,k[4],k[5]+f,k[6],k[7]+f,.1,!0);for(L=0;L<y.length;L++)S.push(y[L][1],y[L][0]);for(L=0;L<6;L++)k.shift()}x=x.concat(S.reverse())}else if(4==p.length){C=this.parallelLinePoints(p[0][0],p[0][1],p[1][0],p[1][1],f),T=this.parallelLinePoints(p[2][0],p[2][1],p[3][0],p[3][1],f);y=this.traceBezierCurve(C[0],C[1],C[4],C[5],T[0],T[1],T[4],T[5],.1,!0);for(L=0;L<y.length;L++)x.push(y[L][0],y[L][1]);y=this.traceBezierCurve(C[2],C[3],C[6],C[7],T[2],T[3],T[6],T[7],.1,!0);for(S=[],L=0;L<y.length;L++)S.push(y[L][1],y[L][0]);x=x.concat(S.reverse())}else{x=["poly",(q=this.parallelLinePoints(p[0][0],p[0][1],p[p.length-1][0],p[p.length-1][1],f))[0],q[1],q[2],q[3],q[6],q[7],q[4],q[5]]}else if(p.length>2){x=["poly"];var I=[];for(v=0;v<p.length-1;v++)I.push([p[v][0],p[v][1]]);for(v=p.length-1;v>=1;v--)I.push([p[v][0],p[v][1]]);y=this.enlargePolygon(I,f,1);for(v=0;v<y.length;v++)x.push(y[v][0],y[v][1])}else{x=["poly",(q=this.parallelLinePoints(p[0][0],p[0][1],p[1][0],p[1][1],f))[0],q[1],q[2],q[3],q[6],q[7],q[4],q[5]]}}else if(t.match(/curved/i)){var B=e==a&&i==s&&m,N=this.lineMidPoint(e,i,a,s),F=this.lineLength(e,i,N[0],N[1]),P=(h||0)/F,R=(l||0)/F,O=!(t.match(/curvedcc/i)&&e>a)&&(!t.match(/curvedcc/i)&&a>=e),X=a>=e?Math.asin((N[1]-i)/F):Math.asin(-(N[1]-i)/F),z=X+Math.PI,E=[];if(B){X<0&&(X+=2*Math.PI);var _=1.25*m.size,H=m.size/1.25;switch(m.pos){case"top":E=[e,i-_,H,.75*Math.PI,.25*Math.PI,!1];break;case"topRight":E=[e+_,i-_,H,Math.PI,.5*Math.PI,!1];break;case"right":E=[e+_,i,H,1.25*Math.PI,.75*Math.PI,!1];break;case"bottomRight":E=[e+_,i+_,H,1.5*Math.PI,Math.PI,!1];break;case"bottom":E=[e,i+_,H,1.75*Math.PI,1.25*Math.PI,!1];break;case"bottomLeft":E=[e-_,i+_,H,0,1.5*Math.PI,!1];break;case"left":E=[e-_,i,H,.25*Math.PI,1.75*Math.PI,!1];break;case"topLeft":E=[e-_,i-_,H,.5*Math.PI,0,!1]}}else E=a>=e?[N[0],N[1],Math.max(0,F),X-R,z+P,O]:[N[0],N[1],Math.max(0,F),X+P,z-R,O];x=["poly"],y=this.traceArc(E[0],E[1],E[2]+f,E[3],E[4],E[5]);for(v=0;v<y.length;v++)x.push(y[v][0],y[v][1]);y=this.traceArc(E[0],E[1],E[2]-f,E[3],E[4],!E[5]);for(v=0;v<y.length;v++)x.push(y[v][0],y[v][1])}else if(t.match(/bezier/i)){var V=(e+a)/2,G=(i+s)/2;y=t.match(/beziery/i)?this.traceBezierCurve(e,i-f,e,G-f,a,G-f,a,s-f,.25,!0):this.traceBezierCurve(e,i-f,V,i-f,V,s-f,a,s-f,.25,!0);for(v=0;v<y.length;v++)x.push(y[v][0],y[v][1]);y=t.match(/beziery/i)?this.traceBezierCurve(e,i+f,e,G+f,a,G+f,a,s+f,.25):this.traceBezierCurve(e,i+f,V,i+f,V,s+f,a,s+f,.25);for(v=0;v<y.length;v++)x.push(y[v][0],y[v][1])}else{var q;if(e==a&&i!=s)x=["poly",e-f,i,e+f,i,a+f,s,a-f,s];else if(i==s&&e!=a)x=["poly",e,i-f,a,i-f,a,s+f,e,s+f];else x=["poly",(q=this.parallelLinePoints(e,i,a,s,f))[0],q[1],q[2],q[3],q[6],q[7],q[4],q[5]]}}return"Network"==this.graphType?this.preScaleNetwork&&!this.isAnimation?x:this.adjustNetworkObjects(x):x},this.setDashDot=function(t,e){e||(e=this.getCanvasContext());var i=[];this.tempCap=e.lineCap,t.match(/blank/i)?i=CanvasXpress.R.lty[0]:t.match(/solid/i)?i=CanvasXpress.R.lty[1]:t.match(/dashed/i)?(i=CanvasXpress.R.lty[2],i=[this.dashLength,this.dashLength-2]):t.match(/dotted/i)?(i=CanvasXpress.R.lty[3],i=[this.dotLength,this.dotLength+2]):t.match(/dotdash/i)?i=CanvasXpress.R.lty[4]:t.match(/longdash/i)?i=CanvasXpress.R.lty[5]:t.match(/twodash/i)&&(i=CanvasXpress.R.lty[6]),e.setLineDash(i)},this.resetDashDot=function(t){t||(t=this.getCanvasContext()),t.lineCap=this.tempCap,t.setLineDash([])},this.validateBezier=function(t,e,i,a,s,r,n){if(this.adjustBezier){if(t.match(/bezier/i)&&(e==a||i==s))return"line";Math.abs(a-e)>=Math.abs(s-i)?t.match(/beziery/i)&&(t=(t=t.replace("beziery","bezier")).replace("bezierY","bezier")):t.match(/bezierx/i)?t=(t=t.replace("bezierx","beziery")).replace("bezierX","bezierY"):t.match(/bezier/i)&&(t=t.replace("bezier","bezierY")),null!=r&&null!=n&&(t.match(/beziery/i)?s>i?i+r>s-n&&(t="line"):i-r<s+n&&(t="line"):t.match(/beziery/i)&&(a>e?e+r>a-n&&(t="line"):e-r<a+n&&(t="line")))}return t},this.drawLine=function(t,e,i,a,s,r,n,o,h,l,c,d,p,g,u,m,f,y){y||(y=this.getCanvasContext()),this.setDashDot(t,y),t=this.validateBezier(t,e,i,a,s,h,l);var x=!1,b=function(t){switch(t){case"arrow":x=0;break;case"square":x=1;break;case"round":x=2;break;case"roundDocked":x=!1}};if(t.match(/error/)){if(this.showErrorBars&&this.isNumeric([e,i,a,s,n])){e=Math.ceil(e),a=Math.ceil(a),i=Math.ceil(i),s=Math.ceil(s);var v=(n=Math.ceil(n))/2;this.setStyle(r,!1,o,y),this.isColorTransparent(r,!0)||(y.beginPath(),this.lineTo(e,i,a,s,y),Math.abs(n)>this.errorBarsWidth&&(n>0?this.lineTo(a,s-v,a,s+v,y):this.lineTo(a-v,s,a+v,s,y)))}this.resetStyle(y)}else if(t.match(/spline|cardinalSpline/i)){if(e.length<3)return!(e.length<2)&&this.drawLine(t.match(/dashedSpline/i)?"dashedLine":"line",e[0],i[0],e[1],i[1],r,n,o,h,l,c,d,p,g,u,!1,!1,y);for(var A=[],w=[],C=0,T=0;T<e.length;T++){if(!this.isNumeric([e[T],i[T]]))return;w.push(e[T],i[T]),C+=2}if(this.setStyle(r,n,o,y),!this.isColorTransparent(r,!0))if(t.match(/spline/i)){for(T=0;T<C-4;T+=2)A=A.concat(this.splineControlPoint(w[T],w[T+1],w[T+2],w[T+3],w[T+4],w[T+5]));y.beginPath(),y.moveTo(w[0],w[1]),y.quadraticCurveTo(A[0],A[1],w[2],w[3]);for(T=2;T<C-5;T+=2)y.bezierCurveTo(A[2*T-2],A[2*T-1],A[2*T],A[2*T+1],w[T+2],w[T+3]);y.moveTo(w[C-2],w[C-1]),y.quadraticCurveTo(A[2*C-10],A[2*C-9],w[C-4],w[C-3]),y.stroke()}else{w=this.curvePoints(w),y.beginPath(),y.moveTo(w[0],w[1]);for(T=2;T<w.length-1;T+=2)y.lineTo(w[T],w[T+1]);y.stroke()}this.resetStyle(y)}else if(t.match(/arch/)){if(3!=e.length||3!=i.length)return!1;for(T=0;T<e.length;T++)if(!this.isNumeric([e[T],i[T]]))return!1;this.setStyle(r,n,o,y),this.isColorTransparent(r,!0)||(y.beginPath(),y.moveTo(e[0],i[0]),y.quadraticCurveTo(e[1],i[1],e[2],i[2]),y.stroke()),this.resetStyle(y)}else if("arc"==t)this.setStyle(r,n,o,y),y.beginPath(),y.arc(e,i,Math.max(0,a),h,l,!1),y.stroke(),this.resetStyle(y);else if("quadratic"==t){this.setStyle(r,n,o,y);var S=this.perpendicularLinePoints(e,i,a,s,!1,Math.min(1,this.arrowQuadraticFactor*Math.abs(p))*(p>0?-1:1)),D=this.shortenLine(e,i,a,s,h,l,t,p),M=this.traceQuadraticCurve(D[0],D[1],S[0],S[1],D[2],D[3],.1,!0);y.beginPath(),y.moveTo(D[0],D[1]),y.quadraticCurveTo(S[0],S[1],D[2],D[3]),y.stroke(),this.resetStyle(y),u&&(e=M[9][0],i=M[9][1],a=D[2],s=D[3],b(u),this.drawArrowHead(e,i,a,s,r,n,x,!1,y)),g&&(e=M[1][0],i=M[1][1],a=D[0],s=D[1],b(g),this.drawArrowHead(e,i,a,s,r,n,x,!0,y))}else if("roundLine"==t)this.setStyle(r,n,o,y),y.beginPath(),y.moveTo(e,i),i>s?(y.lineTo(e,s+this.roundedPolygonRadius),e>a?y.quadraticCurveTo(e,s,e+this.roundedPolygonRadius,s):y.quadraticCurveTo(e,s,e-this.roundedPolygonRadius,s)):(y.lineTo(e,s-this.roundedPolygonRadius),e>a?y.quadraticCurveTo(e,s,e-this.roundedPolygonRadius,s):y.quadraticCurveTo(e,s,e+this.roundedPolygonRadius,s)),y.lineTo(a,s),y.stroke(),this.resetStyle(y),u&&(b(u),this.drawArrowHead(e,s,a,s,r,n,x,!1,y)),g&&(b(g),this.drawArrowHead(e,s,a,s,r,n,x,!0,y));else{if(!this.isNumeric([e,i,a,s]))return this.resetDashDot(y),!1;var k=this.shortenLine(e,i,a,s,h||0,l||0,t);if(e=k[0],i=k[1],a=k[2],s=k[3],c){if(!(k=this.clip("line",[e,i,a,s],d)))return!1;e=k[0],i=k[1],a=k[2],s=k[3]}if(p&&this.isArray(p)&&p.length>0){var L=p.length-1;if(!this.isNumeric2DArray(p))return!1;if(this.setStyle(r,n,o,y),t.match(/bezier/i)){if(!this.isColorTransparent(r,!0))if(6==p[0].length){y.beginPath(),y.moveTo(p[0][0],p[0][1]);for(T=0;T<p.length;T++)y.bezierCurveTo(p[T][0],p[T][1],p[T][2],p[T][3],p[T][4],p[T][5]);y.stroke(),u&&(M=this.traceBezierCurve(p[L][0],p[L][1],p[L][0],p[L][1],p[L][2],p[L][3],p[L][4],p[L][5],.1,!0),e=M[9][0],i=M[9][1],a=M[10][0],s=M[10][1],b(u),this.drawArrowHead(e,i,a,s,r,n,x,!1,y)),g&&(M=this.traceBezierCurve(p[0][0],p[0][1],p[0][0],p[0][1],p[0][2],p[0][3],p[0][4],p[0][5],.1,!0),e=M[1][0],i=M[1][1],a=M[0][0],s=M[0][1],b(g),this.drawArrowHead(e,i,a,s,r,n,x,!0,y))}else if(4==p.length){y.beginPath(),y.moveTo(p[0][0],p[0][1]),y.bezierCurveTo(p[1][0],p[1][1],p[2][0],p[2][1],p[3][0],p[3][1]),y.stroke();M=this.traceBezierCurve(p[0][0],p[0][1],p[1][0],p[1][1],p[2][0],p[2][1],p[3][0],p[3][1],.1,!0);u&&(e=M[9][0],i=M[9][1],a=p[3][0],s=p[3][1],b(u),this.drawArrowHead(e,i,a,s,r,n,x,!1,y)),g&&(e=M[1][0],i=M[1][1],a=p[1][0],s=p[1][1],b(g),this.drawArrowHead(e,i,a,s,r,n,x,!0,y))}else y.beginPath(),y.moveTo(p[0][0],p[0][1]),this.lineTo(p[L][0],p[L][1],!1,!1,y),y.stroke(),u&&(e=p[L-1][0],i=p[L-1][1],a=p[L][0],s=p[L][1],b(u),this.drawArrowHead(e,i,a,s,r,n,x,!1,y)),g&&(e=p[0][0],i=p[0][1],a=p[1][0],s=p[1][1],b(g),this.drawArrowHead(e,i,a,s,r,n,x,!0,y))}else if(!this.isColorTransparent(r,!0)){y.beginPath(),this.lineTo(p[0][0],p[0][1],p[1][0],p[1][1],y);for(T=1;T<L;T++)this.lineTo(p[T][0],p[T][1],p[T+1][0],p[T+1][1],y);u&&(e=p[L-1][0],i=p[L-1][1],a=p[L][0],s=p[L][1],b(u),this.drawArrowHead(e,i,a,s,r,n,x,!1,y)),g&&(e=p[0][0],i=p[0][1],a=p[1][0],s=p[1][1],b(g),this.drawArrowHead(e,i,a,s,r,n,x,!0,y))}this.resetStyle(y)}else if(t.match(/curved/i)){var I=e==a&&i==s&&m,B=this.lineMidPoint(e,i,a,s),N=this.lineLength(e,i,B[0],B[1]),F=(h||0)/N,P=(l||0)/N,R=!(t.match(/curvedcc/i)&&e>a)&&(!t.match(/curvedcc/i)&&a>=e),O=a>=e?Math.asin((B[1]-i)/N):Math.asin(-(B[1]-i)/N),X=O+Math.PI,z=[];if(this.setStyle(r,n,o,y),!this.isColorTransparent(r,!0)){if(y.beginPath(),I){O<0&&(O+=2*Math.PI),m.dir?(u=!1,g=m.end):(u=m.end,g=!1);var E=1.25*m.size,_=m.size/1.25;switch(m.pos){case"top":z=[e,i-E,_,.75*Math.PI,.25*Math.PI,!1];break;case"topRight":z=[e+E,i-E,_,Math.PI,.5*Math.PI,!1];break;case"right":z=[e+E,i,_,1.25*Math.PI,.75*Math.PI,!1];break;case"bottomRight":z=[e+E,i+E,_,1.5*Math.PI,Math.PI,!1];break;case"bottom":z=[e,i+E,_,1.75*Math.PI,1.25*Math.PI,!1];break;case"bottomLeft":z=[e-E,i+E,_,0,1.5*Math.PI,!1];break;case"left":z=[e-E,i,_,.25*Math.PI,1.75*Math.PI,!1];break;case"topLeft":z=[e-E,i-E,_,.5*Math.PI,0,!1]}}else z=a>=e?[B[0],B[1],Math.max(0,N),O-P,X+F,R]:[B[0],B[1],Math.max(0,N),O+F,X-P,R];y.arc(z[0],z[1],z[2],z[3],z[4],z[5]);M=this.traceArc(z[0],z[1],z[2],z[3],z[4],z[5]);y.stroke()}this.resetStyle(y),u&&(b(u),e=M[15][0],i=M[15][1],a=M[16][0],s=M[16][1],this.drawArrowHead(e,i,a,s,r,n,x,!1,y)),g&&(e=M[1][0],i=M[1][1],a=M[0][0],s=M[0][1],b(g),this.drawArrowHead(e,i,a,s,r,n,x,!0,y))}else if(t.match(/bezier/i)){var H=(e+a)/2,V=(i+s)/2;this.setStyle(r,n,o,y),this.isColorTransparent(r,!0)||(y.beginPath(),y.moveTo(e,i),"Tree"==this.graphType&&this.treeCircular&&f?(y.bezierCurveTo(f[2],f[3],f[0],f[1],a,s),M=this.traceBezierCurve(e,i,f[0],f[1],f[0],f[1],a,s,.1,!0)):t.match(/beziery/i)?(y.bezierCurveTo(e,V,a,V,a,s),M=this.traceBezierCurve(e,i,e,V,a,V,a,s,.1,!0)):(y.bezierCurveTo(H,i,H,s,a,s),M=this.traceBezierCurve(e,i,H,i,H,s,a,s,.1,!0)),y.stroke()),this.resetStyle(y),u&&(e=M[9][0],i=M[9][1],a=M[10][0],s=M[10][1],b(u),this.drawArrowHead(e,i,a,s,r,n,x,!1,y)),g&&(a=M[0][0],s=M[0][1],e=M[1][0],i=M[1][1],b(g),this.drawArrowHead(e,i,a,s,r,n,x,!0,y))}else if(t.match(/needle/i)){this.setStyle(r,n,o,y);S=this.parallelLinePoints(e,i,a,s,n);this.isColorTransparent(r,!0)||(y.beginPath(),y.moveTo(S[0],S[1]),y.lineTo(a,s),y.lineTo(S[2],S[3]),y.closePath(),y.stroke(),y.fill(),y.arc(e,i,3*n,0,2*Math.PI),y.stroke(),y.fill()),this.resetStyle(y)}else this.setStyle(r,n,o,y),this.isColorTransparent(r,!0)||(y.beginPath(),t.match(/R$/)||this.useRawLines?this.lineRawTo(e,i,a,s,y):this.lineTo(e,i,a,s,y)),this.resetStyle(y),u&&(b(u),this.drawArrowHead(e,i,a,s,r,n,x,!1,y)),g&&(b(g),this.drawArrowHead(e,i,a,s,r,n,x,!0,y))}this.resetDashDot(y)},this.drawArrowHead=function(t,e,i,a,s,r,n,o,h){h||(h=this.getCanvasContext());var l=this.arrowPointSize,c=Math.max(l/2-1,1),d=(Math.max(2*l/3,1),r?r/2:this.outlineWidth/2),p=(r||this.outlineWidth,1==n?[[-d,-l],[-d,l]]:0==n&&[[1.5,-.5],[-l,-c*r],[-l,c*r]]),g=i-t,u=a-e;if(this.setStyle(s,1==n?r+2:r,!1,h),n<2){var m=function(t,e,i,a){for(var s=[],r=0;r<t.length;r++)s.push([t[r][0]*Math.cos(e)-t[r][1]*Math.sin(e),t[r][0]*Math.sin(e)+t[r][1]*Math.cos(e)]);var n=[];for(r=0;r<s.length;r++)n.push([s[r][0]+i,s[r][1]+a]);return n}(p,Math.atan2(u,g),i,a);h.beginPath(),h.moveTo(m[0][0],m[0][1]);for(var f=1;f<m.length;f++)isNaN(m[f][0])||isNaN(m[f][1])||h.lineTo(m[f][0],m[f][1]);0==n?(isNaN(m[0][0])||isNaN(m[0][1])||h.lineTo(m[0][0],m[0][1]),h.closePath(),h.fill()):(h.closePath(),h.stroke())}else 2==n&&(h.beginPath(),h.arc(i,a,Math.max(0,1.3*c),0,2*Math.PI,!0),h.closePath(),h.fill());this.resetStyle(h)},this.createPatterns=function(t){var e=function(t){t.strokeStyle="rgb(29,137,182)";for(var e=[4,6,9,12,16,21,27,14,17,21,26],i=[27,21,16,12,9,6,4,26,21,17,14],a=0;a<e.length;a++)t.moveTo(e[a],i[a]),t.arc(e[a],i[a],2,0,2*Math.PI);t.moveTo(3,32),t.arc(3,32,2,Math.PI,0),t.moveTo(13,32),t.arc(13,32,2,Math.PI,0),t.moveTo(32,3),t.arc(32,3,2,.5*Math.PI,1.5*Math.PI),t.moveTo(32,13),t.arc(32,13,2,.5*Math.PI,1.5*Math.PI),e=[[7,11],[8,12],[11,14],[14,17],[18,20],[22,24],[28,29]],i=[[28,29],[22,24],[18,20],[14,17],[11,14],[8,12],[7,11]];for(a=0;a<e.length;a++)t.moveTo(e[a][0],i[a][0]),t.lineTo(e[a][1],i[a][1]);t.stroke()},i=function(t){t.strokeStyle="rgb(29,137,182)",t.moveTo(3,0),t.arc(3,0,2,Math.PI,0,!0),t.moveTo(3,5),t.arc(3,5,2,Math.PI,0),t.moveTo(6,1),t.lineTo(8,4),t.lineTo(10,1),t.moveTo(13,0),t.arc(13,0,2,Math.PI,0,!0),t.moveTo(13,5),t.arc(13,5,2,Math.PI,0),t.stroke()},a=function(t){t.strokeStyle="rgb(29,137,182)",t.moveTo(0,3),t.arc(0,3,2,1.5*Math.PI,.5*Math.PI),t.moveTo(5,3),t.arc(5,3,2,1.5*Math.PI,.5*Math.PI,!0),t.moveTo(1,6),t.lineTo(4,8),t.lineTo(1,10),t.moveTo(0,13),t.arc(0,13,2,1.5*Math.PI,.5*Math.PI),t.moveTo(5,13),t.arc(5,13,2,1.5*Math.PI,.5*Math.PI,!0),t.stroke()};t||(t=this.getCanvasContext());var s=this.$cX("canvas");s.width=5,s.height=5;var r=this.get2DCanvasContext(s);CanvasXpress.cachePatterns.hasOwnProperty("hatchForward")||(r.clearRect(0,0,5,5),r.beginPath(),r.moveTo(0,0),r.lineTo(5,5),r.stroke(),CanvasXpress.cachePatterns.hatchForward=t.createPattern(s,"repeat")),CanvasXpress.cachePatterns.hasOwnProperty("hatchReverse")||(r.clearRect(0,0,5,5),r.beginPath(),r.moveTo(5,0),r.lineTo(0,5),r.stroke(),CanvasXpress.cachePatterns.hatchReverse=t.createPattern(s,"repeat")),CanvasXpress.cachePatterns.hasOwnProperty("stripeVertical")||(s.width=3,s.height=3,r.clearRect(0,0,3,3),r.beginPath(),r.moveTo(1.5,0),r.lineTo(1.5,3),r.stroke(),CanvasXpress.cachePatterns.stripeVertical=t.createPattern(s,"repeat")),CanvasXpress.cachePatterns.hasOwnProperty("stripeHorizontal")||(r.clearRect(0,0,3,3),r.beginPath(),r.moveTo(0,1.5),r.lineTo(3,1.5),r.stroke(),CanvasXpress.cachePatterns.stripeHorizontal=t.createPattern(s,"repeat")),CanvasXpress.cachePatterns.hasOwnProperty("polkaDot")||(s.width=5,s.height=5,r.clearRect(0,0,5,5),r.beginPath(),r.arc(2.5,2.5,2,0,2*Math.PI),r.fill(),CanvasXpress.cachePatterns.polkaDot=t.createPattern(s,"repeat")),CanvasXpress.cachePatterns.hasOwnProperty("crossHatch")||(r.clearRect(0,0,5,5),r.beginPath(),r.moveTo(0,0),r.lineTo(5,5),r.stroke(),r.beginPath(),r.moveTo(5,0),r.lineTo(0,5),r.stroke(),CanvasXpress.cachePatterns.crossHatch=t.createPattern(s,"repeat")),CanvasXpress.cachePatterns.hasOwnProperty("crossStripe")||(s.width=3,s.height=3,r.clearRect(0,0,3,3),r.beginPath(),r.moveTo(1.5,0),r.lineTo(1.5,3),r.stroke(),r.beginPath(),r.moveTo(0,1.5),r.lineTo(3,1.5),r.stroke(),CanvasXpress.cachePatterns.crossStripe=t.createPattern(s,"repeat")),CanvasXpress.cachePatterns.hasOwnProperty("squares")||(s.width=5,s.height=5,r.clearRect(0,0,5,5),r.beginPath(),r.strokeRect(1,1,4,4),r.stroke(),CanvasXpress.cachePatterns.squares=t.createPattern(s,"repeat")),CanvasXpress.cachePatterns.hasOwnProperty("circles")||(r.clearRect(0,0,5,5),r.beginPath(),r.arc(2.5,2.5,1,0,2*Math.PI),r.stroke(),CanvasXpress.cachePatterns.circles=t.createPattern(s,"repeat")),CanvasXpress.cachePatterns.hasOwnProperty("plus")||(s.width=7,s.height=7,r.clearRect(0,0,7,7),r.beginPath(),r.moveTo(3.5,1),r.lineTo(3.5,6),r.stroke(),r.beginPath(),r.moveTo(1,3.5),r.lineTo(6,3.5),r.stroke(),CanvasXpress.cachePatterns.plus=t.createPattern(s,"repeat")),CanvasXpress.cachePatterns.hasOwnProperty("minus")||(s.width=7,s.height=7,r.clearRect(0,0,7,7),r.beginPath(),r.moveTo(1,3.5),r.lineTo(6,3.5),r.stroke(),CanvasXpress.cachePatterns.minus=t.createPattern(s,"repeat")),CanvasXpress.cachePatterns.hasOwnProperty("bars")||(s.width=7,s.height=7,r.clearRect(0,0,7,7),r.beginPath(),r.moveTo(3.5,1),r.lineTo(3.5,6),r.stroke(),CanvasXpress.cachePatterns.bars=t.createPattern(s,"repeat")),CanvasXpress.cachePatterns.hasOwnProperty("squiglesHorizontal")||(s.width=5,s.height=5,r.clearRect(0,0,5,5),r.beginPath(),r.moveTo(0,5),r.lineTo(2.5,0),r.lineTo(5,5),r.stroke(),CanvasXpress.cachePatterns.squiglesHorizontal=t.createPattern(s,"repeat")),CanvasXpress.cachePatterns.hasOwnProperty("squiglesVertical")||(s.width=5,s.height=5,r.clearRect(0,0,5,5),r.beginPath(),r.moveTo(0,0),r.lineTo(5,2.5),r.lineTo(0,5),r.stroke(),CanvasXpress.cachePatterns.squiglesVertical=t.createPattern(s,"repeat")),CanvasXpress.cachePatterns.hasOwnProperty("brickForward")||(r.clearRect(0,0,5,5),r.beginPath(),r.moveTo(0,0),r.lineTo(3,0),r.lineTo(0,3),r.closePath(),r.stroke(),r.fill(),r.beginPath(),r.moveTo(2,5),r.lineTo(5,2),r.lineTo(5,5),r.closePath(),r.stroke(),r.fill(),CanvasXpress.cachePatterns.brickForward=t.createPattern(s,"repeat")),CanvasXpress.cachePatterns.hasOwnProperty("brickReverse")||(r.clearRect(0,0,5,5),r.beginPath(),r.moveTo(5,0),r.lineTo(2,0),r.lineTo(5,3),r.closePath(),r.stroke(),r.fill(),r.beginPath(),r.moveTo(0,5),r.lineTo(0,2),r.lineTo(3,5),r.closePath(),r.stroke(),r.fill(),CanvasXpress.cachePatterns.brickReverse=t.createPattern(s,"repeat")),CanvasXpress.cachePatterns.hasOwnProperty("art")||(r.clearRect(0,0,5,5),r.beginPath(),r.arc(2.5,2.5,2,0,2*Math.PI),r.moveTo(0,5),r.lineTo(5,0),r.stroke(),CanvasXpress.cachePatterns.art=t.createPattern(s,"repeat")),CanvasXpress.cachePatterns.hasOwnProperty("pcx")||(r.clearRect(0,0,5,5),r.beginPath(),r.moveTo(2,0),r.lineTo(0,0),r.lineTo(0,3),r.lineTo(2,3),r.stroke(),r.beginPath(),r.moveTo(3,3),r.lineTo(5,5),r.stroke(),r.beginPath(),r.moveTo(5,3),r.lineTo(3,5),r.stroke(),CanvasXpress.cachePatterns.pcx=t.createPattern(s,"repeat")),CanvasXpress.cachePatterns.hasOwnProperty("hatchForward3")||(s.width=5,s.height=3,r.clearRect(0,0,5,3),r.beginPath(),r.moveTo(0,0),r.lineTo(5,3),r.stroke(),CanvasXpress.cachePatterns.hatchForward3=t.createPattern(s,"repeat")),CanvasXpress.cachePatterns.hasOwnProperty("hatchReverse3")||(r.clearRect(0,0,5,3),r.beginPath(),r.moveTo(5,0),r.lineTo(0,3),r.stroke(),CanvasXpress.cachePatterns.hatchReverse3=t.createPattern(s,"repeat")),CanvasXpress.cachePatterns.hasOwnProperty("membraneTop")||(s.width=5,s.height=16,r.clearRect(0,0,5,16),a(r),CanvasXpress.cachePatterns.membraneTop=t.createPattern(s,"repeat-x")),CanvasXpress.cachePatterns.hasOwnProperty("membraneBottom")||(s.width=5,s.height=16,r.clearRect(0,0,5,16),r.translate(5,0),r.scale(-1,1),a(r),CanvasXpress.cachePatterns.membraneBottom=t.createPattern(s,"repeat-x")),CanvasXpress.cachePatterns.hasOwnProperty("membraneRight")||(s.width=16,s.height=5,r.clearRect(0,0,16,5),i(r),CanvasXpress.cachePatterns.membraneRight=t.createPattern(s,"repeat-y")),CanvasXpress.cachePatterns.hasOwnProperty("membraneLeft")||(s.width=16,s.height=5,r.clearRect(0,0,16,5),r.translate(0,5),r.scale(1,-1),i(r),CanvasXpress.cachePatterns.membraneLeft=t.createPattern(s,"repeat-y")),CanvasXpress.cachePatterns.hasOwnProperty("membraneTL")||(s.width=32,s.height=32,r.clearRect(0,0,32,32),e(r),CanvasXpress.cachePatterns.membraneTL=t.createPattern(s,"no-repeat")),CanvasXpress.cachePatterns.hasOwnProperty("membraneBL")||(s.width=32,s.height=32,r.clearRect(0,0,32,32),r.translate(0,32),r.scale(1,-1),e(r),CanvasXpress.cachePatterns.membraneBL=t.createPattern(s,"no-repeat")),CanvasXpress.cachePatterns.hasOwnProperty("membraneTR")||(s.width=32,s.height=32,r.clearRect(0,0,32,32),r.translate(32,0),r.scale(-1,1),e(r),CanvasXpress.cachePatterns.membraneTR=t.createPattern(s,"no-repeat")),CanvasXpress.cachePatterns.hasOwnProperty("membraneBR")||(s.width=32,s.height=32,r.clearRect(0,0,32,32),r.translate(32,32),r.scale(-1,-1),e(r),CanvasXpress.cachePatterns.membraneBR=t.createPattern(s,"no-repeat"))},this.sphere=function(t,e,i,a,s,r,n,o,h){for(var l=Math.sin(n),c=Math.cos(n),d=Math.sin(o),p=Math.cos(o),g=Math.sin(h),u=Math.cos(h),m=function(t){var e=t.y;t.y=e*c+t.z*l*-1,t.z=e*l+t.z*c;var i=t.x;t.x=i*p+t.z*d*-1,t.z=i*d+t.z*p;i=t.x;t.x=i*u+t.y*g*-1,t.y=i*g+t.y*u},f=[],y=Math.PI/12,x=2*Math.PI,b=Math.PI/2,v=1;v>=-1;v-=2)for(var A=0;A<b;A+=y)for(var w=Math.cos(A)*a,C=Math.cos(A)*r,T=Math.sin(A)*s*v*-1,S=0;S<x;S+=y){var D={x:Math.cos(S)*w,y:T,z:Math.sin(S)*C};m(D),D.x+=t,D.y+=e,D.z+=i,v>0?f.push([D.x,D.y,D.z]):f.unshift([D.x,D.y,D.z])}return f},this.roundedPolygon=function(t){for(var e=function(t,e,i){i.x=e.x-t.x,i.y=e.y-t.y,i.len=Math.sqrt(i.x*i.x+i.y*i.y),i.nx=i.x/i.len,i.ny=i.y/i.len,i.ang=Math.atan2(i.ny,i.nx)},i=[],a=0;a<t.length;a++)i.push({x:t[a][0],y:t[a][1]});var s=[],r=this.roundedPolygonRadius,n={},o={},h=i.length,l=i[h-1];for(a=0;a<h;a++){var c=i[a%h],d=i[(a+1)%h];e(c,l,n),e(c,d,o);var p,g=n.nx*o.ny-n.ny*o.nx,u=n.nx*o.nx-n.ny*-o.ny,m=Math.asin(g),f=1,y=!1;u<0?m<0?m=Math.PI+m:(m=Math.PI-m,f=-1,y=!0):m>0&&(f=-1,y=!0);var x=m/2,b=Math.abs(Math.cos(x)*r/Math.sin(x));b>Math.min(n.len/2,o.len/2)?(b=Math.min(n.len/2,o.len/2),p=Math.abs(b*Math.sin(x)/Math.cos(x))):p=r;var v=c.x+o.nx*b,A=c.y+o.ny*b;v+=-o.ny*p*f,A+=o.nx*p*f,s.push([v,A,p,n.ang+Math.PI/2*f,o.ang-Math.PI/2*f,y]),l=c,c=d}return s},this.drawShapeSetShapeStyle=function(t,e,i,a,s,r,n,o,h,l){if(l||(l=this.getCanvasContext()),this.saveCanvas(l),this.translateCanvas(t,e,l),o&&this.rotateCanvas(o,l),null!=this.transparency&&(s=this.addColorTransparency(s,this.transparency,!0)),this.gradient)"radial"==this.gradientType?l.fillStyle=this.getGradient(0,0,Math.max(Math.abs(i),Math.abs(a)),!1,s):l.fillStyle=this.getGradient(0,0,i,a,s);else if(n)switch(n){case"closed":case"solid":l.fillStyle=s;break;case"open":break;default:s&&s.match(/0.1\)$/)&&r.match(/0.1\)$/)&&(l.globalAlpha=.1),l.fillStyle=CanvasXpress.cachePatterns[n]?CanvasXpress.cachePatterns[n]:s}else l.fillStyle=s;l.strokeStyle=r||this.foreground,l.lineWidth=h||this.outlineWidth,l.lineJoin=this.joinType,(i&&l.lineWidth>=i||a&&l.lineWidth>=a)&&(l.strokeStyle=s),this.setShadow(!0,l)},this.drawShapeDraw=function(t,e,i){if(i||(i=this.getCanvasContext()),t&&t.length>1){for(var a=t.shift();null==a[0]||null==a[1];)a=t.shift();for(i.beginPath(),i.moveTo(a[0]+.5,a[1]+.5);t.length>0;){for(a=t.shift();null==a[0]||null==a[1];)a=t.shift();i.lineTo(a[0]+.5,a[1]+.5)}e||i.closePath()}},this.drawShapeFillStroke=function(t,e,i,a){a||(a=this.getCanvasContext()),i&&"open"==i?a.stroke():e==t||a.strokeStyle==a.fillStyle?a.fill():(a.fill(),a.stroke())},this.drawShapeRestore=function(t,e,i,a){a||(a=this.getCanvasContext()),a.globalAlpha=1,this.setShadow(!1,a),this.restoreCanvas(a)},this.getShapeArea=function(t,e,i,a,s,r,n,o,h,l,c,d,p,g,u,m){var f,y,x=this,b=["poly"],v=[];switch(d||(d=this.setClipBoundaries()),t){case"arc2":v=this.traceArc1(e,i,s,p,g,!0);for(var A=0;A<v.length;A++)b.push(v[A][0],v[A][1]);v=this.traceArc1(e,i,s-a,p,g);for(A=0;A<v.length;A++)b.push(v[A][0],v[A][1]);break;case"pie":b.push(e,i),v=this.traceArc1(e,i,s,p,g,!0);for(A=0;A<v.length;A++)b.push(v[A][0],v[A][1]);break;case"confidence":for(A=0;A<e.length;A++)b.push(e[A][0],i[A][0]),v.push(i[A][1],e[A][1]);b=this.polygonClip(b.concat(v.reverse()),!1,!0);break;case"violin":case"fish":for(A=0;A<e[0].length;A++)b.push(e[0][A],i[0][A]),v.push(i[1][A],e[1][A]);b=b.concat(v.reverse());break;case"bezier":v=this.traceBezierCurve(e[0],i[0],e[1],i[1],e[2],i[2],e[3],i[3],.25,!0);for(A=0;A<v.length;A++)b.push(v[A][0],v[A][1]);v=this.traceBezierCurve(e[0],i[0]+s,e[1],i[1]+s,e[2],i[2]+s,e[3],i[3]+s,.25);for(A=0;A<v.length;A++)b.push(v[A][0],v[A][1]);break;case"arch":v=this.traceQuadraticCurve(e[0],i[0],e[1],i[1],e[2],i[2],.25,!0);for(A=0;A<v.length;A++)b.push(v[A][0],v[A][1]);v=this.traceArc1(e[4],i[4],s[0],a[2],a[3]);for(A=1;A<v.length;A++)b.push(v[A][0],v[A][1]);if(e[0]==e[3]&&i[0]==i[3]&&e[1]==e[4]&&i[1]==i[4]&&e[2]==e[5]&&i[2]==i[5])break;v=this.traceQuadraticCurve(e[3],i[3],e[4],i[4],e[5],i[5],.25,!0);for(A=0;A<v.length;A++)b.push(v[A][0],v[A][1]);v=this.traceArc1(e[1],i[1],s[1],a[0],a[1]);for(A=0;A<v.length;A++)b.push(v[A][0],v[A][1]);break;case"polygon":case"roundpolygon":case"path":case"spline":case"hull":for(A=0;A<e.length;A++)"spline"==t?b.push(e[A],i[A]-2):(b.push(e[A],i[A]-2),v.unshift(e[A],i[A]+2));break;default:f=a/2,y=s/2}switch(t){case"image":b=["rect",e-f*this.zoom,i-y*this.zoom,e+f*this.zoom,i+y*this.zoom];break;case"path":b=b.concat(v);break;case"mdavid":case"star":case"circle":case"sphere":b=["circle",e,i,a];break;case"drop":case"teardrop":case"marker":b=["circle",e,i-a,f];break;case"diamond":case"rhombus":b=["poly",e,i-y,e+f,i,e,i+y,e-f,i];break;case"arrow":case"box":case"rect":case"rectangle":case"roundrect":case"roundrectt":case"roundrectb":case"roundrectr":case"roundrectl":case"roundrecttr":case"roundrecttl":case"roundrectbr":case"roundrectbl":case"roundrect2":case"roundrectd":case"roundrecto":case"brace":case"square":case"pentagon":case"hexagon":case"octagon":case"oval":case"arc":case"arc3":case"ellipse":case"plus":case"minus":case"pch0":case"pch1":case"pch2":case"pch3":case"pch4":case"pch5":case"pch6":case"pch7":case"pch8":case"pch9":case"pch10":case"pch11":case"pch12":case"pch13":case"pch14":case"pch15":case"pch16":case"pch17":case"pch18":case"pch21":case"pch22":case"pch23":case"pch24":case"pch25":b=["rect",e-f,i-y,e+f,i+y];break;case"pch19":b=["rect",e-(f+=2),i-(y+=2),e+f,i+y];break;case"pch20":f-=2,y-=2,f=Math.max(2,f),y=Math.max(2,y),b=["rect",e-f,i-y,e+f,i+y];break;case"rect2":return this.getShapeArea("rectangle",e,i,a,a/2,r,n,o,h,l,c,d,p,g,u,m);case"rect3":return this.getShapeArea("rectangle",e,i,a,a/3,r,n,o,h,l,c,d,p,g,u,m);case"triangle":case"equilateral":b=["poly",e,i-y,e+f,i+y,e-f,i+y];break;case"triangle2":case"equilateral2":b=["poly",e,i+y,e+f,i-y,e-f,i-y];break;case"oval2":return this.getShapeArea("oval",e,i,a,a/2,r,n,o,h,l,c,d,p,g,u,m);case"oval3":return this.getShapeArea("oval",e,i,a,a/3,r,n,o,h,l,c,d,p,g,u,m);case"ellipse2":return this.getShapeArea("ellipse",e,i,a,a/2,r,n,o,h,l,c,d,p,g,u,m);case"ellipse3":return this.getShapeArea("ellipse",e,i,a,a/3,r,n,o,h,l,c,d,p,g,u,m);case"pie0":return this.getShapeArea("pie",e,i,a,a/2,r,n,o,h,l,c,d,0,Math.PI/5,u,m);case"pie1":return this.getShapeArea("pie",e,i,a,a/2,r,n,o,h,l,c,d,0,Math.PI/3.5,u,m);case"pie2":return this.getShapeArea("pie",e,i,a,a/2,r,n,o,h,l,c,d,0,Math.PI/2,u,m);case"pie3":return this.getShapeArea("pie",e,i,a,a/2,r,n,o,h,l,c,d,0,Math.PI/1.5,u,m);case"pie4":return this.getShapeArea("pie",e,i,a,a/2,r,n,o,h,l,c,d,0,Math.PI,u,m);case"pie5":return this.getShapeArea("pie",e,i,a,a/2,r,n,o,h,l,c,d,0,1.2*Math.PI,u,m);case"pie6":return this.getShapeArea("pie",e,i,a,a/2,r,n,o,h,l,c,d,0,1.4*Math.PI,u,m);case"pie7":return this.getShapeArea("pie",e,i,a,a/2,r,n,o,h,l,c,d,0,1.6*Math.PI,u,m);case"pie8":return this.getShapeArea("pie",e,i,a,a/2,r,n,o,h,l,c,d,0,1.8*Math.PI,u,m);case"pie9":return this.getShapeArea("pie",e,i,a,a/2,r,n,o,h,l,c,d,0,2*Math.PI,u,m);case"pacman":return this.getShapeArea("pie",e,i,a,a/2,r,n,o,h,l,c,d,1*Math.PI/4,7*Math.PI/4,u,m);case"pacman2":return this.getShapeArea("pie",e,i,a,a/2,r,n,o,h,l,c,d,5*Math.PI/4,3*Math.PI/4,u,m)}return b=h?function(a){if("Network"==x.graphType||"arrow"==t)return a;a.shift();for(var s=["poly"],r=Math.cos(h),n=Math.sin(h),o=0;o<a.length;o+=2)s.push(r*(e-a[o])+n*(i-a[o+1])+a[o]),s.push(r*(i-a[o+1])-n*(e-a[o])+a[o+1]);return s}(b):b,"Network"==this.graphType?this.preScaleNetwork&&!this.isAnimation?b:this.adjustNetworkObjects(b):b},this.drawShape=function(t,e,i,a,s,r,n,o,h,l,c,d,p,g,u,m,f){var y,x,b,v,A;if(f||(f=this.getCanvasContext()),o)switch(o){case"closed":case"solid":case"open":break;default:var w=o;o="closed",this.drawShape(t,e,i,a,s,r,r,o,h,l,c,d,p,g,u,m),o=w}switch(t){case"polygon":case"roundpolygon":case"path":case"spline":case"arch":case"hull":case"confidence":case"violin":case"bezier":case"fish":var C=Number.MAX_VALUE,T=-1*Number.MAX_VALUE,S=Number.MAX_VALUE,D=-1*Number.MAX_VALUE;if(y=[],O=[],e.length!=i.length)return!1;if("spline"==t&&e.length<5)return this.drawShape("polygon",e,i,a,s,r,n,o,h,l,c,d,p,g,u,m);if("arch"==t&&(6!=e.length||6!=i.length||4!=a.length||2!=s.length))return!1;if("bezier"==t){if(!(this.isNumeric(e)&&this.isNumeric(i)&&this.isNumeric(s)))return!1;for(var M=0;M<e.length;M++)C=Math.min(C,e[M]),T=Math.max(T,e[M]),S=Math.min(S,i[M]),D=Math.max(D,i[M]),O.push([e[M],i[M]]);e=(C+T)/2,i=(S+D)/2;for(M=0;M<O.length;M++)O[M][0]-=e,O[M][1]-=i,y.push(O[M][0],O[M][1])}else if("confidence"==t){if(!(e.length>2))return!1;for(M=0;M<e.length;M++)null!=e[M][0]&&null!=e[M][1]&&null!=i[M][0]&&null!=i[M][1]&&this.isNumeric([e[M][0],e[M][1],i[M][0],i[M][1]])&&(C=Math.min(C,Math.min(e[M][0],e[M][1])),T=Math.max(T,Math.max(e[M][0],e[M][1])),S=Math.min(S,Math.min(i[M][0],i[M][1])),D=Math.max(D,Math.max(i[M][0],i[M][1])),O.push([[e[M][0],e[M][1]],[i[M][0],i[M][1]]]));e=(C+T)/2,i=(S+D)/2;for(M=0;M<O.length;M++)O[M][0][0]-=e,O[M][0][1]-=e,O[M][1][0]-=i,O[M][1][1]-=i,y.push([O[M][0][0],O[M][0][1]],[O[M][1][0],O[M][1][1]])}else if("violin"==t||"fish"==t){if(e[0].length!=i[0].length||e[1].length!=i[1].length||e[0].length!=e[1].length)return!1;for(M=0;M<e[0].length;M++)this.isNumeric([e[0][M],e[1][M],i[0][M],i[1][M]])&&(C=Math.min(C,Math.min(e[0][M],e[1][M])),T=Math.max(T,Math.max(e[0][M],e[1][M])),S=Math.min(S,Math.min(i[0][M],i[1][M])),D=Math.max(D,Math.max(i[0][M],i[1][M])),O.push([[e[0][M],e[1][M]],[i[0][M],i[1][M]]]));e=(C+T)/2,i=(S+D)/2;for(M=0;M<O.length;M++)O[M][0][0]-=e,O[M][0][1]-=e,O[M][1][0]-=i,O[M][1][1]-=i,y.push([O[M][0][0],O[M][0][1]],[O[M][1][0],O[M][1][1]])}else{for(M=0;M<e.length;M++)e[M]&&i[M]&&this.isNumeric([e[M],i[M]])&&(C=Math.min(C,e[M]),T=Math.max(T,e[M]),S=Math.min(S,i[M]),D=Math.max(D,i[M]),O.push([e[M],i[M]]));e="arch"==t?e[1]:(C+T)/2,i="arch"==t?i[1]:(S+D)/2;for(M=0;M<O.length;M++)O[M][0]-=e,O[M][1]-=i,y.push(O[M][0],O[M][1])}break;default:if(!this.isNumeric([e,i,a,s]))return!1;if(c){if(!(O=this.clip(t,[e,i,a,s],d)))return!1;4==O.length?(a=Math.max(1,O[2]),s=Math.max(1,O[3]),e=O[0]+a/2,i=O[1]+s/2):2==O.length&&(e=O[0],i=O[1])}else a=Math.max(1,a),s=Math.max(1,s);x=a/2,b=s/2,v=s/a,A=1.5}switch(t){case"image":var k=Array.isArray(u)?this.backgroundImageMD5:this.getFileName(u);if(!u||!CanvasXpress.cacheImages[k]&&!CanvasXpress.images[u])return this.drawShape("rectangle",e,i,a,s,"rgba(0,0,0,0.5)","rgba(0,0,0,0.5)",o,h,l,c,d,p,g,u,m);this.drawShapeSetShapeStyle(e,i,a,s,r,n,o,h,l,f),CanvasXpress.images[u]?this.drawImage(CanvasXpress.images[u],-x*this.zoom,-b*this.zoom,a*this.zoom,s*this.zoom,!1,!1,!1,!1,r,o,f):this.drawImage(CanvasXpress.cacheImages[k],-x*this.zoom,-b*this.zoom,a*this.zoom,s*this.zoom,!1,!1,!1,!1,r,o,f);break;case"circle":case"sphere":this.drawShapeSetShapeStyle(e,i,a,s,r,n,o,h,l,f),this.isColorTransparent(r,!0)&&this.isColorTransparent(n,!0)||(f.beginPath(),f.arc(0,0,Math.max(0,a/2),0,2*Math.PI,!1),f.closePath(),this.drawShapeFillStroke(r,n,o,f));break;case"drop":case"teardrop":case"marker":var L=.5*(B=2*x/3),I="Map"==this.graphType?3*-B:0;this.drawShapeSetShapeStyle(e,i,a,s,r,n,o,h,l,f),f.beginPath(),f.arc(0,I,Math.max(0,x),0,Math.PI,!0),f.bezierCurveTo(-x,I+x,0,I+L,0,I+3*B),f.bezierCurveTo(0,I+L,x,I+x,x,I),f.closePath(),this.drawShapeFillStroke(r,n,o,f),f.beginPath(),f.arc(0,I,Math.max(0,.3*x),0,2*Math.PI,!0),f.closePath(),this.drawShapeFillStroke("white","black",o,f);break;case"arrow":if(O=[[-x,-b],[x,-b],[x,b],[-x,b]],h){h=!1,this.drawShapeSetShapeStyle(e,i,a,s,r,n,o,h,l,f);var B=s/4;f.beginPath(),f.moveTo(x-s,-b),f.lineTo(x-s,-b-B),f.lineTo(x,0),f.lineTo(x-s,b+B),f.lineTo(x-s,b),f.lineTo(-x,b),f.lineTo(-x,-b),f.closePath(),this.drawShapeFillStroke(r,n,o,f)}else{this.drawShapeSetShapeStyle(e,i,a,s,r,n,o,h,l,f);var N=a/4;f.beginPath(),f.moveTo(-x,-b+a),f.lineTo(-x-N,-b+a),f.lineTo(0,-b),f.lineTo(x+N,-b+a),f.lineTo(x,-b+a),f.lineTo(x,b),f.lineTo(-x,b),f.closePath(),this.drawShapeFillStroke(r,n,o,f)}break;case"box":case"rect":O=[[-x,-b],[x,-b],[x,b],[-x,b]],this.drawShapeSetShapeStyle(Math.round(e),Math.round(i),a,s,r,n,o,h,l,f),f.beginPath(),f.moveTo(-x,-b),f.lineTo(x,-b),f.lineTo(x,b),f.lineTo(-x,b),f.closePath(),this.drawShapeFillStroke(r,n,o,f);break;case"rectangle":O=[[-x,-b],[x,-b],[x,b],[-x,b]],this.drawShapeSetShapeStyle(e,i,a,s,r,n,o,h,l,f),o&&"open"==o?f.strokeRect(-x,-b,a,s):n==r||f.strokeStyle==f.fillStyle?f.fillRect(-x,-b,a,s):(f.fillRect(-x,-b,a,s),f.strokeRect(-x,-b,a,s));break;case"rect2":return this.drawShape("rectangle",e,i,a,a/2,r,n,o,h,l,c,d,p,g,u,m);case"rect3":return this.drawShape("rectangle",e,i,a,a/3,r,n,o,h,l,c,d,p,g,u,m);case"roundrectt":var F=a>this.roundedPolygonRadius&&s>this.roundedPolygonRadius?this.roundedPolygonRadius:a>s?s:a;this.drawShapeSetShapeStyle(e,i,a,s,r,n,o,h,l,f),f.beginPath(),f.moveTo(-x,-b+F),f.lineTo(-x,b),f.lineTo(x,b),f.lineTo(x,-b+F),f.quadraticCurveTo(x,-b,x-F,-b),f.lineTo(-x+F,-b),f.quadraticCurveTo(-x,-b,-x,-b+F),f.closePath(),this.drawShapeFillStroke(r,n,o,f);break;case"roundrectb":F=a>this.roundedPolygonRadius&&s>this.roundedPolygonRadius?this.roundedPolygonRadius:a>s?s:a;this.drawShapeSetShapeStyle(e,i,a,s,r,n,o,h,l,f),f.beginPath(),f.moveTo(-x,-b),f.lineTo(-x,b-F),f.quadraticCurveTo(-x,b,-x+F,b),f.lineTo(x-F,b),f.quadraticCurveTo(x,b,x,b-F),f.lineTo(x,-b),f.lineTo(-x,-b),f.closePath(),this.drawShapeFillStroke(r,n,o,f);break;case"roundrectr":F=a>this.roundedPolygonRadius&&s>this.roundedPolygonRadius?this.roundedPolygonRadius:a>s?s:a;this.drawShapeSetShapeStyle(e,i,a,s,r,n,o,h,l,f),f.beginPath(),f.moveTo(-x,-b),f.lineTo(-x,b),f.lineTo(x-F,b),f.quadraticCurveTo(x,b,x,b-F),f.lineTo(x,-b+F),f.quadraticCurveTo(x,-b,x-F,-b),f.lineTo(-x,-b),f.closePath(),this.drawShapeFillStroke(r,n,o,f);break;case"roundrectl":F=a>this.roundedPolygonRadius&&s>this.roundedPolygonRadius?this.roundedPolygonRadius:a>s?s:a;this.drawShapeSetShapeStyle(e,i,a,s,r,n,o,h,l,f),f.beginPath(),f.moveTo(-x,-b+F),f.lineTo(-x,b-F),f.quadraticCurveTo(-x,b,-x+F,b),f.lineTo(x,b),f.lineTo(x,-b),f.lineTo(-x+F,-b),f.quadraticCurveTo(-x,-b,-x,-b+F),f.closePath(),this.drawShapeFillStroke(r,n,o,f);break;case"roundrecttr":F=a>this.roundedPolygonRadius&&s>this.roundedPolygonRadius?this.roundedPolygonRadius:a>s?s:a;this.drawShapeSetShapeStyle(e,i,a,s,r,n,o,h,l,f),f.beginPath(),f.moveTo(-x,-b),f.lineTo(-x,b),f.lineTo(x,b),f.lineTo(x,-b+F),f.quadraticCurveTo(x,-b,x-F,-b),f.lineTo(-x,-b),f.closePath(),this.drawShapeFillStroke(r,n,o,f);break;case"roundrecttl":F=a>this.roundedPolygonRadius&&s>this.roundedPolygonRadius?this.roundedPolygonRadius:a>s?s:a;this.drawShapeSetShapeStyle(e,i,a,s,r,n,o,h,l,f),f.beginPath(),f.moveTo(-x,-b+F),f.lineTo(-x,b),f.lineTo(x,b),f.lineTo(x,-b),f.lineTo(-x+F,-b),f.quadraticCurveTo(-x,-b,-x,-b+F),f.closePath(),this.drawShapeFillStroke(r,n,o,f);break;case"roundrectbr":F=a>this.roundedPolygonRadius&&s>this.roundedPolygonRadius?this.roundedPolygonRadius:a>s?s:a;this.drawShapeSetShapeStyle(e,i,a,s,r,n,o,h,l,f),f.beginPath(),f.moveTo(-x,-b),f.lineTo(-x,b),f.lineTo(x-F,b),f.quadraticCurveTo(x,b,x,b-F),f.lineTo(x,-b),f.lineTo(-x,-b),f.closePath(),this.drawShapeFillStroke(r,n,o,f);break;case"roundrectbl":F=a>this.roundedPolygonRadius&&s>this.roundedPolygonRadius?this.roundedPolygonRadius:a>s?s:a;this.drawShapeSetShapeStyle(e,i,a,s,r,n,o,h,l,f),f.beginPath(),f.moveTo(-x,-b),f.lineTo(-x,b-F),f.quadraticCurveTo(-x,b,-x+F,b),f.lineTo(x,b),f.lineTo(x,-b),f.lineTo(-x,-b),f.closePath(),this.drawShapeFillStroke(r,n,o,f);break;case"roundrecto":F=a<s?x:b;this.drawShapeSetShapeStyle(e,i,a,s,r,n,o,h,l,f),f.beginPath(),a<s?(f.arc(0,-b+F,F,Math.PI,0),f.lineTo(x,b-F),f.arc(0,b-F,F,0,Math.PI),f.lineTo(-x,-b+F)):(f.arc(-x+F,0,F,.5*Math.PI,1.5*Math.PI),f.lineTo(x-F,-b),f.arc(x-F,0,F,1.5*Math.PI,.5*Math.PI),f.lineTo(-x+F,b)),f.closePath(),this.drawShapeFillStroke(r,n,o,f);break;case"roundrect":case"roundrect2":case"roundrectd":F=a>this.roundedPolygonRadius&&s>this.roundedPolygonRadius?this.roundedPolygonRadius:a>s?s/4:a/4;"roundrect2"==t&&(F*=4),this.drawShapeSetShapeStyle(e,i,a,s,r,n,o,h,l,f),f.beginPath(),f.moveTo(-x,-b+F),f.lineTo(-x,b-F),f.quadraticCurveTo(-x,b,-x+F,b),f.lineTo(x-F,b),f.quadraticCurveTo(x,b,x,b-F),f.lineTo(x,-b+F),f.quadraticCurveTo(x,-b,x-F,-b),f.lineTo(-x+F,-b),f.quadraticCurveTo(-x,-b,-x,-b+F),f.closePath(),this.drawShapeFillStroke(r,n,o,f),"roundrectd"==t&&a>this.roundedPolygonRadius&&s>this.roundedPolygonRadius&&(x=(a-=this.roundedPolygonRadius)/2,b=(s-=this.roundedPolygonRadius)/2,f.beginPath(),f.moveTo(-x,-b+F),f.lineTo(-x,b-F),f.quadraticCurveTo(-x,b,-x+F,b),f.lineTo(x-F,b),f.quadraticCurveTo(x,b,x,b-F),f.lineTo(x,-b+F),f.quadraticCurveTo(x,-b,x-F,-b),f.lineTo(-x+F,-b),f.quadraticCurveTo(-x,-b,-x,-b+F),f.closePath(),this.drawShapeFillStroke(r,n,o,f));break;case"brace":F=a>s?s/4:a/4;this.drawShapeSetShapeStyle(e,i,a,s,r,n,o,h,l,f),f.beginPath(),f.moveTo(-x,-b),f.bezierCurveTo(-x,0,0,0,0,b),f.bezierCurveTo(0,0,x,0,x,-b),this.drawShapeFillStroke(r,n,o,f);break;case"square":O=[[-x,-x],[x,-x],[x,x],[-x,x]],this.drawShapeSetShapeStyle(e,i,a,s,r,n,o,h,l,f),this.drawShapeDraw(O),this.drawShapeFillStroke(r,n,o,f);break;case"triangle":if(a==s)return this.drawShape("equilateral",e,i,a,s,r,n,o,h,l,c,d,p,g,u,m);O=[[0,-b],[x,b],[-x,b]],this.drawShapeSetShapeStyle(e,i,a,s,r,n,o,h,l,f),this.drawShapeDraw(O),this.drawShapeFillStroke(r,n,o,f);break;case"triangle2":if(a==s)return this.drawShape("equilateral2",e,i,a,s,r,n,o,h,l,c,d,p,g,u,m);O=[[0,b],[x,-b],[-x,-b]],this.drawShapeSetShapeStyle(e,i,a,s,r,n,o,h,l,f),this.drawShapeDraw(O),this.drawShapeFillStroke(r,n,o,f);break;case"equilateral":var P=(F=a*Math.sqrt(3)/6)/2;Math.sqrt(F*F-P*P);O=[[0,-b],[x,b],[-x,b]],this.drawShapeSetShapeStyle(e,i,a,s,r,n,o,h,l,f),this.drawShapeDraw(O),this.drawShapeFillStroke(r,n,o,f);break;case"equilateral2":P=(F=a*Math.sqrt(3)/6)/2,Math.sqrt(F*F-P*P);O=[[0,b],[x,-b],[-x,-b]],this.drawShapeSetShapeStyle(e,i,a,s,r,n,o,h,l,f),this.drawShapeDraw(O),this.drawShapeFillStroke(r,n,o,f);break;case"diamond":case"rhombus":O=[[0,-b],[x,0],[0,b],[-x,0]],this.drawShapeSetShapeStyle(e,i,a,s,r,n,o,h,l,f),this.drawShapeDraw(O),this.drawShapeFillStroke(r,n,o,f);break;case"hexagon":for(var R=2*Math.PI/6,O=[],X=0;X<6;X++)O.push([x*Math.sin(R*X),b*Math.cos(R*X)]);this.drawShapeSetShapeStyle(e,i,a,s,r,n,o,h,l,f),this.drawShapeDraw(O),this.drawShapeFillStroke(r,n,o,f);break;case"pentagon":var z=a/3;this.drawShapeSetShapeStyle(e,i,a,s,r,n,o,h,l,f),f.beginPath();for(M=0;M<5;M++){var E=M/5*Math.PI*2+-Math.PI/2;f.lineTo(Math.cos(E)*z,Math.sin(E)*z)}f.closePath(),this.drawShapeFillStroke(r,n,o,f);break;case"octagon":var _=a/4,H=s/4;O=[[-_,-b],[_,-b],[x,-H],[x,H],[_,b],[-_,b],[-x,H],[-x,-H]],this.drawShapeSetShapeStyle(e,i,a,s,r,n,o,h,l,f),this.drawShapeDraw(O),this.drawShapeFillStroke(r,n,o,f);break;case"oval":case"ovald":this.drawShapeSetShapeStyle(e,i,a,s,r,n,o,h,l,f),this.saveCanvas(f),this.scaleCanvas(1,v,f),f.beginPath(),f.arc(0,0,Math.max(0,a/2),0,2*Math.PI,!0),f.closePath(),this.restoreCanvas(f),this.drawShapeFillStroke(r,n,o,f),"ovald"==t&&(a-=2*this.margin,v=(s-=2*this.margin)/a,this.saveCanvas(f),this.scaleCanvas(1,v,f),f.beginPath(),f.arc(0,0,Math.max(0,a/2),0,2*Math.PI,!0),f.closePath(),this.restoreCanvas(f),this.drawShapeFillStroke(r,n,o,f));break;case"oval2":return this.drawShape("oval",e,i,a,a/2,r,n,o,h,l,c,d,p,g,u,m);case"oval3":return this.drawShape("oval",e,i,a,a/3,r,n,o,h,l,c,d,p,g,u,m);case"arc":this.drawShapeSetShapeStyle(e,i,a,s,r,n,o,h,l,f),this.saveCanvas(f),this.scaleCanvas(1,v,f),f.beginPath(),f.arc(0,0,Math.max(0,a/2),0,Math.PI,!0),"open"!=o&&f.closePath(),this.restoreCanvas(f),this.drawShapeFillStroke(r,n,o,f);break;case"arc2":var V=s*Math.cos(p),G=s*Math.sin(p),q=s*Math.cos(g),j=s*Math.sin(g),U=this.shortenLine(0,0,V,G,0,a,"line"),Y=this.shortenLine(0,0,q,j,0,a,"line");this.drawShapeSetShapeStyle(e,i,a,s,r,n,o,h,l,f),f.beginPath(),f.moveTo(U[2],U[3]),f.lineTo(V,G),f.arc(0,0,Math.max(0,s),p,g,!1),f.lineTo(Y[2],Y[3]),f.arc(0,0,Math.max(0,s-a),g,p,!0),f.closePath(),this.drawShapeFillStroke(r,n,o,f);break;case"arc3":this.drawShapeSetShapeStyle(e,i,a,s,r,n,o,h,l,f),this.saveCanvas(f),this.scaleCanvas(1,v,f),f.beginPath(),f.arc(0,0,Math.max(0,a/2),0,Math.PI,!0),this.restoreCanvas(f),this.drawShapeFillStroke(r,n,o,f);break;case"arch":this.drawShapeSetShapeStyle(e,i,a,s,r,n,o,h,l,f),f.beginPath(),f.moveTo(O[0][0],O[0][1]),f.quadraticCurveTo(O[1][0],O[1][1],O[2][0],O[2][1]),f.arc(0,0,Math.max(0,s[0]),a[3],a[2],!0),f.quadraticCurveTo(O[4][0],O[4][1],O[5][0],O[5][1]),f.arc(0,0,Math.max(0,s[1]),a[1],a[0],!0),f.closePath(),this.drawShapeFillStroke(r,n,o,f);break;case"path":this.drawShapeSetShapeStyle(e,i,a,s,r,n,o,h,l,f),this.drawShapeDraw(O,"open"==o),this.drawShapeFillStroke(r,n,o,f);break;case"roundpolygon":this.drawShapeSetShapeStyle(e,i,a,s,r,n,o,h,l,f),O=this.roundedPolygon(O),f.beginPath();for(M=0;M<O.length;M++)f.arc(O[M][0],O[M][1],O[M][2],O[M][3],O[M][4]);f.closePath(),this.drawShapeFillStroke(r,n,o,f);break;case"polygon":this.drawShapeSetShapeStyle(e,i,a,s,r,n,o,h,l,f),this.drawShapeDraw(O,"open"==o&&r),this.drawShapeFillStroke(r,n,o,f);break;case"spline":var W=[],$=[],Q=[];$.push(y.shift()),$.push(y.shift()),Q.push(y.pop()),Q.unshift(y.pop());var Z=y.length;for(M=0;M<Z-4;M+=2)W=W.concat(this.splineControlPoint(y[M],y[M+1],y[M+2],y[M+3],y[M+4],y[M+5]));this.drawShapeSetShapeStyle(e,i,a,s,r,n,o,h,l,f),f.beginPath(),f.moveTo($[0],$[1]),f.lineTo(y[0],y[1]),f.quadraticCurveTo(W[0],W[1],y[2],y[3]);for(M=2;M<Z-5;M+=2)f.bezierCurveTo(W[2*M-2],W[2*M-1],W[2*M],W[2*M+1],y[M+2],y[M+3]);f.quadraticCurveTo(W[2*Z-10],W[2*Z-9],y[Z-2],y[Z-1]),f.lineTo(Q[0],Q[1]),f.lineTo($[0],$[1]),this.drawShapeFillStroke(r,n,o,f);break;case"hull":Z=1;for(var K=[];y.length>1;)K.push([y.shift(),y.shift()]);W=this.hullControlPoints(K);var J=[[K[0][0],K[0][1],W[W.length-1][0],W[W.length-1][1],W[0][0],W[0][1],K[1][0],K[1][1]]];for(M=1;M<K.length-1;M++)J.push([K[M][0],K[M][1],W[Z][0],W[Z][1],W[Z+1][0],W[Z+1][1],K[M+1][0],K[M+1][1]]),Z+=2;J.push([K[M][0],K[M][1],W[Z][0],W[Z][1],W[Z+1][0],W[Z+1][1],K[0][0],K[0][1]]),this.drawShapeSetShapeStyle(e,i,a,s,r,n,o,h,l,f),f.beginPath(),f.moveTo(J[0][0],J[0][1]);for(M=0;M<J.length;M++)f.bezierCurveTo(J[M][2],J[M][3],J[M][4],J[M][5],J[M][6],J[M][7]);this.drawShapeFillStroke(r,n,o,f);break;case"violin":Z=y.length;this.drawShapeSetShapeStyle(e,i,a,s,r,n,o,h,l,f),f.beginPath(),f.moveTo(y[0][0],y[1][0]);for(M=2;M<Z;M+=2)f.lineTo(y[M][0],y[M+1][0]);f.lineTo(y[Z-2][1],y[Z-1][1]);for(M=2;M<Z;M+=2){var tt=Z-1-M;f.lineTo(y[tt-1][1],y[tt][1])}f.lineTo(y[0][0],y[1][0]),this.drawShapeFillStroke(r,n,o,f);break;case"fish":Z=y.length;this.drawShapeSetShapeStyle(e,i,a,s,r,n,o,h,l,f),f.beginPath(),f.moveTo(y[0][0],y[1][0]);for(M=2;M<Z;M+=2){var et=(y[M-2][0]+y[M][0])/2;f.bezierCurveTo(et,y[M-1][0],et,y[M+1][0],y[M][0],y[M+1][0])}f.lineTo(y[Z-2][1],y[Z-1][1]);for(M=2;M<Z;M+=2){et=(y[(tt=Z-1-M)+1][1]+y[tt-1][1])/2;f.bezierCurveTo(et,y[tt+2][1],et,y[tt][1],y[tt-1][1],y[tt][1])}f.lineTo(y[0][0],y[1][0]),this.drawShapeFillStroke(r,n,o,f);break;case"confidence":Z=y.length,W=[];var it=[];for(M=0;M<Z-4;M+=2){tt=Z-1-M;W=W.concat(this.splineControlPoint(y[M][0],y[M+1][0],y[M+2][0],y[M+3][0],y[M+4][0],y[M+5][0])),it=it.concat(this.splineControlPoint(y[tt-1][1],y[tt][1],y[tt-3][1],y[tt-2][1],y[tt-5][1],y[tt-4][1]))}this.drawShapeSetShapeStyle(e,i,a,s,r,n,o,h,l,f),f.beginPath(),f.moveTo(y[0][0],y[1][0]),f.quadraticCurveTo(W[0],W[1],y[2][0],y[3][0]);for(M=2;M<Z-5;M+=2)f.bezierCurveTo(W[2*M-2],W[2*M-1],W[2*M],W[2*M+1],y[M+2][0],y[M+3][0]);f.quadraticCurveTo(W[2*Z-10],W[2*Z-9],y[Z-2][0],y[Z-1][0]),f.lineTo(y[Z-2][1],y[Z-1][1]),f.quadraticCurveTo(it[0],it[1],y[Z-4][1],y[Z-3][1]);for(M=2;M<Z-5;M+=2){tt=Z-1-M;f.bezierCurveTo(it[2*M-2],it[2*M-1],it[2*M],it[2*M+1],y[tt-3][1],y[tt-2][1])}f.quadraticCurveTo(it[2*Z-10],it[2*Z-9],y[0][1],y[1][1]),f.lineTo(y[0][0],y[1][0]),this.drawShapeFillStroke(r,n,o,f);break;case"bezier":this.drawShapeSetShapeStyle(e,i,a,s,r,n,o,h,l,f),f.beginPath(),f.moveTo(y[0],y[1]),f.bezierCurveTo(y[2],y[3],y[4],y[5],y[6],y[7]),f.lineTo(y[6],y[7]+s),f.bezierCurveTo(y[4],y[5]+s,y[2],y[3]+s,y[0],y[1]+s),f.lineTo(y[0],y[1]),this.drawShapeFillStroke(r,n,o,f);break;case"ellipse":var at=.5522848*x,st=.5522848*b;this.drawShapeSetShapeStyle(e,i,a,s,r,n,o,h,l,f),f.beginPath(),f.moveTo(0,b),f.bezierCurveTo(0,b-st,x-at,0,x,0),f.bezierCurveTo(x+at,0,a,b-st,a,b),f.bezierCurveTo(a,b+st,x+at,s,x,s),f.bezierCurveTo(x-at,s,0,b+st,0,b),f.closePath(),this.drawShapeFillStroke(r,n,o,f);break;case"ellipse2":return this.drawShape("ellipse",e,i,a,a/2,r,n,o,h,l,c,d,p,g,u,m);case"ellipse3":return this.drawShape("ellipse",e,i,a,a/3,r,n,o,h,l,c,d,p,g,u,m);case"plus":O=[[-A,-b],[A,-b],[A,-A],[x,-A],[x,A],[A,A],[A,b],[-A,b],[-A,A],[-x,A],[-x,-A],[-A,-A],[-A,-b]],this.drawShapeSetShapeStyle(e,i,a,s,r,n,o,h,l,f),this.drawShapeDraw(O),this.drawShapeFillStroke(r,n,o,f);break;case"minus":O=[[-x,-A],[x,-A],[x,A],[-x,A],[-x,-A]],this.drawShapeSetShapeStyle(e,i,a,s,r,n,o,h,l,f),this.drawShapeDraw(O),this.drawShapeFillStroke(r,n,o,f);break;case"mdavid":z=a/3;var rt=Math.PI/6;this.drawShapeSetShapeStyle(e,i,a,s,r,n,o,h,l,f),this.saveCanvas(f),this.scaleCanvas(.8,.8,f),this.rotateCanvas(.45*ot,f),f.beginPath(),f.moveTo(z,0);for(M=0;M<11;M++)this.rotateCanvas(rt,f),M%2==0?f.lineTo(z/.55,0):f.lineTo(z,0);f.closePath(),this.restoreCanvas(f),this.drawShapeFillStroke(r,n,o,f);break;case"star":var nt=a/4,ot=Math.PI/5;this.drawShapeSetShapeStyle(e,i,a,s,r,n,o,h,l,f),this.saveCanvas(f),this.scaleCanvas(.7,.7,f),this.rotateCanvas(.45*ot,f),f.beginPath(),f.moveTo(nt,0);for(M=0;M<9;M++)this.rotateCanvas(ot,f),M%2==0?f.lineTo(nt/.35,0):f.lineTo(nt,0);f.closePath(),this.restoreCanvas(f),this.drawShapeFillStroke(r,n,o,f);break;case"pie":void 0===p&&(p=0),void 0===g&&(g=2*Math.PI),this.drawShapeSetShapeStyle(e,i,a,s,r,n,o,h,l,f),f.beginPath(),f.arc(0,0,Math.max(0,a/2),p,g,!1),f.lineTo(0,0),f.closePath(),this.drawShapeFillStroke(r,n,o,f);break;case"pie0":return this.drawShape("pie",e,i,a,a/2,r,n,o,h,l,c,d,0,Math.PI/5,u,m);case"pie1":return this.drawShape("pie",e,i,a,a/2,r,n,o,h,l,c,d,0,Math.PI/3.5,u,m);case"pie2":return this.drawShape("pie",e,i,a,a/2,r,n,o,h,l,c,d,0,Math.PI/2,u,m);case"pie3":return this.drawShape("pie",e,i,a,a/2,r,n,o,h,l,c,d,0,Math.PI/1.5,u,m);case"pie4":return this.drawShape("pie",e,i,a,a/2,r,n,o,h,l,c,d,0,Math.PI,u,m);case"pie5":return this.drawShape("pie",e,i,a,a/2,r,n,o,h,l,c,d,0,1.2*Math.PI,u,m);case"pie6":return this.drawShape("pie",e,i,a,a/2,r,n,o,h,l,c,d,0,1.4*Math.PI,u,m);case"pie7":return this.drawShape("pie",e,i,a,a/2,r,n,o,h,l,c,d,0,1.6*Math.PI,u,m);case"pie8":return this.drawShape("pie",e,i,a,a/2,r,n,o,h,l,c,d,0,1.8*Math.PI,u,m);case"pie9":return this.drawShape("pie",e,i,a,a/2,r,n,o,h,l,c,d,0,2*Math.PI,u,m);case"pacman":return this.drawShape("pie",e,i,a,a/2,r,n,o,h,l,c,d,1*Math.PI/4,7*Math.PI/4,u,m);case"pacman2":return this.drawShape("pie",e,i,a,a/2,r,n,o,h,l,c,d,5*Math.PI/4,3*Math.PI/4,u,m);case"pch0":this.drawShape("square",e,i,a,a,r,n,"open",!1,l,c,d,p,g,u,m);break;case"pch1":this.drawShape("circle",e,i,a,a,r,n,"open",!1,l,c,d,p,g,u,m);break;case"pch2":this.drawShape("equilateral",e,i,a,a,r,n,"open",!1,l,c,d,p,g,u,m);break;case"pch3":this.drawShapeSetShapeStyle(e,i,a,s,r,n,"open",!1,l,f),f.moveTo(0,-b),this.lineTo(0,-b,0,b,f),f.stroke(),f.moveTo(-x,0),this.lineTo(-x,0,x,0,f),f.stroke(),this.drawShapeFillStroke(r,n,o,f);break;case"pch4":this.drawShapeSetShapeStyle(e,i,a,s,r,n,"open",!1,l,f),f.moveTo(-x,-b),this.lineTo(-x,-b,x,b,f),f.stroke(),f.moveTo(x,-b),this.lineTo(x,-b,-x,b,f),f.stroke(),this.drawShapeFillStroke(r,n,o,f);break;case"pch5":this.drawShape("diamond",e,i,a,a,r,n,"open",!1,l,c,d,p,g,u,m);break;case"pch6":this.drawShape("equilateral2",e,i,a,a,r,n,"open",!1,l,c,d,p,g,u,m);break;case"pch7":this.drawShape("pch0",e,i,a,s,r,n,"open",!1,l,c,d,p,g,u,m),this.drawShape("pch4",e,i,a,s,r,n,"open",!1,l,c,d,p,g,u,m);break;case"pch8":this.drawShape("pch3",e,i,a,s,r,n,"open",!1,l,c,d,p,g,u,m),this.drawShape("pch4",e,i,a,s,r,n,"open",!1,l,c,d,p,g,u,m);break;case"pch9":this.drawShape("pch3",e,i,a,s,r,n,"open",!1,l,c,d,p,g,u,m),this.drawShape("pch5",e,i,a,s,r,n,"open",!1,l,c,d,p,g,u,m);break;case"pch10":this.drawShape("pch1",e,i,a,s,r,n,"open",!1,l,c,d,p,g,u,m),this.drawShape("pch3",e,i,a,s,r,n,"open",!1,l,c,d,p,g,u,m);break;case"pch11":this.drawShape("pch2",e,i,a,s,r,n,"open",!1,l,c,d,p,g,u,m),this.drawShape("pch6",e,i,a,s,r,n,"open",!1,l,c,d,p,g,u,m);break;case"pch12":this.drawShape("pch0",e,i,a,s,r,n,"open",!1,l,c,d,p,g,u,m),this.drawShape("pch3",e,i,a,s,r,n,"open",!1,l,c,d,p,g,u,m);break;case"pch13":this.drawShape("pch1",e,i,a,s,r,n,"open",!1,l,c,d,p,g,u,m),this.drawShape("pch4",e,i,a,s,r,n,"open",!1,l,c,d,p,g,u,m);break;case"pch14":this.drawShape("pch0",e,i,a,s,r,n,"open",!1,l,c,d,p,g,u,m),this.drawShape("pch6",e,i,a,s,r,n,"open",!1,l,c,d,p,g,u,m);break;case"pch15":case"pch22":this.drawShape("square",e,i,a,a,r||this.foreground,n,"closed",!1,l,c,d,p,g,u,m);break;case"pch16":case"pch21":this.drawShape("circle",e,i,a,a,r||this.foreground,n,"closed",!1,l,c,d,p,g,u,m);break;case"pch17":case"pch24":this.drawShape("equilateral",e,i,a,a,r||this.foreground,n,"closed",!1,l,c,d,p,g,u,m);break;case"pch18":case"pch23":this.drawShape("diamond",e,i,a,a,r||this.foreground,n,"closed",!1,l,c,d,p,g,u,m);break;case"pch19":this.drawShape("circle",e,i,a+2,a+2,r||this.foreground,n,"closed",!1,l,c,d,p,g,u,m);break;case"pch20":this.drawShape("circle",e,i,Math.max(2,a-2),Math.max(2,a-2),r||this.foreground,n,"closed",!1,l,c,d,p,g,u,m);break;case"pch25":this.drawShape("equilateral2",e,i,a,a,r||this.foreground,n,"closed",!1,l,c,d,p,g,u,m);break;default:this.drawShapeSetShapeStyle(e,i,a,s,r,n,o,h,l,f)}"box"==t||"rect"==t?this.drawShapeRestore(Math.round(e),Math.round(i),h,f):this.drawShapeRestore(e,i,h,f)},this.imageToCanvas=function(t){var e=this.$cX("canvas",{width:t.naturalWidth,height:t.naturalHeight});return e.ctx=this.get2DCanvasContext(e),e.ctx.drawImage(t,0,0),e},this.colorizeImage=function(t,e){var i=this.imageToCanvas(t),a=!!e&&this.colorAsArray(e),s=i.ctx.getImageData(0,0,t.naturalWidth,t.naturalHeight),r=s.data;for(t=0;t<r.length;t+=4){var n=.34*r[t]+.5*r[t+1]+.16*r[t+2];n>220?(n=255,r[t]=n,r[t+1]=n,r[t+2]=n,r[t+3]=0):(r[t]=e?a[0]:n,r[t+1]=e?a[1]:n,r[t+2]=e?a[2]:n)}return i.ctx.putImageData(s,0,0),i},this.createImage=function(t){var e=t.length,i=t[0].length,a=this.$cX("canvas",{width:i,height:e});a.ctx=this.get2DCanvasContext(a),a.ctx.clearRect(0,0,i,e);for(var s=0;s<e;s++)for(var r=e-(s+1),n=0;n<i;n++){var o=parseInt(255*t[r][n][0]),h=parseInt(255*t[r][n][1]),l=parseInt(255*t[r][n][2]),c=t[r][n][3]?parseInt(255*t[r][n][3]):255;a.ctx.fillStyle="rgba("+o+","+h+","+l+","+c+")","visium"==this.scatterType&&this.visiumFlip?a.ctx.fillRect(n,s,1,1):a.ctx.fillRect(n,r,1,1)}return"visium"==this.scatterType&&(this.backgroundImageRows=e,this.backgroundImageCols=i),a.toDataURL("img/png")},this.drawImage=function(t,e,i,a,s,r,n,o,h,l,c,d){d||(d=this.getCanvasContext());try{if(e=parseInt(Math.round(e||0)),i=parseInt(Math.round(i||0)),a=parseInt(Math.round(a||t.naturalWidth)),s=parseInt(Math.round(s||t.naturalHeight)),"visium"==this.scatterType)if(this.visiumFlip){var p=this.xAxisMin,g=this.xAxisMax,u=t.naturalHeight-this.yAxisMax,m=t.naturalHeight-this.yAxisMin,f=a/(A=g-p),y=s/(w=u-m),x=(a-A)/2,b=(s-w)/2,v=this.yAxisMax;d.scale(f,y),d.drawImage(t,p,v,A,w,e+x,i+b,A,w),d.scale(1/f,1/y)}else{var A,w;p=this.xAxisMin,g=this.xAxisMax,u=this.yAxisMax,m=this.yAxisMin,f=a/(A=g-p),y=s/(w=u-m),x=(a-A)/2,b=(s-w)/2,v=t.naturalHeight-this.yAxisMax;d.scale(f,y),d.drawImage(t,p,v,A,w,e+x,i+b,A,w),d.scale(1/f,1/y)}else if(r&&n&&o&&h)r=parseInt(Math.round(r)),n=parseInt(Math.round(n)),o=parseInt(Math.round(o)),h=parseInt(Math.round(h)),d.drawImage(t,e,i,a,s,r,n,o,h),d.drawImage(this.colorizeImage(t,l),e,i,a,s,r,n,o,h);else if(l&&"b&w"==l)d.drawImage(this.colorizeImage(t),e,i,a,s);else if(l)d.drawImage(t,e,i,a,s),d.drawImage(this.colorizeImage(t,l),e,i,a,s);else if(c){var C=Math.max(a,s)/2;this.saveCanvas(d),d.arc(e+C,i+C,C,0,2*Math.PI),d.clip(),d.drawImage(t,e,i,a,s),this.restoreCanvas(d),this.setClipArea([0,0,0,0],d),this.restoreCanvas(d)}else d.drawImage(t,e,i,a,s)}catch(c){console.log(c);var T=this;setTimeout((function(){T.draw({func:"drawImage",par:[t,e,i,a,s,r,n,o,h,l]})}),100)}},this.trackTransforms=function(t){t||(t=this.getCanvasContext());var e=document.createElementNS("http://www.w3.org/2000/svg","svg"),i=e.createSVGMatrix();t.getTransform=function(){return i};var a=[],s=t.save;t.save=function(){return a.push(i.translate(0,0)),s.call(t)};var r=t.restore;t.restore=function(){return i=a.pop(),r.call(t)};var n=t.scale;t.scale=function(e,a){return i=i.scaleNonUniform(e,a),n.call(t,e,a)};var o=t.rotate;t.rotate=function(e){return i=i.rotate(180*e/Math.PI),o.call(t,e)};var h=t.translate;t.translate=function(e,a){return i=i.translate(e,a),h.call(t,e,a)};var l=t.transform;t.transform=function(a,s,r,n,o,h){var c=e.createSVGMatrix();return c.a=a,c.b=s,c.c=r,c.d=n,c.e=o,c.f=h,i=i.multiply(c),l.call(t,a,s,r,n,o,h)};var c=t.setTransform;t.setTransform=function(e,a,s,r,n,o){return i.a=e,i.b=a,i.c=s,i.d=r,i.e=n,i.f=o,c.call(t,e,a,s,r,n,o)};var d=e.createSVGPoint();t.transformedPoint=function(t,e){return d.x=t,d.y=e,d.matrixTransform(i.inverse())}},this.setGlobalCompositionOperation=function(t,e){!CanvasXpress.system.isIE&&t&&(e||(e=this.getCanvasContext()),e.globalCompositeOperation=t,this.meta.state.globalCompositeOperation=t)},this.rectangleClear=function(t,e,i,a,s){s||(s=this.getCanvasContext()),s.clearRect(t,e,i,a)},this.translateCanvas=function(t,e,i){i||(i=this.getCanvasContext()),i.translate(t,e),this.meta.state.translate[0]+=t,this.meta.state.translate[1]+=e},this.rotateCanvas=function(t,e){e||(e=this.getCanvasContext()),e.rotate(t),this.meta.state.rotate[0]+=t},this.scaleCanvas=function(t,e,i){i||(i=this.getCanvasContext()),i.scale(t,e),this.meta.state.scale[0]*=t,this.meta.state.scale[1]*=e},this.saveCanvas=function(t){t||(t=this.getCanvasContext()),t.save(),this.meta.state.save++,this.meta.state.last={translate:[this.meta.state.translate[0],this.meta.state.translate[1]],scale:[this.meta.state.scale[0],this.meta.state.scale[1]],rotate:[this.meta.state.rotate[0]]}},this.restoreCanvas=function(t){t||(t=this.getCanvasContext()),t.restore(),this.meta.state.translate[0]=this.meta.state.last.translate[0],this.meta.state.translate[1]=this.meta.state.last.translate[1],this.meta.state.scale[0]=this.meta.state.last.scale[0],this.meta.state.scale[1]=this.meta.state.last.scale[1],this.meta.state.rotate[0]=this.meta.state.last.rotate[0],this.meta.state.save--}},CanvasXpress.prototype.initRangeAlgorithms=function(){this.approxNumber=function(t){var e=t,i=t.toString(),a=i.indexOf("99999"),s=i.indexOf("00000"),r=i.indexOf("."),n=a>=0&&r<a?a:s>=0?s:null;return null!=n?(e=i.substring(0,n),f=Math.pow(10,e.length-(e.indexOf(".")+1)),Number(Math.round(Number(i)*f)/f)):Number(i)},this.heckbert=function(t,e,i){var a=function(t,e){var i=Math.floor(Math.log(t)/Math.LN10),a=t/Math.pow(10,i);return(e?a<1.5?1:a<3?2:a<7?5:10:a<1?1:a<2?2:a<5?5:10)*Math.pow(10,i)};t>e?(t=e,t=e):e-t<1e-8&&(e+=.1);for(var s=[],r=a(e-t,!1),n=a(r/(i-1),!0),o=Math.floor(t/n)*n,h=Math.ceil(e/n)*n,l=o;l<=h;l+=n)s.push(this.approxNumber(l));if(s[0]==s[s.length-1])for(s=[],l=o;l<=h;l+=n)s.push(l);return this.cleanVals(s)},this.wilkinson=function(t,e,i){var a=function(t,e,i,a){for(var s=[10,1,5,2,2.5,3,4,1.5,7,6,8,9],r=e-t,n=i-1,o=1-Math.abs(i-a)/a,h=r/n,l=Math.floor(Math.log(h)/Math.LN10),c=Math.pow(10,l),d=null,p=0;p<s.length;p++){var g=s[p]*c,u=Math.floor(t/g)*g,m=u+n*g;if(u<=t&&m>=e){var f=(e-t)/(m-u);if(f>.8){var y=o+(1-(p-(u<=0&&m>=0?1:0))/s.length)+f;(null==d||y>d.score)&&(d={lmin:u,lmax:m,lstep:g,score:y})}}}return d||(d={lmin:t,lmax:e,lstep:1,score:0}),d};t>e?(t=e,t=e):e-t<1e-8&&(e+=.1);for(var s=[],r=null,n=[],o=Math.max(Math.floor(i/2),2);o<=Math.ceil(6*i);o++)n.push(o);for(o=0;o<n.length;o++){var h=a(t,e,n[o],i);(null!=h&&null==r||h&&r&&h.score>r.score)&&(r=h)}for(o=r.lmin;o<=r.lmax;o+=r.lstep)s.push(this.approxNumber(o));if(s[0]==s[s.length-1])for(s=[],o=r.lmin;o<=r.lmax;o+=r.lstep)s.push(o);return this.cleanVals(s)},this.wilkinsonExtended=function(t,e,i,a){var s=222e-16,r=function(t,e){for(var i=0;i<e.length;i++)if(t==e[i])return i},n=function(t,e,i,a,n,o){var h=e.length;return 1-r(t,e)/(h-1)-i+((a%o<s||o-a%o<s)&&a<=0&&n>=0?1:0)},o=function(t,e,i){var a=e.length;return 1-r(t,e)/(a-1)-i+1},h=function(t,e,i,a){return 1-.5*(Math.pow(e-a,2)+Math.pow(t-i,2))/Math.pow(.1*(e-t),2)},l=function(t,e,i){var a=e-t;if(i>a){var s=(i-a)/2;return 1-.5*(Math.pow(s,2)+Math.pow(s,2))/Math.pow(.1*a,2)}return 1},c=function(t,e,i,a,s,r){var n=(t-1)/(r-s),o=(e-1)/(Math.max(r,a)-Math.min(i,s));return 2-Math.max(n/o,o/n)},d=function(t,e){return t>=e?2-(t-1)/(e-1):1},p=[1,5,2,2.5,4,3],g=[.25,.2,.5,.05],u=p.length,m={score:-2},f=[];if(t>e){var y=t;t=e,e=y}else e-t<1e-8&&(e+=.1);if(e-t<s){for(var x=0;x<=i;x++)f.push(t);return f}for(var b=1;b<Number.POSITIVE_INFINITY;){for(x=0;x<u;x++){var v=p[x],A=o(v,p,b);if(g[0]*A+g[1]+g[2]+g[3]<m.score){b=Number.POSITIVE_INFINITY;break}for(var w=2;w<Number.POSITIVE_INFINITY;){var C=d(w,i);if(g[0]*A+g[1]+g[2]*C+g[3]<m.score)break;for(var T=(e-t)/(w+1)/b/v,S=Math.ceil(Math.log(T)/Math.LN10);S<Number.POSITIVE_INFINITY;){var D=b*v*Math.pow(10,S),M=l(t,e,D*(w-1));if(g[0]*A+g[1]*M+g[2]*C+g[3]<m.score)break;var k=Math.floor(e/D)*b-(w-1)*b,L=Math.ceil(t/D)*b;if(k>L)S++;else{for(var I=k;I<=L;I++){var B=I*(D/b),N=B+D*(w-1),F=D,P=n(v,p,b,B,N,F),R=h(t,e,B,N),O=c(w,i,t,e,B,N),X=g[0]*P+g[1]*R+g[2]*O+g[3];X>m.score&&(!a||B<=t&&N>=e)&&(m={lmin:B,lmax:N,lstep:F,score:X})}S++}}w++}}b++}for(x=m.lmin;x<=m.lmax;x+=m.lstep)f.push(this.approxNumber(x));if(f[0]==f[f.length-1])for(f=[],x=m.lmin;x<=m.lmax;x+=m.lstep)f.push(x);return this.cleanVals(f)},this.rPrettyOLD=function(t,e,i){if(t>e){var a=e;e=t,t=a}else e-t<1e-8&&(e+=.1);var s,r,n=[],o=Math.floor(i)-1,h=Math.floor(o%3),l=1.5,c=2.75,d=e-t;0==d&&0==e?(s=1,r=!0):r=d<(s=Math.max(Math.abs(t),Math.abs(e)))*.4*Math.max(1,o)*1e-7*3,r?(s>10&&(s=9+s/10),s*=.75,h>1&&(s/=h)):(s=d,o>1&&(s/=o)),s<20*1e-7&&(s=20*1e-7);var p=Math.pow(10,Math.floor(Math.log(s)/Math.LN10)),g=p;2*p-s<l*(s-g)&&5*p-s<c*(s-(g=2*p))&&10*p-s<l*(s-(g=5*p))&&(g=10*p);for(var u=Math.floor(t/g+1e-7),m=Math.ceil(e/g-1e-7);u*g>t+1e-7*g;)u--;for(;m*g<e-1e-7*g;)m++;var f=Math.floor(.5+m-u);f<h?(f=h-f,u>=0?(m+=f/2,u=u-f/2+f%2):(u-=f/2,m=m+f/2+f%2),o=h):o=f;for(var y=u*g;y<=m*g;y+=g)n.push(this.approxNumber(y));if(n[0]==n[n.length-1])for(n=[],y=u*g;y<=m*g;y+=g)n.push(y);return this.cleanVals(n)},this.rPretty=function(t,e,i){if(t>e){var a=e;e=t,t=a}var s,r,n,o=Math.floor(i%3),h=1.5,l=2.75,c=CanvasXpress.constants.DBL_EPSILON,d=1e-10,p=e-t;0==p&&0==e?(s=1,r=!0):(n=1.4,r=p<(s=Math.max(Math.abs(t),Math.abs(e)))*(n*=parseInt(Math.max(1,i))*c)*3),r?(s>10&&(s=9+s/10),s*=.75,o>1&&(s/=o)):(s=p,isFinite(p)&&(i>1?s/=i:s=i<2?.5*e:e/i-t/i));var g=2e-20*Number.MIN_VALUE;0==g&&(g=Number.MIN_VALUE),s<g?(alert("Error in rPretty: very small range"),s=g):s>Number.MAX_VALUE/1.25&&(alert("Error in rPretty: very large range"),s=Number.MAX_VALUE/1.25);var u=Math.pow(10,Math.floor(Math.log10(s))),m=u;2*u-s<h*(s-m)&&5*u-s<l*(s-(m=2*u))&&10*u-s<h*(s-(m=5*u))&&(m=10*u);var f=Math.floor(t/m+d),y=Math.ceil(e/m-d);for(0;f*m>t+d*m;)f--;for(;!isFinite(f*m);)f++;for(;y*m<e-d*m;)y++;for(;!isFinite(f*m);)f--;var x=Math.floor(.5+y-f);x<o?(x=o-x,0==t&&0==f&&0!=e?y+=x:0==e&&0==y&&0!=t?f-=x:f>=0?(y+=x/2,f-=x/2+x%2):(f-=x/2,y+=x/2+x%2),i=o):i=x,f*m<t&&(t=f*m),y*m>e&&(e=y*m);var b=this.seq(t,e,!1,i+1);return this.cleanVals(b)}},CanvasXpress.prototype.initPrimitives=function(){this.initText(),this.initTime(),this.initColor(),this.initAttributes(),this.initRangeAlgorithms()},CanvasXpress.prototype.initGeneralUtils=function(){this.modifyObjectArray=function(t,e,i,a,s){if(!this.isTransition()){var r=this[i];if(a){var n={};if(this.isArray(t))for(var o=t.length,h=0;h<o;h++)n[t[h]]=!0;else n[t]=!0;for(var h in n)r.includes(h)&&(r=this.removeFromArray(h,r),delete n[h]);for(var h in n)r.push(h);this[i]=r}else if(e){n={};var l=[];if(this.isArray(t))for(o=t.length,h=0;h<o;h++)n[t[h]]=1;else n[t]=1;for(o=r.length,h=0;h<o;h++)n.hasOwnProperty(r[h])||l.push(r[h]);this[i]=l}else if(this.isArray(t))for(o=t.length,h=0;h<o;h++)r.push(t[h]);else r.push(t);s&&this.draw({func:"modifyObjectArray",par:[t,e,i,a,s]})}},this.getObjectArray=function(t){var e={};if(t&&this.isArray(t))for(var i=t.length,a=0;a<i;a++)e[t[a]]=!0;return e},this.getObjectArrayOrder=function(t){var e={};if(t&&this.isArray(t))for(var i=t.length,a=0;a<i;a++)e[t[a]+""]=a;return e},this.intersectArray=function(t,e){var i=[];this.isArray(t)||(t=this.toArray(t));for(var a=this.getObjectArray(this.toArray(e)),s=0;s<t.length;s++)a.hasOwnProperty(t[s].toString())&&i.push(t[s]);return i},this.removeFromArray=function(t,e){if(this.isArray(e))for(var i=[],a=e.length,s=0;s<a;s++)e[s]!=t&&i.push(e[s]);return i},this.isFunction=function(t){return t&&"function"==typeof t},this.isArray=function(t){return Array.isArray(t)},this.isObject=function(t){return t instanceof Object},this.isUnique=function(t){return this.getUniqueEls(t).length==t.length},this.isBoolean=function(t){var e=t.length;if(this.isR)for(var i=0;i<e;i++){if(this.isObject(t[i]))return!1;if(null!=t[i]&&("string"==typeof t[i]&&"true"!=t[i].toLowerCase()&&"false"!=t[i].toLowerCase()&&""!==t[i]))return!1}else for(i=0;i<e;i++){if(this.isObject(t[i]))return!1;if(!0!==t[i]&&!1!==t[i]&&""!==t[i]&&null!==t[i])return!1}return!0},this.toArray=function(t){return this.isArray(t)?t:[t]},this.getKeys=function(t){return this.isArray(t)?t:this.isObject(t)?Object.keys(t):[]},this.unique=function(t){return this.isArray(t)?this.getUniqueEls(t):this.isObject(t)?Object.keys(t):[t]},this.getUniqueEls=function(t){for(var e=t.length,i=[],a=new Set,s=0;s<e;s++){var r=t[s];a.has(r)||(a.add(r),i.push(r))}return i},this.getUniqueKeys=function(t){return this.isArray(t)?this.getUniqueEls(t):this.isObject(t)?this.getUniqueEls(this.getKeys(t)):[t]},this.shuffleArray=function(t){for(var e=t.length;e>0;e--){var i=Math.floor(this.random()*e),a=t[--e];t[e]=t[i],t[i]=a}return t},this.toNumber=function(t){for(var e=[],i=this.isArray(t),a=(t=this.toArray(t)).length,s=0;s<a;s++)e.push(Number(t[s]));return i?e:e[0]},this.zip=function(t,e){return t.map((function(i,a){return[t[a],e[a]]}))},this.unzip=function(t,e){return t.map((function(t,i){return t[e]}))},this.extend=function(t,e){if(null==t||"object"!=typeof t)return e;if(null==e||"object"!=typeof e)return t;if(Object.assign)return Object.assign({},t,e);for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e},this.cloneObjectR=function(t,e){var i=this;return null==t||"object"!=typeof t?t:this.isArray(t)?t.map((function(t){return i.isArray(t)?t.slice():i.cloneObjectR(t,e)})):e&&this.isObject(t)?Object.assign({},t):this.parseJSON(this.stringifyJSON(t))},this.cloneObject=function(t,e){var i={bubble:!0,gantt:!0,sankey:!0,tree:!0};if("object"!=typeof t)return t;if(!t)return t;if("[object Array]"===Object.prototype.toString.apply(t)){for(var a=[],s=t.length,r=0;r<s;r++)a[r]=this.cloneObject(t[r]);return a}a={};for(r in t)e&&i.hasOwnProperty(r)||(t[r]&&t.hasOwnProperty(r)||!1===t[r]||0===t[r])&&(a[r]=this.cloneObject(t[r],"data"==r));return a},this.isSameObject=function(t,e){return t===e||"object"==typeof t&&"object"==typeof e&&JSON.stringify(t)==JSON.stringify(e)},this.isNumber=function(t,e){return e?!isNaN(parseFloat(t))&&isFinite(t):null==t||!isNaN(parseFloat(t))&&isFinite(t)},this.toNumber=function(t){return this.isNumber(t,!0)?t:Number.NaN},this.isNumeric2DArray=function(t){for(var e=t.length,i=0;i<e;i++)for(var a=t[i].length,s=0;s<a;s++)if(!this.isNumber(t[i][s]))return!1;return!0},this.isNumeric=function(t){for(var e=t.length,i=0;i<e;i++)if(!this.isNumber(t[i]))return!1;return!0},this.isNull=function(t){for(var e=t.length,i=0;i<e;i++)if(null!=t[i])return!1;return!0},this.isEmpty=function(t){for(var e=t.length,i=0;i<e;i++)if(""!==t[i])return!1;return!0},this.isDate=function(t){for(var e=function(t){if("[object Date]"===toString.call(t))return!0;"function"==typeof t.replace&&t.replace(/^\s+|\s+$/gm,"");return/(^\d{1,4}?[\.|\\/|-]\d{1,2}?[\.|\\/|-]\d{1,4})(\s*(?:0?[1-9]:[0-5]|1(?=[012])\d:[0-5])\d\s*[ap]m)?$/.test(t)},i=t.length,a=0;a<i;a++)if(t[a]&&!e(t[a]))return!1;return!0},this.isMonthDay=function(t){for(var e=t.length,i=0;i<e;i++)if(t[i]&&!CanvasXpress.dates.hasOwnProperty(t[i]))return!1;return!0},this.isCountry=function(t){for(var e,i=t.length,a=0;a<i;a++)if(t[a]&&(e=t[a],!CanvasXpress.countries.hasOwnProperty(e)))return!1;return!0},this.isUsa=function(t){for(var e,i=t.length,a=0;a<i;a++)if(t[a]&&(e=t[a],!CanvasXpress.usa.hasOwnProperty(e)))return!1;return!0},this.padNumber=function(t,e){return e||(e=4),(t+="").length>=e?t:new Array(e-t.length+1).join("0")+t},this.isPivotable=function(){var t=this.data.y.vars.length,e=(this.data.x?this.getKeys(this.data.x):[]).length;return!(!this.data.x&&t+e!=3)},this.pivotMatrix=function(t,e,i,a){for(var s={},r=[],n=[],o=t.length,h=0;h<o;h++)s[t[h][e]]||(s[t[h][e]]={}),s[t[h][e]][t[h][i]]=t[h][a],-1==r.indexOf(t[h][i])&&r.push(t[h][i]);r=this.stringRangeSort(r);var l=[];for(var c in l.push("Vars"),l.push.apply(l,r),n.push(l),s){(l=[]).push(c),o=r.length;for(h=0;h<o;h++)l.push(s[c][r[h]]||"");n.push(l)}return n},this.transposeDataMatrix=function(t){return t[0].map((function(e,i){return t.map((function(t){return t[i]}))}))},this.filterNumbers=function(t,e){for(var i=[],a=t.length,s=0;s<a;s++)this.isNumber(t[s],e)&&i.push(t[s]);return i},this.cleanArray=function(t,e,i){var a=[];if(e){for(var s=this.smpIndices.length,r=0;r<s;r++)a.push(t[this.smpIndices[r]]);a=this.filterNumbers(a,!0)}else if(i){for(s=this.varIndices.length,r=0;r<s;r++)a.push(t[this.varIndices[r]]);a=this.filterNumbers(a,!0)}else a=this.filterNumbers(t,!0);return a},this.cleanArrays=function(t,e,i,a){var s=[],r=[];if(i)for(var n=this.smpIndices.length,o=0;o<n;o++){2==this.filterNumbers([t[this.smpIndices[o]],e[this.smpIndices[o]]],!0).length&&(s.push(t[this.smpIndices[o]]),r.push(e[this.smpIndices[o]]))}else if(a)for(n=this.varIndices.length,o=0;o<n;o++){2==this.filterNumbers([t[this.varIndices[o]],e[this.varIndices[o]]],!0).length&&(s.push(t[this.varIndices[o]]),r.push(e[this.varIndices[o]]))}else for(n=t.length,o=0;o<n;o++){2==this.filterNumbers([t[o],e[o]],!0).length&&(s.push(t[o]),r.push(e[o]))}return[s,r]},this.reverseArray=function(t){return tmp=t.reverse(),tmp},this.parseInt=function(t){return t+.5<<1>>1},this.ungroupGroupedData=function(){return this.isGroupedData&&("Dotplot"==this.graphType||"Boxplot"==this.graphType&&this.showBoxplotOriginalData||"Gantt"==this.graphType)},this.getIpRangeFromAddressAndNetmask=function(t){var e=t.split("/"),i=e[0].split("."),a=["0","0","0","0"],s=(a=/\d+\.\d+\.\d+\.\d+/.test(e[1])?e[1].split(".").map((function(t){return parseInt(t,10)})):(a=("1".repeat(parseInt(e[1],10))+"0".repeat(32-parseInt(e[1],10))).match(/.{1,8}/g)).map((function(t){return parseInt(t,2)}))).map((function(t){return 255^t})),r=i.map((function(t,e){return t&a[e]})),n=i.map((function(t,e){return t|s[e]}));return[r.join("."),n.join(".")]},this.int2Ip=function(t){return(t>>>24)+"."+(t>>16&255)+"."+(t>>8&255)+"."+(255&t)},this.ip2Int=function(t){return t.split(".").reduce((function(t,e){return(t<<8)+parseInt(e,10)}),0)>>>0},this.md5=function(t){var e=function(t,e){var i=t[0],o=t[1],h=t[2],l=t[3];i=a(i,o,h,l,e[0],7,-680876936),l=a(l,i,o,h,e[1],12,-389564586),h=a(h,l,i,o,e[2],17,606105819),o=a(o,h,l,i,e[3],22,-1044525330),i=a(i,o,h,l,e[4],7,-176418897),l=a(l,i,o,h,e[5],12,1200080426),h=a(h,l,i,o,e[6],17,-1473231341),o=a(o,h,l,i,e[7],22,-45705983),i=a(i,o,h,l,e[8],7,1770035416),l=a(l,i,o,h,e[9],12,-1958414417),h=a(h,l,i,o,e[10],17,-42063),o=a(o,h,l,i,e[11],22,-1990404162),i=a(i,o,h,l,e[12],7,1804603682),l=a(l,i,o,h,e[13],12,-40341101),h=a(h,l,i,o,e[14],17,-1502002290),o=a(o,h,l,i,e[15],22,1236535329),i=s(i,o,h,l,e[1],5,-165796510),l=s(l,i,o,h,e[6],9,-1069501632),h=s(h,l,i,o,e[11],14,643717713),o=s(o,h,l,i,e[0],20,-373897302),i=s(i,o,h,l,e[5],5,-701558691),l=s(l,i,o,h,e[10],9,38016083),h=s(h,l,i,o,e[15],14,-660478335),o=s(o,h,l,i,e[4],20,-405537848),i=s(i,o,h,l,e[9],5,568446438),l=s(l,i,o,h,e[14],9,-1019803690),h=s(h,l,i,o,e[3],14,-187363961),o=s(o,h,l,i,e[8],20,1163531501),i=s(i,o,h,l,e[13],5,-1444681467),l=s(l,i,o,h,e[2],9,-51403784),h=s(h,l,i,o,e[7],14,1735328473),o=s(o,h,l,i,e[12],20,-1926607734),i=r(i,o,h,l,e[5],4,-378558),l=r(l,i,o,h,e[8],11,-2022574463),h=r(h,l,i,o,e[11],16,1839030562),o=r(o,h,l,i,e[14],23,-35309556),i=r(i,o,h,l,e[1],4,-1530992060),l=r(l,i,o,h,e[4],11,1272893353),h=r(h,l,i,o,e[7],16,-155497632),o=r(o,h,l,i,e[10],23,-1094730640),i=r(i,o,h,l,e[13],4,681279174),l=r(l,i,o,h,e[0],11,-358537222),h=r(h,l,i,o,e[3],16,-722521979),o=r(o,h,l,i,e[6],23,76029189),i=r(i,o,h,l,e[9],4,-640364487),l=r(l,i,o,h,e[12],11,-421815835),h=r(h,l,i,o,e[15],16,530742520),o=r(o,h,l,i,e[2],23,-995338651),i=n(i,o,h,l,e[0],6,-198630844),l=n(l,i,o,h,e[7],10,1126891415),h=n(h,l,i,o,e[14],15,-1416354905),o=n(o,h,l,i,e[5],21,-57434055),i=n(i,o,h,l,e[12],6,1700485571),l=n(l,i,o,h,e[3],10,-1894986606),h=n(h,l,i,o,e[10],15,-1051523),o=n(o,h,l,i,e[1],21,-2054922799),i=n(i,o,h,l,e[8],6,1873313359),l=n(l,i,o,h,e[15],10,-30611744),h=n(h,l,i,o,e[6],15,-1560198380),o=n(o,h,l,i,e[13],21,1309151649),i=n(i,o,h,l,e[4],6,-145523070),l=n(l,i,o,h,e[11],10,-1120210379),h=n(h,l,i,o,e[2],15,718787259),o=n(o,h,l,i,e[9],21,-343485551),t[0]=c(i,t[0]),t[1]=c(o,t[1]),t[2]=c(h,t[2]),t[3]=c(l,t[3])},i=function(t,e,i,a,s,r){return e=c(c(e,t),c(a,r)),c(e<<s|e>>>32-s,i)},a=function(t,e,a,s,r,n,o){return i(e&a|~e&s,t,e,r,n,o)},s=function(t,e,a,s,r,n,o){return i(e&s|a&~s,t,e,r,n,o)},r=function(t,e,a,s,r,n,o){return i(e^a^s,t,e,r,n,o)},n=function(t,e,a,s,r,n,o){return i(a^(e|~s),t,e,r,n,o)},o=function(t){var e,i=[];for(e=0;e<64;e+=4)i[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return i},h="0123456789abcdef".split(""),l=function(t){for(var e="",i=0;i<4;i++)e+=h[t>>8*i+4&15]+h[t>>8*i&15];return e},c=function(t,e){return t+e&4294967295};return function(t){for(var e=0;e<t.length;e++)t[e]=l(t[e]);return t.join("")}(function(t){txt="";var i,a=t.length,s=[1732584193,-271733879,-1732584194,271733878];for(i=64;i<=t.length;i+=64)e(s,o(t.substring(i-64,i)));t=t.substring(i-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(i=0;i<t.length;i++)r[i>>2]|=t.charCodeAt(i)<<(i%4<<3);if(r[i>>2]|=128<<(i%4<<3),i>55)for(e(s,r),i=0;i<16;i++)r[i]=0;return r[14]=8*a,e(s,r),s}(this.stringifyJSON(t)))}},CanvasXpress.prototype.initPlotUtils=function(){this.drawLayoutCanvasCompartments=function(){var t=this.canvasBoxColor,e=(this.height,this.width,this.left),i=this.right,a=this.bottom,s=this.top,r=this.marginLeft,n=(this.marginRight,this.marginBottom,this.marginTop);this.layoutLeft,this.layoutRight,this.layoutBottom,this.layoutTop;this.toRender({p:["drawShape","rectangle",r+this.offsetX+this.layoutWidth/2,n+this.offsetY+this.layoutHeight/2,this.layoutWidth,this.layoutHeight,!1,t,"open"],t:"Size"}),this.toRender({p:["drawShape","rectangle",r+this.offsetX+e+this.x/2,n+this.offsetY+s+this.y/2,this.x,this.y,!1,"red","open"],t:"Size"}),this.toRender({p:["drawShape","rectangle",r+this.offsetX+e+this.x+i/2,n+this.offsetY+s+this.y/2,i,this.y,!1,"blue","open"],t:"Size"}),this.toRender({p:["drawShape","rectangle",r+this.offsetX+e/2,n+this.offsetY+s+this.y/2,e,this.y,!1,"blue","open"],t:"Size"}),this.toRender({p:["drawShape","rectangle",r+this.offsetX+e+this.x/2,n+this.offsetY+s/2,this.x,s,!1,"blue","open"],t:"Size"}),this.toRender({p:["drawShape","rectangle",r+this.offsetX+e+this.x/2,n+this.offsetY+s+this.y+a/2,this.x,a,!1,"blue","open"],t:"Size"})},this.drawCanvasBox=function(t){this.canvasBox&&("Network"!=this.graphType||t)&&(this.toRender({p:["disableGradientTransparencyShadow"],t:"Size"}),this.toRender({p:["drawShape","rectangle",this.width/2,this.height/2,this.width-2,this.height-2,!1,this.canvasBoxColor,"open"],t:"Size"}),this.toRender({p:["enableGradientTransparencyShadow"],t:"Size"}))},this.drawPlotWindow=function(){if(this.backgroundType.match("window")){this.toRender({p:["disableGradientTransparencyShadow"],t:"Size"});var t=this.graphType.match(/Sankey/)?6*this.margin:0,e=this.marginLeft+this.offsetX+this.left,i=this.marginTop+this.offsetY+this.top;if(this.layoutValid||this.toRender({p:["drawShape","rectangle",.5*this.width,.5*this.height,this.width,this.height,this.background,this.background],t:"Size"}),"windowSolidGradient"==this.backgroundType){var a=this.getLinearGradient(e,i,"vertical"==this.gradientOrientation?e:i+this.y,"vertical"==this.gradientOrientation?e+this.x:i);this.toRender({p:["drawShape","rectangle",e+this.x/2,i+this.y/2,this.x-t,this.y,a,a],t:"Size"})}else if("windowImage"==this.backgroundType)this.toRender({p:["drawShape","image",e+this.x/2,i+this.y/2,this.x-t,this.y,!1,!1,!1,!1,!1,!1,!1,!1,!1,this.backgroundImage],t:"Size"});else{var s="Treemap"==this.graphType&&this.isDOE?"rgba(0,0,0,0)":this.backgroundWindow;this.toRender({p:["drawShape","rectangle",e+this.x/2,i+this.y/2,this.x-t,this.y,s,s],t:"Size"})}this.toRender({p:["enableGradientTransparencyShadow"],t:"Size"})}},this.validateSegregation=function(){var t="",e=this.segregateVariablesBy,i=this.segregateSamplesBy;if(e.length>0){for(var a=[],s=0;s<e.length;s++)(this.data.z&&this.data.z.hasOwnProperty(e[s])||"variable"==e[s])&&a.push(e[s]);e=a}if(i.length>0){for(a=[],s=0;s<i.length;s++)(this.data.x&&this.data.x.hasOwnProperty(i[s])||"sample"==i[s])&&a.push(i[s]);i=a}if(e.length>0&&i.length>0){if(i.length>1){for(;i.length>1;)i.pop();t+="Only one sample segregation when variable segregation is selected\n",t+="segregateSamplesBy was set to: "+i[0]+"\n"}if(e.length>1){for(;e.length>1;)e.pop();t+="Only one variable segregation when sample segregation is selected\n",t+="segregateVariblesBy was set to: "+e[0]+"\n"}}else if(i.length>0){if(i.length>2){for(;i.length>2;)i.pop();t+="Maximum of two sample segregations\n",t+="segregateSamplesBy was set to: "+i[0]+","+i[1]+"\n"}}else if(e.length>0&&e.length>2){for(;e.length>2;)e.pop();t+="Maximum of two variable segregations\n",t+="segregateVariablesBy was set to: "+e[0]+","+e[1]+"\n"}return""==t||(this.removeMenus(),alert(t),!1)},this.checkSegregation=function(){this.isDOE||this.validateSegregation()&&(this.layoutValid&&this.data.l?(0==this.segregateSamplesBy.length||this.data.l.smps||this.segregateSamples(this.segregateSamplesBy,!0),0==this.segregateVariablesBy.length||this.data.l.vars||this.segregateVariables(this.segregateVariablesBy,!0)):this.segregateSamplesBy.length>0&&this.segregateVariablesBy.length>0?this.segregateSamplesVariables(!0):this.segregateSamplesBy.length>0?this.segregateSamples(this.segregateSamplesBy,!0):this.segregateVariablesBy.length>0&&this.segregateVariables(this.segregateVariablesBy,!0))},this.validateOverlays=function(){if(this.smpOverlays.length>0){for(var t=[],e=0;e<this.smpOverlays.length;e++)("-"==this.smpOverlays[e]||this.data.x&&this.data.x.hasOwnProperty(this.smpOverlays[e]))&&t.push(this.smpOverlays[e]);this.smpOverlays=t}if(this.varOverlays.length>0){for(t=[],e=0;e<this.varOverlays.length;e++)("-"==this.varOverlays[e]||this.data.z&&this.data.z.hasOwnProperty(this.varOverlays[e]))&&t.push(this.varOverlays[e]);this.varOverlays=t}},this.isDotplotGraph=function(){return!!this.graphType.match(/Dotplot/)||!("Boxplot"!=this.graphType||!this.showBoxplotOriginalData&&!this.showViolinBoxplot)},this.isAttributedGraph=function(){return this.colorBy||this.shapeBy||this.sizeBy||this.lineBy||this.patternBy},this.isSegregatable=function(){var t=this;return!(t.isTransitionOn&&(CanvasXpress.transitions[t.target].push([t.isSegregatable]),1)||this.isDOE||CanvasXpress.graphTypes.NonSegregatable.includes(this.graphType))},this.isDOEable=function(){return!(this.graphType.match(/Gantt|Circular|Fish|Meter|Network|Correlation|Genome|Pie|Scatter3D|TagCloud|Venn/)||this.is3DPlot||this.scatterPlotMatrix||this.isContour||this.isOncoprint)},this.validateNetworkDecorations=function(){if(this.decorations.length){for(var t=this.meta.data.nodes,e=[],i=0;i<this.decorations.length;i++)t.hasOwnProperty(this.decorations[i])&&e.push(this.decorations[i]);this.decorations=e}}},CanvasXpress.prototype.initConfigUtils=function(){this.encode=function(t){return btoa(encodeURIComponent(t).replace(/%([0-9A-F]{2})/g,(function(t,e){return String.fromCharCode("0x"+e)})))},this.decode=function(t){return decodeURIComponent(Array.prototype.map.call(atob(t),(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join(""))},this.getFileName=function(t){return t.substring(t.lastIndexOf("/")+1)},this.getTitleSubtitleHeight=function(){var t,e=0;return this.setTitleSubtitleFont(),this.title&&(t=this.title.split(/\n/),e+=(this.margin+this.getFontPt(this.titleFont))*t.length,this.subtitle&&(t=this.subtitle.split(/\n/),e+=(this.margin+this.getFontPt(this.subtitleFont))*t.length),e+=this.margin),e},this.setTitleSubtitleFont=function(){this.setPropertyFontSize(this.width,"titleFont"),this.adjustFont(this.title,"titleFont",this.width),this.setPropertyFontSize(this.width,"subtitleFont"),this.adjustFont(this.subtitle,"subtitleFont",this.width)},this.drawTitle=function(){if(this.setTitleSubtitleFont(),this.title){var t=this.title.split(/\n/),e=this.marginTop+(this.getFontPt(this.titleFont)+this.margin)*t.length;this.subtitle&&(t=this.subtitle.split(/\n/),e+=(this.getFontPt(this.subtitleFont)+this.margin)*t.length),this.titleColorBackground&&this.toRender({p:["drawShape","rectangle",this.width/2,e/2,this.width,e,this.titleColorBackground,this.titleColorBackground],t:"Titles"});var i="left"==this.titleAlign?this.marginLeft+this.left:"right"==this.titleAlign?this.width-(this.marginRight+this.right):this.width/2,a=this.marginTop+this.measureTextWidth(this.title,this.titleFont)/2;this.toRender({p:["drawText",this.title,i,a,this.titleFont,this.titleColor,"left"==this.titleAlign?"left":"right"==this.titleAlign?"right":"center","middle"],t:"Titles"}),this.subtitle&&(i="left"==this.subtitleAlign?this.marginLeft+this.left:"right"==this.subtitleAlign?this.width-(this.marginRight+this.right):this.width/2,this.toRender({p:["drawText",this.subtitle,i,a+this.getFontPt(this.titleFont)/2+this.margin+this.getFontPt(this.subtitleFont)/2,this.subtitleFont,this.subtitleColor,"left"==this.subtitleAlign?"left":"right"==this.subtitleAlign?"right":"center","middle"],t:"Titles"}))}},this.getCitationHeight=function(){var t,e=0;return this.setCitationFont(),this.citation&&(t=this.citation.split(/\n/),e+=(this.margin+this.getFontPt(this.citationFont))*t.length,e+=this.margin),e},this.setCitationFont=function(){var t=20*this.printMagnification;this.setPropertyFontSize(this.width,"citationFont",t);for(var e=this.measureText(this.citation,this.citationFont),i=1;e>this.width||i>9;)t/=2,this.setPropertyFontSize(this.width,"citationFont",t),e=this.measureText(this.citation,this.citationFont),i++},this.drawCitation=function(){if(this.citation){var t=this.width-this.margin,e=this.height-this.margin;this.toRender({p:["drawText",this.citation,t,e,this.citationFont,this.citationColor,"right","bottom"],t:"Citations"})}},this.getFontHeight=function(){return this.setMainFont(),this.getFontPt(this.font)},this.setMainFont=function(){var t;if(this.autoScaleFont){var e=1-this.percentAspectRatioPlotArea,i=this.layoutComb?this.width/this.layoutCols*e*2.5:this.width*e,a=this.layoutComb?this.height/this.layoutRows*e*2.5:this.height*e;t=Math.min(Math.max(parseInt(Math.max(i,a)/30*this.fontScaleFontFactor),this.minTextSize),this.maxTextSize)}else t=Math.min(Math.max(parseInt(this.fontSize*this.fontScaleFontFactor),this.minTextSize),this.maxTextSize);this.font=this.fontStyle+" "+t+"px "+this.fontName},this.setPropertyFontSize=function(t,e,i){if(t&&e){var a={titleFont:9,subtitleFont:7,decorationFont:5,axisTickFont:5,axisTitleFont:5,smpLabelFont:5,smpTitleFont:"Meter"==this.graphType?9:5,varLabelFont:5,varTitleFont:5,legendFont:3,overlayFont:-1,citationFont:-5,motionCurrentFont:55},s=e.replace("Font","ScaleFontFactor");this[e+"Size"]=Math.min(Math.max(parseInt(t/30*this[s])+a[e],this.minTextSize),i||this.maxTextSize),this[e]=this[e+"Style"]+" "+this[e+"Size"]+"px "+this.fontName}},this.adjustFont=function(t,e,i){if(t&&e&&i)for(var a=this.getFontPt(this[e]),s=this.measureText(t,this[e]);s>i&&a>this.minTextSize;)a--,this[e]=this[e+"Style"]+" "+a+"px "+this.fontName,s=this.measureText(t,this[e])},this.setAspectRatioProperties=function(){if(this.adjustAspectRatio&&"Genome"!=this.graphType){var t=this.meta.config.orig,e=(this.meta.config.user,Math.min(this.width,this.height)),i=(this.zoomScale&&this.zoom,["ringSeparation","roundedPolygonRadius","margin","marginLeft","marginTop","marginRight","marginBottom","overlaysThickness","dendrogramHeight","heatmapSeparatorThickness","xAxisHistogramHeight","xAxisRugHeight","yAxisHistogramHeight","yAxisRugHeight","dataPointSize","layoutLabelBoxThickness"]);this.adjustAspectRatioHeatmapIndicator&&(i.push("heatmapIndicatorHeight"),i.push("heatmapIndicatorWidth"));for(var a=0;a<i.length;a++)t[i[a]]||(t[i[a]]=this[i[a]]);for(a=0;a<i.length;a++)this[i[a]]=Number(Math.max(.5,e*this[i[a]]/833).toFixed(1));(this.isDOE||this.layoutValid&&this.graphType.match(/Scatter/)&&this.scatterPlotMatrix&&this.scatterPlotMatrixType.match(/Density|Histogram|all/))&&(this.dataPointSize=Number(Math.max(.5,this.dataPointSize/Math.max(this.layoutRows,this.layoutCols)).toFixed(1))*(this.isDOE?1.5:1))}},this.resetAspectRatioProperties=function(){if(this.adjustAspectRatio&&"Genome"!=this.graphType){if("Network"==this.graphType&&!this.isLayoutDone)return void this.setTimeout(this.resetAspectRatioProperties,50);var t=this.meta.config.orig,e=["ringSeparation","roundedPolygonRadius","margin","marginLeft","marginTop","marginRight","marginBottom","overlaysThickness","dendrogramHeight","heatmapSeparatorThickness","xAxisHistogramHeight","xAxisRugHeight","yAxisHistogramHeight","yAxisRugHeight","dataPointSize","layoutLabelBoxThickness"];this.adjustAspectRatioHeatmapIndicator&&(e.push("heatmapIndicatorHeight"),e.push("heatmapIndicatorWidth"));for(var i=0;i<e.length;i++)t[e[i]]&&(this[e[i]]=t[e[i]],delete t[e[i]])}},this.getGroupColor=function(t,e){var i;if(this.isGroupedData){var a=this.data.w.grps[e];if(a){this.isGroupedData=!1,i=this.getPropertyValue(t,a[0],"colorBy");for(var s=1;s<a.length;s++){if(this.getPropertyValue(t,a[s],"colorBy")!=i)return this.isGroupedData=!0,this.foreground}this.isGroupedData=!0}else i=this.getPropertyValue(t,e,"colorBy")}else i=this.getPropertyValue(t,e,"colorBy");return i},this.getVarColor=function(t,e){if(this.isArray(this.highlightVar)){for(var i=0;i<this.highlightVar.length;i++)if(this.highlightVar[i]==t)return this.varHighlightColor}else if(this.highlightVar==t)return this.varHighlightColor;return e?this.dendrogramColor:this.varLabelFontColor},this.getSmpColor=function(t,e){if(this.isArray(this.highlightSmp)){for(var i=0;i<this.highlightSmp.length;i++)if(this.highlightSmp[i]==t)return this.smpHighlightColor}else if(this.highlightSmp==t)return this.smpHighlightColor;return e?this.dendrogramColor:this.smpLabelFontColor},this.getNodeColor=function(t,e){if(this.isArray(this.highlightNode)){for(var i=0;i<this.highlightNode.length;i++)if(this.highlightNode[i]==t)return this.nodeHighlightColor}else if(this.highlightNode==t)return this.nodeHighlightColor;var a=this.isSelected(t),s="ghost"==this.selectionMode&&CanvasXpress.selector.selections&&!a;return a&&"highlight"==this.selectionMode?this.selectionColor:s?this.addColorTransparency(e,.1,!0):e||this.nodeColor},this.getEdgeColor=function(t,e,i){if(this.isArray(this.highlightNode)){for(var a=0;a<this.highlightNode.length;a++)if(this.highlightNode[a]==t||this.highlightNode[a]==e)return this.nodeHighlightColor}else if(this.highlightNode==t||this.highlightNode==e)return this.nodeHighlightColor;var s=this.isSelected(t)||this.isSelected(e),r="ghost"==this.selectionMode&&CanvasXpress.selector.selections&&!s;return s&&"highlight"==this.selectionMode?this.selectionColor:r?this.addColorTransparency(i,.1,!0):i||this.nodeColor},this.getDendrogramColor=function(t,e){if(t){if(this.colorVarDendrogramBy&&this.data.z&&this.data.z.hasOwnProperty(this.colorVarDendrogramBy))if((i=this.getVariableIndices(t))>-1)return this.getPropertyValue(i,!1,"colorVarDendrogramBy");return this.getVarColor(t,!0)}var i;return this.colorSmpDendrogramBy&&this.data.x&&this.data.x.hasOwnProperty(this.colorSmpDendrogramBy)&&(i=this.getSampleIndices(e))>-1?this.getPropertyValue(!1,i,"colorSmpDendrogramBy"):this.getSmpColor(e,!0)},this.isStringOverlays=function(t){var e=this.meta.data;if((!t||"v"==t)&&e.z&&this.varOverlays.length>0)for(var i=0;i<this.varOverlays.length;i++){var a=this.varOverlays[i];if("Numeric"!=e.z[a].type)return!0}if((!t||"s"==t)&&e.x&&this.smpOverlays.length>0)for(i=0;i<this.smpOverlays.length;i++){a=this.smpOverlays[i];if("Numeric"!=e.x[a].type)return!0}return!1},this.isUniqueFactor=function(t){var e=this.meta.data;if((!t||"v"==t)&&e.z)for(var i in e.z)if(e.z[i].unique)return!0;if((!t||"s"==t)&&e.x)for(var i in e.x)if(e.x[i].unique)return!0;return!1},this.isNumericFactor=function(t){var e=this.meta.data;if((!t||"v"==t)&&e.z)for(var i in e.z)if("Numeric"==e.z[i].type)return!0;if((!t||"s"==t)&&e.x)for(var i in e.x)if("Numeric"==e.x[i].type)return!0;return!1},this.isStringFactor=function(t){var e=this.meta.data;if((!t||"v"==t)&&e.z)for(var i in e.z)if("Numeric"!=e.z[i].type)return!0;if((!t||"s"==t)&&e.x)for(var i in e.x)if("Numeric"!=e.x[i].type)return!0;return!1},this.getBestSizes=function(t,e){if("Network"==this.graphType){for(var i=e?.5:.05,a=Math.min(parseInt(2/t*10)/10,i),s=[.5],r=0;r<t-1;r++)s.push(s[r]+a);return s}if(t>this.sizes.length)return this.cloneObject(this.sizes);s=[];var n=Math.floor(this.sizes.length/t);for(r=0;r<t;r++)s.push(this.sizes[r*n]);return s},this.isBinConfigurations=function(){for(var t in this.binConfigurations)return!0;return!1},this.initValidity=function(){var t=this.hexToString("686578546f537472696e67"),e=this[t]("6d657461"),i=this[t]("666163746f7279"),a=this[t]("636c69656e74"),s=this[t]("656e636f6465"),r=this[t]("73797374656d"),n=this[t]("76616c6964"),o=this[t]("74696d65"),h=this[t]("7374617274"),l=this[t]("73697465537263"),c=this[t]("757365724964"),d=(l=this[t]("76657273696f6e"),this[t]("68726566")),p=this[t]("69734e6f6465"),g=new RegExp(this[t]("63616e7661737870726573732e6f7267")),u=new RegExp(this[t]("5e66696c653a")),m=new RegExp(this[t]("6c6f63616c686f7374"));CanvasXpress[i][a]=this[s]([this[e][o][h],this[c],CanvasXpress[i][l],this[d]].join("::")),this.setPixelImage(),1==this[c]?window.navigator.onLine?this[d]&&CanvasXpress[i][l]||this[d]&&u.test(this[d])||this[d]&&m.test(this[d])?CanvasXpress[i][n]=0:this[d]&&!g.test(this[d])&&(CanvasXpress[i][n]=1):CanvasXpress[i][n]=0:2==this[c]?this.isR?CanvasXpress[i][n]=0:CanvasXpress[i][n]=3:CanvasXpress[r][p]&&this[c]<5?CanvasXpress[i][n]=4:CanvasXpress[i][n]=0},this.getWorstAspectRatio=function(t,e){if(t&&0!=t.length){for(var i=0,a=0,s=Number.MAX_VALUE,r=0;r<t.length;r++){var n=t[r].area;i+=n,s=s<n?s:n,a=a>n?a:n}var o=e*e,h=i*i;return Math.max(o*a/h,h/(o*s))}return Number.MAX_VALUE},this.adjustTreemapCoords=function(t,e){if(t){var i=this.treemapBorderWidth&&!this.isDOE?1:0,a=this.treemapBorderWidth,s=2*a,r=this.smpLabelFontSize*i;e.left+=a,e.height>r+s?(e.top+=r+a,e.height-=r+s,e.border=2):e.height>s?(e.top+=a,e.height-=s,e.border=1):e.height>a?(e.height-=a,e.border=0):e.border=-1,e.width-=s}},this.setTreemapRowVerticalLayout=function(t,e,i,a){for(var s=0,r=0;r<t.length;r++)s+=t[r].area;var n=s/e,o=0;for(r=0;r<t.length;r++){var h=t[r].area/n;t[r].coords={width:n,height:h,left:i.left,top:i.top+o},this.adjustTreemapCoords(a,t[r].coords),o+=h}var l={width:i.width-n,height:i.height,left:i.left+n,top:i.top};return l.orientation=Math.min(l.width,l.height),l.orientation!=l.height&&(this.treemapOrientation="horizontal"==this.treemapOrientation?"vertical":"horizontal"),l},this.setTreemapRowHorizontalLayout=function(t,e,i,a){for(var s=0,r=0;r<t.length;r++)s+=t[r].area;var n=s/e,o=i.top,h=0;for(r=0;r<t.length;r++){var l=t[r].area/n;t[r].coords={width:l,height:n,left:i.left+h,top:o},this.adjustTreemapCoords(a,t[r].coords),h+=l}var c={width:i.width,height:i.height-n,left:i.left,top:i.top+n};return c.orientation=Math.min(c.width,c.height),c.orientation!=c.width&&(this.treemapOrientation="horizontal"==this.treemapOrientation?"vertical":"horizontal"),c},this.setTreemapRowLayout=function(t,e,i,a){return"horizontal"==this.treemapOrientation?this.setTreemapRowVerticalLayout(t,e,i,a):this.setTreemapRowHorizontalLayout(t,e,i,a)},this.computeTreemapDimensions=function(t,e,i,a,s){if(t.length+e.length==1){var r=1==t.length?t:e;return r[0].coords=a,void this.adjustTreemapCoords(s,r[0].coords)}if(t.length>=2&&0==e.length&&(e=[t.shift()]),0!=t.length){var n=t[0];if(this.getWorstAspectRatio(e,i)>=this.getWorstAspectRatio([n].concat(e),i))this.computeTreemapDimensions(t.slice(1),e.concat([n]),i,a,n.title);else{var o=this.setTreemapRowLayout(e,i,a,s);this.computeTreemapDimensions(t,[],o.orientation,o,n.title)}}else e.length>0&&this.setTreemapRowLayout(e,i,a,s)},this.squarifyTreemap=function(t,e){for(var i=e.width*e.height,a=0,s=[],r=0;r<t.length;r++)s[r]=parseFloat(t[r].area),a+=s[r];for(r=0;r<s.length;r++)t[r].area=i*s[r]/a;var n="horizontal"==this.treemapOrientation?e.height:e.width;t.sort((function(t,e){return e.area-t.area})),this.computeTreemapDimensions(t.slice(1),[t[0]],n,e,t[0].title)},this.processTreemap=function(t,e){if(this.treemapOrientation||(this.treemapOrientation="horizontal"),e.width>=e.height?this.treemapOrientation="horizontal":this.treemapOrientation="vertical",t.length){this.squarifyTreemap(t,e);for(var i=0;i<t.length;i++){var a=t[i].children?t[i].children:t[i];e={width:t[i].coords.width,height:t[i].coords.height,left:t[i].coords.left,top:t[i].coords.top};this.processTreemap(a,e)}}return t},this.getCloudPointsAtRadius=function(t){if(this.tagCloudGridPoints[t])return this.tagCloudGridPoints[t];var e=8*t,i=e,a=[];for(0==t&&a.push([this.tagCloudGridCenter[0],this.tagCloudGridCenter[1],0]);i--;){var s=1;"circle"!==this.tagCloudShapeFunction&&(s=this.tagCloudShapeFunction(i/e*2*Math.PI)),a.push([this.tagCloudGridCenter[0]+t*s*Math.cos(-i/e*2*Math.PI),this.tagCloudGridCenter[1]+t*s*Math.sin(-i/e*2*Math.PI)*this.tagCloudTextEllipticity,i/e*2*Math.PI])}return this.tagCloudGridPoints[t]=a,a},this.getCloudRotateDeg=function(){return 0==this.tagCloudTextRotateRatio||this.random()>this.tagCloudTextRotateRatio?0:-Math.PI/2+this.random()*Math.PI},this.getCloudTextInfo=function(t,e,i){var a=Math.min(500,Math.floor(this.tagCloudTextWeightFactor*e)),s=this.$cX("canvas"),r=s.getContext("2d",{willReadFrequently:!0}),n=a+"px "+this.fontName;r.font=n;var o=this.measureText(t,n),h=a,l=o+2*h,c=3*h,d=Math.ceil(l/this.tagCloudTextGridSize),p=Math.ceil(c/this.tagCloudTextGridSize);l=d*this.tagCloudTextGridSize,c=p*this.tagCloudTextGridSize;var g=.5*-o,u=.5*-h,m=Math.ceil((l*Math.abs(Math.sin(i))+c*Math.abs(Math.cos(i)))/this.tagCloudTextGridSize),f=Math.ceil((l*Math.abs(Math.cos(i))+c*Math.abs(Math.sin(i)))/this.tagCloudTextGridSize),y=f*this.tagCloudTextGridSize,x=m*this.tagCloudTextGridSize;if(y<1||x<1)return{occupied:[],bounds:[0,0,0,0],gw:f,gh:m,fillTextOffsetX:g,fillTextOffsetY:u,fillTextWidth:o,fillTextHeight:h,fontSize:a};s.setAttribute("width",y),s.setAttribute("height",x),r.save(),r.translate(y/2,x/2),r.rotate(-i),r.font=a+"px "+this.fontName,r.fillStyle="#000",r.textBaseline="middle",r.fillText(t,g,u+.5*a),r.restore();for(var b,v,A,w=r.getImageData(0,0,y,x).data,C=[],T=f,S=[m/2,f/2,m/2,f/2];T--;)for(b=m;b--;){A=this.tagCloudTextGridSize;t:for(;A--;)for(v=this.tagCloudTextGridSize;v--;)if(w[4*((b*this.tagCloudTextGridSize+A)*y+(T*this.tagCloudTextGridSize+v))+3]){C.push([T,b]),T<S[3]&&(S[3]=T),T>S[1]&&(S[1]=T),b<S[0]&&(S[0]=b),b>S[2]&&(S[2]=b);break t}}return{occupied:C,bounds:S,gw:f,gh:m,fillTextOffsetX:g,fillTextOffsetY:u,fillTextWidth:o,fillTextHeight:h,fontSize:a}},this.canFitCloudText=function(t,e,i,a,s){for(var r=s.length;r--;){var n=t+s[r][0],o=e+s[r][1];if(n>=this.tagCloudGridWidth||o>=this.tagCloudGridHeight||n<0||o<0||!this.tagCloudGrid[n][o])return!1}return!0},this.fillCloudGridAt=function(t,e){t>=this.tagCloudGridWidth||e>=this.tagCloudGridHeight||t<0||e<0||(this.tagCloudGrid[t][e]=!1)},this.updateCloudGrid=function(t,e,i){for(var a=i.occupied,s=a.length;s--;)this.fillCloudGridAt(t+a[s][0],e+a[s][1])},this.drawCloudTag=function(t,e,i,a){var s=this,r=this.getCloudRotateDeg(),n=this.getCloudTextInfo(t,e,r);if(!n)return!1;var o=n.bounds;if(o[1]-o[3]+1>this.tagCloudGridWidth||o[2]-o[0]+1>this.tagCloudGridHeight)return!1;for(var h=this.tagCloudGridMaxRadius+1,l=this.addColorTransparency(i,0,!0),c=this.get1DLeft(),d=this.get1DTop();h--;){var p=this.getCloudPointsAtRadius(this.tagCloudGridMaxRadius-h);if(p=[].concat(p),this.shuffleArray(p),p.some((function(e){var o=Math.floor(e[0]-n.gw/2),h=Math.floor(e[1]-n.gh/2),p=n.gw,g=n.gh,u=n.fontSize+"px "+s.fontName,m="1px "+s.fontName;if(!s.canFitCloudText(o,h,p,g,n.occupied))return!1;var f=(o+n.gw/2)*s.tagCloudTextGridSize,y=(h+n.gh/2)*s.tagCloudTextGridSize;return s.renderTagCloud.push([["drawText",t,f+c,y+d,u,i,"center","middle",-r],a,!1,null,!1,[s.width/2,s.height/2,m,l,2*-Math.PI]]),s.updateCloudGrid(o,h,n),!0})))return!0}return!1},this.setTagCloud=function(t){this.tagCloudTextGridSize=Math.max(this.tagCloudTextGridSize,4),this.tagCloudGridWidth=Math.floor(this.x/this.tagCloudTextGridSize),this.tagCloudGridHeight=Math.floor(this.y/this.tagCloudTextGridSize),this.tagCloudGridCenter=[this.tagCloudGridWidth/2,this.tagCloudGridHeight/2],this.tagCloudGridMaxRadius=Math.floor(Math.sqrt(this.tagCloudGridWidth*this.tagCloudGridWidth+this.tagCloudGridHeight*this.tagCloudGridHeight)),this.tagCloudGridPoints=[],t?this.tagCloudTextWeightFactor*=t:this.setTagCloudTextWeightFactor(),this.tagCloudGrid=[];for(var e,i=this.tagCloudGridWidth;i--;)for(this.tagCloudGrid[i]=[],e=this.tagCloudGridHeight;e--;)this.tagCloudGrid[i][e]=!0},this.setTagCloudTextWeightFactor=function(){for(var t=0,e=0,i=this.varIndices[0],a=0;a<this.smpIndices.length;a++){var s=this.smpIndices[a],r=this.getDataAtPos(i,s),n=this.data.y.smps[s].length*r*.5*r;e=Math.max(n,e),t+=n}this.tagCloudTries||(this.tagCloudTries=1),e=parseInt(Math.max(this.x,this.y)),this.tagCloudTextWeightFactor=t>e?this.x*this.y/(t*this.tagCloudTries):this.x*this.y/(t*this.tagCloudTries*(e/t)),this.tagCloudTries+=1},this.tryRenderTagCloud=function(t){var e=this.randomSeed;this.renderTagCloud=[],this.setTagCloud(t);for(var i=this.varIndices[0],a=0;a<this.smpIndices.length;a++){var s=this.smpIndices[a],r=this.getDataAtPos(i,s),n=this.colorBy?this.getPropertyValue(i,s,"colorBy"):this.foreground;if(!this.drawCloudTag(this.data.y.smps[s],r,n,[i,s])){this.resizeCanvas(),this.renderTagCloud=[],this.pseudoRandom&&(this.randomSeed=e),this.tryRenderTagCloud(.9);break}}this.pseudoRandom&&(this.randomSeed=e)},this.getVariableColor=function(t){for(var e=0;e<this.data.y.vars.length;e++)if(this.data.y.vars[e]==t)return this.colors[e%this.colors.length];return this.colors[0]},this.getOutlineColor=function(t,e,i){var a;this.graphType.match(/Bar/)&&"lollipop"==this.barType&&!this.isGroupedData||this.useOpenShapes&&!i?a=this.removeColorTransparency(t,!0):a="Dotplot"==this.graphType||"Boxplot"==this.graphType&&this.showBoxplotOriginalData?(n=this.layoutValid?this.data.y.vars.length*this.data.y.smps.length:this.varIndices.length*this.smpIndices.length)>this.dotplotOutlineThreshold?t:"Boxplot"!=this.graphType||this.showViolinBoxplot?this.objectBorderColor?this.objectBorderColor:this.removeColorTransparency(t,!0):this.boxplotBorderColor:this.objectBorderColor&&"Map"!=this.graphType?this.objectBorderColor:this.removeColorTransparency(t,!0);if(e){var s=this.isSelected(e),r=this.isVarHighlughted(e[0]),n="ghost"==this.selectionMode&&CanvasXpress.selector.selections&&!s;a=r?this.varHighlightColor:s&&"highlight"==this.selectionMode?this.selectionColor:n?this.addColorTransparency(a,.1,!0):a}return a},this.getFillColor=function(t,e,i){var a=this.useOpenShapes&&!i&&(!this.isDOE||!this.layoutCurrent),s=this.addColorTransparency(t,a?0:this.objectColorTransparency,!0);if(e){var r=this.isSelected(e),n=this.isVarHighlughted(e[0]),o="ghost"==this.selectionMode&&CanvasXpress.selector.selections&&!r;s=n?this.varHighlightColor:r&&"highlight"==this.selectionMode?this.selectionColor:o?this.addColorTransparency(s,.1,!0):s}return s},this.isVarHighlughted=function(t){if(this.highlightVar.length&&null!=t){var e=this.data.y.vars[t];return this.highlightVar.includes(e)}},this.getDefaultMetaDataObject=function(){var t=this.meta.def.colorBrew;return{rmin:t.rmin,rmax:t.rmax,min:t.min,max:t.max,decs:t.decs,vals:t.vals,maxLevLen:t.maxLevLen,maxLevChr:t.maxLevChr,maxLevStr:t.maxLevStr,colorBrew:t}},this.resetCacheColors=function(){delete this.cacheColors},this.setCacheColors=function(){this.cacheColors||(this.cacheColors={}),this.cacheColors[this.colorScheme]||(this.cacheColors[this.colorScheme]={})},this.setPieData=function(t,e,i){this.setCacheColors();for(var a={no:0,idso:[],ids:[],cols:[],data:{},raw:{},oprc:0,tot:this.sum(t)},s=this.getCustomColorScheme(t.length),r=0;r<t.length;r++){var n,o=e?this.varIndices[r]:r,h=t[o]/a.tot,l=e?this.data.y.vars[o]:r;i&&i[r%i.length]?n=i[r%i.length]:this.cacheColors[this.colorScheme].hasOwnProperty(l)?n=this.cacheColors[this.colorScheme][l]:(n=this.pieColors[r]||s[r%s.length],this.cacheColors[this.colorScheme][l]=n),this.isNumber(h,!0)&&(a.data[o]=h,a.raw[o]=t[o],r>=this.maxPieSectors-1?(a.oprc+=h,a.idso.push(o),a.no++):a.ids.push(o),a.cols.push(n))}return a.no&&a.ids.push(-1),a},this.drawPie=function(t,e,i,a,s,r){var n=this;if(function(){for(var e=0;e<t.ids.length;e++)if(t.data[t.ids[e]]&&t.data[t.ids[e]]>-1&&!n.isNumber(t.data[t.ids[e]],!0))return!1;return!0}()){for(var o,h,l=null!=this.startPieSectors?this.startPieSectors*Math.PI/180%360:0,c="inside"==this.pieSegmentLabels?a-a/3:a+a/6,d=0,p=this.layoutComb?this.smpIndices[0]:this.xAxisIndices?this.xAxisIndices[0]:0,g=0;g<t.ids.length;g++){var u=(w=t.ids[g])>-1?t.data[w]:t.oprc,m="Network"==this.graphType||"Pie"!=this.graphType?s[g]:w>-1?[w,p]:t.idso,f="Map"==this.graphType?t.cols[g]:this.getFillColor(t.cols[g],m,this.isDOE),y=this.getOutlineColor(f,"Map"==this.graphType?g:m),x=((o=null!=h?parseFloat(h):parseFloat(Math.PI*(2*d)+l))+(h=parseFloat(o+Math.PI*(2*u))))/2,b="Network"==this.graphType||"Map"==this.graphType?"Decorations":"Pie"!=this.graphType?"Overlays":"Data";y="separated"==this.pieType?this.background:this.getOutlineColor(f);"Network"==this.graphType||"Map"==this.graphType?this.toRender({p:["drawShape","pie",e,i,2*a,a,f,y,"closed",!1,1,!1,!1,o,h],a:this.getShapeArea("pie",e,i,2*a,a,f,y,"closed",!1,1,!1,!1,o,h),i:"Map"==this.graphType?s[0]:s[g],m:r,t:b,h:this.isHidden("Map"==this.graphType?s[0][0]:s[g])}):"Pie"!=this.graphType?this.toRender({p:["drawShape","pie",e,i,2*a,a,f,y,"closed",!1,1,!1,!1,o,h],a:this.getShapeArea("pie",e,i,2*a,a,f,y,"closed",!1,1,!1,!1,o,h),i:s[g],t:b}):w>-1?(s=this.isDOE?[w,p,"Facet-"+this.layoutCurrent]:[w,p],this.toRender({p:["drawShape","pie",e,i,2*a,a,f,y,"closed",!1,1,!1,!1,o,h],a:this.getShapeArea("pie",e,i,2*a,a,f,y,"closed",!1,1,!1,!1,o,h),i:s,t:b,h:this.isHidden(s[0])})):this.toRender({p:["drawShape","pie",e,i,2*a,a,f,y,"closed",!1,1,!1,!1,o,h],a:this.getShapeArea("pie",e,i,2*a,a,f,y,"closed",!1,1,!1,!1,o,h),i:t.idso,t:b});var v=t.ids.length>1?e-Math.sin(x-Math.PI/2)*c:e,A=t.ids.length>1?i+Math.cos(x-Math.PI/2)*c:i;"Network"!=this.graphType&&"Map"!=this.graphType&&this.showPieValues&&h-o>.05&&("value"==this.pieLabelType?this.toRender({p:["drawText",t.raw[w],v,A,this.axisTickFont,this.axisTickColor,"center","middle"],t:b}):this.toRender({p:["drawText",this.sprintf("%."+this.pieSegmentPrecision+"f",100*u)+"%",v,A,this.axisTickFont,this.axisTickColor,"center","middle"],t:b})),d+=u}if(d=0,h=null,t.ids.length>1&&"Map"!=this.graphType)for(g=0;g<t.ids.length;g++){var w;u=(w=t.ids[g])>-1?t.data[w]:t.oprc,f=this.getFillColor(t.cols[g]);o=null!=h?parseFloat(h):parseFloat(Math.PI*(2*d)+l),h=parseFloat(o+Math.PI*(2*u));y="separated"==this.pieType?this.background:this.getOutlineColor(f);this.toRender({p:["drawShape","pie",e,i,2*a,a,!1,y,"open",!1,this.pieSegmentSeparation,!1,!1,o,h],s:!0,t:b}),d+=u}this.pieInnerRadius>0&&this.pieInnerRadius<1&&"Map"!=this.graphType&&this.toRender({p:["drawShape","circle",e,i,a*this.pieInnerRadius*2,a*this.pieInnerRadius*2,this.background,this.background,"closed"],t:b})}},this.drawBarPlot=function(t,e,i,a,s,r,n,o,h,l,c,d,p,g,u,m,f,y){var x,b,v,A,w=this,C=function(t){return w.isGroupedData?f.smps[w.data.w.smps[w.grpIndices[t]]]:f.smps[w.data.y.smps[w.smpIndices[t]]]},T=this.variableSpaceFactor/2,S=s/2,D=y?"Overlays":"Network"==this.graphType?"Decorations":"Data";if("vertical"==l||"Network"==this.graphType)for(var M=0;M<t.length;M++){x=(t[M]-h)*n-o;var k=f&&f.cap&&f.cap[C(M)]||"arrow"==this.barType?"arrow":this.useRoundRectangles&&x>0?"roundrectt":this.useRoundRectangles?"roundrectb":"rectangle",L=this.getFillColor(f?f.fill[C(M)]:c[M],p[M]),I=s-this.variableSpaceFactor>5?this.getOutlineColor(L,p[M]):L,B=this.isHidden(p[M][0],p[M][1]);if(this.isNumber(x,!0)){if(this.barPath){var N=this.addColorTransparency(this.barPathColor||L,this.barPathTransparency);this.toRender({p:["drawShape","rectangle",i+T+(s-this.variableSpaceFactor)/2,o+this.y/2,s-this.variableSpaceFactor,2*this.y,N,N],t:"Decorations"})}if(E=x<0?this.toRender({p:["drawShape",k,i+T+(s-this.variableSpaceFactor)/2,a+-x/2,s-this.variableSpaceFactor,-x,L,I,d[M],!1,!1,u],a:this.getShapeArea(k,i+T+(s-this.variableSpaceFactor)/2,a+-x/2,s-this.variableSpaceFactor,-x,L,I,d[M],!1,!1,u),i:p[M],m:g,t:D,h:B}):this.toRender({p:["drawShape",k,i+T+(s-this.variableSpaceFactor)/2,a-x/2,s-this.variableSpaceFactor,x,L,I,d[M],!1,!1,u],a:this.getShapeArea(k,i+T+(s-this.variableSpaceFactor)/2,a-x/2,s-this.variableSpaceFactor,x,L,I,d[M],!1,!1,u),i:p[M],m:g,t:D,h:B}),v=a-x,A=i+S,e[M]&&this.isNumber(e[M],!0)&&(b=e[M]/2*n,this.toRender({p:["drawLine","error",A,v,A,v-b,this.errorBarsColor,-S,"butt"],g:E,t:D,h:B}),this.toRender({p:["drawLine","error",A,v,A,v+b,this.errorBarsColor,-S,"butt"],g:E,t:D,h:B})),f){var F=C(M);for(var P in f)if("cap"!=P&&"high"!=P&&"color"!=P&&"fill"!=P&&f[P][F])for(var R=0;R<f[P][F].length;R++){var O=(f[P][F][R][0]-h)*n-o,X=(f[P][F][R][1]-h)*n-o,z=i+T+(s-this.variableSpaceFactor)/2;this.toRender({p:["drawShape",this.shapes[0],z,a-O,s/2,s/2,f.color[P],f.color[P]],g:E,t:D,h:B}),this.isNumber(X,!0)?this.toRender({p:["drawShape",this.shapes[1],z,a-X,s/2,s/2,f.color[P],f.color[P]],g:E,t:D,h:B}):X=x-this.margin,this.toRender({p:["drawLine","line",z,a-O,z,a-X,f.color[P],this.margin],g:E,t:D,h:B})}}this.showDataValues&&"lollipop"!=this.barType&&this.toRender({p:["drawText",this.formatNumber(t[M]),A,a-(x+this.margin/4),this.smpLabelFont,L,"center","bottom"],g:E,t:D,h:B})}i+=r}else for(M=0;M<t.length;M++){var E;x=(t[M]-h)*n-o;k=f&&f.cap&&f.cap[C(M)]||"arrow"==this.barType?"arrow":this.useRoundRectangles?m||x<0?"roundrectl":"roundrectr":"rectangle",L=this.getFillColor(f?f.fill[C(M)]:c[M],p[M]),I=s-this.variableSpaceFactor>5?this.getOutlineColor(L,p[M]):L,B=this.isHidden(p[M][0],p[M][1]);if(this.isNumber(x,!0)){if(this.barPath){N=this.addColorTransparency(this.barPathColor||L,this.barPathTransparency);this.toRender({p:["drawShape","rectangle",o+this.x/2,a+T+(s-this.variableSpaceFactor)/2,2*this.x,s-this.variableSpaceFactor,N,N],t:"Decorations"})}if(E=x<0?m?this.toRender({p:["drawShape",k,i+m-o+-x/2,a+T+(s-this.variableSpaceFactor)/2,-x,s-this.variableSpaceFactor,L,I,d[M],"arrow"==k,!1,u],a:this.getShapeArea(k,i+m-o+-x/2,a+T+(s-this.variableSpaceFactor)/2,-x,s-this.variableSpaceFactor,L,I,d[M],"arrow"==k,!1,u),i:p[M],m:g,t:D,h:B}):this.toRender({p:["drawShape",k,i+x+-x/2,a+T+(s-this.variableSpaceFactor)/2,-x,s-this.variableSpaceFactor,L,I,d[M],"arrow"==k,!1,u],a:this.getShapeArea(k,i+x+-x/2,a+T+(s-this.variableSpaceFactor)/2,-x,s-this.variableSpaceFactor,L,I,d[M],"arrow"==k,!1,u),i:p[M],m:g,t:D,h:B}):m?this.toRender({p:["drawShape",k,i+m-(x+o)+x/2,a+T+(s-this.variableSpaceFactor)/2,x,s-this.variableSpaceFactor,L,I,d[M],"arrow"==k,!1,u],a:this.getShapeArea(k,i+m-(x+o)+x/2,a+T+(s-this.variableSpaceFactor)/2,x,s-this.variableSpaceFactor,L,I,d[M],"arrow"==k,!1,u),i:p[M],m:g,t:D,h:B}):this.toRender({p:["drawShape",k,i+x/2,a+T+(s-this.variableSpaceFactor)/2,x,s-this.variableSpaceFactor,L,I,d[M],"arrow"==k,!1,u],a:this.getShapeArea(k,i+x/2,a+T+(s-this.variableSpaceFactor)/2,x,s-this.variableSpaceFactor,L,I,d[M],"arrow"==k,!1,u),i:p[M],m:g,t:D,h:B}),v=m?i+m-(x+o):i+x,A=a+S,e[M]&&this.isNumber(e[M],!0)&&(b=e[M]/2*n,this.toRender({p:["drawLine","error",v,A,v+b,A,this.errorBarsColor,S,"butt"],g:E,t:D,h:B}),this.toRender({p:["drawLine","error",v,A,v-b,A,this.errorBarsColor,S,"butt"],g:E,t:D,h:B})),f){F=C(M);for(var P in f)if("cap"!=P&&"high"!=P&&"color"!=P&&"fill"!=P&&f[P][F])for(R=0;R<f[P][F].length;R++){O=(f[P][F][R][0]-h)*n-o,X=(f[P][F][R][1]-h)*n-o;var _=a+T+(s-this.variableSpaceFactor)/2;this.toRender({p:["drawShape",this.shapes[0],i+O,_,s/2,s/2,f.color[P],f.color[P]],g:E,t:D,h:B}),this.isNumber(X,!0)?this.toRender({p:["drawShape",this.shapes[1],i+X,_,s/2,s/2,f.color[P],f.color[P]],g:E,t:D,h:B}):X=x-this.margin,this.toRender({p:["drawLine","line",i+O,_,i+X,_,f.color[P],this.margin],g:E,t:D,h:B})}}this.showDataValues&&"lollipop"!=this.barType&&this.toRender({p:["drawText",this.formatNumber(t[M]),v+this.margin/4,A,this.smpLabelFont,c[M],"left","middle"],g:E,t:D,h:B})}a+=r}},this.drawLinePlot=function(t,e,i,a,s,r,n,o,h,l,c,d,p,g,u,m,f,y){var x,b,v,A,w,C,T,S,D,M,k=function(){var t=[[],[]];if("vertical"==h){for(var e=0;e<O[0].length;e++)t[0].push(O[0][e]),t[1].push(O[1][e][0]);for(e=O[0].length-1;e>=0;e--)t[0].push(O[0][e]),t[1].push(O[1][e][1])}else{for(e=0;e<O[1].length;e++)t[0].push(O[0][e][0]),t[1].push(O[1][e]);for(e=O[1].length-1;e>=0;e--)t[0].push(O[0][e][1]),t[1].push(O[1][e])}return t},L=null,I=null,B=s/2,N=Math.min(10,s/3),F="open"==c?l:this.foreground,P=t.length-1,R=[[],[]],O=[[],[]],X=[],z=this.getVariableIndices(f),E=y?"Overlays":"Data";if("vertical"==h){b=i,v=i+r,null==L&&(L=b);for(var _=1;_<t.length;_++){if(x=_-1,this.isObject(n)?(w=a-(t[x]-n[x].min)*n[x].units,C=a-(t[_]-n[_].min)*n[_].units):(w=a-(t[x]-o)*n,C=a-(t[_]-o)*n),null==I&&(I=w),M=!!this.lineBy&&this.isHidden(!1,!1,"Property:"+this.lineBy+":"+p[x][2]+":x"),this.isNumber(w,!0)&&(S=this.lineDecoration&&"pattern"!=this.lineDecoration&&d?this.toRender({p:["drawShape",d,b,w,N,N,l,F,c[x],!1,!1,u],a:this.getShapeArea(d,b,w,N,N,l,F,c[x],!1,!1,u),i:p[x],m:g,g:D,b:[L,I],t:E,h:this.lineBy?M:this.isHidden(p[x][0],p[x][1])}):this.toRender({p:["drawShape","sphere",b,w,N,N,this.addColorTransparency(l,0,!0),"rgba(0,0,0,0)",c[x],!1,!1,u],a:this.getShapeArea("sphere",b,w,N,N,this.addColorTransparency(l,0,!0),"rgba(0,0,0,0)",c[x],!1,!1,u),i:p[x],m:g,g:D,b:[L,I],t:E,h:this.lineBy?M:this.isHidden(p[x][0],p[x][1])}),this.showDataValues&&this.toRender({p:["drawText",this.formatNumber(t[x]),b,w-this.margin,this.smpLabelFont,this.smpLabelFontColor,"center","bottom"],t:E,h:this.lineBy?M:this.isHidden(p[x][0],p[x][1])}),D||(D=S),this.isNumber(e[x],!0)&&(T=e[x]/2*this.isObject(n)?n[x].units:n,"bar"==this.lineErrorType?(this.toRender({p:["drawLine","error",b,w,b,w+T,l,-B,"butt"],a:this.getLineArea("error",b,w,b,w+T,l,-B,"butt"),i:["Line:"+f+":"+z],g:D,b:[L,I],t:E,h:this.lineBy?M:this.isHidden(z)}),this.toRender({p:["drawLine","error",b,w,b,w-T,l,-B,"butt"],a:this.getLineArea("error",b,w,b,w-T,l,-B,"butt"),i:["Line:"+f+":"+z],g:D,b:[L,I],t:E,h:this.lineBy?M:this.isHidden(z)})):(O[0].push([b,b]),O[1].push([w+T,w-T]),X.push([b,w]))),"spline"==this.lineType&&(R[0].push(b),R[1].push(w))),"spline"!=this.lineType&&this.isNumber(w,!0)&&this.isNumber(C,!0)||t.length<3?S=this.toRender({p:["drawLine","pattern"==this.lineDecoration||this.patternBy?c[x]:this.lineType,b,w,v,C,l,this.lineThickness,"butt",!1,!1,u],a:this.getLineArea("line",b,w,v,C,l,this.lineThickness,"butt",!1,!1,u),i:["Line:"+f+":"+z],g:D,b:[L,I],t:E,h:this.lineBy?M:this.isHidden(z)}):"spline"!=this.lineType||this.isNumber(C,!0)||(S=this.toRender({p:["drawLine","spline",R[0],R[1],!1,!1,l,this.lineThickness,!1,!1,!1,u],a:this.getLineArea("spline",R[0],R[1],!1,!1,l,this.lineThickness,!1,!1,!1,u),i:["Line:"+f+":"+z],g:D,b:[L,I],t:E,h:this.lineBy?M:this.isHidden(z)}),R=[[],[]],L=null,I=null),D||(D=S),O[0].length>0&&!this.isNumber(C,!0)){var H=this.addColorTransparency(l,.3,!0);if("spline"==this.lineType)this.toRender({p:["drawShape","confidence",O[0],O[1],!1,!1,H,H,"closed"],a:this.getShapeArea("confidence",O[0],O[1],!1,!1,H,H,"closed"),i:["Line-Error:"+f+":"+z],b:X,t:E,h:this.lineBy?M:this.isHidden(z)});else{var V=k();this.toRender({p:["drawShape","path",V[0],V[1],!1,!1,H,H,"closed"],a:this.getShapeArea("path",V[0],V[1],!1,!1,H,H,"closed"),i:["Line-Error:"+f+":"+z],b:X,t:E,h:this.lineBy?M:this.isHidden(z)})}O=[[],[]],X=[]}b+=r,v+=r}if(M=!!this.lineBy&&this.isHidden(!1,!1,"Property:"+this.lineBy+":"+p[P][2]+":x"),this.isNumber(C,!0)&&(S=this.lineDecoration&&"pattern"!=this.lineDecoration&&d?this.toRender({p:["drawShape",d,b,C,N,N,l,F,c[P],!1,!1,u],a:this.getShapeArea(d,b,C,N,N,l,F,c[P],!1,!1,u),i:p[P],m:g,g:D,b:[L,I],t:E,h:this.lineBy?M:this.isHidden(p[P][0],p[P][1])}):this.toRender({p:["drawShape","sphere",b,C,N,N,this.addColorTransparency(l,0,!0),"rgba(0,0,0,0)",c[P],!1,!1,u],a:this.getShapeArea("sphere",b,C,N,N,this.addColorTransparency(l,0,!0),"rgba(0,0,0,0)",c[P],!1,!1,u),i:p[P],m:g,g:D,b:[L,I],t:E,h:this.lineBy?M:this.isHidden(p[P][0],p[P][1])}),this.showDataValues&&this.toRender({p:["drawText",this.formatNumber(t[P]),b,C-this.margin,this.smpLabelFont,this.smpLabelFontColor,"center","bottom"],t:E,h:this.lineBy?M:this.isHidden(p[P][0],p[P][1])}),D||(D=S),this.isNumber(e[P],!0)&&(T=e[P]/2*this.isObject(n)?n[P].units:n,"bar"==this.lineErrorType?(this.toRender({p:["drawLine","error",b,C,b,C+T,l,-B,"butt"],a:this.getLineArea("error",b,C,b,C+T,l,-B,"butt"),i:["Line:"+f+":"+z],g:D,t:E,h:this.lineBy?M:this.isHidden(z)}),this.toRender({p:["drawLine","error",b,C,b,C-T,l,-B,"butt"],a:this.getLineArea("error",b,C,b,C-T,l,-B,"butt"),i:["Line:"+f+":"+z],g:D,t:E,h:this.lineBy?M:this.isHidden(z)})):_==t.length&&(O[0].push([b,b]),O[1].push([C+T,C-T]),X.push([b,C]))),"spline"==this.lineType&&(R[0].push(b),R[1].push(C))),"spline"==this.lineType&&(S=this.toRender({p:["drawLine","spline",R[0],R[1],!1,!1,l,this.lineThickness,!1,!1,!1,u],a:this.getLineArea("spline",R[0],R[1],!1,!1,l,this.lineThickness,!1,!1,!1,u),i:["Line:"+f+":"+z],b:[L,I],t:E,h:this.lineBy?M:this.isHidden(z)})),D||(D=S),O[0].length>0){H=this.addColorTransparency(l,.3,!0);if("spline"==this.lineType)this.toRender({p:["drawShape","confidence",O[0],O[1],!1,!1,H,H,"closed"],a:this.getShapeArea("confidence",O[0],O[1],!1,!1,H,H,"closed"),i:["Line-Error:"+f+":"+z],b:X,t:E,h:this.lineBy?M:this.isHidden(z)});else{V=k();this.toRender({p:["drawShape","path",V[0],V[1],!1,!1,H,H,"closed"],a:this.getShapeArea("path",V[0],V[1],!1,!1,H,H,"closed"),i:["Line-Error:"+f+":"+z],b:X,t:E,h:this.lineBy?M:this.isHidden(z)})}}}else{w=a,C=a+r,null==I&&(I=w);for(_=1;_<t.length;_++){if(x=_-1,this.isObject(n)?(b=m?i+m-(t[x]-n[x].min)*n[x].units:i+(t[x]-n[x].min)*n[x].units,v=m?i+m-(t[_]-n[_].min)*n[_].units:i+(t[_]-n[_].min)*n[_].units):(b=m?i+m-(t[x]-o)*n:i+(t[x]-o)*n,v=m?i+m-(t[_]-o)*n:i+(t[_]-o)*n),null==L&&(L=b),M=!!this.lineBy&&this.isHidden(!1,!1,"Property:"+this.lineBy+":"+p[x][2]+":x"),this.isNumber(b,!0)&&(this.lineDecoration&&"pattern"!=this.lineDecoration&&d?this.toRender({p:["drawShape",d,b,w,N,N,l,F,c[x],!1,!1,u],a:this.getShapeArea(d,b,w,N,N,l,F,c[x],!1,!1,u),i:p[x],m:g,b:[L,I],t:E,h:this.lineBy?M:this.isHidden(p[x][0],p[x][1])}):this.toRender({p:["drawShape","sphere",b,w,N,N,this.addColorTransparency(l,0,!0),"rgba(0,0,0,0)",c[x],!1,!1,u],a:this.getShapeArea("sphere",b,w,N,N,this.addColorTransparency(l,0,!0),"rgba(0,0,0,0)",c[x],!1,!1,u),i:p[x],m:g,b:[L,I],t:E,h:this.lineBy?M:this.isHidden(p[x][0],p[x][1])}),this.showDataValues&&this.toRender({p:["drawText",this.formatNumber(t[x]),b,w-this.margin,this.smpLabelFont,this.smpLabelFontColor,"center","bottom"],t:E,h:this.lineBy?M:this.isHidden(p[x][0],p[x][1])}),this.isNumber(e[x],!0)&&(A=e[x]/2*this.isObject(n)?n[x].units:n,"bar"==this.lineErrorType?(S=this.toRender({p:["drawLine","error",b,w,b+A,w,l,B,"butt"],a:this.getLineArea("error",b,w,b+A,w,l,B,"butt"),i:["Line:"+f+":"+z],g:D,t:E,h:this.lineBy?M:this.isHidden(z)}),D||(D=S),this.toRender({p:["drawLine","error",b,w,b-A,w,l,B,"butt"],a:this.getLineArea("error",b,w,b-A,w,l,B,"butt"),i:["Line:"+f+":"+z],g:D,t:E,h:this.lineBy?M:this.isHidden(z)})):(O[0].push([b+A,b-A]),O[1].push([w,w]),X.push([b,w]))),"spline"==this.lineType&&(R[0].push(b),R[1].push(w))),"spline"!=this.lineType&&this.isNumber(b,!0)&&this.isNumber(v,!0)||t.length<3?S=this.toRender({p:["drawLine","pattern"==this.lineDecoration||this.patternBy?c[x]:this.lineType,b,w,v,C,l,this.lineThickness,"butt",!1,!1,u],a:this.getLineArea("line",b,w,v,C,l,this.lineThickness,"butt",!1,!1,u),i:["Line:"+f+":"+z],b:[L,I],t:E,h:this.lineBy?M:this.isHidden(z)}):"spline"!=this.lineType||this.isNumber(v,!0)||(S=this.toRender({p:["drawLine","spline",R[0],R[1],!1,!1,l,this.lineThickness,!1,!1,!1,u],a:this.getLineArea("spline",R[0],R[1],!1,!1,l,this.lineThickness,!1,!1,!1,u),i:["Line:"+f+":"+z],b:[L,I],t:E,h:this.lineBy?M:this.isHidden(z)}),R=[[],[]],L=null,I=null),D||(D=S),O[1].length>0&&!this.isNumber(v,!0)){H=this.addColorTransparency(l,.3,!0);if("spline"==this.lineType)this.toRender({p:["drawShape","confidence",O[0],O[1],!1,!1,H,H,"closed"],a:this.getShapeArea("confidence",O[0],O[1],!1,!1,H,H,"closed"),i:["Line-Error:"+f+":"+z],b:X,t:E,h:this.lineBy?M:this.isHidden(z)});else{V=k();this.toRender({p:["drawShape","path",V[0],V[1],!1,!1,H,H,"closed"],a:this.getShapeArea("path",V[0],V[1],!1,!1,H,H,"closed"),i:["Line-Error:"+f+":"+z],b:X,t:E,h:this.lineBy?M:this.isHidden(z)})}O=[[],[]],X=[]}w+=r,C+=r}if(M=!!this.lineBy&&this.isHidden(!1,!1,"Property:"+this.lineBy+":"+p[P][2]+":x"),this.isNumber(v,!0)&&(this.lineDecoration&&"pattern"!=this.lineDecoration&&d?this.toRender({p:["drawShape",d,v,w,N,N,l,F,c[P],!1,!1,u],a:this.getShapeArea(d,v,w,N,N,l,F,c[P],!1,!1,u),i:p[P],m:g,b:[L,I],t:E,h:this.lineBy?M:this.isHidden(p[P][0],p[P][1])}):this.toRender({p:["drawShape","sphere",v,w,N,N,this.addColorTransparency(l,0,!0),"rgba(0,0,0,0)",c[P],!1,!1,u],a:this.getShapeArea("sphere",v,w,N,N,this.addColorTransparency(l,0,!0),"rgba(0,0,0,0)",c[P],!1,!1,u),i:p[P],m:g,b:[L,I],t:E,h:this.lineBy?M:this.isHidden(p[P][0],p[P][1])}),this.showDataValues&&this.toRender({p:["drawText",this.formatNumber(t[P]),v,w-this.margin,this.smpLabelFont,this.smpLabelFontColor,"center","bottom"],t:E,h:this.lineBy?M:this.isHidden(p[P][0],p[P][1])}),this.isNumber(e[P],!0)&&(A=e[P]/2*this.isObject(n)?n[P].units:n,"bar"==this.lineErrorType?(S=this.toRender({p:["drawLine","error",v,w,v+A,w,l,B,"butt"],a:this.getLineArea("error",v,w,v+A,w,l,B,"butt"),i:["Line:"+f+":"+z],g:D,t:E,h:this.lineBy?M:this.isHidden(z)}),D||(D=S),this.toRender({p:["drawLine","error",v,w,v-A,w,l,B,"butt"],a:this.getLineArea("error",v,w,v-A,w,l,B,"butt"),i:["Line:"+f+":"+z],g:D,t:E,h:this.lineBy?M:this.isHidden(z)})):(O[0].push([v+A,v-A]),O[1].push([w,w]),X.push([v,w]))),"spline"==this.lineType&&(R[0].push(v),R[1].push(w))),"spline"==this.lineType&&(S=this.toRender({p:["drawLine","spline",R[0],R[1],!1,!1,l,this.lineThickness,!1,!1,!1,u],a:this.getLineArea("spline",R[0],R[1],!1,!1,l,this.lineThickness,!1,!1,!1,u),i:["Line:"+f+":"+z],b:[L,I],t:E,h:this.lineBy?M:this.isHidden(z)})),D||(D=S),O[1].length>0){H=this.addColorTransparency(l,.3,!0);if("spline"==this.lineType)this.toRender({p:["drawShape","confidence",O[0],O[1],!1,!1,H,H,"closed"],a:this.getShapeArea("confidence",O[0],O[1],!1,!1,H,H,"closed"),i:["Line-Error:"+f+":"+z],b:X,t:E,h:this.lineBy?M:this.isHidden(z)});else{V=k();this.toRender({p:["drawShape","path",V[0],V[1],!1,!1,H,H,"closed"],a:this.getShapeArea("path",V[0],V[1],!1,!1,H,H,"closed"),i:["Line-Error:"+f+":"+z],b:X,t:E,h:this.lineBy?M:this.isHidden(z)})}}}},this.drawStackedPlot=function(t,e,i,a,s,r,n,o,h,l,c,d,p,g,u,m,f){var y=i,x=e,b=this,v=f?"Overlays":"Data",A=function(t,e,i,a,s){return b.processTreemap(t,{width:a,height:s,left:e,top:i})};if("vertical"==l){i=y-h;for(var w=0;w<t.length;w++)if(t[w]>0){var C=r?100*t[w]/n[0]*o:t[w]*o,T=w==t.length-1&&this.useRoundRectangles?"roundrectt":"rectangle",S=this.getFillColor(c[w],p[w]),D=a>5?this.getOutlineColor(S,p[w]):S;if("Network"==this.graphType)this.toRender({p:["drawShape",T,e+a/2,i-C/2,a,C,c[w],c[w]],a:this.getShapeArea(T,e+a/2,i-C/2,a,C,c[w],c[w]),i:p[w],m:g,t:"Decorations"});else if(s){var M=A(s[w],e,i-C,a,C);this.drawTreemap(M,0,0)}else{var k=this.stackBy?this.isHidden(!1,!1,"Property:"+this.stackBy+":"+p[w][4]+":x"):this.isHidden(p[w][0],p[w][1]),L=this.toRender({p:["drawShape",T,e+a/2,i-C/2,a,C,S,D,d[w]],a:this.getShapeArea(T,e+a/2,i-C/2,a,C,S,D,d[w]),i:p[w],m:g,b:m,t:v,h:k});this.showDataValues&&this.toRender({p:["drawText",this.formatNumber(t[w]),e+a/2,i-C/2,this.smpLabelFont,this.smpLabelFontColor,"center","middle"],g:L,t:v,h:k})}i-=C}i=y-h;for(w=t.length-1;w>=0;w--)if(t[w]<0){C=r?100*t[w]/-n[1]*o:t[w]*o,T=w>0||!this.useRoundRectangles?"rectangle":"roundrectb",S=this.getFillColor(c[w],p[w]),D=a>5?this.getOutlineColor(S,p[w]):S;if("Network"==this.graphType)this.toRender({p:["drawShape",T,e+a/2,i-C/2,a,-C,c[w],c[w]],a:this.getShapeArea(T,e+a/2,i-C/2,a,-C,c[w],c[w]),i:p[w],m:g,t:"Decorations"});else if(s){M=A(s[w],e,i-C,a,-C);this.drawTreemap(M,0,0)}else{k=this.stackBy?this.isHidden(!1,!1,"Property:"+this.stackBy+":"+p[w][4]+":x"):this.isHidden(p[w][0],p[w][1]),L=this.toRender({p:["drawShape",T,e+a/2,i-C/2,a,-C,S,D,d[w]],a:this.getShapeArea(T,e+a/2,i-C/2,a,-C,S,D,d[w]),i:p[w],m:g,b:m,t:v,h:k});this.showDataValues&&this.toRender({p:["drawText",this.formatNumber(t[w]),e+a/2,i-C/2,this.smpLabelFont,this.smpLabelFontColor,"center","middle"],g:L,t:v,h:k})}i-=C}}else{e=x+h;for(w=0;w<t.length;w++)if(t[w]>0){C=r?100*t[w]/n[0]*o:t[w]*o,T=w<t.length-1||!this.useRoundRectangles?"rectangle":u?"roundrectl":"roundrectr",S=this.getFillColor(c[w],p[w]),D=a>5?this.getOutlineColor(S,p[w]):S;if(u){if("Network"==this.graphType)this.toRender({p:["drawShape",T,e+u-C/2,i+a/2,C,a,c[w],c[w],d[w]],a:this.getShapeArea(T,e+u-C/2,i+a/2,C,a,c[w],c[w],d[w]),i:p[w],m:g,t:"Decorations"});else if(s){M=A(s[w],e+u-C,i,C,a);this.drawTreemap(M,0,0)}else{k=this.stackBy?this.isHidden(!1,!1,"Property:"+this.stackBy+":"+p[w][4]+":x"):this.isHidden(p[w][0],p[w][1]),L=this.toRender({p:["drawShape",T,e+u-C/2,i+a/2,C,a,S,D,d[w]],a:this.getShapeArea(T,e+u-C/2,i+a/2,C,a,S,D,d[w]),i:p[w],m:g,b:m,t:v,h:k});this.showDataValues&&this.toRender({p:["drawText",this.formatNumber(t[w]),e+u-C/2,i+a/2,this.smpLabelFont,this.smpLabelFontColor,"center","middle"],g:L,t:v,h:k})}e-=C}else{if("Network"==this.graphType)this.toRender({p:["drawShape",T,e+C/2,i+a/2,C,a,c[w],c[w],d[w]],a:this.getShapeArea(T,e+C/2,i+a/2,C,a,c[w],c[w],d[w]),i:p[w],m:g,t:"Decorations"});else if(s){f=A(s[w],e,i,C,a);this.drawTreemap(f,0,0)}else{k=this.stackBy?this.isHidden(!1,!1,"Property:"+this.stackBy+":"+p[w][4]+":x"):this.isHidden(p[w][0],p[w][1]),L=this.toRender({p:["drawShape",T,e+C/2,i+a/2,C,a,S,D,d[w]],a:this.getShapeArea(T,e+C/2,i+a/2,C,a,S,D,d[w]),i:p[w],m:g,b:m,t:v,h:k});this.showDataValues&&this.toRender({p:["drawText",this.formatNumber(t[w]),e+C/2,i+a/2,this.smpLabelFont,this.smpLabelFontColor,"center","middle"],g:L,t:v,h:k})}e+=C}}e=x+h;for(w=t.length-1;w>=0;w--)if(t[w]<0){C=r?100*t[w]/-n[1]*o:t[w]*o,T=w>0||!this.useRoundRectangles?"rectangle":u?"roundrectr":"roundrectl",S=this.getFillColor(c[w],p[w]),D=a>5?this.getOutlineColor(S,p[w]):S;if(u){if("Network"==this.graphType)this.toRender({p:["drawShape",T,e+u-C/2,i+a/2,-C,a,c[w],c[w],d[w]],a:this.getShapeArea(T,e+u-C/2,i+a/2,-C,a,c[w],c[w],d[w]),i:p[w],m:g,t:"Decorations"});else if(s){M=A(s[w],e+u-C,i,-C,a);this.drawTreemap(M,0,0)}else{k=this.stackBy?this.isHidden(!1,!1,"Property:"+this.stackBy+":"+p[w][4]+":x"):this.isHidden(p[w][0],p[w][1]),L=this.toRender({p:["drawShape",T,e+u-C/2,i+a/2,-C,a,S,D,d[w]],a:this.getShapeArea(T,e+u-C/2,i+a/2,-C,a,S,D,d[w]),i:p[w],m:g,b:m,t:v,h:k});this.showDataValues&&this.toRender({p:["drawText",this.formatNumber(t[w]),e+u-C/2,i+a/2,this.smpLabelFont,this.smpLabelFontColor,"center","middle"],g:L,t:v,h:k})}e-=C}else{if("Network"==this.graphType)this.toRender({p:["drawShape",T,e+C/2,i+a/2,-C,a,c[w],c[w],d[w]],a:this.getShapeArea(T,e+C/2,i+a/2,-C,a,c[w],c[w],d[w]),i:p[w],m:g,t:"Decorations"});else if(s){f=A(s[w],e,i,-C,a);this.drawTreemap(f,0,0)}else{k=this.stackBy?this.isHidden(!1,!1,"Property:"+this.stackBy+":"+p[w][4]+":x"):this.isHidden(p[w][0],p[w][1]),L=this.toRender({p:["drawShape",T,e+C/2,i+a/2,-C,a,S,D,d[w]],a:this.getShapeArea(T,e+C/2,i+a/2,-C,a,S,D,d[w]),i:p[w],m:g,b:m,t:v,h:k});this.showDataValues&&this.toRender({p:["drawText",this.formatNumber(t[w]),e+C/2,i+a/2,this.smpLabelFont,this.smpLabelFontColor,"center","middle"],g:L,t:v,h:k})}e+=C}}}},this.drawAreaPlot=function(t,e,i,a,s,r,n,o,h,l,c,d,p,g,u,m,f,y,x,b){var v=t.length-1,A=p&&"rect"==this.lineType?"path":"rect"==this.lineType?"polygon":"spline",w=[],C=[],T=[],S=-l*h,D=c*h,M=b?"Overlays":"Data",k=function(e,i){for(var a=i+1;a<t[e].length;a++){if(t[e][a]>0)return 1;if(t[e][a]<0)return-1}return 0};if("vertical"==d){for(var L=0;L<t[0].length;L++)w[L]="stacked"==n&&l<0?i-D:i,C[L]=i-D;for(L=0;L<t.length;L++){for(var I=e,B=p?[]:[e],N=p?[]:[i-S],F=0,P=0;P<t[0].length;P++){if(this.isNumber(t[L][P],!0)){var R="percent"==n?100*(t[L][P]-l)/o[P]*h:(t[L][P]-("stacked"==n&&l<0?0:l))*h;if(B.push(I),!n||"stacked"!=n&&"percent"!=n)N.push(i-R);else if(t[L][P]>0||F>0)N.push(w[P]-R),w[P]-=R,F=1;else if(t[L][P]<0||F<0)N.push(C[P]-R),C[P]-=R,F=-1;else(H=k(L,P))<0?(N.push(C[P]-R),C[P]-=R,F=-1):H>0?(N.push(w[P]-R),w[P]-=R,F=1):N.push(S)}else{if(p||(B.push(I-r),N.push(i-S)),p&&"spline"==this.lineType)this.toRender({p:["drawLine",A,B,N,!1,!1,g[L],this.lineThickness],a:this.getLineArea(A,B,N,!1,!1,g[L],this.lineThickness),i:m[L],m:f,b:i-S,t:M,h:this.isHidden(m[L][0])});else if(l>=0&&v>0&&"normal"!=n){var O=T[T.length-1][1];B.shift();var X=[],z=[];for(L=1;L<N.length;L++)X.push([B[L-1],B[L-1]]),z.push([N[L],O[L]]);this.toRender({p:["drawShape","confidence",X,z,this.width,this.height,this.getFillColor(g[v],m[v]),this.getOutlineColor(g[v],m[v]),u[v]],a:this.getShapeArea("confidence",X,z,this.width,this.height,this.getFillColor(g[v],m[v]),this.getOutlineColor(g[v],m[v]),u[v]),i:m[v],m:f,b:i-S,t:M,h:this.isHidden(m[v][0])})}else this.toRender({p:["drawShape",A,B,N,this.width,this.height,this.getFillColor(g[L],m[L]),this.getOutlineColor(g[L],m[L]),u[L]],a:this.getShapeArea(A,B,N,this.width,this.height,this.getFillColor(g[L],m[L]),this.getOutlineColor(g[L],m[L]),u[L]),i:m[L],m:f,b:i-S,t:M,h:this.isHidden(m[L][0])});if(x)for(var E=this.addColorTransparency(g[L],0,!0),_=0;_<B.length;_++)G=this.toRender({p:["drawShape","sphere",B[_],N[_],r,r,E,"rgba(0,0,0,0)",u[L]],a:this.getShapeArea("sphere",B[_],N[_],r,r,E,"rgba(0,0,0,0)",u[L]),i:[m[L][0],x[_]],s:!0,t:M}),p||this.toRender({p:["drawLine","line",B[_],N[_]+r,B[_],N[0],E,r],a:this.getLineArea("line",B[_],N[_]+r,B[_],N[0],E,r),i:[m[L][0],x[_]],g:G,s:!0,t:M});B=p?[]:[I+r],N=p?[]:[i-S]}I+=r}p||(B.push(e+a),N.push(i-S)),T.push([B,N,g[L],u[L],m[L]])}}else{for(L=0;L<t[0].length;L++)w[L]=y?e+y:"stacked"==n&&l<0?e+D:e,C[L]=e+D;for(L=0;L<t.length;L++){for(I=i,B=p?[]:y?[e+y]:[e+S],N=p?[]:[i],F=0,P=0;P<t[0].length;P++){if(this.isNumber(t[L][P],!0)){var H;R="percent"==n?100*(t[L][P]-l)/o[P]*h:(t[L][P]-("stacked"==n&&l<0?0:l))*h;if(N.push(I),!n||"stacked"!=n&&"percent"!=n)B.push(y?e+y-R:e+R);else if(y)B.push(w[P]-R),w[P]-=R;else if(t[L][P]>0||F>0)B.push(w[P]+R),w[P]+=R,F=1;else if(t[L][P]<0||F<0)B.push(C[P]+R),C[P]+=R,F=-1;else(H=k(L,P))<0?(B.push(C[P]+R),C[P]+=R,F=-1):H>0?(B.push(w[P]+R),w[P]+=R,F=1):N.push(S)}else{if(p||(B.push(y?e+y:e+S),N.push(I-r)),p&&"spline"==this.lineType)this.toRender({p:["drawLine",A,B,N,!1,!1,g[L],this.lineThickness],a:this.getLineArea(A,B,N,!1,!1,g[L],this.lineThickness),i:m[L],m:f,b:e+S,t:M,h:this.isHidden(m[L][0])});else{O=T[T.length-1][0];if(l>=0&&v>0&&"normal"!=n){N.shift();for(X=[],z=[],L=1;L<B.length;L++)X.push([B[L],O[L]]),z.push([N[L-1],N[L-1]]);this.toRender({p:["drawShape","confidence",X,z,this.width,this.height,this.getFillColor(g[v],m[v]),this.getOutlineColor(g[v],m[v]),u[v]],a:this.getShapeArea("confidence",X,z,this.width,this.height,this.getFillColor(g[v],m[v]),this.getOutlineColor(g[v],m[v]),u[v]),i:m[v],m:f,b:e+S,t:M,h:this.isHidden(m[v][0])})}else this.toRender({p:["drawShape",A,B,N,this.width,this.height,this.getFillColor(g[L],m[L]),this.getOutlineColor(g[L],m[L]),u[L]],a:this.getShapeArea(A,B,N,this.width,this.height,this.getFillColor(g[L],m[L]),this.getOutlineColor(g[L],m[L]),u[L]),i:m[L],m:f,b:e+S,t:M,h:this.isHidden(m[L][0])})}if(x)for(E=this.addColorTransparency(g[L],0,!0),_=0;_<B.length;_++)G=this.toRender({p:["drawShape","sphere",B[_],N[_],r,r,E,"rgba(0,0,0,0)",u[L]],a:this.getShapeArea("sphere",B[_],N[_],r,r,E,"rgba(0,0,0,0)",u[L]),i:[m[L][0],x[_]],s:!0,t:M}),p||this.toRender({p:["drawLine","line",B[_]-r,N[_],B[0],N[_],E,r],a:this.getLineArea("line",B[_]-r,N[_],B[0],N[_],E,r),i:[m[L][0],x[_]],g:G,s:!0,t:M});B=p?[]:[y?e+y:e+S],N=p?[]:[I+r]}I+=r}p||(B.push(y?e+y:e+S),N.push(i+s)),T.push([B,N,g[L],u[L],m[L]])}}for(;v>=0;){P=T.pop();if(p)if("spline"==this.lineType)this.toRender({p:["drawLine",A,P[0],P[1],!1,!1,P[2],this.lineThickness],a:this.getLineArea(A,P[0],P[1],!1,!1,P[2],this.lineThickness),i:P[4],m:f,b:"vertical"==d?i-S:e+S,t:M,h:this.isHidden(P[4][0])});else{var V=null;for(L=1;L<P[0].length;L++){var G=this.toRender({p:["drawLine",A,P[0][L-1],P[1][L-1],P[0][L],P[1][L],P[2],this.lineThickness],a:this.getLineArea(A,P[0][L-1],P[1][L-1],P[0][L],P[1][L],P[2],this.lineThickness),i:P[4],m:f,g:V,b:"vertical"==d?i-S:e+S,t:M,h:this.isHidden(P[4][0])});null==V&&(V=G)}}else if(l>=0&&v>0&&"normal"!=n){O="vertical"==d?T[T.length-1][1]:T[T.length-1][0];if("vertical"==d){P[0].shift(),P[0].pop();for(X=[],z=[],L=1;L<P[1].length-1;L++)X.push([P[0][L-1],P[0][L-1]]),z.push([P[1][L],O[L]]);P[1].shift(),P[1].pop(),this.toRender({p:["drawShape","confidence",X,z,this.width,this.height,this.getFillColor(P[2]),this.getOutlineColor(P[2]),P[3]],a:this.getShapeArea("confidence",X,z,this.width,this.height,this.getFillColor(P[2]),this.getOutlineColor(P[2]),P[3]),i:P[4],m:f,b:i-S,t:M,h:this.isHidden(P[4][0])})}else{P[1].shift(),P[1].pop();for(X=[],z=[],L=1;L<P[0].length-1;L++)X.push([P[0][L],O[L]]),z.push([P[1][L-1],P[1][L-1]]);P[0].shift(),P[0].pop(),this.toRender({p:["drawShape","confidence",X,z,this.width,this.height,this.getFillColor(P[2]),this.getOutlineColor(P[2]),P[3]],a:this.getShapeArea("confidence",X,z,this.width,this.height,this.getFillColor(P[2]),this.getOutlineColor(P[2]),P[3]),i:P[4],m:f,b:e+S,t:M,h:this.isHidden(P[4][0])})}}else if("normal"==n||"stacked"==n)this.toRender({p:["drawShape",A,P[0],P[1],this.width,this.height,this.getFillColor(P[2]),this.getOutlineColor(P[2]),P[3]],a:this.getShapeArea(A,P[0],P[1],this.width,this.height,this.getFillColor(P[2]),this.getOutlineColor(P[2]),P[3]),i:P[4],m:f,b:"vertical"==d?i-S:e+S,t:M,h:this.isHidden(P[4][0])});else if("vertical"==d){for(z=[],L=1;L<P[1].length-1;L++)z.push([P[1][L],P[1][0]]);this.toRender({p:["drawShape","confidence",X,z,this.width,this.height,this.getFillColor(P[2]),this.getOutlineColor(P[2]),P[3]],a:this.getShapeArea("confidence",X,z,this.width,this.height,this.getFillColor(P[2]),this.getOutlineColor(P[2]),P[3]),i:P[4],m:f,b:i-S,t:M,h:this.isHidden(P[4][0])})}else{for(X=[],L=1;L<P[0].length-1;L++)X.push([P[0][L],P[0][0]]);this.toRender({p:["drawShape","confidence",X,z,this.width,this.height,this.getFillColor(P[2]),this.getOutlineColor(P[2]),P[3]],a:this.getShapeArea("confidence",X,z,this.width,this.height,this.getFillColor(P[2]),this.getOutlineColor(P[2]),P[3]),i:P[4],m:f,b:e+S,t:M,h:this.isHidden(P[4][0])})}if(x){E=this.addColorTransparency(P[2],0,!0);var q=Math.min(10,r);for(L=1;L<P[0].length-1;L++)this.isGraphTime&&x[L-1]<0||(G=this.toRender({p:["drawShape","sphere",P[0][L],P[1][L],q,q,E,"rgba(0,0,0,0)",P[3]],a:this.getShapeArea("sphere",P[0][L],P[1][L],q,q,E,"rgba(0,0,0,0)",P[3]),i:[P[4][0],x[L-1]],s:!0,t:M}),p||("vertical"==d?this.toRender({p:["drawLine","line",P[0][L],P[1][L]+r,P[0][L],P[1][0],E,r],a:this.getLineArea("line",P[0][L],P[1][L]+r,P[0][L],P[1][0],E,r),i:[P[4][0],x[L-1]],g:G,s:!0,t:M}):this.toRender({p:["drawLine","line",P[0][L]-r,P[1][L],P[0][0],P[1][L],E,r],a:this.getLineArea("line",P[0][L]-r,P[1][L],P[0][0],P[1][L],E,r),i:[P[4][0],x[L-1]],g:G,s:!0,t:M})))}v--}},this.drawBoxPlot=function(t,e,i,a,s,r,n,o,h,l,c,d,p,g){var u=this,m=this.segregateSamplesBy.length&&this.isGroupedData&&this.groupingFactors.includes(this.segregateSamplesBy[0]),f=function(t){var e;if(u.layoutValid&&!u.isDOE){if(u.segregateVariablesBy.length>0)e=t;else if(u.segregateSamplesBy.length>0)for(var i=m?u.data.w.labs[t]?u.data.w.labs[t]:u.data.w.glab[t]:[u.data.l.name[u.layoutCurrent],u.data.w.glab[t]].join("::"),a=0;a<x.g[b].length;a++)if(x.g[b][a].density.name==i){e=a;break}}else e=u.grpIndices[t];return x.g[b][e]},y=function(t){return"vertical"==o?i-(t-n)*r:e+(t-n)*r},x=this.meta.data.d,b=this.getVariableIndices(g),v=this.variableSpaceFactor/2,A=a/2,w=A/2,C=a/this.boxplotOutliersRatio,T={},S={},D=!1,M=this.isGroupedData&&this.showViolinBoxplot&&this.isRawData?(a-this.variableSpaceFactor)*this.boxplotWidthRatioIfViolin:a-this.variableSpaceFactor,k=this.isGroupedData&&this.showViolinBoxplot&&this.isRawData?a*this.boxplotWidthRatioIfViolin:0,L=this.isGroupedData&&this.showViolinBoxplot&&this.isRawData?k/2:A,I=Math.max(1,a/4);if("vertical"==o)for(var B=0;B<t.length;B++)if(this.isGraphTime&&c[B][1]<0)e+=s;else{var N=this.showBoxplotOriginalData?this.isHidden(c[B][0]):this.scatterPlotMatrix&&"boxplot"==this.scatterType?this.isHidden(!1,!1,c[B][1]):this.isHidden(c[B][0],c[B][1],!1,!0);if(this.isGroupedData&&this.showViolinBoxplot&&this.isRawData&&t[B].length>1)(Y=f(this.layoutValid?c[B][1]:B))&&(this.drawViolin(Y,e+a/2,i,a/this.varIndices.length,r,n,o,d[B],p[B],c[B],N,t[B]),this.showBoxplotIfViolin||(D=!0));for(var F=e+A,P=[],R=[],O=this.showBoxplotOriginalData||this.showViolinBoxplot?d[B]:h[B],X=0;X<5;X++)P.push(y(t[B][X])),R.push(P[P.length-1].toString());if(!D){var z=e+v+(a-this.variableSpaceFactor)/2,E=P[3]+(P[2]-P[3])/2,_=M,H=P[2]-P[3],V=!!this.boxplotNotched&&y(t[B][7][0]),G=!!this.boxplotNotched&&y(t[B][7][1]),q=this.showBoxplotOriginalData?this.addColorTransparency(this.getFillColor(h[B],c[B]),this.boxplotTransparency,!0):this.getFillColor(h[B],c[B]),j=this.boxplotBorderColor||this.getOutlineColor(q,c[B]),U=this.useOpenShapes?j:this.boxplotBorderColor||this.boxplotMedianColor;if(this.boxplotVarWidth&&"Scatter2D"!=this.graphType&&(k+=(M-(_=M*t[B][8]))/2),this.boxplotColor&&(q=this.boxplotColor),this.boxplotNotched&&"range"!=this.boxplotType?(W=this.showViolinBoxplot?[e+(a-v-k)-I,e+v+k,e+v+k,e+(a-v-k),e+(a-v-k),e+v+k+I,e+(a-v-k)-I]:[e+v+k+I,e+v+k,e+v+k,e+(a-v-k),e+(a-v-k),e+(a-v-k)-I,e+v+k+I],$=[P[4],V,P[2],P[2],V,P[4],P[4]],Q=this.toRender({p:["drawShape","polygon",W,$,!1,!1,q,j,l[B]],a:this.getShapeArea("polygon",W,$,!1,!1,q,j,l[B]),i:c[B],b:i,t:"Data",h:N}),$=[P[4],G,P[3],P[3],G,P[4],P[4]],this.toRender({p:["drawShape","polygon",W,$,!1,!1,q,j,l[B]],a:this.getShapeArea("polygon",W,$,!1,!1,q,j,l[B]),i:c[B],g:Q,b:i,t:"Data",h:N})):Q="range"==this.boxplotType?this.toRender({p:["drawLine","line",z,P[1],z,P[0],this.useOpenShapes?j:q,C,"round"],a:this.getLineArea("line",z,P[1],z,P[0],this.useOpenShapes?j:q,C,"round"),i:c[B],b:i,t:"Data",h:N}):this.toRender({p:["drawShape",this.useRoundRectangles?"roundrect":"rectangle",z,E,_,H,q,j,l[B]],a:this.getShapeArea(this.useRoundRectangles?"roundrect":"rectangle",z,E,_,H,q,j,l[B]),i:c[B],b:i,t:"Data",h:N}),0!=this.unique(R).length&&(this.boxplotNotched&&"range"!=this.boxplotType?this.toRender({p:["drawLine","median",e+v+k+I,P[4],e+(a-v-k)-I,P[4],U,this.boxplotMedianWidth,"butt"],a:this.getLineArea("median",e+v+k+I,P[4],e+(a-v-k)-I,P[4],U,this.boxplotMedianWidth,"butt"),i:c[B],g:Q,t:"Data",h:N}):"range"==this.boxplotType?this.toRender({p:["drawShape","sphere",z,P[4],2.5*C,2.5*C,this.useOpenShapes?j:q,this.useOpenShapes?j:q],a:this.getShapeArea("sphere",z,P[4],2.5*C,2.5*C,this.useOpenShapes?j:q,this.useOpenShapes?j:q),i:c[B],g:Q,t:"Data",h:N}):this.toRender({p:["drawLine","median",e+v+k,P[4],e+(a-v-k),P[4],U,this.boxplotMedianWidth,"butt"],a:this.getLineArea("median",e+v+k,P[4],e+(a-v-k),P[4],U,this.boxplotMedianWidth,"butt"),i:c[B],g:Q,t:"Data",h:N}),"range"!=this.boxplotType&&("single"==this.boxplotWhiskersType?(this.toRender({p:["drawLine","line",F,P[2],F,P[0],j,!1,"butt"],a:this.getLineArea("line",F,P[2],F,P[0],j,!1,"butt"),i:c[B],g:Q,t:"Data",h:N}),this.toRender({p:["drawLine","line",F,P[3],F,P[1],j,!1,"butt"],a:this.getLineArea("line",F,P[3],F,P[1],j,!1,"butt"),i:c[B],g:Q,t:"Data",h:N})):"double"==this.boxplotWhiskersType&&(this.toRender({p:["drawLine","error",F,P[2],F,P[0],j,-L,"butt"],a:this.getLineArea("error",F,P[2],F,P[0],j,-L,"butt"),i:c[B],g:Q,t:"Data",h:N}),this.toRender({p:["drawLine","error",F,P[3],F,P[1],j,-L,"butt"],a:this.getLineArea("error",F,P[3],F,P[1],j,-L,"butt"),i:c[B],g:Q,t:"Data",h:N})))),this.boxplotMean&&this.toRender({p:["drawShape",this.useRoundRectangles?"roundrect":"rectangle",F,y(t[B][6]),w,w,this.boxplotMeanColor,this.boxplotMeanColorBorder],a:this.getShapeArea(this.useRoundRectangles?"roundrect":"rectangle",F,y(t[B][6]),w,w,this.boxplotMeanColor,this.boxplotMeanColorBorder),i:c[B],g:Q,b:i,t:"Data",h:N}),t[B][5]&&!this.showBoxplotOriginalData)for(X=0;X<t[B][5].length;X++)this.toRender({p:["drawShape","sphere",F,y(t[B][5][X]),C,C,q,j,l[B]],a:this.getShapeArea("sphere",F,y(t[B][5][X]),C,C,q,j,l[B]),i:c[B],g:Q,b:i,t:"Data",h:N})}T.hasOwnProperty(O)||(T[O]=[],S[O]=this.cloneObject(c[B])),T[O].push([e+v+a/2,P[4]]),e+=s}else for(B=0;B<t.length;B++)if(this.isGraphTime&&c[B][1]<0)i+=s;else{var Y;N=this.showBoxplotOriginalData?this.isHidden(c[B][0]):this.isHidden(c[B][0],c[B][1],!1,!0);if(this.isGroupedData&&this.showViolinBoxplot&&this.isRawData&&t[B].length>1)(Y=f(this.layoutValid?c[B][1]:B))&&(this.drawViolin(Y,e,i+a/2,a/this.varIndices.length,r,n,o,d[B],p[B],c[B],N,t[B]),this.showBoxplotIfViolin||(D=!0));for(F=i+A,P=[],R=[],O=this.showBoxplotOriginalData||this.showViolinBoxplot?d[B]:h[B],X=0;X<5;X++)P.push(y(t[B][X])),R.push(P[P.length-1].toString());if(!D){var W,$;z=P[2]+(P[3]-P[2])/2,E=i+v+(a-this.variableSpaceFactor)/2,_=P[3]-P[2],H=M,V=!!this.boxplotNotched&&y(t[B][7][0]),G=!!this.boxplotNotched&&y(t[B][7][1]),q=this.showBoxplotOriginalData?this.addColorTransparency(this.getFillColor(h[B],c[B]),this.boxplotTransparency,!0):this.getFillColor(h[B],c[B]),j=this.boxplotBorderColor||this.getOutlineColor(q,c[B]),U=this.useOpenShapes?j:this.boxplotBorderColor||this.boxplotMedianColor;if(this.boxplotVarWidth&&"Scatter2D"!=this.graphType&&(k+=(M-(H=M*t[B][8]))/2),this.boxplotColor&&(q=this.boxplotColor),this.boxplotNotched&&"range"!=this.boxplotType?(W=[P[4],V,P[2],P[2],V,P[4],P[4]],$=this.showViolinBoxplot?[i+(a-v-k)-I,i+v+k,i+v+k,i+(a-v-k),i+(a-v-k),i+v+k+I,i+(a-v-k)-I]:[i+v+k+I,i+v+k,i+v+k,i+(a-v-k),i+(a-v-k),i+(a-v-k)-I,i+v+k+I],Q=this.toRender({p:["drawShape","polygon",W,$,!1,!1,q,j,l[B]],a:this.getShapeArea("polygon",W,$,!1,!1,q,j,l[B]),i:c[B],b:i,t:"Data",h:N}),W=[P[4],G,P[3],P[3],G,P[4],P[4]],this.toRender({p:["drawShape","polygon",W,$,!1,!1,q,j,l[B]],a:this.getShapeArea("polygon",W,$,!1,!1,q,j,l[B]),i:c[B],g:Q,b:i,t:"Data",h:N})):Q="range"==this.boxplotType?this.toRender({p:["drawLine","line",P[0],E,P[1],E,this.useOpenShapes?j:q,C,"round"],a:this.getLineArea("line",P[0],E,P[1],E,this.useOpenShapes?j:q,C,"round"),i:c[B],b:e,t:"Data",h:N}):this.toRender({p:["drawShape",this.useRoundRectangles?"roundrect":"rectangle",z,E,_,H,q,j,l[B]],a:this.getShapeArea(this.useRoundRectangles?"roundrect":"rectangle",z,E,_,H,q,j,l[B]),i:c[B],b:e,t:"Data",h:N}),0!=this.unique(R).length&&(this.boxplotNotched&&"range"!=this.boxplotType?this.toRender({p:["drawLine","median",P[4],i+v+k+I,P[4],i+(a-v-k)-I,U,this.boxplotMedianWidth,"butt"],a:this.getLineArea("median",P[4],i+v+k+I,P[4],i+(a-v-k)-I,U,this.boxplotMedianWidth,"butt"),i:c[B],g:Q,t:"Data",h:N}):"range"==this.boxplotType?this.toRender({p:["drawShape","sphere",P[4],E,2.5*C,2.5*C,this.useOpenShapes?j:q,this.useOpenShapes?j:q],a:this.getShapeArea("sphere",P[4],E,2.5*C,2.5*C,this.useOpenShapes?j:q,this.useOpenShapes?j:q),i:c[B],g:Q,t:"Data",h:N}):this.toRender({p:["drawLine","median",P[4],i+v+k,P[4],i+(a-v-k),U,this.boxplotMedianWidth,"butt"],a:this.getLineArea("median",P[4],i+v+k,P[4],i+(a-v-k),U,this.boxplotMedianWidth,"butt"),i:c[B],g:Q,t:"Data",h:N}),"range"!=this.boxplotType&&("single"==this.boxplotWhiskersType?(this.toRender({p:["drawLine","line",P[2],F,P[0],F,j,!1,"butt"],a:this.getLineArea("line",P[2],F,P[0],F,j,!1,"butt"),i:c[B],g:Q,t:"Data",h:N}),this.toRender({p:["drawLine","line",P[3],F,P[1],F,j,!1,"butt"],a:this.getLineArea("line",P[3],F,P[1],F,j,!1,"butt"),i:c[B],g:Q,t:"Data",h:N})):"double"==this.boxplotWhiskersType&&(this.toRender({p:["drawLine","error",P[2],F,P[0],F,j,L,"butt"],a:this.getLineArea("error",P[2],F,P[0],F,j,L,"butt"),i:c[B],g:Q,t:"Data",h:N}),this.toRender({p:["drawLine","error",P[3],F,P[1],F,j,L,"butt"],a:this.getLineArea("error",P[3],F,P[1],F,j,L,"butt"),i:c[B],g:Q,t:"Data",h:N})))),this.boxplotMean&&this.toRender({p:["drawShape",this.useRoundRectangles?"roundrect":"rectangle",y(t[B][6]),F,w,w,this.boxplotMeanColor,this.boxplotMeanColorBorder],a:this.getShapeArea(this.useRoundRectangles?"roundrect":"rectangle",y(t[B][6]),F,w,w,this.boxplotMeanColor,this.boxplotMeanColorBorder),i:c[B],g:Q,b:e,t:"Data",h:N}),t[B][5]&&!this.showBoxplotOriginalData)for(X=0;X<t[B][5].length;X++)this.toRender({p:["drawShape","sphere",y(t[B][5][X]),F,C,C,q,j,l[B]],a:this.getShapeArea("sphere",y(t[B][5][X]),F,C,C,q,j,l[B]),i:c[B],g:Q,b:e,t:"Data",h:N})}T.hasOwnProperty(O)||(T[O]=[],S[O]=this.cloneObject(c[B])),T[O].push([P[4],i+v+a/2]),i+=s}if(this.boxplotConnect)for(var O in T)if(T[O].length>1){var Q=this.toRender({p:["drawLine","line",T[O][0][0],T[O][0][1],T[O][1][0],T[O][1][1],O,this.boxplotConnectWidth,"butt"],a:this.getLineArea("line",T[O][0][0],T[O][0][1],T[O][1][0],T[O][1][1],O,this.boxplotConnectWidth,"butt"),i:["Line:",S[O][0],S[O][1]],t:"Data",h:N});for(B=1;B<T[O].length-1;B++)this.toRender({p:["drawLine","line",T[O][B][0],T[O][B][1],T[O][B+1][0],T[O][B+1][1],O,this.boxplotConnectWidth,"butt"],a:this.getLineArea("line",T[O][B][0],T[O][B][1],T[O][B+1][0],T[O][B+1][1],O,this.boxplotConnectWidth,"butt"),i:["Line:",S[O][0],S[O][1]],g:Q,t:"Data",h:N})}},this.drawGanttPlot=function(t,e,i,a,s,r,n,o,h,l,c,d){for(var p=function(t){return s+(t-h)*o},g=null,u=0;u<t.length;u++){var m=p(t[u][0]),f=p(t[u][1]),y=m+(f-m)/2,x=r+n/2,b=f-m,v=!!e[u]&&b*e[u],A=this.getFillColor(c[u],d[u]),w=this.addColorTransparency(A,this.ganttCompletionTransparency,!0),C=this.getOutlineColor(A,d[u]),T=this.isHidden(!1,d[u][0]),S=this.toRender({p:["drawShape","roundrect",y,x,b,n,w,w,l[u]],a:this.getShapeArea("roundrect",y,x,b,n,w,w,l[u]),i:d[u],g:g,b:s,t:"Data",h:T});if(g||(g=S),e[u]&&(1==e[u]?this.toRender({p:["drawShape","roundrect",y,x,b,n,A,A,l[u]],a:this.getShapeArea("roundrect",y,x,b,n,A,A,l[u]),i:d[u],g:g,b:s,t:"Data",h:T}):this.toRender({p:["drawShape","roundrectl",y-(b-v)/2,x,v,n,A,A,l[u]],a:this.getShapeArea("roundrectl",y-(b-v)/2,x,v,n,A,A,l[u]),i:d[u],g:g,b:s,t:"Data",h:T})),this.toRender({p:["drawShape","roundrect",y,x,b,n,!1,C,"open"],a:this.getShapeArea("roundrect",y,x,b,n,!1,C,"open"),i:d[u],g:g,b:s,t:"Data",h:T}),a.length)for(var D=0;D<a.length;D++){var M=p(a[D][0]);this.toRender({p:["drawShape","triangle2",M,r,n/3,n/3,A,C],a:this.getShapeArea("triangle2",M,r,n/3,n/3,A,C),i:[].concat(d[u].concat(a[D][1])),g:g,b:s,t:"Data",h:T})}if(i[u]){var k=p(i[u][0]),L=p(i[u][1]),I=i[u][2]+n/2,B=x==I?L:k+(L-k)/2,N=x==I?I:I+n/2,F=y-b/2,P=x;this.toRender({p:["drawLine",N==P?"line":"roundLine",B,N,F,P,this.getOutlineColor(i[u][4]),i[u][5],"butt",0,0,!1,!1,!1,!1,i[u][3]],a:this.getLineArea(N==P?"line":"roundLine",B,N,F,P,this.getOutlineColor(i[u][4]),i[u][5],"butt",0,0,!1,!1,!1,!1,i[u][3]),i:d[u],g:g,b:s,t:"Data",h:T})}}},this.drawViolin=function(t,e,i,a,s,r,n,o,h,l,c,d){var p,g,u,m,f,y,x=[],b=[],v=[],A=[],w=[[],[]];switch(this.violinScale){case"area":p=a/t.density.maxY*t.density.maxY/t.scale*.9;break;case"count":p=a/t.density.maxY*t.density.sumY/t.area*.9;break;case"width":p=a/t.density.maxY*.9}var C=this.addColorTransparency(this.violinColor||o,this.showBoxplotOriginalData&&!this.violinColor?0:this.violinTransparency,!0);if(this.violinTrim){g=[];for(var T=t.density.trim[0];T<t.density.trim[1];T++)g.push(t.density.xy[T])}else g=t.density.xy;if("vertical"==n)for(T=0;T<g.length;T++)u=g[T][1]*p,m=(g[T][0]-r)*s,x.push(e-u),b.push(i-m),v.push(e+u),A.push(i-m),w[0].push(e),w[1].push(i-m);else for(T=0;T<g.length;T++)u=(g[T][0]-r)*s,m=g[T][1]*p,x.push(e+u),b.push(i-m),v.push(e+u),A.push(i+m),w[0].push(e+u),w[1].push(i);if(x.length>1&&b.length>1){if(this.toRender({p:["drawShape","violin",[x,v],[b,A],!1,!1,C,this.violinBorderColor,h],a:this.getShapeArea("violin",[x,v],[b,A],!1,!1,C,this.violinBorderColor,h),i:l,b:w,t:"Data",h:c}),this.showViolinQuantiles)for(u=d,T=2;T<=4;T++)if("vertical"==n){for(var S=0;S<g.length;S++)if(g[S][0]>u[T]){f=g[S][1]*p,y=i-(u[T]-r)*s,this.toRender({p:["drawLine","solid",e-f,y,e+f,y,this.violinBorderColor,1.5],t:"Decorations",h:c});break}}else for(S=0;S<g.length;S++)if(g[S][0]>u[T]){f=e+(u[T]-r)*s,y=g[S][1]*p,this.toRender({p:["drawLine","solid",f,i-y,f,i+y,this.violinBorderColor,1.5],t:"Decorations",h:c});break}}else"vertical"==n?(u=e,m=i-(t.density.median[0]-r)*s):(u=e+(t.density.median[0]-r)*s,m=i),this.toRender({p:["drawShape","circle",u,m,this.margin,this.margin,C,this.violinBorderColor,h],a:this.getShapeArea("cicle",u,m,this.margin,this.margin,C,this.violinBorderColor,h),i:l,b:w,t:"Data",h:c})},this.drawDotPlot=function(t,e,i,a,s,r,n,o,h,l,c,d,p,g,u,m,f,y,x,b){var v=this,A=function(t,e){for(var i=e[0],a=0,r="",n={n:{},arr:{}},o=0;o<t.length;o++){var h=null!=t[o]?t[o].toString():"";n.n.hasOwnProperty(h)||(n.n[h]=0,n.arr[h]=[]),n.n[h]++,n.n[h]>a&&(a=n.n[h],r=h)}for(var h in n.n[r]*i>s&&(i=s*("center"==v.binAlignment?1:.5)/n.n[r]),n.n)switch(v.binAlignment){case"bottom":case"right":for(n.arr[h].push(0),n.n[h]--;n.n[h]>0;){var l=n.arr[h][0];n.arr[h].unshift(l-i),n.n[h]--}break;case"top":case"left":case"centerwhole":for(n.arr[h].push(0),n.n[h]--;n.n[h]>0;){l=n.arr[h][n.arr[h].length-1];n.arr[h].push(l+i),n.n[h]--}break;case"center":for(n.n[h]%2?(n.arr[h].push(0),n.n[h]--):(n.arr[h].push(-i/2),n.n[h]--,n.arr[h].push(i/2),n.n[h]--);n.n[h]>0;){l=n.arr[h][0];n.arr[h].unshift(l-i),n.n[h]--,l=n.arr[h][n.arr[h].length-1],n.arr[h].push(l+i),n.n[h]--}}return n.arr},w=[],C=b?"Overlays":"Data";if("vertical"==l)for(var T=0;T<t.length;T++){if(this.showBoxplotOriginalData&&this.isRawData||this.graphType.match(/Dot/)||this.graphType.match(/Bar/)&&"lollipop"==this.barType&&!this.isGroupedData){for(var S="movement"!=this.dotplotType&&(!!this.binned&&A(t[T],h[T])),D=0;D<t[T].length;D++)if(!this.isGraphTime||null!=t[T][D]){var M="movement"!=this.dotplotType&&(!!this.jitter&&this.jitterData(this.rep(0,t[T].length),!1,s*this.jitterFactor*.5*this.widthFactor)),k="movement"==this.dotplotType?0:this.binned&&S[t[T][D]]?S[t[T][D].toString()].shift():this.jitter?M[D]:0,L=!!g&&g[T][D],I=a-(t[T][D]-o)*n,B=this.getFillColor(c[T][D],L),N=this.getOutlineColor(B,L);if(this.graphType.match(/Bar/)&&"lollipop"==this.barType&&L.push("Lollipop"),this.isNumber(I,!0)){if(w.push([i+k,I,h[T][D]/2,L]),this.graphType.match(/Dot/)&&"movement"==this.dotplotType&&D>0){for(var F=w.length-1,P=w.length-2;!this.isNumber(w[P][1],!0)&&P>=0;)P--;if(this.isNumber(w[P][1],!0)){var R=w[F],O=w[P],X=this.addColorTransparency(B,.2);this.toRender({p:["drawShape","polygon",[R[0]-R[2],O[0]-O[2],O[0]+O[2],R[0]+R[2]],[R[1],O[1],O[1],R[1]],!1,!1,X,X],t:"Decorations",h:this.isHidden(R[3][0],R[3][1])||this.isHidden(O[3][0],O[3][1])})}}if(q=this.graphType.match(/Bar/)&&"lollipop"==this.barType&&!this.isGroupedData&&this.barLollipopOpen?this.toRender({p:["drawShape",p[T][D],i+k,I,h[T][D],h[T][D],this.background,B,d[T][D],!1,2,m],a:this.getShapeArea(p[T][D],i+k,I,h[T][D],h[T][D],this.background,B,d[T][D],!1,2,m),i:L,m:u,b:a,t:C,h:this.isHidden(L[0],L[1])}):this.toRender({p:["drawShape",p[T][D],i+k,I,h[T][D],h[T][D],B,N,d[T][D],!1,!1,m],a:this.getShapeArea(p[T][D],i+k,I,h[T][D],h[T][D],B,N,d[T][D],!1,!1,m),i:L,m:u,b:a,t:C,h:this.isHidden(L[0],this.isGroupedData||"Dotplot"==this.graphType&&null!=L[2]?L[2]:L[1])}),this.showDataValues&&this.toRender({p:["drawText",this.formatNumber(t[T][D]),i+k,I,this.smpLabelFont,this.barLollipopOpen?B:this.foreground,"center","middle"],g:q,t:C,h:this.isHidden(L[0],L[1])}),!this.isGroupedData&&e[T]&&e[T][D]&&this.isNumber(e[T][D],!0)){var z=e[T][D]/2*n;this.toRender({p:["drawLine","error",i+k,I,i+k,I+z,B,-s,"butt",!1,!1,!0],a:this.getLineArea("error",i+k,I,i+k,I+z,B,-s,"butt",!1,!1,!0),i:L,g:q,t:C,h:this.isHidden(L[0],L[1])}),this.toRender({p:["drawLine","error",i+k,I,i+k,I-z,B,-s,"butt",!1,!1,!0],a:this.getLineArea("error",i+k,I,i+k,I-z,B,-s,"butt",!1,!1,!0),i:L,g:q,t:C,h:this.isHidden(L[0],L[1])})}}else w.push([i+k,Number.NaN,h[T][D]/2,L])}if(this.showErrorBars&&this.isGroupedData&&e[T]&&e[T]&&this.isNumber(e[T][0],!0)&&this.isNumber(e[T][1],!0)){I=a-(e[T][0]-o)*n,z=e[T][1]/2*n,L=!!g&&[g[T][0][0],g[T][0][1],"error"];this.toRender({p:["drawShape","diamond",i,I,this.margin*this.errorBarsThickness,this.margin*this.errorBarsThickness,this.errorBarsColor,this.errorBarsColor,"closed",!1,!1,m],h:this.isHidden(!1,g[T][0][0]),t:C}),this.toRender({p:["drawLine","line",i,I-z,i,I+z,this.errorBarsColor,this.errorBarsThickness,"butt",!1,!1,m],h:this.isHidden(!1,g[T][0][0]),t:C})}}i+=r}else for(T=0;T<t.length;T++){if(this.showBoxplotOriginalData&&this.isRawData||this.graphType.match(/Dot/)||this.graphType.match(/Bar/)&&"lollipop"==this.barType&&!this.isGroupedData)for(S="movement"!=this.dotplotType&&(!!this.binned&&A(t[T],h[T])),D=0;D<t[T].length;D++)if(!this.isGraphTime||null!=t[T][D]){M="movement"!=this.dotplotType&&(!!this.jitter&&this.jitterData(this.rep(0,t[T].length),!1,s*this.jitterFactor*.5*this.widthFactor)),k="movement"==this.dotplotType?0:this.binned&&S[t[T][D]]?S[t[T][D].toString()].shift():this.jitter?M[D]:0,L=!!g&&g[T][D],I=f?i+f-(t[T][D]-o)*n:i+(t[T][D]-o)*n,B=this.getFillColor(c[T][D],L),N=this.getOutlineColor(B,L);if(this.graphType.match(/Bar/)&&"lollipop"==this.barType&&L.push("Lollipop"),this.isNumber(I,!0)){if(w.push([I,a+k,h[T][D]/2,L]),this.graphType.match(/Dot/)&&"movement"==this.dotplotType&&D>0){for(F=w.length-1,P=w.length-2;!this.isNumber(w[P][0],!0)&&P>=0;)P--;if(this.isNumber(w[P][0],!0)){R=w[F],O=w[P],X=this.addColorTransparency(B,.2);this.toRender({p:["drawShape","polygon",[R[0],O[0],O[0],R[0]],[R[1]-R[2],O[1]-O[2],O[1]+O[2],R[1]+R[2]],!1,!1,X,X],t:"Decorations",h:this.isHidden(R[3][0],R[3][1])||this.isHidden(O[3][0],O[3][1])})}}if(q=this.graphType.match(/Bar/)&&"lollipop"==this.barType&&!this.isGroupedData&&this.barLollipopOpen?this.toRender({p:["drawShape",p[T][D],I,a+k,h[T][D],h[T][D],this.background,B,d[T][D],!1,2,m],a:this.getShapeArea(p[T][D],I,a+k,h[T][D],h[T][D],this.background,B,d[T][D],!1,2,m),i:L,m:u,b:i,t:C,h:this.isHidden(L[0],L[1])}):this.toRender({p:["drawShape",p[T][D],I,a+k,h[T][D],h[T][D],B,N,d[T][D],!1,!1,m],a:this.getShapeArea(p[T][D],I,a+k,h[T][D],h[T][D],B,N,d[T][D],!1,!1,m),i:L,m:u,b:i,t:C,h:this.isHidden(L[0],this.isGroupedData||"Dotplot"==this.graphType&&null!=L[2]?L[2]:L[1])}),this.showDataValues&&this.toRender({p:["drawText",this.formatNumber(t[T][D]),I,a+k,this.smpLabelFont,this.barLollipopOpen?B:this.foreground,"center","middle"],g:q,t:C,h:this.isHidden(L[0],L[1])}),!this.isGroupedData&&e[T]&&e[T][D]&&this.isNumber(e[T][D],!0)){z=e[T][D]/2*n;this.toRender({p:["drawLine","error",I,a+k,I+z,a+k,B,s,"butt",!1,!1,!0],a:this.getLineArea("error",I,a+k,I+z,a+k,B,s,"butt",!1,!1,!0),i:L,g:q,t:C,h:this.isHidden(L[0],L[1])}),this.toRender({p:["drawLine","error",I,a+k,I-z,a+k,B,s,"butt",!1,!1,!0],a:this.getLineArea("error",I,a+k,I-z,a+k,B,s,"butt",!1,!1,!0),i:L,g:q,t:C,h:this.isHidden(L[0],L[1])})}}else w.push([Number.NaN,a+k,h[T][D]/2,L])}if(this.showErrorBars&&this.isGroupedData&&e[T]&&e[T]&&this.isNumber(e[T][0],!0)&&this.isNumber(e[T][1],!0)){I=i+(e[T][0]-o)*n,z=e[T][1]/2*n,L=!!g&&[g[T][0][0],g[T][0][1],"error"];this.toRender({p:["drawShape","diamond",I,a,this.margin*this.errorBarsThickness,this.margin*this.errorBarsThickness,this.errorBarsColor,this.errorBarsColor,"closed",!1,!1,m],h:this.isHidden(!1,!1,"Var-"+g[T][0][0]),t:C}),this.toRender({p:["drawLine","line",I-z,a,I+z,a,this.errorBarsColor,this.errorBarsThickness,"butt",!1,!1,m],h:this.isHidden(!1,!1,"Var-"+g[T][0][0]),t:C})}a+=r}if(this.connectBy&&this.data.x&&this.data.x.hasOwnProperty(this.connectBy)&&this.isRawData){var E=this.meta.data.x[this.connectBy],_=0,H=this.getKeys(this.connectByData),V=this.getCustomColorScheme(H.length),G={};if(this.isGraphTime)for(T=0;T<this.timeValueIndices.length;T++)this.timeValueIndices[T]>0&&(G[T.toString()]=this.timeValueIndices[T]);for(var T in this.connectByData){var q,j=null;t=this.connectByData[T],B=this.connectByNoColor?this.connectByColor:E&&"Numeric"!=E.type?E.connects[E.order[T]%E.connects.length]:V[_%V.length];if(t.length>1)for(D=1;D<t.length;D++){I=this.isGraphTime?w[G[t[D-1]]]:w[t[D-1]],z=this.isGraphTime?w[G[t[D]]]:w[t[D]];I&&z&&(q=this.toRender({p:["drawLine","line",I[0],I[1],z[0],z[1],B,this.connectByWidth,"butt",I[2],z[2],m],a:this.getLineArea("line",I[0],I[1],z[0],z[1],B,this.connectByWidth,"butt",I[2],z[2],m),i:["Line:"+this.connectBy+" "+T,I[3][0],I[3][2],z[3][2]],g:j,t:C,h:this.isHidden(!1,I[3][2])}),null==j&&(j=q))}_++}}else if(this.connectBy&&this.data.z&&this.data.z.hasOwnProperty(this.connectBy)&&this.isRawData&&(this.connectByDataVar.push(w),x)){E=this.connectBy==this.colorBy&&this.meta.data.z[this.colorBy];for(var T in this.connectByData){if((t=this.connectByData[T]).length>1)for(d=0;d<this.connectByDataVar[0].length;d++)for(D=1;D<t.length;D++){I=this.connectByDataVar[t[D-1]][d],z=this.connectByDataVar[t[D]][d];var U=T;if(I&&z){var Y=this.data.y.vars[I[3][0]],W=this.data.y.vars[z[3][0]],$=this.data.y.smps[I[3][this.isGroupedData?2:1]],Q=this.data.y.smps[z[3][this.isGroupedData?2:1]];U=$==Q?Y+" - "+W+" ("+$+")":Y+" ("+$+") - "+W+" ("+Q+")"}this.toRender({p:["drawLine","line",I[0],I[1],z[0],z[1],this.connectByColor,this.connectByWidth,"butt",I[2],z[2],m],a:this.getLineArea("line",I[0],I[1],z[0],z[1],this.connectByColor,this.connectByWidth,"butt",I[2],z[2],m),i:["Line:"+this.connectBy+" "+U],t:C,h:this.isHidden(!1,I[3][2])})}}}},this.drawHeatmap=function(t,e,i,a,s,r,n,o,h,l,c){var d=0,p=e,g=.75,u=this.meta.vals;u.colors||(u.colors={});for(var m=0;m<t.length;m++){var f=t[m],y=this.isContour?"rgba(0,0,0,0)":null!=f&&this.isNumber(f,!0)?u.colors[f.toString()]?u.colors[f.toString()]:this.getColorForValue(l,f):this.missingDataColor,x=r&&c?this.addColorTransparency(y,c,!0):r?y:this.heatmapCellBoxColor;u.colors[null==f?"null":f.toString()]=y,c&&(y=this.addColorTransparency(y,c,!0)),"Network"==this.graphType?this.shapeByShape?this.toRender({p:["drawShape",this.shapeByShape,e+a/2,i+s/2,a/2,s/2,y,x,h[m]],a:this.getShapeArea(this.shapeByShape,e+a/2,i+s/2,a/2,s/2,y,x,h[m]),i:n[m],m:o,t:"Decorations",h:this.isHidden(n[m])}):this.toRender({p:["drawShape","rectangle",e+a/2,i+s/2,a,s,y,y,h[m]],a:this.getShapeArea("rectangle",e+a/2,i+s/2,a,s,y,y,h[m]),i:n[m],m:o,t:"Decorations",h:this.isHidden(n[m])}):this.shapeByShape?this.toRender({p:["drawShape",this.shapeByShape,e+a/2,i+s/2,a/2,s/2,y,x,!!h&&h[m]],a:this.getShapeArea(this.shapeByShape,e+a/2,i+s/2,a/2,s/2,y,x,!!h&&h[m]),i:n[m],m:o,t:"Data",h:this.isHidden(n[m][0],n[m][1])}):m>0&&m<t.length-1?d>=.5&&(this.toRender({p:["drawShape","rect",e+(a+g)/2,i+(s+g)/2,a+g,s+g,y,y,!!h&&h[m]],a:this.getShapeArea("rect",e+(a+g)/2,i+(s+g)/2,a+g,s+g,y,y,!!h&&h[m]),i:n[m],m:o,b:[p,i+(s+g)/2,0,s+g],h:this.isHidden(n[m][0],n[m][1]),t:"Data"}),d=0):this.toRender({p:["drawShape","rect",e+(a+g)/2,i+(s+g)/2,a+g,s+g,y,y,!!h&&h[m]],a:this.getShapeArea("rect",e+(a+g)/2,i+(s+g)/2,a+g,s+g,y,y,!!h&&h[m]),i:n[m],m:o,b:[p,i+(s+g)/2,0,s+g],h:this.isHidden(n[m][0],n[m][1]),t:"Data"}),this.showDataValues&&this.toRender({p:["drawText",this.formatNumber(f),e+a-2,i+s-2,this.smpLabelFont,this.foreground,"right","bottom"],t:"Data"}),e+=a,d+=a}},this.drawTreemap=function(t,e,i,a,s){for(var r=this,n="vertical"==this.graphOrientation?this.top+this.y:this.left,o=function(t,o){if(o?r.toRender({p:["drawShape","rectangle",t.coords.left+e+t.coords.width/2,t.coords.top+i+t.coords.height/2,t.coords.width,t.coords.height,!1,r.getOutlineColor(t.color),"open",!1,t.outline,a,s],b:n,t:"Data"}):r.toRender({p:["drawShape","rectangle",t.coords.left+e+t.coords.width/2,t.coords.top+i+t.coords.height/2,t.coords.width,t.coords.height,r.getFillColor(t.color,t.index),r.getOutlineColor(t.color,t.index),"closed",!1,!1,a,s],a:r.getShapeArea("rectangle",t.coords.left+e+t.coords.width/2,t.coords.top+i+t.coords.height/2,t.coords.width,t.coords.height,r.getFillColor(t.color,t.index),r.getOutlineColor(t.color,t.index),"closed",!1,!1,a,s),i:t.index,b:n,t:"Data",h:r.isHidden(t.index[0],t.index[1])}),t.label){var h=r.measureText(t.label,r.overlayFont);h+r.margin<t.coords.width&&r.overlayFontSize+r.margin<t.coords.height?o?r.toRender({p:["drawText",t.label,t.coords.left+e+t.coords.width/2,t.coords.top+i+t.coords.height/2,r.overlayFont,r.addColorTransparency(r.foreground,.5,!0),"center","middle"],t:"Data"}):r.toRender({p:["drawText",t.label,t.coords.left+e+r.margin,t.coords.top+i+r.margin,r.overlayFont,r.foreground,"left","top"],t:"Data"}):h+r.margin<t.coords.height&&r.overlayFontSize+r.margin<t.coords.width&&(o?r.toRender({p:["drawText",t.label,t.coords.left+e+t.coords.width/2,t.coords.top+i+t.coords.height/2,r.overlayFont,r.addColorTransparency(r.foreground,.5,!0),"center","middle",-Math.PI/2],t:"Data"}):r.toRender({p:["drawText",t.label,t.coords.left+e+r.margin,t.coords.top+i+r.margin,r.overlayFont,r.foreground,"right","top",-Math.PI/2],t:"Data"}))}},h=function(t){for(var e=0;e<t.length;e++)t[e].children?(h(t[e].children),o(t[e],!0)):o(t[e])},l=0;l<t.length;l++){var c=t[l],d=this.treemapBorderWidth&&!this.isDOE?1:0,p=this.isDOE?0:this.treemapBorderWidth,g=2*p,u=this.smpLabelFontSize*d,m=this.treemapBorderColor,f=e+c.coords.left-p,y=i+c.coords.top-(u+p),x=c.coords.width+g,b=c.coords.height+u+g;if(c.title)this.toRender({p:["disableGradientTransparencyShadow"],t:"Data"}),c.coords.border>1?(this.toRender({p:["drawShape","rectangle",f+x/2,y+(u+p/2)/2,x,u+p/2,m,m,"close",!1,p,a,s],t:"Data"}),this.toRender({p:["drawShape","rectangle",f+x/2,y+b/2,x,b,!1,m,"open",!1,p,a,s],t:"Data"})):(c.coords.border>0||c.coords.border>-1)&&this.toRender({p:["drawShape","rectangle",f+x/2,y+(u+p)+(b-(u+p))/2,x,b-(u+p),!1,m,"open",!1,p,a,s],t:"Data"}),this.measureText(c.title,this.smpLabelFont)+this.margin<x&&this.smpLabelFontSize<=u&&c.coords.height>u+p/2&&this.toRender({p:["drawText",c.title,f+this.margin,y+this.smpLabelFontSize/2,this.smpLabelFont,this.foreground,"left","middle"],t:"Data"}),this.toRender({p:["enableGradientTransparencyShadow"],t:"Data"});c.children?h(c.children):o(c)}},this.drawSankey=function(t){for(var e=t.links[0].target.x-t.links[0].source.x,i=0;i<t.links.length;i++){var a=t.links[i];this.toRender({p:["drawShape","bezier",a.plotX,a.plotY,e,a.dy,this.getFillColor(a.color),this.getOutlineColor(a.color),!1,a.colors],a:this.getShapeArea("bezier",a.plotX,a.plotY,e,a.dy,this.getFillColor(a.color),this.getOutlineColor(a.color),!1,a.colors),i:a.tooltip,b:[this.left,this.top+this.y/2,e,a.dy],t:"Data"})}for(i=0;i<t.nodes.length;i++){var s=t.nodes[i];this.toRender({p:["drawShape","rectangle",s.plotX+s.dx/2,s.plotY+s.dy/2,s.dx,s.dy,s.color,this.foreground],a:this.getShapeArea("rectangle",s.plotX+s.dx/2,s.plotY+s.dy/2,s.dx,s.dy,s.color,this.foreground),i:s.tooltip,b:[this.left,this.top+this.y/2,s.dx,s.dy],t:"Data"}),this.toRender({p:["drawText",s.name,s.plotX+s.dx/2,s.plotY+s.dy/2,this.overlayFont,this.overlayFontColor,"center","middle",-Math.PI/2],a:this.getTextArea(s.name,s.plotX+s.dx/2,s.plotY+s.dy/2,this.overlayFont,this.overlayFontColor,"center","middle",-Math.PI/2),i:[s.tooltip[0]+":T"],t:"Data"})}},this.drawTree=function(t,e){if(this.data.tree&&this.data.tree.plot){var i=this.data.tree.plot,a=this.treeNodeSize,s=a/4,r="vertical"==t,n=this,o=function(t){var e=r?t.x0:t.y0,i=r?t.y0:t.x0,h=n.isHidden(!1,t.id);if(n.toRender({p:["drawShape",t.data.shape,e,i,t.data.size,t.data.size,n.getFillColor(t.data.color,t.id),n.treeNodeOutlineColor,t.data.pattern,!1,n.treeLinkWidth],a:n.getShapeArea(t.data.shape,e,i,t.data.size,t.data.size,n.getFillColor(t.data.color,t.id),n.treeNodeOutlineColor,t.data.pattern,!1,n.treeLinkWidth),i:["Tree-Node:"+t.id],b:[l,c],t:"Data",h:h}),t.children){for(var d=0;d<t.children.length;d++)o(t.children[d]);if(n.treeCircular){var p=Math.PI/2-t.angle,g=(a/2+n.margin)*Math.cos(p)*(n.treeInverted?-1:1),u=(a/2+n.margin)*Math.sin(p)*(n.treeInverted?-1:1);t.angle<=Math.PI?n.toRender({p:["drawText",t.data.name,e-g,i-u,n.smpLabelFont,n.smpLabelFontColor,n.treeInverted?"left":"right","middle",p],a:n.getTextArea(t.data.name,e-g,i-u,n.smpLabelFont,n.smpLabelFontColor,n.treeInverted?"left":"right","middle",p),i:["Tree-Text:"+t.id],b:[l,c],t:"Data",h:h}):n.toRender({p:["drawText",t.data.name,e-g,i-u,n.smpLabelFont,n.smpLabelFontColor,n.treeInverted?"right":"left","middle",p-Math.PI],a:n.getTextArea(t.data.name,e-g,i-u,n.smpLabelFont,n.smpLabelFontColor,n.treeInverted?"right":"left","middle",p-Math.PI),i:["Tree-Text:"+t.id],b:[l,c],t:"Data",h:h})}else r?t.parent?n.toRender({p:["drawText",t.data.name,e,i-(a/2+n.margin),n.smpLabelFont,n.smpLabelFontColor,"right","middle",Math.PI/2],a:n.getTextArea(t.data.name,e,i-(a/2+n.margin),n.smpLabelFont,n.smpLabelFontColor,"right","middle",Math.PI/2),i:["Tree-Text:"+t.id],b:[l,c],t:"Data",h:h}):n.toRender({p:["drawText",t.data.name,e,i-(a/2+n.margin),n.smpLabelFont,n.smpLabelFontColor,"center","bottom"],a:n.getTextArea(t.data.name,e,i-(a/2+n.margin),n.smpLabelFont,n.smpLabelFontColor,"center","bottom"),i:["Tree-Text:"+t.id],b:[l,c],t:"Data",h:h}):n.toRender({p:["drawText",t.data.name,e-(a/2+n.margin),i,n.smpLabelFont,n.smpLabelFontColor,"right","middle"],a:n.getTextArea(t.data.name,e-(a/2+n.margin),i,n.smpLabelFont,n.smpLabelFontColor,"right","middle"),i:["Tree-Text:"+t.id],b:[l,c],t:"Data",h:h})}else if(n.treeCircular){p=Math.PI/2-t.angle,g=(a/2+n.margin)*Math.cos(p)*(n.treeInverted?-1:1),u=(a/2+n.margin)*Math.sin(p)*(n.treeInverted?-1:1);t.angle<=Math.PI?n.toRender({p:["drawText",t.data.name,e+g,i+u,n.smpLabelFont,n.smpLabelFontColor,n.treeInverted?"right":"left","middle",p],a:n.getTextArea(t.data.name,e+g,i+u,n.smpLabelFont,n.smpLabelFontColor,n.treeInverted?"right":"left","middle",p),i:["Tree-Text:"+t.id],b:[l,c],t:"Data",h:h}):n.toRender({p:["drawText",t.data.name,e+g,i+u,n.smpLabelFont,n.smpLabelFontColor,n.treeInverted?"left":"right","middle",p-Math.PI],a:n.getTextArea(t.data.name,e+g,i+u,n.smpLabelFont,n.smpLabelFontColor,n.treeInverted?"left":"right","middle",p-Math.PI),i:["Tree-Text:"+t.id],b:[l,c],t:"Data",h:h})}else r?n.toRender({p:["drawText",t.data.name,e,i+a/2+n.margin,n.smpLabelFont,n.smpLabelFontColor,"left","middle",Math.PI/2],a:n.getTextArea(t.data.name,e,i+a/2+n.margin,n.smpLabelFont,n.smpLabelFontColor,"left","middle",Math.PI/2),i:["Tree-Text-:"+t.id],b:[l,c],t:"Data",h:h}):n.toRender({p:["drawText",t.data.name,e+a/2+n.margin,i,n.smpLabelFont,n.smpLabelFontColor,"left","middle"],a:n.getTextArea(t.data.name,e+a/2+n.margin,i,n.smpLabelFont,n.smpLabelFontColor,"left","middle"),i:["Tree-Text:"+t.id],b:[l,c],t:"Data",h:h});t._children?(n.toRender({p:["drawLine","line",e-s,i,e+s,i,n.foreground],a:n.getLineArea("line",e-s,i,e+s,i,n.foreground),i:["Tree-Line1:"+t.id],b:[l,c],t:"Data",h:h}),n.toRender({p:["drawLine","line",e,i-s,e,i+s,n.foreground],a:n.getLineArea("line",e,i-s,e,i+s,n.foreground),i:["Tree-Line2:"+t.id],b:[l,c],t:"Data",h:h})):t.children&&n.toRender({p:["drawLine","line",e-s,i,e+s,i,n.foreground],a:n.getLineArea("line",e-s,i,e+s,i,n.foreground),i:["Tree-Line1:"+t.id],b:[l,c],t:"Data",h:h})},h=function(t){if(t.children)for(var e=0;e<t.children.length;e++)h(t.children[e]);if(t.parent){var i=r?t.x0:t.y0,a=r?t.y0:t.x0,s=r?t.parent.x0:t.parent.y0,o=r?t.parent.y0:t.parent.x0,d=t._clicked?[s,o,s,o]:[l,c,l,c],p=n.isHidden(!1,t.id);n.toRender({p:["drawLine","bezier",s,o,i,a,n.treeLinkColor,n.treeLinkWidth,!1,!1,!1,!1,!1,!1,!1,!1,!1,!!n.treeCircular&&[t.mx,t.my,t.mx2,t.my2]],a:n.getLineArea("bezier",s,o,i,a,n.treeLinkColor,n.treeLinkWidth,!1,!1,!1,!1,!1,!1,!1,!1,!1,!!n.treeCircular&&[t.mx,t.my,t.mx2,t.my2]),i:[t.parent.id+":"+t.id],b:d,t:"Data",h:p}),t._clicked=!1}},l=r?i.x0:i.y0,c=r?i.y0:i.x0;h(i),e||o(i)}},this.zoomOncoprintVariables=function(t){if(!this.isTransition()){var e=[];this.setOriginalIndices(!1,this.varIndices,this.smpIndices),this.varIndicesStart=0;for(var i=0;i<Math.min(t,this.varIndices.length);i++)e.push(this.varIndices[i]);this.varIndices=e,this.draw({func:"zoomOncoprintVariables",par:[t]})}}},CanvasXpress.prototype.init3dUtils=function(){this.setTrigonometry=function(){if(!this.meta.math){this.meta.math={sin:[0],cos:[1]};for(var t=1;t<=360;t++){var e=Math.PI/(180/t);this.meta.math.sin[t]=Math.sin(e),this.meta.math.cos[t]=Math.cos(e)}}},this.set3DRotation=function(){this.setTrigonometry();for(var t=["xRotate","yRotate","zRotate"],e=0;e<t.length;e++)this[t[e]]>360&&(this[t[e]]-=360),this[t[e]]<0&&(this[t[e]]=360)},this.set3DParams=function(){var t=this.zoom,e=this.x;this.perspective=e*this.perspectiveFactor,this.lenX=e/4*t*this.x3DRatio,this.lenY=e/4*t*this.y3DRatio,this.lenZ=e/4*t*this.z3DRatio,this.padX=e/2,this.padY=this.y/2,this.padZ=this.padY},this.get3DTransfrom=function(t,e,i){var a,s,r,n=[],o=this.meta.math.sin,h=this.meta.math.cos,l=this.perspective,c=this.xRotate,d=this.yRotate,p=this.zRotate;return r=i,e=(s=e)*h[parseInt(d)]-r*o[parseInt(d)],a=t,t=(r=i=s*o[parseInt(d)]+r*h[parseInt(d)])*o[parseInt(c)]+a*h[parseInt(c)],i=r*h[parseInt(c)]-a*o[parseInt(c)],s=e,t=(a=t)*h[parseInt(p)]-s*o[parseInt(p)],e=a*o[parseInt(p)]+s*h[parseInt(p)],this.perspective&&(t*=l/(i+l),e*=l/(i+l),i*=l/(i+l)),n.push(t+this.padX),n.push(e+this.padY),n.push(i+this.padZ),n}},CanvasXpress.prototype.initApiUtils=function(){this.getValidGraphTypes=function(){return this.validGraphTypes},this.setHeatmapScheme=function(){this.initializeAttributes()},this.hasIndicator=function(){return!(!this.graphType.match(/Scatter/)&&"Bar"!=this.graphType)},this.hasLegend=function(){return"Network"!=this.graphType&&"Genome"!=this.graphType&&"Correlation"!=this.graphType&&"Heatmap"!=this.graphType},this.hasLegendProperties=function(){return"Network"!=this.graphType&&"Genome"!=this.graphType&&"Correlation"!=this.graphType&&"Heatmap"!=this.graphType&&"Pie"!=this.graphType},this.hasData=function(){return"Network"!=this.graphType&&"Genome"!=this.graphType&&"Venn"!=this.graphType},this.hasDataSamples=function(){return"Network"!=this.graphType&&"Genome"!=this.graphType&&"Venn"!=this.graphType&&"Pie"!=this.graphType&&!this.graphType.match(/Scatter/)&&("Correlation"!=this.graphType||"samples"==this.correlationAxis)},this.hasDataGroups=function(){return"Network"!=this.graphType&&"Genome"!=this.graphType&&"Venn"!=this.graphType&&"Pie"!=this.graphType&&!this.graphType.match(/Scatter/)&&(("Correlation"!=this.graphType||"samples"==this.correlationAxis)&&!!this.data.x)},this.hasDataVariables=function(){return"Network"!=this.graphType&&"Genome"!=this.graphType&&"Venn"!=this.graphType&&("Correlation"!=this.graphType||"variables"==this.correlationAxis)},this.hasDataProperties=function(){return"Network"!=this.graphType&&"Genome"!=this.graphType&&"Heatmap"!=this.graphType&&"Venn"!=this.graphType&&"Pie"!=this.graphType&&"Correlation"!=this.graphType},this.hasOrientation=function(){return"Network"!=this.graphType&&"Genome"!=this.graphType&&"Venn"!=this.graphType&&"Pie"!=this.graphType&&"Correlation"!=this.graphType&&"Circular"!=this.graphType&&!this.graphType.match(/Scatter/)},this.hasOverlays=function(){return"Network"!=this.graphType&&"Genome"!=this.graphType&&"Venn"!=this.graphType&&"Pie"!=this.graphType&&"Correlation"!=this.graphType&&!this.graphType.match(/Scatter/)},this.hasDendrograms=function(){return!("Heatmap"==this.graphType||!this.smpDendrogramNewick&&!this.varDendrogramNewick)},this.hasDecorations=function(){return!(!this.decorations||!(this.decorations.nlfit||this.decorations.line||this.decorations.reg||this.decorations.nor||this.decorations.area))},this.isSegregable=function(){return"Network"!=this.graphType&&"Genome"!=this.graphType&&"Venn"!=this.graphType&&"Pie"!=this.graphType&&"Correlation"!=this.graphType&&!this.graphType.match(/Scatter/)},this.getLineTypes=function(){for(var t=["line"],e=["","dashed","dotted","bezierY","bezierX","curved"],i=["arrow","arrowHead","arrowTail","arrowHeadSquareTail","arrowTailSquareHead","square","squareHead","squareTail","squareHeadArrowTail","squareTailArrowHead"],a=0;a<i.length;a++)t.push(i[a]+"Line");for(a=1;a<e.length;a++)for(var s=0;s<i.length;s++)t.push(e[a]+this.capitalize(i[s])+"Line");return t},this.isValidShape=function(t){var e=["circle","sphere","box","rect","rectangle","rect2","rect3","roundrect","brace","square","triangle","triangle2","equilateral","equilateral2","star","diamond","rhombus","pentagon","hexagon","octagon"];e=(e=(e=e.concat(["oval","oval2","oval3","arc","arc2","arc3","arch","path","polygon","roundpolygon","spline","hull","violin","confidence","bezier","ellipse","ellipse2","ellipse2","plus","minus"])).concat(["pie","pie0","pie1","pie2","pie3","pie4","pie5","pie6","pie7","pie8","pie9","pacman","pacman2","mdavid","image"])).concat(["pch0","pch1","pch2","pch3","pch4","pch5","pch6","pch7","pch8","pch9","pch10","pch11","pch12","pch13","pch14","pch15","pch16","pch17","pch18","pch19","pch20","pch21","pch22","pch23","pch24","pch25"]);for(var i=0;i<e.length;i++)if(e[i]==t)return!0;return!1},this.getHeatmapSchemes=function(){for(var t=[],e=["blue","red","green","yellow","cyan","purple","white","black"],i=0;i<e.length;i++){t.push(e[i]);for(var a=0;a<e.length;a++)e[i]!=e[a]&&t.push(e[i]+"-"+e[a])}return t},this.isCompatibleGraphType=function(t,e){return!!t.match(/^Bar$|^Line$|Boxplot|Dotplot/)&&!!e.match(/^Bar$|^Line$|Boxplot|Dotplot/)},this.isOneDimensionalGraph=function(){return!this.graphType.match(/Scatter|Network|Venn|Genome|Circular|Correlation/)},this.isOneDimensionalCombinationGraph=function(){return this.graphType.match(/BarLine|StackedLine|StackedPercentLine|AreaLine|DotLine/)},this.isHistogramLayout=function(){return this.isHistogram&&this.segregateVariablesBy.length+this.segregateSamplesBy.length>0},this.modifyHighlights=function(t,e,i){var a=i?"highlightVar":"highlightSmp";this.modifyObjectArray(t,e,a)},this.getHighlights=function(t){return this.getObjectArray(t?this.highlightVar:this.highlightSmp)},this.modifyOverlaysProperties=function(t){if(!this.isTransition()){var e,i=[];if(this.isArray(t))i=this.cloneObject(t);else{for(var a=0;a<arguments.length;a++)i.push(this.cloneObject(arguments[a]));t=this.cloneObject(i)}for(var s=this,r=i.shift(),n=this.cloneObject(i);n.length>1;)s[e=n.shift()]||(s[e]={}),s=s[e];s[e=n.shift()]="showLegend"==e?!s[e]:isNaN(r)?r:Number(r),this.draw({func:"modifyOverlaysProperties",par:[t]})}},this.modifySmpOverlays=function(t,e){this.modifyObjectArray(t,e,"smpOverlays")},this.modifyVarOverlays=function(t,e){this.modifyObjectArray(t,e,"varOverlays")},this.getSmpOverlays=function(){return this.getObjectArray(this.smpOverlays)},this.getVarOverlays=function(){return this.getObjectArray(this.varOverlays)},this.getXData=function(){var t=[];if(this.data.x)for(var e in this.data.x)t.push(e);return t},this.getZData=function(){var t=[];if(this.data.z)for(var e in this.data.z)t.push(e);return t},this.getXZData=function(){return this.graphType.match(/Scatter/)?this.getZData():this.getXData()},this.getSamplesVariablesAsArray=function(){return this.graphType.match(/scatter/i)?this.getSamplesAsArray():this.getVariablesAsArray},this.getSamplesAsArray=function(){for(var t=this.getSamples(),e=[],i=0;i<t.length;i++)e.push(t[i].name);return e},this.getVariablesAsArray=function(){for(var t=this.getVariables(),e=[],i=0;i<t.length;i++)e.push(t[i].name);return e},this.getNodeData=function(t){return this.getNetworkData("nodes",t)},this.getEdgeData=function(t){return this.getNetworkData("edges",t)},this.isBooleanData=function(t){for(var e in t)if("numeric"==t[e].t){var i=this.getKeys(t[e].o);(2==i.length&&t[e].o.hasOwnProperty("true")&&t[e].o.hasOwnProperty("false")||1==i.length&&(t[e].o.hasOwnProperty("true")||t[e].o.hasOwnProperty("false"))||1==i.length&&t[e].o.hasOwnProperty(""))&&(t[e].t="string")}},this.getSampleVariableData=function(t,e,i,a,s){var r={smps:{idx:"smpIndices",spc:"x"},vars:{idx:"varIndices",spc:"z"}},n={};if(n[t]={o:{},t:"string"},e)n[t].o=this.getObjectArray(this.data.y[t]);else for(var o=0;o<this[r[t].idx].length;o++)n[t].o[this.data.y[t][this[r[t].idx][o]]]=!0;if(a||s){var h=a?this.getVariableIndices(i):this.getSampleIndices(i,!0);if(this.isArray(i))for(var l=0;l<i.length;l++){if((h=a?this.getVariableIndices(i[l]):this.getSampleIndices(i[l],!0))>-1)if(n[i[l]]={o:{},t:"numeric"},e){var c=this.meta.data.y.range[i[l]];n[i[l]].o={min:c.min,max:c.max}}else{var d=[];if(a)for(o=0;o<this.smpIndices.length;o++)d.push(this.data.y.data[h][this.smpIndices[o]]);else for(o=0;o<this.varIndices.length;o++)d.push(this.data.y.data[this.varIndices[o]][h]);var p=this.range(d);n[i[l]].o={min:p[0],max:p[1]}}}else if((h=a?this.getVariableIndices(i):this.getSampleIndices(i,!0))>-1)if((n={})[i]={o:{},t:"numeric"},e){c=this.meta.data.y.range[i];n[i].o={min:c.min,max:c.max}}else{d=[];if(a)for(o=0;o<this.smpIndices.length;o++)d.push(this.data.y.data[h][this.smpIndices[o]]);else for(o=0;o<this.varIndices.length;o++)d.push(this.data.y.data[this.varIndices[o]][h]);p=this.range(d);n[i].o={min:p[0],max:p[1]}}}if(this.data[r[t].spc])for(var g in this.data[r[t].spc])if(!i||g==i){c=this.meta.data[r[t].spc][g];if(n[g]={o:{},t:c.type.toLowerCase()},e)"Numeric"==c.type?(n[g].t="numeric",n[g].o={min:c.rmin,max:c.rmax}):(n[g].t="string",n[g].o=this.cloneObject(c.levels));else{for(o=0;o<this[r[t].idx].length;o++){var u=this.getMetadataValue(this[r[t].idx][o],r[t].spc,g,!0);n[g].o.hasOwnProperty(u)||(n[g].o[u]=!0)}if("numeric"==n[g].t){d=[];for(var u in n[g].o)for(o=0;o<n[g].o[u];o++)d.push(u);p=this.range(d);n[g].o={min:p[0],max:p[1]}}}}return n},this.getNetworkData=function(t,e){if("Network"==this.graphType&&!this[t+"Data"]){this[t+"Data"]={};var i=this.meta.data[t];for(var a in i)"String"==i[a].type?this[t+"Data"][a]={o:i[a].order,t:i[a].type.toLowerCase()}:this[t+"Data"][a]={o:{min:i[a].rmin,max:i[a].rmax},t:i[a].type.toLowerCase()};if(this[t+"Properties"].length>0)for(var s=0;s<this.data[t].length;s++){var r=this.data[t][s];this.getAdditionalData(r,this[t+"Data"],this[t+"Properties"])}}return"Network"==this.graphType&&(e?this[t+"Data"]:this.getKeys(this[t+"Data"]))},this.getFilteredNetworkData=function(t,e){var i={};if(i[t]={},"Network"==this.graphType){for(var a=0;a<this.data[t].length;a++){var s=this.data[t][a];if(e||!e&&!s.hide)for(var r in s)"object"!=typeof s[r]&&(i[t].hasOwnProperty(r)?(i[t][r].o[s[r]]=!0,isNaN(s[r])&&(i[t][r].t="string")):(i[t][r]={o:{},t:isNaN(s[r])?"string":"numeric"},i[t][r].o[s[r]]=!0));this[t+"Properties"].length>0&&this.getAdditionalData(s,i,this[t+"Properties"])}for(var r in this.isBooleanData(i[t]),i[t])if("numeric"==i[t][r].t){var n=[];for(var o in i[t][r].o)n.push(o);var h=this.range(n);i[t][r].o={min:h[0],max:h[1]}}}return i[t]},this.getFeatureData=function(t){if(!this.featuresData){for(var e={},i=this.skipConfigurableProperties?this.getObjectArray(this.featureConfigurableProperties):{},a=0;a<this.data.tracks.length;a++){for(var s=this.data.tracks[a].data,r=0;r<s.length;r++){var n=s[r];for(var o in n)i[o]||"object"!=typeof n[o]&&(e.hasOwnProperty(o)?(e[o].o.hasOwnProperty(n[o])&&(e[o].o[n[o]]=!0),isNaN(n[o])&&(e[o].t="string")):(e[o]={o:{},t:isNaN(n[o])?"string":"numeric"},e[o].o[n[o]]=!0))}this.featuresProperties.length>0&&this.getAdditionalData(s,e,this.featuresProperties)}this.featuresData=e}return t?this.featuresData:this.getKeys(this.featuresData)},this.getAdditionalData=function(t,e,i){for(var a=0;a<i.length;a++){var s=t,r=!1;if(i[a].length>0){for(var n=0;n<i[a].length;n++){var o=i[a][n];if(!s[o]){r=!0;break}s=s[o]}if(!r)for(var h in s)"object"!=typeof s[h]&&(e.hasOwnProperty(h)?isNaN(s[h])&&(e[h].t="string"):(e[h]={o:{},t:isNaN(s[h])?"string":"numeric",r:a},e[h].o[s[h]]=!0))}}},this.getOperators=function(){return["","like","not like",">",">=","<","<=","==","null","not null"]},this.zoonIn=function(t){this.handleWheelEvent(t,1)},this.zoonOut=function(t){this.handleWheelEvent(t,-1)},this.clusterSamples=function(t,e){this.isTransition()||(this.clusterAxis="samples",!t&&this.smpDendrogramNewick||(this.smpDendrogramNewick=this.cluster()),e||this.draw({func:"clusterSamples",par:[t,e]}))},this.clusterVariables=function(t,e){this.isTransition()||(this.clusterAxis="variables",!t&&this.varDendrogramNewick||(this.varDendrogramNewick=this.cluster()),e||this.draw({func:"clusterVariables",par:[t,e]}))},this.kmeansSamples=function(t,e){if(!this.isTransition()){if(this.clusterAxis="samples",this.data.x||(this.data.x={}),t||!this.data.x["k-Means-S"]){var i=this.kmeans();this.data.x["k-Means-S"]=[];for(var a=0;a<this.smpIndices.length;a++){var s=this.smpIndices[a];this.data.x["k-Means-S"][s]=i[a]}this.smpOverlays.includes("k-Means-S")||this.smpOverlays.push("k-Means-S"),this.updateMetaData("x","k-Means-S",!1,!0),this.modifySort("cat","smp","k-Means-S",!0)}e||this.draw({func:"kmeansSamples",par:[t,e]})}},this.kmeansVariables=function(t,e){if(!this.isTransition()){if(this.clusterAxis="variables",this.data.z||(this.data.z={}),t||!this.data.z["k-Means-V"]){var i=this.kmeans();this.data.z["k-Means-V"]=[];for(var a=0;a<this.varIndices.length;a++){var s=this.varIndices[a];this.data.z["k-Means-V"][s]=i[a]}this.varOverlays.includes("k-Means-V")||this.varOverlays.push("k-Means-V"),this.updateMetaData("z","k-Means-V",!1,!0),this.modifySort("cat","var","k-Means-V",!0)}e||this.draw({func:"kmeansVariables",par:[t,e]})}},this.setFunctions=function(){var t=this.functions;t.push("clusterSamples"),t.push("clusterVariables"),t.push("transpose"),t.push("transform"),t.push("hideUnhideSmps"),t.push("hideUnhideVars"),t.push("desegregateSamples"),t.push("segregateSamples"),t.push("groupSamples"),t.push("ungroupSamples"),t.push("desegregateVariables"),t.push("segregateVariables"),t.push("kmeansSamples"),t.push("kmeansVariables"),t.push("createContour"),t.push("removeContour"),t.push("showCodeDiv"),t.push("hideCodeDiv"),t.push("showInfoDiv"),t.push("hideInfoDiv"),t.push("updateCodeDiv"),t.push("createHistogram"),t.push("removeHistogram"),t.push("addRegressionLine"),t.push("addNormalDistributionLine"),t.push("recalculateLayout"),t.push("createRandomData"),t.push("drawArea"),t.push("draw"),t.push("reset"),t.push("print")},this.initializeApi=function(){this.setFunctions()}},CanvasXpress.prototype.initDimensionUtils=function(){this.resizeCanvas=function(t,e,i){var a=this.margin,s=this.meta.canvas.canvasPixelRatio;if((t||e||i)&&(e||i?(e&&(this.width=e,this.originalWidth=e),i&&(this.height=i,this.originalHeight=i)):t&&(this.width=this.originalWidth,this.height=this.originalHeight),this.top=a+this.getTitleSubtitleHeight(),this.left=a,this.right=a,this.bottom=a,this.resetRender()),this.isSVG||(this.meta.canvas.ctx.canvas.width=this.width*s,this.meta.canvas.ctx.canvas.height=this.height*s,this.meta.canvas.ctx.canvas.style.width=this.width+"px",this.meta.canvas.ctx.canvas.style.height=this.height+"px",this.meta.canvas.ctx2.canvas.width=this.width*s,this.meta.canvas.ctx2.canvas.height=this.height*s,this.meta.canvas.ctx2.canvas.style.width=this.width+"px",this.meta.canvas.ctx2.canvas.style.height=this.height+"px",this.meta.canvas.ctx.scale(s,s),this.meta.canvas.ctx2.scale(s,s)),this.toRender({p:["disableGradientTransparencyShadow"],t:"Size"}),"image"==this.backgroundType)if("Network"==this.graphType){var r=this.scaleFactorX||1,n=this.scaleFactorY||1,o=this.offsetX*r,h=this.offsetY*n,l=this.maxX?this.maxX*r:this.maxX,c=this.maxY?this.maxY*n:this.maxY,d=!!(this.colorNodeBy||this.decorations.length&&this.showDecorations)&&"b&w";CanvasXpress.system.isRStudio=!(!this.isInIframe()||!this.isR),CanvasXpress.system.isRStudio?this.toRender({p:["drawShape","image",l/2+o,c/2+h,l,c,!1,!1,!1,!1,!1,!1,!1,!1,!1,this.backgroundImage],t:"Size"}):this.drawImage(CanvasXpress.cacheImages[this.getFileName(this.backgroundImage)],0,0,this.maxX,this.maxY,o,h,l,c,d)}else this.toRender({p:["drawShape","image",this.width/2,this.height/2,this.width,this.height,!1,!1,!1,!1,!1,!1,!1,!1,!1,this.backgroundImage],t:"Size"});else if("windowImage"==this.backgroundType)"Network"==this.graphType&&this.toRender({p:["drawShape","image",this.left+this.x/2,this.top+this.y/2,this.x,this.y,!1,!1,!1,!1,!1,!1,!1,!1,!1,this.backgroundImage],t:"Size"});else if("solid"==this.backgroundType||"window"==this.backgroundType||"windowSolidGradient"==this.backgroundType)this.toRender({p:["drawShape","rectangle",0+this.width/2,0+this.height/2,this.width,this.height,this.background,this.background],t:"Size"});else{var p=this.getLinearGradient(0,0,"vertical"==this.gradientOrientation?0:this.height,"vertical"==this.gradientOrientation?this.height:0);this.toRender({p:["drawShape","rectangle",0+this.width/2,0+this.height/2,this.width,this.height,p,p],t:"Size"})}this.toRender({p:["enableGradientTransparencyShadow"],t:"Size"})},this.setWidth=function(t,e){this.setDimensions(t,!1,e)},this.setHeight=function(t,e){this.setDimensions(!1,t,e)},this.getWidth=function(){return this.marginLeft+this.left+this.x+this.right+this.marginRight},this.getHeight=function(){return this.marginTop+this.top+this.y+this.bottom+this.marginBottom},this.setDimensions=function(t,e,i,a,s,r){if(!this.isTransition()&&this.resizable&&!(t&&e&&Math.abs(this.width-t)<5&&Math.abs(this.height-e)<5)){t&&this.resizableX||(t=this.width),e&&this.resizableY||(e=this.height);var n=this.meta.canvas.ctx.canvas;if(t=n.originalWidth=parseInt(t),e=n.originalHeight=parseInt(e),this.clickLayoutNoAnimation(i),this.reproducing||this.removeMotionDiv(!0),"Network"==this.graphType&&(this.scaleFactorX=null,this.scaleFactorY=null),this.draw({width:t,height:e,func:"setDimensions",par:[t,e,i,a,s,r]}),this.updateRemoteNavigationWindow(),a){var o=this;setTimeout((function(){o.resizeViewport()}),a)}else this.resizeViewport();if(s)try{s()}catch(t){}}},this.initializeDimensions=function(){var t=this.margin,e=this.meta.canvas.ctx.canvas;e.width?(this.originalWidth=e.width,this.width=e.width):this.width?(this.originalWidth=this.width,e.width=this.width):(this.width=600,this.originalWidth=this.width,e.width=this.width),e.height?(this.originalHeight=e.height,this.height=e.height):this.height?(this.originalHeight=this.height,e.height=this.height):(this.height=600,this.originalHeight=this.height,e.height=this.height),this.top=t+this.getTitleSubtitleHeight(),this.left=t,this.right=t,this.bottom=t,this.x=this.width-(this.leftMargin+this.left+this.rightMargin+this.right),this.y=this.height-(this.topMargin+this.top+this.bottomMargin+this.bottom)}},CanvasXpress.prototype.initUtils=function(){this.initGeneralUtils(),this.initPlotUtils(),this.initConfigUtils(),this.init3dUtils(),this.initApiUtils(),this.initDimensionUtils()},CanvasXpress.prototype.initLegendUtils=function(){this.validateLegendPositions=function(){if(this.legendInside||("right"!=this.decorationsPosition&&"bottom"!=this.decorationsPosition&&"Network"!=this.graphType&&(this.decorationsPosition="bottom"),"top"!=this.legendPosition&&"bottom"!=this.legendPosition&&"right"!=this.legendPosition&&"left"!=this.legendPosition&&("Circular"==this.graphType?"top"!=this.legendPosition&&(this.legendPosition="right"):"Pie"!=this.graphType&&(this.legendPosition="right"))),"Pie"==this.graphType&&this.layoutValid&&(this.legendPosition="right"),this.overlaysLegendPosition||(this.overlaysLegendPosition="topRight"),this.layoutValid&&!this.getLayoutConfig("legendPosition")){var t=this.meta.config.orig;t.insideLegend=this.insideLegend,this.insideLegend=!1,"top"!=this.legendPosition&&"bottom"!=this.legendPosition&&"right"!=this.legendPosition&&"left"!=this.legendPosition&&(t.legendPosition=this.legendPosition,this.legendPosition="right")}},this.setLegendFont=function(){if(this.autoScaleFont){var t=1-this.percentAspectRatioPlotArea,e=this.layoutComb&&this.isDOE?this.layoutWidth:this.width,i=this.layoutComb&&this.isDOE?this.layoutHeight:this.height,a=this.min(e*t,i*t);this.setPropertyFontSize(a/("Circular"==this.graphType?1.66:1),"legendFont")}else this.legendFont=this.legendFontStyle+" "+parseInt(this.legendFontSize)+"px "+this.fontName},this.drawLegendBackgroundBox=function(t,e,i,a,s,r,n,o){var h=n?this.decorationsBackgroundColor:this.legendBackgroundColor,l=o?this.legendBackgroundColor:n?this.decorationsBoxColor:this.legendBoxColor,c=n?this.decorationsBox:this.legendBox,d=this.graphType,p=[0,0,this.width,this.height],g=this.useRoundRectangles?"roundrect":"rectangle";s?c&&h&&!o&&"Network"!=d?(this.toRender({p:["disableGradientTransparencyShadow"],t:"Legends"}),this.toRender({p:["drawShape",g,t+i/2,e+a/2,i,a,h,h,"solid",!1,!1,!0,p],a:this.getShapeArea(g,t+i/2,e+a/2,i,a,h,h,"solid",!1,!1,!0,p),i:[-1],m:r,t:"Legends"}),this.toRender({p:["enableGradientTransparencyShadow"],t:"Legends"})):h?this.toRender({p:["drawShape",g,t+i/2,e+a/2,i,a,h,h,"solid",!1,!1,!0,p],a:this.getShapeArea(g,t+i/2,e+a/2,i,a,h,h,"solid",!1,!1,!0,p),i:[-1],m:r,t:"Legends"}):this.toRender({p:["drawShape",g,t+i/2,e+a/2,i,a,!1,"rgba(0,0,0,0)","open",!1,!1,!0,p],a:this.getShapeArea(g,t+i/2,e+a/2,i,a,!1,"rgba(0,0,0,0)","open",!1,!1,!0,p),i:[-1],m:r,t:"Legends"}):c&&(this.toRender({p:["disableGradientTransparencyShadow"],t:"Legends"}),this.toRender({p:["drawShape",g,t+i/2,e+a/2,i,a,!1,l,"open",!1,!1,!0,p],t:"Legends"}),this.toRender({p:["enableGradientTransparencyShadow"],t:"Legends"}))},this.getDiameterLegend=function(){var t=Math.min(this.width,this.height);return Number(Math.max(.5,14*t/833).toFixed(1))*this.legendScaleFontFactor},this.setCustomLegendDimensions=function(t){var e=t.text.length,i=this.getDiameterLegend(),a=t.size;if(a)for(var s=0;s<a.length;s++)a[s]&&(i=Math.max(i,a[s]));var r=this.measureText(t.title&&this.showLegendTitle?t.title:"",this.legendFont),n=this.measureText(this.getMaxText(t.text),this.legendFont),o=this.getFontPt(this.legendFont),h=this.legendColumns>e?e:this.legendColumns,l=Math.ceil(e/h),c=Math.max(r,(n+i+2*this.margin)*h)+this.margin*(h+2),d=t.title&&this.showLegendTitle?l*(Math.max(i,o)+this.margin)+o+2*this.margin:l*(Math.max(i,o)+this.margin)+1*this.margin;this["legend"+t.id+"Width"]=c,this["legend"+t.id+"Height"]=d+this.margin},this.setPropertyLegendDimensions=function(t,e,i){var a=this.decapitalize(t)+"By";if(this[a]&&(this[a+"ShowLegend"]||"Network"==this.graphType)||"Sample"==t){var s,r,n;e?(s=this[a],"Numeric"==i.type&&(t.match(/shape/i)&&!this.shapeByContinuous||t.match(/size/i)&&!this.sizeByContinuous)?(r=" "+e+" - "+e+" ",i&&(i.maxLevStrMod=r,i.isRange=!0)):r=e,n=i&&i.sizes?i.sizes:this.sizes):this.data.x&&this.data.x.hasOwnProperty(this[a])?(s=this[a],r=this.meta.data.x[this[a]].maxLevStrMod||this.meta.data.x[this[a]].maxLevStr,n=this.meta.data.x[this[a]].sizes||this.sizes):this.data.z&&this.data.z.hasOwnProperty(this[a])?(s=this[a],r=this.meta.data.z[this[a]].maxLevStrMod||this.meta.data.z[this[a]].maxLevStr,n=this.meta.data.z[this[a]].sizes||this.sizes):a.match("Node")?(s=this[a],r=this.meta.data.nodes[this[a]].maxLevStr,n=this.meta.data.nodes[this[a]].sizes||this.sizes):a.match("Edge")?(s=this[a],r=this.meta.data.edges[this[a]].maxLevStr,n=this.meta.data.edges[this[a]].sizes||this.sizes):(s=0,r=0,n=this.sizes);var o=this.getDiameterLegend();if("Size"==t||"SizeNode"==t||"SizeEdge"==t)for(var h=0;h<this["legend"+t+"sN"];h++)n[h]&&(o=Math.max(o,n[h]));else"Sample"==t&&(s=0,r=this.legendSampleMaxStr);r.length>this.maxTextSize&&(r=r.substring(0,this.maxTextSize-3)+"...");var l=this.getFontPt(this.legendFont),c=this.legendColumns>this["legend"+("Outline"==t?"Color":t)+"sN"]?this["legend"+("Outline"==t?"Color":t)+"sN"]:this.legendColumns,d=Math.ceil(this["legend"+("Outline"==t?"Color":t)+"sN"]/c),p=this.showLegendTitle?this.measureText(s,this.legendFont):0,g=(this.measureText(r,this.legendFont)+o+2*this.margin)*c;this["legend"+("Outline"==t?"Color":t)+"Width"]=Math.max(p,g)+this.margin*(c+2),this["legend"+("Outline"==t?"Color":t)+"Height"]=d*(Math.max(o,l)+this.margin)+("Sample"==t?0:this.showLegendTitle?l+5*this.margin:3*this.margin),this["legend"+("Outline"==t?"Color":t)+"Height"]>this.height&&(this.legendColumns++,this.maxTextSize=Math.max(10,this.maxTextSize-5),this.setPropertyLegendDimensions(t,e,i))}},this.setPropertyLegendIndicatorDimensions=function(t,e){var i=this.decapitalize(t)+"By",a=0,s=0,r=this.getFontPt(this.legendFont);if(this[i]||"Decoration"==t||"Contour"==t||"Bin2d"==t)switch(t){case"Color":case"ColorNode":case"ColorEdge":case"Outline":case"Decoration":case"Contour":case"Bin2d":var n=this.showLegendTitle?this.measureText(this.colorBy||this.outlineBy||this.colorNodeBy||this.colorEdgeBy||"",this.legendFont):0,o=e.maxLevLen;this.legendPosition.match(/top|bottom/)?(s=this.heatmapIndicatorHeight+4*this.margin+2*r,this.showLegendTitle&&(s+=r+this.margin),a=this.heatmapIndicatorWidth+Math.max(n,o)):(s=this.heatmapIndicatorWidth+3*this.margin+(this.showLegendTitle?2*r:0),a=this.heatmapIndicatorHeight+4*this.margin+Math.max(n,o));break;case"Shape":case"ShapeNode":case"ShapeEdge":case"Size":case"SizeNode":case"SizeEdge":return void this.setPropertyLegendDimensions(t,e.maxLevStr,e);case"Pattern":case"PatternNode":case"PatternEdge":a=0,s=0}this["legend"+("Outline"==t?"Color":t)+"Width"]=a,this["legend"+("Outline"==t?"Color":t)+"Height"]=s},this.setDecorationsLegendDimensions=function(){if(this.legendDecorationWidth=0,this.legendDecorationHeight=0,this.legendDecorationMaxLabel=0,this.showDecorations&&this.showDecorationsLegend&&this.decorations){this.legendInside||"right"!=this.decorationsPosition&&"bottom"!=this.decorationsPosition&&"Network"!=this.graphType&&(this.decorationsPosition="bottom");for(var t=this.getFontPt(this.decorationFont),e=this.decorations,i=0,a=["nlfit","reg","nor","area"],s=[96,45,30,0,0,0,0],r=[5,2,1,0,0,0,0],n=0;n<a.length;n++)if(e[a[n]]){for(var o=r[n]?this.measureText(this.sprintf("%"+s[n]+"s","X"),this.decorationFont)+this.margin*r[n]+this.margin:0,h=0,l=0;l<e[a[n]].length;l++){var c=this.measureText(e[a[n]][l].label,this.decorationFont);h=Math.max(c,h),this.legendDecorationMaxLabel=Math.max(h,this.legendDecorationMaxLabel)}i=Math.max(i,this.margin+h+this.margin+o),this.legendDecorationHeight=e[a[n]].length*t*2+t+this.margin}if("Map"==this.graphType&&e.pie&&e.pie[0]&&e.pie[0].smps&&e.pie[0].smps.length){h=0;var d=this.getFontPt(this.decorationFont);for(n=0;n<e.pie[0].smps.length;n++){c=this.measureText(e.pie[0].smps[n],this.decorationFont);h=Math.max(c,h),this.legendDecorationMaxLabel=Math.max(h,this.legendDecorationMaxLabel)}i=Math.max(i,(h+3*this.margin+2*d)*Math.min(e.pie[0].smps.length,this.legendColumns)),this.legendDecorationHeight+=Math.ceil(e.pie[0].smps.length/Math.min(e.pie[0].smps.length,this.legendColumns))*d*1.5+2*this.margin}this.legendDecorationWidth=i}},this.setOncoprintLegendDimension=function(){if(this.legendOncoprintWidth=0,this.legendOncoprintHeight=0,this.legendOncoprintColors={},this.isOncoprint){var t=this.cloneObject(this.meta.data[this.oncoprintCNA].levels),e=this.cloneObject(this.meta.data[this.oncoprintCNA].colors),i=[];t.push("No Alteration"),e.push("rgb(220,220,220");for(var a=0;a<t.length;a++)i.push("CNA");var s=t.length;if(this.oncoprintMUT){t=t.concat(this.cloneObject(this.meta.data[this.oncoprintMUT].levels)),e=e.concat(this.cloneObject(this.meta.data[this.oncoprintMUT].colors));for(a=s;a<t.length;a++)i.push("MUT")}var r=[],n=[];for(a=0;a<t.length;a++)t[a]&&(r.push(t[a]),n.push(i[a]),this.legendOncoprintColors[t[a]]=e[a],"rgb(220,220,220"==e[a]&&(this.legendOncoprintMutations=r.length));var o=this.getMaxText(r,this.legendFont),h=this.measureText(o,this.legendFont),l=Math.ceil(h+5+8*this.margin),c=(e=Math.floor(this.width/l),Math.ceil(r.length/e));this.legendOncoprintWidth=l*e,this.legendOncoprintHeight=(21+this.margin)*c+this.margin,this.legendOncoprintRows=c,this.legendOncoprintCols=e,this.legendOncoprintLabels=r,this.legendOncoprintObjects=n}},this.setSampleLegendDimension=function(){this.legendSampleWidth=0,this.legendSampleHeight=0,this.legendSampleMaxStr="",this.legendSampleMaxStrLen=0,this.legendSamplesN=1;var t=this.getFontPt(this.legendFont),e=0,i=0,a=[],s={};if(!this.ridgeBy||1!=this.dataStndBy.y.smps.length){if(this.isHistogram&&this.isHistogramLayout()){for(var r=0;r<this.data.l.axes.length;r++)for(var n=0;n<this.data.l.axes[r].yAxis.length;n++)this.data.l.axes[r].yAxis[n]&&(this.segregateVariablesBy.length||!this.data.l.axes[r].yAxis[n].match(":")?s[this.data.l.axes[r].yAxis[n].split(":")[0]]=!0:this.data.l.axes.length==this.dataStndBy.y.smps.length?s[this.data.l.axes[r].yAxis[n].split(":")[1]]=!0:s[this.data.l.axes[r].yAxis[n]]=!0);a=this.getKeys(s)}if(this.graphType.match(/Scatter/)){if(i=this.ridgeBy?this.dataStndBy.y.smps.length:Math.max(this.xAxisIndices.length,this.yAxisIndices.length),this.ridgeBy)e=this.measureText(this.shortenText(this.getMaxText(this.dataStndBy.y.smps),this.maxSmpStringLen),this.legendFont);else if(this.isHistogram)e=this.measureText(this.shortenText(this.getMaxText(this.data.y.smps),this.maxSmpStringLen),this.legendFont),i=this.data.y.smps.length-1,this.isHistogramLayout()?(i=a.length,e=this.measureText(this.shortenText(this.getMaxText(a),this.maxSmpStringLen),this.legendFont)):this.histogramAsDotplot&&this.colorBy&&(e=0);else if(this.xAxisIndices.length!=this.yAxisIndices.length||this.xAxisIndices.length>1)if(this.xAxisIndices.length==this.yAxisIndices.length&&this.xAxisIndices.length>1)for(r=0;r<this.xAxisIndices.length;r++){var o=this.shortenText(this.xAxis[r],this.maxSmpStringLen)+" vs "+this.shortenText(this.yAxis[r],this.maxSmpStringLen),h=this.measureText(o,this.legendFont);h>e&&(this.legendSampleMaxStr=o),e=Math.max(h,e)}else this.xAxisIndices.length>this.yAxisIndices.length?(this.legendSampleMaxStr=this.shortenText(this.getMaxText(this.xAxis),this.maxSmpStringLen)+" vs "+this.shortenText(this.yAxis[0],this.maxSmpStringLen),e=this.measureText(this.legendSampleMaxStr,this.legendFont)):this.yAxisIndices.length>this.xAxisIndices.length&&(this.legendSampleMaxStr=this.shortenText(this.getMaxText(this.yAxis),this.maxSmpStringLen)+" vs "+this.shortenText(this.xAxis[0],this.maxSmpStringLen),e=this.measureText(this.legendSampleMaxStr,this.legendFont));e&&(this.legendSamplesN=i,this.legendSampleMaxStrLen=e,this.legendSampleWidth=(t-1+e+3*this.margin)*this.legendColumns,this.legendSampleHeight=Math.ceil(i/this.legendColumns)*(t+this.margin)+this.margin)}}},this.setVariableLegendDimension=function(){if(this.showLegend){this.legendVariableWidth=0,this.legendVariableHeight=0;var t=this,e=function(){if(t.isDOE&&t.layoutCurrentDOE&&t.layoutCurrentDOE){if(t.meta.data.x&&t.meta.data.x.hasOwnProperty(t.layoutCurrentDOE))return t.meta.data.x[t.layoutCurrentDOE];if(t.meta.data.z&&t.meta.data.z.hasOwnProperty(t.layoutCurrentDOE))return t.meta.data.z[t.layoutCurrentDOE]}return t.meta.data.y}(),i=this.getFontPt(this.legendFont);if("Fish"==this.graphType){var a=this.getFontPt(this.legendFont),s=this.varIndices.length,r=this.shortenText(e.maxVarStr,this.maxVarStringLen);this.legendVariableWidth=(a-1+this.measureText(r,this.legendFont)+6*this.margin)*Math.min(s,this.legendColumns),this.legendVariableHeight=Math.ceil(s/Math.min(s,this.legendColumns))*(a+this.margin)+5*this.margin}if("Pie"==this.graphType){s=this.varIndices.length>this.maxPieSectors?this.maxPieSectors:this.varIndices.length,r=this.isDOE&&this.layoutCurrentDOE?this.shortenText(e.maxLevStr,this.maxVarStringLen):this.shortenText(e.maxVarStr,this.maxVarStringLen);this.maxPieSectors<this.varIndices.length&&r.length<5&&(r=this.shortenText("Other",this.maxVarStringLen));var n=this.measureText(r,this.legendFont)+i+3*this.margin,o=this.layoutComb&&this.isDOE?this.layoutWidth:this.width,h=1-this.percentAspectRatioPlotArea;this.legendVariableWidth=n>o*h?o*h:this.measureText(r,this.legendFont)+i+5*this.margin,this.legendVariableHeight=(i+this.margin)*s+2*this.margin}else if(this.layoutValid&&this.segregateVariablesBy.length>0&&!this.graphType.match(/Scatter/)){if("variable"==this.segregateVariablesBy[0]||this.segregateVariablesBy.length>1&&"variable"==this.segregateVariablesBy[1])return;if(this.colorBy&&(!this.colorBy||"variable"!=this.colorBy))return;a=e.maxVarChr>this.maxVarStringLen?e.maxVarStr.substring(0,this.maxVarStringLen):e.maxVarStr,s=this.varIndices.length;this.legendVariableWidth=(3*this.margin+2*i+this.measureText(a,this.legendFont))*Math.min(s,this.legendColumns),this.legendVariableHeight=Math.ceil(s/Math.min(s,this.legendColumns))*i*1.5+2*this.margin}else if(this.colorBy&&"variable"==this.colorBy||this.shapeBy&&"variable"==this.shapeBy||this.sizeBy&&"variable"==this.sizeBy||this.patternBy&&"variable"==this.patternBy){a=this.sizeBy&&"variable"==this.sizeBy?Math.max(this.sizes[this.varIndices.length-1],this.getFontPt(this.legendFont)):this.getFontPt(this.legendFont),s=this.varIndices.length,r=this.shortenText(e.maxVarStr,this.maxVarStringLen);this.legendVariableWidth=(a-1+this.measureText(r,this.legendFont)+3*this.margin)*Math.min(s,this.legendColumns),this.legendVariableHeight=Math.ceil(s/Math.min(s,this.legendColumns))*(a+this.margin)+2*this.margin}else if(this.colorBy||"BarLine"!=this.graphType&&"DotLine"!=this.graphType&&"AreaLine"!=this.graphType&&"StackedLine"!=this.graphType&&"StackedPercentLine"!=this.graphType)if(this.colorBy||"Bar"!=this.graphType&&("Line"!=this.graphType||this.lineBy)&&"Area"!=this.graphType&&"Dotplot"!=this.graphType&&"Stacked"!=this.graphType&&"StackedPercent"!=this.graphType&&"Boxplot"!=this.graphType){if("Circular"==this.graphType&&!this.showIdeogram){a=e.maxVarChr>this.maxVarStringLen?e.maxVarStr.substring(0,this.maxVarStringLen):e.maxVarStr;var l=this.rAxisIndex>=0?this.varIndices.length-1:this.varIndices.length;this.legendVariableWidth=(3*this.margin+2*i+this.measureText(a,this.legendFont))*Math.min(l,this.legendColumns),this.legendVariableHeight=Math.ceil(l/Math.min(l,this.legendColumns))*i*1.5+2*this.margin}}else{a=e.maxVarChr>this.maxVarStringLen?e.maxVarStr.substring(0,this.maxVarStringLen):e.maxVarStr,s=this.varIndices.length;this.legendVariableWidth=(3*this.margin+2*i+this.measureText(a,this.legendFont))*Math.min(s,this.legendColumns),this.legendVariableHeight=Math.ceil(this.varIndices.length/Math.min(s,this.legendColumns))*i*1.5+2*this.margin}else{var a=e.maxVarChr>this.maxVarStringLen?e.maxVarStr.substring(0,this.maxVarStringLen):e.maxVarStr,s=this.xAxisVarIndices.length+this.xAxis2VarIndices.length;this.legendVariableWidth=(3*this.margin+2*i+this.measureText(a,this.legendFont))*Math.min(s,this.legendColumns),this.legendVariableHeight=Math.ceil(s/Math.min(s,this.legendColumns))*i*1.5+2*this.margin}this.legendVariableHeight>this.height&&(this.legendColumns++,this.maxVarStringLen=Math.max(10,this.maxVarStringLen-5),this.setVariableLegendDimension())}},this.setVennLegendDimension=function(){var t=this.data.venn.legend?this.getMaxText(this.data.venn.legend):"N/A";this.legendWidth=this.measureText(t,this.legendFont)+6*this.margin,this.legendHeight=this.margin+this.margin+(this.getFontPt(this.legendFont)+this.margin)*this.vennGroups},this.setOverlaysLegendDimensions=function(){var t=this.getFontPt(this.legendFont)+2,e=this.getDiameterLegend(),i=Math.max(t,e),a=["varOverlays","smpOverlays"],s=["varOverlayProperties","smpOverlayProperties"],r=["showVarOverlaysLegend","showSmpOverlaysLegend"];this.legendOverlaysLayout=[],this.legendOverlaysWidth=0,this.legendOverlaysHeight=0;var n=this.margin,o=this.margin,h=0,l=0,c=0,d=!1;if(this.showOverlays&&(this.showVarOverlaysLegend||this.showSmpOverlaysLegend))for(var p=0;p<a.length;p++)if(this[a[p]].length>0&&this[r[p]])for(var g=0;g<this[a[p]].length;g++){var u=0,m=0,f=this[a[p]][g];if("-"!=f){var y="varOverlays"==a[p]?"z":"x",x=this.meta.data[y][f],b=this.measureText(x.maxLevStr,this.legendFont),v=this.measureText(f,this.legendFont);("Circular"==this.graphType||this[s[p]][f]&&"Default"==this[s[p]][f].type&&this[s[p]][f].showLegend)&&(d=!0,"String"==x.type?(u=Math.max(v,b+i+3*this.margin)*this[a[p]+"LegendColumns"],m=(Math.max(t,e)+this.margin)*Math.ceil(x.levels.length/this[a[p]+"LegendColumns"])+t+this.margin):this.overlaysLegendPosition.match(/right/i)?(u=Math.max(this.heatmapIndicatorHeight+2*this.margin+b,v),m=this.heatmapIndicatorWidth+3*this.margin+t):(u=this.heatmapIndicatorWidth+3*this.margin+t,m=Math.max(this.heatmapIndicatorHeight+2*this.margin+b,v)),this["legend"+f+"Width"]=u,this["legend"+f+"Height"]=m,this.overlaysLegendPosition.match(/right/i)?l+this.margin+m>this.height-(this.top+this.bottom)?(n+=this.margin+u,h=u,l=m,this.legendOverlaysLayout[c]&&c++,this.legendOverlaysLayout[c]=[[y,f,u,m]]):(u>h&&(n+=u-h,h=u),l+=m,this.legendOverlaysLayout[c]||(this.legendOverlaysLayout[c]=[]),this.legendOverlaysLayout[c].push([y,f,u,m])):h+this.margin+u>this.width-(this.left+this.right)?(o+=this.margin+m,h=u,l=m,this.legendOverlaysLayout[c]&&c++,this.legendOverlaysLayout[c]=[[y,f,u,m]]):(m>l&&(o+=m-l,l=m),h+=u,this.legendOverlaysLayout[c]||(this.legendOverlaysLayout[c]=[]),this.legendOverlaysLayout[c].push([y,f,u,m])))}}this.overlaysLegendPosition.match(/right/i)?(this.legendOverlaysWidth=d?n+this.margin:0,this.legendOverlaysHeight=d?l+this.margin:0):(this.legendOverlaysWidth=d?h+this.margin:0,this.legendOverlaysHeight=d?o+this.margin:0)},this.setLegendDimensions=function(){if(this.showDecorations&&this.showDecorationsLegend&&this.decorations&&(this.decorationLayout=[0]),this.showLegend){this.legendLayout=[],this.legendWidth=0,this.legendHeight=0;for(var t=this.margin,e=this.margin,i=0,a=0,s=0,r="Network"==this.graphType?["ColorNode","ShapeNode","SizeNode","PatternNode","ColorEdge","SizeEdge","Decoration"]:this.scatterPlotMatrix?["Color","Shape","Size","Pattern","Variable"]:this.connectByNoColor?["Color","Shape","Size","Pattern","Variable","Sample"]:["Color","Shape","Size","Line","Pattern","Connect","Variable","Sample","Contour","Bin2d"],n=0;n<r.length;n++){var o=this["legend"+r[n]+"Width"],h=this["legend"+r[n]+"Height"];("Decoration"!=r[n]||this.showDecorations)&&("Size"==r[n]&&"Map"==this.graphType&&this.decorations&&this.decorations.pie||o>0&&(this.legendPosition.match(/right|left/i)?a+this.margin+h>this.height?(t+=this.margin+o,i=o,a=h,this.legendLayout[s]=[r[n]],s++):(o>i&&(t+=o-i,i=o),a+=h,this.legendLayout[s]||(this.legendLayout[s]=[]),this.legendLayout[s].push(r[n])):i+this.margin+o>this.width?(e+=this.margin+h,i=o,a=h,this.legendLayout[n]=[r[n]],s++):(h>a&&(e+=h-a,a=h),i+=o,this.legendLayout[s]||(this.legendLayout[s]=[]),this.legendLayout[s].push(r[n]))))}for(n=0;n<this.legend.length;n++){this.legend[n].id="Custom"+n,this.setCustomLegendDimensions(this.legend[n]);o=this["legendCustom"+n+"Width"],h=this["legendCustom"+n+"Height"];this.legendPosition.match(/right|left/i)?a+this.margin+h>this.height?(t+=this.margin+o,i=o,a=h,this.legendLayout[s]=[this.legend[n].id],s++):(o>i&&(t+=o-i,i=o),a+=h,this.legendLayout[s]||(this.legendLayout[s]=[]),this.legendLayout[s].push(this.legend[n].id)):i+this.margin+o>this.width?(e+=this.margin+h,i=o,a=h,this.legendLayout[n]=[this.legend[n].id],s++):(h>a&&(e+=h-a,a=h),i+=o,this.legendLayout[s]||(this.legendLayout[s]=[]),this.legendLayout[s].push(this.legend[n].id))}this.legendWidth=0==i&&t==this.margin?0:this.legendPosition.match(/right|left/i)?t+this.margin:i+this.margin,this.legendHeight=0==a&&e==this.margin?0:this.legendPosition.match(/right|left/i)?a+this.margin:e+this.margin,!this.legendPositionAuto||this.legendInside||this.legendPositionTest||(this.legendPosition.match(/right|left/i)&&this.legendWidth>1.5*this.legendHeight?(this.legendPositionTest=!0,this.legendPosition="bottom",this.setLegends()):this.legendPosition.match(/top|bottom/i)&&this.legendHeight>1.5*this.legendWidth&&(this.legendPositionTest=!0,this.legendPosition="right",this.setLegends()),this.legendPositionTest=!1)}},this.setLegends=function(t){var e=this,i="Network"==this.graphType?["ColorNode","ShapeNode","SizeNode","PatternNode","ColorEdge","SizeEdge"]:this.connectByNoColor?["Color","Shape","Size","Pattern","Outline"]:["Color","Shape","Size","Line","Pattern","Outline","Connect","Contour","Bin2d"],a=["shapeByData","sizeByData","patternByData","outlineByData"],s=function(t,i,a){var s="Outline"==i?"Color":i,r=(e.decapitalize(s)+"s").replace("Node","").replace("Edge","").replace("decorations","colors");delete e["legend"+s+"sS"],e["legend"+s+"Meta"]=t,a&&(e["legend"+s+"Meta"].vals=e.colorSpectrumBreaks.length?e.colorSpectrumBreaks:e.rPretty(a[0],a[1],5),e["legend"+s+"Meta"].decs=e.getNumberDecimals(a[1]-a[0]),e["legend"+s+"Meta"].maxLevStr=e.getMaxText(e["legend"+("Outline"==i?"Color":i)+"Meta"].vals),e["legend"+s+"Meta"].maxLevLen=e.measureText(e["legend"+s+"Meta"].maxLevStr,e.font),e["legend"+s+"Meta"].maxLevChr=e["legend"+s+"Meta"].maxLevStr.toString().length),e.ridgeBy&&"data"==e.colorBy&&(e["legend"+s+"Meta"].min=e["legend"+s+"Meta"].vals[0],e["legend"+s+"Meta"].max=e["legend"+s+"Meta"].vals[e["legend"+s+"Meta"].vals.length-1]),e["legend"+s+"sMax"]=e["legend"+s+"Meta"].maxLevStr,e["legend"+s+"sN"]=e["legend"+s+"Meta"].vals.length,e["legend"+s+"s"]||(e["legend"+s+"s"]=[]);for(var n=0;n<e["legend"+s+"Meta"].vals.length;n++)e["legend"+s+"s"][e["legend"+s+"Meta"].vals[n].toString()]="Connect"==s?e.colors[n]:"Contour"==s||"Bin2d"==s?e.getColorForValue(t,e["legend"+s+"Meta"].vals[n]):e[r][n%e[r].length];e.setPropertyLegendIndicatorDimensions(i,e["legend"+s+"Meta"])},r=function(t,i,a,s,r){var n,o=0,h=0,l={},c={},d=t[e.decapitalize(s).replace("Node","").replace("Edge","")+"s"]||e[e.decapitalize(s).replace("Node","").replace("Edge","")+"s"];e.isGroupedData&&"Dotplot"!=e.graphType&&"Boxplot"!=e.graphType&&!e.showBoxplotOriginalData&&e.groupingFactors.length;if("x"==i)for(var p=e.isGroupedData?e.grpIndices:e.smpIndices,g=0;g<p.length;g++){var u=p[g];if(e.isGroupedData&&("Dotplot"==e.graphType||"Boxplot"==e.graphType||"swimmer"==e.barType||"Gantt"==e.graphType||e.stackBy||e.lineBy)){e.isGroupedData=!1;for(var m=0;m<e.data.w.grps[u].length;m++){c[f=e.getMetadataValue(e.data.w.grps[u][m],i,e[a])]=!0}e.isGroupedData=!0}else{e.isGroupedData?(e.isGroupedData=!1,f=e.getSmpAnnotations(e[a],e.data.w.grps[g],!0),e.isGroupedData=!0):f=e.getMetadataValue(u,i,e[a]),c[f]=!0}}else if("z"==i)if("Map"==e.graphType&&e.varIndices.length<t.levels.length||e.isCreateHistogram&&e.histogramAsDotplot)for(g=0;g<t.levels.length;g++){c[f=t.levels[g]]=!0}else for(g=0;g<e.varIndices.length;g++){u=e.varIndices[g];c[f=e.getMetadataValue(u,i,e[a])]=!0}else if("m"==i)for(g=0;g<e.varIndices.length;g++)for(m=0;m<e.smpIndices.length;m++){c[f=r[e.varIndices[g]][e.smpIndices[m]]]=!0}else if("modified"==i){t.order={};for(g=0;g<t.levels.length;g++)c[t.levels[g]]=!0,t.order[t.levels[g]]=g}else if("nodes"==i||"edges"==i){t.order={};for(g=0;g<t.levels.length;g++)c[t.levels[g]]=!0,t.order[t.levels[g]]=g}if(c=e.getKeys(c),"Numeric"==t.type)if(t.orderS)c.sort((function(e,i){return t.orderS[e]-t.orderS[i]}));else{c.sort((function(t,e){return t-e})),t.orderS={};for(g=0;g<c.length;g++)t.orderS[c[g]]=g}else c.sort((function(e,i){return t.order[e]-t.order[i]}));for(g=0;g<c.length;g++){var f=null!=c[g]?c[g]:"NA",y=e.measureText(f,e.legendFont);y>o&&(o=y,e["legend"+s+"sMax"]=f),l[f]=("Numeric"==t.type?t.orderS[f]:t.order[f])%d.length,e["legend"+s+"s"][f]=d[l[f]],h++}e["legend"+s+"sS"]=c,n=("m"==i||"modified"==i)&&e["legend"+s+"sMax"],e["legend"+s+"sN"]=h,e["legend"+s+"Meta"]=t,e.setPropertyLegendDimensions(s,n,t)};if(this.hiddenLegends||(this.hiddenLegends={}),this.validateLegendPositions(),this.setLegendFont(),"Meter"!=this.graphType)if("Venn"!=this.graphType){if("Network"==this.graphType){for(var n=0;n<i.length;n++){var o=i[n],h=(f=this.decapitalize(i[n]))+"By";if(this["legend"+o+"s"]={},this["legend"+o+"sN"]=0,this["legend"+o+"Width"]=0,this["legend"+o+"Height"]=0,this[h])"Numeric"==(l=this.meta.data[o.match("Node")?"nodes":"edges"][this[h]]).type?s(l,o):r(l,o.match("Node")?"nodes":"edges",h,o)}if(this.decorations.length&&"heatmap"==this.decorationsType&&this.meta.data.decorations.n&&this.showDecorations){var l=this.meta.data.decorations;this["legend"+(o="Decoration")+"s"]={},this["legend"+o+"sN"]=0,this["legend"+o+"Width"]=0,this["legend"+o+"Height"]=0,s(l,o)}}else if(this.isMultidimensionalData){for(n=0;n<a.length;n++)if(this.data.y[this[a[n]]]){var c=this.data.y[this[a[n]]];l=this.meta.data[this[a[n]]],o=a[n].replace("ByData","");o=this.capitalize(o);h=(f=this.decapitalize(o))+"By";this["legend"+("Outline"==o?"Color":o)+"s"]=[],this["legend"+("Outline"==o?"Color":o)+"sN"]=0,"Numeric"==l.type?s(l,o,[l.min,l.max]):r(l,"m",h,o,c)}}else if("bin2d"==this.scatterType){for(n=0;n<i.length;n++){o=i[n],h=(f=this.decapitalize(i[n]))+"By";this["legend"+o+"s"]={},this["legend"+o+"sN"]=0,this["legend"+o+"Width"]=0,this["legend"+o+"Height"]=0}if(!this.meta.data.b.g){var d=this.xAxisIndices[this.xAxisCurrent],p=this.yAxisIndices[this.yAxisCurrent],g=this.getAxisDataBySample(d,"x"),u=this.getAxisDataBySample(p,"y"),m=this.hist2d(g,u);this.meta.data.b.g=m,this.meta.data.b.c=m.brew}o="Bin2d";s(l=this.meta.data.b.c,o)}else if(this.isContour&&this.contourFilled){for(n=0;n<i.length;n++){o=i[n],h=(f=this.decapitalize(i[n]))+"By";this["legend"+o+"s"]={},this["legend"+o+"sN"]=0,this["legend"+o+"Width"]=0,this["legend"+o+"Height"]=0}this.meta.data.q.g.length&&this.meta.data.q.g[0]&&this.meta.data.q.g[0].data||this.createContour(this.isContour,!0);o="Contour";s(l=this.meta.data.q.g[0].data.colorBrew,o)}else for(n=0;n<i.length;n++){var f;o=i[n],h=(f=this.decapitalize(i[n]))+"By";if(this["legend"+o+"s"]={},this["legend"+o+"sN"]=0,this["legend"+o+"Width"]=0,this["legend"+o+"Height"]=0,!t&&this[h])if(this.data.x&&this.data.x.hasOwnProperty(this[h])){l=this.meta.data.x[this[h]];this[f+"ByType"]="x","Numeric"!=l.type||l[h]?r(l,"x",h,o):s(l,o)}else if(this.data.z&&this.data.z.hasOwnProperty(this[h])){l=this.meta.data.z[this[h]];this[f+"ByType"]="z","Numeric"!=l.type||l[h]?r(l,"z",h,o):s(l,o,!!this.colorSpectrumBreaks.length)}else{if(this.getSampleIndices(this[h])>-1&&this.meta.data.y.range[this[h]])(l=this.meta.data).modified&&l.modified.z&&l.modified.z[this[h]]?((l=l.modified.z).meta||(l.meta={}),l.meta[this[h]]={levels:l[this[h]]},r(l.meta[this[h]],"modified",h,o)):s(l=l.y.range[this[h]],o,[l.min,l.max]);else if("variable"==this[h])e["legend"+o+"sN"]=this.varIndices.length;else if(this.ridgeBy&&"data"==this[h])s({type:"Numeric"},o,[this.xAxisMin,this.xAxisMax]);else if(this.isCreateHistogram&&this.histogramAsDotplot&&this.dataStndBy&&this.dataStndBy.z&&this.dataStndBy.z.hasOwnProperty(this[h]))"Numeric"!=(l=this.meta.data.z[this[h]]).type||l[h]?r(l,"z",h,o):s(l,o)}}this.setDecorationsLegendDimensions(),this.setSampleLegendDimension(),this.setVariableLegendDimension(),this.setOncoprintLegendDimension(),this.setOverlaysLegendDimensions(),this.setLegendDimensions()}else this.setVennLegendDimension()},this.addLegend=function(t,e){if(t){if(e){var i=this.findXYCoordinates(e);t.x=i.x,t.y=i.y}this.legend.push(t)}},this.deleteLegend=function(t){if(t&&t.id){for(var e=[],i=0;i<this.legend.length;i++)this.legend[i].id!=t.id&&e.push(this.legend[i]);this.legend=e}},this.drawDecorationData=function(){this.toRender({p:["setClipArea",this.setClipBoundaries()],t:"Decorations"});var t=this.marginLeft+this.offsetX+this.left,e=this.marginTop+this.offsetY+this.top,i=this.decorations;if(this.showDecorations&&i)if(this.graphType.match(/Scatter/)){if(i.nlfit)for(var a,s,r,n=this.varIndices,o=0;o<i.nlfit.length;o++){var h=[],l=[],c=o%this.colors.length,d=Number(this.transformValue(this.yAxisTransform,i.nlfit[o].param[0])),p=Number(this.transformValue(this.yAxisTransform,i.nlfit[o].param[1])),g=Number(i.nlfit[o].param[2]),u=Number(i.nlfit[o].param[3]),m=1==this.xAxisIndices.length?this.xAxisIndices[0]:this.xAxisIndices[o],f=this.getDataForSmpGrpAtIndex(m);"percentile"==this.xAxisTransform&&(r=(a=this.range(f))[0],s=a[1]),n.sort((function(t,e){return f[t]-f[e]})),c=i.nlfit[o].color?i.nlfit[o].color:this.colors[c];for(var y=0;y<n.length;y++){var x=n[y],b=[];if((T=this.getDataAtPos(x,m))>0){if(y>0){var v=n[y-1];if((ht=this.getDataAtPos(v,m))>0)for(var A=(T-ht)/25,w=0;w<25;w++)b.push(ht),ht+=A}else b=[T];for(w=0;w<b.length;w++)S="reg"==i.nlfit[o].type?d+(p-d)/(1+g/Math.pow(b[w],u)):d+(p-d)/(1+Math.pow(b[w]/g,u)),this.xAxisTransform&&(b[w]="percentile"==this.xAxisTransform?this.percentile(r,s,b[w]):this.transformValue(this.xAxisTransform,b[w])),gt=t+(b[w]-this.xAxisMin)*this.xAxisUnit,$=e+this.y-(S-this.yAxisMin)*this.yAxisUnit,h.push(gt),l.push($)}}if(h.length>0){this.toRender({p:["drawShape","path",h,l,!1,!1,c,c,"open",!1,!1,!0],a:this.getShapeArea("path",h,l,!1,!1,c,c,"open",!1,!1,!0),i:["Decor-Non-Lin-"+y+"-"+o],t:"Decorations"}),S="reg"==i.nlfit[o].type?d+(p-d)/(1+g/Math.pow(g,u)):d+(p-d)/(1+Math.pow(g/g,u)),this.xAxisTransform&&(g="percentile"==this.xAxisTransform?this.percentile(r,s,g):this.transformValue(this.xAxisTransform,g)),gt=t+(g-this.xAxisMin)*this.xAxisUnit,$=e+this.y-(S-this.yAxisMin)*this.yAxisUnit;var C=this.toRender({p:["drawLine","dottedLine",t,$,gt,$,c],a:this.getLineArea("dottedLine",t,$,gt,$,c),i:["Decor-Non-Lin-EC-h"+y+"-"+o],t:"Decorations"});this.toRender({p:["drawLine","dottedLine",gt,$,gt,e+this.y,c],a:this.getLineArea("dottedLine",gt,$,gt,e+this.y,c),i:["Decor-Non-Lin-EC-v"+y+"-"+o],g:C,t:"Decorations"})}}if(i.text)for(o=0;o<i.text.length;o++)if(null!=i.text[o].x||null!=i.text[o].y){c=i.text[o].color?i.text[o].color:this.foreground;var T=null!=i.text[o].x?i.text[o].x:null,S=null!=i.text[o].y?i.text[o].y:null,D=i.text[o].label||!1,M=i.text[o].scope||!1,k=i.text[o].align||"left";if(M){var L=!this.layoutValid;if(this.layoutValid){var I=this.data.l.name[this.layoutCurrent];this.isArray(I)||(I=[I]);for(y=0;y<I.length;y++)if(M.toString()==I[y].toString().replace("\0","")){L=!0;break}}if(!L)continue}null!=T&&null!=S&&D&&(gt=t+(T-this.xAxisMin)*this.xAxisUnit,$=e+this.y-(S-this.yAxisMin)*this.yAxisUnit,"right"==k?this.toRender({p:["drawText",D,gt,$,this.decorationFont,c,"right","middle"],t:"Decorations"}):"center"==k?this.toRender({p:["drawText",D,gt,$,this.decorationFont,c,"center","middle"],t:"Decorations"}):this.toRender({p:["drawText",D,gt,$,this.decorationFont,c,"left","middle"],t:"Decorations"}))}if(i.line)for(o=0;o<i.line.length;o++)if(null!=i.line[o].x||null!=i.line[o].y){c=i.line[o].color?i.line[o].color:this.colors[o%this.colors.length];var B=i.line[o].type?i.line[o].type:"line",N=(T=null!=i.line[o].x?i.line[o].x:null,S=null!=i.line[o].y?i.line[o].y:null,null!=i.line[o].x2?i.line[o].x2:null),F=null!=i.line[o].y2?i.line[o].y2:null,P=i.line[o].width?i.line[o].width:1,R=(D=i.line[o].label||!1,k=i.line[o].align||"left",M=i.line[o].scope||!1,this.isArray(T)&&this.isArray(S)&&null==N&&null==F),O=null;if(this.isCreateHistogram&&(null!=T&&(T-=this.isCreateHistogram.min),null!=N&&(N-=this.isCreateHistogram.min)),M){L=!this.layoutValid;if(this.layoutValid){I=this.data.l.name[this.layoutCurrent];this.isArray(I)||(I=[I]);for(y=0;y<I.length;y++)if(M.toString()==I[y].toString().replace("\0","")){L=!0;break}}if(!L)continue}if(R)for(y=1;y<T.length;y++)gt=t+(T[y-1]-this.xAxisMin)*this.xAxisUnit,xt=t+(T[y]-this.xAxisMin)*this.xAxisUnit,$=e+this.y-(S[y-1]-this.yAxisMin)*this.yAxisUnit,Q=e+this.y-(S[y]-this.yAxisMin)*this.yAxisUnit,yt=D||"",1==y?O=this.toRender({p:["drawLine",B,gt,$,xt,Q,c,P],a:this.getLineArea(B,gt,$,xt,Q,c,P),i:[yt+":Decor-Line-"+o],t:"Decorations"}):this.toRender({p:["drawLine",B,gt,$,xt,Q,c,P],a:this.getLineArea(B,gt,$,xt,Q,c,P),i:[yt+":Decor-Line-"+o],g:O,t:"Decorations"});else null!=T&&null!=S&&null!=N&&null!=F?(gt=t+(T-this.xAxisMin)*this.xAxisUnit,xt=t+(N-this.xAxisMin)*this.xAxisUnit,$=e+this.y-(S-this.yAxisMin)*this.yAxisUnit,Q=e+this.y-(F-this.yAxisMin)*this.yAxisUnit,yt=i.line[o].tooltip||"("+T+","+S+") &rarr; ("+N+","+F+")",this.toRender({p:["drawLine",B,gt,$,xt,Q,c,P],a:this.getLineArea(B,gt,$,xt,Q,c,P),i:[yt+":Decor-Line-"+o],t:"Decorations"})):null!=T?(xt=gt=t+(T-this.xAxisMin)*this.xAxisUnit,Q=($=e)+this.y,yt=i.line[o].tooltip||"x &rarr; "+(this.isCreateHistogram?T+this.isCreateHistogram.min:T),this.toRender({p:["drawLine",B,gt,$,xt,Q,c,P],a:this.getLineArea(B,gt,$,xt,Q,c,P),i:[yt+":Decor-Line-"+o],t:"Decorations"})):null!=S&&(gt=t,$=e+this.y-(S-this.yAxisMin)*this.yAxisUnit,xt=gt+this.x,Q=$,yt=i.line[o].tooltip||"y &rarr; "+S,this.toRender({p:["drawLine",B,gt,$,xt,Q,c,P],a:this.getLineArea(B,gt,$,xt,Q,c,P),i:[yt+":Decor-Line-"+o],t:"Decorations"}));if(D&&!R)if(null!=i.line[o].y2){var X=this.getRadians(gt,$,xt,Q);"right"==k?this.toRender({p:["drawText",D,xt,Q,this.decorationFont,this.decorationColor,"right","bottom",X],t:"Decorations"}):"center"==k?this.toRender({p:["drawText",D,(gt+xt)/2,($+Q)/2,this.decorationFont,this.decorationColor,"center","bottom",X],t:"Decorations"}):this.toRender({p:["drawText",D,gt,$,this.decorationFont,this.decorationColor,"left","bottom",X],t:"Decorations"})}else"right"==k?this.toRender({p:["drawText",D,xt-this.margin,Q-this.margin,this.decorationFont,this.decorationColor,"right","bottom"],t:"Decorations"}):"center"==k?this.toRender({p:["drawText",D,(gt+xt)/2,Q-this.margin,this.decorationFont,this.decorationColor,"center","bottom"],t:"Decorations"}):this.toRender({p:["drawText",D,gt+this.margin,Q-this.margin,this.decorationFont,this.decorationColor,"left","bottom"],t:"Decorations"})}if(i.reg)for(o=0;o<i.reg.length;o++)if(i.reg[o].slope&&i.reg[o].intercept){var z=i.reg[o].fit?i.reg[o].fit:this.colors[o%this.colors.length],E=(c=i.reg[o].color?i.reg[o].color:this.colors[o%this.colors.length],this.addColorTransparency(c,.3,!0)),_=this.getPropertyValue(o,!1,"patternBy"),H=i.reg[o].style?i.reg[o].style:this.fitLineStyle,V=Number(i.reg[o].slope),G=Number(i.reg[o].intercept),q=i.reg[o].id,j=i.reg[o].cor,U="y ~ "+this.formatNumber(V,this.yAxisDecs+1)+"x + "+this.formatNumber(G,this.yAxisDecs+1)+(j?" (r = "+this.formatNumber(j,3)+")":""),Y=!!i.reg[o].ci&&i.reg[o].ci,W=!!Y&&Y.length-1,$=V*(gt=this.showRegressionFullRange||!Y?this.xAxisMin:Y[0][0])+G,Q=V*(xt=this.showRegressionFullRange||!Y?this.xAxisMax:Y[W][0])+G;gt=t+gt*this.xAxisUnit-this.xAxisMin*this.xAxisUnit,$=e+this.y-$*this.yAxisUnit+this.yAxisMin*this.yAxisUnit,xt=t+xt*this.xAxisUnit-this.xAxisMin*this.xAxisUnit,Q=e+this.y-Q*this.yAxisUnit+this.yAxisMin*this.yAxisUnit;var Z=this.lineClip([[gt,$],[xt,Q]]);if(Z.length&&this.toRender({p:["drawLine",H,Z[0][0][0],Z[0][0][1],Z[0][1][0],Z[0][1][1],z,2],a:this.getLineArea(H,Z[0][0][0],Z[0][0][1],Z[0][1][0],Z[0][1][1],z,2),i:["Decor-Reg-"+o,q],t:"Decorations",h:this.isHidden(!1,!1,q)}),Y){var K=[],J=[],tt=[];for(y=0;y<Y.length;y++)gt=t+Y[y][0]*this.xAxisUnit-this.xAxisMin*this.xAxisUnit,$=e+this.y-Y[y][1]*this.yAxisUnit+this.yAxisMin*this.yAxisUnit,Q=e+this.y-Y[y][2]*this.yAxisUnit+this.yAxisMin*this.yAxisUnit,K.push([gt,gt]),J.push([$,Q]),tt.push([gt,($+Q)/2]);this.showConfidenceIntervals&&this.toRender({p:["drawShape","confidence",K,J,!1,!1,E,c,_],a:this.getShapeArea("confidence",K,J,!1,!1,E,c,_),i:[U+":Confidence",q],b:tt,t:"Decorations",h:this.isHidden(!1,!1,q)})}}if(i.nor)for(o=0;o<i.nor.length;o++)if(i.nor[o].mu&&i.nor[o].sigma){var et=[],it=[],at=[],st=(c=o%this.colors.length,i.nor[o].mu),rt=i.nor[o].sigma,nt=i.nor[o].start?i.nor[o].start:i.nor[o].yAxis?this.yAxisMin:this.xAxisMin,ot=i.nor[o].end?i.nor[o].end:i.nor[o].yAxis?this.yAxisMax:this.xAxisMax;if(nt<st&&st<ot){A=(st-nt)/120;var ht,lt,ct,dt=rt*rt,pt=1/Math.sqrt(2*Math.PI*dt);if(i.nor[o].yAxis){ct=(i.nor[o].max?i.nor[o].max*this.xAxisUnit:this.x-this.x*this.axisExtension)/pt,ht=nt;for(y=0;y<119;y++)lt=pt*Math.pow(Math.E,-Math.pow(ht-st,2)/dt),at.push([ht,lt]),gt=t+lt*ct,$=e+this.y-ht*this.yAxisUnit+this.yAxisMin*this.yAxisUnit,et.push(gt),it.push($),ht+=A;A=(ot-st)/120,ht=st;for(y=0;y<120;y++)lt=pt*Math.pow(Math.E,-Math.pow(ht-st,2)/dt),at.push([ht,lt]),gt=t+lt*ct,$=e+this.y-ht*this.yAxisUnit+this.yAxisMin*this.yAxisUnit,et.push(gt),it.push($),ht+=A;c=i.nor[o].color?i.nor[o].color:this.colors[c],this.toRender({p:["drawShape","path",et,it,!1,!1,c,c,"open",!1,!1,!0],a:this.getShapeArea("path",et,it,!1,!1,c,c,"open",!1,!1,!0),i:["Decor-Nor-"+o],t:"Decorations"})}else{ct=(i.nor[o].max?i.nor[o].max*this.yAxisUnit:this.y-this.y*this.axisExtension)/pt,ht=nt;for(y=0;y<119;y++)lt=pt*Math.pow(Math.E,-Math.pow(ht-st,2)/dt),at.push([ht,lt]),gt=t+ht*this.xAxisUnit-this.xAxisMin*this.xAxisUnit,$=e+this.y-lt*ct,et.push(gt),it.push($),ht+=A;A=(ot-st)/120,ht=st;for(y=0;y<120;y++)lt=pt*Math.pow(Math.E,-Math.pow(ht-st,2)/dt),at.push([ht,lt]),gt=t+ht*this.xAxisUnit-this.xAxisMin*this.xAxisUnit,$=e+this.y-lt*ct,et.push(gt),it.push($),ht+=A;c=i.nor[o].color?i.nor[o].color:this.colors[c],this.toRender({p:["drawShape","path",et,it,!1,!1,c,c,"open",!1,!1,!0],a:this.getShapeArea("path",et,it,!1,!1,c,c,"open",!1,!1,!0),i:["Decor-Nor-"+o],t:"Decorations"})}}}if(i.area)for(o=0;o<i.area.length;o++)if(i.area[o].type&&i.area[o].x&&i.area[o].y&&i.area[o].width&&i.area[o].height&&this.isValidShape(i.area[o].type)){var gt=t+i.area[o].x*this.xAxisUnit-this.xAxisMin*this.xAxisUnit,ut=($=e+this.y-i.area[o].y*this.yAxisUnit+this.yAxisMin*this.yAxisUnit,c=i.area[o].color?i.area[o].color:this.colors[o%this.colors.length],i.area[o].width*this.xAxisUnit),mt=i.area[o].height*this.yAxisUnit;this.oRender({p:["drawShape",i.area[o].type,gt,$,ut,mt,c,i.area[o].outline,i.area[o].pattern,i.area[o].rotate],a:this.getShapeArea(i.area[o].type,gt,$,ut,mt,c,i.area[o].outline,i.area[o].pattern,i.area[o].rotate),i:["Decor-Area-"+o],t:"Decorations"})}if(i.point)for(o=0;o<i.point.length;o++)if(i.point[o].x&&i.point[o].y){gt=t+(i.point[o].x-this.xAxisMin)*this.xAxisUnit,$=e+this.y-(i.point[o].y-this.yAxisMin)*this.yAxisUnit;var ft=i.point[o].shape||"circle",yt=(c=i.point[o].color||this.foreground,ut=i.point[o].width||.5*this.dataPointSize,mt=i.point[o].height||.5*this.dataPointSize,this.formatNumber(i.point[o].x,this.xAxisDecs)+", "+this.formatNumber(i.point[o].y,this.yAxisDecs));this.toRender({p:["drawShape",ft,gt,$,ut,mt,c,c],a:this.getShapeArea(ft,gt,$,ut,mt,c,c),i:[yt+":Decor-Point-"+o],t:"Decorations"})}}else{if(i.line)for(o=0;o<i.line.length;o++){L=!0,B=i.line[o].type||"line";var xt,bt=i.line[o].color,vt=this.transformValue(this.isTransformedData,i.line[o].value||0),At=(D=i.line[o].label||!1,i.line[o].width||1);k=i.line[o].align||"left",M=i.line[o].scope||!1;if("vertical"==this.graphOrientation?(xt=(gt=this.marginLeft+this.offsetX+this.left)+this.x,Q=$=this.marginTop+this.offsetY+this.top+this.y-(vt-this.xAxisMin)*this.xAxisUnit,L=$<=this.marginTop+this.offsetY+this.top+this.y&&$>=this.marginTop+this.offsetY+this.top):(xt=gt=this.marginLeft+this.offsetX+this.left+(vt-this.xAxisMin)*this.xAxisUnit,Q=($=this.marginTop+this.offsetY+this.top)+this.y,L=!!(gt<=this.marginLeft+this.offsetX+this.left+this.x&&this.marginLeft+this.offsetX+this.left)),L&&M&&this.layoutValid){L=!1;for(I=this.toArray(this.data.l.name[this.layoutCurrent]),y=0;y<I.length;y++)M==I[y]&&(L=!0)}if(L){var wt=this.isR?6:3;D&&("vertical"==this.graphOrientation?"right"==k?this.toRender({p:["drawText",D,xt-this.margin,Q-this.margin,this.decorationFont,this.decorationColor,"right","bottom"],t:"Decorations"}):"center"==k?this.toRender({p:["drawText",D,gt+this.x/2,Q-this.margin,this.decorationFont,this.decorationColor,"center","bottom"],t:"Decorations"}):this.toRender({p:["drawText",D,gt+this.margin,Q-this.margin,this.decorationFont,this.decorationColor,"left","bottom"],t:"Decorations"}):"right"==k?this.toRender({p:["drawText",D,xt+2*this.margin,Q-this.margin*wt,this.decorationFont,this.decorationColor,"left","middle"],t:"Decorations"}):"center"==k?this.toRender({p:["drawText",D,xt+2*this.margin,$+this.y/2,this.decorationFont,this.decorationColor,"left","middle"],t:"Decorations"}):this.toRender({p:["drawText",D,xt+2*this.margin,$+this.margin*wt,this.decorationFont,this.decorationColor,"left","middle"],t:"Decorations"}));yt=i.line[o].tooltip||"&rarr; "+vt;this.toRender({p:["drawLine",B,gt,$,xt,Q,bt,At],a:this.getLineArea(B,gt,$,xt,Q,bt,At),i:[yt+":Decor-Line"+o],t:"Decorations"})}}else if(i.point)for(o=0;o<i.point.length;o++){L=!0;var Ct=this.getSampleIndices(i.point[o].smp),Tt=(vt=this.transformValue(this.isTransformedData,i.point[o].value||0),bt=i.point[o].color||this.foreground,At=(i.point[o].width||1)*this.dataPointSize,(i.point[o].height||1)*this.dataPointSize),St=i.point[o].shape||"circle";gt=null!=Ct&&Ct>=0?this.smpInfo[Ct]-this.margin:null,$=(vt-this.xAxisMin)*this.xAxisUnit;if(null!=gt&&null!=$&&("vertical"==this.graphOrientation?L=($=this.marginTop+this.offsetY+this.top+this.y-$)<=this.marginTop+this.offsetY+this.top+this.y&&$>=this.marginTop+this.offsetY+this.top:(gt=this.marginLeft+this.offsetX+this.left+$,$=this.smpInfo[Ct],L=!!(gt<=this.marginLeft+this.offsetX+this.left+this.x&&this.marginLeft+this.offsetX+this.left)),L)){yt=i.point[o].smp+"("+vt+")";this.toRender({p:["drawShape",St,gt,$,At,Tt,bt,bt,"closed"],a:this.getShapeArea(St,gt,$,At,Tt,bt,bt,"closed"),i:[yt+":Decor-Point-"+o],t:"Decorations"})}}i.marker&&this.drawMarkers()}this.toRender({p:["resetClipArea"],t:"Decorations"})},this.drawOncoprintLegend=function(){if(this.isOncoprint){var t=this.width/2-this.legendOncoprintWidth/2,e=this.height-(this.marginBottom+this.legendOncoprintHeight-this.margin),i=0,a=this.legendOncoprintWidth/this.legendOncoprintCols;this.toRender({p:["drawShape","rect",this.width/2,e+this.legendOncoprintHeight/2-this.margin,this.legendOncoprintWidth,this.legendOncoprintHeight,this.background,this.background],a:this.getShapeArea("rect",this.width/2,e+this.legendOncoprintHeight/2-this.margin,this.legendOncoprintWidth,this.legendOncoprintHeight,this.background,this.background),i:[-1],m:["-legend-oncoprint"],t:"Legends"});for(var s=0;s<this.legendOncoprintRows;s++){for(var r=t,n=0;n<this.legendOncoprintCols;n++)if(i<this.legendOncoprintLabels.length){var o=this.legendOncoprintLabels[i],h=this.legendOncoprintObjects[i];i<this.legendOncoprintMutations?(this.toRender({p:["drawShape","rect",r+2.5,e+10.5,5,21,this.legendOncoprintColors[o]],a:this.getShapeArea("rect",r+2.5,e+10.5,5,21,this.legendOncoprintColors[o]),i:["Onc-"+o+"-"+h],t:"Legends"}),r+=5+this.margin,this.toRender({p:["drawText",o,r,e+10.5+2,this.legendFont,this.legendColor,"left","middle"],t:"Legends"}),r+=a):(this.toRender({p:["drawShape","rect",r+2.5,e+10.5,5,21,"rgb(220,220,220"],a:this.getShapeArea("rect",r+2.5,e+10.5,5,21,"rgb(220,220,220"),i:["Onc-"+o+"-"+h],t:"Legends"}),this.toRender({p:["drawShape","rect",r+2.5,e+10.5,5,7,this.legendOncoprintColors[o]],a:this.getShapeArea("rect",r+2.5,e+10.5,5,7,this.legendOncoprintColors[o]),i:["Onc-"+o+"-"+h],t:"Legends"}),r+=5+this.margin,this.toRender({p:["drawText",o,r,e+10.5+2,this.legendFont,this.legendColor,"left","middle"],t:"Legends"}),r+=a),i++}e+=21+this.margin}}},this.drawSampleLegend=function(t,e){var i=this,a=function(t,e){return i.isCreateHistogram?i.isCreateHistogram.colors.length<i.legendSamplesN&&i.isCreateHistogram.factor?i.cacheColors[i.colorScheme].hasOwnProperty(e)?i.cacheColors[i.colorScheme][e]:p&&p.hasOwnProperty(i.isCreateHistogram.factor)&&p[i.isCreateHistogram.factor].colors?p[i.isCreateHistogram.factor].colors[t]:i.colors[t%i.colors.length]:i.isCreateHistogram.colors.length==i.legendSamplesN?"filled"==i.densityPosition&&"Scatter2D"==i.graphType?i.isCreateHistogram.colors[i.legendSamplesN-(1+t)]:i.isCreateHistogram.colors[t]:i.cacheColors[i.colorScheme].hasOwnProperty(e)?i.cacheColors[i.colorScheme][e]:i.colors[t%i.colors.length]:i.colors[t%i.colors.length]},s=function(t){var e;return i.isCreateHistogram?i.xAxisIndices.length||i.yAxisIndices.length?i.data.l&&i.data.l.axes&&i.data.l.axes[m]&&i.data.l.axes[m].yAxis&&i.data.l.axes[m].yAxis[f]&&!i.data.l.axes[m].yAxis[f].match(":")?"Series:0:"+i.data.l.ids[t+1]:i.xAxisIndices.length==i.yAxisIndices.length?"Series:"+i.xAxisIndices[t]+":"+i.yAxisIndices[t]:i.xAxisIndices.length>i.yAxisIndices.length?"Series:"+i.xAxisIndices[t]+":0":"Series:0:"+i.yAxisIndices[t]:(i.isHistogramLayout()?(e=i.getSampleIndices(g[t]))<0&&(e=t+1):e=i.getSampleIndices(i.data.l.axes[0].yAxis[t]),"Series:0:"+e):i.xAxisIndices.length==i.yAxisIndices.length?"Series:"+i.xAxisIndices[t]+":"+i.yAxisIndices[t]:i.xAxisIndices.length>i.yAxisIndices.length?"Series:"+i.xAxisIndices[t]+":0":"Series:0:"+i.yAxisIndices[t]},r=t,n=e,o=0,h=this.getFontPt(this.legendFont),l=(h-1)/2;e+=this.margin+l,this.drawLegendBackgroundBox(r,n,this.legendSampleWidth,this.legendSampleHeight,!0,"-legend-sample");var c=this.legendSampleWidth/this.legendColumns,d=Math.ceil(this.legendSamplesN/this.legendColumns),p=i.meta.data.z,g=[],u={};if(this.ridgeBy)for(var m=0;m<d;m++){for(var f=0;f<this.legendColumns;f++)if(t=r+(this.margin+c)*f,o<this.legendSamplesN){var y=this.shortenText(this.dataStndBy.y.smps[o],this.maxSmpStringLen),x=this.colors[o%this.colors.length],b="Series:0:"+o,v=t+l+this.margin;this.toRender({p:["drawShape","circle",v,e,h-1,h-1,this.getFillColor(x),this.getOutlineColor(x),"solid"],a:this.getShapeArea("circle",v,e,h-1,h-1,this.getFillColor(x),this.getOutlineColor(x),"solid"),i:[b],t:"Legends",h:this.isHidden(!1,!1,b)}),this.toRender({p:["drawText",y,v+l+this.margin,e,this.legendFont,this.legendColor,"left","middle"],a:this.getTextArea(y,v+l+this.margin,e,this.legendFont,this.legendColor,"left","middle"),i:[b],t:"Legends",h:this.isHidden(!1,!1,b)}),o++}e+=h+this.margin}else if(this.isHistogram&&this.isHistogramLayout()){for(m=0;m<this.data.l.axes.length;m++)for(f=0;f<this.data.l.axes[m].yAxis.length;f++)this.data.l.axes[m].yAxis[f]&&(this.segregateVariablesBy.length||!this.data.l.axes[m].yAxis[f].match(":")?u[this.data.l.axes[m].yAxis[f].split(":")[0]]=!0:this.data.l.axes.length==this.dataStndBy.y.smps.length?u[this.data.l.axes[m].yAxis[f].split(":")[1]]=!0:u[this.data.l.axes[m].yAxis[f]]=!0);g=this.getKeys(u)}if(!this.ridgeBy)for(m=0;m<d;m++){for(f=0;f<this.legendColumns&&(t=r+(this.margin+c)*f,o<this.legendSamplesN);f++){var A=this.isCreateHistogram?"solid":this.getPropertyValue(m,!1,"patternBy"),w=this.xAxisIndices.length==this.yAxisIndices.length?this.yAxis[o]:this.xAxisIndices.length>this.yAxisIndices.length?this.yAxis[this.yAxisCurrent]:this.yAxis[o],C=this.xAxisIndices.length==this.yAxisIndices.length||this.xAxisIndices.length>this.yAxisIndices.length?this.xAxis[o]:this.xAxis[this.xAxisCurrent];b=s(o),x=a(o,y=this.isHistogramLayout()?g[o]:this.isHistogram?this.shortenText(w,this.maxSmpStringLen):this.shortenText(w,this.maxSmpStringLen)+" vs "+this.shortenText(C,this.maxSmpStringLen)),v=t+l+this.margin,this.margin;this.isCreateHistogram?this.toRender({p:["drawShape",this.shapes[0],v,e,h-1,h-1,this.getFillColor(x),this.getOutlineColor(x),A],a:this.getShapeArea(this.shapes[0],v,e,h-1,h-1,this.getFillColor(x),this.getOutlineColor(x),A),i:[b],t:"Legends",h:this.isHidden(!1,!1,b)}):this.colorBy?this.toRender({p:["drawShape",this.shapes[0],v,e,h-1,h-1,!1,this.getFillColor(x),"open"],a:this.getShapeArea(this.shapes[0],v,e,h-1,h-1,!1,this.getFillColor(x),"open"),i:[b],t:"Legends",h:this.isHidden(!1,!1,b)}):this.toRender({p:["drawShape",this.shapes[0],v,e,h-1,h-1,this.getFillColor(x),this.getOutlineColor(x),A],a:this.getShapeArea(this.shapes[0],v,e,h-1,h-1,this.getFillColor(x),this.getOutlineColor(x),A),i:[b],t:"Legends",h:this.isHidden(!1,!1,b)}),this.toRender({p:["drawText",y,v+l+this.margin,e,this.legendFont,this.legendColor,"left","middle"],a:this.getTextArea(y,v+l+this.margin,e,this.legendFont,this.legendColor,"left","middle"),i:[b],t:"Legends",h:this.isHidden(!1,!1,b)}),o++}e+=h+this.margin}this.drawLegendBackgroundBox(r,n,this.legendSampleWidth,this.legendSampleHeight)},this.drawVariableLegend=function(t,e){var i=t,a=e,s=this.getFontPt(this.legendFont),r=s/2,n=2*s,o=1.5*s,h=0,l=this,c=this.layoutValid&&!this.isDOE&&this.isOneDimensionalGraph()&&this.meta.config.user.graphType!=this.graphType?this.meta.config.user.graphType:this.graphType,d=function(t){return t<l.xAxisVarIndices.length?l.colors[t%l.colors.length]:l.colors[(t-l.xAxisVarIndices.length)%l.colors.length]};if(0!=this.legendVariableWidth&&0!=this.legendVariableHeight&&("Circular"!=c||"sunburst"!=this.circularType))if("Pie"==c){var p=this.layoutComb?this.isDOE?this.layoutWidth-(t-this.offsetX+1.5*this.margin):999999:this.width-(t+1.5*this.margin);this.isDOE&&this.legendVariableWidth>p&&(this.legendVariableWidth=p),this.drawLegendBackgroundBox(i,a,this.legendVariableWidth,this.legendVariableHeight,!0,"-legend-variable"),t+=r+2*this.margin,e+=s;for(var g=0;g<this.varPie.ids.length;g++){var u=!1,m=this.varPie.ids[g],f=this.varPie.cols[g],y=m>-1?this.shortenText(this.data.y.vars[m],this.maxVarStringLen):"Other";if(this.toRender({p:["drawShape",this.useRoundRectangles?"roundrect":"square",t,e,s,s,this.getFillColor(f),this.getOutlineColor(f),"closed"],a:this.getShapeArea(this.useRoundRectangles?"roundrect":"square",t,e,s,s,this.getFillColor(f),this.getOutlineColor(f),"closed"),i:["PieVar-"+m],t:"Legends",h:this.isHidden(!1,!1,"Var-"+m)}),p>0){for(;this.measureText(y,this.legendFont)+s+3*this.margin>p&&y.length>1;)y=y.substring(0,y.length-1),u=!0;u&&(y+="..."),this.toRender({p:["drawText",y,t+s,e,this.legendFont,this.legendColor,"left","middle"],a:this.getTextArea(y,t+s,e,this.legendFont,this.legendColor,"left","middle"),i:["PieVar-"+m],t:"Legends",h:this.isHidden(!1,!1,"Var-"+m)})}if(e+=s+this.margin,this.layoutComb){if(e-this.offsetY>this.layoutHeight){this.toRender({p:["drawText","...",t+s,e,this.legendFont,this.legendColor,"left","bottom"],t:"Legends"});break}}else if(e>this.height){this.toRender({p:["drawText","...",t+s,e,this.legendFont,this.legendColor,"left","bottom"],t:"Legends"});break}}this.drawLegendBackgroundBox(i,a,this.legendVariableWidth,this.legendVariableHeight)}else if(this.colorBy&&"variable"==this.colorBy||this.shapeBy&&"variable"==this.shapeBy||this.sizeBy&&"variable"==this.sizeBy||this.patternBy&&"variable"==this.patternBy){this.drawLegendBackgroundBox(i,a,this.legendVariableWidth,this.legendVariableHeight,!0,"-legend-variable");var x=this.sizeBy&&"variable"==this.sizeBy?Math.max(this.sizes[this.varIndices.length-1],s):s,b=x/2,v=this.legendVariableWidth/this.legendColumns,A=Math.ceil(this.varIndices.length/this.legendColumns);e+=3*this.margin;for(g=0;g<A;g++){for(var w=0;w<this.legendColumns&&(t=i+(this.margin+v*w),h<this.varIndices.length);w++){m=this.varIndices[h],f="Circular"==c||this.colorBy&&"variable"==this.colorBy?h%this.colors.length:0;var C=this.shapeBy&&"variable"==this.shapeBy?h%this.shapes.length:0,T=this.sizeBy&&"variable"==this.sizeBy?this.sizes[h%this.sizes.length]:x,S=this.patternBy&&"variable"==this.patternBy?this.patterns[h%this.patterns.length]:this.getPropertyValue(m,!1,"patternBy"),D=t+b,M=(y=this.shortenText(this.data.y.vars[m],this.maxVarStringLen),this.isHidden(!1,!1,"Var-"+m));this.colorBy&&"variable"!=this.colorBy?this.toRender({p:["drawShape",this.shapes[C],D,e,T,T,this.background,this.foreground,S],a:this.getShapeArea(this.shapes[C],D,e,T,T,this.background,this.foreground,S),i:["Var-"+m],t:"Legends",h:M}):this.toRender({p:["drawShape",this.shapes[C],D,e,T,T,this.getFillColor(this.colors[f]),this.getOutlineColor(this.colors[f]),S],a:this.getShapeArea(this.shapes[C],D,e,T,T,this.getFillColor(this.colors[f]),this.getOutlineColor(this.colors[f]),S),i:["Var-"+m],t:"Legends",h:M}),this.toRender({p:["drawText",y,D+b+this.margin,e,this.legendFont,this.legendColor,"left","middle"],a:this.getTextArea(y,D+b+this.margin,e,this.legendFont,this.legendColor,"left","middle"),i:["Var-"+m],t:"Legends",h:M}),h++}e+=x+this.margin}this.drawLegendBackgroundBox(i,a,this.legendVariableWidth,this.legendVariableHeight)}else if("BarLine"==c||"DotLine"==c||"AreaLine"==c||"StackedLine"==c||"StackedPercentLine"==c){this.drawLegendBackgroundBox(i,a,this.legendVariableWidth,this.legendVariableHeight,!0,"-legend-variable");var k=this.xAxisVarIndices.concat(this.xAxis2VarIndices);v=this.legendVariableWidth/this.legendColumns,A=Math.ceil(k.length/this.legendColumns);e+=2*this.margin;for(g=0;g<A;g++){for(w=0;w<this.legendColumns&&(t=i+this.margin+v*w,h<k.length);w++){m=h<this.xAxisVarIndices.length?this.xAxisVarIndices[h]:this.xAxis2VarIndices[h-this.xAxisVarIndices.length],f="blackAndWhite"==this.theme?"rgb(0,0,0)":this.coordinateLineColor?d(h):this.getVariableColor(this.data.y.vars[m]),S=this.getPropertyValue(m,!1,"patternBy"),y=this.shortenText(this.data.y.vars[m],this.maxVarStringLen),M=this.isHidden(!1,!1,"Var-"+m);if(h<this.xAxisVarIndices.length){var L="DotLine"==c?"circle":this.useRoundRectangles?"roundrect":"rectangle";B="pattern"==this.lineDecoration?this.toRender({p:["drawShape",L,t+s/2,e+s/2,s,s,"rgba(0,0,0,0)","rgba(0,0,0,0)",S],a:this.getShapeArea(L,t+s/2,e+s/2,s,s,"rgba(0,0,0,0)","rgba(0,0,0,0)",S),i:["Var-"+m],t:"Legends",h:M}):this.toRender({p:["drawShape",L,t+s/2,e+s/2,s,s,this.getFillColor(f),this.getOutlineColor(f),S],a:this.getShapeArea(L,t+s/2,e+s/2,s,s,this.getFillColor(f),this.getOutlineColor(f),S),i:["Var-"+m],t:"Legends",h:M}),this.toRender({p:["drawText",y,t+n,e+r,this.legendFont,this.legendColor,"left","middle"],a:this.getTextArea(y,t+n,e+r,this.legendFont,this.legendColor,"left","middle"),i:["Var-"+m],g:B,t:"Legends",h:M})}else{var I="pattern"==this.lineDecoration?this.linePatterns[h%this.linePatterns.length]:"line",B=this.toRender({p:["drawLine",I,t,e+r,t+s,e+r,f,2],a:this.getLineArea("line",t,e+r,t+s,e+r,f,2),i:["Var-"+m],t:"Legends",h:M});this.lineDecoration&&"pattern"!=this.lineDecoration&&!this.segregateVariablesBy.length&&"DotLine"!=c&&"AreaLine"!=c&&this.toRender({p:["drawShape","symbol"==this.lineDecoration?this.shapes[(h-this.xAxisVarIndices.length)%this.shapes.length]:"circle",t+r,e+r,r,r,f,this.foreground,S],a:this.getShapeArea("symbol"==this.lineDecoration?this.shapes[(h-this.xAxisVarIndices.length)%this.shapes.length]:"circle",t+r,e+r,r,r,f,this.foreground,S),i:["Var-"+m],g:B,t:"Legends",h:M}),this.toRender({p:["drawText",y,t+n,e+r,this.legendFont,this.legendColor,"left","middle"],a:this.getTextArea(y,t+n,e+r,this.legendFont,this.legendColor,"left","middle"),i:["Var-"+m],g:B,t:"Legends",h:M})}h++}e+=o}this.drawLegendBackgroundBox(i,a,this.legendVariableWidth,this.legendVariableHeight)}else if("Bar"==c||"Line"==c||"ParallelCoordinates"==c||"Area"==c||"Dotplot"==c||"Stacked"==c||"StackedPercent"==c||"Boxplot"==c||"Fish"==c){this.drawLegendBackgroundBox(i,a,this.legendVariableWidth,this.legendVariableHeight,!0,"-legend-variable");v=this.legendVariableWidth/Math.min(this.varIndices.length,this.legendColumns),A=Math.ceil(this.varIndices.length/Math.min(this.varIndices.length,this.legendColumns));e+=2*this.margin;for(g=0;g<A;g++){for(w=0;w<Math.min(this.varIndices.length,this.legendColumns)&&(t=i+this.margin+v*w,h<this.varIndices.length);w++){m=this.varIndices[h],f="blackAndWhite"==this.theme&&"Line"==c?"rgb(0,0,0)":this.getFillColor(this.getVariableColor(this.data.y.vars[m]));var N=this.getOutlineColor(f);S=this.getPropertyValue(m,!1,"patternBy"),y=this.shortenText(this.data.y.vars[m],this.maxVarStringLen),M=this.isHidden(!1,!1,"Var-"+m),B=null;if("Boxplot"==c&&(this.boxplotColor&&(f=this.boxplotColor),this.boxplotBorderColor&&(N=this.boxplotBorderColor)),"Line"==c||"ParallelCoordinates"==c){I="pattern"==this.lineDecoration?this.linePatterns[h%this.linePatterns.length]:this.lineType;B=this.toRender({p:["drawLine",I,t,e+r,t+s,e+r,f,2],a:this.getLineArea("line",t,e+r,t+s,e+r,f,2),i:["Var-"+m],g:B,t:"Legends",h:M}),this.lineDecoration&&"pattern"!=this.lineDecoration&&!this.segregateVariablesBy.length&&this.toRender({p:["drawShape","symbol"==this.lineDecoration?this.shapes[h%this.shapes.length]:"circle",t+r,e+r,r,r,f,N,S],a:this.getShapeArea("symbol"==this.lineDecoration?this.shapes[h%this.shapes.length]:"circle",t+r,e+r,r,r,f,N,S),i:["Var-"+m],g:B,t:"Legends",h:M})}else"Dotplot"==c||"Boxplot"==c&&this.showBoxplotOriginalData?B=this.shapeBy?this.toRender({p:["drawShape",this.shapes[h%this.shapes.length],t+r,e+r,s,s,f,N,S],a:this.getShapeArea(this.shapes[h%this.shapes.length],t+r,e+r,s,s,f,N,S),i:["Var-"+m],g:B,t:"Legends",h:M}):this.toRender({p:["drawShape","circle",t+r,e+r,s,s,f,N,S],a:this.getShapeArea("circle",t+r,e+r,s,s,f,N,S),i:["Var-"+m],g:B,t:"Legends",h:M}):(B=this.toRender({p:["drawShape",this.useRoundRectangles?"roundrect":"rectangle",t+s/2,e+s/2,s,s,f,N,S],a:this.getShapeArea(this.useRoundRectangles?"roundrect":"rectangle",t+s/2,e+s/2,s,s,f,N,S),i:["Var-"+m],g:B,t:"Legends",h:M}),"Boxplot"!=c||this.showBoxplotOriginalData&&!this.boxplotColor||(this.toRender({p:["drawLine","line",t,e+s/2,t+s,e+s/2,this.foreground],t:"Legends",g:B,h:M}),this.toRender({p:["drawLine","line",t+s/2,e,t+s/2,e-this.margin,this.foreground],t:"Legends",g:B,h:M}),this.toRender({p:["drawLine","line",t+s/2,e+s,t+s/2,e+s+this.margin,this.foreground],t:"Legends",g:B,h:M})));this.toRender({p:["drawText",y,t+n,e+r,this.legendFont,this.legendColor,"left","middle"],a:this.getTextArea(y,t+n,e+r,this.legendFont,this.legendColor,"left","middle"),i:["Var-"+m],g:B,t:"Legends",h:M}),h++}e+=o}this.drawLegendBackgroundBox(i,a,this.legendVariableWidth,this.legendVariableHeight)}else if("Circular"==c&&!this.showIdeogram){var F=this.r/2.7;this.legendVariableWidth>F||this.legendVariableHeight,this.drawLegendBackgroundBox(i,a,this.legendVariableWidth,this.legendVariableHeight,!0,"-legend-variable");var P=[];if(this.rAxisIndex>=0)for(g=0;g<this.varIndices.length;g++)g!=this.rAxisIndex&&P.push(this.varIndices[g]);else P=this.varIndices;v=this.legendVariableWidth/this.legendColumns,A=Math.ceil(P.length/this.legendColumns);e+=2*this.margin;for(g=0;g<A;g++){for(w=0;w<this.legendColumns&&(t=i+this.margin+v*w,h<P.length);w++){m=P[h],f=this.colors[h%this.colors.length],S=this.getPropertyValue(m,!1,"patternBy"),y=this.shortenText(this.data.y.vars[m],this.maxVarStringLen);this.toRender({p:["drawShape",this.useRoundRectangles?"roundrect":"rectangle",t+s/2,e+s/2,s,s,this.getFillColor(f),this.getOutlineColor(f),S],a:this.getShapeArea(this.useRoundRectangles?"roundrect":"rectangle",t+s/2,e+s/2,s,s,this.getFillColor(f),this.getOutlineColor(f),S),i:["Var-"+m],t:"Legends",h:this.isHidden(!1,!1,"Var-"+m)}),this.toRender({p:["drawText",y,t+n,e+r,this.legendFont,this.legendColor,"left","middle"],a:this.getTextArea(y,t+n,e+r,this.legendFont,this.legendColor,"left","middle"),i:["VarLbl-"+m],t:"Legends",h:this.isHidden(!1,!1,"VarLbl-"+m)}),h++}e+=o}this.drawLegendBackgroundBox(i,a,this.legendVariableWidth,this.legendVariableHeight)}},this.drawVennLegend=function(){if(this.showLegend){var t=this.getFontPt(this.legendFont),e=this.vennMarginLeft+this.marginLeft+this.left,i=e+2*t,a=this.vennMarginTop+this.marginTop+this.top+this.y+this.margin+t/2,s=[],r=[];for(var n in this.data.venn.legend)r.push(n);r=r.sort(),4==this.vennGroups?(s.push(this.vennColors.length>0&&this.validateColor(this.vennColors[0])?this.validateColor(this.vennColors[0]):"rgb(255,0,0)"),s.push(this.vennColors.length>1&&this.validateColor(this.vennColors[1])?this.validateColor(this.vennColors[1]):"rgb(0,153,51)"),s.push(this.vennColors.length>2&&this.validateColor(this.vennColors[2])?this.validateColor(this.vennColors[3]):"rgb(153,204,0)"),s.push(this.vennColors.length>3&&this.validateColor(this.vennColors[3])?this.validateColor(this.vennColors[2]):"rgb(0,0,255)")):3==this.vennGroups?(s.push(this.vennColors.length>0&&this.validateColor(this.vennColors[0])?this.validateColor(this.vennColors[0]):"rgb(255,0,0)"),s.push(this.vennColors.length>1&&this.validateColor(this.vennColors[1])?this.validateColor(this.vennColors[1]):"rgb(0,255,0)"),s.push(this.vennColors.length>2&&this.validateColor(this.vennColors[2])?this.validateColor(this.vennColors[2]):"rgb(0,0,255)")):2==this.vennGroups?(s.push(this.vennColors.length>0&&this.validateColor(this.vennColors[0])?this.validateColor(this.vennColors[0]):"rgb(0,0,255)"),s.push(this.vennColors.length>1&&this.validateColor(this.vennColors[1])?this.validateColor(this.vennColors[1]):"rgb(255,0,0)")):s.push(this.vennColors.length>0&&this.validateColor(this.vennColors[0])?this.validateColor(this.vennColors[0]):"rgb(255,0,0)");for(n=0;n<this.vennGroups;n++){this.vennLegendColors||this.toRender({p:["drawText",r[n]+": ",e,a,this.legendFont,this.legendColor,"left","middle"],t:"Legends"});var o=this.data.venn.legend&&this.data.venn.legend[r[n]]?this.data.venn.legend[r[n]]:"N/A",h=this.measureText(o,this.legendFont)>this.x?this.scaleTextToFont(o,t,this.x-this.margin):this.legendFont;this.vennLegendColors?this.toRender({p:["drawText",o,e,a,h,s[n],"left","middle"],t:"Legends"}):this.toRender({p:["drawText",o,i,a,h,this.legendColor,"left","middle"],t:"Legends"}),a+=this.margin+t}}},this.drawColorIndicator=function(t,e,i,a,s,r){if(r||s||this.colorBy||this.outlineBy||this.colorNodeBy||this.colorEdgeBy||this.colorNodeBy||this.colorEdgeBy||"Genome"==this.graphType||"bin2d"==this.scatterType||this.isContour&&this.contourFilled||"Network"==this.graphType&&this.decorations.length&&"heatmap"==this.decorationsType&&this.showDecorations&&!this.colorNodeBy&&!this.colorEdgeBy){var n=this,o="bin2d"==this.scatterType?"n":a||this.colorBy||this.outlineBy||this.colorNodeBy||this.colorEdgeBy,h=r?"overlaysLegendPosition":s?"heatmapIndicatorPosition":"legendPosition",l=r||(s?0:this.legendColorWidth?this.legendColorWidth/2:10),c=t,d=e,p=0,g=this.heatmapIndicatorHeight,u=this.heatmapIndicatorHeight,m="Genome"==this.graphType?i.brew.min:i.min,f="Genome"==this.graphType?i.brew.max:i.max,y="Genome"==this.graphType?i.brew.vals:i.vals,x=i.valStr?i.valStr:i.colorBrew&&i.colorBrew.valStr?i.colorBrew.valStr:function(t){(!i.decs||i.decs>3)&&(i.decs=n.getNumberDecimals(t[1]-t[0]));for(var e=[],a=0;a<t.length;a++)e[a]=t[a].toFixed(i.decs);return e}(y),b=this.heatmapIndicatorWidth/(f-m),v="Circular"==this.graphType||this.isContour&&!i.colorBrew||"bin2d"==this.scatterType?i:i.colorBrew?i.colorBrew:this.meta.def.colorBrew,A=this.heatmapIndicatorWidth/this.colorSpectrumNumber,w="overlaysLegendPosition"==h&&"topRight"==this[h];if(this[h]&&this[h].toString().match(/top|bottom/)&&!w){o&&(this.showLegendTitle&&this.toRender({p:["drawText",o,t+this.heatmapIndicatorWidth/2,e,this.legendFont,this.legendColor,"center","top"],t:"Legends"}),e+=p=this.margin+this.getFontPt(this.legendFont));for(var C=0;C<this.colorSpectrumNumber;C++){var T=null!=this.transparency?this.addColorTransparency(v.colors[C],this.transparency,!0):v.colors[C];this.toRender({p:["drawLine","line",t,e,t,e+u,T,Math.round(A+1.5)],t:"Legends"}),t+=A}if(t=c,e+=u+this.margin,v&&v.stops&&v.stops.length){var S=0;for(C=0;C<v.stops.length;C++)for(var D=0;D<this.colorSpectrumNumber;D++)if(v.breaks[D]>=v.stops[C]){t=c+D*A;var M=this.measureText(this.formatNumber(v.stops[C].toString()),this.legendFont)/2;(t-M>S||0==C||C==v.stops.length-1)&&(this.toRender({p:["drawText",this.formatNumber(v.stops[C]),t,e,this.legendFont,this.legendColor,"center","top"],t:"Legends"}),S=t+M);break}}else for(C=0;C<y.length;C++)t=c+(y[C]-m)*b,this.toRender({p:["drawText",x[C],t,e,this.legendFont,this.legendColor,"center","top"],t:"Legends"});"Heatmap"==this.graphType&&this.heatmapIndicatorHistogram&&this.drawHeatmapIndicatorHistogram(c,d+p)}else{o&&("Circular"==this.graphType?this.showLegendTitle&&this.toRender({p:["drawText",o,t-this.legendFontSize/2,e+this.colorSpectrumNumber*A/2,this.legendFont,this.legendColor,"center","bottom",-Math.PI/2],t:"Legends"}):(this.showLegendTitle&&this.toRender({p:["drawText",o,t+l+this.margin,e,this.legendFont,this.legendColor,"center","top"],t:"Legends"}),e+=1.5*this.margin+this.getFontPt(this.legendFont))),e+=this.colorSpectrumNumber*A-A;for(C=0;C<this.colorSpectrumNumber;C++){T=null!=this.transparency?this.addColorTransparency(v.colors[C],this.transparency,!0):v.colors[C];this.toRender({p:["drawLine","line",t,e,t+g,e,T,Math.round(A+1.5)],t:"Legends"}),e-=A}if(t+=g,e=o?d+1.5*this.margin+this.getFontPt(this.legendFont):d,v&&v.stops&&v.stops.length){for(S=e+=this.colorSpectrumNumber*A,C=0;C<v.stops.length;C++)for(D=0;D<this.colorSpectrumNumber;D++)if(v.breaks[D]>=v.stops[C]){((u=e-D*A)+this.legendFontSize<S||0==C||C==v.stops.length-1)&&(this.toRender({p:["drawText",this.formatNumber(v.stops[C]),t+this.margin,u,this.legendFont,this.legendColor,"left","middle"],t:"Legends"}),S=u);break}}else{e+=this.colorSpectrumNumber*A;for(C=0;C<y.length;C++){u=e-(y[C]-m)*b;this.toRender({p:["drawText",x[C],t+this.margin,u,this.legendFont,this.legendColor,"left","middle"],t:"Legends"})}}}}},this.drawHeatmapIndicatorHistogram=function(t,e){for(var i,a=t,s=e+this.heatmapIndicatorHeight,r=[],n=0;n<this.data.y.vars.length;n++)for(var o=0;o<this.data.y.smps.length;o++){null==(u=this.getDataAtPos(n,o,!1,this.xAxisTransform,this.xAxisFloorValue,this.xAxisCeilValue))||""===u||isNaN(u)||r.push(u)}var h=this.range(r),l=h[0],c=h[1],d=this[this.histogramSizeEstimator](r),p=Math.ceil((c-l)/d);d>1e3&&(p*=d/1e3,d=1e3);var g=[];for(n=0;n<d;n++)g[n]=0;for(n=0;n<this.data.y.vars.length;n++)for(o=0;o<this.data.y.smps.length;o++){var u;if(null!=(u=this.getDataAtPos(n,o,!1,this.xAxisTransform,this.xAxisFloorValue,this.xAxisCeilValue))&&""!==u&&!isNaN(u))g[parseInt((u-l)/p)]++}l=0,c=0;for(n=0;n<d;n++)l=Math.min(l,g[n]),c=Math.max(c,g[n]);var m=this.legendFont,f=this[this.axisAlgorithm](l,c,3,this.axisWilkinsonLoose),y=this.getMaxText(f),x=(this.heatmapIndicatorWidth-1)/d,b=this.heatmapIndicatorHeight/f[f.length-1];"topLeft"==this.heatmapIndicatorPosition&&(m=this.scaleTextToFont(y,this.getFontPt(this.legendFont),this.left-(this.heatmapIndicatorWidth+3*this.margin)));for(n=0;n<f.length;n++)e=f[n]*b,this.toRender({p:["drawLine","line",a-this.margin,s-e,a,s-e,this.foreground],t:"Legends"}),this.toRender({p:["drawText",this.formatNumber(f[n]),a-1.5*this.margin,s-e,m,this.legendColor,"right","middle"],t:"Legends"});e=g[0]*b,this.toRender({p:["drawLine","line",a,s,a,s-e,this.heatmapIndicatorHistogramColor],t:"Legends"});for(n=0;n<d;n++)e=g[n]*b,this.toRender({p:["drawLine","line",a,s-e,a+x,s-e,this.heatmapIndicatorHistogramColor],t:"Legends"}),n<d-1&&(i=g[n+1]*b,this.toRender({p:["drawLine","line",a+x,s-e,a+x,s-i,this.heatmapIndicatorHistogramColor],t:"Legends"})),a+=x;this.toRender({p:["drawLine","line",a,s-i,a,s,this.heatmapIndicatorHistogramColor],t:"Legends"})},this.isDrawPropertyLegend=function(t){return t?"Network"==this.graphType?this[t+"By"]&&this.meta.data.edges[this[t+"By"]]||this[t+"By"]&&this.meta.data.nodes[this[t+"By"]]:this[t+"By"]&&this.isMultidimensionalData||this.isContour&&"point"==this.contourType||this.histogramAsDotplot&&this.colorBy||this[t+"By"]&&(this.data.x&&this.data.x.hasOwnProperty(this[t+"By"])||this.data.z&&this.data.z.hasOwnProperty(this[t+"By"])||this.getSampleIndices(this[t+"By"])>-1):"Network"==this.graphType?this.colorEdgeBy&&this.meta.data.edges[this.colorEdgeBy]||this.colorNodeBy&&this.meta.data.nodes[this.colorNodeBy]||this.decorations.length&&"heatmap"==this.decorationsType:this.outlineBy&&this.isMultidimensionalData||this.isContour&&this.contourFilled||"bin2d"==this.scatterType||this.histogramAsDotplot&&this.colorBy||this.data.x&&this.data.x.hasOwnProperty(this.lineBy)||this.colorBy&&(this.data.x&&this.data.x.hasOwnProperty(this.colorBy)||this.data.z&&this.data.z.hasOwnProperty(this.colorBy)||this.getSampleIndices(this.colorBy)>-1||"data"==this.colorBy&&this.ridgeBy)},this.drawColorLegend=function(t,e,i,a){"Map"==this.graphType&&(t+=parseInt(this.meta.canvas.ctx2.canvas.style.left),e+=parseInt(this.meta.canvas.ctx2.canvas.style.top)),this.isDrawPropertyLegend()&&("Numeric"==i.type&&!i.colorBy||this.isContour&&this.contourFilled||"bin2d"==this.scatterType?this.drawColorIndicator(t,e,this.isTransformedData&&"Heatmap"!=this.graphType?this.getDefaultMetaDataObject():this.isContour?this.meta.data.q.g[0].data.colorBrew:"bin2d"==this.scatterType?this.meta.data.b.c:i):this.drawPropertyLegend(a,t,e,i))},this.drawShapeLegend=function(t,e,i,a){this.drawPropertyLegend(a,t,e,i)},this.drawSizeLegend=function(t,e,i,a){this.drawPropertyLegend(a,t,e,i)},this.drawPatternLegend=function(t,e,i,a){this.drawPropertyLegend(a,t,e,i)},this.drawConnectLegend=function(t,e,i,a){this.drawPropertyLegend(a,t,e,i)},this.drawPropertyLegend=function(t,e,i,a){var s=this,r=this.decapitalize(t);if(this.isDrawPropertyLegend(r)){var n="Size"==t.replace("Node","").replace("Edge","").replace("Contour","Size")?0:this.getDiameterLegend();if("Size"==t.replace("Node","").replace("Edge","").replace("Contour","Size"))for(var o=a.sizes?a.sizes.length:this.sizes.length,h=0;h<(this.isContour?a.vals.length:this.legendSizesN||a.levels.length);h++)n=Math.max(n,a.sizes?a.sizes[h%o]:this.sizes[h%o]);var l=this.getFontPt(this.legendFont),c=l/2,d=this.legendColumns>this["legend"+t+"sN"]?this["legend"+t+"sN"]:this.legendColumns,p=Math.ceil(this["legend"+t+"sN"]/d),g=this["legend"+t+"Width"]/d,u=i+2*this.margin+c,m=Math.max(n,l),f=s.graphType.match(/Boxplot|Bar/)?s.showBoxplotOriginalData||s.boxplotColor?"circle":s.useRoundRectangles?"roundrect":"rectangle":"circle",y=0;this.drawLegendBackgroundBox(e,i,this["legend"+t+"Width"],this["legend"+t+"Height"],!0,"-legend-"+r);var x="Color"==t.replace("Node","").replace("Edge","")&&this.outlineBy?this.outlineBy:this[r+"By"];this.showLegendTitle&&(this.toRender({p:["drawText",x,e+this["legend"+t+"Width"]/2,u,this.legendFont,this.legendColor,"center","middle"],t:"Legends"}),u+=c+this.margin,this.disableGradientTransparencyShadow(),this.legendBox&&this.toRender({p:["drawLine","line",e,u,e+this["legend"+t+"Width"],u,this.legendBoxColor],t:"Legends"}),this.enableGradientTransparencyShadow(),u+=this.margin+m/2);for(var b=this["legend"+t+"sS"]||this.sortObject(this["legend"+t+"s"]),v=a.origin?a.origin:this.meta.data.modified?"modified":this.isOncoprint||this.isMultidimensionalData?this[r+"ByData"]:"y",A=0;A<p;A++){for(var w=0;w<d;w++){var C=e+this.margin+n/2+g*w;if(y<this["legend"+t+"sN"]&&y>=0){var T=b[y],S=this.isHidden(!1,!1,"Property:"+x+":"+T+":"+v);if("Color"==t.replace("Node","").replace("Edge","")){var D=a.colorBy&&a.colorBy.hasOwnProperty(T)?this.validateColor(a.colorBy[T]):this.legendColors?this.validateColor(this.legendColors[T]):this.validateColor(a.colors[y]);"Boxplot"==this.graphType&&this.showViolinBoxplot&&(D=this.addColorTransparency(D,this.violinTransparency,!0)),this.outlineBy?this.toRender({p:["drawShape",f,C,u,n,n,!1,this.getFillColor(D),"open",!1,2],a:this.getShapeArea(f,C,u,n,n,!1,this.getFillColor(D),"open",!1,2),i:["Property:"+x+":"+T+":"+v],t:"Legends",h:S}):this.toRender({p:["drawShape",f,C,u,n,n,this.getFillColor(D),this.getOutlineColor(D),"closed"],a:this.getShapeArea(f,C,u,n,n,this.getFillColor(D),this.getOutlineColor(D),"closed"),i:["Property:"+x+":"+T+":"+v],t:"Legends",h:S})}else if("Shape"==t.replace("Node","").replace("Edge","")){var M=a.shapeBy&&a.shapeBy.hasOwnProperty(T)?a.shapeBy[T]:this.legendShapes?this.legendShapes[T]:a.shapes[y];this.toRender({p:["drawShape",M,C,u,n,n,this.background,this.foreground,"closed"],a:this.getShapeArea(M,C,u,n,n,this.background,this.foreground,"closed"),i:["Property:"+x+":"+T+":"+v],t:"Legends",h:S})}else if("Size"==t.replace("Node","").replace("Edge","").replace("Contour","Size")){o=a.sizes?a.sizes.length:this.sizes.length;var k=a.sizeBy&&a.sizeBy.hasOwnProperty(T)?a.sizeBy[T]:"Contour"==t?this.sizes[y%o]:this.legendSizes?this.legendSizes[T]:a.sizes[y%o];a.rmax==a.max&&a.rmin==a.min?this.toRender({p:["drawShape",f,C,u,k,k,this.background,this.foreground,"closed"],a:this.getShapeArea(f,C,u,k,k,this.background,this.foreground,"closed"),i:["Property:"+x+":"+T+":"+v],t:"Legends",h:S}):this.toRender({p:["drawShape",f,C,u,k,k,this.background,this.foreground,"closed"],t:"Legends",h:S})}else if("Pattern"==t.replace("Node","").replace("Edge",""))if(this.graphType.match(/parallelcoordinates|line/i)){var L=a.linePatternBy&&a.linePatternBy.hasOwnProperty(T)?a.linePatternBy[T]:a.linePatterns[y];this.toRender({p:["drawLine",L,C-n/2,u,C+n/2,u,this.foreground,2],i:["Property:"+x+":"+T+":"+v],t:"Legends",h:S})}else{L=a.patternBy&&a.patternBy.hasOwnProperty(T)?a.patternBy[T]:this.legendPatterns?this.legendPatterns[T]:a.patterns[y];this.toRender({p:["drawShape",this.useRoundRectangles?"roundrect":"square",C,u,n,n,this.background,this.foreground,L],a:this.getShapeArea(this.useRoundRectangles?"roundrect":"square",C,u,n,n,this.background,this.foreground,L),i:["Property:"+x+":"+T+":"+v],t:"Legends",h:S})}else if("Connect"==t){D=a.connectBy&&a.connectBy.hasOwnProperty(T)?a.connectBy[T]:this.legendConnects?this.legendConnects[T]:a.connects[y];this.toRender({p:["drawLine","line",C-n/2,u,C+n/2,u,D,this.connectByWidth],t:"Legends",h:S})}else if("Line"==t){D=a.lineBy&&a.lineBy.hasOwnProperty(T)?a.lineBy[T]:a.colors[y];this.toRender({p:["drawLine","line",C-n/2,u,C+n/2,u,D,2],t:"Legends",h:S})}if("Boxplot"==this.graphType&&"Connect"!=t&&(!this.showBoxplotOriginalData||this.boxplotColor)){D=a.connectBy&&a.connectBy.hasOwnProperty(T)?a.connectBy[T]:this.legendConnects?this.legendConnects[T]:a.connects[y];this.toRender({p:["drawLine","line",C-n/2,u,C+n/2,u,this.getOutlineColor(D)],t:"Legends",h:S}),this.toRender({p:["drawLine","line",C,u-n/2,C,u-(n/2+this.margin),this.getOutlineColor(D)],t:"Legends",h:S}),this.toRender({p:["drawLine","line",C,u+n/2,C,u+(n/2+this.margin),this.getOutlineColor(D)],t:"Legends",h:S})}if("Numeric"==a.type&&("Shape"==t&&!this.shapeByContinuous||"Size"==t&&!this.sizeByContinuous))0==A&&0==w?this.toRender({p:["drawText","<= "+T,C+m/2+this.margin,u,this.legendFont,this.legendColor,"left","middle"],a:this.getTextArea("<= "+T,C+m/2+this.margin,u,this.legendFont,this.legendColor,"left","middle"),i:["Property:"+x+":"+T+":"+v],t:"Legends",h:S}):A==p-1&&w==d-1?this.toRender({p:["drawText",b[y-1]+" - "+T,C+m/2+this.margin,u,this.legendFont,this.legendColor,"left","middle"],a:this.getTextArea(b[y-1]+" - "+T,C+m/2+this.margin,u,this.legendFont,this.legendColor,"left","middle"),i:["Property:"+x+":"+T+":"+v],t:"Legends",h:S}):(nxt=T,this.toRender({p:["drawText",Number(b[y-1])+" - "+nxt,C+m/2+this.margin,u,this.legendFont,this.legendColor,"left","middle"],a:this.getTextArea(Number(b[y-1])+" - "+nxt,C+m/2+this.margin,u,this.legendFont,this.legendColor,"left","middle"),i:["Property:"+x+":"+T+":"+v],t:"Legends",h:S}));else{var I=T.length>this.maxTextSize?T.substring(0,this.maxTextSize-3)+"...":T;this.toRender({p:["drawText",I,C+m/2+this.margin,u,this.legendFont,this.legendColor,"left","middle"],a:this.getTextArea(T,C+m/2+this.margin,u,this.legendFont,this.legendColor,"left","middle"),i:["Property:"+x+":"+T+":"+v],t:"Legends",h:S})}}y++}u+=this.margin+m}this.drawLegendBackgroundBox(e,i,this["legend"+t+"Width"],this["legend"+t+"Height"])}},this.drawCustomLegend=function(t,e,i,a,s){var r=s.text.length,n=this.getDiameterLegend(),o=s.size;if(o)for(var h=0;h<o.length;h++)o[h]&&(n=Math.max(n,o[h]));var l=this.getFontPt(this.legendFont),c=l/2,d=this.legendColumns>r?r:this.legendColumns,p=Math.ceil(r/d),g=i/d,u=e+this.margin+c,m=Math.max(n,l),f=0;this.drawLegendBackgroundBox(t,e,i,a,!0,"-legend-"+s.id),s.title?(this.toRender({p:["drawText",s.title,t+i/2,u,this.legendFont,this.legendColor,"center","middle"],t:"Legends"}),u+=c+this.margin,this.disableGradientTransparencyShadow(),this.legendBox&&this.toRender({p:["drawLine","line",t,u,t+i,u,this.legendBoxColor],t:"Legends"}),this.enableGradientTransparencyShadow(),u+=this.margin+m/2):u+=m/2-c;for(var y=!1,x=0;x<p;x++){for(var b=0;b<d;b++){var v=t+this.margin+n/2+g*b;if(f<r){var A=s.text[f];if(s.shape&&s.shape[f]){var w=s.size[f]||n,C=(b=this.getFillColor(s.shapeColor[f]||this.background),this.getOutlineColor(b));this.toRender({p:["drawShape",s.shape[f],v,u,w,w,b,C,"closed"],a:this.getShapeArea(s.shape[f],v,u,w,w,b,C,"closed"),i:["legend-shape-"+A],t:"Legends",h:this.isHidden(!1,!1,"legend-shape-"+A)}),y=!0}if(s.line&&s.line[f]){var T=(w=s.size[f]||n)/2,S=(b=s.lineColor[f]||this.background,!(!s.lineStart||!s.lineStart[f])&&s.lineStart[f]),D=!(!s.lineEnd||!s.lineEnd[f])&&s.lineEnd[f];this.toRender({p:["drawLine",s.line[f],v-T,u,v+T,u,b,!1,!1,!1,!1,!1,!1,!1,S,D],a:this.getLineArea(s.line[f],v-T,u,v+T,u,b,!1,!1,!1,!1,!1,!1,!1,S,D),i:["legend-line-"+A],t:"Legends",h:this.isHidden(!1,!1,"legend-line-"+A)}),y=!0}y?this.toRender({p:["drawText",s.text[f],v+m/2+this.margin,u,this.legendFont,this.legendColor,"left","middle"],a:this.getTextArea(s.text[f],v+m/2+this.margin,u,this.legendFont,this.legendColor,"left","middle"),i:["legend-text-"+A],t:"Legends",h:this.isHidden(!1,!1,"legend-text-"+A)}):this.toRender({p:["drawText",s.text[f],v+i/2,u,this.legendFont,this.legendColor,"center","middle"],a:this.getTextArea(s.text[f],v+i/2,u,this.legendFont,this.legendColor,"center","middle"),i:["legend-text-"+A],t:"Legends",h:this.isHidden(!1,!1,"legend-text-"+A)})}f++}u+=this.margin+m}this.drawLegendBackgroundBox(t,e,i,a)},this.drawGenericLegend=function(t,e,i,a,s,r,n){var o=this.getDiameterLegend(),h=this.getFontPt(this.legendFont)+2,l=Math.max(o,h),c=0;this.drawLegendBackgroundBox(t,e,i,a,!0,"-legend"),this.toRender({p:["drawText",r,t+i/2,e+this.margin+h/2,this.legendFont,this.legendColor,"center","middle"],t:"Legends"}),c=e+h+this.margin,this.legendBox&&this.toRender({p:["drawLine","line",t,c,t+i,c,this.legendBoxColor],t:"Legends"}),c+=this.margin,n||(n=1);for(var d=i/n,p=Math.ceil(s.levels.length/n),g=0,u=c,m=s.origin?s.origin:this.meta.data.modified?"modified":"y",f=0;f<p;f++){for(var y=0;y<n;y++){var x=t+this.margin+d*y;if(!(g<s.levels.length))break;var b="String"==s.type?s.colors[g]:this.getColorForValue(s.colorBrew,s.levels[g]);this.toRender({p:["drawShape",this.useRoundRectangles?"rounderect":"square",x+l/2,u+l/2,l,l,this.getFillColor(b),this.getOutlineColor(b)],a:this.getShapeArea(this.useRoundRectangles?"rounderect":"square",x+l/2,u+l/2,l,l,this.getFillColor(b),this.getOutlineColor(b)),i:["Property:"+r+":"+s.levels[g]+":"+m],t:"Legends",h:this.isHidden(!1,!1,"Property:"+r+":"+s.levels[g]+":"+m)}),this.toRender({p:["drawText",s.levels[g],x+l+this.margin,u+l/2,this.legendFont,this.legendColor,"left","middle"],a:this.getTextArea(s.levels[g],x+l+this.margin,u+l/2,this.legendFont,this.legendColor,"left","middle"),i:["Property:"+r+":"+s.levels[g]+":"+m],t:"Legends",h:this.isHidden(!1,!1,"Property:"+r+":"+s.levels[g]+":"+m)}),g++}u+=l}this.drawLegendBackgroundBox(t,e,i,a)},this.drawDecorationLegend=function(t,e){if(this.graphType.match(/Scatter/)){var i=this.decorations,a=this.getFontPt(this.decorationFont),s=this.measureText(this.sprintf("%15s","X"),this.decorationFont),r=m=t+((i.nlfit||i.nor||i.reg?s:0)?this.legendDecorationMaxLabel+s:this.margin),n=f=e;if(this.legendDecorationCurX=t,this.legendDecorationCurY=e,this.drawLegendBackgroundBox(t,e-(a/2+this.margin),this.legendDecorationWidth,this.legendDecorationHeight+this.margin,!0,"-legend-decorations",!0),i.nlfit){this.toRender({p:["drawText","Min",r,n,this.decorationFont,this.decorationsColor,"right","middle"],t:"Legends"}),r+=s+this.margin,this.toRender({p:["drawText","Max",r,n,this.decorationFont,this.decorationsColor,"right","middle"],t:"Legends"}),r+=s+this.margin,this.toRender({p:["drawText","EC50",r,n,this.decorationFont,this.decorationsColor,"right","middle"],t:"Legends"}),r+=s+this.margin,this.toRender({p:["drawText","Slope",r,n,this.decorationFont,this.decorationsColor,"right","middle"],t:"Legends"}),r+=s+this.margin,this.toRender({p:["drawText","p-Val",r,n,this.decorationFont,this.decorationsColor,"right","middle"],t:"Legends"}),r+=s+this.margin,this.toRender({p:["drawText","F-Chg",r,n,this.decorationFont,this.decorationsColor,"right","middle"],t:"Legends"}),n+=a+a;for(var o=0;o<i.nlfit.length;o++){var h=o%this.colors.length;h=i.nlfit[o].color?i.nlfit[o].color:this.colors[h],r=m+this.margin-s,"ScatterBubble2D"==this.graphType&&"right"==this.decorationsPosition&&this.zAxisShow&&(r+=this.margin+this.getFontPt(this.axisTitleFont)+this.margin),this.toRender({p:["drawText",i.nlfit[o].label,r,n,this.decorationFont,h,"right","middle"],t:"Legends"}),r=m;for(var l=0;l<6;l++){var c=i.nlfit[o].param[l];l<2&&(c=this.transformValue(this.yAxisTransform,c)),this.toRender({p:["drawText",this.formatNumber(c,this.yAxisDecs+1),r,n,this.decorationFont,this.decorationsColor,"right","middle"],t:"Legends"}),r+=s+this.margin}n+=a+a}}if(i.line)for(o=0;o<i.line.length;o++)if(i.line[o].label)for(o=0;o<i.line.length;o++){h=i.line[o].color?i.line[o].color:this.colors[o%this.colors.length];"ScatterBubble2D"==this.graphType&&"right"==this.decorationsPosition&&this.zAxisShow&&(r+=this.margin+this.getFontPt(this.axisTitleFont)+this.margin),this.toRender({p:["drawText",i.line[o].label,r,n,this.decorationFont,h,"left","middle"],t:"Legends"}),n+=a+a}if(i.reg){this.toRender({p:["drawText","Slope",r,n,this.decorationFont,this.decorationsColor,"right","middle"],t:"Legends"}),r+=s+this.margin,this.toRender({p:["drawText","Int",r,n,this.decorationFont,this.decorationsColor,"right","middle"],t:"Legends"}),r+=s+this.margin,this.toRender({p:["drawText","Cor",r,n,this.decorationFont,this.decorationsColor,"right","middle"],t:"Legends"}),n+=a+a;for(o=0;o<i.reg.length;o++){h=i.reg[o].color?i.reg[o].color:this.colors[o%this.colors.length];r=m+this.margin-s,"ScatterBubble2D"==this.graphType&&"right"==this.decorationsPosition&&this.zAxisShow&&(r+=this.margin+this.getFontPt(this.axisTitleFont)+this.margin),this.toRender({p:["drawText",i.reg[o].label,r,n,this.decorationFont,h,"right","middle"],t:"Legends"}),r=m,this.toRender({p:["drawText",this.formatNumber(i.reg[o].slope,2),r,n,this.decorationFont,this.decorationsColor,"right","middle"],t:"Legends"}),r+=s+this.margin,this.toRender({p:["drawText",this.formatNumber(i.reg[o].intercept,this.yAxisDecs+1),r,n,this.decorationFont,this.decorationsColor,"right","middle"],t:"Legends"}),r+=s+this.margin,this.toRender({p:["drawText",i.reg[o].cor?this.formatNumber(i.reg[o].cor,3):"NA",r,n,this.decorationFont,this.decorationsColor,"right","middle"],t:"Legends"}),r+=s+this.margin,n+=a+a}}if(i.nor){this.toRender({p:["drawText","Mu",r,n,this.decorationFont,this.decorationsColor,"right","middle"],t:"Legends"}),r+=s+this.margin,this.toRender({p:["drawText","Sigma",r,n,this.decorationFont,this.decorationsColor,"right","middle"],t:"Legends"}),n+=a+a;for(o=0;o<i.nor.length;o++){h=o%this.colors.length;h=i.nor[o].color?i.nor[o].color:this.colors[h],r=m+this.margin-s,"ScatterBubble2D"==this.graphType&&"right"==this.decorationsPosition&&this.zAxisShow&&(r+=this.margin+this.getFontPt(this.axisTitleFont)+this.margin),this.toRender({p:["drawText",i.nor[o].label,r,n,this.decorationFont,h,"right","middle"],t:"Legends"}),r=m,this.toRender({p:["drawText",this.formatNumber(i.nor[o].mu,this.xAxisDecs+1),r,n,this.decorationFont,this.decorationsColor,"right","middle"],t:"Legends"}),r+=s+this.margin,this.toRender({p:["drawText",this.formatNumber(i.nor[o].sigma,this.xAxisDecs+2),r,n,this.decorationFont,this.decorationsColor,"right","middle"],t:"Legends"}),r+=s+this.margin,n+=a+a}}if(i.area)for(o=0;o<i.area.length;o++)if(i.area[o].label){h=i.area[o].color?i.area[o].color:this.colors[o%this.colors.length];"ScatterBubble2D"==this.graphType&&"right"==this.decorationsPosition&&this.zAxisShow&&(r+=this.margin+this.getFontPt(this.axisTitleFont)+this.margin),this.toRender(["drawText",i.area[o].label,r,n,this.decorationFont,h,"left","middle"]),n+=a+a}this.drawLegendBackgroundBox(t,e-(a/2+this.margin),this.legendDecorationWidth,this.legendDecorationHeight+this.margin,!1,!1,!0)}else if("Map"==this.graphType&&this.decorations.pie&&this.decorations.pie[0]&&this.decorations.pie[0].smps&&this.decorations.pie[0].smps.length){i=this.decorations.pie[0];var d=(a=this.getFontPt(this.decorationFont))/2,p=Math.ceil(i.smps.length/this.legendColumns),g=this.legendDecorationWidth/this.legendColumns,u=0,m=t,f=e;for(o=0;o<p;o++)for(l=0;l<this.legendColumns&&(r=m+(this.margin+g*l),u<i.smps.length);l++){s=i.colors[u];var y=r+d,x=f+d;this.toRender({p:["drawShape","circle",y,x,a,a,s,this.background],a:this.getShapeArea("circle",y,x,a,a,s,this.background),t:"Legends"}),this.toRender({p:["drawText",i.smps[u],y+d+this.margin,x,this.decorationFont,this.decorationColor,"left","middle"],a:this.getTextArea(i.smps[u],y+d+this.margin,x,this.decorationFont,this.decorationColor,"left","middle"),t:"Legends"}),u++}}},this.resetLegends=function(t){t&&(delete this.legendDecorationCurX,delete this.legendDecorationCurY,delete this.legendDecorationX,delete this.legendDecorationY);for(var e="Network"==this.graphType?["ColorNode","ShapeNode","SizeNode","PatternNode","ColorEdge","SizeEdge"]:this.scatterPlotMatrix?["Color","Shape","Size","Pattern","Variable"]:this.connectByNoColor?["Color","Shape","Size","Pattern","Variable","Sample"]:["Color","Shape","Size","Line","Pattern","Connect","Variable","Sample",,"Bin2d"],i=0;i<e.length;i++)this["legend"+e[i]+"Width"]=0,this["legend"+e[i]+"Height"]=0,t&&(delete this["legend"+e[i]+"CurX"],delete this["legend"+e[i]+"CurY"],delete this["legend"+e[i]+"X"],delete this["legend"+e[i]+"Y"]);delete this.legendColorIndicatorCurX,delete this.legendColorIndicatorCurY},this.getXYLegendCoords=function(t,e,i){var a,s,r,n=-1,o=-1,h=this,l="Network"==this.graphType?0:this.offsetX,c="Network"==this.graphType?0:this.offsetY;if(this.legendLayout){var d=function(){for(var e=0;e<h.legendLayout.length;e++)if(h.legendLayout[e])for(var i=0;i<h.legendLayout[e].length;i++)if(h.legendLayout[e][i]==t)return[e,i];return[-1,-1]}();if(n=d[0],o=d[1],n>-1&&o>-1){var p=0,g=0;if(this.legendPosition.match(/right|left/i)){for(var u=0;u<n;u++){var m=0;if(this.legendLayout[u])for(var f=0;f<this.legendLayout[u].length;f++)m=Math.max(m,this["legend"+this.legendLayout[u][f]+"Width"]+this.margin);p+=m}if(this.legendLayout[u])for(f=0;f<this.legendLayout[n].length;f++)g+=this["legend"+this.legendLayout[n][f]+"Height"]+this.margin}else{for(u=0;u<n;u++){var y=0;if(this.legendLayout[u])for(f=0;f<this.legendLayout[u].length;f++)y=Math.max(y,this["legend"+this.legendLayout[u][f]+"Height"]+this.margin);g+=y}if(this.legendLayout[u])for(f=0;f<this.legendLayout[n].length;f++)p+=this["legend"+this.legendLayout[n][f]+"Width"]+this.margin}"Circular"==this.graphType?(a=e,s=i):this.legendPosition.match(/right|left/i)?(i=0==o&&(this.scatterPlotMatrix||this.layoutValid&&!this.getLayoutConfig("legendPosition"))?this.marginTop+this.layoutTop:0==o?this.marginTop+c+this.top:i,a=e+p+("Network"==this.graphType?-10:0),r=this.legendPosition.match(/top/)?this.margin:this.legendPosition.match(/bottom/)?this.y-(g+this.margin):(this.y-g)/2,s=0==o&&(this.scatterPlotMatrix||this.layoutValid&&!this.getLayoutConfig("legendPosition"))?(this.height-g)/2:0==o?this.marginTop+c+this.top+r:i,e=o==this.legendLayout[n].length-1?e+p:e,i=s+this["legend"+this.legendLayout[n][o]+"Height"]+this.margin):(e=0==o&&(this.scatterPlotMatrix||this.layoutValid&&!this.getLayoutConfig("legendPosition"))?this.marginLeft+this.layoutLeft:0==o?this.marginLeft+l+this.left:e,s=i+g,e=(a=0==o&&(this.scatterPlotMatrix||this.layoutValid&&!this.getLayoutConfig("legendPosition"))?(this.width-p)/2:0==o?this.marginLeft+l+this.left+(this.x-p)/2+this.margin:e+this.margin)+this["legend"+this.legendLayout[n][o]+"Width"]+this.margin,i=o==this.legendLayout[n].length-1?i+g:i)}}return[a,s,e,i]},this.getVariableLegendPosition=function(){var t,e;if("Pie"==this.graphType&&this.layoutValid)"right"==this.legendPosition?(t=this.width-(this.marginRight+this.legendVariableWidth+this.margin),e=this.height/2-this.legendVariableHeight/2):(t=this.width/2-this.legendVariableWidth/2,e=this.height-(this.marginBottom+this.legendVariableHeight+this.margin));else{if("Treemap"==this.graphType||"TagCloud"==this.graphType)return[0,0];if("Circular"==this.graphType)return[t=this.width-(this.marginRight+this.legendVariableWidth+this.margin),e=this.height-(this.marginBottom+this.legendVariableHeight+this.margin)];if(this.layoutValid&&"Pie"!=this.graphType){var i=this.width-(this.marginLeft+this.layoutLeft+this.layoutRight+this.marginRight),a=this.height-(this.marginTop+this.layoutTop+this.layoutBottom+this.marginBottom),s=this.legendVariableHeight+this.legendOverlaysHeight+-.5*this.margin,r=this.legendVariableWidth+this.legendOverlaysWidth+-.5*this.margin;t="right"==this.legendPosition?this.width-(this.marginRight+r):"left"==this.legendPosition?this.marginLeft+this.margin:this.marginLeft+this.layoutLeft+i/2-r/2,e="bottom"==this.legendPosition?this.height-(this.marginBottom+s):"top"==this.legendPosition?this.marginTop+this.margin+this.getTitleSubtitleHeight():this.marginTop+this.layoutTop+a/2-s/2}else{var n=this.marginLeft+this.offsetX+this.left,o=this.marginTop+this.offsetY+this.top,h=this.legendVariableHeight,l=this.legendVariableWidth;if(this.legendInside||"Pie"==this.graphType)switch(this.legendPosition){case"bottomRight":t=n+this.x-(l+this.margin),e=o+this.y-(h+this.margin);break;case"bottom":t=n+this.x/2-l/2,e=o+this.y-("Pie"==this.graphType?0:h+this.margin);break;case"bottomLeft":t=n+this.margin,e=o+this.y-(h+this.margin);break;case"left":t=n+this.margin-("Pie"==this.graphType?l+this.margin:0),e=o+this.y/2-h/2;break;case"topLeft":t=n+this.margin,e=o+this.margin;break;case"top":t=n+this.x/2-l/2,e=o+this.margin-("Pie"==this.graphType?h+this.margin:0);break;case"topRight":t=n+this.x-(l+this.margin),e=o+this.margin;break;default:t=n+this.x-("Pie"==this.graphType?0:l+this.margin),e=o+this.y/2-h/2}else{var c=this.overlaysLegendPosition.match(/top|bottom/i)?this.legendOverlaysHeight:0,d=this.overlaysLegendPosition.match(/right|left/i)?this.legendOverlaysWidth:0;switch(this.legendPosition){case"bottom":t=n+this.x/2-l/2,e=o+this.y+this.bottom-(h+c+this.margin);break;case"top":t=n+this.x/2-l/2,e=this.marginTop+this.offsetY+this.margin+this.getTitleSubtitleHeight();break;case"left":t=this.marginLeft+this.offsetX+this.margin,e=o+this.y/2-h/2;break;default:t=n+this.x+this.right-(l+d+this.margin),e=o+this.y/2-h/2}}}}return[t,e]},this.getScatterLegendPosition=function(){var t=0,e=0,i=0,a=0,s=0,r=0,n="Network"==this.graphType?10:this.offsetX,o="Network"==this.graphType?10:this.offsetY,h=this.marginLeft+n+this.left+this.margin,l=this.marginTop+o+this.top+this.margin;if(this.scatterPlotMatrix||this.layoutValid&&!this.getLayoutConfig("legendPosition"))i="left"==this.legendPosition?this.marginLeft+this.margin:this.width+this.margin-(this.marginRight+(this.legendWidth||0)),a="top"==this.legendPosition?this.marginTop+this.margin+this.getTitleSubtitleHeight():this.height+this.margin-(this.marginBottom+(this.legendHeight||0)),t=i-(this.legendDecorationWidth+this.margin),e=a-(this.legendDecorationHeight+this.margin);else if("Circular"==this.graphType)"sunburst"==this.circularType&&this.colorBy?(i="top"==this.legendPosition?this.marginLeft+this.left:this.width-(this.legendColorWidth+this.right+this.marginRight),a="top"==this.legendPosition?this.marginTop+this.top:this.height-(this.legendColorHeight+this.bottom+this.marginBottom)):(i="top"==this.legendPosition?this.marginLeft+this.left:this.width-(this.legendVariableWidth+this.right+this.marginRight),a="top"==this.legendPosition?this.marginTop+this.top:this.height-(this.legendVariableHeight+this.bottom+this.marginBottom));else if(this.legendInside){if(this.legendDecorationWidth>0&&this.legendDecorationHeight>0){var c=this.legendDecorationWidth+2*this.margin;switch(this.decorationsPosition){case"bottomRight":t=h+this.x-c,e=l+this.y-(this.legendDecorationHeight+this.margin);break;case"bottom":t=h+this.x/2-this.legendDecorationWidth/2,e=l+this.y-(this.legendDecorationHeight+this.margin);break;case"bottomLeft":t=h+this.margin,e=l+this.y-(this.legendDecorationHeight+this.margin);break;case"left":t=h+this.margin,e=l+this.y/2-this.legendDecorationHeight/2;break;case"topLeft":t=h+this.margin,e=l+2*this.margin;break;case"top":t=h+this.x/2-this.legendDecorationWidth/2,e=l+2*this.margin;break;case"topRight":t=h+this.x-c,e=l+2*this.margin;break;default:t=h+this.x-c,e=l+this.y/2-this.legendDecorationHeight/2}}if(this.legendWidth>0&&this.legendHeight>0)switch(this.legendPosition){case"bottomRight":i=h+this.x-this.legendWidth,a=l+this.y-this.legendHeight;break;case"bottom":i=h+this.x/2-this.legendWidth/2,a=l+this.y-this.legendHeight;break;case"bottomLeft":i=h,a=l+this.y-this.legendHeight;break;case"left":i=h,a=l+this.y/2-this.legendHeight/2;break;case"topLeft":i=h,a=l;break;case"top":i=h+this.x/2-this.legendWidth/2,a=l;break;case"topRight":i=h+this.x-this.legendWidth,a=l;break;default:i=h+this.x-this.legendWidth,a=l+this.y/2-this.legendHeight/2}}else{switch(this.decorationsPosition){case"bottom":t=h+this.x/2-this.legendDecorationWidth/2,e=l+this.y+this.bottom-this.legendDecorationHeight;break;default:t=h+this.x+this.right-(this.legendDecorationWidth+2*this.margin),e=l+this.y/2-this.legendDecorationHeight/2}switch(s=this.legendPosition==this.decorationsPosition?this.legendDecorationWidth:0,r=this.legendPosition==this.decorationsPosition?this.legendDecorationHeight:0,this.legendPosition){case"bottom":i=h+this.x/2-this.legendWidth/2,a=l+this.y+this.bottom-(this.legendHeight+(r?r+this.margin:0)),("Scatter3D"==this.graphType||this.is3DPlot)&&(a+=this.legendHeight);break;case"top":i=h+this.x/2-this.legendWidth/2,a=this.marginTop+o+this.margin+this.getTitleSubtitleHeight(),("Scatter3D"==this.graphType||this.is3DPlot)&&(a+=this.legendHeight);break;case"left":i=this.marginLeft+n+this.margin,a=l+this.y/2-this.legendHeight/2,("Scatter3D"==this.graphType||this.is3DPlot)&&(i+=this.legendWidth);break;default:i=h+this.x+this.right-(this.legendWidth+s),a=l+this.y/2-this.legendHeight/2,("Scatter3D"==this.graphType||this.is3DPlot)&&(i+=this.legendWidth),this.isMultidimensionalData&&"right"==this.heatmapIndicatorPosition&&(i-=this.heatmapIndicatorHeight+this.meta.def.colorBrew.maxLevLen+this.margin),"visium"==this.scatterType&&(i-=3*this.margin)}}return[t,e,i,a]},this.drawIndicator=function(t,e,i){delete this.legendColorIndicatorCurX,delete this.legendColorIndicatorCurY,this.drawColorIndicator(t,e,!1,i)},this.drawLegend=function(t){if("Meter"!=this.graphType)if("Fish"==this.graphType){var e=this.getVariableLegendPosition();this.drawVariableLegend(e[0],e[1])}else if("Venn"==this.graphType)this.drawVennLegend();else if("Circular"==this.graphType){if("sunburst"==this.circularType)this.drawScatterLegend(t);else if("bubble"==this.circularType);else if(this.showLegend){this.drawOverlaysLegend();e=this.getVariableLegendPosition();this.drawVariableLegend(e[0],e[1])}}else"Network"==this.graphType?this.drawScatterLegend():this.graphType.match(/Scatter/)||this.is3DPlot||(this.isAttributedGraph()||this.connectBy)&&(CanvasXpress.graphTypes.AttGraphs.includes(this.graphType)||"Map"==this.graphType)?(this.drawScatterLegend(t),this.isOncoprint&&this.drawOncoprintLegend(),this.drawOverlaysLegend()):"Pie"==this.graphType&&this.layoutValid&&!this.isDOE?this.layoutCurrent==this.data.l.smps.length-1&&this.draw1DLegend():(this.draw1DLegend(),this.drawOverlaysLegend())},this.draw1DLegend=function(){if(this.showLegend&&("Heatmap"!=this.graphType||"Heatmap"==this.graphType&&this.isAttributedGraph()))if(this.isMultidimensionalData||this.isAttributedGraph()&&CanvasXpress.graphTypes.AttGraphs.includes(this.graphType))this.isOncoprint&&this.drawOncoprintLegend(),this.drawScatterLegend();else{if("Treemap"==this.graphType||"TagCloud"==this.graphType)return;var t=this.getVariableLegendPosition(),e=t[0],i=t[1];this.legendVariableX&&this.legendVariableY&&(e=this.legendVariableX,i=this.legendVariableY),this.legendVariableCurX=e,this.legendVariableCurY=i,this.drawVariableLegend(e,i)}else this.isOncoprint&&this.drawOncoprintLegend()},this.drawOverlaysLegend=function(){var t,e;this.overlaysLegendPosition.match(/right/i)?(t=this.layoutValid?this.marginTop+this.layoutTop:this.marginTop+this.offsetY+this.top,"right"==this.overlaysLegendPosition&&(t+=this.y/2-this.legendOverlaysHeight/2),e=this.layoutValid?this.width-(this.marginRight+this.layoutRight+this.legendOverlaysWidth):this.width-(this.marginRight+this.legendOverlaysWidth),"Heatmap"==this.graphType&&"right"==this.heatmapIndicatorPosition&&(e-=this.getHeatmapIndicatorWidth()-this.margin)):(t=this.layoutValid?this.height-(this.marginBottom+this.layoutBottom+this.legendOverlaysHeight):this.height-(this.marginBottom+this.legendOverlaysHeight),e=this.layoutValid?this.marginLeft+this.layoutLeft:this.marginLeft+this.offsetX+this.left,"bottom"==this.overlaysLegendPosition&&(e+=this.x/2-this.legendOverlaysWidth/2));for(var i=t,a=e,s=0;s<this.legendOverlaysLayout.length;s++){for(var r,n,o,h,l=this.legendOverlaysLayout[s],c=mw=0,d=mh=0,p=0;p<l.length;p++)r=l[p][0],n=l[p][1],mw=Math.max(c,l[p][2]),mh=Math.max(d,l[p][3]);for(p=0;p<l.length;p++)r=l[p][0],n=l[p][1],o=this.meta.data[r][n],c=this["legend"+n+"Width"],d=this["legend"+n+"Height"],h="z"==r?this.varOverlaysLegendColumns:this.smpOverlaysLegendColumns,"String"==o.type?this.drawGenericLegend(a,i,c,d,o,n,h):this.drawColorIndicator(a,i,o,n,!1,c/2),this.overlaysLegendPosition.match(/right/i)?i+=d+this.margin:a+=c+this.margin;this.overlaysLegendPosition.match(/right/i)?(a+=mw+this.margin,i=t):(a=e,i+=mh+this.margin)}},this.drawScatterLegend=function(t){var e=this.getScatterLegendPosition();if(this.showDecorations&&this.showDecorationsLegend&&this.decorations&&!this.layoutValid&&(null!=this.legendDecorationX&&null!=this.legendDecorationY?this.drawDecorationLegend(this.legendDecorationX,this.legendDecorationY):this.drawDecorationLegend(e[0],e[1])),this.showLegend){for(var i="Network"==this.graphType?["ColorNode","ShapeNode","SizeNode","PatternNode","ColorEdge","SizeEdge","Decoration"]:this.scatterPlotMatrix?["Color","Shape","Size","Pattern","Variable"]:this.connectByNoColor?["Color","Shape","Size","Pattern","Variable","Sample"]:["Color","Shape","Size","Line","Pattern","Connect","Variable","Sample","Contour","Bin2d"],a=e[2],s=e[3],r=this.isContour&&"point"==this.contourType?"Size":"Color",n=0;n<i.length;n++){var o=this["legend"+i[n]+"Width"],h=this["legend"+i[n]+"Height"],l=this["legend"+i[n]+"X"],c=this["legend"+i[n]+"Y"],d=this.isHistogramLayout()&&"Sample"==i[n];if(o>0){t&&!d&&(this.setPropertyLegendDimensions(i[n]),o=this["legend"+i[n]+"Width"],h=this["legend"+i[n]+"Height"]);var p=("draw"+i[n]+"Legend").replace("Node","").replace("Edge","").replace("Decoration","Color").replace("Contour",r).replace("Bin2d",r).replace("Line","Color"),g=this["legend"+i[n]+"Meta"],u=this.getXYLegendCoords(i[n],a,s);l&&c?(this[p](l,c,g,i[n]),this["legend"+i[n]+"CurX"]=l,this["legend"+i[n]+"CurY"]=c):(this[p](u[0],u[1],g,i[n]),this["legend"+i[n]+"CurX"]=u[0],this["legend"+i[n]+"CurY"]=u[1]),this.legendPosition.match(/right|left/i)?s=u[3]+this.margin:a=u[2]+this.margin}}for(n=0;n<this.legend.length;n++)if("Network"!=this.graphType||this.showDecorations){var m="Custom"+n;o=this["legend"+m+"Width"],h=this["legend"+m+"Height"],l=this["legend"+m+"X"],c=this["legend"+m+"Y"],u=this.getXYLegendCoords(m,a,s);l&&c?(this.drawCustomLegend(l,c,o,h,this.legend[n]),this["legend"+m+"CurX"]=l,this["legend"+m+"CurY"]=c):(this.drawCustomLegend(u[0],u[1],o,h,this.legend[n]),this["legend"+m+"CurX"]=u[0],this["legend"+m+"CurY"]=u[1]),this.legendPosition.match(/right|left/i)?s=u[3]+this.margin:a=u[2]+this.margin}}},this.setMarker=function(t){var e=this,i=function(t){for(var i=e.meta.render.objects,a=0;a<i.length;a++){var s=i[a];if("Data"==s.type&&s.idx){var r=s.idx.join(":");if(r==t||r==t+":false"||r==t+":true"||r==t+":box"){if(!e.layoutValid)return s;if(s.layout==e.layoutCurrent)return s}}}return!1},a=function(){return t.fontSize?(t.fontStyle||"")+" "+parseInt(t.fontSize)+"px "+e.fontName:e.decorationFont};if(!t.variable)return!1;var s,r=!!(this.graphType.match(/Treemap|Stacked|Dotplot/)||"Boxplot"==this.graphType&&this.showBoxplotOriginalData),n=t.variable?this.isArray(t.variable)?this.getVariableIndices(t.variable):this.getVariableIndices([t.variable]):[],o=t.variable2&&this.isArray(t.variable2)?this.getVariableIndices(t.variable2):!!t.variable2&&this.getVariableIndices([t.variable2]),h=[];if(this.layoutValid&&this.data.l&&this.data.l.smps&&this.data.l.smps[this.layoutCurrent]){for(var l=0;l<this.data.l.smps[this.layoutCurrent].length;l++)if(this.data.l.smps[this.layoutCurrent][l]==t.sample){if(("Boxplot"==this.graphType&&this.showBoxplotOriginalData||"Dotplot"==this.graphType)&&this.isGroupedData&&this.data.w)for(var c=!1,d=0;d<this.data.w.grps.length;d++){for(var p=0;p<this.data.w.grps[d].length;p++)this.data.l.ids[this.layoutCurrent][l]==this.data.w.grps[d][p]&&(h.push(d),h.push(this.data.l.ids[this.layoutCurrent][l]),c=!0);if(c)break}else h.push(this.data.l.ids[this.layoutCurrent][l]);break}if(!h.length&&this.isGroupedData&&this.data.w)for(l=0;l<this.data.w.labs.length;l++)this.data.w.labs[l]==t.sample&&h.push(l);if(t.scope&&this.isArray(t.scope))if(this.data.x){for(l=0;l<h.length;l++){var g=h[l],u=0;for(var m in this.data.x)t.scope.includes(this.data.x[m][g])&&u++;if(u==t.scope.length){h=g;break}}this.isArray(h)&&(h=[h[0]])}else h=[h[0]]}else{if(h=t.sample?this.isArray(t.sample)?this.getSampleIndices(t.sample,r):this.getSampleIndices([t.sample],r):[],("Boxplot"==this.graphType&&this.showBoxplotOriginalData||"Dotplot"==this.graphType)&&this.isGroupedData&&this.data.w)if(h.length)for(c=!1,l=0;l<this.data.w.grps.length;l++){for(d=0;d<this.data.w.grps[l].length;d++)if(h[0]==this.data.w.grps[l][d]){h.unshift(l),c=!0;break}if(c)break}else h=t.sample?this.isArray(t.sample)?this.getSampleIndices(t.sample):this.getSampleIndices([t.sample]):[];s=t.sample2&&this.isArray(t.sample2)?this.getSampleIndices(t.sample2,r):!!t.sample2&&this.getSampleIndices([t.sample2],r)}var f=n.concat(h).join(":"),y=!(!o||!s)&&o.concat(s).join(":"),x=i(f),b=!!y&&i(y),v=!!x&&this.centroidArea(x.area),A=!!b&&this.centroidArea(b.area),w=x?x.params[4]:0,C=x?x.params[3]:0,T=b?b.params[4]:0,S=b?b.params[3]:0;return null==t.id&&(t.id=this.newId("-marker-")),t.vi=n,t.si=h,t.vi2=o,t.si2=s,this.isArray(t.variable)||(t.variable=[t.variable]),this.isArray(t.sample)||(t.sample=[t.sample]),t.variable2&&!this.isArray(t.variable2)&&(t.variable2=[t.variable2]),t.sample2&&!this.isArray(t.sample2)&&(t.sample2=[t.sample2]),t.type||(t.type="line"),t.b=[this.marginLeft+this.offsetX+this.left,this.marginTop+this.offsetY+this.top,this.x,this.y],t.len=this.measureText(t.text,a()),t.width=this.measureTextWidth(t.text,a()),t.tx=v&&"vertical"==this.graphOrientation?v[0]:!(!v||"vertical"==this.graphOrientation)&&v[0]+C/2+2*t.width+2*this.margin,t.ty=v&&"line"!=t.type&&"vertical"==this.graphOrientation?v[1]-(w/2+t.width):(v&&"line"!=t.type&&"vertical"!=this.graphOrientation||!!v)&&v[1],t.tx2=A&&"vertical"==this.graphOrientation?A[0]:!(!A||"vertical"==this.graphOrientation)&&A[0]+S/2+2*t.width+2*this.margin,t.ty2=A&&"line"!=t.type&&"vertical"==this.graphOrientation?A[1]-(T/2+t.width):(A&&"line"!=t.type&&"vertical"!=this.graphOrientation||!!A)&&A[1],v&&this.graphType.match(/Scatter/)&&(t.tx=v[0],t.ty=v[1]),t.offsetX&&v&&(t.tx=v[0]+t.offsetX),t.offsetX&&A&&(t.tx2=A[0]+t.offsetX),t.offsetY&&v&&(t.ty=v[1]+t.offsetY),t.offsetY&&A&&(t.ty2=A[1]+t.offsetY),t},this.getMarker=function(t){if(t&&this.decorations&&this.decorations.marker)for(var e=0;e<this.decorations.marker.length;e++){var i=this.decorations.marker[e];if(t==i.id)return i}},this.drawMarkers=function(t){var e,i=this,a=function(){return c.fontSize?(c.fontStyle||"")+" "+parseInt(c.fontSize)+"px "+i.fontName:i.decorationFont};if(t)this.clearHighlightCanvas(),this.isHighlightCanvas=!0;else if(this.moveMarker)return;if(this.decorations&&this.decorations.marker)for(var s=this.decorations.marker,r=0;r<s.length;r++){var n,o,h,l,c=this.setMarker(s[r]);if(c&&c.tx&&c.ty&&c.b)if(n=c.offsetX?c.tx:c.x?c.b[0]+c.x*c.b[2]:"vertical"==this.graphOrientation?c.tx:c.tx+this.margin,o=c.offsetY?c.ty:c.y?c.b[1]+c.y*c.b[3]:"vertical"==this.graphOrientation?c.ty-this.margin:c.ty,h=c.tx2&&c.offsetX||c.tx2&&"vertical"==this.graphOrientation?c.tx2:!!c.tx2&&c.tx2+this.margin,l=c.ty2&&c.offsetY?c.ty2:c.ty2&&"vertical"==this.graphOrientation?c.ty2-this.margin:!!c.ty2&&c.ty2,"comparison"==c.type&&n&&o&&h&&l&&("vertical"==this.graphOrientation?l=o=Math.min(o,l)-this.getFontPt(a()):h=n=Math.max(n,h)),e=c,i.layoutValid?null!=e.si&&e.ty>i.offsetY&&e.ty<i.offsetY+i.layoutParams[i.layoutCurrent].height&&e.tx>i.offsetX&&e.tx<i.offsetX+i.layoutParams[i.layoutCurrent].width:e.ty>0&&e.ty<i.height&&e.tx>0&&e.tx<i.width){var d=c.scope||!1;if(d){var p=!this.layoutValid;if(this.layoutValid){var g=this.data.l.name[this.layoutCurrent];this.isArray(g)||(g=[g]);for(var u=0;u<g.length;u++){var m=g[u].toString().replace("\0","");if(this.isArray(d)){for(var f=0;f<d.length;f++)if(d[f].toString()==m){p=!0;break}}else if(d.toString()==m){p=!0;break}}}if(!p)continue}var y,x=!!c.rotate&&Math.PI*c.rotate/180;"comparison"==c.type?y="vertical"==this.graphOrientation?this.toRender({p:["drawText",c.text,(n+h)/2,o,a(),c.color||this.decorationsColor,c.align,c.baseline,x],a:this.getTextArea(c.text,(n+h)/2,o,a(),c.color||this.decorationsColor,c.align,c.baseline,x),i:["Marker:"+c.id],t:"Decorations",d:!!this.moveMarker}):this.toRender({p:["drawText",c.text,n+c.len/2,(o+l)/2,a(),c.color||this.decorationsColor,c.align,c.baseline,x],a:this.getTextArea(c.text,n+c.len/2,(o+l)/2,a(),c.color||this.decorationsColor,c.align,c.baseline,x),i:["Marker:"+c.id],t:"Decorations",d:!!this.moveMarker}):c.text&&(y=this.toRender({p:["drawText",c.text,n,o,a(),c.color||this.decorationsColor,c.align,c.baseline,x],a:this.getTextArea(c.text,n,o,a(),c.color||this.decorationsColor,c.align,c.baseline,x),i:["Marker:"+c.id],t:"Decorations",d:!!this.moveMarker}));var b=this.meta.render.objects[y].area;if("comparison"==c.type){var v=c.color||this.decorationsColor,A=this.getFontPt(a());"vertical"==this.graphOrientation?(this.toRender({p:["drawLine","line",n,o+A,h,l+A,v],g:y,t:"Decorations",d:!!this.moveMarker}),this.toRender({p:["drawLine","line",n,o+A-this.margin,n,o+A+this.margin,v],g:y,t:"Decorations",d:!!this.moveMarker}),this.toRender({p:["drawLine","line",h,l+A-this.margin,h,l+A+this.margin,v],g:y,t:"Decorations",d:!!this.moveMarker})):(this.toRender({p:["drawLine","line",n-A,o,h-A,l,v],g:y,t:"Decorations",d:!!this.moveMarker}),this.toRender({p:["drawLine","line",n-(A+this.margin),o,n+this.margin-A,o,v],g:y,t:"Decorations",d:!!this.moveMarker}),this.toRender({p:["drawLine","line",h-(A+this.margin),l,h+this.margin-A,l,v],g:y,t:"Decorations",d:!!this.moveMarker}))}if("line"==c.type){v=c.color||this.decorationsColor;c.curX=n,c.curY=o,c.tx<b[1]-c.len?(A=(b[2]+b[4])/2,this.toRender({p:["drawLine","line",b[1]-this.margin,b[2],b[1]-this.margin,b[4],v],g:y,t:"Decorations",d:!!this.moveMarker}),this.toRender({p:["drawLine",c.type,c.tx,c.ty,b[1]-this.margin,A,v],g:y,t:"Decorations",d:!!this.moveMarker})):c.tx>b[3]+c.len?(A=(b[2]+b[4])/2,this.toRender({p:["drawLine","line",b[3]+this.margin,b[2],b[3]+this.margin,b[4],v],g:y,t:"Decorations",d:!!this.moveMarker}),this.toRender({p:["drawLine",c.type,c.tx,c.ty,b[3]+this.margin,A,v],g:y,t:"Decorations",d:!!this.moveMarker})):c.ty>b[4]+.2*c.width?(A=(b[1]+b[3])/2,this.toRender({p:["drawLine","line",b[1],b[4]+this.margin,b[3],b[4]+this.margin,v],g:y,t:"Decorations",d:!!this.moveMarker}),this.toRender({p:["drawLine",c.type,c.tx,c.ty,A,b[4]+this.margin,v],g:y,t:"Decorations",d:!!this.moveMarker})):c.ty<b[2]-.2*c.width?(A=(b[1]+b[3])/2,this.toRender({p:["drawLine","line",b[1],b[2]-this.margin,b[3],b[2]-this.margin,v],g:y,t:"Decorations",d:!!this.moveMarker}),this.toRender({p:["drawLine",c.type,c.tx,c.ty,A,b[2]-this.margin,v],g:y,t:"Decorations",d:!!this.moveMarker})):c.tx<b[1]?(A=(b[2]+b[4])/2,this.toRender({p:["drawLine","line",b[1]-this.margin,b[2],b[1]-this.margin,b[4],v],g:y,t:"Decorations",d:!!this.moveMarker}),this.toRender({p:["drawLine",c.type,c.tx,c.ty,b[1]-this.margin,A,v],g:y,t:"Decorations",d:!!this.moveMarker})):(A=(b[2]+b[4])/2,this.toRender({p:["drawLine","line",b[3]+this.margin,b[2],b[3]+this.margin,b[4],v],g:y,t:"Decorations",d:!!this.moveMarker}),this.toRender({p:["drawLine",c.type,c.tx,c.ty,b[3]+this.margin,A,v],g:y,t:"Decorations",d:!!this.moveMarker}))}else c.curX=n,c.curY=o}}t&&(this.isHighlightCanvas=!1)}},CanvasXpress.prototype.initFilterUtils=function(){this.handleSelector=function(t){this.hiddenLegends[t.id]=!this.hiddenLegends[t.id];var e=!this.hiddenLegends[t.id],i=this.showTransition;switch(this.showTransition=!1,t.type){case"var":this.filterVariables(t.type+"s","exact",this.isArray(t.name)?t.name:[t.name],e);break;case"smp":this.filterSamples(t.type+"s","exact",this.isArray(t.name)?t.name:[t.name],e);break;case"series":if(this.isHistogramLayout()){var a=this.segregateVariablesBy.length&&this.segregateVariablesBy[0]==this.isCreateHistogram.factor?this.segregateVariablesBy[0]==this.isCreateHistogram.factor&&t.name[1].split(":")[0]:t.name[1].split(":")[1];if(a){t.name=[t.name[0]];for(var s=0;s<this.data.y.smps.length;s++)for(var r=this.data.y.smps[s].split(":"),n=0;n<r.length;n++)r[n]!=a||t.name.push(this.data.y.smps[s])}}this.filterSamples("smps","exact",this.isArray(t.name)?t.name:[t.name],e);break;case"meta":var o=this.isOncoprint||this.isMultidimensionalData&&!this.meta.data[t.object][t.factor]&&this.meta.data[t.object]?this.meta.data[t.object]:this.meta.data[t.object][t.factor];switch(t.object){case"x":if("Numeric"==o.type){var h=o.order[t.level],l=Number(t.level),c=o.isRange&&0==h?Number(t.level)-o.incr:o.isRange?o.levels[h-1]+1e-8:Number(t.level);this.filterSamplesByCategory(t.factor,"between",[c,l],e)}else this.filterSamplesByCategory(t.factor,"exact",this.isArray(t.level)?t.level:[t.level],e);break;case"z":if("Numeric"==o.type){h=o.order[t.level],l=Number(t.level),c=o.isRange&&0==h?Number(t.level)-o.incr:o.isRange?o.levels[h-1]+1e-8:Number(t.level);this.filterVariablesByCategory(t.factor,"between",[c,l],e)}else this.filterVariablesByCategory(t.factor,"exact",this.isArray(t.level)?t.level:[t.level],e);break;case"y":if(!(o=this.shapeBy==t.factor?this.legendShapeMeta:this.sizeBy==t.factor&&this.legendSizeMeta))return;for(h=0,s=0;s<o.vals.length;s++)if(Number(t.level)==o.vals[s]){h=s;break}l=o.vals[h],c=0==h?Number(t.level)-1e-9:o.vals[h-1]+1e-9;this.filterVariablesByCategory(t.factor,"between",[c,l],e);break;case"modified":this.meta.data.modified.x&&this.meta.data.modified.x.meta&&this.meta.data.modified.x.meta[t.factor]?alert("Ooops! Needs to develop this case!"):this.meta.data.modified.z&&this.meta.data.modified.z.meta&&this.meta.data.modified.z.meta[t.factor]&&this.filterUserData("filterSmpBy",t.factor,"exact",[this.meta.data.modified.z.meta[t.factor].order[t.level]],e);break;default:if(o&&"Numeric"==o.type){h=o.order[t.level],l=Number(t.level),c=o.isRange&&0==h?Number(t.level)-o.incr:o.isRange?o.levels[h-1]+1e-8:Number(t.level);this.filterDataByCategory(t.object,"between",[c,l],e)}else this.filterDataByCategory(t.object,"exact",[t.level],e)}break;case"data":this.filterDataByCategory(t.object,"exact",[t.name],e)}this.showTransition=i},this.filterVariables=function(t,e,i,a,s){this.filterUserData("filterVarBy","vars",e,i,a,s)},this.filterVariablesByCategory=function(t,e,i,a,s){this.filterUserData("filterVarBy",t,e,i,a,s)},this.filterSamples=function(t,e,i,a,s){this.filterUserData("filterSmpBy","smps",e,i,a,s)},this.filterSamplesByCategory=function(t,e,i,a,s){this.filterUserData("filterSmpBy",t,e,i,a,s)},this.filterDataByCategory=function(t,e,i,a,s){this.filterUserData("filterDataBy",t,e,i,a,s)},this.filterUserData=function(t,e,i,a,s,r){if(!this.isTransition()){var n,o={min:">=",max:"<=",between:"between",like:"like",exact:"exact"},h={hidden:{},unhidden:{},vs:a,op:!s};this.showMask();var l=this.cloneObject(this[t]),c=this.ungroupGroupedData();if(!r&&s&&(this.reset(!0,!0,!1,r),this.filterData(c,!r),n={hiddenVars:this.cloneObject(this.hiddenVars),hiddenSmps:this.cloneObject(this.hiddenSmps),hiddenGrps:this.cloneObject(this.hiddenGrps),hiddenMapFeatures:this.cloneObject(this.hiddenMapFeatures)}),this[t]=l,s)for(var d=0;d<this[t].comp.length;d++)this[t].comp[d]==e&&this[t].op[d]==o[i]&&0==this[t].cases[d]&&"Legend"==this[t].type[d]&&this.isSameObject(this[t].value[d],a)&&(this[t].comp.splice(d,1),this[t].op.splice(d,1),this[t].cases.splice(d,1),this[t].type.splice(d,1),this[t].value.splice(d,1));else this[t].comp.push(e),this[t].op.push(o[i]),this[t].cases.push(!1),this[t].type.push("Legend"),this[t].value.push(a);if(this.reset(!0,!0,!1,r),this.filterData(c,!r),this.isGroupedData&&this.smpIndices.length>0){var p=this.cloneObject(this.data.w.grpIdxs);this.groupSamples(this.groupingFactors,!1,p,!0,!0,!1,!c)}this.filterIdToName(n,h),this.draw({func:"filterUserData",par:[t,e,i,a,s,r],prop:{hiddenLegends:this.hiddenLegends}}),this.userEvents.clicklegend.call(this,h,this.lastEvent,this)}},this.filterIdToName=function(t,e){for(var i=["hiddenVars","hiddenSmps","hiddenGrps","hiddenMapFeatures"],a=0;a<i.length;a++){var s=i[a];if(e.hidden[s]=[],e.unhidden[s]=[],e.op){if(this[s])for(a=0;a<this[s].length;a++)if(this[s][a])switch(s){case"hiddenVars":e.hidden[s][this.data.y.vars[a]]=!0;break;case"hiddenSmps":e.hidden[s][this.data.y.smps[a]]=!0;break;case"hiddenGrps":e.hidden[s][this.data.w.smps[a]]=!0;break;case"hiddenMapFeatures":e.hidden[s][e.vs[0]]=!0}}else if(t[s])for(var a=0;a<t[s].length;a++)if(!this[s][a]&&t[s][a])switch(s){case"hiddenVars":e.unhidden[s][this.data.y.vars[a]]=!0;break;case"hiddenSmps":e.unhidden[s][this.data.y.smps[a]]=!0;break;case"hiddenGrps":e.unhidden[s][this.data.w.smps[a]]=!0;break;case"hiddenMapFeatures":e.unhidden[s][vs[0]]=!0}if(this[s]){this[s+"Local"]={};for(a=0;a<this[s].length;a++)this[s+"Local"][this.data.y.vars[a]]=this[s][a]}}},this.filterData=function(t,e){if(!this.isDOE){this.showMask();var i={},a={},s={},r=this,n=function(t,e,i){if(e.hasOwnProperty(t))return e[t];if(t.match(":::")){var a=t.split(":::");if(i[a[1]]){a[1]=parseInt(a[1]);for(var s=0;s<i[a[1]].length;s++){var r=i[a[1]][s];if(!e.hasOwnProperty(r))return!1;e=e[r]}if(e.hasOwnProperty(a[0]))return e[a[0]]}}return!1},o=function(t){var e={s:[],v:[]};if(r.filterSmpBy.comp.length)for(var i=0;i<r.filterSmpBy.comp.length;i++)if(r.filterSmpBy.comp[i]){if(t&&"Legend"!=r.filterSmpBy.type[i])continue;e.s[i]=r.getSampleIndices(r.filterSmpBy.comp[i])}if(r.filterVarBy.comp.length)for(i=0;i<r.filterVarBy.comp.length;i++)if(r.filterVarBy.comp[i]){if(t&&"Legend"!=r.filterVarBy.type[i])continue;e.v[i]=r.getVariableIndices(r.filterVarBy.comp[i])}return e},h=function(e,i){if(!r.isGroupedData||t&&!i){c=r.smpIndices;var a=o(e);for(d=[],p=!1,g=0;g<c.length;g++){u=c[g],m=!1;if((h=r.filterVarBy).comp.length>0)for(f=0;f<h.comp.length;f++)if(h.comp[f]){if(e&&"Legend"!=h.type[f])continue;if((s=a.v[f])>=0){p=!0;y=l(r.data.y.data[s][u],h.op[f],h.value[f],h.cases[f]);if("and"!=r.filterType||e){if(y){m=!0;break}}else{if(!y){m=!1;break}m=!0}}}if((h=r.filterSmpBy).comp.length>0)for(f=0;f<h.comp.length;f++)if(h.comp[f]){if(e&&"Legend"!=h.type[f])continue;var s;if(-1==(s=a.s[f])){p=!0;var n="smps"==h.comp[f]?r.data.y.smps[u]:r.getMetadataValue(u,"x",h.comp[f],!0);y=l(n,h.op[f],h.value[f],h.cases[f]);if("and"!=r.filterType||e){if(y||m){m=!0;break}}else{if(!y){m=!1;break}m=!0}}}m&&d.push(u)}}else for(var h,c=r.grpIndices,d=[],p=!1,g=0;g<c.length;g++){var u=c[g],m=!1;if((h=r.filterSmpBy).comp.length>0)for(var f=0;f<h.comp.length;f++)if(h.comp[f]){if(e&&"Legend"!=h.type[f])continue;if(p=!0,"smps"==h.comp[f]){for(var y=!1,x=0;x<r.data.w.grps[u].length;x++)if(l(r.data.y.smps[r.data.w.grps[u][x]],h.op[f],h.value[f],h.cases[f])){y=!0;break}if("and"!=r.filterType||e){if(y||m){m=!0;break}}else{if(!y){m=!1;break}m=!0}}else{var y=l(r.data.w.factors[h.comp[f]][g],h.op[f],h.value[f],h.cases[f]);if("and"!=r.filterType||e){if(y||m){m=!0;break}}else{if(!y){m=!1;break}m=!0}}}m&&d.push(u)}return!!p&&d},l=function(t,e,i,a){if(!e)return!0;if(r.filterSkipNullValues&&(null==t||""==t))return!0;if(">"==e)return parseFloat(t)-parseFloat(i)>0;if(">="==e)return parseFloat(t)-parseFloat(i)>0||parseFloat(t)-parseFloat(i)==0;if("<"==e)return parseFloat(t)-parseFloat(i)<0;if("<="==e)return parseFloat(t)-parseFloat(i)<0||parseFloat(t)-parseFloat(i)==0;if("between"==e)return(parseFloat(t)-parseFloat(i[0])>0||parseFloat(t)-parseFloat(i[0])==0)&&(parseFloat(t)-parseFloat(i[1])<0||parseFloat(t)-parseFloat(i[1])==0);if("="==e||"=="==e)return parseFloat(t)-parseFloat(i)==0;if("null"==e)return null==t;if("not null"==e)return null!=t;if("exact"==e){for(var s=0;s<i.length;s++)if((t+"").toString()==(i[s]+"").toString())return!0;return!1}if("like"==e||"not like"==e){var n=!1;if(a)for(s=0;s<i.length&&(-1==(t+"").search(i[s]+"")&&i[s].toString()!=t.toString()||(n=!0,"like"!=e));s++);else{var o=(t+"").toLowerCase();for(s=0;s<i.length;s++){var h=(i[s]+"").toLowerCase();if((-1!=o.search(h)||o.toString()==h.toString())&&(n=!0,"like"==e))break}}return"like"==e?n:!n}},c=function(t){s[t]||(s[t]=0),s[t]++};if("Genome"==this.graphType&&this.filterFeatureBy.comp.length>0){for(var d=0;d<this.filterFeatureBy.comp.length;d++)if(this.filterFeatureBy.comp[d])for(var p=0;p<this.data.tracks.length;p++)for(var g=this.data.tracks[p].data,u=0;u<g.length;u++){var m=g[u];if(!this.filterSkipNullKeys||m.hasOwnProperty(this.filterFeatureBy.comp[d])){var f=n(this.filterFeatureBy.comp[d],m,this.featuresProperties);l(f,this.filterFeatureBy.opp[d],this.filterFeatureBy.value[d],this.filterFeatureBy.cases[d])?(i[p+":"+u]=!0,"or"==this.filterType&&a[p+":"+u]&&(m.hide=!1)):(m.hide="and"==this.filterType||!i[p+":"+u],a[p+":"+u]=!0)}}}else if("Network"==this.graphType&&(this.filterNodeBy.comp.length>0||this.filterEdgeBy.comp.length)){for(d=0;d<this.filterNodeBy.comp.length;d++)if(this.filterNodeBy.comp[d])for(p=0;p<this.data.nodes.length;p++)if((!this.filterSkipNullKeys||this.data.nodes[p].hasOwnProperty(this.filterNodeBy.comp[d]))&&!this.data.nodes[p].hide){f=n(this.filterNodeBy.comp[d],this.data.nodes[p],this.nodesProperties);l(f,this.filterNodeBy.op[d],this.filterNodeBy.value[d],this.filterNodeBy.cases[d])?(i[this.data.nodes[p].id]=!0,"or"==this.filterType&&a[this.data.nodes[p].id]&&(this.data.nodes[p].hide=!1)):(this.data.nodes[p].hide="and"==this.filterType||!i[this.data.nodes[p].id],a[this.data.nodes[p].id]=!0)}for(d=0;d<this.filterEdgeBy.comp.length;d++)if(this.filterEdgeBy.comp[d])for(p=0;p<this.data.edges.length;p++){var y=this.data.nodes[this.data.nodeIndices[this.data.edges[p].id1]],x=this.data.nodes[this.data.nodeIndices[this.data.edges[p].id2]],b=y.id+":"+x.id;if(!this.filterSkipNullKeys||this.data.edges[p].hasOwnProperty(this.filterEdgeBy.comp[d])){f=n(this.filterEdgeBy.comp[d],this.data.edges[p],this.edgesProperties);l(f,this.filterEdgeBy.op[d],this.filterEdgeBy.value[d],this.filterEdgeBy.cases[d])?(i[b]=!0,"or"==this.filterType&&a[b]&&(this.data.edges[p].hide=!1)):(this.data.edges[p].hide="and"==this.filterType||!i[b],a[b]=!0),this.data.edges[p].hide||(c(y.id),c(x.id))}}if(this.filterEdgeBy.comp.length>0)for(d=0;d<this.data.nodes.length;d++){var v=this.data.nodes[d];s[v.id]||(v.hide=!0)}}else if(this.isCreateHistogram&&!e){if(this.filterVarBy.length>0){this.dataStndBy,this.data.y.histogram;console.log("Not implemented Yet")}}else if("Scatter2D"==this.graphType&&this.scatterPlotMatrix&&this.scatterPlotMatrixType.match(/correlation|all/)&&!e)this.filterVarBy.length>0&&console.log("Not implemented Yet");else if(this.filterDataBy.comp.length>0){var A=[],w=this.filterDataBy;for(d=0;d<this.varIndices.length;d++){f=this.varIndices[d];var C=!1;for(p=0;p<this.smpIndices.length;p++){var T=this.smpIndices[p];for(u=0;u<w.comp.length;u++){var S=this.data.y[w.comp[u]][f][T],D="No Alteration"==w.value[u]?[""]:w.value[u],M=l(S,w.op[u],D,w.cases[u]);if("and"!=this.filterType||e){if(M){C=!0;break}}else{if(!M){C=!1;break}C=!0}}if(C)break}C&&A.push(f)}if(e)for(d=0;d<A.length;d++)this.hiddenVars[A[d]]=!0}else if(this.filterVarBy.comp.length>0||this.filterSmpBy.comp.length>0){A=function(t){for(var e,i=r.motionBy?r.seq(0,r.data.y.vars.length-1,1):r.graphType.match(/line/i)&&r.graphType.match(/line/i)&&r.xAxis.length&&r.xAxis2.length?r.getVariableIndices(r.xAxis).concat(r.getVariableIndices(r.xAxis2)):r.varIndices,a=o(t),s=[],n=!1,h=0;h<i.length;h++){var c=i[h],d=!1;if((e=r.filterSmpBy).comp.length>0)for(var p=0;p<e.comp.length;p++)if(e.comp[p]){if(t&&"Legend"!=e.type[p])continue;if((u=a.s[p])>=0){n=!0;var g=l(r.data.y.data[c][u],e.op[p],e.value[p],e.cases[p]);if("and"!=r.filterType||t){if(g){d=!0;break}}else{if(!g){d=!1;break}d=!0}}}if((e=r.filterVarBy).comp.length>0)for(p=0;p<e.comp.length;p++)if(e.comp[p]){if(t&&"Legend"!=e.type[p])continue;var u;if(-1==(u=a.v[p])){n=!0;var m="vars"==e.comp[p]?r.data.y.vars[c]:r.getMetadataValue(c,"z",e.comp[p]);g=l(m,e.op[p],e.value[p],e.cases[p]);if("and"!=r.filterType||t){if(g||d){d=!0;break}}else{if(!g){d=!1;break}d=!0}}else{n=!0;m=r.data.y.data[c][u],g=l(m,e.op[p],e.value[p],e.cases[p]);if("and"!=r.filterType||t){if(g||d){d=!0;break}}else{if(!g){d=!1;break}d=!0}}}d&&s.push(c)}return!!n&&s}(e);var k=h(e),L=!(!this.isGroupedData||!this.layoutValid)&&h(e,!0);if(delete this.data.bubble,delete this.data.tree,e&&A)for(d=0;d<A.length;d++)this.hiddenVars[A[d]]=!0;else if("remove"!=this.filterMode&&A){for(d=0;d<this.hiddenVars.length;d++)this.hiddenVars[d]=!0;for(d=0;d<A.length;d++)this.hiddenVars[A[d]]=!1}else A&&(this.varIndices=A);if(this.isGroupedData&&!t)if(e&&k)for(d=0;d<k.length;d++)this.hiddenGrps[k[d]]=!0;else k&&(this.grpIndices=k);else if(e&&k){for(d=0;d<k.length;d++)this.hiddenSmps[k[d]]=!0;this.graphType.match(/Scatter/)&&("X"==this.axesType&&this.xAxisIndices.length>1?this.hiddenSmps[this.yAxisIndices[0]]&&(this.hiddenSmps[this.yAxisIndices[0]]=!1):"Y"==this.axesType&&this.yAxisIndices.length>1&&this.hiddenSmps[this.xAxisIndices[0]]&&(this.hiddenSmps[this.xAxisIndices[0]]=!1))}else if("remove"!=this.filterMode&&k){for(d=0;d<this.hiddenSmps.length;d++)this.hiddenSMps[d]=!0;for(d=0;d<k.length;d++)this.hiddenSmps[k[d]]=!1}else k&&(this.smpIndices=k);if(L&&e){this.hiddenGrpsLayout=[];for(d=0;d<L.length;d++)this.hiddenGrpsLayout[L[d]]=!0}else this.hiddenGrpsLayout=!1}else this.hiddenGrpsLayout=!1;if(this.layoutComb&&this.layoutParams&&!this.graphType.match(/Scatter/)){this.restoreEmptyCompartments();var I=this.getObjectArray(this.varIndices),B=this.getObjectArray(this.smpIndices);for(d=0;d<this.data.l.comp.length;d++){var N=this.layoutParams[d],F=(f=N.startingVarIndices,T=N.startingSmpIndices,N.startingGrpIndices),P=[];if(f){for(p=0;p<f.length;p++)I.hasOwnProperty(f[p])&&P.push(f[p]);N.varIndices=P}if(P=[],this.isGroupedData){if(F){for(p=0;p<F.length;p++)B.hasOwnProperty(F[p])&&P.push(F[p]);N.grpIndices=P}}else if(T){for(p=0;p<T.length;p++)B.hasOwnProperty(T[p])&&P.push(T[p]);N.smpIndices=P}}}}},this.resetFilters=function(t,e){var i=this,a=function(t){null!=e&&i[t].comp.length>0?(i[t].comp.splice(e,1),i[t].op.splice(e,1),i[t].value.splice(e,1),i[t].cases.splice(e,1),i[t].type.splice(e,1)):(i[t].comp=[],i[t].op=[],i[t].value=[],i[t].cases=[],i[t].type=[])},s=t?[t]:["filterSmpBy","filterVarBy","filterNodeBy","filterEdgeBy","filterFeatureBy"];this.hiddenLegends={};for(var r=0;r<s.length;r++)a(s[r]);delete this.data.bubble,delete this.data.tree},this.isHidden=function(t,e,i,a){return"Network"!=this.graphType&&("Boxplot"!=this.graphType||i?"Gantt"==this.graphType?i?this.hiddenLegends[i]:this.hiddenSmps[e]:"Dotplot"==this.graphType?i?this.hiddenLegends[i]:this.hiddenVars[t]||this.hiddenSmps[e]:"Bar"==this.graphType&&this.is3DPlot?i?this.hiddenLegends[i]:this.hiddenVars[t]:i?this.hiddenLegends[i]:this.isGroupedData&&this.hiddenGrps?this.hiddenVars[t]||this.hiddenGrps[e]:this.hiddenVars[t]||this.hiddenSmps[e]:this.showBoxplotOriginalData?null!=e?this.hiddenGrps?this.hiddenVars[t]||(a?this.hiddenGrps[e]:this.hiddenSmps[e]):this.hiddenVars[t]||this.hiddenSmps[e]:this.hiddenVars[t]:this.hiddenGrpsLayout?this.hiddenGrpsLayout[this.data.l.groupLayout[this.layoutCurrent][e]]:this.hiddenGrps?this.hiddenVars[t]||this.hiddenGrps[e]:this.hiddenVars[t]||this.hiddenSmps[e])}},CanvasXpress.prototype.initClusterUtils=function(){this.setDendrograms=function(){!this.smpDendrogramNewick||this.toDoFilter&&this.toDoFilter.hasOwnProperty("sample")||(this.smpDendrogram={},this.parseNewick(this.smpDendrogramNewick,"smpDendrogram")),!this.varDendrogramNewick||this.toDoFilter&&this.toDoFilter.hasOwnProperty("variable")||(this.varDendrogram={},this.parseNewick(this.varDendrogramNewick,"varDendrogram"))},this.parseNewick=function(t,e){var i=this,a=0,s=[],r={},n=0,o=0,h=0,l=0,c=[],d=0,p=0;this[e+"NodeId"]=0;for(var g=t.split(/\s*(;|\(|\)|,|:)\s*/),u=function(t){for(var e=[],a=0;a<t.length;a++)e.push(t[a].mid);return i.mean(e)},m=function(t){if(t.children){t.depth=o++,d=Math.max(d,t.depth);for(var e=0;e<t.children.length;e++)m(t.children[e]),t.children[e].children&&(t.children[e].mid=u(t.children[e].children));o--,l++}else t.depth=o,h++},f=function(t){if(t.children)for(var e=0;e<t.children.length;e++)f(t.children[e]),t.children[e].children&&(t.children[e].len=1+d-t.children[e].depth);else t.len=1+d-t.depth},y=0;y<g.length;y++){if(a)return a<3?void this.parseNewick("("+t+")",e):(alert(e+"is not in a valid Newick format"),this[e]=!1,void("varDendrogram"==e?this.varDendrogramNewick=!1:this.smpDendrogramNewick=!1));var x=g[y];switch(x){case"(":var b={};r.children=[b],s.push(r),r=b;break;case",":if(s.length>0){b={};s[s.length-1].children.push(b),r=b}else a++;break;case")":(r=s.pop()).nodeId=this[e+"NodeId"]++;break;case":":break;default:var v=g[y-1];if(")"==v||"("==v||","==v){if(r.name=x,x&&!r.children){var A="smpDendrogram"==e?this.getSampleIndices(x):this.getVariableIndices(x);-1==A?(A=parseInt(x),r.name="smpDendrogram"==e?this.data.y.smps[A]:this.data.y.vars[A],r.idx=A):r.idx=A,c.push(r.idx),r.ord=n++,r.mid=r.ord}}else":"==v&&(r.height=parseFloat(x),p++)}}m(r),f(r),r.max=d+1,r.leafs=h,r.useHeight=p==l,r.mid=u(r.children),r.axis=e,this[e]=r;var w,C="varDendrogram"==e?"variable":"sample",T="varDendrogram"==e?"showVarDendrogram":"showSmpDendrogram",S="varDendrogram"==e?"vars":"smps",D="varDendrogram"==e?"varIndices":"smpIndices",M="varDendrogram"==e?"varIndicesStart":this.isGroupedData?"grpIndicesStart":"smpIndicesStart";if(this[T])if(this[M]<0)h!=this.data.y[S].length?(w="Dude! The length of the "+C+" nodes in the dendrogram ("+h+") is different to that one in the data ("+this.data.y[S].length+"). This ain't gonna work!",this.logConsole(w),this.verbose&&this.flashInfoSpan(100,100,w,3e3),this[T]=!1):h!=this[D].length?(w="Ooops! Cannot show dendrogram with "+h+" nodes when only "+this[D].length+" "+C+" are visible.",this.logConsole(w),this.verbose&&this.flashInfoSpan(100,100,w,3e3),this[T]=!1):this[D]=c;else{var k=this[M]+this[D].length;this[D]=[];for(y=this[M];y<k;y++)this[D].push(c[y])}else if(this[M]<0)this[D]=c;else{k=this[M]+this[D].length;this[D]=[];for(y=this[M];y<k;y++)this[D].push(c[y])}},this.writeNewick=function(t){var e="";if(t.children){for(var i=[],a=0;a<t.children.length;a++)i.push(this.writeNewick(t.children[a]));i.length>0&&(e="("+i.join(",")+")")}else e=t.idx;return t.height&&(e+=":"+this.sprintf("%.1f",t.height)),e},this.euclidianDistance=function(t,e){t=this.filterNumbers(t,!0),e=this.filterNumbers(e,!0);var i=0;if(t.length==e.length){for(var a=0;a<t.length;a++)i+=Math.pow(t[a]-e[a],2);i=Math.sqrt(i)}return i},this.manhattanDistance=function(t,e){t=this.filterNumbers(t,!0),e=this.filterNumbers(e,!0);var i=0;if(t.length==e.length)for(var a=0;a<t.length;a++)i+=Math.abs(t[a]-e[a]);return i},this.maxDistance=function(t,e){t=this.filterNumbers(t,!0),e=this.filterNumbers(e,!0);var i=0;if(t.length==e.length)for(var a=0;a<t.length;a++)i=Math.max(i,Math.abs(t[a]-e[a]));return i},this.classifyKmeansVector=function(t,e){for(var i=Number.POSITIVE_INFINITY,a=0,s=0;s<e.length;s++){var r=this[this.distance+"Distance"](t,e[s]);r<i&&(i=r,a=s)}return a},this.addVectors=function(t,e){t=this.filterNumbers(t,!0),e=this.filterNumbers(e,!0);var i=[];if(t.length==e.length)for(var a=0;a<t.length;a++)i.push(t[a]+e[a]);return i},this.compareVectors=function(t,e){if(this.isArray(t)&&this.isArray(e)){if(t.length!=e.length)return!1;for(var i=0;i<t.length;i++){if(this.isArray(t[i])&&this.isArray(e[i])&&!this.compareArrays(t[i],e[i]))return!1;if(t[i]!==e[i])return!1}return!0}},this.vectorDotProduct=function(t,e){t=this.filterNumbers(t,!0),e=this.filterNumbers(e,!0);var i=0;if(t.length==e.length)for(var a=0;a<t.length;a++)i+=t[a]*e[a];return i},this.multiplyVectorByValue=function(t,e){t=this.filterNumbers(t,!0);for(var i=0;i<t.length;i++)t[i]*=e;return t},this.getCentroid=function(t,e,i,a){var s=[];if(e.length==a.length)for(var r=t+i,n=0;n<e.length;n++)s.push((t*e[n]+i*a[n])/r);return s},this.createClusterNode=function(t,e,i,a,s,r){var n={id:t,left:e,right:i,dist:a,centroid:s};return null!=r&&(n.mid=r),null==e&&null==i?(n.size=1,n.depth=0):(n.size=e.size+i.size,n.depth=1+Math.max(e.depth,i.depth)),n},this.createRandomCentroids=function(t){var e=this,i=t.slice(0);return i.sort((function(){return Math.round(e.random())-.5})),i.slice(0,"samples"==this.clusterAxis?this.kmeansSmpClusters:this.kmeansVarClusters)},this.createRandomVectors=function(t,e){var i=e.length;if(t>i)return null;for(var a,s,r=[],n=[],o={},h=0,l=0;l<t;){if(h==i)return null;var c=Math.floor(this.random()*i);if(!(c in o)){o[c]=1,h++,a=e[c],s=!0;for(var d=0;d<l;d++)if(this.compareVectors(a,r[d])){s=!1;break}s&&(r[l]=a,n[l]=c,l++)}}return{vectors:r,indices:n}},this.imputeDatum=function(t){var e=[];if("samples"==this.clusterAxis)for(var i=0;i<this.varIndices.length;i++){var a=this.varIndices[i];e.push(this.data.y.data[a][t])}else for(i=0;i<this.smpIndices.length;i++){a=this.smpIndices[i];e.push(this.data.y.data[t][a])}return this[this.imputeMethod](e)},this.getIdsForClustering=function(){var t=[];if("samples"==this.clusterAxis)for(var e=0;e<this.smpIndices.length;e++){var i=this.smpIndices[e],a=this.getSampleIndices(i);t[e]=-1==a?i:this.data.y.smps[i]}else for(e=0;e<this.varIndices.length;e++){i=this.varIndices[e],a=this.getVariableIndices(i);t[e]=-1==a?i:this.data.y.smps[i]}return t},this.getDataForClustering=function(){var t=[],e=[];if("samples"==this.clusterAxis){for(var i=0;i<this.smpIndices.length;i++)t[i]=[];for(i=0;i<this.varIndices.length;i++)for(var a=this.varIndices[i],s=0;s<this.smpIndices.length;s++){var r=this.smpIndices[s],n=this.data.y.data[a][r];isNaN(n)&&(e[s]||(e[s]=this.imputeDatum(r)),n=e[s]),t[s][i]=n}}else{for(i=0;i<this.varIndices.length;i++)t[i]=[];for(i=0;i<this.varIndices.length;i++)for(a=this.varIndices[i],s=0;s<this.smpIndices.length;s++){r=this.smpIndices[s],n=this.data.y.data[a][r];isNaN(n)&&(e[i]||(e[i]=this.imputeDatum(a)),n=e[i]),t[i][s]=n}}return t},this.cluster=function(){var t,e=function(){var t=o[g][0].id,e=o[u][0].id;return t<0&&e>=0||(t<0&&e<0?e>t:t>=0&&e>=0&&t>e)},i=this.getDataForClustering(),a=this.getIdsForClustering(),s=[],r=[],n=[],o=[];this.meta.tree||(this.meta.tree={});var h=this.meta.tree;h[this.clusterAxis]=[];for(var l=0;l<i.length;l++)s[l]=[];s[0][0]=Number.POSITIVE_INFINITY;for(l=0;l<i.length-1;l++)for(var c=l+1;c<i.length;c++)s[c][c]=Number.POSITIVE_INFINITY,s[l][c]=this[this.distance+"Distance"](i[l],i[c]),s[c][l]=s[l][c];for(l=0;l<i.length;l++){r[l]=0;for(c=0;c<i.length;c++)s[l][r[l]]>s[l][c]&&(r[l]=c)}for(l=0;l<i.length;l++)o[l]=[],o[l][0]=this.createClusterNode(a[l],null,null,0,i[l]),n[l]=1;for(var d=-1,p=0;p<i.length-1;p++){var g=0;for(l=0;l<i.length;l++)s[l][r[l]]<s[g][r[g]]&&(g=l);var u=r[g];if(e()){var m=u;u=g,g=m}var f=o[g][0],y=o[u][0],x=this.getCentroid(f.size,f.centroid,y.size,y.centroid),b=this.createClusterNode(d,f,y,s[g][u],x);o[g].splice(0,0,b);for(c=0;c<i.length;c++)"single"==this.linkage?s[g][c]>s[u][c]&&(s[c][g]=s[g][c]=s[u][c]):"complete"==this.linkage?s[g][c]<s[u][c]&&(s[c][g]=s[g][c]=s[u][c]):"average"==this.linkage&&(s[c][g]=s[g][c]=(n[g]*s[g][c]+n[u]*s[u][c])/(n[g]+n[u]));n[g]+=n[u],s[g][g]=Number.POSITIVE_INFINITY;for(l=0;l<i.length;l++)s[l][u]=s[u][l]=Number.POSITIVE_INFINITY;for(c=0;c<i.length;c++)r[c]==u&&(r[c]=g);for(c=0;c<i.length;c++)for(var v=0;v<i.length;v++)s[v][c]<s[v][r[v]]&&(r[v]=c);t=b,h[this.clusterAxis].push([f.id,y.id,t.dist]),d--}return this.writeNewickCluster(t,!0)},this.isLeafNode=function(t){return null==t.left&&null==t.right},this.writeNewickCluster=function(t,e,i){var a="",s="",r=!1;if(this.isLeafNode(t))r=!0,a=isNaN(t.id)?"variables"==this.clusterAxis?this.getVariableIndices(t.id):this.getSampleIndices(t.id):t.id;else{var n=this.writeNewickCluster(t.left,e,!0),o=this.writeNewickCluster(t.right,e,!1);if(t.mid)for(var h=0;h<t.mid.length;h++)e&&t.mid[h].dist?s+=","+t.mid[h].id+":"+t.mid[h].dist:s+=","+t.mid[h].id,s+=t.mid[h].id;a="("+n+s+","+o+")"}return e&&!r&&(a+=":"+this.sprintf("%.1f",t.dist)),a},this.kmeans=function(){for(var t=this.getDataForClustering(),e=this.createRandomCentroids(t),i=new Array(t.length),a="samples"==this.clusterAxis?this.kmeansSmpClusters:this.kmeansVarClusters,s=new Array(a),r=0,n=!0;n;){for(var o=0;o<t.length;o++)i[o]=this.classifyKmeansVector(t[o],e);n=!1;for(var h=0;h<a;h++){var l=[];for(o=0;o<i.length;o++)i[o]==h&&l.push(t[o]);if(l.length){for(var c=e[h],d=new Array(c.length),p=0;p<c.length;p++){var g=0;for(o=0;o<l.length;o++)isNaN(l[o][p])||(g+=l[o][p]);d[p]=g/l.length,d[p]!=c[p]&&(n=!0)}e[h]=d,s[h]=l}}++r>this.maxIterations&&(n=!1)}var u=[];for(o=0;o<a;o++)u[o]={distance:this[this.distance+"Distance"](e[0],e[o]),assign:o};u=u.sort((function(t,e){return t.distance-e.distance}));var m={};for(o=0;o<u.length;o++)m[u[o].assign]=o;for(o=0;o<i.length;o++){var f=m[i[o]]+1;i[o]=f>9?"K"+f:"K-0"+f}return i}},CanvasXpress.prototype.initSortUtils=function(){this.sortNetworkIndices=function(t){if(!this.isTransition()){for(var e=this.data[this.networkShowDataTable],i=t,a=[],s=[],r=0;r<e.length;r++)a.push(r),s.push(e[r][i]?e[r][i]:null);if(this.isNumeric(s)){var n=-1*Number.MAX_VALUE;a.sort((function(t,e){return(s[t]||n)-(s[e]||n)}))}else a.sort((function(t,e){return s[t]>s[e]?1:s[t]<s[e]?-1:0}));var o=[];for(r=0;r<e.length;r++)o.push(e[a[r]]);"ascending"==this.sortDir&&o.reverse(),this.data[this.networkShowDataTable]=o,"nodes"==this.networkShowDataTable&&this.setNodeIndices(),this.draw({func:"sortNetworkIndices",par:[t]})}},this.sortOncoprint=function(){this.isOncoprint&&(this.sortIndices("smps","desc",["Altered-Smps"]),this.sortIndices("vars","desc",["Altered-Vars"]))},this.sortIndices=function(t,e,i,a,s,r){for(var n,o=this.sortCaseSensitive,h=function(t,e){return null==t&&(t=""),null==e&&(e=""),o?t.toString().localeCompare(e.toString()):t.toString().toLowerCase().localeCompare(e.toString().toLowerCase())},l="",c=[],d=this.meta.data,p=[],g=0;g<this.varIndices.length;g++)p.push(this.varIndices[g]);p.sort((function(t,e){return t-e}));var u=[];for(g=0;g<this.smpIndices.length;g++)u.push(this.smpIndices[g]);u.sort((function(t,e){return t-e}));var m=[];if(this.grpIndices&&this.grpIndices.length)for(g=0;g<this.grpIndices.length;g++)m.push(this.grpIndices[g]);else this.isGroupedData&&this.data.w&&(m=this.data.w.grpIdxs);if(i&&(i=this.toArray(i)),a&&(a=this.toArray(a)),s&&(s=this.toArray(s)),e||(e=this.sortDir),i&&"vars"==t){for(g=0;g<i.length;g++){var f=i[g];c.push(this.data.z[f]),l+="Numeric"==d.z[f].type?"N":"S"}n="varIndices"}else if(i&&"smps"==t){this.isGroupedData&&(this.isGroupedData=!1,this.sortIndices(t,e,i,a,s,r),this.isGroupedData=!0);for(g=0;g<i.length;g++){f=i[g];c.push(this.isGroupedData?this.data.w.factors[f]:this.data.x[f]),l+="Numeric"==d.x[f].type?"N":"S"}n=this.isGroupedData?"grpIndices":"smpIndices"}else if(r)if("varIndex"==r||"smpIndex"==r||"grpIndex"==r){if(b="grpIndex"==r?m:"smpIndex"==r?u:p,n="grpIndex"==r?"grpIndices":"smpIndex"==r?"smpIndices":"varIndices",b="ascending"==this.sortDir?b.sort((function(t,e){return t-e})):b.sort((function(t,e){return e-t})),this[n]=b,this.layoutValid&&this.layoutParams)for(g=0;g<this.layoutParams.length;g++)this.layoutParams[g][n]="ascending"==this.sortDir?this.layoutParams[g][n].sort((function(t,e){return t-e})):this.layoutParams[g][n].sort((function(t,e){return e-t})),this.layoutParams[g].dragged=!0;l="I"}else{g=a?parseInt(this.getVariableIndices(a[0])):parseInt(this.getSampleIndices(s[0]));c.push(this.data.y[r][g]),l="N"}else if(a){for(g=0;g<a.length;g++)c.push(this.getDataForSmpGrpAtIndex(a[g]-1,p,r)),l+="N";n="varIndices"}else if(s){this.isGroupedData&&(this.isGroupedData=!1,this.sortIndices(t,e,i,a,s,r),this.isGroupedData=!0);var y=this.isGroupedData&&"iqr"==this.summaryType?this.data.w.median:this.isGroupedData?this.data.w[this.summaryType]:r?this.data.y[r]:this.data.y.data;for(g=0;g<s.length;g++){var x=s[g]-1;y[x]||(x=0),c.push(y[x]),l+="N"}n=this.isGroupedData?"grpIndices":"smpIndices"}else this.isGroupedData&&(this.isGroupedData=!1,this.sortIndices(t,e,i,a,s,r),this.isGroupedData=!0),c.push(this.isGroupedData?this.data.w.smps:"vars"==t?this.data.y.vars:this.data.y.smps),n=this.isGroupedData?"grpIndices":"vars"==t?"varIndices":"smpIndices",l="S";var b="grpIndices"==n?m:"smpIndices"==n?u:p,v=-1*Number.MAX_VALUE;switch(l){case"I":break;case"S":if(b.sort((function(t,e){return h(c[0][t],c[0][e])||t-e})),this.layoutValid&&this.layoutParams)for(g=0;g<this.layoutParams.length;g++)this.layoutParams[g][n].sort((function(t,e){return h(c[0][t],c[0][e])||t-e})),this.layoutParams[g].dragged=!0;break;case"N":if(b.sort((function(t,e){return(c[0][t]||v)-(c[0][e]||v)||t-e})),this.layoutValid&&this.layoutParams)for(g=0;g<this.layoutParams.length;g++)this.layoutParams[g][n].sort((function(t,e){return(c[0][t]||v)-(c[0][e]||v)||t-e})),this.layoutParams[g].dragged=!0;break;case"SS":if(b.sort((function(t,e){return h(c[0][t],c[0][e])||h(c[1][t],c[1][e])||t-e})),this.layoutValid&&this.layoutParams)for(g=0;g<this.layoutParams.length;g++)this.layoutParams[g][n].sort((function(t,e){return h(c[0][t],c[0][e])||h(c[1][t],c[1][e])||t-e})),this.layoutParams[g].dragged=!0;break;case"SN":if(b.sort((function(t,e){return h(c[0][t],c[0][e])||(c[1][t]||v)-(c[1][e]||v)||t-e})),this.layoutValid&&this.layoutParams)for(g=0;g<this.layoutParams.length;g++)this.layoutParams[g][n].sort((function(t,e){return h(c[0][t],c[0][e])||(c[1][t]||v)-(c[1][e]||v)||t-e})),this.layoutParams[g].dragged=!0;break;case"NN":if(b.sort((function(t,e){return(c[0][t]||v)-(c[0][e]||v)||(c[1][t]||v)-(c[1][e]||v)||t-e})),this.layoutValid&&this.layoutParams)for(g=0;g<this.layoutParams.length;g++)this.layoutParams[g][n].sort((function(t,e){return(c[0][t]||v)-(c[0][e]||v)||(c[1][t]||v)-(c[1][e]||v)||t-e})),this.layoutParams[g].dragged=!0;break;case"NS":if(b.sort((function(t,e){return(c[0][t]||v)-(c[0][e]||v)||h(c[1][t],c[1][e])||t-e})),this.layoutValid&&this.layoutParams)for(g=0;g<this.layoutParams.length;g++)this.layoutParams[g][n].sort((function(t,e){return(c[0][t]||v)-(c[0][e]||v)||h(c[1][t],c[1][e])||t-e})),this.layoutParams[g].dragged=!0;break;case"SSS":if(b.sort((function(t,e){return h(c[0][t],c[0][e])||h(c[1][t],c[1][e])||h(c[2][t],c[2][e])||t-e})),this.layoutValid&&this.layoutParams)for(g=0;g<this.layoutParams.length;g++)this.layoutParams[g][n].sort((function(t,e){return h(c[0][t],c[0][e])||h(c[1][t],c[1][e])||h(c[2][t],c[2][e])||t-e})),this.layoutParams[g].dragged=!0;break;case"SSN":if(b.sort((function(t,e){return h(c[0][t],c[0][e])||h(c[1][t],c[1][e])||(c[2][t]||v)-(c[2][e]||v)||t-e})),this.layoutValid&&this.layoutParams)for(g=0;g<this.layoutParams.length;g++)this.layoutParams[g][n].sort((function(t,e){h(c[0][t],c[0][e])||h(c[1][t],c[1][e])||(c[2][t],c[2][e])})),this.layoutParams[g].dragged=!0;break;case"SNS":if(b.sort((function(t,e){return h(c[0][t],c[0][e])||(c[1][t]||v)-(c[1][e]||v)||h(c[2][t],c[2][e])||t-e})),this.layoutValid&&this.layoutParams)for(g=0;g<this.layoutParams.length;g++)this.layoutParams[g][n].sort((function(t,e){return h(c[0][t],c[0][e])||(c[1][t]||v)-(c[1][e]||v)||h(c[2][t],c[2][e])||t-e})),this.layoutParams[g].dragged=!0;break;case"NSS":if(b.sort((function(t,e){return(c[0][t]||v)-(c[0][e]||v)||h(c[1][t],c[1][e])||h(c[2][t],c[2][e])||t-e})),this.layoutValid&&this.layoutParams)for(g=0;g<this.layoutParams.length;g++)this.layoutParams[g][n].sort((function(t,e){return(c[0][t]||v)-(c[0][e]||v)||h(c[1][t],c[1][e])||h(c[2][t],c[2][e])||t-e})),this.layoutParams[g].dragged=!0;break;case"NNN":if(b.sort((function(t,e){return(c[0][t]||v)-(c[0][e]||v)||(c[1][t]||v)-(c[1][e]||v)||(c[2][t]||v)-(c[2][e]||v)||t-e})),this.layoutValid&&this.layoutParams)for(g=0;g<this.layoutParams.length;g++)this.layoutParams[g][n].sort((function(t,e){return(c[0][t]||v)-(c[0][e]||v)||(c[1][t]||v)-(c[1][e]||v)||(c[2][t]||v)-(c[2][e]||v)||t-e})),this.layoutParams[g].dragged=!0;break;case"NNS":if(b.sort((function(t,e){return(c[0][t]||v)-(c[0][e]||v)||(c[1][t]||v)-(c[1][e]||v)||h(c[2][t],c[2][e])||t-e})),this.layoutValid&&this.layoutParams)for(g=0;g<this.layoutParams.length;g++)this.layoutParams[g][n].sort((function(t,e){return(c[0][t]||v)-(c[0][e]||v)||(c[1][t]||v)-(c[1][e]||v)||h(c[2][t],c[2][e])||t-e})),this.layoutParams[g].dragged=!0;break;case"NSN":if(b.sort((function(t,e){return(c[0][t]||v)-(c[0][e]||v)||h(c[1][t],c[1][e])||(c[2][t]||v)-(c[2][e]||v)||t-e})),this.layoutValid&&this.layoutParams)for(g=0;g<this.layoutParams.length;g++)this.layoutParams[g][n].sort((function(t,e){return(c[0][t]||v)-(c[0][e]||v)||h(c[1][t],c[1][e])||(c[2][t]||v)-(c[2][e]||v)||t-e})),this.layoutParams[g].dragged=!0;break;case"SNN":if(b.sort((function(t,e){return h(c[0][t],c[0][e])||(c[1][t]||v)-(c[1][e]||v)||(c[2][t]||v)-(c[2][e]||v)||t-e})),this.layoutValid&&this.layoutParams)for(g=0;g<this.layoutParams.length;g++)this.layoutParams[g][n].sort((function(t,e){return h(c[0][t],c[0][e])||(c[1][t]||v)-(c[1][e]||v)||(c[2][t]||v)-(c[2][e]||v)||t-e})),this.layoutParams[g].dragged=!0}if("ascending"!=e&&"asc"!=e&&"I"!=l&&(b.reverse(),this.layoutValid&&this.layoutParams))for(g=0;g<this.layoutParams.length;g++)this.layoutParams[g][n].reverse(),this.layoutParams[g].dragged=!0;this.sorting=[t,e,i,a,s,r],this[n]=b,this.isGroupedData&&"grpIndices"==n&&this.data.w&&this[n].length==this.data.w.grpIdxs.length&&(this.data.w.grpIdxs=this.cloneObject(b))},this.sortArray=function(t,e){var i=[];if(t.length!=e.length)return t;for(var a=0;a<t.length;a++){if(!t[e[a]])return t;i[a]=t[e[a]]}return i},this.isAsciiArray=function(t){return!this.isNumeric(t)},this.sortObject=function(t){var e=Object.keys(t);return this.isAsciiArray(e)?this.sortCaseSensitive?e.sort():e.sort((function(t,e){return t.toLowerCase().localeCompare(e.toLowerCase())})):e.sort((function(t,e){return t-e}))},this.stringRangeSort=function(t){for(var e,i={},a=0;a<t.length;a++)if(t[a].match(/^\d+\-\d+/))e=t[a].split(/\-/),i[a]=Number(e[0]);else if(t[a].match(/^\>\d+/))e=t[a].split(/\>/),i[a]=Number(e[1])+1e-8;else if(t[a].match(/^\<\d+/))e=t[a].split(/\</),i[a]=Number(e[1])-1e-8;else{if(!t[a].match(/^\d+/))return t.sort();e=t[a],i[a]=e}return t.sort((function(t,e){i[t],i[e]})),t},this.resetSorting=function(){delete this.sorting},this.radixSort=function(t){var e,i,a,s,r,n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],o=new Int32Array(t.length),h=[].concat(n),l=[].concat(n),c=[].concat(n),d=[].concat(n),p=0,g=0,u=0,m=0;for(r=0;r<t.length;r++)e=255&t[r],i=t[r]>>8&255,a=t[r]>>16&255,s=t[r]>>24&255^128,h[e]++,l[i]++,c[a]++,d[s]++;for(r=0;r<256;r++)e=p+h[r],i=g+l[r],a=u+c[r],s=m+d[r],h[r]=p,l[r]=g,c[r]=u,d[r]=m,p=e,g=i,u=a,m=s;for(r=0;r<t.length;r++)o[h[e=255&t[r]]]=t[r],h[e]++;for(r=0;r<t.length;r++)t[l[i=o[r]>>8&255]]=o[r],l[i]++;for(r=0;r<t.length;r++)o[c[a=t[r]>>16&255]]=t[r],c[a]++;for(r=0;r<t.length;r++)t[d[s=o[r]>>24&255^128]]=o[r],d[s]++;return t},this.resortData=function(){for(var t={y:{vars:[],smps:[],data:[]}},e=[],i=[],a=(this.data.l,0);a<this.varIndices.length;a++){var s=this.varIndices[a];t.y.vars[a]=this.data.y.vars[s],e.push(a)}for(var r=0;r<this.smpIndices.length;r++){var n=this.smpIndices[r];t.y.smps[r]=this.data.y.smps[n],i.push(r)}for(a=0;a<this.varIndices.length;a++){s=this.varIndices[a];t.y.data[a]=[];for(r=0;r<this.smpIndices.length;r++){n=this.smpIndices[r];t.y.data[a][r]=this.data.y.data[s][n]}}if(this.data.x)for(var a in t.x={},this.data.x){t.x[a]=[];for(r=0;r<this.smpIndices.length;r++){n=this.smpIndices[r];t.x[a][r]=this.data.x[a][n]}}if(this.data.z)for(var a in t.z={},this.data.z){t.z[a]=[];for(r=0;r<this.varIndices.length;r++){n=this.varIndices[r];t.z[a][r]=this.data.z[a][n]}}this.data=t,this.varIndices=e,this.smpIndices=i,this.startingVarIndices=e,this.startingSmpIndices=i,this.isGroupedData&&(this.isGroupedData=!1,this.groupSamples(this.groupingFactors,!1,!1,!1,!0)),this.segregateVariablesBy.length+this.segregateSamplesBy.length>0&&this.segregateVariablesAndOrSamples(this.segregateVariablesBy,this.segregateSamplesBy)}},CanvasXpress.prototype.initNumeric=function(){this.numeric=function(t,e){Array.prototype.indexOf&&Array.prototype.indexOf;var i=function(t){var e;return"object"==typeof t?"object"==typeof(e=t[0])?"object"==typeof e[0]?function(t){for(var e=[];"object"==typeof t;)e.push(t.length),t=t[0];return e}(t):[t.length,e.length]:[t.length]:[]},a=function(t,e,i){void 0===i&&(i=0);var s,r=t[i],n=Array(r);if(i===t.length-1){for(s=r-2;s>=0;s-=2)n[s+1]=e,n[s]=e;return-1===s&&(n[0]=e),n}for(s=r-1;s>=0;s--)n[s]=a(t,e,i+1);return n},s=function(t,e){var a=function(t,e,i){var a;for(a=t.length-1;a>0;--a)i[a]=t[a][e],i[--a]=t[a][e];0===a&&(i[0]=t[0][e])},s=function(t,e){var i,a,s=t.length,r=t[s-1]*e[s-1];for(i=s-2;i>=1;i-=2)a=i-1,r+=t[i]*e[i]+t[a]*e[a];return 0===i&&(r+=t[0]*e[0]),r},r=i;switch(1e3*r(t).length+r(e).length){case 2002:return e.length<10?function(t,e){var i,a,s,r,n,o,h,l,c,d,p;for(r=t.length,n=e.length,o=e[0].length,h=Array(r),i=r-1;i>=0;i--){for(l=Array(o),c=t[i],s=o-1;s>=0;s--){for(d=c[n-1]*e[n-1][s],a=n-2;a>=1;a-=2)p=a-1,d+=c[a]*e[a][s]+c[p]*e[p][s];0===a&&(d+=c[0]*e[0][s]),l[s]=d}h[i]=l}return h}(t,e):function(t,e){var i,r,n,o=a,h=e.length,l=Array(h),c=t.length,d=e[0].length,p=new Array(c),g=s;for(--h,r=--c;-1!==r;--r)p[r]=Array(d);for(r=--d;-1!==r;--r)for(o(e,r,l),n=c;-1!==n;--n)0,i=t[n],p[n][r]=g(i,l);return p}(t,e);case 2001:return function(t,e){var i,a=t.length,r=(e.length,Array(a));for(i=a-1;i>=0;i--)r[i]=s(t[i],e);return r}(t,e);case 1002:return function(t,e){var i,a,s,r,n,o,h;for(s=t.length,r=e[0].length,n=Array(r),a=r-1;a>=0;a--){for(o=t[s-1]*e[s-1][a],i=s-2;i>=1;i-=2)h=i-1,o+=t[i]*e[i][a]+t[h]*e[h][a];0===i&&(o+=t[0]*e[0][a]),n[a]=o}return n}(t,e);case 1001:return s(t,e);case 1e3:return mulVS(t,e);case 1:return mulSV(t,e);case 0:return t*e;default:throw new Error("dot only works on vectors and matrices")}},r=function(t){var e,i,a,s,r=t.length,n=Array(r);for(e=r-1;e>=0;e--){for(s=Array(r),i=e+2,a=r-1;a>=i;a-=2)s[a]=0,s[a-1]=0;for(a>e&&(s[a]=0),s[e]=t[e],a=e-1;a>=1;a-=2)s[a]=0,s[a-1]=0;0===a&&(s[0]=0),n[e]=s}return n},n=function(t){var e,i=Math.min(t.length,t[0].length),a=Array(i);for(e=i-1;e>=1;--e)a[e]=t[e][e],a[--e]=t[e][e];return 0===e&&(a[0]=t[0][0]),a},o=function(t){return r(a([t],1))},h=function(t,e,i,a,s){if(a===i.length-1)return s(t,e);var r,n=i[a],o=Array(n);for(r=n-1;r>=0;--r)o[r]=h("object"==typeof t?t[r]:t,"object"==typeof e?e[r]:e,i,a+1,s);return o},l=function(t,e,i,a){if(i===e.length-1)return a(t);var s,r=e[i],n=Array(r);for(s=r-1;s>=0;s--)n[s]=l(t[s],e,i+1,a);return n},c=function(){var t,e,a=function(t,e){var i,a=e.length,s=Array(a);for(i=a-1;-1!==i;--i)s[i]=t[i]+e[i];return s},s=function(t,e){var i,a=e.length,s=Array(a);for(i=a-1;-1!==i;--i)s[i]=t+e[i];return s},r=function(t,e){var i,a=t.length,s=Array(a);for(i=a-1;-1!==i;--i)s[i]=t[i]+e;return s},n=arguments.length,o=arguments[0],l=a,c=r,d=s;for(t=1;t!==n;++t)e=arguments[t],"object"==typeof o?o=h(o,e,i(o),0,"object"==typeof e?l:c):"object"==typeof e?o=h(o,e,i(e),0,d):o+=e;return o},d=function(){var t,e,a=function(t,e){var i,a=e.length,s=Array(a);for(i=a-1;-1!==i;--i)s[i]=t[i]-e[i];return s},s=function(t,e){var i,a=e.length,s=Array(a);for(i=a-1;-1!==i;--i)s[i]=t-e[i];return s},r=function(t,e){var i,a=t.length,s=Array(a);for(i=a-1;-1!==i;--i)s[i]=t[i]-e;return s},n=arguments.length,o=arguments[0],l=a,c=r,d=s;for(t=1;t!==n;++t)e=arguments[t],"object"==typeof o?o=h(o,e,i(o),0,"object"==typeof e?l:c):"object"==typeof e?o=h(o,e,i(e),0,d):o-=e;return o},p=function(){var t,e,a=function(t,e){var i,a=e.length,s=Array(a);for(i=a-1;-1!==i;--i)s[i]=t[i]*e[i];return s},s=function(t,e){var i,a=e.length,s=Array(a);for(i=a-1;-1!==i;--i)s[i]=t*e[i];return s},r=function(t,e){var i,a=t.length,s=Array(a);for(i=a-1;-1!==i;--i)s[i]=t[i]*e;return s},n=arguments.length,o=arguments[0],l=a,c=r,d=s;for(t=1;t!==n;++t)e=arguments[t],"object"==typeof o?o=h(o,e,i(o),0,"object"==typeof e?l:c):"object"==typeof e?o=h(o,e,i(e),0,d):o*=e;return o},g=function(){var t,e,a=function(t,e){var i,a=e.length,s=Array(a);for(i=a-1;-1!==i;--i)s[i]=t[i]/e[i];return s},s=function(t,e){var i,a=e.length,s=Array(a);for(i=a-1;-1!==i;--i)s[i]=t/e[i];return s},r=function(t,e){var i,a=t.length,s=Array(a);for(i=a-1;-1!==i;--i)s[i]=t[i]/e;return s},n=arguments.length,o=arguments[0],l=a,c=r,d=s;for(t=1;t!==n;++t)e=arguments[t],"object"==typeof o?o=h(o,e,i(o),0,"object"==typeof e?l:c):"object"==typeof e?o=h(o,e,i(e),0,d):o/=e;return o},u=function(){var t,e,a=function(t,e){var i,a=e.length,s=Array(a);for(i=a-1;-1!==i;--i)s[i]=t[i]!==e[i];return s},s=function(t,e){var i,a=e.length,s=Array(a);for(i=a-1;-1!==i;--i)s[i]=t!==e[i];return s},r=function(t,e){var i,a=t.length,s=Array(a);for(i=a-1;-1!==i;--i)s[i]=t[i]!==e;return s},n=arguments.length,o=arguments[0],l=a,c=r,d=s;for(t=1;t!==n;++t)e=arguments[t],o="object"==typeof o?h(o,e,i(o),0,"object"==typeof e?l:c):"object"==typeof e?h(o,e,i(e),0,d):o!==e;return o},m=function(){var t,e,a=function(t,e){var i,a=e.length,s=Array(a),r=Math.atan2;for(i=a-1;-1!==i;--i)s[i]=r(t[i],e[i]);return s},s=function(t,e){var i,a=e.length,s=Array(a),r=Math.atan2;for(i=a-1;-1!==i;--i)s[i]=r(t,e[i]);return s},r=function(t,e){var i,a=t.length,s=Array(a),r=Math.atan2;for(i=a-1;-1!==i;--i)s[i]=r(t[i],e);return s},n=arguments.length,o=arguments[0],l=a,c=r,d=s;for(t=1;t!==n;++t)e=arguments[t],o="object"==typeof o?h(o,e,i(o),0,"object"==typeof e?l:c):"object"==typeof e?h(o,e,i(e),0,d):m(o,e);return o},f=function(t){if("object"!=typeof t)return-t;var e=function(t){var e,i=t.length,a=Array(i);for(e=i-1;-1!==e;--e)a[e]=-t[e];return a},a=i(t);return l(t,a,0,e)},y=function(t){if("object"!=typeof t)return t;var e=function(t){var e,i=t.length,a=Array(i);for(e=i-1;-1!==e;--e)a[e]=t[e];return a},a=i(t);return l(t,a,0,e)},x=function(t){if("object"!=typeof t)return x(t);var e=function(t){var e,i=t.length,a=Array(i),s=Math.abs;for(e=i-1;-1!==e;--e)a[e]=s(t[e]);return a},a=i(t);return l(t,a,0,e)},b=function(t){if("object"!=typeof t)return b(t);var e=function(t){var e,i=t.length,a=Array(i),s=Math.cos;for(e=i-1;-1!==e;--e)a[e]=s(t[e]);return a},a=i(t);return l(t,a,0,e)},v=function(t){if("object"!=typeof t)return v(t);var e=function(t){var e,i=t.length,a=Array(i),s=Math.exp;for(e=i-1;-1!==e;--e)a[e]=s(t[e]);return a},a=i(t);return l(t,a,0,e)},A=function(t){if("object"!=typeof t)return A(t);var e=function(t){var e,i=t.length,a=Array(i),s=Math.log;for(e=i-1;-1!==e;--e)a[e]=s(t[e]);return a},a=i(t);return l(t,a,0,e)},w=function(t){if("object"!=typeof t)return w(t);var e=function(t){var e,i=t.length,a=Array(i),s=Math.sin;for(e=i-1;-1!==e;--e)a[e]=s(t[e]);return a},a=i(t);return l(t,a,0,e)},C=function(t){if("object"!=typeof t)return C(t);var e=function(t){var e,i=t.length,a=Array(i),s=Math.sqrt;for(e=i-1;-1!==e;--e)a[e]=s(t[e]);return a},a=i(t);return l(t,a,0,e)},T=function(t,e,a){var s,r=function(t){var e,i,a=0;for(e=t.length-1;-1!==e;--e)a+=(i=t[e])*i;return a},n=0;if("object"!=typeof t)return n+=(s=t)*s;if(void 0===e&&(e=i(t)),void 0===a&&(a=0),a===e.length-1)return r(t);var o,h=t.length;for(o=h-1;-1!==o;--o)n+=(s=arguments.callee(t[o]))*s;return n},S=function(t){var e,i,a,s,r,n=t.length,o=t[0].length,h=Array(o);for(i=0;i<o;i++)h[i]=Array(n);for(e=n-1;e>=1;e-=2){for(s=t[e],a=t[e-1],i=o-1;i>=1;--i)(r=h[i])[e]=s[i],r[e-1]=a[i],(r=h[--i])[e]=s[i],r[e-1]=a[i];0===i&&((r=h[0])[e]=s[0],r[e-1]=a[0])}if(0===e){for(a=t[0],i=o-1;i>=1;--i)h[i][0]=a[i],h[--i][0]=a[i];0===i&&(h[0][0]=a[0])}return h},D=function(t){return Math.sqrt(T(t))},M=function(t,e,a){var s=i(t);return function t(i,r){var n,o=e[r],h=a[r]-o,l=Array(h);if(r===s.length-1){for(n=h;n>=0;n--)l[n]=i[n+o];return l}for(n=h;n>=0;n--)l[n]=t(i[n+o],r+1);return l}(t,0)},k=function(t,e,a,s){var r=i(t);return function t(i,s,n){var o,h=e[n],l=a[n]-h;if(n===r.length-1)for(o=l;o>=0;o--)i[o+h]=s[o];for(o=l;o>=0;o--)t(i[o+h],s[o],n+1)}(t,s,0),t},L=function(t,e){if("number"==typeof t||"number"==typeof e)return p(t,e);var a=i(t),s=i(e);if(1!==a.length||1!==s.length)throw new Error("numeric: tensor product is only defined for vectors");var r,n,o,h,l=a[0],c=s[0],d=Array(l);for(n=l-1;n>=0;n--){for(r=Array(c),h=t[n],o=c-1;o>=3;--o)r[o]=h*e[o],r[--o]=h*e[o],r[--o]=h*e[o],r[--o]=h*e[o];for(;o>=0;)r[o]=h*e[o],--o;d[n]=r}return d},I=function(t,e){this.x=t,this.y=e};(I.prototype={}).add=function(t){var e=this;return t instanceof I||(t=new I(t)),e.y?t.y?new I(c(e.x,t.x),c(e.y,t.y)):new I(c(e.x,t.x),e.y):t.y?new I(c(e.x,t.x),t.y):new I(c(e.x,t.x))},I.prototype.sub=function(t){var e=this;return t instanceof I||(t=new I(t)),e.y?t.y?new I(d(e.x,t.x),d(e.y,t.y)):new I(d(e.x,t.x),e.y):t.y?new I(d(e.x,t.x),f(t.y)):new I(d(e.x,t.x))},I.prototype.mul=function(t){var e=this;return t instanceof I||(t=new I(t)),e.y?t.y?new I(d(p(e.x,t.x),p(e.y,t.y)),c(p(e.x,t.y),p(e.y,t.x))):new I(p(e.x,t.x),p(e.y,t.x)):t.y?new I(p(e.x,t.x),p(e.x,t.y)):new I(p(e.x,t.x))},I.prototype.reciprocal=function(){if(this.y){var t=c(p(this.x,this.x),p(this.y,this.y));return new I(g(this.x,t),g(f(this.y),t))}return new I(g(1,this.x))},I.prototype.div=function(t){return t instanceof I||(t=new I(t)),t.y?this.mul(t.reciprocal()):this.y?new I(g(this.x,t.x),g(this.y,t.x)):new I(g(this.x,t.x))},I.prototype.dot=function(t){var e=this;return t instanceof I||(t=new I(t)),e.y?t.y?new I(d(s(e.x,t.x),s(e.y,t.y)),c(s(e.x,t.y),s(e.y,t.x))):new I(s(e.x,t.x),s(e.y,t.x)):t.y?new I(s(e.x,t.x),s(e.x,t.y)):new I(s(e.x,t.x))},I.prototype.transpose=function(){var t=S,e=this.x,i=this.y;return i?new I(t(e),t(i)):new I(t(e))},I.prototype.transjugate=function(){var t=S,e=this.x,i=this.y;return i?new I(t(e),function(t){var e,i,a,s,r,n=t.length,o=t[0].length,h=Array(o);for(i=0;i<o;i++)h[i]=Array(n);for(e=n-1;e>=1;e-=2){for(s=t[e],a=t[e-1],i=o-1;i>=1;--i)(r=h[i])[e]=-s[i],r[e-1]=-a[i],(r=h[--i])[e]=-s[i],r[e-1]=-a[i];0===i&&((r=h[0])[e]=-s[0],r[e-1]=-a[0])}if(0===e){for(a=t[0],i=o-1;i>=1;--i)h[i][0]=-a[i],h[--i][0]=-a[i];0===i&&(h[0][0]=-a[0])}return h}(i)):new I(t(e))},I.prototype.exp=function(){var t=this,e=v(t.x);return t.y?new I(p(b(t.y),e),p(w(t.y),e)):new I(e)},I.prototype.conj=function(){var t=this;return t.y?new I(t.x,f(t.y)):new I(t.x)},I.prototype.neg=function(){var t=this;return t.y?new I(f(t.x),f(t.y)):new I(f(t.x))},I.prototype.sin=function(){var t=this;return t.y?t.exp().sub(t.neg().exp()).div(new I(0,2)):new I(w(t.x))},I.prototype.cos=function(){var t=this;return t.y?t.exp().add(t.neg().exp()).div(2):new I(b(t.x))},I.prototype.abs=function(){var t=this;return t.y?new I(C(c(p(t.x,t.x),p(t.y,t.y)))):new I(x(t.x))},I.prototype.log=function(){var t=this;if(t.y){var e=new I(m(t.y,t.x)),i=t.abs();return new I(A(i.x),e.x)}return new I(A(t.x))},I.prototype.norm2=function(){var t=this;if(t.y){var e=T;return Math.sqrt(e(t.x)+e(t.y))}return D(t.x)},I.prototype.get=function(t){var e,i=this.x,a=this.y,s=0,r=t.length;if(a){for(;s<r;)i=i[e=t[s]],a=a[e],s++;return new I(i,a)}for(;s<r;)i=i[e=t[s]],s++;return new I(i)},I.prototype.set=function(t,e){var s,r=this.x,n=this.y,o=0,h=t.length,l=e.x,c=e.y;if(0===h)return c?this.y=c:n&&(this.y=void 0),this.x=r,this;if(c){for(n||(n=a(i(r),0),this.y=n);o<h-1;)r=r[s=t[o]],n=n[s],o++;return r[s=t[o]]=l,n[s]=c,this}if(n){for(;o<h-1;)r=r[s=t[o]],n=n[s],o++;return r[s=t[o]]=l,n[s]=l instanceof Array?a(i(l),0):0,this}for(;o<h-1;)r=r[s=t[o]],o++;return r[s=t[o]]=l,this},I.prototype.getRows=function(t,e){var i,a,s=e-t+1,r=Array(s),n=this.x,o=this.y;for(i=t;i<=e;i++)r[i-t]=n[i];if(o){for(a=Array(s),i=t;i<=e;i++)a[i-t]=o[i];return new I(r,a)}return new I(r)},I.prototype.setRows=function(t,e,s){var r,n=this.x,o=this.y,h=s.x,l=s.y;for(r=t;r<=e;r++)n[r]=h[r-t];if(l)for(o||(o=a(i(n),0),this.y=o),r=t;r<=e;r++)o[r]=l[r-t];else if(o)for(r=t;r<=e;r++)o[r]=a([h[r-t].length],0);return this},I.prototype.getRow=function(t){var e=this.x,i=this.y;return i?new I(e[t],i[t]):new I(e[t])},I.prototype.setRow=function(t,e){var s=this.x,r=this.y,n=e.x,o=e.y;return s[t]=n,o?(r||(r=a(i(s),0),this.y=r),r[t]=o):r&&(r=a([n.length],0)),this},I.prototype.getBlock=function(t,e){var i=this.x,a=this.y,s=M;return a?new I(s(i,t,e),s(a,t,e)):new I(s(i,t,e))},I.prototype.setBlock=function(t,e,s){s instanceof I||(s=new I(s));var r=this.x,n=this.y,o=k,h=s.x,l=s.y;if(l)return n||(this.y=a(i(this),0),n=this.y),o(r,t,e,h),o(n,t,e,l),this;o(r,t,e,h),n&&o(n,t,e,a(i(h),0))},I.rep=function(t,e){e instanceof I||(e=new I(e));var i=e.x,s=e.y,r=a;return s?new I(r(t,i),r(t,s)):new I(r(t,i))},I.diag=function(t){t instanceof I||(t=new I(t));var e=t.x,i=t.y;return i?new I(r(e),r(i)):new I(r(e))},I.eig=function(){if(this.y)throw new Error("eig: not implemented for complex matrices.");return F(this.x)},I.identity=function(t){return new I(o(t))},I.prototype.getDiag=function(){var t=this.x,e=this.y;return e?new I(n(t),n(e)):new I(n(t))};var B=function(t){var e=y(t),i=(t[0]>=0?1:-1)*D(t);e[0]+=i;var a=D(e);if(0===a)throw new Error("eig: internal error");return g(e,a)},N=function(t,e){void 0===e&&(e=1e4),t=y(t);y(t);var n,h,l,g,u,m,f,x,b,v,A,w,C,T,S,D,k,I,F=i(t)[0],P=o(F);if(F<3)return{Q:P,B:[[0,F-1]]};var R=2220446049250313e-31;for(I=0;I<e;I++){for(D=0;D<F-1;D++)if(Math.abs(t[D+1][D])<R*(Math.abs(t[D][D])+Math.abs(t[D+1][D+1]))){var O=N(M(t,[0,0],[D,D]),e),X=N(M(t,[D+1,D+1],[F-1,F-1]),e);for(w=Array(D+1),S=0;S<=D;S++)w[S]=P[S];for(C=s(O.Q,w),S=0;S<=D;S++)P[S]=C[S];for(w=Array(F-D-1),S=D+1;S<F;S++)w[S-D-1]=P[S];for(C=s(X.Q,w),S=D+1;S<F;S++)P[S]=C[S-D-1];return{Q:P,B:O.B.concat(c(X.B,D+1))}}var z,E,_;if(l=t[F-2][F-2],g=t[F-2][F-1],u=t[F-1][F-2],x=l+(m=t[F-1][F-1]),f=l*m-g*u,b=M(t,[0,0],[2,2]),x*x>=4*f)z=.5*(x+Math.sqrt(x*x-4*f)),E=.5*(x-Math.sqrt(x*x-4*f)),b=c(d(s(b,b),p(b,z+E)),r(a([3],z*E)));else b=c(d(s(b,b),p(b,x)),r(a([3],f)));for(n=[b[0][0],b[1][0],b[2][0]],h=B(n),w=[t[0],t[1],t[2]],C=L(h,s(h,w)),S=0;S<3;S++)for(A=t[S],T=C[S],k=0;k<F;k++)A[k]-=2*T[k];for(w=M(t,[0,0],[F-1,2]),C=L(s(w,h),h),S=0;S<F;S++)for(A=t[S],T=C[S],k=0;k<3;k++)A[k]-=2*T[k];for(w=[P[0],P[1],P[2]],C=L(h,s(h,w)),S=0;S<3;S++)for(v=P[S],T=C[S],k=0;k<F;k++)v[k]-=2*T[k];for(D=0;D<F-2;D++){for(k=D;k<=D+1;k++)if(Math.abs(t[k+1][k])<R*(Math.abs(t[k][k])+Math.abs(t[k+1][k+1]))){O=N(M(t,[0,0],[k,k]),e),X=N(M(t,[k+1,k+1],[F-1,F-1]),e);for(w=Array(k+1),S=0;S<=k;S++)w[S]=P[S];for(C=s(O.Q,w),S=0;S<=k;S++)P[S]=C[S];for(w=Array(F-k-1),S=k+1;S<F;S++)w[S-k-1]=P[S];for(C=s(X.Q,w),S=k+1;S<F;S++)P[S]=C[S-k-1];return{Q:P,B:O.B.concat(c(X.B,k+1))}}for(_=Math.min(F-1,D+3),n=Array(_-D),S=D+1;S<=_;S++)n[S-D-1]=t[S][D];for(h=B(n),w=M(t,[D+1,D],[_,F-1]),C=L(h,s(h,w)),S=D+1;S<=_;S++)for(A=t[S],T=C[S-D-1],k=D;k<F;k++)A[k]-=2*T[k-D];for(w=M(t,[0,D+1],[F-1,_]),C=L(s(w,h),h),S=0;S<F;S++)for(A=t[S],T=C[S],k=D+1;k<=_;k++)A[k]-=2*T[k-D-1];for(w=Array(_-D),S=D+1;S<=_;S++)w[S-D-1]=P[S];for(C=L(h,s(h,w)),S=D+1;S<=_;S++)for(v=P[S],T=C[S-D-1],k=0;k<F;k++)v[k]-=2*T[k]}}throw new Error("numeric: eigenvalue iteration does not converge -- increase maxiter?")},F=function(t,e){var a,r,n,h,l,c,d,p,g,m,f,x,b,v,A,w,C=function(t){var e=i(t);if(2!==e.length||e[0]!==e[1])throw new Error("numeric: toUpperHessenberg() only works on square matrices");var a,r,n,h,l,c,d,p,g,u,m=e[0],f=y(t),x=o(m);for(r=0;r<m-2;r++){for(h=Array(m-r-1),a=r+1;a<m;a++)h[a-r-1]=f[a][r];if(D(h)>0){for(l=B(h),c=M(f,[r+1,r],[m-1,m-1]),d=L(l,s(l,c)),a=r+1;a<m;a++)for(p=f[a],g=d[a-r-1],n=r;n<m;n++)p[n]-=2*g[n-r];for(c=M(f,[0,r+1],[m-1,m-1]),d=L(s(c,l),l),a=0;a<m;a++)for(p=f[a],g=d[a],n=r+1;n<m;n++)p[n]-=2*g[n-r-1];for(c=Array(m-r-1),a=r+1;a<m;a++)c[a-r-1]=x[a];for(d=L(l,s(l,c)),a=r+1;a<m;a++)for(u=x[a],g=d[a-r-1],n=0;n<m;n++)u[n]-=2*g[n]}}return{H:f,Q:x}}(t),T=N(C.H,e),k=t.length,F=T.B,P=s(T.Q,s(C.H,S(T.Q))),R=new I(s(T.Q,C.Q)),O=F.length,X=Math.sqrt;for(r=0;r<O;r++)if((a=F[r][0])===F[r][1]);else{if(h=a+1,l=P[a][a],c=P[a][h],d=P[h][a],p=P[h][h],0===c&&0===d)continue;(m=(g=-l-p)*g-4*(l*p-c*d))>=0?((A=(l-(f=g<0?-.5*(g-X(m)):-.5*(g+X(m))))*(l-f)+c*c)>(w=d*d+(p-f)*(p-f))?(b=(l-f)/(A=X(A)),v=c/A):(b=d/(w=X(w)),v=(p-f)/w),n=new I([[v,-b],[b,v]]),R.setRows(a,h,n.dot(R.getRows(a,h)))):(f=-.5*g,x=.5*X(-m),(A=(l-f)*(l-f)+c*c)>(w=d*d+(p-f)*(p-f))?(b=(l-f)/(A=X(A+x*x)),v=c/A,f=0,x/=A):(b=d/(w=X(w+x*x)),v=(p-f)/w,f=x/w,x=0),n=new I([[v,-b],[b,v]],[[f,x],[x,-f]]),R.setRows(a,h,n.dot(R.getRows(a,h))))}var z=R.dot(t).dot(R.transjugate()),E=(k=t.length,I.identity(k));for(h=0;h<k;h++)if(h>0)for(r=h-1;r>=0;r--){var _=z.get([r,r]),H=z.get([h,h]);u(_.x,H.x)||u(_.y,H.y)?(f=z.getRow(r).getBlock([r],[h-1]),x=E.getRow(h).getBlock([r],[h-1]),E.set([h,r],z.get([r,h]).neg().sub(f.dot(x)).div(_.sub(H)))):E.setRow(h,E.getRow(r))}for(h=0;h<k;h++)f=E.getRow(h),E.setRow(h,f.div(f.norm2()));return E=E.transpose(),E=R.transjugate().dot(E),{lambda:z.getDiag(),E:E}};switch(t){case"inv":return function(t){var e,a,s,r,n,h,l,c=i(t),d=Math.abs,p=c[0],g=c[1],u=y(t),m=o(p);for(h=0;h<g;++h){var f=-1,x=-1;for(n=h;n!==p;++n)(l=d(u[n][h]))>x&&(f=n,x=l);for(a=u[f],u[f]=u[h],u[h]=a,r=m[f],m[f]=m[h],m[h]=r,t=a[h],l=h;l!==g;++l)a[l]/=t;for(l=g-1;-1!==l;--l)r[l]/=t;for(n=p-1;-1!==n;--n)if(n!==h){for(e=u[n],s=m[n],t=e[h],l=h+1;l!==g;++l)e[l]-=a[l]*t;for(l=g-1;l>0;--l)s[l]-=r[l]*t,s[--l]-=r[l]*t;0===l&&(s[0]-=r[0]*t)}}return m}(e);case"eig":return F(e)}}},CanvasXpress.prototype.initjLouvain=function(){this.jLouvain=function(){var t,e,i,a={};function s(t){var e={};return t.forEach((function(t,i){e[t]=!0})),Object.keys(e)}function r(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(t[i]);return e}function n(t,e){var i=t._assoc_mat[e]?Object.keys(t._assoc_mat[e]):[],a=0;return i.forEach((function(i,s){var r=t._assoc_mat[e][i]||1;e==i&&(r*=2),a+=r})),a}function o(t,e){return void 0===t._assoc_mat[e]?[]:Object.keys(t._assoc_mat[e])}function h(t,e,i){return t._assoc_mat[e]?t._assoc_mat[e][i]:void 0}function l(t){var e={};return t.forEach((function(t,i){t.weight=t.weight||1,e[t.id1]=e[t.id1]||{},e[t.id1][t.id2]=t.weight,e[t.id2]=e[t.id2]||{},e[t.id2][t.id1]=t.weight})),e}function c(t){if(null==t||"object"!=typeof t)return t;var e=t.constructor();for(var i in t)e[i]=c(t[i]);return e}function d(t,e,i){e.nodes_to_com={},e.total_weight=0,e.internals={},e.degrees={},e.gdegrees={},e.loops={},e.total_weight=function(t){var e=0;return t.edges.forEach((function(t){e+=t.weight})),e}(t),void 0===i?t.nodes.forEach((function(i,a){e.nodes_to_com[i]=a;var s=n(t,i);if(s<0)throw"Bad graph type, use positive weights!";e.degrees[a]=s,e.gdegrees[i]=s,e.loops[i]=h(t,i,i)||0,e.internals[a]=e.loops[i]})):t.nodes.forEach((function(a,s){var r=i[a];e.nodes_to_com[a]=r;var h=n(t,a);e.degrees[r]=(e.degrees[r]||0)+h,e.gdegrees[a]=h;var l=0;o(t,a).forEach((function(e,s){var n=t._assoc_mat[a][e];if(n<=0)throw"Bad graph type, use positive weights";i[e]==r&&(l+=e==a?n:n/2)})),e.internals[r]=(e.internals[r]||0)+l}))}function p(t){var e=t.total_weight,i=0;return s(r(t.nodes_to_com)).forEach((function(a,s){var r=t.internals[a]||0,n=t.degrees[a]||0;e>0&&(i=i+r/e-Math.pow(n/(2*e),2))})),i}function g(t,e,i){var a={};return o(e,t).forEach((function(s,r){if(s!=t){var n=e._assoc_mat[t][s]||1,o=i.nodes_to_com[s];a[o]=(a[o]||0)+n}})),a}function u(t,e,i,a){a.nodes_to_com[t]=+e,a.degrees[e]=(a.degrees[e]||0)+(a.gdegrees[t]||0),a.internals[e]=(a.internals[e]||0)+i+(a.loops[t]||0)}function m(t,e,i,a){a.degrees[e]=(a.degrees[e]||0)-(a.gdegrees[t]||0),a.internals[e]=(a.internals[e]||0)-i-(a.loops[t]||0),a.nodes_to_com[t]=-1}function f(t){var e=0,i=c(t),a={};return Object.keys(t).forEach((function(s){var r=t[s],n=void 0===a[r]?-1:a[r];-1==n&&(a[r]=e,n=e,e+=1),i[s]=n})),i}function y(t,e){for(var i=!0,a=0,s=p(e),r=s;i&&-1!=a&&(s=r,i=!1,a+=1,t.nodes.forEach((function(a,s){var r=e.nodes_to_com[a],n=(e.gdegrees[a]||0)/(2*e.total_weight),o=g(a,t,e);m(a,r,o[r]||0,e);var h=r,l=0;Object.keys(o).forEach((function(t,i){var a=o[t]-(e.degrees[t]||0)*n;a>l&&(l=a,h=t)})),u(a,h,o[h]||0,e),h!=r&&(i=!0)})),!((r=p(e))-s<1e-7)););}function x(t,e){var i,a,n={nodes:[],edges:[],_assoc_mat:{}},o=r(t);return n.nodes=n.nodes.concat(s(o)),e.edges.forEach((function(e,s){a=e.weight||1;var r=t[e.id1],o=t[e.id2];i=h(n,r,o)||0,function(t,e){!function(t,e){t._assoc_mat[e.id1]=t._assoc_mat[e.id1]||{},t._assoc_mat[e.id1][e.id2]=e.weight,t._assoc_mat[e.id2]=t._assoc_mat[e.id2]||{},t._assoc_mat[e.id2][e.id1]=e.weight}(t,e);var i=t.edges.map((function(t){return t.id1+"_"+t.id2})).indexOf(e.id1+"_"+e.id2);-1!=i?t.edges[i].weight=e.weight:t.edges.push(e)}(n,{source:r,target:o,weight:i+a})})),n}var b=function(){var t=function(t,e){if(0==t.edges.length){var i={};return t.nodes.forEach((function(t,e){i[t]=t})),i}var s={};d(a,s,e);var r=p(s),n=[];y(a,s);var o=p(s),h=f(s.nodes_to_com);n.push(h),r=o;var l=x(h,a);for(d(l,s);y(l,s),!((o=p(s))-r<1e-7);)h=f(s.nodes_to_com),n.push(h),r=o,d(l=x(h,l),s);return n}(a,i);return function(t,e){for(var i=c(t[0]),a=1;a<e+1;a++)Object.keys(i).forEach((function(e,s){var r=e,n=i[e];i[r]=t[a][n]}));return i}(t,t.length-1)};return b.nodes=function(e){return arguments.length>0&&(t=e),b},b.edges=function(i){if(void 0===t)throw"Please provide the graph nodes first!";if(arguments.length>0){e=i;var s=l(i);a={nodes:t,edges:e,_assoc_mat:s}}return b},b.partition_init=function(t){return arguments.length>0&&(i=t),b},b}},CanvasXpress.prototype.initMathUtils=function(){this.isNaN=function(t){return!!isNaN(t)||(t==Number.POSITIVE_INFINITY||t==Number.NEGATIVE_INFINITY)},this.isInteger=function(t){return!isNaN(t)&&(0|(e=parseFloat(t)))===e;var e},this.isFinite=function(t){if(this.isArray(t)){for(var e=0;e<t.length;e++)if(!isFinite(t[e]))return!1;return!0}return isFinite(t)},this.getPolar=function(t,e,i,a){return{x:t+i*Math.cos(a*Math.PI/180),y:e+i*Math.sin(a*Math.PI/180)}},this.triCube=function(t){return(t=1-t*t*t)*t*t},this.degreesToArcLength=function(t,e){return t*e},this.radiansToArcLength=function(t,e){return t*Math.PI*e/180},this.arcLengthToDegrees=function(t,e){return 180*e/(t*Math.PI)},this.arcLengthToRadians=function(t,e){return e/t},this.radians=function(t){return t*Math.PI/180},this.degrees=function(t){return 180*t/Math.PI},this.getAngle=function(t,e,i,a,s){var r=180*Math.atan2(a-e,i-t)/Math.PI%360;for(s||(s=0);r<s;)r+=360;for(;r>=s+360;)r-=360;return r},this.getRadians=function(t,e,i,a){var s=Math.atan2(a-e,i-t);return s<0&&(s+=2*Math.PI),s},this.rotatePoint=function(t,e,i,a,s){return[Math.cos(s)*(t-i)-Math.sin(s)*(e-a)+i,Math.sin(s)*(t-i)+Math.cos(s)*(e-a)+a]},this.lineLength=function(t,e,i,a){return Math.sqrt(Math.pow(i-t,2)+Math.pow(a-e,2))},this.lineMidPoint=function(t,e,i,a){return[(t+i)/2,(e+a)/2]},this.getCoordinateAtDistance=function(t,e,i,a,s){var r=i-t,n=a-e,o=s/Math.sqrt(Math.pow(r,2)+Math.pow(n,2));return[t+r*o,e+n*o]},this.parallelLinePoints=function(t,e,i,a,s){var r=i-t,n=a-e,o=this.lineLength(t,e,i,a),h=r/o,l=-(n/o);return[t+s*l,e+s*h,t-s*l,e-s*h,i+s*l,a+s*h,i-s*l,a-s*h]},this.perpendicularLinePoints=function(t,e,i,a,s,r){var n=this.lineLength(t,e,i,a),o=this.lineMidPoint(t,e,i,a);s||(s=n*r);var h=i-o[0],l=-((a-o[1])/n),c=h/n;return[o[0]+s*l,o[1]+s*c]},this.shortenLine=function(t,e,i,a,s,r,n,o){if(this.isNumeric([t,e,i,a,s,r])){if(n.match(/bezier/i))return n.match(/beziery/i)?a>e?[t,e+s,i,a-r]:[t,e-s,i,a+r]:i>t?[t+s,e,i-r,a]:[t-s,e,i+r,a];if(n.match(/quadratic/i)){var h=this.lineLength(t,e,i,a),l=this.perpendicularLinePoints(t,e,i,a,!1,Math.min(1,this.arrowQuadraticFactor*Math.abs(o))*(o>0?-1:1)),c=this.traceQuadraticCurve(t,e,l[0],l[1],i,a,s/h,!0),d=this.traceQuadraticCurve(i,a,l[0],l[1],t,e,r/h,!0);return[c[1][0],c[1][1],d[1][0],d[1][1]]}if(n.match(/curved/i))return[t,e,i,a];var p=Math.atan2(a-e,i-t),g=Math.cos(p),u=Math.sin(p),m=this.lineLength(t,e,i,a);if(m){for(;m<s+r;)s/=1.1,r/=1.1;t+=g*s,e+=u*s,i-=g*r,a-=u*r}return[t,e,i,a]}},this.traceArc=function(t,e,i,a,s,r){if(a>s){var n=a;a=s,s=n}var o=[],h=(2*Math.PI-(s-a))/16;o.push([i*Math.cos(a)+t,i*Math.sin(a)+e]);for(var l=0;l<16;l++)a-=h,o.push([i*Math.cos(a)+t,i*Math.sin(a)+e]);return r?o.reverse():o},this.traceArc1=function(t,e,i,a,s,r){if(a>s){var n=a;a=s,s=n}var o=[],h=(Math.PI,(s-a)/32);if(h<1e-9)o.push([i*Math.cos(a)+t,i*Math.sin(a)+e]);else{for(o.push([i*Math.cos(a)+t,i*Math.sin(a)+e]),a+=h;a<s;)o.push([i*Math.cos(a)+t,i*Math.sin(a)+e]),a+=h;o.push([i*Math.cos(s)+t,i*Math.sin(s)+e])}return r?o:o.reverse()},this.traceQuadraticCurve=function(t,e,i,a,s,r,n,o){var h=[];n=Math.max(.01,n);for(var l=function(t,e,i,a){var s=1-t;return s*s*e+2*s*t*i+t*t*a},c=function(n){return[l(n,t,i,s),l(n,e,a,r)]},d=0;d<=1;d+=n)h.push(c(d));return o?h:h.reverse()},this.traceBezierCurve=function(t,e,i,a,s,r,n,o,h,l){var c=[];h=Math.max(.01,h);for(var d=0;d<=1;d+=h)c.push(this.deCasteljau([[t,e],[i,a],[s,r],[n,o]],d));return l?c:c.reverse()},this.splineControlPoint=function(t,e,i,a,s,r){var n=Math.sqrt(Math.pow(i-t,2)+Math.pow(a-e,2)),o=Math.sqrt(Math.pow(s-i,2)+Math.pow(r-a,2)),h=this.tension*n/(n+o),l=this.tension-h;return[i+h*(t-s),a+h*(e-r),i-l*(t-s),a-l*(e-r)]},this.spline=function(t,e){for(var i=[],a=t[0],s=t[1],r=0;r<a.length;r++)i.push(a[r]),i.push(s[r]);var n=this.curvePoints(i,e);for(a=[],s=[];n.length;)a.push(n.shift()),s.push(n.shift());return[a,s]},this.curvePoints=function(t,e){var i,a,s,r,n,o,h,l,c,d,p,g=[],u=[],m=this.tension,f=this.tensionSegments;e=e||!1,g=t.slice(0),e?(g.unshift(t[t.length-1]),g.unshift(t[t.length-2]),g.unshift(t[t.length-1]),g.unshift(t[t.length-2]),g.push(t[0]),g.push(t[1])):(g.unshift(t[1]),g.unshift(t[0]),g.push(t[t.length-2]),g.push(t[t.length-1]));for(var y=2;y<g.length-4;y+=2)for(var x=0;x<=f;x++)s=(g[y+2]-g[y-2])*m,r=(g[y+4]-g[y])*m,n=(g[y+3]-g[y-1])*m,o=(g[y+5]-g[y+1])*m,p=x/f,h=2*Math.pow(p,3)-3*Math.pow(p,2)+1,l=-2*Math.pow(p,3)+3*Math.pow(p,2),c=Math.pow(p,3)-2*Math.pow(p,2)+p,d=Math.pow(p,3)-Math.pow(p,2),i=h*g[y]+l*g[y+2]+c*s+d*r,a=h*g[y+1]+l*g[y+3]+c*n+d*o,u.push(i),u.push(a);return u},this.hullControlPoints=function(t){var e,i=this,a=[],s=function(t,e,a){var s=function(t,e){var i=e[0]-t[0],a=e[1]-t[1];return Math.sqrt(i*i+a*a)},r=s(t,e),n=s(e,a),o=i.tension*r/(r+n);return[[(t[0]-a[0])*o+e[0],(t[1]-a[1])*o+e[1]],[e[0]-(t[0]-a[0])*o,e[1]-(t[1]-a[1])*o]]};for(e=0;e<t.length-2;e++)a.push.apply(a,s(t[e],t[e+1],t[e+2]));return a.push.apply(a,s(t[e],t[e+1],t[0])),a.push.apply(a,s(t[e+1],t[0],t[1])),a},this.expandPolygon=function(t,e){for(var i,a=function(t){var e=Math.sqrt(t.x*t.x+t.y*t.y);return{x:t.x/e,y:t.y/e}},s=function(t,e){return{x:t.x*e,y:t.y*e}},r=function(t){return{x:t.y,y:-t.x}},n=function(t,e){var i=t[1].x-t[0].x,a=e[0].x-e[1].x,s=e[0].x-t[0].x,r=t[1].y-t[0].y,n=e[0].y-e[1].y,o=(a*(e[0].y-t[0].y)-n*s)/(r*a-i*n);return{x:t[0].x+o*(t[1].x-t[0].x),y:t[0].y+o*(t[1].y-t[0].y)}},o=[],h=function(t,e){return t.x*e.x+t.y*e.y}(r({x:(i=t)[1].x-i[0].x,y:i[1].y-i[0].y}),{x:i[2].x-i[1].x,y:i[2].y-i[1].y})>=0?function(t){return{x:-t.y,y:t.x}}:r,l=0;l<t.length;++l){var c=t[l>0?l-1:t.length-1],d=t[l],p=t[l<t.length-1?l+1:0],g={x:d[0]-c[0],y:d[1]-c[1]},u={x:p[0]-d[0],y:p[1]-d[1]},m=s(a(h(g)),e),f=s(a(h(u)),e),y=n([{x:c[0]+m.x,y:c[1]+m.y},{x:d[0]+m.x,y:d[1]+m.y}],[{x:d[0]+f.x,y:d[1]+f.y},{x:p[0]+f.x,y:p[1]+f.y}]);o.push([y.x,y.y])}return o},this.enlargePolygon=function(t,e,i){for(var a=function(t,e){var i=t.vrs[e],a=t.vrs[(e+1)%t.vrs.length];return function(t,e,i){return(i.x-t.x)*(e.y-t.y)-(e.x-t.x)*(i.y-t.y)}(t.vrs[(e+t.vrs.length-1)%t.vrs.length],a,i)<0},s=function(t){var e=t.v2.x-t.v1.x,i=t.v2.y-t.v1.y,a=Math.sqrt(e*e+i*i);return{x:-i/a,y:e/a}},r=function(t){var e=s(t);return{x:-e.x,y:-e.y}},n=function(t,e,i){return{v1:{x:t.v1.x+e,y:t.v1.y+i},v2:{x:t.v2.x+e,y:t.v2.y+i}}},o=function(t,e){var i=(e.v2.y-e.v1.y)*(t.v2.x-t.v1.x)-(e.v2.x-e.v1.x)*(t.v2.y-t.v1.y);if(0==i)return null;var a=((e.v2.x-e.v1.x)*(t.v1.y-e.v1.y)-(e.v2.y-e.v1.y)*(t.v1.x-e.v1.x))/i,s=((t.v2.x-t.v1.x)*(t.v1.y-e.v1.y)-(t.v2.y-t.v1.y)*(t.v1.x-e.v1.x))/i;return a<0||s<0||a>1||s>1?null:{x:t.v1.x+a*(t.v2.x-t.v1.x),y:t.v1.y+a*(t.v2.y-t.v1.y)}},h=function(t,e,a,s,r,n){var o=2*Math.PI,h=Math.atan2(s.y-e.y,s.x-e.x),l=Math.atan2(r.y-e.y,r.x-e.x);h<0&&(h+=o),l<0&&(l+=o);var c=h>l?h-l:h+o-l,d=(n?-c:o-c)/i;t.push(s);for(var p=1;p<i;++p){c=h+d*p;var g={x:e.x+Math.cos(c)*a,y:e.y+Math.sin(c)*a};t.push(g)}t.push(r)},l=[],c=[],d=0;d<t.length;d++)c.push({x:t[d][0],y:t[d][1]});var p=function(t){for(var e={vrs:t},i=[],n=t.length>0?t[0].x:void 0,o=t.length>0?t[0].y:void 0,h=n,l=o,c=0;c<e.vrs.length;c++){t[c].label=String(c),t[c].isReflex=a(e,c);var d={v1:t[c],v2:t[(c+1)%t.length],pol:e,index:c};d.outwardNormal=r(d),d.inwardNormal=s(d),i.push(d);var p=t[c].x,g=t[c].y;n=Math.min(p,n),o=Math.min(g,o),h=Math.max(p,h),l=Math.max(g,l)}return e.edges=i,e.minX=n,e.minY=o,e.maxX=h,e.maxY=l,e.closed=!0,e}(c);for(d=0;d<p.edges.length;d++){var g=p.edges[d],u=g.outwardNormal.x*e,m=g.outwardNormal.y*e;l.push(n(g,u,m))}c=[];for(d=0;d<l.length;d++){var f=l[d],y=l[(d+l.length-1)%l.length],x=o(y,f);if(x)c.push(x);else h(c,p.edges[d].v1,e,y.v2,f.v1,!1)}var b=[];for(d=0;d<c.length;d++)b.push([c[d].x,c[d].y]);return b},this.cleanVals=function(t){var e=[];if(t.length>1){for(var i=0,a=0;a<t.length;a++){var s=this.getNumberDecimals(t[a]);s<8&&(i=Math.max(i,s))}for(a=0;a<t.length;a++)e.push(Number(this.formatNumber(t[a],i)))}else if(t.length>0)return t;return e},this.getNumberDecimals=function(t){return(t=this.approxNumber(t).toString()).indexOf(".")>=0?Math.min(Number(t.length-(t.indexOf(".")+1)),20):0},this.sample=function(t,e){if(t){var i,a;(!e||e<=0)&&(e=t.length);for(var s=t.slice(0),r=t.length,n=r-e;r-- >n;)i=s[a=Math.floor((r+1)*this.random())],s[a]=s[r],s[r]=i;return s.slice(n)}return[]},this.rep=function(t,e){var i=t.length,a=[];if(!Array.isArray(t))return this.rep([t],e);if(Array.isArray(e)){e.length!=t.length&&alert("If x and k are both arrays in 'rep', then they need to have the same length.");for(s=0;s<i;s++)for(r=0;r<e[s];r++)a.push(t[s])}else for(var s=0;s<e;s++)for(var r=0;r<i;r++)a[r+s*i]=t[r];return a},this.seq=function(t,e,i,a){var s=[];if(null!=t&&null!=e&&(a||i)){var r=e<t;if(e<t){var n=t;t=e,e=n}if(i=a?(e-t)/((a=Math.abs(a))-1):Math.abs(i))for(;e>=t;)s.push(t),t+=i;a?s[a-1]=e:s[s.length-1]<e&&s.push(e)}return r?s.reverse():s},this.frac=function(t){for(var e=1+1/(t-1),i=1/(t-1),a=-1,s=0|Math.max(0,Math.ceil((e-0)/i)),r=new Array(s);++a<s;)r[a]=0+a*i;return r.splice(t),r},this.runif=function(t,e,i){var a=[];if(null!=e&&null!=i)for(var s=0;s<t;s++)a.push(this.randomBetween(e,i));else for(s=0;s<t;s++)a.push(this.random());return a},this.qnorm=function(t){var e,i,a=(t=parseFloat(t))-.5;return Math.abs(a)<=.42?i=a*(((-25.44106049637*(e=a*a)+41.39119773534)*e-18.61500062529)*e+2.50662823884)/((((3.13082909833*e-21.06224101826)*e+23.08336743743)*e-8.4735109309)*e+1):(e=t,a>0&&(e=1-t),e>0?(i=(((2.32121276858*(e=Math.sqrt(-Math.log(e)))+4.85014127135)*e-2.29796479134)*e-2.78718931138)/((1.63706781897*e+3.54388924762)*e+1),a<0&&(i=-i)):i=0),i},this.dnorm=function(t,e,i,a){if(this.isArray(t)){for(var s=[],r=0;r<t.length;r++)s[r]=this.dnorm(t[r],e,i,a);return s}var n=function(t,e){return Number.isNaN(t)||Number.isNaN(e)?t+e:Number.isFinite(t)&&Number.isFinite(e)?t*Math.pow(2,e):Number.POSITIVE_INFINITY};null==e&&(e=0),null==i&&(i=1);var o=Math.abs((t-e)/i);if(o>=2*Number.MAX_VALUE)return a?Number.NEGATIVE_INFINITY:0;if(a)return-(.9189385332046728+.5*o*o+Mat.log(i));if(o<5)return.3989422804014327*Math.exp(-.5*o*o)/i;if(o>Math.sqrt(-1.3862943611198906*(Math.log2(Number.MIN_VALUE)+1-18)))return 0;var h=n(Math.round(n(o,16)),-16),l=o-h;return.3989422804014327/i*(Math.exp(-.5*h*h)*Math.exp((-.5*l-h)*l))},this.diff=function(t){for(var e=[],i=1;i<t.length;i++)e.push(t[i]-t[i-1]);return this.cleanVals(e)},this.rnorm=function(t,e,i){var a=this,s=[];null==e&&(e=0),null==i&&(i=1),i=Math.sqrt(i);for(var r=function(){for(var t,s,r=2;r>1;)r=(t=2*a.random()-1)*t+(s=2*a.random()-1)*s;return e+i*t*Math.sqrt(-2*Math.log(r)/r)},n=0;n<t;n++)s.push(r());return s},this.qt=function(t,e){var i;function a(t){for(var e=1,i=2;i<=t;i+=1)e*=i;return e}if(1==e)i=Math.tan(Math.PI*(t-.5));else if(2==e){var s=4*t*(1-t);i=(2*t-1)*Math.sqrt(2/s)}else if(4==e){s=4*t*(1-t);i=Math.cos(1/3*Math.acos(Math.sqrt(s)))/Math.sqrt(s),i=2*function(t){return t>0?1:t<0?-1:0}(t-.5)*Math.sqrt(i-1)}else i=e%2==0?function(t,e){var i,s=Math.ceil(e/2),r=1-t;if(.5!=r){for(var n=Math.sqrt(2*Math.pow(1-2*r,2)/(1-Math.pow(1-2*r,2))),o=0;o<20;o+=1){for(var h=0,l=0;l<=s-1;l+=1)h+=a(2*l)/Math.pow(2,2*l)/Math.pow(a(l),2)*Math.pow(1+Math.pow(n,2)/(2*s),-l);n=1/Math.sqrt(1/(2*s)*(Math.pow(h/(1-2*r),2)-1))}i=r>.5?-n:n}else i=0;return i}(t,e):function(t,e){var i=t>.5?2*(1-t):2*t,a=!(t>.5),s=1/(e-.5),r=48/(s*s),n=((20700*s/r-98)*s-16)*s+96.36,o=((94.5/(r+n)-3)/r+1)*Math.sqrt(s*Math.PI/2)*e,h=i*o,l=Math.pow(h,2/e);l>.05+s?(h=function t(e,i,a){var s;if(e<.5)s=-t(1-e,0,1);else{var r=Math.sqrt(-2*Math.log(1-e));s=r+(r*(r*(r*(-453642210148e-16*r-.020423121024)-.342242088547)-1)-.322232431088)/(.099348462606+r*(.58858157049+r*(.531103462366+r*(.10353775285+.0038560700634*r))))}return i+s*a}(.5*i,0,1),e<5&&(n+=.3*(e-4.5)*(h+.6)),l=(((((.4*(l=h*h)+6.3)*l+36)*l+94.5)/(n=n+(((.05*o*h-5)*h-7)*h-2)*h+r)-l-3)/r+1)*h,(l*=s*l)>.002?l=Math.exp(l)-1:l+=.5*l*l):l=((1/(((e+6)/(e*l)-.089*o-.822)*(e+2)*3)+.5/(e+4))*l-1)*(e+1)/(e+2)+1/l;var c=Math.sqrt(e*l);return a?-c:c}(t,e);return i},this.percentile2=function(t,e){if(0===t.length)return 0;if("number"!=typeof e)throw new TypeError("p must be a number");if(e<=0)return t[0];if(e>=1)return t[t.length-1];var i=t.length*e,a=Math.floor(i),s=a+1,r=i%1;return s>=t.length?t[a]:t[a]*(1-r)+t[s]*r},this.percentRank=function(t,e){if("number"!=typeof e)throw new TypeError("v must be a number");for(var i=0,a=t.length;i<a;i++)if(e<=t[i]){for(;i<a&&e===t[i];)i++;return 0===i?0:(e!==t[i-1]&&(i+=(e-t[i-1])/(t[i]-t[i-1])),i/a)}return 1},this.percentile=function(t,e,i){var a=e-t;return 0==a?50:100*(i-t)/a},this.percentile3=function(t){if(0===t.length)return t;for(var e=this.min(t),i=this.max(t)-e,a=[],s=0;s<t.length;s++){var r=t[s]-e;a.push(r/i)}return a},this.rank=function(t){for(var e=[],i=0;i<t.length;i++)e.push(i);return e.sort((function(e,i){return t[e]-t[i]})),e},this.rank2=function(t){var e=t.slice().sort((function(t,e){return t-e})),i=t.slice().map((function(t){return e.indexOf(t)+1})),a={};return i.map((function(t){a[t]=a[t]?a[t]++:1})),i.map((function(t){return t/a[t]}))},this.min=function(t,e,i){if(this.isArray(t)){var a=Number.POSITIVE_INFINITY;if(this.isArray(t[0]))for(var s=0;s<t.length;s++)for(var r=0;r<t[s].length;r++)this.isNumber(t[s][r],!0)&&(a=Math.min(a,t[s][r]));else{t=this.cleanArray(t,e,i);for(s=0;s<t.length;s++)this.isNumber(t[s],!0)&&(a=Math.min(a,t[s]))}return a}return this.Min(t,e)},this.max=function(t,e,i){if(this.isArray(t)){var a=Number.NEGATIVE_INFINITY;if(this.isArray(t[0]))for(var s=0;s<t.length;s++)for(var r=0;r<t[s].length;r++)this.isNumber(t[s][r],!0)&&(a=Math.max(a,t[s][r]));else{t=this.cleanArray(t,e,i);for(s=0;s<t.length;s++)this.isNumber(t[s],!0)&&(a=Math.max(a,t[s]))}return a}return this.Max(t,e)},this.sum=function(t,e,i,a,s){t=this.cleanArray(t,e,i);for(var r=0,n=0;n<t.length;n++)a?t[n]>0&&(r+=t[n]):s?t[n]<0&&(r+=t[n]):r+=t[n];return r},this.sumSquared=function(t,e,i,a){t=this.cleanArray(t,e,i);for(var s=0,r=0;r<t.length;r++)a?t[r]>0&&(s+=t[r]*t[r]):s+=t[r]*t[r];return s},this.sumSquaredError=function(t,e,i){t=this.cleanArray(t,e,i);for(var a=this.mean(t),s=0,r=0;r<t.length;r++){var n=t[r]-a;s+=n*n}return s},this.mean=function(t,e,i){t=this.cleanArray(t,e,i);for(var a=0,s=0,r=0;r<t.length;r++)this.isNaN(t[r])||(a+=Number(t[r]),s++);return s>0&&(a/=s),a},this.range=function(t,e,i){t=this.cleanArray(t,e,i);for(var a=Number.MAX_VALUE,s=-1*Number.MAX_VALUE,r=0;r<t.length;r++)a=Math.min(t[r],a),s=Math.max(t[r],s);return a==s&&0==a?[-.5,.5]:a==s?[Number(a)-.5,Number(s)+.5]:[Number(a),Number(s)]},this.range2D=function(t){for(var e=Number.MAX_VALUE,i=-1*Number.MAX_VALUE,a=0;a<t.length;a++)for(var s=0;s<t[a].length;s++)this.isNumber(t[a][s],!0)&&(e=Math.min(t[a][s],e),i=Math.max(t[a][s],i));return e==i&&0==e?[-.5,.5]:e==i?[Number(e)-.5,Number(i)+.5]:[Number(e),Number(i)]},this.median=function(t,e,i){t=this.cleanArray(t,e,i);var a=[],s=[],r=0;a[0]=Number.NaN,a[1]=Number.NaN;for(var n=0;n<t.length;n++)s.push(t[n]),r++;return r>0&&(a[1]=r,s.sort((function(t,e){return t-e})),a[0]=r%2?s[parseInt(r/2)]:(s[parseInt((r-1)/2)]+s[r/2])/2),a},this.Abs=function(t,e,i){t=this.cleanArray(t,e,i);for(var a=[],s=0;s<t.length;s++)a.push(Math.abs(t[s]));return a},this.square=function(t,e,i){t=this.cleanArray(t,e,i);for(var a=[],s=0;s<t.length;s++)a.push(t[s]*t[s]);return a},this.subtractArray=function(t,e){for(var i=[],a=0;a<t.length;a++)i.push(t[a]-e);return i},this.addArray=function(t,e){for(var i=[],a=0;a<t.length;a++)i.push(t[a]+e);return i},this.replaceArray=function(t,e){for(var i=[],a=0;a<t.length;a++)i.push(e);return i},this.nextSeed=function(t){return"numericalRecipes"==this.randomMethod?(9301*t+49297)%233280:t=4294967295&(3042594569^(t=(t=4294967295&((t=(t=4294967295&(3345072700^(t=t+2127912214+(t<<12)&4294967295)^t>>>19))+374761393+(t<<5)&4294967295)+3550635116^t<<9))+4251993797+(t<<3)&4294967295)^t>>>16)},this.random=function(t){return this.pseudoRandom?(this.randomSeed=this.nextSeed(t||this.randomSeed),"numericalRecipes"==this.randomMethod?this.randomSeed/233280:(268435455&this.randomSeed)/268435456):Math.random()},this.randomBetween=function(t,e,i){return this.random(i)*(e-t+1)+t},this.randomInt=function(t){return parseInt(this.random(t))},this.randomIntBetween=function(t,e,i){return Math.floor(this.random(i)*(e-t+1))+t},this.sumarizeErrorData=function(t,e,i){return"standardErrorMean"==this.errorBarsType?this.meanStandardErrorN(t,e,i):"confidenceInterval95"==this.errorBarsType?this.mean95ConfidenceIntervalN(t,e,i):this.meanStandardDeviationN(t,e,i)},this.meanStandardErrorN=function(t,e,i){var a=this.variance(t,e,i,!0);return this.isNaN(a[1])?[Number.NaN,Number.NaN,Number.NaN]:[a[0],Math.sqrt(a[1])/Math.sqrt(a[2]),a[2]]},this.mean95ConfidenceIntervalN=function(t,e,i){var a=this.meanStandardErrorN(t,e,i,!0);return this.isNaN(a[1])?[Number.NaN,Number.NaN,Number.NaN]:[a[0],1.96*a[1],a[2]]},this.meanStandardDeviationN=function(t,e,i){var a=this.variance(t,e,i,!0);return this.isNaN(a[1])?[Number.NaN,Number.NaN,Number.NaN]:[a[0],Math.sqrt(a[1]),a[2]]},this.fivenum=function(t){t.sort((function(t,e){return t-e}));for(var e=t.length,i=Math.floor((e+3)/2)/2,a=[1,i,(e+1)/2,e+1-i,e],s=[],r=0;r<a.length;r++)s.push(.5*(t[Math.floor(a[r])-1]+t[Math.ceil(a[r])-1]));return s},this.boxplot=function(t,e,i){if(t.length>0){t=this.cleanArray(t,e,i);for(var a=[],s=[],r=this.fivenum(t),n="summary"==this.boxplotHingeFunction?this.quantile(t,[.25,.75]):[r[1],r[3]],o=r[0],h=n[0],l=r[2],c=r[2],d=n[1],p=r[4],g=d-h,u=h-this.boxplotCoef*g,m=d+this.boxplotCoef*g,f=(r[3]-r[1])/Math.sqrt(t.length),y=0;y<t.length;y++)t[y]<u||t[y]>m?a.push(t[y]):s.push(t[y]);if(a.length>0){var x=this.range(s);o=x[0],p=x[1]}var b=[c-1.58*f,c+1.58*f];return[c,h,l,d,o,p,a,t.length,b]}return[Number.NaN,Number.NaN,Number.NaN,Number.NaN,Number.NaN,Number.NaN,Number.NaN]},this.quantileBin=function(t,e){return e<t[0]?0:e>=t[0]&&e<t[1]?1:e>=t[1]&&e<t[2]?2:e>=t[2]?3:void 0},this.quantile=function(t,e){var i=(t=(t=this.cleanArray(t)).slice().sort((function(t,e){return t-e}))).length-1;return(e&&e.length?e:[.25,.5,.75]).map((function(e){if(0===e)return t[0];if(1===e)return t[i];var a=1+e*i,s=Math.floor(a),r=a-s,n=t[s-1];return 0===r?n:n+r*(t[s]-n)}))},this.iqr=function(t){var e=this.quantile(t,[.25,.75]);return e[1]-e[0]},this.variance=function(t,e,i,a){var s=(t=this.cleanArray(t,e,i)).length;if(s<1)return a?[Number.NaN,Number.NaN,Number.NaN]:Number.NaN;if(1==s)return a?[t[0],0,1]:0;for(var r=this.mean(t),n=0,o=s;--o>=0;)if(!this.isNaN(t[o])){var h=t[o]-r;n+=h*h}return a?"unbiased"==this.standardDeviationType?[r,n/(s-1),s]:[r,n/s,s]:"unbiased"==this.standardDeviationType?n/(s-1):n/s},this.deviation=function(t,e,i){var a=(t=this.cleanArray(t,e,i)).length;if(a<1)return[Number.NaN];if(1==a)return[0];for(var s=this.mean(t),r=[],n=0;n<a;n++)this.isNaN(t[n])?r[n]=NaN:r[n]=t[n]-s;return r},this.standardDeviation=function(t,e,i){var a=this.variance(t,e,i);return this.isNaN(a)?a:Math.sqrt(a)},this.standardError=function(t,e,i){var a=this.variance(t,e,i,!0);return this.isNaN(a[1])?a[1]:Math.sqrt(a[1])/Math.sqrt(a[2])},this.meanSquaredError=function(t,e,i){return t=this.cleanArray(t,e,i),this.sumSquaredError(this.sumSquaredError(t,e,i))/t.length},this.confidenceInterval95=function(t,e,i){var a=this.standardError(t,e,i);return this.isNaN(a)?a:1.96*a},this.covariance=function(t,e,i,a){var s=this.cleanArrays(t,e,i,a);t=s[0],e=s[1];for(var r=0,n=[],o=0,h=this.mean(t),l=this.mean(e),c=0;c<t.length;c++)n[c]=(t[c]-h)*(e[c]-l),r+=n[c],o++;return o>0?r/("unbiased"==this.standardDeviationType?o-1:o):NaN},this.correlation=function(t,e,i,a,s){return s&&"spearman"==s?this.correlationSpearman(t,e,i,a):this.correlationPearson(t,e,i,a)},this.correlationSpearman=function(t,e,i,a){var s=this.cleanArrays(t,e,i,a);t=s[0],e=s[1];for(var r=t.length,n=0,o=this.rank2(t),h=this.rank2(e),l=0;l<t.length;l++){var c=o[l]-h[l];n+=c*c}return 1-6*n/(r*(r*r-1))},this.correlationPearson=function(t,e,i,a){return this.covariance(t,e,i,a)/this.standardDeviation(t,i,a)/this.standardDeviation(e,i,a)},this.regression=function(t,e,i,a,s,r){var n=[],o=this.cleanArrays(t,e,i,a);t=o[0],e=o[1];for(var h=0;h<t.length;h++)this.isNaN(t[h])||this.isNaN(e[h])||n.push([t[h],e[h]]);var l=this[this.regressionType+"Regression"](n);return[l.params[0],l.params[1],l.r2,l.confidence]},this.slope=function(t,e,i,a){return e!=a?(i-t)/(a-e):0},this.intercept=function(t,e,i){return e-t*i},this.slopeIntercept=function(t,e,i,a){var s=this.slope(t,e,i,a);return[s,this.intercept(t,e,s)]},this.normalize=function(t){var e=this.standardDeviationType;this.standardDeviationType="biased";for(var i=0;i<t.length;i++)for(var a=this.meanStandardDeviationN(t[i]),s=0;s<t[i].length;s++)t[i][s]=(t[i][s]-a[0])/a[1];return this.standardDeviationType=e,t},this.coefficientDetermination=function(t,e){for(var i=0,a=0;a<t.length;a++)i+=t[a][1];var s=i/t.length,r=0;for(a=0;a<t.length;a++){var n=t[a][1]-s;r+=n*n}var o=0;for(a=0;a<t.length;a++){var h=t[a][1]-e[a][1];o+=h*h}return 1-o/r},this.gaussianElimination=function(t,e){for(var i=t,a=t.length-1,s=[e],r=0;r<a;r++){for(var n=r,o=r+1;o<a;o++)Math.abs(i[r][o])>Math.abs(i[r][n])&&(n=o);for(var h=r;h<a+1;h++){var l=i[h][r];i[h][r]=i[h][n],i[h][n]=l}for(o=r+1;o<a;o++)for(h=a;h>=r;h--)i[h][o]-=i[h][r]*i[r][o]/i[r][r]}for(o=a-1;o>=0;o--){var c=0;for(h=o+1;h<a;h++)c+=i[h][o]*s[h];s[o]=(i[a][o]-c)/i[o][o]}return s},this.linearRegression=function(t){for(var e=[0,0,0,0,0],i=0,a=Number.NEGATIVE_INFINITY,s=Number.POSITIVE_INFINITY,r=0;r<t.length;r++)i++,a=Math.max(a,t[r][0]),s=Math.min(s,t[r][0]),e[0]+=t[r][0],e[1]+=t[r][1],e[2]+=t[r][0]*t[r][0],e[3]+=t[r][0]*t[r][1],e[4]+=t[r][1]*t[r][1];var n=i*e[2]-e[0]*e[0],o=i*e[3]-e[0]*e[1],h=0===n?0:o/n,l=e[1]/i-h*e[0]/i,c=[];for(r=0;r<t.length;r++)c[r]=[t[r][0],t[r][0]*h+l];for(var d=[],p=0,g=0,u=e[0]/i,m=Math.max(r-2,1),f=this.seq(s,a,(a-s)/10),y=this.tinv(1-this.confidenceLevel,m,!0),x=0;x<r;x++)p+=Math.pow(t[x][1]-c[x][1],2),g+=Math.pow(t[x][0]-u,2);p=Math.sqrt(p/m);for(x=0;x<f.length;x++){var b=-y*p*Math.sqrt(1/r+Math.pow(f[x]-u,2)/g),v=h*f[x]+l;d.push([f[x],v+b,v-b,b])}return{predict:c,params:[h,l],r2:this.coefficientDetermination(t,c),confidence:d,string:0===l?"y = "+h+"x":"y = "+h+"x + "+l}},this.exponentialRegression=function(t){for(var e=[0,0,0,0,0,0],i=0;i<t.length;i++)e[0]+=t[i][0],e[1]+=t[i][1],e[2]+=t[i][0]*t[i][0]*t[i][1],e[3]+=t[i][1]*Math.log(t[i][1]),e[4]+=t[i][0]*t[i][1]*Math.log(t[i][1]),e[5]+=t[i][0]*t[i][1];var a=e[1]*e[2]-e[5]*e[5],s=Math.exp((e[2]*e[3]-e[5]*e[4])/a),r=(e[1]*e[4]-e[5]*e[3])/a,n=[];for(i=0;i<t.length;i++)n[i]=[t[i][0],s*Math.exp(r*t[i][0])];return{predict:n,params:[s,r],r2:this.coefficientDetermination(t,n),confidence:!1,string:"y = "+s+"e^("+r+"x)"}},this.logarithmicRegression=function(t){for(var e=[0,0,0,0],i=t.length,a=0;a<i;a++)e[0]+=Math.log(t[a][0]),e[1]+=t[a][1]*Math.log(t[a][0]),e[2]+=t[a][1],e[3]+=Math.pow(Math.log(t[a][0]),2);const s=(i*e[1]-e[2]*e[0])/(i*e[3]-e[0]*e[0]),r=(e[2]-s*e[0])/i;var n=[];for(a=0;a<t.length;a++)n[a]=[t[a][0],r+s*Math.log(t[a][0])];return{predict:n,params:[r,s],r2:this.coefficientDetermination(t,n),confidence:!1,string:"y = "+r+" + "+s+"ln(x)"}},this.powerRegression=function(t){for(var e=[0,0,0,0,0],i=t.length,a=0;a<i;a++)e[0]+=Math.log(t[a][0]),e[1]+=Math.log(t[a][1])*Math.log(t[a][0]),e[2]+=Math.log(t[a][1]),e[3]+=Math.pow(Math.log(t[a][0]),2);var s=(i*e[1]-e[0]*e[2])/(i*e[3]-Math.pow(e[0],2)),r=Math.exp((e[2]-s*e[0])/i),n=[];for(a=0;a<t.length;a++)n[a]=[t[a][0],r*Math.pow(t[a][0],s)];return{predict:n,params:[r,s],r2:this.coefficientDetermination(t,n),confidence:!1,string:"y = "+r+"x^"+s}},this.polynomialRegression=function(t){this.regressionOrder=2;for(var e=[],i=[],a=0,s=0,r=t.length,n=this.regressionOrder+1,o=0;o<n;o++){for(var h=0;h<r;h++)a+=Math.pow(t[h][0],o)*t[h][1];e.push(a),a=0;for(var l=[],c=0;c<n;c++){for(h=0;h<r;h++)s+=Math.pow(t[h][0],o+c);l.push(s),s=0}i.push(l)}i.push(e);for(var d=this.gaussianElimination(i,n),p=[],g=0;g<t.length;g++)p[g]=[t[g][0],d[0]+d[1]*Math.pow(t[g][0],d[2])];var u="y = ";for(o=d.length-1;o>=0;o--)u+=o>1?d[o]+"x^"+o+" + ":1===o?d[o]+"x + ":d[o];return{predict:p,params:d.reverse(),r2:this.coefficientDetermination(t,p),confidence:!1,string:u}},this.commonElementsInArrays=function(t,e){for(var i=[],a={},s=0;s<t.length;s++)a[t[s]]=!0;for(s=0;s<e.length;s++)a[e[s]]&&i.push(e[s]);return i},this.errorEllipse=function(t,e,i){return i?this.errorEllipse3D(t,e,i):this.errorEllipse2D(t,e)},this.errorEllipse2D=function(t,e){var i=this.variance(t,!1,!1,!0),a=this.variance(e,!1,!1,!0),s=this.covariance(t,e),r=[[i[1],s],[s,a[1]]],n=this.numeric("eig",r),o=Math.sqrt(2*this.gammaPinv(this.confidenceLevel,1)),h=n.lambda.x[0]>n.lambda.x[1]?0:1,l=n.lambda.x[0]<n.lambda.x[1]?0:1,c=i[1]>a[1]?Math.sqrt(n.lambda.x[h])*o:Math.sqrt(n.lambda.x[l])*o,d=a[1]>i[1]?Math.sqrt(n.lambda.x[h])*o:Math.sqrt(n.lambda.x[l])*o,p=Math.atan2(n.E.x[h][1],n.E.x[h][0]);return p<0&&(p+=Math.PI/2),{rx:c,ry:d,cx:i[0],cy:a[0],rot:p}},this.errorEllipse3D=function(t,e,i){var a=this.variance(t,!1,!1,!0),s=this.variance(e,!1,!1,!0),r=this.variance(i,!1,!1,!0),n=this.covariance(t,e),o=this.covariance(t,i),h=this.covariance(e,i),l=[[a[1],n,o],[n,s[1],h],[o,h,r[1]]];if(function(t){for(var e=0;e<t.length;e++)for(var i=0;i<t[e].length;i++)if(isNaN(t[e][i]))return!1;return!0}(l)){var c=this.numeric("eig",l),d=Math.sqrt(2*this.gammaPinv(this.confidenceLevel,1)),p=this.rank(c.lambda.x),g=p[2],u=p[1],m=p[0],f=Math.sqrt(c.lambda.x[g])*d,y=Math.sqrt(c.lambda.x[u])*d,x=Math.sqrt(c.lambda.x[m])*d,b=Math.atan2(-1*c.E.x[2][g],-1*c.E.x[1][g]),v=Math.atan2(-1*c.E.x[2][g],-1*c.E.x[0][g]),A=Math.atan2(-1*c.E.x[1][g],-1*c.E.x[0][g]);return v<0&&(v+=Math.PI/2),{rx:[f],ry:[y],rz:[x],cx:a[0],cy:s[0],cz:r[0],rot:[b,v,A]}}return!1},this.cdfNormal=function(t,e,i){t=(t-e)/i;var a=1/(1+.2315419*Math.abs(t)),s=.3989423*Math.exp(-t*t/2)*a*(.3193815+a*(a*(1.781478+a*(1.330274*a-1.821256))-.3565638));return t>0&&(s=1-s),s},this.cdf=function(t){var e=this.cleanArray(t),i=this.cloneObject(e);i=i.sort((function(t,e){return t-e}));for(var a=[],s=e.length,r=0;r<s;r++)a.push((r+1)/s);return{x:i,y:a}},this.qqline=function(t,e){e&&e.length&&2==e.length||(e=[.25,.75]);t=this.quantile(t,e);for(var i=[],a=0;a<e.length;a++)i.push(this.qnorm(e[a]));var s=this.diff(t),r=this.diff(i),n=s[0]/r[0];return{slope:n,intercept:t[0]-n*i[0]}},this.qqnorm=function(t){for(var e=this.cleanArray(t),i=this.ppoints(e.length),a=e.sort((function(t,e){return t-e})),s=[],r=0;r<i.length;r++)s.push(this.qnorm(i[r]));return{l:this.qqline(a),x:s,y:a}},this.ppoints=function(t){for(var e=t<=10?3/8:.5,i=[],a=0;a<t;a++)i.push((a+1-e)/(t+1-2*e));return i},this.jitterData=function(t,e,i){if(t.length<2)return t;e||(e=1);var a=this.range(t),s=this.diff(a)[0];if(0==s&&(s=Math.abs(a[0])),0==s&&(s=1),null==i){for(var r=[],n=3-Math.floor(Math.log10(s)),o=0;o<t.length;o++)r.push(Number(t[o].toFixed(n)));r=this.unique(r.sort((function(t,e){return t-e})));var h=this.diff(r);h=h.length?this.min(h):0!=r[0]?r[0]/10:s/10,i=e/5*Math.abs(h)}else 0==i&&(i=e*(s/50));var l=this.runif(t.length,-i,i);for(o=0;o<l.length;o++)l[o]+=t[o];return l},this.bezierCalculatePoints=function(t,e){var i=t[0][0],a=t[0][1];return[i+(t[1][0]-i)*e,a+(t[1][1]-a)*e]},this.deCasteljau=function(t,e){if(1===e)return t[t.length-1];if(0===e)return t[0];if(1==t.length)return t[0];for(var i=[],a=1,s=t.length;a<s;a++)i.push(this.bezierCalculatePoints([t[a-1],t[a]],e));return this.deCasteljau(i,e)},this.divideBezierCurve=function(t,e,i,a){if(a=a||[],(i=i||[]).push(t[0]),a.push(t[t.length-1]),1===t.length)return[i,a];for(var s=[],r=1,n=t.length;r<n;r++)s.push(this.bezierCalculatePoints([t[r-1],t[r]],e));return this.divideBezierCurve(s,e,i,a)},this.centroid=function(t){var e=[];if(!t||t.length<2)return[0,0];if(t.length<3||t.length%2)return[t[0],t[1]];for(;t.length>1;)e.push([t.shift(),t.shift()]);return e.reduce((function(t,i){return[t[0]+i[0]/e.length,t[1]+i[1]/e.length]}),[0,0])},this.centroidArea=function(t){var e=this.cloneObject(t);return e.shift(),this.centroid(e)},this.prufer=function(t){var e=[],i=Array.apply(null,Array(t.length+2)).map((function(t,e){return e})),a=Array.apply(null,Array(1*i.length)).map((function(){return 1}));t.map((function(t){a[t]++}));for(var s=0;s<t.length;s++)for(var r=0;r<i.length;r++)if(1===a[i[r]]){e.push([t[s],i[r]]),a[t[s]]--,a[i[r]]--;break}var n=i.filter((function(t){return 1===a[t]}));return e.push(n),e},this.probabilityOfZ=function(t){var e,i,a;return i=0==t?0:(e=.5*Math.abs(t))>3?1:e<1?((((((((.000124818987*(a=e*e)-.001075204047)*a+.005198775019)*a-.019198292004)*a+.059054035642)*a-.151968751364)*a+.319152932694)*a-.5319230073)*a+.797884560593)*e*2:(((((((((((((-45255659e-12*(e-=2)+.00015252929)*e-19538132e-12)*e-.000676904986)*e+.001390604284)*e-.00079462082)*e-.002034254874)*e+.006549791214)*e-.010557625006)*e+.011630447319)*e-.009279453341)*e+.005353579108)*e-.002141268741)*e+.000535310849)*e+.999936657524,t>0?.5*(i+1):.5*(1-i)},this.criticalNormalZ=function(t){var e=-6,i=6,a=0;for(t<0&&(t=0),t>1&&(t=1);i-e>1e-6;)this.probabilityOfZ(a)>t?i=a:e=a,a=.5*(i+e);return a},this.kaplanMeier=function(t,e){var i=this;function a(t,e){return t-e}for(var s={times:[],events:[]},r=0;r<t.length;r++)isNaN(t[r])||(s.times.push(t[r]),this.invertCensored?s.events.push(isNaN(e[r])?1:e[r]?0:1):s.events.push(isNaN(e[r])?0:e[r]));t=s.times,e=s.events;var n=this.unique(t).sort(a),o=new Array(n.length),h=new Array(n.length),l=new Array(n.length),c=new Array(n.length),d=new Array(n.length),p=new Array(n.length),g=new Array(n.length),u=0;e=function(t,e){return firstSecond=i.zip(t,e),firstSecond.sort((function(t,e){return t[1]-e[1]})),i.unzip(firstSecond,0)}(e,t),t.sort(a);for(var m=0;m<n.length;m++){d[m]=t.length,p[m]=0,g[m]=0;for(r=0;r<t.length&&t[r]==n[m];r++)p[m]+=e[r],g[m]+=!e[r];var f=r;o[m]=(1-p[m]/d[m])*(0==m?1:o[m-1]),u+=p[m]/(d[m]*(d[m]-p[m])),h[m]=Math.sqrt(u)*o[m],l[m]=Math.sqrt(u),c[m]=Math.sqrt(u)/Math.log(o[m]),e=e.slice(f),t=t.slice(f)}var y=this.kaplanMeierConfidence(o,"log"==this.confidenceIntervalType?l:"loglog"==this.confidenceIntervalType?c:h);return{time:n,nAtRisk:d,nEvents:p,nCensored:g,kaplanMeier:o,greenwoodSE:h,greenwoodSELog:l,greenwoodSELogLog:c,lowerLimit:y[0],upperLimit:y[1]}},this.kaplanMeierConfidence=function(t,e){for(var i=this.criticalNormalZ(this.confidenceLevel),a=t.length,s=new Array(a),r=new Array(a),n=0;n<a;n++){var o=t[n];"log"==this.confidenceIntervalType&&(o=Math.log(o)),"loglog"==this.confidenceIntervalType&&(o=Math.log(-Math.log(o))),s[n]=o-i*e[n],r[n]=o+i*e[n],"log"==this.confidenceIntervalType&&(s[n]=Math.exp(s[n]),r[n]=Math.exp(r[n])),"loglog"==this.confidenceIntervalType&&(s[n]=Math.exp(-Math.exp(s[n])),r[n]=Math.exp(-Math.exp(r[n]))),s[n]=Math.max(0,s[n]),r[n]=Math.min(1,r[n])}return[s,r]},this.getD3Sankey=function(){var t=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},e=function(t,e){var i,a=0,s=t.length,r=-1;if(null==e)for(;++r<s;)(i=+t[r])&&(a+=i);else for(;++r<s;)(i=+e(t[r],r,t))&&(a+=i);return a},i=function(t,e){return e-=t=+t,function(i){return t+e*i}},a="$";function s(){}function r(t,e){var i=new s;if(t instanceof s)t.each((function(t,e){i.set(e,t)}));else if(Array.isArray(t)){var a,r=-1,n=t.length;if(null==e)for(;++r<n;)i.set(r,t[r]);else for(;++r<n;)i.set(e(a=t[r],r,t),a)}else if(t)for(var o in t)i.set(o,t[o]);return i}s.prototype=r.prototype={constructor:s,has:function(t){return a+t in this},get:function(t){return this[a+t]},set:function(t,e){return this[a+t]=e,this},remove:function(t){var e=a+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===a&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===a&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===a&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===a&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===a&&++t;return t},empty:function(){for(var t in this)if(t[0]===a)return!1;return!0},each:function(t){for(var e in this)e[0]===a&&t(this[e],e.slice(1),this)}};var n=function(){var t,e,i,a=[],s=[];function n(i,s,o,h){if(s>=a.length)return null!=e?e(i):null!=t?i.sort(t):i;for(var l,c,d,p=-1,g=i.length,u=a[s++],m=r(),f=o();++p<g;)(d=m.get(l=u(c=i[p])+""))?d.push(c):m.set(l,[c]);return m.each((function(t,e){h(f,e,n(t,s,o,h))})),f}return i={object:function(t){return n(t,0,o,h)},map:function(t){return n(t,0,l,c)},entries:function(t){return function t(i,r){if(++r>a.length)return i;var n,o=s[r-1];return null!=e&&r>=a.length?n=i.entries():(n=[],i.each((function(e,i){n.push({key:i,values:t(e,r)})}))),null!=o?n.sort((function(t,e){return o(t.key,e.key)})):n}(n(t,0,l,c),0)},key:function(t){return a.push(t),i},sortKeys:function(t){return s[a.length-1]=t,i},sortValues:function(e){return t=e,i},rollup:function(t){return e=t,i}}};function o(){return{}}function h(t,e,i){t[e]=i}function l(){return r()}function c(t,e,i){t.set(e,i)}var d={},p=12,g=5,u=[1,1],m=[],f=[];function y(){f.forEach((function(t){var e=t.source.x+t.source.dx,a=t.target.x,s=i(e,a),r=s(.5),n=s(.5),o=t.source.y+t.sy+t.dy/2,h=t.target.y+t.ty+t.dy/2;t.bezier=[[e,r,n,a],[o,o,h,h]]}))}function x(){function t(t,e){return t.source.y-e.source.y}function e(t,e){return t.target.y-e.target.y}m.forEach((function(i){i.sourceLinks.sort(e),i.targetLinks.sort(t)})),m.forEach((function(t){var e=0,i=0;t.sourceLinks.forEach((function(t){t.sy=e,e+=t.dy})),t.targetLinks.forEach((function(t){t.ty=i,i+=t.dy}))}))}function b(t){return t.y+t.dy/2}function v(t){return t.value}return d.nodeWidth=function(t){return arguments.length?(p=+t,d):p},d.nodePadding=function(t){return arguments.length?(g=+t,d):g},d.nodes=function(t){return arguments.length?(m=t,d):m},d.links=function(t){return arguments.length?(f=t,d):f},d.size=function(t){return arguments.length?(u=t,d):u},d.layout=function(i){return m.forEach((function(t){t.sourceLinks=[],t.targetLinks=[]})),f.forEach((function(t){var e=t.source,i=t.target;"number"==typeof e&&(e=t.source=m[t.source]),"number"==typeof i&&(i=t.target=m[t.target]),e.sourceLinks.push(t),i.targetLinks.push(t)})),m.forEach((function(t){t.value=Math.max(e(t.sourceLinks,v),e(t.targetLinks,v))})),function(){var t,e=m,i=0;for(;e.length;)t=[],e.forEach((function(e){e.x=i,e.breadth=i,e.dx=p,e.sourceLinks.forEach((function(e){t.push(e.target)}))})),e=t,++i;(function(t){m.forEach((function(e){e.sourceLinks.length||(e.x=t-1)}))})(i),function(t){m.forEach((function(e){e.x*=t}))}((u[0]-p)/(i-1))}(),function(i){var a=n().key((function(t){return t.x})).sortKeys(t).entries(m).map((function(t){return t.values}));s=function(t,e){var i,a,s=-1,r=t.length;if(null==e){for(;++s<r;)if(null!=(a=t[s])&&a>=a){i=a;break}for(;++s<r;)null!=(a=t[s])&&i>a&&(i=a)}else{for(;++s<r;)if(null!=(a=e(t[s],s,t))&&a>=a){i=a;break}for(;++s<r;)null!=(a=e(t[s],s,t))&&i>a&&(i=a)}return i}(a,(function(t){return(u[1]-(t.length-1)*g)/e(t,v)})),a.forEach((function(t){t.forEach((function(t,e){t.y=e,t.dy=t.value*s}))})),f.forEach((function(t){t.dy=t.value*s})),l();var s;for(var r=1;i>0;--i)h(r*=.99),l(),o(r),l();function o(t){function i(t){return b(t.source)*t.value}a.forEach((function(a,s){a.forEach((function(a){if(a.targetLinks.length){var s=e(a.targetLinks,i)/e(a.targetLinks,v);a.y+=(s-b(a))*t}}))}))}function h(t){function i(t){return b(t.target)*t.value}a.slice().reverse().forEach((function(a){a.forEach((function(a){if(a.sourceLinks.length){var s=e(a.sourceLinks,i)/e(a.sourceLinks,v);a.y+=(s-b(a))*t}}))}))}function l(){a.forEach((function(t){var e,i,a,s=0,r=t.length;for(t.sort(c),a=0;a<r;++a)(i=s-(e=t[a]).y)>0&&(e.y+=i),s=e.y+e.dy+g;if((i=s-g-u[1])>0)for(s=e.y-=i,a=r-2;a>=0;--a)(i=(e=t[a]).y+e.dy+g-s)>0&&(e.y-=i),s=e.y}))}function c(t,e){return t.y-e.y}}(i),x(),y(),d},d.relayout=function(){return x(),y(),d},d.link=function(){var t=.5;function e(e){var a=e.source.x+e.source.dx,s=e.target.x,r=i(a,s),n=r(t),o=r(1-t),h=e.source.y+e.sy+e.dy/2,l=e.target.y+e.ty+e.dy/2;return"M"+a+","+h+"C"+n+","+h+" "+o+","+l+" "+s+","+l}return e.curvature=function(i){return arguments.length?(t=+i,e):t},e},d},this.setSankey=function(){var t=this.getD3Sankey();t.nodeWidth(this.sankeyNodeWidth),t.nodePadding(this.margin),t.size([this.x-8*this.margin,this.y-4*this.margin]),t.nodes(this.data.sankey.nodes),t.links(this.data.sankey.links),t.layout(this.sankeyIterations),this.data.sankey.object=t},this.getD3Tree=function(){var t=this,e=function(t,e,i){var a=i/(e.i-t.i);e.c-=a,e.s+=i,t.c+=a,e.z+=i,e.m+=i},i=function(t,e,i){return t.a.parent===e.parent?t.a:i},a=function(t){var e=t.children;return e?e[0]:t.t},s=function(t){var e=t.children;return e?e[e.length-1]:t.t},r=function(t,e){return t.parent===e.parent?1:2},n=1,o=1,h=null,l=function(t){t.data=t.data.data},c=function(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)},d=function(t,e){var i,a,s,r,n,o=new p(t),h=+t.value&&(o.value=t.value),l=[o];for(null==e&&(e=function(t){return t.children});i=l.pop();)if(h&&(i.value=+i.data.value),(s=e(i.data))&&(n=s.length))for(i.children=new Array(n),r=n-1;r>=0;--r)l.push(a=i.children[r]=new p(s[r])),a.parent=i,a.depth=i.depth+1;return o.eachBefore(c)},p=function(e){this.data=e,this.depth=0,this.height=0,this.parent=null,null==this.nid&&(this.id=t.treeNodeId++)};p.prototype=d.prototype={constructor:p,count:function(){return this.eachAfter(count)},each:function(t){var e,i,a,s,r=this,n=[r];do{for(e=n.reverse(),n=[];r=e.pop();)if(t(r),i=r.children)for(a=0,s=i.length;a<s;++a)n.push(i[a])}while(n.length);return this},eachAfter:function(t){for(var e,i,a,s=this,r=[s],n=[];s=r.pop();)if(n.push(s),e=s.children)for(i=0,a=e.length;i<a;++i)r.push(e[i]);for(;s=n.pop();)t(s);return this},eachBefore:function(t){for(var e,i,a=this,s=[a];a=s.pop();)if(t(a),e=a.children)for(i=e.length-1;i>=0;--i)s.push(e[i]);return this},sum:function(t){return this.eachAfter((function(e){for(var i=+t(e.data)||0,a=e.children,s=a&&a.length;--s>=0;)i+=a[s].value;e.value=i}))},sort:function(t){return this.eachBefore((function(e){e.children&&e.children.sort(t)}))},path:function(t){for(var e=this,i=function(t,e){if(t===e)return t;var i=t.ancestors(),a=e.ancestors(),s=null;for(t=i.pop(),e=a.pop();t===e;)s=t,t=i.pop(),e=a.pop();return s}(e,t),a=[e];e!==i;)e=e.parent,a.push(e);for(var s=a.length;t!==i;)a.splice(s,0,t),t=t.parent;return a},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){var t=[];return this.each((function(e){t.push(e)})),t},leaves:function(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t},links:function(){var t=this,e=[];return t.each((function(i){i!==t&&e.push({source:i.parent,target:i})})),e},copy:function(){return d(this).eachBefore(l)}};var g=function(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e};g.prototype=Object.create(p.prototype);function u(t){var e=function(t){for(var e,i,a,s,r,n=new g(t,0),o=[n];e=o.pop();)if(a=e._.children)for(e.children=new Array(r=a.length),s=r-1;s>=0;--s)o.push(i=e.children[s]=new g(a[s],s)),i.parent=e;return(n.parent=new g(null,0)).children=[n],n}(t);if(e.eachAfter(m),e.parent.m=-e.z,e.eachBefore(f),h)t.eachBefore(y);else{var i=t,a=t,s=t;t.eachBefore((function(t){t.x<i.x&&(i=t),t.x>a.x&&(a=t),t.depth>s.depth&&(s=t)}));var l=i===a?1:r(i,a)/2,c=l-i.x,d=n/(a.x+l+c),p=o/(s.depth||1);t.eachBefore((function(t){t.x=(t.x+c)*d,t.y=t.depth*p}))}return t}function m(t){var n=t.children,o=t.parent.children,h=t.i?o[t.i-1]:null;if(n){!function(t){for(var e,i=0,a=0,s=t.children,r=s.length;--r>=0;)(e=s[r]).z+=i,e.m+=i,i+=e.s+(a+=e.c)}(t);var l=(n[0].z+n[n.length-1].z)/2;h?(t.z=h.z+r(t._,h._),t.m=t.z-l):t.z=l}else h&&(t.z=h.z+r(t._,h._));t.parent.A=function(t,n,o){if(n){for(var h,l=t,c=t,d=n,p=l.parent.children[0],g=l.m,u=c.m,m=d.m,f=p.m;d=s(d),l=a(l),d&&l;)p=a(p),(c=s(c)).a=t,(h=d.z+m-l.z-g+r(d._,l._))>0&&(e(i(d,t,o),t,h),g+=h,u+=h),m+=d.m,g+=l.m,f+=p.m,u+=c.m;d&&!s(c)&&(c.t=d,c.m+=m-u),l&&!a(p)&&(p.t=l,p.m+=g-f,o=t)}return o}(t,h,t.parent.A||o[0])}function f(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function y(t){t.x*=n,t.y=t.depth*o}return u.separation=function(t){return arguments.length?(r=t,u):r},u.size=function(t){return arguments.length?(h=!1,n=+t[0],o=+t[1],u):h?null:[n,o]},u.nodeSize=function(t){return arguments.length?(h=!0,n=+t[0],o=+t[1],u):h?[n,o]:null},u.setTree=function(t,e){return d(t,e)},u.collapse=function(t){u.collapseTree(t),u.update(t)},u.expand=function(t){u.expandTree(t),u.update(t)},u.collapseTree=function(t){t.children&&(t._children=t.children,t._children.forEach(u.collapseTree),t.children=null)},u.expandTree=function(t){t._children&&(t.children=t._children,t.children.forEach(u.expandTree),delete t._children)},u},this.setTree=function(){var t=[],e=this.isDOE?6*this.margin:0;t=this.treeCircular?this.x>this.y?[360,this.y/2]:[360,this.x/2]:["vertical"==this.graphOrientation?this.x-e:this.y,"vertical"==this.graphOrientation?this.y:this.x-e];this.data.tree.object=this.treeCircular?this.getD3Tree().size(t).separation((function(t,e){return(t.parent==e.parent?1:2)/t.depth})):this.getD3Tree().size(t),this.data.tree.root||(this.data.tree.root=this.getD3Tree().setTree(this.data.tree.data,(function(t){return t.children}))),this.data.tree.plot=this.data.tree.object(this.data.tree.root),this.data.tree.plot.size=t},this.getD3CirclePack=function(){var t=this,e=function(t){t.data=t.data.data},i=function(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)},a=function(t,e){var a,r,n,o,h,l=new s(t),c=+t.value&&(l.value=t.value),d=[l];for(null==e&&(e=function(t){return t.children});a=d.pop();)if(c&&(a.value=+a.data.value),(n=e(a.data))&&(h=n.length))for(a.children=new Array(h),o=h-1;o>=0;--o)d.push(r=a.children[o]=new s(n[o])),r.parent=a,r.depth=a.depth+1;return l.eachBefore(i)},s=function(e){this.data=e,this.depth=0,this.height=0,this.parent=null,null==this.nid&&(this.id=t.treeNodeId++)};s.prototype=a.prototype={constructor:s,count:function(){return this.eachAfter(count)},each:function(t){var e,i,a,s,r=this,n=[r];do{for(e=n.reverse(),n=[];r=e.pop();)if(t(r),i=r.children)for(a=0,s=i.length;a<s;++a)n.push(i[a])}while(n.length);return this},eachAfter:function(t){for(var e,i,a,s=this,r=[s],n=[];s=r.pop();)if(n.push(s),e=s.children)for(i=0,a=e.length;i<a;++i)r.push(e[i]);for(;s=n.pop();)t(s);return this},eachBefore:function(t){for(var e,i,a=this,s=[a];a=s.pop();)if(t(a),e=a.children)for(i=e.length-1;i>=0;--i)s.push(e[i]);return this},sum:function(t){return this.eachAfter((function(e){for(var i=+t(e.data)||0,a=e.children,s=a&&a.length;--s>=0;)i+=a[s].value;e.value=i}))},sort:function(t){return this.eachBefore((function(e){e.children&&e.children.sort(t)}))},path:function(t){for(var e=this,i=function(t,e){if(t===e)return t;var i=t.ancestors(),a=e.ancestors(),s=null;for(t=i.pop(),e=a.pop();t===e;)s=t,t=i.pop(),e=a.pop();return s}(e,t),a=[e];e!==i;)e=e.parent,a.push(e);for(var s=a.length;t!==i;)a.splice(s,0,t),t=t.parent;return a},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){var t=[];return this.each((function(e){t.push(e)})),t},leaves:function(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t},links:function(){var t=this,e=[];return t.each((function(i){i!==t&&e.push({source:i.parent,target:i})})),e},copy:function(){return a(this).eachBefore(e)}};var r=null,n=1,o=1,h=function(t){this._=t,this.next=null},l=function(t){return d(function(t){for(var e=(t=t.slice()).length,i=null,a=i;e;){var s=new h(t[e-1]);a=a?a.next=s:i=s,t[void 0]=t[--e]}return{head:i,tail:a}}(t),[])},c=function(t,e){var i=e.x-t.x,a=e.y-t.y,s=t.r-e.r;return s*s+1e-6>i*i+a*a},d=function(t,e){var i,a,s,r=null,n=t.head;switch(e.length){case 1:i=p(e[0]);break;case 2:i=g(e[0],e[1]);break;case 3:i=u(e[0],e[1],e[2])}for(;n;)s=n._,a=n.next,i&&c(i,s)?r=n:(r?(t.tail=r,r.next=null):t.head=t.tail=null,e.push(s),i=d(t,e),e.pop(),t.head?(n.next=t.head,t.head=n):(n.next=null,t.head=t.tail=n),(r=t.tail).next=a),n=a;return t.tail=r,i},p=function(t){return{x:t.x,y:t.y,r:t.r}},g=function(t,e){var i=t.x,a=t.y,s=t.r,r=e.x,n=e.y,o=e.r,h=r-i,l=n-a,c=o-s,d=Math.sqrt(h*h+l*l);return{x:(i+r+h/d*c)/2,y:(a+n+l/d*c)/2,r:(d+s+o)/2}},u=function(t,e,i){var a=t.x,s=t.y,r=t.r,n=e.x,o=e.y,h=e.r,l=i.x,c=i.y,d=i.r,p=2*(a-n),g=2*(s-o),u=2*(h-r),m=a*a+s*s-r*r-n*n-o*o+h*h,f=2*(a-l),y=2*(s-c),x=2*(d-r),b=a*a+s*s-r*r-l*l-c*c+d*d,v=f*g-p*y,A=(g*b-y*m)/v-a,w=(y*u-g*x)/v,C=(f*m-p*b)/v-s,T=(p*x-f*u)/v,S=w*w+T*T-1,D=2*(A*w+C*T+r),M=A*A+C*C-r*r,k=(-D-Math.sqrt(D*D-4*S*M))/(2*S);return{x:A+w*k+a,y:C+T*k+s,r:k}},m=function(t,e,i){var a=t.x,s=t.y,r=e.r+i.r,n=t.r+i.r,o=e.x-a,h=e.y-s,l=o*o+h*h;if(l){var c=.5+((n*=n)-(r*=r))/(2*l),d=Math.sqrt(Math.max(0,2*r*(n+l)-(n-=l)*n-r*r))/(2*l);i.x=a+c*o+d*h,i.y=s+c*h-d*o}else i.x=a+n,i.y=s},f=function(t,e){var i=e.x-t.x,a=e.y-t.y,s=t.r+e.r;return s*s-1e-6>i*i+a*a},y=function(t,e,i){var a=t._,s=t.next._,r=a.r+s.r,n=(a.x*s.r+s.x*a.r)/r-e,o=(a.y*s.r+s.y*a.r)/r-i;return n*n+o*o},x=function(t){this._=t,this.next=null,this.previous=null},b=function(t){if(!(i=t.length))return 0;var e,i,a=t[0];if(a.x=0,a.y=0,!(i>1))return a.r;var s=t[1];if(a.x=-s.r,s.x=a.r,s.y=0,!(i>2))return a.r+s.r;m(s,a,e=t[2]);var r,n,o,h,c,d,p=a.r*a.r,g=s.r*s.r,u=e.r*e.r,b=p+g+u,v=p*a.x+g*s.x+u*e.x,A=p*a.y+g*s.y+u*e.y;a=new x(a),s=new x(s),e=new x(e),a.next=e.previous=s,s.next=a.previous=e,e.next=s.previous=a;t:for(var w=3;w<i;++w){m(a._,s._,e=t[w]),e=new x(e),o=s.next,h=a.previous,c=s._.r,d=a._.r;do{if(c<=d){if(f(o._,e._)){s=o,a.next=s,s.previous=a,--w;continue t}c+=o._.r,o=o.next}else{if(f(h._,e._)){(a=h).next=s,s.previous=a,--w;continue t}d+=h._.r,h=h.previous}}while(o!==h.next);for(e.previous=a,e.next=s,a.next=s.previous=s=e,b+=u=e._.r*e._.r,v+=u*e._.x,A+=u*e._.y,p=y(a,r=v/b,n=A/b);(e=e.next)!==s;)(u=y(e,r,n))<p&&(a=e,p=u);s=a.next}for(a=[s._],e=s;(e=e.next)!==s;)a.push(e._);e=l(a);for(w=0;w<i;++w)(a=t[w]).x-=e.x,a.y-=e.y;return e.r},v=function(t){if("function"!=typeof t)throw new Error;return t},A=function(){return 0},w=function(t){return function(){return t}},C=function(t){return Math.sqrt(t.value)},T=function(t){return null==t?null:v(t)},S=function(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}},D=function(t,e){return function(i){if(a=i.children){var a,s,r,n=a.length,o=t(i)*e||0;if(o)for(s=0;s<n;++s)a[s].r+=o;if(r=b(a),o)for(s=0;s<n;++s)a[s].r-=o;i.r=r+o}}},M=function(t){return function(e){var i=e.parent;e.r*=t,i&&(e.x=i.x+t*e.x,e.y=i.y+t*e.y)}},k=A;function L(t){return t.x=n/2,t.y=o/2,r?t.eachBefore(S(r)).eachAfter(D(k,.5)).eachBefore(M(1)):t.eachBefore(S(C)).eachAfter(D(A,1)).eachAfter(D(k,t.r/Math.min(n,o))).eachBefore(M(Math.min(n,o)/(2*t.r))),t}return L.radius=function(t){return arguments.length?(r=T(t),L):r},L.size=function(t){return arguments.length?(n=+t[0],o=+t[1],L):[n,o]},L.padding=function(t){return arguments.length?(k="function"==typeof t?t:w(+t),L):k},L.setPack=function(t){return a(t).sum((function(t){return t.size})).sort((function(t,e){return e.value-t.value}))},L},this.setCirclePack=function(){Math.max(this.top,this.right);var t=this.width-(this.right+this.left+this.marginLeft+this.marginRight),e=this.height-(this.top+this.bottom+this.marginTop+this.marginBottom),i=t>e?e:t;this.data.bubble.object=this.getD3CirclePack().size([i,i]).padding(2),this.data.bubble.root||(this.data.bubble.root=this.getD3CirclePack().setPack(this.data.bubble.data)),this.data.bubble.plot=this.data.bubble.object(this.data.bubble.root),this.data.bubble.plot.diameter=i},this.getD3Contour=function(){var t=Math.sqrt(50),e=Math.sqrt(10),i=Math.sqrt(2),a=function(a,s,r){var n=(s-a)/Math.max(0,r),o=Math.floor(Math.log(n)/Math.LN10),h=n/Math.pow(10,o);return o>=0?(h>=t?10:h>=e?5:h>=i?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(h>=t?10:h>=e?5:h>=i?2:1)},s=function(a,s,r){var n=Math.abs(s-a)/Math.max(0,r),o=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),h=n/o;return h>=t?o*=10:h>=e?o*=5:h>=i&&(o*=2),s<a?-o:o},r=function(t){return t[0]},n=function(t){return t[1]},o=function(){return 1},h=function(t,e,i){for(var a=t.width,s=t.height,r=1+(i<<1),n=0;n<s;++n)for(var o=0,h=0;o<a+i;++o)o<a&&(h+=t.data[o+n*a]),o>=i&&(o>=r&&(h-=t.data[o-r+n*a]),e.data[o-i+n*a]=h/Math.min(o+1,a-1+r-o,r))},l=function(t,e,i){for(var a=t.width,s=t.height,r=1+(i<<1),n=0;n<a;++n)for(var o=0,h=0;o<s+i;++o)o<s&&(h+=t.data[n+o*a]),o>=i&&(o>=r&&(h-=t.data[n+(o-r)*a]),e.data[n+(o-i)*a]=h/Math.min(o+1,s-1+r-o,r))},c=Array.prototype.slice,d=function(t,e){return t-e},p=function(t){return function(){return t}},g=function(t,e){for(var i,a=-1,s=e.length;++a<s;)if(i=u(t,e[a]))return i;return 0},u=function(t,e){for(var i=e[0],a=e[1],s=-1,r=0,n=t.length,o=n-1;r<n;o=r++){var h=t[r],l=h[0],c=h[1],d=t[o],p=d[0],g=d[1];if(m(h,d,e))return 0;c>a!=g>a&&i<(p-l)*(a-c)/(g-c)+l&&(s=-s)}return s},m=function(t,e,i){var a;return f(t,e,i)&&y(t[a=+(t[0]===e[0])],i[a],e[a])},f=function(t,e,i){return(e[0]-t[0])*(i[1]-t[1])==(i[0]-t[0])*(e[1]-t[1])},y=function(t,e,i){return t<=e&&e<=i||i<=e&&e<=t},x=function(){},b=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];return function(){var t=1,e=1,i=function(t){return Math.ceil(Math.log(function(t,e){let i=0;if(void 0===e)for(let e in t){let a=t[e];null!=a&&(a=+a)>=a&&++i}else{let a=-1;for(let s in t){let r=t[s];null!=(r=e(r,++a,t))&&(r=+r)>=r&&++i}}return i}(t))/Math.LN2)+1},u=function(t){var e=i(t);if(Array.isArray(e))e=e.slice().sort(d);else{const i=function(t,e){var i,a,s,r=-1,n=t.length;if(1===arguments.length){for(;++r<n;)if(null!=(a=t[r])&&a>=a){i=s=a;break}for(;++r<n;)null!=(a=t[r])&&(i>a&&(i=a),s<a&&(s=a))}else{for(;++r<n;)if(null!=(a=e.call(t,t[r],r))&&a>=a){i=s=a;break}for(;++r<n;)null!=(a=e.call(t,t[r],r))&&(i>a&&(i=a),s<a&&(s=a))}return[i,s]}(t),r=s(i[0],i[1],e);e=function(t,e,i){var s,r,n,o,h=-1;if(i=+i,(t=+t)===(e=+e)&&i>0)return[t];if((s=e<t)&&(r=t,t=e,e=r),0===(o=a(t,e,i))||!isFinite(o))return[];if(o>0){let i=Math.round(t/o),a=Math.round(e/o);for(i*o<t&&++i,a*o>e&&--a,n=new Array(r=a-i+1);++h<r;)n[h]=(i+h)*o}else{o=-o;let i=Math.round(t*o),a=Math.round(e*o);for(i/o<t&&++i,a/o>e&&--a,n=new Array(r=a-i+1);++h<r;)n[h]=(i+h)/o}return s&&n.reverse(),n}(Math.floor(i[0]/r)*r,Math.floor(i[1]/r-1)*r,e)}return e.map((function(e){return v(t,e)}))},m=function(e){return 2*e[0]+e[1]*(t+1)*4},f=function(i,a,s){i.forEach((function(i){var r,n=i[0],o=i[1],h=0|n,l=0|o,c=a[l*t+h];n>0&&n<t&&h===n&&(r=a[l*t+h-1],i[0]=n+(s-r)/(c-r)-.5),o>0&&o<e&&l===o&&(r=a[(l-1)*t+h],i[1]=o+(s-r)/(c-r)-.5)}))},y=f,v=function(t,e){var i=[],a=[];return A(t,e,(function(s){y(s,t,e),function(t){for(var e=0,i=t.length,a=t[i-1][1]*t[0][0]-t[i-1][0]*t[0][1];++e<i;)a+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return a}(s)>0?i.push([s]):a.push(s)})),a.forEach((function(t){for(var e,a=0,s=i.length;a<s;++a)if(-1!==g((e=i[a])[0],t))return void e.push(t)})),{type:"MultiPolygon",value:e,coordinates:i}},A=function(i,a,s){var r,n,o,h,l,c,d=new Array,p=new Array,g=function(t){var e,i,a=[t[0][0]+r,t[0][1]+n],o=[t[1][0]+r,t[1][1]+n],h=m(a),l=m(o);(e=p[h])?(i=d[l])?(delete p[e.end],delete d[i.start],e===i?(e.ring.push(o),s(e.ring)):d[e.start]=p[i.end]={start:e.start,end:i.end,ring:e.ring.concat(i.ring)}):(delete p[e.end],e.ring.push(o),p[e.end=l]=e):(e=d[l])?(i=p[h])?(delete d[e.start],delete p[i.end],e===i?(e.ring.push(o),s(e.ring)):d[i.start]=p[e.end]={start:i.start,end:e.end,ring:i.ring.concat(e.ring)}):(delete d[e.start],e.ring.unshift(a),d[e.start=h]=e):d[h]=p[l]={start:h,end:l,ring:[a,o]}};for(r=n=-1,h=i[0]>=a,b[h<<1].forEach(g);++r<t-1;)o=h,h=i[r+1]>=a,b[o|h<<1].forEach(g);for(b[h<<0].forEach(g);++n<e-1;){for(r=-1,h=i[n*t+t]>=a,l=i[n*t]>=a,b[h<<1|l<<2].forEach(g);++r<t-1;)o=h,h=i[n*t+t+r+1]>=a,c=l,l=i[n*t+r+1]>=a,b[o|h<<1|l<<2|c<<3].forEach(g);b[h|l<<3].forEach(g)}for(r=-1,l=i[n*t]>=a,b[l<<2].forEach(g);++r<t-1;)c=l,l=i[n*t+r+1]>=a,b[l<<2|c<<3].forEach(g);b[l<<3].forEach(g)};return u.contour=v,u.size=function(i){if(!arguments.length)return[t,e];var a=Math.ceil(i[0]),s=Math.ceil(i[1]);if(!(a>0&&s>0))throw new Error("invalid size");return t=a,e=s,u},u.thresholds=function(t){return arguments.length?(i="function"==typeof t?t:Array.isArray(t)?p(c.call(t)):p(t),u):i},u.smooth=function(t){return arguments.length?(y=t?f:x,u):y===f},u.density=function(){var t=r,e=n,i=o,a=960,d=500,g=20,u=2,m=3*g,f=a+2*m>>u,y=d+2*m>>u,x=p(20),b=function(a){var r=new Float32Array(f*y),n=new Float32Array(f*y);a.forEach((function(a,s,n){var o=+t(a,s,n)+m>>u,h=+e(a,s,n)+m>>u,l=+i(a,s,n);o>=0&&o<f&&h>=0&&h<y&&(r[o+h*f]+=l)})),h({width:f,height:y,data:r},{width:f,height:y,data:n},g>>u),l({width:f,height:y,data:n},{width:f,height:y,data:r},g>>u),h({width:f,height:y,data:r},{width:f,height:y,data:n},g>>u),l({width:f,height:y,data:n},{width:f,height:y,data:r},g>>u),h({width:f,height:y,data:r},{width:f,height:y,data:n},g>>u),l({width:f,height:y,data:n},{width:f,height:y,data:r},g>>u);var o=x(r);if(!Array.isArray(o)){var c=function(t,e){var i,a,s=-1,r=t.length;if(1===arguments.length){for(;++s<r;)if(null!=(a=t[s])&&a>=a){i=a;break}for(;++s<r;)null!=(a=t[s])&&a>i&&(i=a)}else{for(;++s<r;)if(null!=(a=e.call(t,t[s],s))&&a>=a){i=a;break}for(;++s<r;)null!=(a=e.call(t,t[s],s))&&a>i&&(i=a)}return i}(r);o=s(0,c,o),(o=function(t,e,i){t=+t,e=+e,i=(s=arguments.length)<2?(e=t,t=0,1):s<3?1:+i;for(var a=-1,s=0|Math.max(0,Math.ceil((e-t)/i)),r=new Array(s);++a<s;)r[a]=t+a*i;return r}(0,Math.floor(c/o)*o,o)).shift()}return[o,[f,y],r,v]},v=function(t){return t.value*=Math.pow(2,-2*u),t.coordinates.forEach(A),t},A=function(t){t.forEach(w)},w=function(t){t.forEach(C)},C=function(t){t[0]=t[0]*Math.pow(2,u)-m,t[1]=t[1]*Math.pow(2,u)-m},T=function(){return f=a+2*(m=3*g)>>u,y=d+2*m>>u,b};return b.x=function(e){return arguments.length?(t="function"==typeof e?e:p(+e),b):t},b.y=function(t){return arguments.length?(e="function"==typeof t?t:p(+t),b):e},b.weight=function(t){return arguments.length?(i="function"==typeof t?t:p(+t),b):i},b.size=function(t){if(!arguments.length)return[a,d];var e=+t[0],i=+t[1];if(!(e>=0&&i>=0))throw new Error("invalid size");return a=e,d=i,T()},b.cellSize=function(t){if(!arguments.length)return 1<<u;if(!((t=+t)>=1))throw new Error("invalid cell size");return u=Math.floor(Math.log(t)/Math.LN2),T()},b.thresholds=function(t){return arguments.length?(x="function"==typeof t?t:Array.isArray(t)?p(c.call(t)):p(t),b):x},b.bandwidth=function(t){if(!arguments.length)return Math.sqrt(g*(g+1));if(!((t=+t)>=0))throw new Error("invalid bandwidth");return g=Math.round((Math.sqrt(4*t*t+1)-1)/2),T()},b},u}},this.circularLayout=function(t,e){var i=this;if(t.length>0){var a,s,r;e||(a=this.x/2,s=this.y/2,r=Math.max(this.x,this.y)),this.calculateCircularLayoutFinalNodePosition(t,a,s,r);var n=function(){i.iteration<=15?(i.updateCircularLayoutNodePositions(t),i.renderNetwork(!1),i.drawNetworkProgressBar("Optimizing ...",i.iteration/15),i.requestAnimationFrame(n)):i.finalizeNetworkLayout("circularLayout")};n()}},this.calculateCircularLayoutFinalNodePosition=function(t,e,i,a){if(this.sizeNodeBy){for(var s=0,r=0;r<t.length;r++){(h=t[r]).hide||(s+=this.nodeSize*this.getNodeEdgePropertyValue(h,!1,"sizeNodeBy")*2+this.nodeSize)}var n=2*Math.PI/s,o=0;for(r=0;r<t.length;r++){var h=t[r];s=this.nodeSize*this.getNodeEdgePropertyValue(h,!1,"sizeNodeBy")*2+this.nodeSize;h.hide||(o+=n*s*.5,h.layout.lastPosition.x=e+a+a*Math.sin(o),h.layout.lastPosition.y=i+a+a*Math.cos(o),h.layout.lastPosition.r=this.networkRadialRadius,h.layout.lastPosition.a=180*o/Math.PI,h.radius=this.networkRadialRadius,h.angle=180*o/Math.PI,o+=n*s*.5)}}else for(n=2*Math.PI/t.length,r=0;r<t.length;r++){(h=t[r]).hide||(h.layout.lastPosition.x=e+a+a*Math.sin(r*n),h.layout.lastPosition.y=i+a+a*Math.cos(r*n),h.layout.lastPosition.r=this.networkRadialRadius,h.layout.lastPosition.a=r*n*180/Math.PI,h.radius=this.networkRadialRadius,h.angle=r*n*180/Math.PI)}},this.updateCircularLayoutNodePositions=function(t){for(var e=.5*Math.atan(this.iteration++/15*10-5)/Math.atan(5)+.5,i=0;i<t.length;i++){var a=t[i].layout,s=a.lastPosition,r=s.a*e,n=s.r*e,o=this.getPolar(this.networkXCenter,this.networkYCenter,n,r);a.position.x=o.x,a.position.y=o.y}this.updateLayoutNodePositions(t)},this.radialLayout=function(t,e){var i=this;if(t&&t.length){this.calculateRadialLayoutFinalNodePosition(e),this.resetRadialLayoutNodePositions(t);var a=function(){i.iteration<15?(i.updateRadialLayoutNodePositions(t),i.renderNetwork(!1),i.drawNetworkProgressBar("Optimizing ...",i.iteration/15),i.requestAnimationFrame(a)):i.finalizeNetworkLayout("radialLayout")};a()}},this.orderRadialLayout=function(t){for(var e=this.data.nodeIndices[t],i=0,a=e;a<this.data.nodes.length;a++)this.data.nodes[a].layout.order=i++;for(a=0;a<e;a++)this.data.nodes[a].layout.order=i++},this.updateRadialLayoutNodePositions=function(t){for(var e=.5*Math.atan(this.iteration++/15*10-5)/Math.atan(5)+.5,i=1-e,a=0;a<t.length;a++){var s=t[a].layout,r=s.lastPosition,n=i*s.angle+e*r.a,o=i*s.radius+e*r.r,h=this.getPolar(this.networkXCenter,this.networkYCenter,o,n);t[a].layout.position.x=h.x,t[a].layout.position.y=h.y}this.updateLayoutNodePositions(t)},this.resetRadialLayoutNodePositions=function(t){for(var e=0;e<t.length;e++){var i=t[e].layout,a=i.lastPosition;0==a.r&&(i.angle=a.a),0==a.r&&(a.a=i.angle);var s=a.a-i.angle;s<0&&(s+=360),s>360&&(s-=360),s>180&&(s-=360),a.a=i.angle+s}},this.calculateRadialLayoutFinalNodePosition=function(t,e){var i=this,a=0,s=[],r=this.data.nodes[this.data.nodeIndices[t]],n=r.layout;if("done"!=n.hierarchy&&!r.hide&&!r.hiddenParent){if(n.children.length>1&&!e){this.orderRadialLayout(t),n.children.sort((function(t,e){var a=i.data.nodes[i.data.nodeIndices[t]].layout,s=i.data.nodes[i.data.nodeIndices[e]].layout;return a.order-s.order}));for(var o=0;o<n.children.length;o++){var h=n.children[o],l=this.data.nodes[this.data.nodeIndices[h]].layout;l.level>n.level&&(this.calculateRadialLayoutFinalNodePosition(h),s.push(l.angle))}if(s.length>0){var c=s.length-1;a=1==s.length?s[0]:s[0]>s[c]?(s[0]+s[c])%360/2:(s[0]+s[c])/2}else this.calculateRadialLayoutFinalNodePosition(t,!0)}else a=this.networkCurrentAngle,this.networkCurrentAngle=this.networkCurrentAngle+this.networkAngleStep;var d=this.networkDepth-1-n.level,p=this.getPolar(this.networkXCenter,this.networkYCenter,this.networkRadialRadius,a),g=this.shortenLine(this.networkXCenter,this.networkYCenter,p.x,p.y,0,this.networkLevelSize*d,"line"),u=this.lineLength(this.networkXCenter,this.networkYCenter,g[2],g[3]);0==n.level&&(a=0,u=0),n.lastPosition.x=g[2],n.lastPosition.y=g[3],n.lastPosition.r=u,n.lastPosition.a=a%360,n.hierarchy="done",n.angle=a}},this.forceDirectedLayout=function(t,e){var i=this;if(t&&t.length){var a=function(){i.calculateForcedDirectedLayoutMovement(t,e)/t.length>=.01&&i.iteration<i.maxIterations?(i.iteration++,i.iteration%2&&i.renderNetwork(!1),i.drawNetworkProgressBar("Optimizing ...",i.iteration/i.maxIterations),i.requestAnimationFrame(a)):i.finalizeNetworkLayout("forceDirectedLayout")};a()}},this.calculateForcedDirectedLayoutMovement=function(t,e){return this.useBarnesHutSimulation||e?(this.accumulateForceDirectedLayoutForces(),this.integrateForceDirectedLayout(t)):(this.setForceDirectedLayoutNodeDisplacement(t),this.integrateForceDirectedLayoutDisplacement(t))},this.integrateForceDirectedLayoutDisplacement=function(t){var e=this.averageForceDirectedLayoutMovement(t),i=t.length;if(i)for(;i--;){var a=t[i];!a.fixed&&this.iteration%2&&(a.layout.prevPosition.x=a.layout.position.x,a.layout.prevPosition.y=a.layout.position.y)}return this.updateLayoutNodePositions(t),e*t.length},this.setForceDirectedLayoutNodeDisplacement=function(t){for(var e={},i=[],a=t.length,s=0;s<a;s++){for(var r=t[s],n=0;n<r.layout.edges.length;n++){var o=r.layout.edges[n],h=o.id1+":"+o.id2;e.hasOwnProperty(h)||(i.push(o),e[h]=!0)}r.fixed||this.iteration||(r.layout.displacement={x:r.x,y:r.y,z:r.z},r.layout.force={x:0,y:0,z:0})}this.calculateForceDirectedLayoutRepulsiveDisplacement(t),this.calculateForceDirectedLayoutAttractiveDisplacement(t,i),this.applyForceDirectedLayoutDisplacement(t)},this.calculateForceDirectedLayoutRepulsiveDisplacement=function(t){for(var e=this,i=t.length,a=Math.sqrt(i*i/i+1),s=function(t){switch(e.repulsiveForceFunction){case"FruchtermanReingold":case"square":return a*a/t;case"cubic":return a*a*a/t;case"Eades":case"log":return a/Math.log(t);case"pow":return a*Math.pow(2,t);case"sqrt":return a/Math.sqrt(t)}},r=0;r<i;r++){var n=t[r],o=n.layout.displacement,h=n.layout.force;if(!n.fixed)for(var l=0;l<i;l++)if(r!=l){var c=t[l].layout.displacement,d=o.x-c.x,p=o.y-c.y,g=o.z-c.z,u=Math.sqrt(d*d+p*p+g*g)+.01,m=s(u);h.x+=d/u*m,h.y+=p/u*m,h.z+=g/u*m}}},this.calculateForceDirectedLayoutAttractiveDisplacement=function(t,e){for(var i=this,a=t.length,s=Math.sqrt(a*a/a+1),r=function(t){switch(i.attractiveForceFunction){case"FruchtermanReingold":case"square":return t*t/s;case"cubic":return t*t*t/s;case"Eades":case"log":return t*Math.log(m);case"pow":return t*Math.pow(2,s);case"sqrt":return t/Math.sqrt(s)}},n=(a=e.length,0);n<a;n++){var o=e[n],h=this.nodes[o.id1],l=this.nodes[o.id2],c=h.layout.displacement,d=l.layout.displacement,p=h.layout.force,g=l.layout.force,u=c.x-d.x,f=c.y-d.y,y=c.z-d.z,x=Math.sqrt(u*u+f*f+y*y)+.01,b=r(x);h.fixed||(p.x-=u/x*b,p.y-=f/x*b,p.z-=y/x*b),l.fixed||(g.x+=u/x*b,g.y+=f/x*b,g.z+=y/x*b)}},this.applyForceDirectedLayoutDisplacement=function(t){for(var e=t.length,i=Math.sqrt(e*e)/10,a=Math.sqrt(e*e/e+1),s=0;s<e;s++){var r=t[s].layout.displacement,n=t[s].layout.force,o=Math.sqrt(r.x*r.x+r.y*r.y+r.z*r.z),h=a*this.networkGravity*o*.01;if(n.x-=h*r.x/o,n.y-=h*r.y/o,n.z-=h*r.z/o,n.x*=this.networkSpeed,n.y*=this.networkSpeed,n.z*=this.networkSpeed,!t[s].fixed){var l=n.x,c=n.y,d=n.z;if((o=Math.sqrt(l*l+c*c+d*d))>0){var p=Math.min(i*this.networkSpeed,o);r.x+=l/o*p,r.y+=c/o*p,r.z+=d/o*p}}}for(s=0;s<e;s++){var g=t[s];r=t[s].layout.displacement;g.layout.position={x:r.x,y:r.y,z:r.z}}},this.accumulateForceDirectedLayoutForces=function(){var t=this.data.nodes,e=this.data.edges,i=t.length;if(i)for(var a=this.barnesHutInsertBodies(t);i--;){var s=t[i];s.fixed||(s.layout.force={x:0,y:0,z:0},this.barnesHutUpdateBodyForce(s,a),this.updateForceDirectedLayoutDragForce(s))}for(i=e.length;i--;)this.updateForceDirectedLayoutSpringForce(e[i]);this.updateLayoutNodePositions(t)},this.barnesHutNewNode=function(){this.barnesHutNodesCache[this.barnesHutNodesCacheCurrent]={body:null,quad0:null,quad1:null,quad2:null,quad3:null,quad4:null,quad5:null,quad6:null,quad7:null,mass:0,massX:0,massY:0,left:0,top:0,bottom:0,right:0,back:0,front:0};var t=this.barnesHutNodesCache[this.barnesHutNodesCacheCurrent];return++this.barnesHutNodesCacheCurrent,t},this.barnesHutInsertBodies=function(t,e){for(var i=this,a=function(t){var a,s,r=function(t,e,i){0===e?t.quad0=i:1===e?t.quad1=i:2===e?t.quad2=i:3===e&&(t.quad3=i)},n=function(t,e){var i=Math.abs(t.x-e.x),a=Math.abs(t.y-e.y),s=Math.abs(t.z-e.z);return i<1e-8&&a<1e-8&&s<1e-8},o={stack:[],popIdx:0,isEmpty:function(){return 0===this.popIdx},push:function(t,e){this.stack[this.popIdx]={node:t,body:e},++this.popIdx},pop:function(){if(this.popIdx>0)return this.stack[--this.popIdx]},reset:function(){this.popIdx=0}};for(o.reset(),o.push(e,t);!o.isEmpty();){var h=o.pop(),l=h.node,c=h.body;if(l.body){var d=l.body;if(l.body=null,n(d.layout.position,c.layout.position)){for(var p=3;p>0&&n(d.layout.position,c.layout.position);){var g=i.random(),u=(l.right-l.left)*g,m=(l.bottom-l.top)*g,f=(l.front-l.back)*g;d.layout.position.x=l.left+u,d.layout.position.y=l.top+m,d.layout.position.z=l.back+f,p-=1}if(0===p&&n(d.layout.position,c.layout.position))return}o.push(l,d),o.push(l,c)}else{var y=c.layout.position.x,x=c.layout.position.y,b=c.layout.position.z;l.mass=l.mass+c.layout.mass,l.massX=l.massX+c.layout.mass*y,l.massY=l.massY+c.layout.mass*x,l.massZ=l.massZ+c.layout.mass*b;var v=0,A=l.left,w=(l.right+A)/2,C=l.top,T=(l.bottom+C)/2,S=l.back,D=(l.front-S)/2;if(this.is3DNetwork){if(y>w){v+=1;var M=A;A=w,w+=w-M}if(x>T){v+=2;var k=C;C=T,T+=T-k}if(b>D){v+=4;var L=S;D=(S=D)+(S-L)}}else y>w&&(v+=1,A=w,w=l.right),x>T&&(v+=2,C=T,T=l.bottom);var I=(a=l,0===(s=v)?a.quad0:1===s?a.quad1:2===s?a.quad2:3===s?a.quad3:null);I?o.push(I,c):((I=i.barnesHutNewNode()).left=A,I.top=C,I.right=w,I.bottom=T,I.back=S,I.front=D,I.body=c,r(l,v,I))}}},s=Number.MAX_VALUE,r=Number.MAX_VALUE,n=Number.MAX_VALUE,o=Number.MIN_VALUE,h=Number.MIN_VALUE,l=Number.MIN_VALUE,c=t.length,d=c;d--;){var p=t[d].layout.position.x,g=t[d].layout.position.y,u=t[d].layout.position.y;p<s&&(s=p),p>o&&(o=p),g<r&&(r=g),g>h&&(h=g),u<n&&(n=u),u>l&&(l=u)}var m=o-s,f=h-r,y=l-n,x=Math.max(m,Math.max(f,y));for(this.is3DNetwork?(o=s+x,h=r+x,l=n+x):m>f?h=r+m:o=s+f,this.barnesHutNodesCacheCurrent=0,(e=this.barnesHutNewNode()).left=s,e.right=o,e.top=r,e.bottom=h,e.back=n,e.from=l,(d=c-1)>=0&&(e.body=t[d]);d--;)a(t[d]);return e},this.barnesHutUpdateBodyForce=function(t,e){var i,a,s,r,n,o=this.barnesHutUpdateQueue,h=0,l=0,c=0,d=1,p=0,g=1;for(o[0]=e;d;){var u=o[p],m=u.body;d-=1,p+=1;var f=m!==t;m&&f?(a=m.layout.position.x-t.layout.position.x,s=m.layout.position.y-t.layout.position.y,r=m.layout.position.z-t.layout.position.z,0===(n=Math.sqrt(a*a+s*s+r*r))&&(a=(this.random()-.5)/50,s=(this.random()-.5)/50,r=(this.random()-.5)/50,n=Math.sqrt(a*a+s*s+r*r)),h+=(i=this.networkRepulsion*m.layout.mass*t.layout.mass/(n*n*n))*a,l+=i*s,c+=i*r):f&&(a=u.massX/u.mass-t.layout.position.x,s=u.massY/u.mass-t.layout.position.y,r=u.massZ/u.mass-t.layout.position.z,0===(n=Math.sqrt(a*a+s*s+r*r))&&(a=(this.random()-.5)/50,s=(this.random()-.5)/50,r=(this.random()-.5)/50,n=Math.sqrt(a*a+s*s+r*r)),(u.right-u.left)/n<this.networkTheta?(h+=(i=this.networkRepulsion*u.mass*t.layout.mass/(n*n*n))*a,l+=i*s,c+=i*r):(u.quad0&&(o[g]=u.quad0,d+=1,g+=1),u.quad1&&(o[g]=u.quad1,d+=1,g+=1),u.quad2&&(o[g]=u.quad2,d+=1,g+=1),u.quad3&&(o[g]=u.quad3,d+=1,g+=1),this.is3DNetwork&&(u.quad4&&(o[g]=u.quad4,d+=1,g+=1),u.quad5&&(o[g]=u.quad5,d+=1,g+=1),u.quad6&&(o[g]=u.quad6,d+=1,g+=1),u.quad7&&(o[g]=u.quad7,d+=1,g+=1))))}t.layout.force.x+=h,t.layout.force.y+=l,t.layout.force.z+=c},this.updateLayoutNodePositions=function(t){for(var e=t.length;e--;)t[e].x=t[e].layout.position.x,t[e].y=t[e].layout.position.y,t[e].z=t[e].layout.position.z},this.updateForceDirectedLayoutSpringForce=function(t){var e=this.data.nodes[this.data.nodeIndices[t.id1]],i=this.data.nodes[this.data.nodeIndices[t.id2]],a=t.layout.length<0?this.networkSpringLength:t.layout.length,s=i.layout.position.x-e.layout.position.x,r=i.layout.position.y-e.layout.position.y,n=Math.sqrt(s*s+r*r);0===n&&(s=(this.random()-.5)/50,r=(this.random()-.5)/50,n=Math.sqrt(s*s+r*r));var o=n-a,h=(!t.layout.coeff||t.layout.coeff<0?this.networkSpringCoeff:t.layout.coeff)*o/n*t.layout.weight;e.layout.force.x+=h*s,e.layout.force.y+=h*r,i.layout.force.x-=h*s,i.layout.force.y-=h*r},this.integrateForceDirectedLayout=function(t){var e=0,i=0,a=0,s=0,r=t.length;if(0===r)return 0;for(var n=0;n<r;++n){var o=t[n],h=this.networkTimeStep/o.layout.mass;o.layout.velocity.x+=h*o.layout.force.x,o.layout.velocity.y+=h*o.layout.force.y;var l=o.layout.velocity.x,c=o.layout.velocity.y,d=Math.sqrt(l*l+c*c);d>1&&(o.layout.velocity.x=l/d,o.layout.velocity.y=c/d),e=this.networkTimeStep*o.layout.velocity.x,a=this.networkTimeStep*o.layout.velocity.y,o.layout.position.x+=e,o.layout.position.y+=a,i+=Math.abs(e),s+=Math.abs(a)}return(i*i+s*s)/r},this.updateForceDirectedLayoutDragForce=function(t){t.layout.force.x-=this.networkDragCoeff*t.layout.velocity.x,t.layout.force.y-=this.networkDragCoeff*t.layout.velocity.y},this.averageForceDirectedLayoutMovement=function(t){for(var e=t.length,i=0,a=0;e--;){var s=t[e],r=s.layout.position,n=s.layout.prevPosition;i+=Math.abs(r.x-n.x),a+=Math.abs(r.y-n.y)}return Math.sqrt(i*i+a*a)/t.length},this.networkBetweenness=function(t,e){for(var i=this,a=[],s=[],r={},n={},o={},h={},l={},c=function(h){for(var l=function(t,e){-1===n[e]&&(n[e]=n[t]+1,a.push(e)),n[e]===n[t]+1&&(o[e]+=o[t],r[e].push(t))},c=function(t){return e?function(t){for(var e=i.nodes[t].layout.edges,a=0;a<e.length;a++){var s=e[a].id1;if(t==s&&l(t,s))return!0}}(t):function(t){for(var e=i.nodes[t].layout.edges,a=0;a<e.length;a++){var s=e[a],r=s.id1==t?s.id2:s.id1;if(l(t,r))return!0}}(t)},d=0;d<t.length;d++)r[t[d].id]=[],n[t[d].id]=-1,o[t[d].id]=0;for(n[h]=0,o[h]=1,a.push(h);a.length;){var p=a.shift();s.push(p),c(p)}},d=function(){for(var e=0;e<t.length;e++)h[t[e].id]=0;for(;s.length;){var i=s.pop(),a=(1+h[i])/o[i],n=r[i];for(e=0;e<n.length;++e){var c=n[e];h[c]+=o[c]*a}i!==g.id&&(l[i]+=h[i])}},p=0;p<t.length;p++){(g=t[p].layout).metrics||(g.metrics={betweenness:-1,closeness:-1,degree:-1,eccentricity:-1},g.edges=this.edgesForNode(this.data.edges,t[p].id)),l[t[p].id]=0}for(p=0;p<t.length;p++){c((g=t[p]).id),d()}for(p=0;p<t.length;p++){var g;(g=t[p].layout).metrics.betweenness=e?l[t[p].id]:l[t[p].id]/2}},this.networkCloseness=function(t,e){for(var i,a=this,s=[],r={},n={},o=function(i){for(var n=function(t,e){-1===r[e]&&(r[e]=r[t]+1,s.push(e))},o=function(t){return e?function(t){for(var e=a.nodes[t].layout.edges,i=0;i<e.length;i++){var s=e[i].id1;if(t==s&&n(t,s))return!0}}(t):function(t){for(var e=a.nodes[t].layout.edges,i=0;i<e.length;i++){var s=e[i],r=s.id1==t?s.id2:s.id1;if(n(t,r))return!0}}(t)},h=0;h<t.length;h++)r[t[h].id]=-1;for(r[i]=0,s.push(i);s.length;){o(s.shift())}},h=function(){var t=Object.keys(r).map((function(t){return r[t]})).filter((function(t){return-1!==t})),e=t.length,a=t.reduce((function(t,e){return t+e}));n[i]=a>0?(e-1)/a:0},l=0;l<t.length;l++){(c=t[l].layout).metrics||(c.metrics={betweenness:-1,closeness:-1,degree:-1,eccentricity:-1},c.edges=this.edgesForNode(this.data.edges,t[l].id)),n[t[l].id]=0}for(l=0;l<t.length;l++){var c=t[l];i=t[l].id,o(c.id),h()}for(l=0;l<t.length;l++){(c=t[l].layout).metrics.closeness=n[t[l].id]}},this.networkEccentricity=function(t,e){for(var i,a=this,s=[],r={},n={},o=function(i){for(var n=function(t,e){-1===r[e]&&(r[e]=r[t]+1,s.push(e))},o=function(t){return e?function(t){for(var e=a.nodes[t].layout.edges,i=0;i<e.length;i++){var s=e[i].id1;if(t==s&&n(t,s))return!0}}(t):function(t){for(var e=a.nodes[t].layout.edges,i=0;i<e.length;i++){var s=e[i],r=s.id1==t?s.id2:s.id1;if(n(t,r))return!0}}(t)},h=0;h<t.length;h++)r[t[h].id]=-1;for(r[i]=0,s.push(i);s.length;){o(s.shift())}},h=function(){var t=0;Object.keys(r).forEach((function(e){var i=r[e];t<i&&(t=i)})),n[i]=t},l=0;l<t.length;l++){(c=t[l].layout).metrics||(c.metrics={betweenness:-1,closeness:-1,degree:-1,eccentricity:-1},c.edges=this.edgesForNode(this.data.edges,t[l].id)),n[t[l].id]=0}for(l=0;l<t.length;l++){var c=t[l];i=t[l].id,o(c.id),h()}for(l=0;l<t.length;l++){(c=t[l].layout).metrics.eccentricity=n[t[l].id]}},this.networkDegree=function(t,e){for(var i=0;i<t.length;i++){var a=t[i].layout,s=a.edges||this.edgesForNode(this.data.edges,t[i].id),r=0;switch(e){case"in":for(i=0;i<s.length;i++)r+=s[i].id1==t[i].id?1:0;break;case"out":for(i=0;i<s.length;i++)r+=s[i].id2==t[i].id?1:0;break;default:r=s.length}a.metrics.degree=r}},this.exposeNetworkMetrics=function(){for(var t=0;t<this.data.nodes.length;t++){var e=this.data.nodes[t];e.layout&&(e.betweenness=e.layout.metrics.betweenness,e.closeness=e.layout.metrics.closeness,e.degree=e.layout.metrics.degree,e.eccentricity=e.layout.metrics.eccentricity)}},this.updateForceDirectedLayoutBoundingBox=function(t,e,i,a,s,r){var n=Number.MAX_VALUE,o=Number.MAX_VALUE,h=Number.MIN_VALUE,l=Number.MIN_VALUE;if(0!==(c=t.length)){for(;c--;){(d=t[c]).hide||(d.fixed?(d.layout.position.x=d.layout.prevPosition.x,d.layout.position.y=d.layout.prevPosition.y):(d.layout.prevPosition.x=d.layout.position.x,d.layout.prevPosition.y=d.layout.position.y),d.layout.position.x<n&&(n=d.layout.position.x,d),d.layout.position.x>h&&(h=d.layout.position.x,d),d.layout.position.y<o&&(o=d.layout.position.y,d),d.layout.position.y>l&&(l=d.layout.position.y,d))}var c,d;e.x1=n,e.x2=h,e.y1=o,e.y2=l}},this.initComplex(),this.initFFT(),this.initContour(),this.initDensity(),this.initHist(),this.initLoess(),this.initQuantreg(),this.initLAPACK()},CanvasXpress.prototype.initComplex=function(){this.complexRe=function(t){return t[0]},this.complexIm=function(t){return t[1]},this.complexMod=function(t){for(var e=t[0].length,i=new Float32Array(e),a=0;a<e;a++)i[a]=0!=t[0][a]&&t[1][a]?Math.sqrt(t[0][a]*t[0][a]+t[1][a]*t[1][a]):0;return i},this.complexArg=function(t){for(var e=t[0].length,i=new Float32Array(e),a=0;a<e;a++)m[a]=Math.atan2(t[1][a],t[0][a]);return i},this.complexConj=function(t){for(var e=t[1].length,i=0;i<e;i++)t[1][i]*=-1},this.complexPlus=function(t,e){for(var i=t[0].length,a=new Float32Array(i),s=new Float32Array(i),r=0;r<i;r++)a[r]=t[0][r]+e[0],s[r]=t[1][r]+e[1];return[a,s]},this.complexMinus=function(t,e){for(var i=t[0].length,a=new Float32Array(i),s=new Float32Array(i),r=0;r<i;r++)a[r]=t[0][r]-e[0],s[r]=t[1][r]-e[1];return[a,s]},this.complexProd=function(t,e){for(var i=t[0].length,a=new Float32Array(i),s=new Float32Array(i),r=0;r<i;r++)a[r]=t[0][r]*e[0][r]-t[1][r]*e[1][r],s[r]=t[0][r]*e[1][r]+t[1][r]*e[0][r];return[a,s]},this.complexDiv=function(t,e){for(var i=t[0].length,a=new Float32Array(i),s=new Float32Array(i),r=this.Mod(e),n=0;n<i;n++)a[n]=t[0][n]*e[0][n]+t[1][n]*e[1][n]/Math.pow(r[n],2),s[n]=t[0][n]*e[1][n]-t[1][n]*e[0][n]/Math.pow(r[n],2);return[a,s]}},CanvasXpress.prototype.initFFT=function(){this.fft=function(t,e,i){var a=function(t,e){var i=t.length;if(i!=e.length)throw"Mismatched lengths";0!=i&&(0==(i&i-1)?n(t,e):o(t,e))},s=function(t,e){a(e,t)},r=function(t,e){for(var i=0,a=0;a<e;a++)i=i<<1|1&t,t>>>=1;return i},n=function(t,e){var i=t.length;if(i!=e.length)throw"Mismatched lengths";if(1!=i){for(var a=-1,s=0;s<32;s++)1<<s==i&&(a=s);if(-1==a)throw"Length is not a power of 2";var n=new Array(i/2),o=new Array(i/2);for(s=0;s<i/2;s++)n[s]=Math.cos(2*Math.PI*s/i),o[s]=Math.sin(2*Math.PI*s/i);for(s=0;s<i;s++){if((p=r(s,a))>s){var h=t[s];t[s]=t[p],t[p]=h,h=e[s],e[s]=e[p],e[p]=h}}for(var l=2;l<=i;l*=2){var c=l/2,d=i/l;for(s=0;s<i;s+=l)for(var p=s,g=0;p<s+c;p++,g+=d){var u=p+c,m=t[u]*n[g]+e[u]*o[g],f=-t[u]*o[g]+e[u]*n[g];t[u]=t[p]-m,e[u]=e[p]-f,t[p]+=m,e[p]+=f}}}},o=function(t,e){var i=t.length;if(i!=e.length)throw"Mismatched lengths";for(var a=1;a<2*i+1;)a*=2;for(var s=new Array(i),r=new Array(i),n=0;n<i;n++){var o=n*n%(2*i);s[n]=Math.cos(Math.PI*o/i),r[n]=Math.sin(Math.PI*o/i)}var c=l(a),d=l(a);for(n=0;n<i;n++)c[n]=t[n]*s[n]+e[n]*r[n],d[n]=-t[n]*r[n]+e[n]*s[n];var p=l(a),g=l(a);p[0]=s[0],g[0]=r[0];for(n=1;n<i;n++)p[n]=p[a-n]=s[n],g[n]=g[a-n]=r[n];var u=new Array(a),m=new Array(a);h(c,d,p,g,u,m);for(n=0;n<i;n++)t[n]=u[n]*s[n]+m[n]*r[n],e[n]=-u[n]*r[n]+m[n]*s[n]},h=function(t,e,i,r,n,o){var h=t.length;if(h!=e.length||h!=i.length||h!=r.length||h!=n.length||h!=o.length)throw"Mismatched lengths";t=t.slice(),e=e.slice(),i=i.slice(),r=r.slice(),a(t,e),a(i,r);for(var l=0;l<h;l++){var c=t[l]*i[l]-e[l]*r[l];e[l]=e[l]*i[l]+t[l]*r[l],t[l]=c}s(t,e);for(l=0;l<h;l++)n[l]=t[l]/h,o[l]=e[l]/h};function l(t){for(var e=[],i=0;i<t;i++)e.push(0);return e}for(var c=t.length,d=new Float64Array(c),p=new Float64Array(c),g=0;g<c;g++)d[g]=t[g],p[g]=e&&e.length?e[g]:0;return i?s(d,p):a(d,p),[d,p]}},CanvasXpress.prototype.initContour=function(){this.contourNewSeg=function(t,e,i,a,s){return{x0:t,y0:e,x1:i,y1:a,next:s}},this.contourSwapSeg=function(t){var e=t.x0,i=t.y0;t.x0=t.x1,t.y0=t.y1,t.x1=e,t.y1=i},this.contourSegUpdate=function(t,e,i,a,s,r){var n=function(t,e){return 0==Math.abs(t-e)};if(null==s)return r=null,null;switch(i){case 1:case 3:if(n(e,s.y0))return a||this.contourSwapSeg(s),r=s,[s.next,r];if(n(e,s.y1))return a&&this.contourSwapSeg(s),r=s,[s.next,r];break;case 2:case 4:if(n(t,s.x0))return a||this.contourSwapSeg(s),r=s,[s.next,r];if(n(t,s.x1))return a&&this.contourSwapSeg(s),r=s,[s.next,r]}var o=this.contourSegUpdate(t,e,i,a,s.next,r);return s.next=o?o[0]:null,s},this.contourLines=function(t,e,i,a,s){if(!t.length)throw new Error("missing x data");if(!e.length)throw new Error("missing y data");if(!i.length)throw new Error("missing z data");if(t.length*e.length!=i.length)throw new Error("dimensions of 'x', 'y' and 'z' do not match");var r=this.range(i),n=r[0],o=r[1];null==a&&(a=n);var h,l,c,d,p,g,u,m,f,y,x,b,v,A=function(t,e,i){return t<i!=e<i&&t!=i&&e!=i?(p=(i-t)/(e-t),1):0},w=[],C=[],T=t.length,S=e.length,D=[];s||(s=.001*(o-n));for(var M=0;M<T;M++)for(var k=0;k<S;k++)D[M+k*T]=null;for(M=0;M<T-1;M++){g=t[M],u=t[M+1];for(k=0;k<S-1;k++){switch(m=e[k],f=e[k+1],(y=i[h=M+k*T])==a&&(y+=s),(x=i[h+1])==a&&(x+=s),(b=i[h+T])==a&&(b+=s),(v=i[h+T+1])==a&&(v+=s),d=0,isFinite(y)&&(d+=1),isFinite(x)&&(d+=2),isFinite(b)&&(d+=4),isFinite(v)&&(d+=8),h=0,d){case 15:A(y,x,a)&&(w[h]=g+p*(u-g),C[h]=m,h++),A(y,b,a)&&(C[h]=m+p*(f-m),w[h]=g,h++),A(x,v,a)&&(C[h]=m+p*(f-m),w[h]=u,h++),A(b,v,a)&&(w[h]=g+p*(u-g),C[h]=f,h++);break;case 14:A(x,v,a)&&(C[h]=m+p*(f-m),w[h]=u,h++),A(b,v,a)&&(w[h]=g+p*(u-g),C[h]=f,h++),A(b,x,a)&&(w[h]=g+p*(u-g),C[h]=f+p*(m-f),h++);break;case 13:A(y,b,a)&&(C[h]=m+p*(f-m),w[h]=g,h++),A(b,v,a)&&(w[h]=g+p*(u-g),C[h]=f,h++),A(y,v,a)&&(w[h]=g+p*(u-g),C[h]=m+p*(f-m),h++);break;case 11:A(x,v,a)&&(C[h]=m+p*(f-m),w[h]=u,h++),A(y,x,a)&&(w[h]=g+p*(u-g),C[h]=m,h++),A(y,v,a)&&(w[h]=g+p*(u-g),C[h]=m+p*(f-m),h++);break;case 7:A(y,b,a)&&(C[h]=m+p*(f-m),w[h]=g,h++),A(y,x,a)&&(w[h]=g+p*(u-g),C[h]=m,h++),A(b,x,a)&&(w[h]=g+p*(u-g),C[h]=f+p*(m-f),h++)}if(seglist=null,h>0)if(2==h)seglist=this.contourNewSeg(w[0],C[0],w[1],C[1],seglist);else if(4==h){for(h=3;h>=1;h--){for(c=h,g=w[h],l=0;l<h;l++)w[l]>g&&(g=w[l],c=l);c!=h&&(g=w[h],m=C[h],w[h]=w[c],C[h]=C[c],w[c]=g,C[c]=m)}seglist=this.contourNewSeg(w[0],C[0],w[1],C[1],seglist),seglist=this.contourNewSeg(w[2],C[2],w[3],C[3],seglist)}else alert("k is "+h+" and it should be 2 or 4");D[M+k*T]=seglist}}return D},this.contour=function(t,e,i,a){var s=this;contourSegDir=function(t,e,i,a,s,r){var n=function(t,e){return 0==Math.abs(t-e)};return n(e,a[c])?0==c?0:(c-=1,3):n(t,i[l])?0==l?0:(l-=1,4):n(e,a[c+1])?c>=r-1?0:(c+=1,1):n(t,i[l+1])?l>=s-1?0:(l+=1,2):0};var r=function(t,e,i,a,r){for(var n,o,h,d,p,g,u,m,f,y,x=t.length,b=e.length,v=[],A=s.contourLines(t,e,i,a,r),w=25e3,C=0;C<x-1;C++)for(var T=0;T<b-1;T++){for(var S=[],D=[];g=A[C+T*x];){for(l=C,c=T,f=y=g,A[C+T*x]=g.next,n=g.x1,o=g.y1;(p=contourSegDir(n,o,t,e,x,b))&&((h=s.contourSegUpdate(n,o,p,!0,A[l+c*x],u))?(A[l+c*x]=h[0],u=h[1]):(A[l+c*x]=null,u=null),u);)y.next=u,n=(y=u).x1,o=y.y1;for(y.next=null,l=C,c=T,n=g.x0,o=g.y0;(p=contourSegDir(n,o,t,e,x,b))&&((h=s.contourSegUpdate(n,o,p,!1,A[l+c*x],u))?(A[l+c*x]=h[0],u=h[1]):(A[l+c*x]=null,u=null),u);)u.next=f,n=(f=u).x0,o=f.y0;for(m=f,d=0;m&&d<w;)d++,m=m.next;for(d==w&&alert("Reached max contour segments"),m=f,S[d=0]=m.x0,D[d++]=m.y0;m.next&&d<w;)m=m.next,S[d]=m.x0,D[d++]=m.y0;S[d]=m.x1,D[d++]=m.y1}S.length&&v.push({x:S,y:D})}return v};if(!t.length)throw new Error("missing x data");if(!e.length)throw new Error("missing y data");if(!i.length)throw new Error("missing z data");if(t.length*e.length!=i.length)throw new Error("dimensions of 'x', 'y' and 'z' do not match");var n=this.range(i),o=n[0],h=n[1];a||(a=this[this.axisAlgorithm](o,h,this.contourLevelNumber));for(var l,c,d=[],p=.001*(h-o),g=0;g<a.length;g++){for(var u=r(t,e,i,a[g],p),m=[],f=0;f<u.length;f++){for(var y=[],x=0;x<u[f].x.length;x++)y.push([u[f].x[x],u[f].y[x]]);m.push(y)}d.push({type:"Multipolygon",value:a[g],coordinates:[m]})}return d},this.contourFindCutPoints=function(t,e,i,a,s,r,n,o,h,l,c,d){var p;if(s>o){if(o>e||s<t)return d;s<e?(h[d]=i,l[d]=a,c[d]=s,++d):s==Number.POSITIVE_INFINITY?(h[d]=r,l[d]=a,c[d]=o,++d):(p=(s-e)/(s-o),h[d]=i+p*(r-i),l[d]=a,c[d]=s+p*(o-s),++d),o==Number.NEGATIVE_INFINITY?(h[d]=i,l[d]=a,c[d]=s,++d):o<=t&&(p=(o-t)/(o-s),h[d]=r-p*(r-i),l[d]=a,c[d]=o-p*(o-s),++d)}else if(s<o){if(o<t||s>e)return d;s>t?(h[d]=i,l[d]=a,c[d]=s,++d):s==Number.NEGATIVE_INFINITY?(h[d]=r,l[d]=a,c[d]=o,++d):(p=(s-t)/(s-o),h[d]=i+p*(r-i),l[d]=a,c[d]=s+p*(o-s),++d),o<e?(h[d]=r,l[d]=n,c[d]=o,++d):o==Number.POSITIVE_INFINITY?(h[d]=i,l[d]=a,c[d]=s,++d):(p=(o-e)/(o-s),h[d]=r-p*(r-i),l[d]=a,c[d]=o-p*(o-s),++d)}else t<=s&&s<=e&&(h[d]=i,l[d]=a,c[d]=s,h[++d]=r,l[d]=n,c[d]=o,++d);return d},this.contourFindPolygonVertices=function(t,e,i,a,s,r,n,o,h,l,c,d,p){var g=0;return g=this.contourFindCutPoints(t,e,i,s,n,a,s,o,c,d,p,g),g=this.contourFindCutPoints(t,e,s,a,o,r,a,l,d,c,p,g),g=this.contourFindCutPoints(t,e,a,r,l,i,r,h,c,d,p,g),g=this.contourFindCutPoints(t,e,r,i,h,s,i,n,d,c,p,g)},this.filledContour=function(t,e,a,s){if(!t.length)throw new Error("missing x data");if(!e.length)throw new Error("missing y data");if(!a.length)throw new Error("missing z data");if(t.length*e.length!=a.length)throw new Error("dimensions of 'x', 'y' and 'z' do not match");var r=this.range(a),n=r[0],o=r[1];s||(s=this[this.axisAlgorithm](n,o,this.contourLevelNumber));var h=t.length,l=e.length,c=s.length,d={};for(i=1;i<h;i++)for(j=1;j<l;j++)for(k=1;k<c;k++){d.hasOwnProperty(s[k-1])||(d[s[k-1]]=[]);var p=[],g=[],u=[];if(this.contourFindPolygonVertices(s[k-1],s[k],t[i-1],t[i],e[j-1],e[j],a[i-1+(j-1)*h],a[i+(j-1)*h],a[i-1+j*h],a[i+j*h],p,g,[])>2){for(var m=0;m<p.length;m++)u.push([p[m],g[m]]);u.push([u[0][0],u[0][1]]),d[s[k-1]].push(u)}}var f=[];for(k=1;k<c;k++)d.hasOwnProperty(s[k-1])&&f.push({type:"Multipolygon",value:s[k-1],coordinates:[d[s[k-1]]]});return!!f.length&&f}},CanvasXpress.prototype.initDensity=function(){this.binDist=function(t,e,i,a,s){for(var r=s-2,n=(a-i)/(s-1),o=[],h=0;h<2*s;h++)o[h]=0;for(h=0;h<t.length;h++)if(isFinite(t[h])){var l=(t[h]-i)/n;if(l>Number.MAX_VALUE||l<Number.MIN_VALUE)continue;var c=Math.floor(l),d=l-c,p=e[h];0<=c&&c<=r?(o[c]+=(1-d)*p,o[c+1]+=d*p):-1==c?o[0]+=d*p:c==r+1&&(o[c]+=(1-d)*p)}return o},this.approx=function(t,e,i){for(var a=function(i){for(var a=0,s=t.length-1;a<s-1;){var r=parseInt((a+s)/2);i<t[r]?s=r:a=r}return e[a]+(e[s]-e[a])*((i-t[a])/(t[s]-t[a]))},s=[],r=0;r<i.length;r++){var n=a(i[r]);s.push(isNaN(n)?0:Math.max(0,n))}return s},this.approxStack=function(t,e){for(var i=[],a=[],s=0;s<t.length;s++)i.push(t[s][0]),a.push(t[s][1]);var r=[];for(s=0;s<e.length;s++)r.push(e[s][0]);var n=this.approx(i,a,r),o=[];for(s=0;s<r.length;s++)o.push([e[s][0],n[s]]);return o},this.calculateDensity=function(t,e){for(var i=[],a=0;a<t.length;a++)isFinite(t[a])&&i.push(t[a]);e&&e.length||(e=this.rep(1/i.length,i.length));var s=Math.max(512,i.length);s>512&&(s=Math.pow(Math.ceil(Math.log2(s)),2));var r=this[this.bandwidthRule+"Rule"](i)*this.bandwidthAdjust,n=this.min(i)-this.bandwidthCut*r,o=this.max(i)+this.bandwidthCut*r,h=n-4*r,l=o+4*r,c=this.binDist(i,e,h,l,s),d=this.seq(0,2*(l-h),!1,2*s),p=1;for(a=s+1;a<2*s;a++)d[a]=-d[s-p++];switch(this.densityKernel){case"gaussian":d=this.dnorm(d,0,r);break;case"rectangular":var g=r*Math.sqrt(3);for(a=0;a<d.length;a++)d[a]=Math.abs(d[a])<g?.5/g:0;break;case"triangular":for(g=r*Math.sqrt(6),a=0;a<d.length;a++)d[a]=Math.abs(d[a]),d[a]=d[a]<g?(1-d[a]/g)/g:0;break;case"epanechnikov":for(g=r*Math.sqrt(5),a=0;a<d.length;a++)d[a]=Math.abs(d[a]),d[a]=d[a]<g?.75*(1-Math.pow(d[a]/g,2))/g:0;break;case"quartic":case"biweight":for(g=r*Math.sqrt(7),a=0;a<d.length;a++)d[a]=Math.abs(d[a]),d[a]=d[a]<g?15/16*Math.pow(1-Math.pow(d[a]/g,2),2)/g:0;break;case"cosine":for(g=r/Math.sqrt(1/3-2/Math.pow(Math.PI,2)),a=0;a<d.length;a++)d[a]=Math.abs(d[a])<g?(1+Math.cos(Math.PI*d[a]/g))/(2*g):0;break;case"optcosine":for(g=r/Math.sqrt(1-8/Math.pow(Math.PI,2)),a=0;a<d.length;a++)d[a]=Math.abs(d[a])<g?Math.PI/4*Math.cos(Math.PI*d[a]/(2*g))/g:0}var u=this.fft(c),m=this.fft(d);this.complexConj(m);var f=this.complexProd(u,m);d=this.fft(f[0],f[1],!0);var y=[];for(a=0;a<s;a++)y[a]=Math.max(0,d[0][a])/(2*s);var x=this.seq(h,l,!1,s),b=this.seq(n,o,!1,s),v=this.approx(x,y,b);return{x:b,y:v,bw:r,summX:this.boxplot(b),summY:this.boxplot(v)}},this.kde2d=function(t,e,i,a,s){if(a||(a=25),Array.isArray(a)||(a=this.rep(a,2)),t.length!=e.length)throw new Error("data vectors must be the same length");if(!t.every((function(t){return isFinite(t)}))||!e.every((function(t){return isFinite(t)})))throw new Error("missing or infinite values in the data are not allowed");if(s||(s=[this.range(t),this.range(e)]),!s[0].every((function(t){return isFinite(t)}))||!s[1].every((function(t){return isFinite(t)})))throw new Error("only finite values are allowed in 'lims'");i||(i=[this.nrdRule(t)/4,this.nrdRule(e)/4]);for(var r=this.seq(s[0][0],s[0][1],!1,a[0]),n=this.seq(s[1][0],s[1][1],!1,a[1]),o=[],h=0;h<r.length;h++){o[h]=[];for(var l=0;l<t.length;l++)o[h][l]=this.dnorm((r[h]-t[l])/i[0])}var c=[];for(h=0;h<e.length;h++){c[h]=[];for(l=0;l<n.length;l++)c[h][l]=this.dnorm((n[l]-e[h])/i[1])}var d=[];for(h=0;h<a[0];h++){d[h]=[];for(l=0;l<a[1];l++)d[h][l]=0}for(var p=0;p<r.length;p++)for(var g=0;g<n.length;g++){d[p][g]=0;for(h=0;h<t.length;h++)d[p][g]+=o[p][h]*c[h][g];d[p][g]/=t.length*i[0]*i[1]}var u=[];for(p=0;p<n.length;p++)for(g=0;g<r.length;g++)u.push(d[g][p]);return{x:r,y:n,z:u}},this.silvermanRule=function(t){var e=Math.sqrt(this.variance(t)),i=4*Math.pow(e,5),a=3*t.length;return Math.pow(i/a,.2)},this.nrd0Rule=function(t){var e=Math.sqrt(this.variance(t)),i=this.iqr(t)/1.34,a=Math.pow(t.length,-.2);return.9*(i>0?Math.min(e,i):e)*a},this.nrdRule=function(t){var e=Math.sqrt(this.variance(t)),i=this.iqr(t)/1.34,a=Math.pow(t.length,-.2);return 4.24*(i>0?Math.min(e,i):e)*a},this.density=function(t,e){var i=function(t){for(var e=[],i=0;i<t.length;i++)!isNaN(parseFloat(t[i]))&&isFinite(t[i])&&e.push(t[i]);return e}(t);if(!i.length)return{range:[0,0],median:0,trim:[0,0],xy:[],bw:0,values:[],quantilesX:[],quantilesY:[],indecesY:[],sumY:0,maxY:0,minY:0,minData:0,maxData:0,globalMaxY:0,histogram:{estimator:.5,breaks:[.5],count:[0],mids:[.5],idxs:[[]],size:1,half:.5,maxY:1,name:e,labels:["Bin 1 (0 - 1)"]},name:e,n:0};for(var a=this.range(i),s=this.median(i),r=this.hist(i,e),n=this.calculateDensity(t),o=a[0],h=a[1],l=n.summX,c=n.summY,d=n.bw,p=[],g=0;g<n.x.length;g++)p.push([n.x[g],n.y[g]]);var u,m,f=[],y=[],x=Number.NEGATIVE_INFINITY,b=Number.POSITIVE_INFINITY,v=0;for(g=0;g<n.x.length;g++)if(n.x[g]>o&&n.x[g]<h)0==f.length&&(u=g,f.push(n.x[g-1]),y.push(n.y[g-1]),v+=n.y[g-1],x=Math.max(x,n.y[g-1]),b=Math.min(b,n.y[g-1])),f.push(n.x[g]),y.push(n.y[g]),v+=n.y[g],x=Math.max(x,n.y[g]),b=Math.min(b,n.y[g]);else if(n.x[g]>=h){m=g,f.push(n.x[g]),y.push(n.y[g]),v+=n.y[g],x=Math.max(x,n.y[g]),b=Math.min(b,n.y[g]);break}var A=this[this.axisAlgorithm](0,x,this.yAxisTicks,this.axisWilkinsonLoose),w=[];for(g=0;g<6;g++)for(var C=0;C<f.length;C++)if(f[C]>=l[g]){w.push(y[C]);break}return{range:a,median:s,trim:[u,Math.max(u,m)],xy:p,bw:d,values:A,quantilesX:l,quantilesY:c,indecesY:w,sumY:v,maxY:x,minY:b,minData:o,maxData:h,globalMaxY:x,histogram:r,name:e,n:i.length}}},CanvasXpress.prototype.initHist=function(){this.freedmanDiaconis=function(t,e,i){if(t&&t.length>1){t=this.cleanArray(t,e,i);var a=this.iqr(t);return 0==a?1:Math.ceil(2*a*Math.pow(t.length,-1/3))}return t&&1==t.length?Number(t[0]):1},this.sturges=function(t,e,i){return t&&t.length>1?(t=this.cleanArray(t,e,i),Math.ceil(Math.log(t.length)/Math.LN2+1)):t&&1==t.length?Number(t[0]):1},this.scott=function(t,e,i){if(t&&t.length>1){t=this.cleanArray(t,e,i);var a=this.range(t),s=Math.sqrt(this.vriance(t));return Math.ceil((a[1]-a[0])/(3.5*s*Math.pow(t.length,-1/3)))}return t&&1==t.length?Number(t[0]):1},this.binData=function(t,e,i,a){for(var s=t.length,r=e.length-1,n=[],o=0;o<r;o++)n[o]=[];for(o=0;o<s;o++)if(isFinite(t[o])){var h=0,l=r;if(e[h]<=t[o]&&(t[o]<e[l]||t[o]==e[l]&&a)){for(;l-h>=2;){var c=Math.floor((l+h)/2);t[o]>e[c]||!i&&t[o]==e[c]?h=c:l=c}n[h].push(o)}}return n},this.hist=function(t,e){for(var i=[],a=0;a<t.length;a++)isFinite(t[a])&&i.push(t[a]);var s=this.range(i),r=[],n=this[this.histogramSizeEstimator](i);1==t.length?r=[t[0]-.5,t[0]+.5]:this.histogramBinWidth?(r=this.rPretty(s[0],s[1],n),r=this.seq(r[0],r[r.length-1],this.histogramBinWidth)):r=this.histogramBins?this.rPretty(s[0],s[1],this.histogramBins):this.rPretty(s[0],s[1],n);var o=this.diff(r),h=this.median(o),l=1e-7*(r.length>5?h[0]:1),c=[];if(c[0]=r[0]-l,this.histogramRight)for(a=1;a<r.length-1;a++)c.push(r[a]+l);else for(a=1;a<r.length-1;a++)c.push(r[a]-l);c[r.length-1]=r[r.length-1]+l;var d=this.binData(i,c,this.histogramRight,this.histogramLowest),p=[],g=[],u=[],m=0;for(a=0;a<r.length-1;a++)p[a]=d[a].length,m=Math.max(m,p[a]),g[a]=.5*(r[a]+r[a+1]),u.push("Bin"+(a+1)+" ("+this.formatNumber(r[a])+" - "+this.formatNumber(r[a+1])+")");return{estimator:n,breaks:r,fbreaks:c,count:p,mids:g,idxs:d,size:o[0],half:o[0]/2,maxY:m,name:e,labels:u}},this.histBin=function(t,e){var i=this.histogramRight,a=this.histogramLowest,s=e.length-1;if(isFinite(t)){var r=0,n=s;if(e[r]<=t&&(t<e[n]||t==e[n]&&a)){for(;n-r>=2;){var o=Math.floor((n+r)/2);t>e[o]||!i&&t==e[o]?r=o:n=o}return r}}return NaN},this.histN=function(t,e,i){if(this.isArray(t)&&this.isArray(t[0])&&t.length>0){for(var a=0,s=0;s<e.length;s++)a=Math.max(a,this.meta.data.d.s[e[s].toString()].maxY);for(s=0;s<e.length;s++)this.meta.data.d.s[e[s].toString()].globalMaxY=a;var r=[];for(s=0;s<t.length;s++)r=r.concat(t[s]);var n=this.density(r,i),o=n.histogram.count.length,h=n.histogram.breaks,l=n.histogram.fbreaks,c=this.isTransformedData?this.data.y.trans:this.data.y.data,d=h[0],p={data:[],vars:[],smps:[],histogram:[],cols:[],values:[],density:[],global:n.histogram};for(s=0;s<o;s++){p.vars.push("Bin"+(s+1)+" ("+this.formatNumber(n.histogram.breaks[s])+" - "+this.formatNumber(n.histogram.breaks[s+1])+")"),p.data[s]=[],p.data[s][0]=h[s+1]-d,p.histogram[s]=[],p.values[s]=[];for(var g=0;g<e.length;g++)p.histogram[s][g]=[],p.values[s][g]=[]}p.smps.push("Bin");for(s=0;s<e.length;s++){var u=0;p.smps.push(this.data.y.smps[e[s]]);var m=[];for(g=0;g<o;g++)m[g]=0;for(g=0;g<this.varIndices.length;g++){var f=c[this.varIndices[g]][e[s]];if(null!=f&&""!==f&&!isNaN(f)){var y=this.histBin(f,l);m[y]++,p.histogram[y][s].push(this.varIndices[g]),p.values[y][s].push(f)}}for(g=0;g<o;g++)p.data[g][s+1]=m[g],u=Math.max(u,m[g]);p.cols.push(u),p.density[s]=this.meta.data.d.s[e[s].toString()]}return p}},this.hist2d=function(t,e,i){var a=[],s=[],r=[];if(i)for(var n=0;n<t.length;n++)isFinite(t[n])&&isFinite(e[n])&&t[n]>=this.xAxisMin&&t[n]<=this.xAxisMax&&e[n]>=this.yAxisMin&&e[n]<=this.yAxisMax&&(a.push(t[n]),s.push(e[n]),r.push(n));else for(n=0;n<t.length;n++)isFinite(t[n])&&isFinite(e[n])&&(a.push(t[n]),s.push(e[n]),r.push(n));var o=r.length,h=0,l={data:{},x:0,y:0},c=this.histogramBins,d=this.histogramBinWidth;this.isArray(this.binplotBins)?this.binplotBins[0]?this.histogramBins=this.binplotBins[0]:this.histogramBins=30:this.histogramBins=this.binplotBins,this.isArray(this.binplotBinWidth)?this.binplotBinWidth[0]?this.histogramBinWidth=this.binplotBinWidth[0]:this.histogramBinWidth=!1:this.histogramBinWidth=this.binplotBinWidth;var p=this.hist(a,"hex-x-data");this.isArray(this.binplotBins)?this.binplotBins[1]?this.histogramBins=this.binplotBins[1]:this.histogramBins=30:this.histogramBins=this.binplotBins,this.isArray(this.binplotBinWidth)?this.binplotBinWidth[1]?this.histogramBinWidth=this.binplotBinWidth[1]:this.histogramBinWidth=!1:this.histogramBinWidth=this.binplotBinWidth;var g=this.hist(s,"hex-y-data");this.histogramBins=c,this.histogramBinWidth=d;var u=p.size,m=g.size;if(l.x=u,l.y=m,"hexagon"==this.binplotShape){var f=2*u*Math.sin(Math.PI/3),y=1.5*m;for(n=0;n<o;++n){var x=a[n],b=s[n],v=Math.round(b/=y),A=Math.round(x=x/f-(1&v)/2),w=b-v;if(3*Math.abs(w)>1){var C=x-A,T=A+(x<A?-1:1)/2,S=v+(b<v?-1:1),D=x-T,M=b-S;C*C+w*w>D*D+M*M&&(A=T+(1&v?1:-1)/2,v=S)}var k=this.formatNumber(A)+":"+this.formatNumber(v);l.data.hasOwnProperty(k)||(l.data[k]={idx:[],x:(A+(1&v)/2)*f,y:v*y}),l.data[k].idx.push(r[n]),h=Math.max(h,l.data[k].idx.length)}}else for(f=u,y=m,n=0;n<o;++n){x=this.histBin(a[n],p.fbreaks),b=this.histBin(s[n],g.fbreaks),v=g.breaks[b+1],A=p.breaks[x+1],k=this.formatNumber(A)+":"+this.formatNumber(v);l.data.hasOwnProperty(k)||(l.data[k]={idx:[],x:A,y:v}),l.data[k].idx.push(r[n]),h=Math.max(h,l.data[k].idx.length)}var L=this.getColorBrew(this.getCustomColorScheme(8,this.binplotColorScheme),0,h);for(var k in l.brew=L,l.data)l.data[k].color=this.getColorForValue(L,l.data[k].idx.length);return l}},CanvasXpress.prototype.initLoess=function(){this.loess=function(t){var e=this.meta;e.vals.loess||(e.vals.loess={});var i=t[0].length,a=t[2]?2:1,s=this.cloneObject([i,a,this.loessStatistics,this.loessSurface,this.loessFamily,this.loessSpan,this.loessNormalize,this.loessDegree,this.loessIterations,this.loessCell,this.loessSteps,this.loessBandwidth,this.transformData]);return s=s.join(":"),e.vals.loess.hasOwnProperty(s)||(e.vals.loess[s]=t[2]?this.loess3D(t):this.loess2D(t)),e.vals.loess[s]},this.loessSE=function(t){for(var e=[0,0,0,0,0],i=0,a=Number.NEGATIVE_INFINITY,s=Number.POSITIVE_INFINITY,r=0;r<t.length;r++)i++,a=Math.max(a,t[r][0]),s=Math.min(s,t[r][0]),e[0]+=t[r][0],e[1]+=t[r][1],e[2]+=t[r][0]*t[r][0],e[3]+=t[r][0]*t[r][1],e[4]+=t[r][1]*t[r][1];var n=i*e[2]-e[0]*e[0],o=i*e[3]-e[0]*e[1],h=0===n?0:o/n,l=e[1]/i-h*e[0]/i,c=[];for(r=0;r<t.length;r++)c[r]=[t[r][0],t[r][0]*h+l];for(var d=[],p=0,g=0,u=e[0]/i,m=Math.max(r-2,1),f=this.qt(1-this.confidenceLevel,m),y=0;y<r;y++)p+=Math.pow(t[y][1]-c[y][1],2),g+=Math.pow(t[y][0]-u,2);p=Math.sqrt(p/m);for(y=0;y<r;y++)d.push(-f*p*Math.sqrt(1/r+Math.pow(t[y][0]-u,2)/g)*1);return d},this.loess3D=function(t){var e=this,i=function(t){var e=Math.abs(t),i=1/(1+e/2),a=i*Math.exp(-e*e-1.26551223+i*(1.00002368+i*(.37409196+i*(.09678418+i*(i*(.27886807+i*(i*(1.48851587+i*(.17087277*i-.82215223))-1.13520398))-.18628806)))));return t>=0?a:2-a},a=function(t,e,a){return t-Math.sqrt(e)*Math.sqrt(2)*function(t){if(t>=2)return-100;if(t<=0)return 100;for(var e=t<1?t:2-t,a=Math.sqrt(-2*Math.log(e/2)),s=-.70711*((2.30753+.27061*a)/(1+a*(.99229+.04481*a))-a),r=0;r<2;r++){var n=i(s)-e;s+=n/(1.1283791670955126*Math.exp(-s*s)-s*n)}return t<1?s:-s}(2*a)},s=function(t,i){for(var a=[],r=0;r<t.length;r++)e.isArray(t[r])&&e.isArray(i[r])?a.push(s(t[r],i[r])):a.push(t[r]*i[r]);return a},r=function(t,e){for(var i=function(e,r,n){if(n>1)for(var o=r;o<t.length;o++)i(s(e,t[o]),o,n-1);else a.push(e)},a=[],r=Array(t[0].length).fill(1),n=0;n<=e;n++)i(r,0,n+1);return a},n=function(t,e,i){return t<e?Math.pow(1-Math.pow(t/e,i),i):0},o=function(t,e){for(var i=t.length,a=t[0].length,s=(e.length,e[0].length),r=new Array(i),n=0;n<i;n++){r[n]=new Array(s);for(var o=0;o<s;o++){r[n][o]=0;for(var h=0;h<a;h++)r[n][o]+=t[n][h]*e[h][o]}}return r},h=function(t){for(var e=[],i=0;i<t.length;i++)e.push(t[i][0]);return e},l=function(t,i,a){var r=s(a,i),n=e.transpose(t.map((function(t){return s(a,t)}))),h=o(t,n),l=o(t,e.transpose([r])),c=o(e.numeric("inv",h),l),d=o(e.transpose(c),t),p=function(t,e){for(var i=new Array(t.length),a=0;a<i.length;a++){i[a]=new Array(t[a].length);for(var s=0;s<i[a].length;s++)i[a][s]=t[a][s]-e[a][s]}return i}([i],d);return{beta:c,yhat:d,residuals:p}},c=function(t){A=[],w=[],C=[],T=s(t,L),e.transpose(M).forEach((function(i,a){var s=l(m,g,T[a]);A.push(h(o([i],s.beta))),w.push(s.residuals),C.push(h(s.beta));var r=e.median(e.Abs(s.residuals[0]));t[a]=s.residuals[0].map((function(t){return n(t,6*r[0],2)}))}))};this.loessDegree=parseInt(this.loessDegree),(this.loessDegree<0||this.loessDegree>2)&&(this.loessDegree=2),this.loessBandWidth=Number(this.loessBandwidth),(this.loessBandwidth<0||this.loessBandwidth>1)&&(this.loessBandwidth=.8),this.loessSpan=Number(this.loessSpan),(this.loessSpan<0||this.loessSpan>1)&&(this.loessSpan=.75);var d=[t[0]],p=[this.loessSteps],g=t[1];t[2]&&(d.push(t[2]),p.push(this.loessSteps));var u=Array(t[0].length).fill(1),m=r(d,this.loessDegree),f=d.map((function(t){var i=Math.ceil(.1*t.length),a=e.cloneObject(t);a=a.sort((function(t,e){return t-e}));for(var s=0;s<i;s++)a.shift(),a.pop();var r=e.standardDeviation(a);return function(t){return t.map((function(t){return t/r}))}})),y=d.map((function(t,e){return f[e](t)})),x=this.transposeDataMatrix(y),b=[],v=[];d.forEach((function(t,e){var i=t.sort((function(t,e){return t-e})),a=i[0],s=(i[i.length-1]-a)/(p[e]-1);v.push([]);for(var r=0;r<p[e];r++)v[e].push(a+r*s);var n=1,o=1;for(r=e-1;r>=0;r--)n*=p[r];for(r=e+1;r<d.length;r++)o*=p[r];b.push([]);for(r=0;r<n;r++)b[e]=b[e].concat(v[e].reduce((function(t,e){return t.concat(Array(o).fill(e))}),[]))}));for(var A,w,C,T,S=this.cloneObject(b),D=b[0].length,M=r(S,this.loessDegree),k=S.map((function(t,e){return f[e](t)})),L=function(t,i,a){return t.map((function(t){for(var r=e.rank(t),o=[],h=0;h<r.length;h++)o.push([t[r[h]],i[r[h]]]);var l=e.sum(i)*a,c=0,d=o.findIndex((function(t){return(c+=t[1])>=l})),p=a>1?o[o.length-1][0]*a:o[d][0];return s(t.map((function(t){return n(t,p,3)})),i)}))}(function(t,e){return t.map((function(t){return e.map((function(e){return function(t,e){return t.length<2?Math.abs(t[0]-e[0]):Math.sqrt(t.reduce((function(t,i,a){return t+Math.pow(i-e[a],2)}),0))}(t,e)}))}))}(this.transpose(k),x),u,this.loessBandwidth),I=Array(D).fill(Array(t[0].length).fill(1)),B=0;B<1;B++)c(I);var N={fitted:h(A),residuals:w,betas:C,weights:T};!function(){for(var t=a(0,1,1-(1-e.loessSpan)/2),i=T.map((function(i,a){var s=e.sum(i),r=o([i],e.transpose([i]))[0];return Math.sqrt(o([e.square(w[a][0])],e.transpose([i]))/(s-r/s))*t})),s=[],r=0;r<A.length;r++)s[r]=[v[0][r],A[r][0]];Object.assign(N,{halfwidth:i,se:e.loessSE(s)})}();var F=[];if(t[2])for(var P=0;P<this.loessSteps;P++){for(var R=[],O=0;O<this.loessSteps;O++)R.push(N.fitted[O*this.loessSteps+P]);F.push(R)}for(P=0;P<this.loessSteps;P++)N.residuals[P]=N.residuals[P][0];return this.meta.vals.loess||(this.meta.vals.loess={}),t[2]?{x:v[0],y:v[1],z:F,b:N.betas,c:N.halfwidth,r:N.residuals,se:N.se}:{x:b[0],y:N.fitted,b:N.betas,c:N.halfwidth,r:N.residuals,se:N.se}},this.loess2D=function(t){var e=this;function a(t,e,i,a,s,r,n){if(!(t<=0))if(null==n?n=1:t+=n-1,null!=r)for(var o=n;o<=t;o++)a[o][r]=e[o][r];else for(o=1;o<=t;o++)a[o]=e[o]}function s(t,e,i,a,s){if(t<1||i<1)return 0;if(1==t)return Math.abs(e[1]);var r=0,n=1,o=[];if(null==s?s=1:t+=s-1,null!=a)for(var h=s;h<=t;h++)o[h]=e[h][a];else o=e;for(h=s;h<=t;h++)if(0!=o[h]){var l=Math.abs(o[h]);r<l?(n=1+n*Math.pow(r/l,2),r=l):n+=Math.pow(l/r,2)}return r*Math.sqrt(n)}function r(t,e,i,a,s,r,n,o){var h=0;if(!(t<=0))if(null==o?o=1:t+=o-1,null!=r&&null!=n)for(var l=o;l<=t;l++)h=e[l][r],e[l][r]=a[l][n],a[l][n]=h;else for(l=1;l<=t;l++)h=e[l],e[l]=a[l],a[l]=h}function n(t,e,i,a,s,r){if(!(t<0||a<0)){var n=[];if(null==r?r=1:t+=r-1,null!=s)for(var o=r;o<=t;o++)i[o]&&(n[o]=i[o][s]);else n=i;for(o=r;o<=t;o++)i[o]&&(n[o]*=e);if(null!=s)for(o=r;o<=t;o++)i[o]&&(i[o][s]=n[o])}}function o(t,e,i,a,s,r,n,o,h){var l=0;if(t<=0)return 0;if(null!=r&&null!=n&&null!=o&&null!=h){var c=[],d=[];t+=o-1;for(var p=o;p<=t;p++)c[p]=e[p][r],d[p]=a[p][h];for(p=o;p<=t;p++)l+=c[p]*d[p]}else{c=[],d=[];if(null==o?o=1:t+=o-1,null!=r&&null!=n)for(p=o;p<=t;p++)c[p]=e[p][r],d[p]=a[p][n];else if(null!=r)for(p=o;p<=t;p++)c[p]=e[p][r],d[p]=a[p];else c=e,d=a;for(p=o;p<=t;p++)l+=c[p]*d[p]}return l}function h(t,e,i,a,s,r,n,o,h){if(!(t<=0)&&0!=e){var l=[],c=[];if(null==h?h=1:t+=h-1,null!=n&&null!=o)for(var d=h;d<=t;d++)l[d]=i[d][n],c[d]=s[d][o];else if(null!=n)for(d=h;d<=t;d++)l[d]=i[d][n],c[d]=s[d];else if(null!=o)for(d=h;d<=t;d++)l[d]=i[d],c[d]=s[d][o];else l=i,c=s;for(d=h;d<=t;d++)c[d]+=e*l[d];if(null!=n&&null!=o)for(d=h;d<=t;d++)s[d][o]=c[d];else if(null!=n)for(d=h;d<=t;d++)s[d]=c[d];else if(null!=o)for(d=h;d<=t;d++)s[d][o]=c[d];else s=c}}function l(t){var e,i,a=t[0],s=t[1],r=t[2]||1,n=t[3]||0,o=s;Math.abs(a)>Math.abs(s)&&(o=a);var h=Math.abs(a)+Math.abs(s);return 0==h?(r=1,n=0,e=0,i=0):(e=h*Math.sqrt(Math.pow(a/h,2)+Math.pow(s/h,2)),r=a/(e=I(1,o)*e),n=s/e,i=1,Math.abs(a)>Math.abs(s)&&(i=n),Math.abs(s)>=Math.abs(a)&&0!=r&&(i=1/r)),[a=e,s=i,r,n]}function c(t,e,i,a,s,r,n,o,h,l){if(!(t<=0)){null==l?l=1:t+=l-1;for(var c=l;c<=t;c++){var d=r*e[c][o]+n*a[c][h];a[c][h]=r*a[c][h]-n*e[c][o],e[c][o]=d}}}function d(t,e,i,s,r,n,l,c,d,p,g,u){var m=u/1e4!=0,f=u%1e4!=0,y=u%1e3/100!=0,x=u%100/10!=0,b=u%10!=0,v=Math.min(s,i-1);if(0==v){if(m&&(l[1]=n[1]),f&&(c[1]=n[1]),b&&(g[1]=n[1]),y){if(0==t[1][1])throw new Error("Error in dqrsl x[1][1] = 0.0");d[1]=n[1]/t[1][1]}throw x&&(p[1]=0),new Error("Error in dqrsl")}if(m&&a(i,n,0,l),f&&a(i,n,0,c),m)for(var A=1;A<=v;A++){if(0!=r[C=v-A+1]){var w=t[C][C];t[C][C]=r[C],h(i-C+1,-o(i-C+1,t,0,l,0,C,null,C)/t[C][C],t,0,l,0,C,null,C),t[C][C]=w}}if(f)for(var C=1;C<=v;C++)if(0!=r[C]){w=t[C][C];t[C][C]=r[C],h(i-C+1,-o(i-C+1,t,0,c,0,C,null,C)/t[C][C],t,0,c,0,C,null,C),t[C][C]=w}y&&a(s,c,0,d);var T=s+1;if(b&&a(s,c,0,g),x&&s<i&&a(i-s,c,0,p,0,T),b&&T<=i)for(var S=T;S<=i;S++)g[S]=0;if(x)for(S=1;S<=s;S++)p[S]=0;if(y)for(A=1;A<=s;A++){if(0==t[C=s-A+1][C])throw new Error("Error in dqrsl");if(d[C]=d[C]/t[C][C],1!=C)h(C-1,-d[C],t,0,d,0,C,null,1)}if(x||b)for(A=1;A<=v;A++){if(0!=r[C=v-A+1]){w=t[C][C];if(t[C][C]=r[C],x)h(i-C+1,-o(i-C+1,t,0,p,0,C,null,C)/t[C][C],t,0,p,0,C,null,C);if(b)h(i-C+1,-o(i-C+1,t,0,g,0,C,null,C)/t[C][C],t,0,g,0,C,null,C);t[C][C]=w}}}function p(t,e){for(var i=[],a=t.length,s=t[1].length,r=0;r<a;r++){i[r]=[];for(var n=null==e?1:e;n<s;n++)i[r][n]=t[n][r]}return i}function g(t,e,i){return"interpolate"==t?"none"==e?surf_stat="interpolate/none":"exact"==e?surf_stat="interpolate/exact":"approximate"==e&&(surf_stat="approximate"==i?"interpolate/2.approx":"interpolate/1.approx"):"direct"==t&&("none"==e?surf_stat="direct/none":"exact"==e?surf_stat="direct/exact":"approximate"==e&&(surf_stat="direct/approximate")),surf_stat}function u(t,e,i,a,s,r,n,o){var h=Math.max(200,e),l=Math.min(e,Math.floor(e*i)),c=a>1?(t+2)*(t+1)*.5:t+1,d=c-n,p=[],g=[],u=50+(3*t+3)*h+e+(c+2)*l,m=50+(Math.pow(2,t)+4)*h+2*e;o&&(u+=(t+1)*l*h,m+=l*h),function(t,e,i,a,s,r,n,o,h,l,c){var d,p,g,u,m;106!=t&&y(100);e[28]=171,e[2]=r,e[3]=n,u=Math.pow(2,r),e[4]=u,0<o||y(120);p=Math.min(n,L(n*o)),e[19]=p,e[20]=1,0==h?d=1:1==h?d=r+1:2==h&&(d=(r+2)*(r+1)/2);e[29]=d,e[21]=1,e[14]=l,g=l,e[17]=g,e[30]=0,e[32]=h,h>=0||y(195);h<=2||y(195);e[33]=r;for(var f=41;f<=49;f++)e[f]=[,h];e[7]=50,e[8]=e[7]+g,e[9]=e[8]+u*g,e[10]=e[9]+g,e[22]=e[10]+g,m=e[22]-1;for(var x=1;x<=n;x++)e[m+x]=x;e[23]=e[22]+n,e[25]=e[23]+l,e[27]=c?e[25]+l*p:e[25];e[27]+n-1<=i||y(102);e[11]=50,e[13]=e[11]+l*r,e[12]=e[13]+(r+1)*l,e[15]=e[12]+g,e[16]=e[15]+n,e[18]=e[16]+p,e[24]=e[18]+e[29]*p,e[34]=e[24]+(r+1)*l,e[26]=c?e[34]+(r+1)*l*p:e[34];e[26]+p-1<=a||y(103);s[1]=o,s[2]=.05,s[3]=0,s[4]=1}(106,g,m,u,p,t,e,i,a,h,o);for(var f=0;f<t;f++)g[f+40]=r[f];return[g,m,p,u,d]}function m(t,e,i,a,s,r,n,o,h){for(var l=r[2],c=r[4]-1,d=r[5],p=r[6],g=r[7],u=r[11]-1,m=r[12],f=r[13],y=r[14],x=0;x<5;x++)t[x]=r[x+2];t[5]=r[22]-1,t[6]=r[15]-1;for(x=0;x<l;x++){var b=y*(x+1);a[x]=h[u+c],a[x+l]=h[u+c+b]}for(x=0;x<d;x++)i[x]=h[m+x],e[x]=r[g+x];for(b=(l+1)*p,x=0;x<b;x++)s[x]=h[f+x]}function f(t,e,i,a,s,r,n,o,h,l,c,d,p,g,f,y,x,b,v,A,w,C,T,k,L,I,B,O,X){var z,E=[],_=[];C=0,X&&function(t,e,i,a){t.unshift(void 0),e.unshift(void 0),i.unshift(void 0),a.unshift(void 0);for(var s=t.length,r=1;r<s;r++)t[r]=[void 0,t[r]]}(e,t,i,a);var H=u(s,r,n,o,0,l,c,L),V=H[0],G=H[1],q=H[2],j=H[3],U=H[4];if(q[2]=d,"interpolate/none"==p)N(e,t,a,0,0,V,G,j,q),F(V,G,j,q,r,e,f),m(y,x,b,v,A,V,0,0,q);else if("direct/none"==p)P(e,t,a,V,G,j,q,r,e,0,0,f);else if("interpolate/1.approx"==p){N(e,t,i,w,1,V,G,j,q),F(V,G,j,q,r,e,f),z=V[29];for(var Y=1;Y<=r;Y++)C+=w[Y];T=(H=D(C,r,s,U,z,T,k))[0],k=H[1],m(y,x,b,v,A,V,0,0,q)}else if("interpolate/2.approx"==p)N(e,t,a,0,0,V,G,j,q),F(V,G,j,q,r,e,f),z=V[29],T=(H=D(C=function(t,e,i,a){var s=M(1,t,e,i,n,r),r=s[0],n=s[1],o=(s=M(2,t,e,i,h,o))[0],h=s[1],l=(t-n)/(h-n);return(1-l)*r+l*o}(U,s,n),r,s,U,z,T,k))[0],k=H[1],m(y,x,b,v,A,V,0,0,q);else if("direct/approximate"==p){P(e,t,i,V,G,j,q,r,e,w,1,f),z=V[29];for(Y=1;Y<=r;Y++)C+=w[Y][1];T=(H=D(C,r,s,U,z,T,k))[0],k=H[1]}else if("interpolate/exact"==p)N(e,t,i,w,1,V,G,j,q),R(V,G,j,q,r,e,E),C=(H=S(r,E,_,C,T,k))[0],T=H[1],k=H[2],F(V,G,j,q,r,e,f),m(y,x,b,v,A,V,0,0,q);else if("direct/exact"==p){P(e,t,i,V,G,j,q,r,e,O,2,f),C=(H=S(r,O,_,C,T,k))[0],T=H[1],k=H[2];for(Y=1;Y<=r;Y++)w[Y]=O[Y][Y]}return p.match(/^direct/)?I&&function(t,e,i,a,s,r,n,o,h,l,c,d,p,g,m,f){var y=u(d,p,n,o,h,l,c,0),x=y[0],b=y[1],v=y[2],A=y[3];"gaussian"==r?P(e,t,a,x,b,A,v,g,i,f,2,m):"symmetric"==r&&(P(e,t,a,x,b,A,v,g,i,f,2,m),P(e,t,s,x,b,A,v,g,i,0,0,m))}(t,e,e,i,a,g,n,o,h,l,c,s,r,r,B,O):I&&function(t,e,i,a,s,r,n,o,h,l,c,d,p,g,m){var f=u(c,d,s,r,n,o,h,1),y=f[0],x=f[1],b=f[2],v=f[3];b[2]=l,N(e,t,a,0,0,y,x,v,b),R(y,x,v,b,p,i,m)}(t,e,e,i,n,o,h,l,c,d,s,r,r,0,O),[C,T,k,V,G,j,q]}function y(t){if(100==t)throw new TypeError("wrong version number in lowesd.  Probably typo in caller.");if(101==t)throw new TypeError("d>dMAX in ehg131.  Need to recompile with increased dimensions.");if(102==t)throw new TypeError("liv too small.   (Discovered by lowesd)");if(103==t)throw new TypeError("lv too small.    (Discovered by lowesd)");if(104==t)throw new TypeError("alpha too small.  fewer data values than degrees of freedom.");if(105==t)throw new TypeError("k>d2MAX in ehg136.  Need to recompile with increased dimensions.");if(106==t)throw new TypeError("lwork too small");if(107==t)throw new TypeError("invalid value for kernel");if(108==t)throw new TypeError("invalid value for ideg");if(109==t)throw new TypeError("lowstt only applies when kernel=1.");if(110==t)throw new TypeError("not enough extra workspace for robustness calculation");if(120==t)throw new TypeError("zero-width neighborhood. make alpha bigger");if(121==t)throw new TypeError("all data on boundary of neighborhood. make alpha bigger");if(122==t)throw new TypeError("extrapolation not allowed with blending");if(123==t)throw new TypeError("ihat=1 (diag L) in l2fit only makes sense ifz=x (eval=data).");if(171==t)throw new TypeError("lowesd must be called first.");if(172==t)throw new TypeError("lowesf must not come between lowesb and lowese, lowesr, or lowesl.");if(173==t)throw new TypeError("lowesb must come before lowese, lowesr, or lowesl.");if(174==t)throw new TypeError("lowesb need not be called twice.");if(180==t)throw new TypeError("nv>nvmax in cpvert.");if(181==t)throw new TypeError("nt>20 in eval.");if(182==t)throw new TypeError("svddc failed in l2fit.");if(183==t)throw new TypeError("didnt find edge in vleaf.");if(184==t)throw new TypeError("zero-width cell found in vleaf.");if(185==t)throw new TypeError("trouble descending to leaf in vleaf.");if(186==t)throw new TypeError("insufficient workspace for lowesf.");if(187==t)throw new TypeError("insufficient stack space");if(188==t)throw new TypeError("lv too small for computing explicit L");if(191==t)throw new TypeError("computed trace L was negative); something iswrong!");if(192==t)throw new TypeError("computed delta was negative); something is wrong!");if(193==t)throw new TypeError("workspace in loread appears to be corrupted");if(194==t)throw new TypeError("trouble in l2fit/l2tr");if(195==t)throw new TypeError("only constant, linear, or quadratic local models allowed");if(196==t)throw new TypeError("degree must be at least 1 for vertex influence matrix");if(999==t)throw new TypeError("not yet implemented")}function x(t,e,i,a){throw new TypeError(t,e,i,a)}function b(t,e,i,a){throw new TypeError(t,e,i,a)}function v(t,e,i,a,s,r,n,o,h,l,c,d,p){var g,u,m,f,x,b;f=e;for(var v=1;v<=h;v++)for(var A=1;A<=l;A++){i[f+=1]||(i[f]=[]);for(var w=1;w<=r;w++)i[f][w]=i[c[0]][w];for(i[f][n]=o,x=1,g=!(b=!1)&&x<=e;!g;){for(m=2,u=!!(b=i[x][1]==i[f][1])&&m<=r;!u;)b=i[x][m]==i[f][m],m+=1;x+=1}x-=1,b?f-=1:(x=f,a[1]>=0&&(a[x]=t)),d[0]=c[0],d[1]=x,p[0]=x,p[1]=c[1]}return(e=f)<=s||y(180),e}function A(t,e,i,a,s,r,n){for(var o=t,h=e;o<h;){var l=s[r[i]],c=o,d=h,p=r[o];for(r[o]=r[i],r[i]=p,l<s[r[h]]&&(p=r[o],r[o]=r[h],r[h]=p);c<d;){for(p=r[c],r[c]=r[d],r[d]=p,c+=1,d-=1;s[r[c]]<l;)c+=1;for(;l<s[r[d]];)d-=1}s[r[o]]==l?(p=r[o],r[o]=r[d],r[d]=p):(d+=1,p=r[h],r[h]=r[d],r[d]=p),d<=i&&(o=d+1),i<=d&&(h=d-1)}}function w(t,e,i,a,g,u,m,f,x,v,w,C,T,S,D,M,k,L,N,F,P,R,O,X,z,E,_,H,V){for(var G,q,j,U,Y,W,$,Q,Z,K,J,tt=[],et=Number.EPSILON,it=1;it<=e;it++)C[it]=0;for(var at=1;at<=E;at++){G=t[at];for(it=1;it<=e;it++)C[it]=C[it]+Math.pow(u[it][at]-G,2)}if(A(1,e,a,0,C,m),0<(U=C[m[a]]*Math.max(1,g))||y(120),2==v)for(var st=1;st<=a;st++)q=C[m[st]]<U?Math.sqrt(x[m[st]]):0,M[st]=q;else{for(it=1;it<=a;it++)M[it]=Math.sqrt(C[m[it]]/U);for(it=1;it<=a;it++)M[it]=Math.sqrt(x[m[it]]*Math.pow(1-Math.pow(M[it],3),3))}0==Math.abs(M[B(a,M,1)])&&(b("at ",t,E,1),b("radius ",U,1,1),y(121)),j=1;for(it=1;it<=a;it++)S[it]||(S[it]=[,[]]),S[it][j]=M[it];if(_>=1)for(at=1;at<=i;at++)if(H[at]>=1){j+=1,$=t[at];for(it=1;it<=a;it++)S[it][j]=M[it]*(u[m[it]][at]-$)}if(_>=2){for(at=1;at<=i;at++)if(H[at]>=1){if(H[at]>=2){j+=1,K=t[at];for(it=1;it<=a;it++)S[it][j]=M[it]*Math.pow(u[m[it]][at]-K,2)}for(var rt=at+1;rt<=i;rt++)if(H[rt]>=1){j+=1,Q=t[at],Z=t[rt];for(it=1;it<=a;it++)S[it][j]=M[it]*(u[m[it]][at]-Q)*(u[m[it]][rt]-Z)}}w=j}for(it=1;it<=a;it++)T[it]=M[it]*f[m[it]];for(at=1;at<=w;at++){J=0;for(var nt=1;nt<=a;nt++)J+=Math.pow(S[nt][at],2);if(0<(J=Math.sqrt(J))){for(it=1;it<=a;it++)S[it][at]=S[it][at]/J;tt[at]=J}else tt[at]=1}!function(t,e,i,a,l,c,d,p){var g,u,m,f,y,x,b,v,A,w,C,T;if(b=1,v=0,0!=p){for(var S=1;S<=a;S++)g=c[S]>0,A=c[S]<0,c[S]=S,A&&(c[S]=-S),g&&(S!=b&&r(i,t,0,t,0,S,1,b),c[S]=c[b],c[b]=S,b+=1);v=a;for(var D=1;D<=a;D++)c[S=a-D+1]<0&&(c[S]=-c[S],S!=v&&(r(i,t,0,t,0,v,S,1),f=c[v],c[v]=c[S],c[S]=f),v-=1)}if(v>=b)for(S=b;S<=v;S++)l[S]=s(i,t,1,S,1),d[S]=l[S];m=Math.min(i,a);for(var M=1;M<=m;M++){if(M>=b&&M<v){y=0,T=M;for(S=M;S<=v;S++)l[S]>y&&(y=l[S],T=S);T!=M&&(r(i,t,0,t,0,M,T,1),l[T]=l[M],d[T]=d[M],f=c[T],c[T]=c[M],c[M]=f)}if(l[M]=0,M!=i&&0!=(x=s(i-M+1,t,1,M,M))){if(0!=t[M][M]&&(x=I(x,t[M][M])),n(i-M+1,1/x,t,1,M,M),t[M][M]=1+t[M][M],a>=(u=M+1))for(S=u;S<=a;S++)h(i-M+1,C=-o(i-M+1,t,0,t,0,M,S,M)/t[M][M],t,0,t,0,M,S,M),S>=b&&S<=v&&0!=l[S]&&(w=1-Math.pow(Math.abs(t[M][S])/l[S],2),C=w=Math.max(w,0),1!=(w=1+.05*w*Math.pow(l[S]/d[S],2))&&(l[S]=l[S]*Math.sqrt(C)),l[S]=s(i-M,t,1,M+1,S),d[S]=l[S]);l[M]=t[M][M],t[M][M]=-x}}}(S,0,a,w,O,[],X,0),d(S,0,a,w,O,T,X,T,T,X,X,1e3);for(it=1;it<=w;it++)F[it]||(F[it]=[]);for(var ot=1;ot<=w;ot++)for(it=1;it<=w;it++)F[it][ot]=0;for(st=1;st<=w;st++)for(at=st;at<=w;at++)F[st][at]=S[st][at];!function(t,e,i,a,d,p,g,u,m){var f=0,y=!1,x=!1,b=m%100/10,v=e;b>1&&(v=Math.min(e,i)),0!=b&&(y=!0),m%10!=0&&(x=!0);var A=Math.min(e-1,i),w=Math.max(0,Math.min(i-2,e)),C=Math.max(A,w);if(C>=1)for(var T=1;T<=C;T++){var S=T+1;if(T<=A&&(a[T]=s(e-T+1,t,1,T,T),0!=a[T]&&(0!=t[T][T]&&(a[T]=I(a[T],t[T][T])),n(e-T+1,1/a[T],t,1,T,T),t[T][T]++),a[T]=-a[T]),i>=S)for(var D=S;D<=i;D++){if(T<=A&&0!=a[T])h(e-T+1,st=-o(e-T+1,t,0,t,0,T,D,T)/t[T][T],t,0,t,0,T,D,T);d[D]=t[T][D]}if(y&&T<=A)for(var M=T;M<=e;M++)p[M][T]=t[M][T];if(T<=w){if(d[T]=s(i-T,d,1,null,S),0!=d[T]&&(0!=d[S]&&(d[T]=I(d[T],d[S])),n(i-T,1/d[T],d,1,null,S),d[S]++),d[T]=-d[T],S<=e&&0!=d[T]){for(M=S;M<=e;M++)u[M]=0;for(D=S;D<=i;D++)h(e-T,d[D],t,0,u,0,D,null,S);for(D=S;D<=i;D++)h(e-T,-d[D]/d[S],u,0,t,0,null,D,S)}if(x)for(M=S;M<=i;M++)g[M]||(g[M]=[]),g[M][T]=d[M]}}var k=Math.min(i,e+1),L=A+1,B=w+1;if(A<i&&(a[L]=t[L][L]),e<k&&(a[k]=0),B<k&&(d[B]=t[B][k]),d[k]=0,y){if(v>=L){for(M=1;M<=e;M++)p[M]||(p[M]=[]);for(D=L;D<=v;D++){for(M=1;M<=e;M++)p[M][D]=0;p[D][D]=1}}if(A>=1)for(var N=1;N<=A;N++)if(0!=a[T=A-N+1]){if(v>=(S=T+1))for(D=S;D<=v;D++){h(e-T+1,st=-o(e-T+1,p,0,p,0,T,D,T)/p[T][T],p,0,p,0,T,D,T)}n(e-T+1,-1,p,1,T,T),p[T][T]++;var F=T-1;if(F>=1)for(M=1;M<=F;M++)p[M][T]=0}else{for(M=1;M<=e;M++)p[M][T]=0;p[T][T]=1}}if(x)for(N=1;N<=i;N++){S=(T=i-N+1)+1;if(T<=w&&0!=d[T])for(D=S;D<=i;D++){h(i-T,st=-o(i-T,g,0,g,0,T,D,S)/g[S][T],g,0,g,0,T,D,S)}for(M=1;M<=i;M++)g[M]||(g[M]=[]),g[M][T]=0;g[T][T]=1}for(var P,R,O=k,X=0;;){if(0==k)return 0;if(X>=30)throw new TypeError("Reached maximum iterations");for(N=1;N<=k&&0!=(T=k-N);N++)if((P=Math.abs(a[T])+Math.abs(a[T+1]))+Math.abs(d[T])==P){d[T]=0;break}if(T==k-1)R=4;else{for(var z=k+1,E=S=T+1;E<=z&&(f=k-E+S)!=T;E++)if(P=0,f!=k&&(P+=Math.abs(d[f])),f!=T+1&&(P+=Math.abs(d[f-1])),P+Math.abs(a[f])==P){a[f]=0;break}f==T?R=3:f==k?R=1:(R=2,T=f)}T++;var _=k-1;switch(R){case 1:var H=d[k-1];d[k-1]=0;for(var V=T;V<=_;V++){q=(at=l([q=a[G=_-V+T],H,et,it]))[0],H=at[1],et=at[2],it=at[3],a[G]=q,G!=T&&(H=-it*d[G-1],d[G-1]=et*d[G-1]),x&&c(i,g,0,g,0,et,it,G,k,1)}break;case 2:H=d[T-1];d[T-1]=0;for(var G=T;G<=k;G++){var q;q=(at=l([q=a[G],H,et,it]))[0],H=at[1],et=at[2],it=at[3],a[G]=q,H=-it*d[G],d[G]=et*d[G],y&&c(e,p,0,p,0,et,it,G,T-1,1)}break;case 3:var j=Math.max(Math.abs(a[k]),Math.abs(a[k-1]),Math.abs(d[k-1]),Math.abs(a[T]),Math.abs(d[T])),U=a[k]/j,Y=a[k-1]/j,W=d[k-1]/j,$=a[T]/j,Q=d[T]/j,Z=((Y+U)*(Y-U)+Math.pow(W,2))/2,K=Math.pow(U*W,2),J=0;0==Z&&0==K||(J=Math.sqrt(Z*Z+K),Z<0&&(J=-J),J=K/(Z+J));H=($+U)*($-U)+J;var tt=$*Q;for(_=k-1,G=T;G<=_;G++){var et,it,at;H=(at=l([H,tt,et,it]))[0],tt=at[1],et=at[2],it=at[3],G!=T&&(d[G-1]=H),H=et*a[G]+it*d[G],d[G]=et*d[G]-it*a[G],tt=it*a[G+1],a[G+1]=et*a[G+1],x&&c(i,g,0,g,0,et,it,G,G+1,1),H=(at=l([H,tt,et,it]))[0],tt=at[1],et=at[2],it=at[3],a[G]=H,H=et*d[G]+it*a[G+1],a[G+1]=-it*d[G]+et*a[G+1],tt=it*d[G+1],d[G+1]=et*d[G+1],y&&G<e&&c(e,p,0,p,0,et,it,G,G+1,1)}d[k-1]=H,X++;break;case 4:for(a[T]<0&&(a[T]=-a[T],x&&n(i,-1,g,1,T,1));T!=O&&!(a[T]>a[T+1]);){var st=a[T];a[T]=a[T+1],a[T+1]=st,x&&T<i&&r(i,g,0,g,0,T,T+1,1),y&&T<e&&r(e,p,0,p,0,T,T+1,1),T+=1}X=0,k--}}}(F,w,w,N,[],F,P,X,21),z=N[1]*(100*et),k=Math.min(k,N[w]/N[1]),N[w]<=z&&(1==(L+=1)?(b("Warning. pseudoinverse used at",t,i,1),b("neighborhood radius",Math.sqrt(U),1,1),b("reciprocal condition number ",k,1,1)):2==L&&b("There are other near singularities as well.",U,1,1));for(at=1;at<=w;at++){Y=tt[at];for(it=1;it<=w;it++)P[at][it]=P[at][it]/Y}for(at=1;at<=w;at++)W=z<N[at]?o(w,F,0,T,0,at,null,1)/N[at]:0,R[at]=W;var ht=p(P);for(at=0;at<=D;at++)V[at]||(V[at]=[]),at<=w?V[at].push(o(w,ht,0,R,0,at+1,null,1)):V[at].push(0);return z}function C(t,e,i,a,r,n,h,l,c,g,u,m,f,x,b,C,T,S,D,M,L,I,N,F,P,R,O,E,_,H,V,G,q,j,U,Y,W,$,Q,Z,K){c<=8||y(101),function(t,e,i,a,s,r){for(var n,o,h,l,c,d=Number.MAX_VALUE,p=1;p<=t;p++){l=d,o=-d;for(var g=1;g<=e;g++)c=a[g][p],l=Math.min(l,c),o=Math.max(o,c);l-=h=.005*Math.max(o-l,10*Math.max(Math.abs(l),Math.abs(o))+1-30),o+=h,s[1][p]=l,s[i][p]=o}for(g=2;g<=i-1;g++){n=g-1;for(p=1;p<=t;p++)s[g][p]=s[1+n%2*(i-1)][p],n/=2}}(c,l,m,t,N),f=m,g=1;for(var J=1;J<=m;J++)S[J]=[],S[J][g]=J,F[J]=0;for(var tt=[],et=1;et<=c;et++)tt[et]=N[m][et]-N[1][et];V*=s(c,tt,1);for(var it=1;it<=l;it++)L[it]=it;var at=function(t,e,i,a,s,r,n,o,h,l,c,d,p,g,u,m,f,y,x,b,w){var C,T,S,D,M,k,L,I,N=1,F=t,P=e;p[N]=F,g[N]=P;for(var R=[],O=[],z=[],E=1;E<h.length;E++)z[E]=h[E][1];for(;N<=r;){for(var _=1;_<=w;_++)R[_]=m[u[o][N]][_]-m[u[1][N]][_];T=0;for(var H=1;H<=w;H++)T+=Math.pow(R[H],2);if(T=Math.sqrt(T),(D=!!(P-F+1<=x||T<=b)||(n<r+2||y<s+o/2))||(X(F,P,w,h,l,a,O),M=parseInt(B(w,O,1)),S=parseInt((F+P)/2),A(F,P,S,0,z,l),S+(I=0)>=P||S+I<F||(I<0?(L=F,C=k=S+I):(k=L=S+I+1,C=P),A(L,C,k,0,z,l),h[l[S+I]][M]==h[l[S+I+1]][M]?(I=-I)>=0&&(I+=1):S+=I),D=m[u[1][N]][M]==h[l[S]][M]||m[u[o][N]][M]==h[l[S]][M]),D)c[N]=0;else{c[N]=M,d[N]=h[l[S]][M],r+=1,p[N]=r,p[r]=F,g[r]=S,r+=1,g[N]=r,p[r]=S+1,g[r]=P;var V=[],G=[],q=[];for(E=1;E<=o;E++)V[E-1]=u[E][N],G[E-1]=0,q[E-1]=0;s=v(N,s,m,f,y,i,M,d[N],Math.pow(2,M-1),Math.pow(2,i-M),V,G,q),u[1].push(G[0]),u[2].push(G[1]),u[1].push(q[0]),u[2].push(q[1])}F=p[N+=1],P=g[N]}return[r,s]}(1,l,c,l,f,g,u,m,t,L,T,R,M,D,S,N,F,x,H,V,Y);g=at[0],f=at[1];for(et=0;et<=c;et++)q[et]=[];if(0!=a)for(var st=1;st<=f;st++)for(et=0;et<=c;et++)q[et][st]=0;return[a=function(t,e,i,a,s,r,n,h,l,c,g,u,m,f,x,b,v,A,C,T,S,D,M,L,I,B,N,F,P,R,O,X,E,_,H,V,G,q,j,U){var Y,W,$,Q,Z=[],K=[],J=[],tt=[],et=[],it=[],at=[],st=[],rt=[];x<=r-1||y(104);x<=15||y(105);if(0!=m){for(var nt=1;nt<=a;nt++)D[nt]=0;for(var ot=1;ot<=i;ot++)for(nt=0;nt<=s;nt++)M[nt][ot]=0}for(var ht=1;ht<=a;ht++)c[ht]=ht;for(var lt=0;lt<=s;lt++)U[lt]||(U[lt]=[]);for(lt=1;lt<=i;lt++){for(nt=1;nt<=s;nt++)Z[nt]=t[lt][nt];if($=w(Z,a,s,r,n,h,c,g,u,f,x,b,A,C,T,S,X,E,st,et,it,at,J,tt,$,_,H,V,U),0!=m){for(nt=1;nt<=a;nt++)v[nt]=0;for(var ct=1;ct<=r;ct++)v[c[ct]]=ct;for(nt=1;nt<=s;nt++)K[nt]=t[lt][nt];Q=z(K,O[lt],rt,Q,s,i,e,L,I,B,N,F,P,R,t);for(var dt=1;dt<=Q;dt++)for(var pt=F[rt[dt]];pt<=P[rt[dt]];pt++)if(0!=(ct=v[l[pt]])){c[ct]!=l[pt]&&y(194);for(nt=1;nt<=r;nt++)A[nt]=0;A[ct]=S[ct],d(C,0,r,x,J,A,tt,A,A,tt,tt,1e3);for(var gt=1;gt<=x;gt++)at[gt]=$<st[gt]?o(x,et,0,A,0,gt,null,1)/st[gt]:0;for(gt=1;gt<=s+1;gt++)M[gt-1][lt]=gt<=x?o(x,p(it),0,at,0,gt,null,1):0;for(nt=1;nt<=s;nt++)K[nt]=h[l[pt]][nt];W=k(K,s,L,I,B,N,F,P,R,t,e,M),D[l[pt]]=D[l[pt]]+W;for(nt=0;nt<=s;nt++)M[nt][lt]=0}}if(j){x>=s+1||y(196);for(nt=1;nt<=r;nt++)G[lt]||(G[lt]=[]),G[lt][nt]=c[nt];for(ot=1;ot<=r;ot++)for(nt=0;nt<=s;nt++)q[nt]||(q[nt]=[]),q[nt][lt]||(q[nt][lt]=[]),q[nt][lt][ot]=0;for(gt=1;gt<=x;gt++){for(nt=1;nt<=r;nt++)A[nt]=0;for(nt=1;nt<=x;nt++)A[nt]=et[nt][gt];d(C,0,r,x,J,A,A,tt,tt,tt,tt,1e4),Y=$<st[gt]?1/st[gt]:0;for(nt=1;nt<=r;nt++)A[nt]=A[nt]*(Y*S[nt]);for(ct=1;ct<=r;ct++){var ut=A[ct];for(nt=0;nt<=s;nt++)q[nt][lt][ct]=nt<x?q[nt][lt][ct]+it[1+nt][gt]*ut:0}}}}if(0!=m)if(a<=0)m=0;else{for(var mt=a,ft=D[mt],yt=mt-1;yt>=1;yt--)ft=D[yt]+ft;m=ft}return m}(N,x,f,l,c,b,C,t,L,I,e,i,a,n,h,O,[],E,_,c,G,r,q,g,m,T,R,M,D,S,F,j,U,Y,W,$,Q,Z,K,P),g,f]}function T(t,e,a,s,r,n,o,h,l){var c,d,p,g,u,m,f=[0,.297162,.380266,.5886043,.4263766,.3346498,.6271053,.5241198,.3484836,.6687687,.6338795,.4076457,.7207693,.1611761,.3091323,.4401023,.2939609,.3580278,.5555741,.397239,.4171278,.6293196,.4675173,.469907,.6674802,.2848308,.2254512,.2914126,.5393624,.251723,.389897,.7603231,.2969113,.474013,.9664956,.3629838,.5348889,.207567,.2822574,.2369957,.3911566,.2981154,.3623232,.5508869,.3501989,.4371032,.7002667,.4291632,.493037];return 0==a&&(o=1),1==a&&(o=r+1),2==a&&(o=(r+2)*(r+1)/2),c=Math.sqrt(s/e),p=(Math.sqrt(s/t)-c)/(1-c),0==n&&1<p&&b("Chernobyl! trL<k",t,1,1),p<0&&b("Chernobyl! trL>n",t,1,1),p=Math.min(1,Math.max(0,p)),d=Math.exp(function(t){var e=[],i=[void 0,[],[]],a=[],s=[],r=[],n=[void 0,[],[],[],[],[],[],[],[],[],[]],o=[[],[]];return e[1]=1,a[1]=3,s[1]=2,r[1]=.3705,i[1][1]=1,i[2][1]=2,e[2]=1,a[2]=5,s[2]=4,r[2]=.2017,i[1][2]=1,i[2][2]=3,e[3]=1,a[3]=7,s[3]=6,r[3]=.5591,i[1][3]=3,i[2][3]=2,e[4]=1,a[4]=9,s[4]=8,r[4]=.1204,i[1][4]=1,i[2][4]=4,e[5]=1,a[5]=11,s[5]=10,r[5]=.2815,i[1][5]=4,i[2][5]=3,e[6]=1,a[6]=13,s[6]=12,r[6]=.4536,i[1][6]=3,i[2][6]=5,e[7]=1,a[7]=15,s[7]=14,r[7]=.7132,i[1][7]=5,i[2][7]=2,e[8]=0,i[1][8]=1,i[2][8]=6,e[9]=0,i[1][9]=6,i[2][9]=4,e[10]=0,i[1][10]=4,i[2][10]=7,e[11]=0,i[1][11]=7,i[2][11]=3,e[12]=0,i[1][12]=3,i[2][12]=8,e[13]=0,i[1][13]=8,i[2][13]=5,e[14]=0,i[1][14]=5,i[2][14]=9,e[15]=1,a[15]=17,s[15]=16,r[15]=.8751,i[1][15]=9,i[2][15]=2,e[16]=0,i[1][16]=9,i[2][16]=10,e[17]=0,i[1][17]=10,i[2][17]=2,o[0][1]=-.090572,n[1][1]=-5,o[1][1]=4.4844,o[0][2]=-.010856,n[2][1]=1.005,o[1][2]=-.7736,o[0][3]=-.053718,n[3][1]=.3705,o[1][3]=-.3495,o[0][4]=.026152,n[4][1]=.2017,o[1][4]=-.7286,o[0][5]=-.058387,n[5][1]=.5591,o[1][5]=.1611,o[0][6]=.095807,n[6][1]=.1204,o[1][6]=-.7978,o[0][7]=-.031926,n[7][1]=.2815,o[1][7]=-.4457,o[0][8]=-.06417,n[8][1]=.4536,o[1][8]=.032813,o[0][9]=-.020636,n[9][1]=.7132,o[1][9]=.335,o[0][10]=.040172,n[10][1]=.8751,o[1][10]=-.041032,k([void 0,t],1,17,2,e,r,s,a,i,n,10,o)}(p)),i=1+3*(Math.min(r,4)-1+4*(a-1)),r<=4?(g=f[i],m=f[i+1],u=f[i+2]):(g=f[i]+(r-4)*(f[i]-f[i-3]),m=f[i+1]+(r-4)*(f[i+1]-f[i-2]),u=f[i+2]+(r-4)*(f[i+2]-f[i-1])),h=e-t*Math.exp(g*Math.pow(p,m)*Math.pow(1-p,u)*d),i+=24,r<=4?(g=f[i],m=f[i+1],u=f[i+2]):(g=f[i]+(r-4)*(f[i]-f[i-3]),m=f[i+1]+(r-4)*(f[i+1]-f[i-2]),u=f[i+2]+(r-4)*(f[i+2]-f[i-1])),[o,h,e-t*Math.exp(g*Math.pow(p,m)*Math.pow(1-p,u)*d)]}function S(t,e,i,a,s,r){for(var n=1;n<=t;n++)i[n]||(i[n]=[]),e[n][n]=e[n][n]-1;var h=p(e);for(n=1;n<=t;n++)for(var l=1;l<=n;l++)i[n][l]=o(t,h,0,h,0,n,l,1);for(n=1;n<=t;n++)for(l=n+1;l<=t;l++)i[n][l]=i[l][n];for(n=1;n<=t;n++)e[n][n]=e[n][n]+1;a=0,s=0;for(n=1;n<=t;n++)a+=e[n][n],s+=i[n][n];r=0;var c=p(i);for(n=1;n<=t;n++)r+=o(t,c,0,i,0,n,1,1,n);return[a,s,r]}function D(t,e,i,a,s,r,n){var o=T(t,e,1,a,i,s,h,l),h=o[0],l=o[1],c=o[2],d=T(t,e,2,a,i,s,p,g),p=d[0],g=d[1],u=d[2],m=(a-h)/(p-h);return[(1-m)*l+m*g,(1-m)*c+m*u]}function M(t,e,i,a,s,r){return s=0,1==t&&(s=i+1),2==t&&(s=(i+2)*(i+1)/2),g1=(-.08125*i+.13)*i+1.05,[s,s*(1+Math.max(0,(g1-a)/a))]}function k(t,e,i,a,s,r,n,o,h,l,c,d){var p,g,u,m,f,x,v,A,w,C,T,S,D,M,k,L,I,B,N,F,P,R,O,X,z,E,_,H,V=[],G=1,q=[];q[G]=1;for(var j=1;0!=s[j];)G+=1,H=t[s[j]]<=r[j]?n[j]:o[j],q[G]=H,G<20||y(181),j=q[G];for(var U=0;U<=e;U++)V[U]=[];for(var Y=1;Y<=a;Y++)for(U=0;U<=e;U++)V[U][Y]=d[U]?d[U][h[Y][j]]:0;F=a,O=h[1][j],E=h[a][j];for(var W=e;W>=1;W--){(T=(t[W]-l[O][W])/(l[E][W]-l[O][W]))<-.001?(b("eval ",t,e,1),b("lowerlimit ",l[O][1],e,c)):1.001<T&&(b("eval ",t,e,1),b("upperlimit ",l[E][1],e,c)),-.001<=T&&T<=1.001||y(122),F/=2;for(var $=1;$<=F;$++){D=Math.pow(1-T,2)*(1+2*T),x=T*T*(3-2*T),N=T*(1-T)*(1-T),R=T*T*(T-1),V[0][$]=D*V[0][$]+x*V[0][$+F]+(N*V[W][$]+R*V[W][$+F])*(l[E][W]-l[O][W]);for(var Q=1;Q<=W-1;Q++)V[Q][$]=D*V[Q][$]+x*V[Q][$+F]}}if(u=V[0][1],2==e){_=l[O][1],A=l[E][1];for(U=0;U<=e;U++)p[U]=d[U][h[3][j]];for(U=0;U<=e;U++)P[U]=d[U][h[4][j]];for(B=l[E][2],M=0==(C=G-1)||2==s[q[C]]&&r[q[C]]==B;!M;)C-=1;if(C>=1){for(C=o[q[C]];0!=s[C];)C=t[s[C]]<=r[C]?n[C]:o[C];if(_<l[h[1][C]][1]){_=l[h[1][C]][1];for(U=0;U<=e;U++)p[U]=d[U][h[1][C]]}if(l[h[2][C]][1]<A){A=l[h[2][C]][1];for(U=0;U<=e;U++)P[U]=d[U][h[2][C]]}}x=(T=(t[1]-_)/(A-_))*T*(3-2*T),N=T*(1-T)*(1-T),R=T*T*(T-1),m=(D=(1-T)*(1-T)*(1+2*T))*p[0]+x*P[0]+(N*p[1]+R*P[1])*(A-_),k=D*p[2]+x*P[2],_=l[O][1],A=l[E][1];for(U=0;U<=e;U++)p[U]=d[U][h[1][j]];for(U=0;U<=e;U++)P[U]=d[U][h[2][j]];for(B=l[O][2],g=0==(C=G-1)||2==s[q[C]]&&r[q[C]]==B;!g;)C-=1;if(C>=1){for(C=n[q[C]];0!=s[C];)C=t[s[C]]<=r[C]?n[C]:o[C];if(_<l[h[3][C]][1]){_=l[h[3][C]][1];for(U=0;U<=e;U++)p[U]=d[U][h[3][C]]}if(l[h[4][C]][1]<A){A=l[h[4][C]][1];for(U=0;U<=e;U++)P[U]=d[U][h[4][C]]}}x=(T=(t[1]-_)/(A-_))*T*(3-2*T),N=T*(1-T)*(1-T),R=T*T*(T-1),I=(D=(1-T)*(1-T)*(1+2*T))*p[0]+x*P[0]+(N*p[1]+R*P[1])*(A-_),f=D*p[2]+x*P[2],_=l[O][2],A=l[E][2];for(U=0;U<=e;U++)p[U]=d[U][h[2][j]];for(U=0;U<=e;U++)P[U]=d[U][h[4][j]];for(B=l[E][1],L=0==(C=G-1)||1==s[q[C]]&&r[q[C]]==B;!L;)C-=1;if(C>=1){for(C=o[q[C]];0!=s[C];)C=t[s[C]]<=r[C]?n[C]:o[C];if(_<l[h[1][C]][2]){_=l[h[1][C]][2];for(U=0;U<=e;U++)p[U]=d[U][h[1][C]]}if(l[h[3][C]][2]<A){A=l[h[3][C]][2];for(U=0;U<=e;U++)P[U]=d[U][h[3][C]]}}x=(T=(t[2]-_)/(A-_))*T*(3-2*T),N=T*(1-T)*(1-T),R=T*T*(T-1),v=(D=(1-T)*(1-T)*(1+2*T))*p[0]+x*P[0]+(N*p[2]+R*P[2])*(A-_),X=D*p[1]+x*P[1],_=l[O][2],A=l[E][2];for(U=0;U<=e;U++)p[U]=d[U][h[1][j]];for(U=0;U<=e;U++)P[U]=d[U][h[3][j]];for(B=l[O][1],z=0==(C=G-1)||1==s[q[C]]&&r[q[C]]==B;!z;)C-=1;if(C>=1){for(C=n[q[C]];0!=s[C];)C=t[s[C]]<=r[C]?n[C]:o[C];if(_<l[h[2][C]][2]){_=l[h[2][C]][2];for(U=0;U<=e;U++)p[U]=d[U][h[2][C]]}if(l[h[4][C]][2]<A){A=l[h[4][C]][2];for(U=0;U<=e;U++)P[U]=d[U][h[4][C]]}}x=(T=(t[2]-_)/(A-_))*T*(3-2*T),N=T*(1-T)*(1-T),R=T*T*(T-1),S=(D=(1-T)*(1-T)*(1+2*T))*p[0]+x*P[0]+(N*p[2]+R*P[2])*(A-_),w=D*p[1]+x*P[1],u=(D=(1-(T=(t[2]-l[O][2])/(l[E][2]-l[O][2])))*(1-T)*(1+2*T))*I+(x=T*T*(3-2*T))*m+((N=T*(1-T)*(1-T))*f+(R=T*T*(T-1))*k)*(l[E][2]-l[O][2])+((D=(1-(T=(t[1]-l[O][1])/(l[E][1]-l[O][1])))*(1-T)*(1+2*T))*S+(x=T*T*(3-2*T))*v+((N=T*(1-T)*(1-T))*w+(R=T*T*(T-1))*X)*(l[E][1]-l[O][1]))-u}return u}function L(t){return Math.floor(t)}function I(t,e){var i=Math.abs(t);return e>=0?i:-i}function B(t,e,i){var a,s;if(t<1)return 0;if(1==t)return 1;if(1!=i){s=1,a=Math.abs(e[1]),s+=i;for(var r=2;r<=t;r++){if(Math.abs(e[s])>a)return r;s+=i}}a=Math.abs(e[1]);for(r=2;r<=t;r++)if(Math.abs(e[r])>a)return r;return 1}function N(t,e,i,a,s,r,n,o,h){173==r[28]&&y(174),172!=r[28]&&171!=r[28]&&y(171),r[28]=173;var l=s?1:0,c=r[27]!=r[25];r[r[7]]=[],r[r[8]]=[],r[r[9]]=[],r[r[10]]=[],r[r[22]]=[],r[r[27]]=[],h[r[11]]=[[],[],[]],r[r[23]]=[],h[r[13]]=[],h[r[12]]=[],h[r[15]]=[],h[r[16]]=[],h[r[18]]=[],h[r[26]]=[],h[r[24]]=[],r[r[25]]=[],h[r[34]]=[];var d=C(t,e,i,l,a,r[20],r[29],r[3],r[2],r[5],r[17],r[4],r[6],r[14],r[19],h[1],r[r[7]],r[r[8]],r[r[9]],r[r[10]],r[r[22]],r[r[27]],h[r[11]],r[r[23]],h[r[13]],h[r[12]],h[r[15]],h[r[16]],h[r[18]],L(r[3]*h[2]),h[3],h[r[26]],h[r[24]],h[4],r[30],r[33],r[32],r[41],r[r[25]],h[r[34]],c);return l=d[0],r[5]=d[1],r[6]=d[2],r[14]<r[6]+r[4]/2?x("Warning. k-d tree limited by memory; nvmax=",r[14],1,1):r[17]<r[5]+2&&x("Warning. k-d tree limited by memory. ncmax=",r[17],1,1),l}function F(t,e,i,a,s,r,n){172==t[28]&&y(172),173!=t[28]&&y(173),function(t,e,i,a,s,r,n,o,h,l,c,d,p,g,u,m){for(var f=0;f<d.length;f++)d[f].unshift(void 0);var y=[];for(f=1;f<=g;f++){for(var x=1;x<=e;x++)y[x]=u[f][x];m[f]=k(y,e,r,i,n,p,l,h,o,c,a,d)}}(t[3],t[2],t[4],t[14],t[5],t[17],t[t[7]],t[t[8]],t[t[9]],t[t[10]],a[t[11]],a[t[13]],a[t[12]],s,r,n)}function P(t,e,i,s,r,n,h,l,c,g,u,m){171<=s[28]&&s[28]<=174||y(171),s[28]=172,s[14]>=s[19]||y(186),s[s[22]]=[],h[s[15]]=[],h[s[16]]=[],h[s[18]]=[],h[s[26]]=[];var f=[];!function(t,e,i,s,r,n,h,l,c,g,u,m,f,x,b,v,A,C,T,S,D,M,k,L,I,B){var N,F,P,R=[],O=[],X=[],z=[],E=[],_=[],H=[],V=[],G=[];f<=n-1||y(104),f<=15||y(105);for(var q=1;q<=s;q++)c[q]=q;for(var j=1;j<=i;j++){for(var U=1;U<=r;U++)O[U]=t[j][U];if(C[j]||(C[j]=[]),P=w(O,s,r,n,h,l,c,g,u,m,f,x,b,v,A,S,D,M,H,E,R,_,X,z,P,k,L,I,B),1==T){for(i!=s&&y(123),W=1;j!=c[W];)(W+=1)<n||y(123);for(U=1;U<=n;U++)b[U]=0;b[W]=S[W],d(v,0,n,f,X,b,V,G,[],[],[],1e3),a(n,G,0,b);for(U=1;U<=f;U++)_[U]=0;for(var Y=1;Y<=f;Y++){N=b[Y];for(U=1;U<=f;U++)_[U]+=N*E[Y][U]}for(Y=1;Y<=f;Y++)P<H[Y]?_[Y]/=H[Y]:_[Y]=0;C[j][1]=o(f,p(R),0,_,0,1,null,1)}else if(2==T){for(U=1;U<=s;U++)C[j][U]=0;for(Y=1;Y<=f;Y++){for(U=1;U<=n;U++)b[U]=0;for(U=1;U<=f;U++)b[U]=E[U][Y];d(v,0,n,f,X,b,V,[],[],[],[],1e4),a(n,V,0,b),F=P<H[Y]?1/H[Y]:0;for(U=1;U<=n;U++)b[U]*=F*S[U];for(var W=1;W<=n;W++)C[j][c[W]]+=R[1][Y]*b[W]}}}}(c,0,l,s[3],s[2],s[19],h[1],t,s[s[22]],e,i,s[20],s[29],h[s[15]],h[s[16]],h[s[18]],0,g,u,h[s[26]],h[4],s[30],s[33],s[32],s[41],f);for(var x=0;x<f[0].length;x++)m[x+1]=f[0][x]}function R(t,e,i,a,s,r,n){172==t[28]&&y(172),173!=t[28]&&y(173),t[26]==t[34]&&y(175),function(t,e,i,a,s,r,n,o,h,l,c,d,p,g,u,m,f,y,x){for(var b,v,A=[],w=1;w<=s;w++){for(var C=1;C<=n;C++)for(var T=0;T<=a;T++)f[T][C]=0;for(var S=1;S<=n;S++){for(v=x[S][1],x[S][1]=w,b=r;x[S][b]!=w;)b-=1;if(x[S][1]=v,x[S][b]==w)for(T=0;T<=a;T++)f[T][S]=y[T][S][b]}for(S=1;S<=t;S++){i[S]||(i[S]=[]);for(T=1;T<=a;T++)A[T]=e[S][T];i[S][w]=k(A,a,o,h,l,c,d,p,g,u,m,f)}}}(s,r,n,t[2],t[3],t[19],t[6],t[17],t[4],t[t[7]],a[t[12]],t[t[10]],t[t[9]],t[t[8]],a[t[11]],t[14],a[t[24]],a[t[34]],t[t[25]])}function O(t,e,i,a){for(var s,r,n=1;n<=e;n++)i[n]=Math.abs(t[n]);for(var o=1;o<=e;o++)a[o]=o;if(A(1,e,r=L(e/2)+1,0,i,a),e-r+1<r?(A(1,r-1,r-1,0,i,a),s=3*(i[a[r]]+i[a[r-1]])):s=6*i[a[r]],s<Number.MIN_VALUE)for(n=1;n<=e;n++)i[n]=1;else for(var h=1;h<=e;h++).999*s<i[h]?i[h]=0:.001*s<i[h]?i[h]=Math.pow(1-Math.pow(i[h]/s,2),2):i[h]=1}function X(t,e,i,a,s,r,n){for(var o,h,l,c=Number.MAX_VALUE,d=1;d<=i;d++){h=c,l=-c;for(var p=t;p<=e;p++)o=a[s[p]][d],h=Math.min(h,a[s[p]][d]),l=Math.max(l,o);n[d]=l-h}}function z(t,e,i,a,s,r,n,o,h,l,c,d,p,g,u){var m=[],f=0,x=1;for(a=0;0<x;)0==l[x]?(i[a+=1]=x,x=f>=1?m[f]:0,f=Math.max(0,f-1)):t[l[x]]==c[x]?((f+=1)<=20||y(187),m[f]=p[x],x=d[x]):x=t[l[x]]<=c[x]?d[x]:p[x];return a<=256||y(185),a}var E=function(t,i){for(var a=[],s=0;s<t[0].length;s++)a[s]=s;a.sort((function(e,i){return t[0][e]-t[0][i]}));var r=[],n=[],o=!!t[2]&&[];for(s=0;s<a.length;s++)r[s]=t[0][a[s]],n[s]=t[1][a[s]],t[2]&&(o[s]=t[2][a[s]]);if(!i){i=[];for(s=0;s<n.length;s++)i[s]=1,a[s]=s}var h=e.loessSpan,l=e.loessDegree,c=e.loessNormalize,d=[],p=[];for(s=0;s<8;s++)d[s]=!1,p[s]=!1;var u=e.loessFamily,m=e.loessSurface,y=e.loessStatistics,x=e.loessCell,b="wait.to.decide",v="gaussian"==u?0:e.loessIterations,w="",C=o?2:1,T=r.length;"wait.to.decide"==b&&(b="interpolate"==m?T<500?"exact":"approximate":"exact");var S=b,D=0,M=0,k=0,I=h*x,B=[];for(s=0;s<T;s++)B[s]=1;var N=[];for(s=0;s<T*C;s++)N[s]=r[s];var F=[];if(c&&C>1){var P=Math.ceil(.1*T);for(s=0;s<C;s++){for(var R=s*T,X=[],z=0;z<T;z++)X[z]=r[R+z];X=X.sort((function(t,e){return t-e}));var E=0;for(z=P;z<=T-P-1;z++)E+=X[z];var _=E/(T-2*P);E=0;for(z=P;z<=T-P-1;z++)X[z]-=_,E+=X[z]*X[z];F[s]=Math.sqrt(E/(T-2*P-1));for(z=0;z<T;z++){N[K=R+z]=r[K]/F[s]}}}else for(s=0;s<C;s++)F[s]=1;z=C-1;var H=0,V=0,G=0,q=[],j=[],U=[],Y=[],W=[],$=[],Q=[],Z=[];for(s=0;s<C;s++)H+=p[s],V+=d[s],d[s]?Q[z--]=s:Q[G++]=s;for(s=0;s<C;s++){Z[s]=2-p[Q[s]];R=s*T;var K=Q[s]*T;for(z=0;z<T;z++)r[R+z]=N[K+z]}if(1==l&&H)throw new Error("Specified the square of a factor predictor to be dropped when degree = 1");if(1==C&&H)throw new Error("Specified the square of a predictor to be dropped with only one numeric predictor");if(V==C)throw new Error("Specified parametric for all predictors");var J,tt,et,it,at,st,rt=[],nt=[],ot=[],ht=[],lt=[],ct=(X=[],[]),dt=[],pt=[];for(z=0;z<=v;z++){var gt=z?"none":y;if(0==z)for(s=0;s<T;s++)B[s]=i[s]*B[s];else for(s=1;s<=T;s++)B[s]=i[s]*B[s];for(J=(lt=f(n,r,i,B,C,T,h,l,G,Z,H,I,w=g(m,gt,S),u,rt,q,j,U,Y,W,$,J,tt,et,"interpolate/exact"==w,!0,pt,dt,0==z))[0],tt=lt[1],et=lt[2],0==z&&(k=J,D=tt,M=et),s=1;s<=T;s++)nt[s]=n[s]-rt[s];z<v&&O(nt,T,B,X)}if(v>0)for(function(t,e,i,a,s,r,n){for(var o,h,l,c,d,p,g=1;g<=t;g++)n[g]=Math.abs(e[g]-i[g])*Math.sqrt(a[g]);for(var u=1;u<=t;u++)r[u]=u;o=L(t/2)+1,A(1,t,o,1,n,r,t),t-o+1<o?(A(1,o-1,o-1,1,n,r,t),h=(n[r[o-1]]+n[r[o]])/2):h=n[r[o]];l=Math.pow(6*h,2)/5;for(g=1;g<=t;g++)n[g]=1-Math.pow(e[g]-i[g],2)*a[g]/l;for(g=1;g<=t;g++)n[g]=n[g]*Math.sqrt(s[g]);if(t<=0)p=0;else{d=n[c=t];for(var m=c-1;m>=1;m--)d=n[m]+d;p=d}l=t/p;for(g=1;g<=t;g++)n[g]=i[g]+l*s[g]*(e[g]-i[g])}(T,n,rt,i,B,X,ht),it=(lt=f(ht,r,i,i,C,T,h,l,G,Z,H,I,w,u,X,[],[],[],[],[],[],it,at,st,0,!0,pt,dt))[0],at=lt[1],st=lt[2],s=1;s<=T;s++)ot[s]=ht[s]-X[s];var ut=0;if(0==v)for(s=1;s<=T;s++)ut+=i[s]*nt[s]*nt[s];else for(s=1;s<=T;s++)ut+=i[s]*ot[s]*ot[s];var mt=D+2*k-T,ft=Math.sqrt(ut/D),yt=D*D/M,xt=e.qt(1-.975,yt),bt=[];for(function(t,e,i,a){t.shift(),e.shift(),i.shift(),a.shift();for(var s=t.length,r=0;r<s;r++)t[r]=t[r][1]}(r,n,i,B),rt.shift(),dt=function(t){for(var e=[],i=t.length,a=t[1].length,s=1;s<i;s++){e[s-1]=[];for(var r=1;r<a;r++)e[s-1][r-1]=t[s][r]}return e}(dt),s=0;s<T;s++)for(z=0;z<T;z++)dt[s][z]/=i[s],dt[s][z]*=dt[s][z];for(s=0;s<T;s++){var vt=0;for(z=0;z<T;z++)vt+=dt[s][z];ct[s]=ft*Math.sqrt(vt),bt[s]=xt*ct[s]}return{loess:{x:r,y:n,weights:i,robust:B,span:h,degree:l,normalize:c,y_fit:rt,cell:x,family:u,surface:m,statistics:y,trace_hat:b,iterations:v,order:a,residualScale:ft,df:yt,se:ct,confidence:bt},nObs:T,param:mt,resStdErr:ft}}(t);return console.log(E),{x:E.loess.x,y:E.loess.y_fit,se:E.loess.se,confidence:E.loess.confidence,order:E.loess.order,summary:"<b>Family</b>: "+E.loess.family+"<br><b>Parameters</b>: "+e.formatNumber(E.param)+"<br><b>Residual SE</b>: "+e.formatNumber(E.resStdErr)+"<br><b>n</>: "+E.nObs}}},CanvasXpress.prototype.initQuantreg=function(){this.rqfnb=function(t,e,i,a,s,r,n,o,h,l,c,d,p){var g=this.getFortranArrayColumn(l,t,0),u=this.getFortranArrayColumn(l,t,1),m=this.getFortranArrayColumn(c,e,0),f=this.getFortranArrayColumn(l,t,2),y=this.getFortranArrayColumn(l,t,3),x=this.getFortranArrayColumn(l,t,4),b=this.getFortranArrayColumn(l,t,5),v=this.getFortranArrayColumn(c,e,1),A=this.getFortranArrayColumn(l,t,6),w=this.getFortranArrayColumn(l,t,7),C=this.getFortranArrayColumn(l,t,8),T=this.getFortranArrayColumn(c,e,2),S=this.getFortramMatrix(this.getFortranArrayColumn(c,e,3),1,e);return p=this.lpfnb(t,e,i,a,s,r,n,o,h,g,u,m,f,y,x,b,v,A,w,C,T,S,d,p),this.putFortranArrayColumn(l,t,0,g),this.putFortranArrayColumn(l,t,1,u),this.putFortranArrayColumn(c,e,0,m),this.putFortranArrayColumn(l,t,2,f),this.putFortranArrayColumn(l,t,3,y),this.putFortranArrayColumn(l,t,4,x),this.putFortranArrayColumn(l,t,5,b),this.putFortranArrayColumn(c,e,1,v),this.putFortranArrayColumn(l,t,6,A),this.putFortranArrayColumn(l,t,7,w),this.putFortranArrayColumn(l,t,8,C),this.putFortranArrayColumn(c,e,2,T),this.putFortranArrayColumn(c,e,3,this.getFortramMatrix([],1,e,S)),p},this.lpfnb=function(t,e,i,a,s,r,n,o,h,l,c,d,p,u,m,f,y,x,b,v,A,w,C,T){var S=1e20;C[0]=0,C[1]=0,C[2]=t,this.dgemv("n",e,t,1,i,e,a,1,0,d,1);for(var D=0;D<t;D++)r[D]=1;if(0!=(T=this.stepy(t,e,i,r,d,w,T)))return T;this.dcopy(t,a,1,c,1),this.dgemv("t",e,t,-1,i,e,d,1,1,c,1);for(D=0;D<t;D++)Math.abs(c[D])<h?(p[D]=Math.max(c[D],0)+h,u[D]=Math.max(-c[D],0)+h):(p[D]=Math.max(c[D],0),u[D]=Math.max(-c[D],0)),c[D]=n[D]-l[D];for(var M=this.ddot(t,p,1,l,1)+this.ddot(t,u,1,c,1);M>h&&C[0]<500;){C[0]++;for(D=0;D<t;D++)r[D]=1/(p[D]/l[D]+u[D]/c[D]),f[D]=p[D]-u[D],x[D]=r[D]*f[D];if(this.dcopy(e,s,1,y,1),this.dgemv("n",e,t,-1,i,e,l,1,1,y,1),this.dgemv("n",e,t,1,i,e,x,1,1,y,1),this.dcopy(e,y,1,A,1),0!=(T=this.stepy(t,e,i,r,y,w,T)))return T;this.dgemv("t",e,t,1,i,e,y,1,-1,f,1);var k=S,L=S;for(D=0;D<t;D++)m[D]=r[D]*f[D],f[D]=-m[D],x[D]=-p[D]*(m[D]/l[D]+1),b[D]=-u[D]*(f[D]/c[D]+1),m[D]<0&&(k=Math.min(k,-l[D]/m[D])),f[D]<0&&(k=Math.min(k,-c[D]/f[D])),x[D]<0&&(L=Math.min(L,-p[D]/x[D])),b[D]<0&&(L=Math.min(L,-u[D]/b[D]));if(k=Math.min(o*k,1),L=Math.min(o*L,1),Math.min(k,L)<1){C[1]++,mu=this.ddot(t,l,1,p,1)+this.ddot(t,c,1,u,1),g=mu+k*this.ddot(t,m,1,p,1)+L*this.ddot(t,x,1,l,1)+k*L*this.ddot(t,x,1,m,1)+k*this.ddot(t,f,1,u,1)+L*this.ddot(t,b,1,c,1)+k*L*this.ddot(t,f,1,b,1),mu=mu*Math.pow(g/mu,3)/(2*t);for(D=0;D<t;D++)v[D]=r[D]*(mu*(1/c[D]-1/l[D])+m[D]*x[D]/l[D]-f[D]*b[D]/c[D]);this.dswap(e,A,1,y,1),this.dgemv("n",e,t,1,i,e,v,1,1,y,1),this.dpotrs("u",e,1,w,e,y,e,T),this.dgemv("t",e,t,1,i,e,y,1,0,n,1),k=S,L=S;for(D=0;D<t;D++)dxdz=m[D]*x[D],dsdw=f[D]*b[D],m[D]=r[D]*(n[D]-p[D]+u[D])-v[D],f[D]=-m[D],x[D]=-p[D]+(mu-p[D]*m[D]-dxdz)/l[D],b[D]=-u[D]+(mu-u[D]*f[D]-dsdw)/c[D],m[D]<0&&(k=Math.min(k,-l[D]/m[D])),f[D]<0&&(k=Math.min(k,-c[D]/f[D])),x[D]<0&&(L=Math.min(L,-p[D]/x[D])),b[D]<0&&(L=Math.min(L,-u[D]/b[D]));k=Math.min(o*k,1),L=Math.min(o*L,1)}this.daxpy(t,k,m,1,l,1),this.daxpy(t,k,f,1,c,1),this.daxpy(e,L,y,1,d,1),this.daxpy(t,L,x,1,p,1),this.daxpy(t,L,b,1,u,1),M=this.ddot(t,p,1,l,1)+this.ddot(t,u,1,c,1)}return this.daxpy(t,-1,u,1,p,1),this.dswap(t,p,1,l,1),T},this.stepy=function(t,e,i,a,s,r,n){for(var o=0;o<e;o++){r[o]=[];for(var h=0;h<e;h++)r[o][h]=0}for(var l=0;l<t;l++)this.dsyr("u",e,a[l],i[l],1,r,e);return n=this.dposv("u",e,1,r,e,s,e,n)},this.qfnb=function(t,e,i,a,s,r,n,o,h,l,c,d,p,g){for(var u=[],m=0;m<i;m++){if(this.dgemv("n",e,t,1-r[m],a,e,o,1,0,n,1),this.dscal(t,0,l,1),this.daxpy(t,1-r[m],h,1,l,1),0!=(g=this.rqfnb(t,e,a,s,n,o,h,.99995,1e-6,l,c,p,g)))return g;for(var f=0;f<t;f++)h[f]=1,o[f]=1;this.dcopy(e,c,1,d,1),u.push({tau:r[m],intercept:c[0],slope:c[1]})}return u},this.setRqfnb=function(t,e,i){for(var a=[],s=[],r=0;r<t.length;r++)a.push([1,t[r]]),s.push(e[r]);var n=a.length,o=i.length,h=this.rep(1,n),l=this.rep(1,n),c=[];for(r=0;r<9;r++)for(var d=0;d<n;d++)c.push(0);var p=[];for(r=0;r<5;r++)for(d=0;d<2;d++)p.push(0);var g=[];for(r=0;r<o;r++)for(d=0;d<2;d++)g.push(0);return this.qfnb(n,2,o,a,s,i,this.rep(0,2),h,l,c,p,g,this.rep(0,3),0)}},CanvasXpress.prototype.initLAPACK=function(){this.getFortranArrayColumn=function(t,e,i){for(var a=[],s=e*i,r=s+e,n=s;n<r;n++)a.push(t[n]);return a},this.putFortranArrayColumn=function(t,e,i,a){for(var s=e*i,r=s+e,n=(i=0,s);n<r;n++)t[n]=a[i],i++;return t},this.getFortramMatrix=function(t,e,i){for(var a=[],s=0,r=0;r<e;r++){a[r]=[];for(var n=0;n<i;n++)a[r][n]=t[s++]}return a},this.putFortramMatrix=function(t,e,i,a){for(var s=0,r=0;r<e;r++){a[r]=[];for(var n=0;n<i;n++)t[s]=a[r][n],s++}return t},this.dnrm2=function(t,e,i){if(t<1||i<1)return 0;if(1==t)return Math.abs(e[0]);for(var a=0,s=1,r=0;r<1+(t-1)*i;r+=i){var n=r;if(0!==e[n]){var o=Math.abs(e[n]);a<o?(s=1+s*Math.pow(a/o,2),a=o):s+=Math.pow(o/a,2)}}return a*Math.sqrt(s)},this.dtrmm=function(t,e,i,a,s,r,n,o,h,l,c){var d="l"===t,p=d?s:r,g="n"===a,u="u"===e,m=0;if(t.match(/l|r/)?e.match(/u|l/)?i.match(/n|t|c/)?a.match(/u|n/)?s<0?m=5:r<0?m=6:h<Math.max(1,p)?m=9:c<Math.max(1,s)&&(m=11):m=4:m=3:m=2:m=1,0!=m)throw new Error("dtrmm: "+m);if(0==s||0==r)return m;if(0==n){for(var f=0;f<r;f++)for(var y=0;y<s;y++)l[f][y]=0;return m}if(d)if("n"==i){if(u){for(f=0;f<r;f++)for(var x=0;x<s;x++)if(0!=l[f][x]){var b=n*l[f][x];for(y=0;y<x;y++)l[f][y]+=b*o[x][y];g&&(b*=o[x][x]),l[f][x]=b}}else for(f=0;f<r;f++)for(x=s-1;x>=0;x--)if(0!=l[f][x]){b=n*l[f][x];l[f][x]=b,g&&(l[f][x]*=o[x][x]);for(y=x+1;y<s;y++)l[f][y]+=b*o[x][y]}}else if(u)for(f=0;f<r;f++)for(y=s-1;y>=0;y--){b=l[f][y];g&&(b*=o[y][y]);for(x=0;x<y;x++)b+=o[y][x]*l[f][x];l[f][y]=n*b}else for(f=0;f<r;f++)for(y=0;y<s;y++){b=l[f][y];g&&(b*=o[y][y]);for(x=y+1;x<s;x++)b+=o[y][x]*l[f][x];l[f][y]=n*b}else if("n"==i)if(u)for(f=r-1;f>=0;f--){b=n;g&&(b*=o[f][f]);for(y=0;y<s;y++)l[f][y]*=b;for(x=0;x<f;x++)if(0!=o[f][x]){b=n*o[f][x];for(y=0;y<s;y++)l[f][y]+=b*l[x][y]}}else for(f=0;f<r;f++){b=n;g&&(b*=o[f][f]);for(y=0;y<s;y++)l[f][y]*=b;for(x=f+1;x<r;x++)if(0!=o[f][x]){b=n*o[f][x];for(y=0;y<s;y++)l[f][y]+=b*l[x][y]}}else if(u)for(x=0;x<r;x++){for(f=0;f<x;f++)if(0!==o[x][f]){var v=n*o[x][f];for(y=0;y<s;y++)l[f][y]+=v*l[x][y]}b=n;if(g&&(b*=o[x][x]),1!=b)for(y=0;y<s;y++)l[x][y]*=b}else for(x=r-1;x>=0;x--){for(f=x+1;f<r;f++)if(0!=o[x][f]){var A=n*o[x][f];for(y=0;y<s;y++)l[f][y]+=A*l[x][y]}b=n;if(g&&(b*=o[x][x]),1!=b)for(y=0;y<s;y++)l[x][y]*=b}return m},this.dsyr=function(t,e,i,a,s,r,n){var o=0;if("u"!=t&&"l"!=t?o=1:e<0?o=2:0===s?o=5:n<Math.max(1,e)&&(o=7),0!==o)throw new Error("dsyr: "+o);if(0==e||0==i)return o;var h=s<0?e-1:0,l=h;if("u"==t)for(var c=0;c<e;c++){if(0!==a[l])for(var d=i*a[l],p=h,g=0;g<=c;g++)r[c][g]+=a[p]*d,p+=s;l+=s}else for(c=0;c<e;c++){if(0!==a[l])for(d=i*a[l],p=l,g=c;g<e;g++)r[c][g]+=a[p]*d,p+=s;l+=s}return o},this.dsyrk=function(t,e,i,a,s,r,n,o,h,l){var c="u"==t,d="n"===e?i:a,p=0;if("u"!=t&&"l"!=t?p=1:"n"!=e&&"t"!=e&&"c"!=e?p=2:i<0?p=3:a<0?p=4:n<Math.max(1,d)?p=7:l<Math.max(1,i)&&(p=10),p)throw new Error("dsyrk: "+p);if(0==i||(0==s||0==a)&&1==o)return p;if(0==s){if(c)for(var g=0;g<i;g++)for(var u=0;u<=g;u++)h[g][u]=0==o?0:h[g][u]*o;else for(g=0;g<i;g++)for(u=g;u<i;u++)h[g][u]=0==o?0:h[g][u]*o;return p}if("n"==e)if(c)for(g=0;g<i;g++){for(u=0;u<=g;u++)h[g][u]=0==o?0:h[g][u]*o;for(var m=0;m<a;m++)if(0!=r[m][g]){var f=s*r[m][g];for(u=0;u<=g;u++)h[g][u]+=f*r[m][u]}}else for(g=0;g<i;g++){for(u=g;u<i;u++)h[g][u]=0==o?0:h[g][u]*o;for(m=0;m<a;m++)if(0!=r[m][g])for(f=s*r[m][g],u=g;u<i;u++)h[g][u]+=f*r[m][u]}else if(c)for(g=0;g<i;g++)for(u=0;u<=g;u++){for(f=0,m=0;m<a;m++)f+=r[u][m]*r[g][m];h[g][u]=0==o?s*f:s*f+o*h[g][u]}else for(g=0;g<i;g++)for(u=g;u<i;u++){for(f=0,m=0;m<a;m++)f+=r[u][m]*r[g][m];h[g][u]=0==o?s*f:s*f+o*h[g][u]}return p},this.dgemv=function(t,e,i,a,s,r,n,o,h,l,c){var d=0;if(t.match(/n|t|c/)?e<0?d=2:i<0?d=3:r<Math.max(1,e)?d=6:0==o?d=8:0==c&&(d=11):d=1,0!=d)throw new Error("dgemv: "+d);if(0==e||0==i||0==a&&1==h)return d;var p="n"==t?e:i,g=o>0?0:("n"==t?i:e)-1,u=c>0?0:p-1;if(1!=h)if(1==c)if(0==h)for(var m=0;m<p;m++)l[m]=0;else for(m=0;m<p;m++)l[m]*=h;else{var f=u;if(0==h)for(m=0;m<p;m++)l[f]=0,f+=c;else for(m=0;m<p;m++)l[f]*=h,f+=c}if(0==a)return d;if("n"==t){var y=g;if(1==c)for(var x=0;x<i;x++){var b=a*n[y];for(m=0;m<e;m++)l[m]+=b*s[x][m];y+=o}else for(x=0;x<i;x++){for(b=a*n[y],f=u,m=0;m<e;m++)l[f]+=b*s[x][m],f+=c;y+=o}}else{var v=u;if(1==o)for(x=0;x<i;x++){for(b=0,m=0;m<e;m++)b+=s[x][m]*n[m];l[v]+=a*b,v+=c}else for(x=0;x<i;x++){b=0;var A=g;for(m=0;m<e;m++)b+=s[x][m]*n[A],A+=o;l[v]+=a*b,v+=c}}return d},this.dgemm=function(t,e,i,a,s,r,n,o,h,l,c,d,p){var g="n"==t,u="n"==e,m=g?i:s,f=u?s:a,y=0;if(t.match(/n|t|c/)?e.match(/n|t|c/)?i<0?y=3:a<0?y=4:s<0?y=5:o<Math.max(1,m)?y=8:l<Math.max(1,f)?y=10:p<Math.max(1,i)&&(y=13):y=2:y=1,0!=y)throw new Error("dgemm: "+y);if(0==i||0==a||(0==r||0==s)&&1==c)return y;if(0==r){if(0==c)for(var x=0;x<a;x++)for(var b=0;b<i;b++)d[x][b]=0;else for(x=0;x<a;x++)for(b=0;b<i;b++)d[x][b]*=c;return y}if(u)if(g)for(x=0;x<a;x++){for(b=0;b<i;b++)d[x][b]=0==c?0:1!=c?d[x][b]*c:d[x][b];for(var v=0;v<s;v++){var A=r*h[x][v];for(b=0;b<i;b++)d[x][b]+=A*n[v][b]}}else for(x=0;x<a;x++)for(b=0;b<i;b++){for(A=0,v=0;v<s;v++)A+=n[b][v]*h[x][v];d[x][b]=0==c?r*A:r*A+c*d[x][b]}else if(g)for(x=0;x<a;x++){for(b=0;b<i;b++)d[x][b]=0==c?0:1!=c?d[x][b]*c:d[x][b];for(v=0;v<s;v++)for(A=r*h[v][x],b=0;b<i;b++)d[x][b]+=A*n[v][b]}else for(x=0;x<a;x++)for(b=0;b<i;b++){for(A=0,v=0;v<s;v++)A+=n[b][v]*h[v][x];d[x][b]=0==c?r*A:r*A+c*d[x][b]}return y},this.dcopy=function(t,e,i,a,s){if(!(t<=0))if(1==i&&1==s)for(var r=0;r<t;r++)a[r]=e[r];else{var n=i<0?t-1:0,o=s<0?t-1:0;for(r=0;r<t;r++)a[o]=e[n],n+=i,o+=s}},this.dswap=function(t,e,i,a,s){var r=0;if(!(t<=0))if(1==i&&1==s)for(var n=0;n<t;n++)r=e[n],e[n]=a[n],a[n]=r;else{var o=0,h=0;i<0&&(o=t-1),s<0&&(h=t-1);for(n=0;n<t;n++)r=e[o],e[o]=a[h],a[h]=r,o+=i,h+=s}},this.dscal=function(t,e,i,a){if(!(t<0||a<0))if(1==a)for(r=0;r<t;r++)i[r]*=e;else for(var s=t*a,r=0;r<s;r+=a)i[r]*=e},this.dlapy2=function(t,e){if(!isNaN(t)&&!isNaN(e)){var i=Math.abs(t),a=Math.abs(e),s=Math.max(i,a),r=Math.min(i,a);return 0==r?s:s*Math.sqrt(1+Math.pow(r/s,2))}},this.daxpy=function(t,e,i,a,s,r){if(!(t<=0)&&0!=e)if(1==a&&1==r)for(var n=0;n<t;n++)s[n]+=e*i[n];else{var o=0,h=0;a<0&&(o=t-1),r<0&&(h=t-1);for(n=0;n<t;n++)s[h]+=e*i[o],o+=a,h+=r}},this.ddot=function(t,e,i,a,s){var r=0;if(t<=0)return 0;if(1==i&&1==s)for(var n=0;n<t;n++)r+=e[n]*a[n];else{var o=0,h=0;i<0&&(o=t-1),s<0&&(h=t-1);for(n=0;n<t;n++)r+=e[o]*a[h],o+=i,h+=s}return r},this.dtrsm=function(t,e,i,a,s,r,n,o,h,l,c){var d="l"===t,p=d?s:r,g="n"==a,u="u"==e,m=0;if(t.match(/l|r/)?e.match(/u|l/)?i.match(/n|t|c/)?a.match(/u|n/)?s<0?m=5:r<0?m=6:h<Math.max(1,p)?m=9:c<Math.max(1,s)&&(m=11):m=4:m=3:m=2:m=1,0!==m)throw new Error("dtrsm: "+m);if(0==s||0==r)return m;if(0==n){for(var f=0;f<r;f++)for(var y=0;y<s;y++)l[f][y]=0;return m}if(d)if("n"==i)if(u)for(f=0;f<r;f++){if(1!=n)for(y=0;y<s;y++)l[f][y]*=n;for(var x=s-1;x>=0;x--)if(0!=l[f][x]){g&&(l[f][x]/=o[x][x]);for(y=0;y<x;y++)l[f][y]-=l[f][x]*o[x][y]}}else for(f=0;f<r;f++){if(1!=n)for(y=0;y<s;y++)l[f][y]*=n;for(x=0;x<s;x++)if(0!=l[f][x]){g&&(l[f][x]/=o[x][x]);for(y=x+1;y<s;y++)l[f][y]-=l[f][x]*o[x][y]}}else if(u)for(f=0;f<r;f++)for(y=0;y<s;y++){var b=n*l[f][y];for(x=0;x<y;x++)b-=o[y][x]*l[f][x];g&&(b/=o[y][y]),l[f][y]=b}else for(f=0;f<r;f++)for(y=s-1;y>=0;y--){for(b=n*l[f][y],x=y+1;x<s;x++)b-=o[y][x]*l[f][x];g&&(b/=o[y][y]),l[f][y]=b}else if("n"==i)if(u)for(f=0;f<r;f++){if(1!=n)for(y=0;y<s;y++)l[f][y]*=n;for(x=0;x<f;x++)if(0!=o[f][x])for(y=0;y<s;y++)l[f][y]-=o[f][x]*l[x][y];if(g)for(b=1/o[f][f],y=0;y<s;y++)l[f][y]*=b}else for(f=r-1;f>=0;f--){if(1!=n)for(y=0;y<s;y++)l[f][y]*=n;for(x=f+1;x<r;x++)if(0!==o[f][x])for(y=0;y<s;y++)l[f][y]-=o[f][x]*l[x][y];if(g)for(b=1/o[f][f],y=0;y<s;y++)l[f][y]*=b}else if(u)for(x=r-1;x>=0;x--){if(g)for(b=1/o[x][x],y=0;y<s;y++)l[x][y]*=b;for(f=0;f<x;f++)if(0!=o[x][f])for(b=o[x][f],y=0;y<s;y++)l[f][y]-=b*l[x][y];if(1!=n)for(y=0;y<s;y++)l[x][y]*=n}else for(x=0;x<r;x++){if(g)for(b=1/o[x][x],y=0;y<s;y++)l[x][y]*=b;for(f=x+1;f<r;f++)if(0!=o[x][f])for(b=o[x][f],y=0;y<s;y++)l[f][y]-=b*l[x][y];if(1!=n)for(y=0;y<s;y++)l[x][y]*=n}return m},this.dposv=function(t,e,i,a,s,r,n,o){o=0;if(t.match(/u|l/)?e<0?o=-2:i<0?o=-3:s<Math.max(1,e)?o=-5:n<Math.max(1,e)&&(o=-7):o=-1,0!=o)throw new Error("dposv: "+-o);return 0==(o=this.dpotrf(t,e,a,s,o))&&(o=this.dpotrs(t,e,i,a,s,r,n,o)),o},this.dpotrs=function(t,e,i,a,s,r,n){var o=0,h="u"==t;if(h||t.match(/l/)?e<0?o=-2:i<0?o=-3:s<Math.max(1,e)?o=-5:n<Math.max(1,e)&&(o=-7):o=-1,0!=o)throw new Error("dpotrs: "+-o);return 0==e||0==i||(h?(this.dtrsm("l","u","t","n",e,i,1,a,s,[r],n),this.dtrsm("l","u","n","n",e,i,1,a,s,[r],n)):(this.dtrsm("l","l","n","n",e,i,1,a,s,[r],n),this.dtrsm("l","t","n","n",e,i,1,a,s,[r],n))),o},this.dpotrf=function(t,e,i,a,s){s=0;if("u"==t||t.match(/l/)?e<0?s=-2:a<Math.max(1,e)&&(s=-4):s=-11,0!=s)throw new Error("dpotrf: "+-s);return 0==e?s:this.dpotrf2(t,e,i,a,s)},this.dpotrf2=function(t,e,i,a,s){s=0;if("u"==t||t.match(/l/)?e<0?s=-2:a<Math.max(1,e)&&(s=-4):s=-11,0!=s)throw new Error("dpotrf2: "+-s);return 0==e?s:this.chol("u",e,i,s)},this.chol=function(t,e,i,a){for(var s=[],r=0;r<e;r++){s[r]=[];for(var n=0;n<e;n++)s[r][n]=0}for(r=0;r<e;r++)for(var o=0;o<r+1;o++){var h=0;for(n=0;n<o;n++)h+=s[r][n]*s[o][n];s[r][o]=r==o?Math.sqrt(i[r][r]-h):1/s[o][o]*(i[r][o]-h)}if("u"==t)for(r=0;r<e;r++)for(n=0;n<e;n++)i[r][n]=s[r][n];else for(r=0;r<e;r++)for(n=0;n<e;n++)i[r][n]=s[n][r];return a}},CanvasXpress.prototype.initLayout=function(){this.isLayoutComb=function(){return!!(this.scatterPlotMatrix||this.isDOE||"Pie"==this.graphType&&!this.isDOE&&this.xAxis.length>1||"Circular"!=this.graphType&&(this.segregateVariablesBy.length||this.segregateSamplesBy.length))},this.isValidLayout=function(){var t=this.layoutTopology?this.layoutTopology.split(/X/i):this.layout.split(/X/i);if(this.layoutTopology||this.layout?(this.layoutRows=t[0],this.layoutCols=t[1]):(this.layoutRows=1,this.layoutCols=1,this.layoutValid=!1),!this.scatterPlotMatrix&&this.layoutComb&&this.data.l&&(this.data.l.vars||this.data.l.smps)&&this.data.l.weight&&this.data.l.type){if(this.data.l.comp=[],this.data.l.vars&&this.data.l.smps){for(var e={},i=0;i<this.data.y.vars.length;i++)e[this.data.y.vars[i]]||(e[this.data.y.vars[i]]=[]),e[this.data.y.vars[i]].push(i);var a={};for(i=0;i<this.data.y.smps.length;i++)a[this.data.y.smps[i]]||(a[this.data.y.smps[i]]=[]),a[this.data.y.smps[i]].push(i);var s=0,r=this.layoutTypeVariablesFirst;if("wrap"==this.layoutType||"cols"==this.layoutType&&r||"rows"==this.layoutType&&!r)for(i=0;i<this.data.l.smps.length;i++){for(var n=[],o=this.data.l.smps[i].length,h=0;h<o;h++)for(var l=0;l<a[this.data.l.smps[i][h]].length;l++)n.push(a[this.data.l.smps[i][h]][l]);for(h=0;h<this.data.l.vars.length;h++){var c=[];for(o=this.data.l.vars[h].length,l=0;l<o;l++)for(var d=0;d<e[this.data.l.vars[h][l]].length;d++)c.push(e[this.data.l.vars[h][l]][d]);this.data.l.comp[s]=[c,n],s++}}else for(i=0;i<this.data.l.vars.length;i++){for(c=[],o=this.data.l.vars[i].length,h=0;h<o;h++)for(l=0;l<e[this.data.l.vars[i][h]].length;l++)c.push(e[this.data.l.vars[i][h]][l]);for(h=0;h<this.data.l.smps.length;h++){for(n=[],o=this.data.l.smps[h].length,l=0;l<o;l++)for(d=0;d<a[this.data.l.smps[h][l]].length;d++)n.push(a[this.data.l.smps[h][l]][d]);this.data.l.comp[s]=[c,n],s++}}}else if(this.data.l.vars)if(this.isUnique(this.data.y.smps)){var p={},g=this.isHistogram?"smps":"vars";for(i=0;i<this.data.y[g].length;i++)p[this.data.y[g][i]]||(p[this.data.y[g][i]]=[]),p[this.data.y[g][i]].push(i);for(i=0;i<this.data.l.vars.length;i++){this.data.l.comp[i]=[];for(o=this.data.l.vars[i].length,h=0;h<o;h++)if(!this.isDOE&&this.data.l.vars[i][h])for(l=0;l<p[this.data.l.vars[i][h]].length;l++)this.data.l.comp[i].push(p[this.data.l.vars[i][h]][l])}}else for(i=0;i<this.data.l.ids.length;i++){this.data.l.comp[i]=[];for(o=this.data.l.ids[i].length,p={},h=0;h<this.data.l.ids[i].length;h++)p[this.data.y.vars[this.data.l.ids[i][h]]]||(p[this.data.y.vars[this.data.l.ids[i][h]]]=[]),p[this.data.y.vars[this.data.l.ids[i][h]]].push(this.data.l.ids[i][h]);for(h=0;h<o;h++)if(!this.isDOE)for(l=0;l<p[this.data.y.vars[this.data.l.ids[i][h]]].length;l++)this.data.l.comp[i].push(p[this.data.y.vars[this.data.l.ids[i][h]]][l])}else if(this.isUnique(this.data.y.smps)){for(p={},i=0;i<this.data.y.smps.length;i++)p[this.data.y.smps[i]]||(p[this.data.y.smps[i]]=[]),p[this.data.y.smps[i]].push(i);for(i=0;i<this.data.l.smps.length;i++){this.data.l.comp[i]=[];for(o=this.data.l.smps[i].length,h=0;h<o;h++)if(!this.isDOE)for(l=0;l<p[this.data.l.smps[i][h]].length;l++)this.data.l.comp[i].push(p[this.data.l.smps[i][h]][l])}}else for(i=0;i<this.data.l.ids.length;i++){this.data.l.comp[i]=[];for(o=this.data.l.ids[i].length,p={},h=0;h<this.data.l.ids[i].length;h++)p[this.data.y.smps[this.data.l.ids[i][h]]]||(p[this.data.y.smps[this.data.l.ids[i][h]]]=[]),p[this.data.y.smps[this.data.l.ids[i][h]]].push(this.data.l.ids[i][h]);for(h=0;h<o;h++)if(!this.isDOE)for(l=0;l<p[this.data.y.smps[this.data.l.ids[i][h]]].length;l++)this.data.l.comp[i].push(p[this.data.y.smps[this.data.l.ids[i][h]]][l])}this.layoutValid=!0}else if(this.layoutComb&&this.data.l&&this.data.l.smps&&this.data.l.weight&&this.data.l.type){this.data.l.comp=[];var u=[];for(i=0;i<this.data.y.vars.length;i++)u.push(i);for(i=0;i<this.data.l.type.length;i++)this.data.l.comp[i]=u;this.layoutValid=!0}else this.data.l&&this.data.l.comp&&this.data.l.comp.length<=this.layoutRows*this.layoutCols?this.layoutValid=!0:this.layoutValid=!1;this.layoutValid&&(this.meta.config.orig.adjustAspectRatio=this.adjustAspectRatio,this.adjustAspectRatio=!0,this.layoutComb=!0)},this.validateLayoutTopology=function(){var t=this.layoutTopology?this.layoutTopology.split(/X/i):this.layout.split(/X/i);if(this.layoutTopology){if(this.layoutRows==t[0]&&this.layoutCols==t[1])return}else if(this.layout&&this.layoutRows==t[0]&&this.layoutCols==t[1])return;this.isValidLayout();for(var e=1/this.layoutCols,i=1/this.layoutRows,a=0;a<this.data.l.comp.length;a++)this.data.l.weight[a]=[e,i]},this.setLayoutFonts=function(){this.setLegends(),this.graphType.match(/Scatter/)?this.set2DFont():"Pie"==this.graphType?this.setPieFont():this.set1DFont()},this.getLayoutAxisTitleHeight=function(t){return"Treemap"==this.graphType||"TagCloud"==this.graphType||"Pie"==this.graphType||"Heatmap"==this.graphType?0:this.graphType.match(/Scatter/)?t?this.yAxisTitle?this.axisTitleFontSize+2*this.margin:0:this.xAxisTitle?this.axisTitleFontSize+2*this.margin:0:(this.graphOrientation,""!=(t?this.getAxisDescription(!0):this.getAxisDescription())?this.axisTitleFontSize+2*this.margin:0)},this.setLayoutSameSamples=function(){var t=[];if(this.data.l.group&&this.data.l.smps){for(var e=0;e<this.data.l.smps.length;e++){for(var i={},a=0;a<this.data.l.ids[e].length;a++){for(var s=this.data.l.ids[e][a],r=[],n=0;n<this.data.l.group.length;n++){var o=this.data.l.group[n],h=this.getMetadataValue(s,"x",o,!0);null==h&&(h="NA"),r.push(h)}i[(r=r.sort()).join("")]=!0}t.push(Object.keys(i).sort())}for(a=1;a<t.length;a++)if(!this.isSameObject(t[a-1],t[a]))return void(this.layoutSameSamples=!1);this.layoutSameSamples=!0}else this.layoutSameSamples=!1},this.setLayoutLeft=function(){var t=0;return this.isDOE||"Meter"==this.graphType?t=0:(this.graphType.match(/Scatter/)?(this.showLegend&&(t+="left"==this.legendPosition?this.legendWidth:this.margin),!this.layoutAdjust||"axis"==this.layoutAdjust||this.scatterPlotMatrixType.match(/correlation|all/)?t+=this.get2DYAxisWidth():t+=this.getLayoutAxisTitleHeight()):"Pie"==this.graphType?t=2*this.margin+this.measureText("XX",this.smpLabelFont):"Heatmap"==this.graphType?t=0:(this.layoutAdjust?"vertical"!=this.graphOrientation&&(this.segregateVariablesBy.length?t=this.getSampleLabelLength():this.segregateSamplesBy.length&&!this.layout.match(/X1/)&&(this.setLayoutSameSamples(),this.layoutSameSamples&&(t=this.getSampleLabelLength()))):this.segregateVariablesBy.length>0?t="vertical"!=this.graphOrientation?this.getSampleLabelLength():this.getAxisTitleTickLength():this.segregateSamplesBy.length>0&&"vertical"==this.graphOrientation&&(t=this.getAxisTitleTickLength()),"vertical"==this.graphOrientation?t+=this.getLayoutAxisTitleHeight():t+=this.smpTitle?this.smpTitleFontSize+2*this.margin:0),this.showLegend&&(t+="left"==this.legendPosition?this.legendWidth:this.margin)),t},this.setLayoutRight=function(){var t=0,e="rows"==this.layoutType||"cols"==this.layoutType&&this.segregateVariablesBy.length+this.segregateSamplesBy.length>1;if(this.isDOE||"Meter"==this.graphType)t=0;else{if(this.graphType.match(/Scatter/))this.scatterPlotMatrix&&this.showScatterPlotMatrixLabels&&"first"!=this.scatterPlotMatrixType?t+=this.layoutLabelBoxThickness:"rows"==this.layoutType&&this.segregateVariablesBy.length+this.segregateSamplesBy.length>0||"cols"==this.layoutType&&this.segregateVariablesBy.length+this.segregateSamplesBy.length>1?(t+=this.get2DYAxisWidth(!0),t+=this.layoutLabelBoxThickness):"wrap"==this.layoutType?t+=this.get2DYAxisWidth(!0):this.layoutAdjust||(t+=this.get2DYAxisWidth(!0));else if("Heatmap"==this.graphType){if(!("rows"==this.layoutType||"cols"==this.layoutType&&this.segregateVariablesBy.length+this.segregateSamplesBy.length>1))return 0;t+=this.layoutLabelBoxThickness}else this.layoutAdjust?t=0:"vertical"!=this.graphOrientation||e||(t=this.getAxisTitleTickLength(!0)),"vertical"!=this.graphOrientation||e||(t+=this.getLayoutAxisTitleHeight(!0)),e&&(t+=this.layoutLabelBoxThickness);this.showLegend&&(t+="right"==this.legendPosition&&this.legendWidth?this.legendWidth+2*this.margin:this.margin)}return t},this.setLayoutTop=function(){if(this.isDOE)return 0;var t=this.getTitleSubtitleHeight(),e="cols"==this.layoutType||"rows"==this.layoutType&&this.segregateVariablesBy.length+this.segregateSamplesBy.length>1;return"Pie"==this.graphType?t+=this.layoutLabelBoxThickness:this.graphType.match(/Scatter/)?(this.showLegend&&"top"==this.legendPosition&&(t+=this.legendHeight),this.scatterPlotMatrix&&this.showScatterPlotMatrixLabels&&"first"!=this.scatterPlotMatrixType?t+=this.layoutLabelBoxThickness:"rows"==this.layoutType&&this.segregateVariablesBy.length+this.segregateSamplesBy.length>1||"cols"==this.layoutType&&this.segregateVariablesBy.length+this.segregateSamplesBy.length>0?(t+=this.get2DXAxisHeight(!0),t+=this.layoutLabelBoxThickness):"wrap"==this.layoutType?t+=this.get2DXAxisHeight(!0):this.layoutAdjust||(t+=this.get2DXAxisHeight(!0))):("Heatmap"!=this.graphType&&(this.showLegend&&"top"==this.legendPosition&&(t+=this.legendHeight),this.layoutAdjust||"vertical"==this.graphOrientation||e||(t+=this.getAxisTitleTickLength()),"vertical"==this.graphOrientation||e||(t+=this.getLayoutAxisTitleHeight())),e&&(t+=this.layoutLabelBoxThickness)),t},this.setLayoutBottom=function(){var t=0;return this.isDOE||"Meter"==this.graphType?t=0:this.graphType.match(/Scatter/)?(!this.layoutAdjust||"axis"==this.layoutAdjust||this.scatterPlotMatrixType.match(/correlation|all/)?t=this.get2DXAxisHeight():t+=this.getLayoutAxisTitleHeight(),this.showLegend&&"bottom"==this.legendPosition&&(t+=this.legendHeight)):"Pie"==this.graphType?this.showLegend&&this.legendPosition:"Heatmap"==this.graphType?t=this.getHeatmapIndicatorHeight():(this.layoutAdjust||"vertical"!=this.graphOrientation&&(t=this.getAxisTitleTickLength(!0)),"vertical"==this.graphOrientation?(this.segregateVariablesBy.length>0?t=this.getSampleLabelLength():this.segregateSamplesBy.length&&!this.layout.match(/1X/)&&(this.setLayoutSameSamples(),this.layoutSameSamples&&(t=this.getSampleLabelLength())),t+=this.smpTitle?this.smpTitleFontSize+2*this.margin:0):(t+=this.getLayoutAxisTitleHeight("cols"!=this.layoutType),"rows"==this.layoutType&&this.isGroupedData&&(t+=this.axisTitleFontSize)),this.showLegend&&"bottom"==this.legendPosition&&(t+=this.getLegendHeight("bottom"))),t+=this.getCitationHeight()},this.drawLayoutSampleOverlays=function(t){var e=this.smpIndices;this.smpIndices=t,this.smpIndices=e,this.showSampleNames=!0,this.showOverlays=!0,this.draw1DYLayout()},this.setLayoutDimensions=function(){if(this.offsetX=0,this.offsetY=0,this.layoutLeft=this.setLayoutLeft(),this.layoutRight=this.setLayoutRight(),this.layoutTop=this.setLayoutTop(),this.layoutBottom=this.setLayoutBottom(),this.layoutCanvasCompartments){var t=this.width-(this.marginLeft+this.layoutLeft+this.marginRight+this.layoutRight),e=this.height-(this.marginTop+this.layoutTop+this.marginBottom+this.layoutBottom);this.toRender({p:["drawShape","rectangle",this.marginLeft+this.layoutLeft+t/2,this.marginTop+this.layoutTop+e/2,t,e,!1,this.canvasBoxColor,"open"],t:"Size"})}},this.setLayoutLegends=function(){var t=this.isGroupedData;this.isGroupedData=!1,this.setLayoutFonts(),"Pie"==this.graphType||this.isDOE?this.setVariableLegendDimension():this.graphType.match(/Scatter/)||this.isMultidimensionalData||(this.isAttributedGraph()||this.connectBy)&&this.graphType.match(/^Bar$|Boxplot|Dotplot|Treemap|Heatmap/)?(this.validatePropertyValues(!0),this.isHistogram&&this.setSampleLegendDimension()):this.setVariableLegendDimension(),this.isGroupedData=t},this.setLayoutDOETables=function(){this.isDOE&&!this.layoutDOETables&&(this.layoutDOETables={})},this.drawLabelsTitlesLayout=function(){var t=0,e=0,i=this.width-(this.marginLeft+this.layoutLeft+this.layoutRight+this.marginRight),a=this.height-(this.marginTop+this.layoutTop+this.layoutBottom+this.marginBottom);if("Treemap"!=this.graphType)if("Pie"==this.graphType&&(this.showPieGrid||this.showPieSampleLabel)){var s=0;this.setMainFont();for(var r=this.getFontPt(this.font),n=this.marginTop,o=this.marginLeft+this.layoutLeft,h=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],l=0;l<this.layoutRows;l++){m=a*this.layoutParams[s].weight[1],t=this.marginLeft+this.layoutLeft-this.margin,n+=m,this.showPieGrid&&this.toRender({p:["drawText",h[l],t,n-(m/2+0*this.margin),this.font,this.foreground,"right","middle"],t:"LabelsTitle"});for(var c=0;c<this.layoutCols&&!(this.xAxis.length<=s);c++)o+=u=i*this.layoutParams[s].weight[0],e=this.marginTop+this.layoutTop-this.layoutLabelBoxThickness/2,0==l&&this.showPieGrid&&this.toRender({p:["drawText",c+1,o+r/2-u/2,e,this.font,this.foreground,"center","bottom"],t:"LabelsTitle"}),this.showPieSampleLabel&&this.toRender({p:["drawText",this.xAxis[s],o-u/1.1,n-m/5,this.legendFont,this.foreground,"center","middle"],t:"LabelsTitle"}),s++;o=this.marginLeft+this.layoutLeft}}else if(this.graphType.match(/Scatter/)){if(this.yAxisTitle){var d=(this.height-(this.marginTop+this.layoutTop+this.marginBottom+this.layoutBottom))/2+(this.marginTop+this.layoutTop),p=this.marginLeft+this.margin+this.axisTitleFontSize/2+((this.showLegend&&"left"==this.legendPosition?this.legendWidth:0)-this.margin);this.toRender({p:["drawText",this.yAxisTitle,p,d,this.axisTitleFont,this.axisTitleFontColor,"center","middle",-Math.PI/2],t:"LabelsTitle"})}if(this.xAxisTitle){var g=0,u=this.width-(this.marginLeft+this.layoutLeft+this.layoutRight+this.marginRight),m=this.marginBottom+this.margin+this.axisTitleFontSize/2+g+(this.showLegend&&"bottom"==this.legendPosition?this.legendHeight:0)+this.getCitationHeight();this.toRender({p:["drawText",this.xAxisTitle,this.marginLeft+this.layoutLeft+u/2,this.height-m,this.axisTitleFont,this.axisTitleFontColor,"center","middle"],t:"LabelsTitle"})}if(this.zAxisTitle){d=(this.height-(this.marginTop+this.layoutTop+this.marginBottom+this.layoutBottom))/2+(this.marginTop+this.layoutTop),p=this.width-(this.axisTitleFontSize/2+((this.showLegend&&"right"==this.legendPosition?this.legendWidth:0)+2*this.margin));this.toRender({p:["drawText","Size : "+this.zAxisTitle,p,d,this.axisTitleFont,this.axisTitleFontColor,"center","middle",Math.PI/2],t:"LabelsTitle"})}}else{if("Heatmap"==this.graphType&&this.draw1DXLayout(),this.smpTitle&&"Heatmap"!=this.graphType)if("vertical"==this.graphOrientation){g="bottom"==this.legendPosition?this.legendHeight:0,u=this.width-(this.marginLeft+this.layoutLeft+this.layoutRight+this.marginRight),m=this.marginBottom+this.margin+this.smpTitleFontSize/2+g+ +this.getCitationHeight();this.toRender({p:["drawText",this.smpTitle,this.marginLeft+this.layoutLeft+u/2,this.height-m,this.smpTitleFont,this.smpTitleFontColor,"center","middle"],t:"LabelsTitle"})}else this.toRender({p:["drawText",this.smpTitle,this.marginLeft+this.margin+this.smpTitleFontSize/2,this.height/2,this.smpTitleFont,this.smpTitleFontColor,"center","middle",-Math.PI/2],t:"LabelsTitle"});var f=this.getAxisDescription(),y=this.getAxisDescription(!0,"rows"==this.layoutType&&this.isGroupedData);if(""!=f&&"Heatmap"!=this.graphType&&this.xAxisShow&&"rows"!=this.layoutType)if("vertical"==this.graphOrientation){p=this.marginLeft+this.margin+this.axisTitleFontSize/2+(this.showLegend&&"left"==this.legendPosition?this.legendWidth:0),d=(this.height-this.layoutTop)/2+this.layoutTop;this.toRender({p:["drawText",f,p,d,this.axisTitleFont,this.axisTitleFontColor,"center","middle",-Math.PI/2],t:"LabelsTitle"})}else{u=this.width-(this.marginLeft+this.layoutLeft+this.layoutRight+this.marginRight);m="cols"==this.layoutType?this.marginTop+this.layoutTop+this.layoutHeight+this.getTitleSubtitleHeight():this.margin+this.axisTitleFontSize/2+this.getTitleSubtitleHeight()+(this.showLegend&&"top"==this.legendPosition?this.legendHeight:0),this.toRender({p:["drawText",f,this.marginLeft+this.layoutLeft+u/2,this.marginTop+m,this.axisTitleFont,this.axisTitleFontColor,"center","middle"],t:"LabelsTitle"})}if(""!=y&&"Heatmap"!=this.graphType&&this.xAxis2Show||"rows"==this.layoutType&&this.isGroupedData)if("vertical"==this.graphOrientation){g="right"==this.legendPosition?this.legendWidth:0;var x=this.marginRight+this.margin+this.axisTitleFontSize/2+g;this.toRender({p:["drawText",y,this.width-x,this.height/2,this.axisTitleFont,this.axisTitleFontColor,"center","middle",Math.PI/2],t:"LabelsTitle"})}else{g="bottom"==this.legendPosition?this.legendHeight:0,u=this.width-(this.marginLeft+this.layoutLeft+this.layoutRight+this.marginRight),m=this.marginBottom+this.margin+this.axisTitleFontSize/2+g;this.toRender({p:["drawText",y,this.marginLeft+this.layoutLeft+u/2,this.height-m,this.axisTitleFont,this.axisTitleFontColor,"center","middle"],t:"LabelsTitle"})}}},this.drawDOELabelsLayout=function(t){var e=this.foreground,i=this.font,a=this.measureText(t,i),s=this.getFontPt(i)/2,r=this.layoutWidth,n=this.layoutHeight,o=this.marginLeft+this.offsetX,h=this.marginTop+this.offsetY,l=o+r-5,c=h+n-5;this.toRender({p:["drawText",t,o+20,h,i,e,"left","top"],t:"Labels"}),this.toRender({p:["drawLine","line",o+s,h+s,o+15,h+s,e],t:"Labels"}),this.toRender({p:["drawLine","line",o+a+25,h+s,l,h+s,e],t:"Labels"}),this.toRender({p:["drawLine","line",l,h+s,l,c,e],t:"Labels"}),this.toRender({p:["drawLine","line",o+s,c,l,c,e],t:"Labels"}),this.toRender({p:["drawLine","line",o+s,h+s,o+s,c,e],t:"Labels"})},this.setLayoutWeights=function(){var t=this.data.l.weight,e=this.layoutParams,i=this.data.l.comp;if(t)if(this.isDOE||this.scatterPlotMatrix||this.data.l.vars&&this.data.l.smps)for(var a=0;a<t.length;a++)e[a].weight=t[a];else if("Pie"==this.graphType)for(a=0;a<i.length;a++)e[a].weight=t[a];else for(a=0;a<t.length;a++)e[a].weight=t[a];else if(i){t=[];for(a=0;a<i.length;a++)t[a]=i.length,e[a].weight=t[a]}else alert("Wuz going on dude? This aint't gonna work!")},this.setLayoutGraphTypes=function(){var t=this.data.l.type;if(t)for(var e=0;e<t.length;e++)this.layoutParams[e].graphType=t&&t[e]?t[e]:this.graphType},this.setLayoutIndices=function(t){for(var e,i=this.xAxis.length&&this.xAxis2.length?this.getVariableIndices(this.xAxis).concat(this.getVariableIndices(this.xAxis2)):this.varIndices,a=this.getObjectArray(i),s=this.getObjectArray(this.smpIndices),r=0;r<this.data.l.comp.length;r++){if(this.data.l.vars&&this.data.l.smps){e=[];a=this.getObjectArray(this.data.l.comp[r][0]);for(var n=0;n<i.length;n++)a.hasOwnProperty(i[n])&&e.push(i[n]);this.layoutParams[r].varIndices=e,e=[];for(s=this.getObjectArray(this.data.l.comp[r][1]),n=0;n<this.smpIndices.length;n++)s.hasOwnProperty(this.smpIndices[n])&&e.push(this.smpIndices[n]);this.layoutParams[r].smpIndices=e,this.setOriginalIndices(r,this.layoutParams[r].varIndices,this.layoutParams[r].smpIndices)}else if(this.data.l.comp[r])if(e=[],this.data.l.vars){for(a=this.getObjectArray(this.data.l.comp[r]),n=0;n<i.length;n++)a.hasOwnProperty(i[n])&&e.push(i[n]);this.layoutParams[r].varIndices=this.isHistogram?i:e,this.layoutParams[r].smpIndices=this.smpIndices,this.setOriginalIndices(r,this.layoutParams[r].varIndices,this.smpIndices)}else{for(s=this.getObjectArray(this.data.l.comp[r]),n=0;n<this.smpIndices.length;n++)s.hasOwnProperty(this.smpIndices[n])&&e.push(this.smpIndices[n]);this.layoutParams[r].varIndices=i,this.layoutParams[r].smpIndices&&this.layoutParams[r].smpIndices.length==e.length||(this.layoutParams[r].smpIndices=e),this.setOriginalIndices(r,i,this.layoutParams[r].smpIndices)}else this.data.l.vars?(this.layoutParams[r].varIndices=[],this.layoutParams[r].smpIndices=this.smpIndices):(this.layoutParams[r].varIndices=i,this.layoutParams[r].smpIndices=[]);this.layoutParams[r].varIndicesStart=-1,this.layoutParams[r].smpIndicesStart=-1,this.layoutParams[r].grpIndicesStart=-1}for(r=0;r<this.data.l.type.length;r++)for(n=0;n<t.length;n++)this.layoutParams[r].hasOwnProperty(t[n])||(this.layoutParams[r][t[n]]=this[t[n]])},this.resetLayout=function(){delete this.data.l,delete this.layoutParams,this.offsetX=0,this.offsetY=0,this.layoutValidN=!1,this.layoutValidR=!1,this.layoutValidC=!1,this.layoutValidBounds=!1,this.layoutCurrent=!1,this.layoutComb=!1,this.layoutRestore=!1,this.layout="1X1"},this.setDOE=function(){this.oneDPlot(!0),this.Scatter2D(!0),this.Scatter3D(!0),this.Pie(!0)},this.resetLayoutRestore=function(){this.layoutRestore=!1},this.setLayoutRestore=function(){if(!this.layoutRestore){this.layoutRestore={};var t=["title","subtitle","varIndices","smpIndices","grpIndices","varIndicesStart","smpIndicesStart","grpIndicesStart","smpTitle","showVariableNames","showSampleNames","showOverlays","showLegend","legendInside","showDecorationsLegend","xAxisShow","xAxis2Show","xAxisS2Show","yAxisShow","yAxisS2Show","xAxisTitle","xAxis2Title","yAxisTitle","zAxisTitle","legendLayout"];t.push("legendDecorationWidth"),t.push("legendDecorationHeight");for(var e=["Color","Shape","Size","Pattern","Connect","Sample"],i=0;i<e.length;i++)t.push("legend"+e[i]+"s"),t.push("legend"+e[i]+"sMax"),t.push("legend"+e[i]+"sN"),t.push("legend"+e[i]+"sS"),t.push("legend"+e[i]+"Width"),t.push("legend"+e[i]+"Height");for(i=0;i<t.length;i++)this.layoutRestore[t[i]]=this[t[i]];this.isGroupedData&&this.data.w&&(this.layoutRestore.isGroupedData=this.isGroupedData)}},this.setLayoutParams=function(){!this.layoutParams&&this.data.l.comp&&(this.layoutParams=[]);for(var t=0;t<this.data.l.type.length;t++)this.layoutParams[t]||(this.layoutParams[t]={})},this.removeEmptyCompartments=function(){if(this.layoutRemoveEmpty&&this.layoutParams&&!this.isDOE){for(var t={},e=[],i=["comp","desc","name","type","vars","smps","weight"],a=0,s=0;s<i.length;s++)this.data.l[i[s]]&&(t[i[s]]=[]);for(s=0;s<this.data.l.weight.length;s++){var r=this.layoutParams[s].varIndices.length,n=this.layoutParams[s].smpIndices.length;if(r&&n){e.push(this.layoutParams[s]);for(var o=0;o<i.length;o++)this.data.l[i[o]]&&t[i[o]].push(this.data.l[i[o]][s]);this.data.l.group&&(t.group=this.data.l.group),a++}}if(a!=this.data.l.weight.length){this.stndByLayoutData={},this.stndByLayoutData.data=this.cloneObject(this.data.l),this.stndByLayoutData.pars=this.cloneObject(this.layoutParams),this.stndByLayoutData.layoutRows=this.layoutRows,this.stndByLayoutData.layoutCols=this.layoutCols,this.stndByLayoutData.layout=this.layout,this.data.l=t,this.layoutParams=e,this.layoutRows=Math.ceil(Math.sqrt(a)),this.layoutCols=this.layoutRows*(this.layoutRows-1)>=a?this.layoutRows-1:this.layoutRows,this.layout=this.layoutRows+"X"+this.layoutCols;for(s=0;s<this.data.l.weight.length;s++)this.data.l.weight[s]=[1/this.layoutCols,1/this.layoutRows]}}},this.restoreEmptyCompartments=function(){this.stndByLayoutData&&(this.data.l=this.stndByLayoutData.data,this.layoutParams=this.stndByLayoutData.pars,this.layoutRows=this.stndByLayoutData.layoutRows,this.layoutCols=this.stndByLayoutData.layoutCols,this.layout=this.stndByLayoutData.layout,delete this.stndByLayoutData)},this.getLayoutAxisSamples=function(t){if(this.data.l.smps){if(this.graphType.match(/Scatter2D/)&&this.segregateSamplesBy&&1==this.segregateSamplesBy.length&&"sample"==this.segregateSamplesBy[0])return"Bin"==(e=this.cloneObject(this[t+"Axis"]))[0]?"x"==t?["Bin"]:(e.shift(),e):this.cloneObject(this.data.y.smps);for(var e={},i="x"==t?0:1,a=0;a<this.data.l.smps.length;a++)this.data.l.smps[a]&&(this.data.l.smps[a][i]||0==this.data.l.smps[a][i])?e[this.data.l.smps[a][i]]=!0:this.data.l.smps[a][t+"Axis"]&&(e[this.data.l.smps[a][t+"Axis"]]=!0);return this.getKeys(e)}return this[t+"Axis"].length>0?this[t+"Axis"]:this.data.y.smps},this.preCalculateAdjustLayout=function(t){if(!this.isDOE&&"Pie"!=this.graphType){delete this.xAxisLayoutMaxTickStr,delete this.xAxisLayoutMaxTickStrLength,delete this.xAxis2LayoutMaxTickStr,delete this.xAxis2LayoutMaxTickStrLength,delete this.yAxisLayoutMaxTickStr,delete this.yAxisLayoutMaxTickStrLength;for(var e=this.marginLeft+this.layoutLeft+this.layoutRight+this.marginRight,i=this.marginTop+this.layoutTop+this.layoutBottom+this.marginBottom,a=0,s=0;s<this.layoutRows;s++)for(var r=0;r<this.layoutCols&&(this.layoutCurrent=a,!(this.layoutParams.length<=a));r++){if(this.layoutParams[a])for(var n=0;n<t.length;n++)this[t[n]]=this.layoutParams[a].hasOwnProperty(t[n])?this.layoutParams[a][t[n]]:this[t[n]];this.setLayoutGraphDimensions(e,i,a),this.graphType.match(/Scatter/)||this.graphType.match(/Boxplot/)&&this.scatterPlotMatrix?this.drawLayoutCompartmentsScatter(e,i,s,r,a):this.drawLayoutCompartmentsOneD(e,i,a),a++}this.restoreLayoutParameters()}},this.setLayoutHidden=function(){this.layoutHidden={};for(var t=["hiddenVars","hiddensSmps","hiddenLegends"],e=0;e<t.length;e++)this.layoutHidden[t[e]]=this.cloneObject(this[t[e]])},this.restoreLayoutHidden=function(){for(var t=["hiddenVars","hiddensSmps","hiddenLegends"],e=0;e<t.length;e++)this[t[e]]=this.layoutHidden[t[e]]},this.drawLayoutCompartments=function(t){var e=["left","right","top","bottom","x","y","offsetX","offsetY","graphType","summaryType","transformData","smpInfo","varInfo","minData","maxData","xAxisMin","xAxisMax","xAxisRange","xAxis2Min","xAxis2Max","xAxis2Range","yAxisMin","yAxisMax","yAxisRange","zAxisMin","zAxisMax","zAxisRange","xAxisAbsMin","xAxisAbsMax","xAxis2AbsMin","xAxis2AbsMax","yAxisAbsMin","yAxisAbsMax","zAxisAbsMin","zAxisAbsMax","xAxisUnit","xAxis2Unit","yAxisUnit","zAxisUnit"],i=["layoutTop","layoutRight","layoutBottom","layoutLeft","layoutWidth","layoutHeight","layoutValid","layoutComb","offsetX","offsetY"],a=["weight","graphType","varIndices","smpIndices","grpIndices","varIndicesStart","smpIndicesStart","grpIndicesStart","setMin","setMax","setMin2","setMax2","setMinX","setMaxX","setMinY","setMaxY","setMinZ","setMaxZ"];if(this.layoutComb){this.validateLayoutTopology(),this.isDOE&&(e.push("data"),this.setDOE()),this.removeEmptyCompartments(),this.graphType.match(/Scatter/)?(this.dataPointSize=Number(Math.max(.5,this.dataPointSize/Math.max(this.layoutRows,this.layoutCols)).toFixed(1)),this.xAxisTmp=this.cloneObject(this.xAxis),this.yAxisTmp=this.cloneObject(this.yAxis),this.xAxis=this.getLayoutAxisSamples("x"),this.yAxis=this.getLayoutAxisSamples("y"),this.initializeAxis(),this.xAxis=this.xAxisTmp,this.yAxis=this.yAxisTmp,this.xAxisIndices=this.getSampleIndices(this.xAxis),this.yAxisIndices=this.getSampleIndices(this.yAxis),this.meta.data.i={vars:this.cloneObject(this.varIndices),smps:this.cloneObject(this.smpIndices)}):this.data.l&&this.data.l.group?(this.meta.data.i={vars:this.cloneObject(this.varIndices),smps:this.cloneObject(this.smpIndices),grps:this.cloneObject(this.grpIndices)},this.meta.data.g=this.data.w,this.stackBy&&this.data.l.group.length&&(this.groupSamples(this.data.l.group,!1,!1,!0,!0,!0),this.initializeAxis())):this.initAxes(),this.setLayoutDOETables(),this.setLayoutLegends(),this.setLayoutRestore(),this.setLayoutParams(),this.setLayoutWeights(),this.setLongestLayoutLabel(),this.setLayoutGraphTypes(),this.setLayoutIndices(a),this.preCalculateAdjustLayout(a),this.setLayoutHidden(),this.setLayoutDimensions(),this.title="",this.subtitle="",this.offsetX=this.layoutLeft,this.offsetY="Pie"==this.graphType?0:this.layoutTop;for(var s=this.marginLeft+this.layoutLeft+this.layoutRight+this.marginRight,r=this.marginTop+this.layoutTop+this.layoutBottom+this.marginBottom,n=0,o=0;o<this.layoutRows;o++){for(var h=0;h<this.layoutCols;h++){if(this.layoutCurrent=n,this.layoutCurrentR=o,this.layoutCurrentC=h,this.isDOE){if(this.dataStndBy.l.smps.length<=n)break;if(this.offsetY+this.layoutHeight>this.height)break}else if("Pie"==this.graphType){if(this.data.l.smps.length<=n)break}else if(this.isCreateHistogram)this.data.l.axes.length;else if(this.layoutParams.length<=n)break;if(this.layoutParams[n])for(var l=0;l<a.length;l++)this[a[l]]=this.layoutParams[n].hasOwnProperty(a[l])?this.layoutParams[n][a[l]]:this[a[l]];this.setLayoutGraphDimensions(s,r,n),this.isDOE?(this.offsetX=this.layoutLeft+(this.width-s)/this.layoutCols*this.dataStndBy.l.coords[n][1],this.offsetY=this.layoutTop+(this.height-r)/this.layoutRows*this.dataStndBy.l.coords[n][0],this.drawLayoutCompartmentsDOE(s,r,n)):this.graphType.match(/Scatter/)||this.graphType.match(/Boxplot/)&&this.scatterPlotMatrix?this.drawLayoutCompartmentsScatter(s,r,o,h,n):"Pie"==this.graphType?this.drawLayoutCompartmentsPie(s,r,n):this.scatterPlotMatrix||this.drawLayoutCompartmentsOneD(s,r,n);var c={};if(this.layoutConfig&&this.layoutConfig[n])for(var d in this.layoutConfig[n])c[d]=this.cloneObject(this[d]),this[d]=this.layoutConfig[n][d];if(!this.isDOE&&this.varIndices.length>0&&this.smpIndices.length>0)if(this.scatterPlotMatrix)if(this.scatterPlotMatrixType.match(/correlation|all/))if(h>o){if(this.scatterPlotMatrixType.match(/all/)&&h==this.layoutCols-1){var p=this.cloneObject(this.data.l.data[n]),g=this.data.l.params[n];if(p&&g){var u={};for(var d in g)u[d]=this[d],this[d]=g[d];if("boxplot"==this.scatterType&&this.isTransformedData)for(l=0;l<p.y.vars.length;l++)p.y.data[l][1]=this.transformValue(this.isTransformedData,p.y.data[l][1]);for(var d in this.initializeData(p,!1,!0),this.initializeAxis(),t.call(this),u)this[d]=u[d];this.switchData(!1,!0)}}}else if(h==o||o==this.layoutRows-1&&this.scatterPlotMatrixType.match(/all/)){var m=o==this.layoutRows-1&&this.scatterPlotMatrixType.match(/all/)?h:o,f=this.data.l.group&&this.meta.data.d.z[this.data.l.group]&&this.meta.data.d.z[this.data.l.group][m]&&this.meta.data.d.z[this.data.l.group][m][this.data.y.smps[this.smpIndices[m]]]?this.meta.data.d.z[this.data.l.group][m][this.data.y.smps[this.smpIndices[m]]]:!!this.meta.data.d.s[m]&&this.meta.data.d.s[m];if(f&&"correlation"!=this.scatterPlotMatrixType){for(var d in this.data.l.data[n]=f.data,f.params)this[d]=f.params[d];this.scatterPlotMatrixType.match(/all/)&&h==o&&(this.hideHistogram=!0,this.showHistogramDensity=!0);for(u=[],d=0;d<i.length;d++)u.push(this[i[d]]);this.scatterPlotMatrixType.match(/Histogram|Density|all/)&&this.initializeData(f.data,!1,!0),this.initializeAxis(),t.call(this),this.removeHistogram(!0),this.restoreMargins();for(d=0;d<i.length;d++)this[i[d]]=u[d];this.scatterPlotMatrixType.match(/all/)&&h==o&&(this.hideHistogram=!1,this.showHistogramDensity=!1)}else"correlation"==this.scatterPlotMatrixType&&0==o?t.call(this):o==this.layoutRows-1&&h==this.layoutCols-1&&this.scatterPlotMatrixType.match(/all/)&&(this.removeHistogram(!0),this.restoreMargins())}else this.restoreLayoutHidden(),t.call(this);else t.call(this);else this.graphType.match(/Scatter/)?this.xAxis.length&&this.yAxis.length&&t.call(this):t.call(this);if(this.layoutConfig&&this.layoutConfig[n])for(var d in this.layoutConfig[n])this[d]=c[d];for(l=0;l<e.length;l++)"data"==e[l]&&this.graphType.match(/Sankey|Tree/)?(this.layoutParams[n][e[l]]={},this.layoutParams[n][e[l]].y=this.cloneObject(this[e[l]].y),this[e[l]].x&&(this.layoutParams[n][e[l]].x=this.cloneObject(this[e[l]].x)),this[e[l]].z&&(this.layoutParams[n][e[l]].z=this.cloneObject(this[e[l]].z))):this.layoutParams[n][e[l]]=this.cloneObject(this[e[l]]);if(this.data.w&&(this.layoutParams[n].w=this.cloneObject(this.data.w)),this.layoutCanvasCompartments&&this.drawLayoutCanvasCompartments(),this.isDOE||"Pie"==this.graphType);else if(this.graphType.match(/Scatter/)||this.graphType.match(/Boxplot/)&&this.scatterPlotMatrix&&this.scatterPlotMatrixType.match(/all/))(this.scatterPlotMatrix||this.segregateVariablesBy.length||this.segregateSamplesBy.length)&&this.drawTrellisLabels(n,o,h,s);else{if(!this.layoutAdjust){var y="vertical"==this.graphOrientation?h:o,x="vertical"==this.graphOrientation?this.layoutCols-1:this.layoutRows-1,b="vertical"==this.graphOrientation&&("rows"==this.layoutType||"cols"==this.layoutType&&this.segregateVariablesBy.length+this.segregateSamplesBy.length>1),v="vertical"!=this.graphOrientation&&("cols"==this.layoutType||"rows"==this.layoutType&&this.segregateVariablesBy.length+this.segregateSamplesBy.length>1);0==y&&this.layoutRestore.xAxisShow&&"Heatmap"!=this.graphType&&!v&&(this.layoutAxis=1,this.xAxisShow=!0,this.draw1DXLayout()),y==x&&this.layoutRestore.xAxis2Show&&"Heatmap"!=this.graphType&&!b&&(this.layoutAxis=2,this.xAxis2Show=!0,this.draw1DXLayout())}if(this.segregateVariablesBy.length){var A=!1;"vertical"==this.graphOrientation?(o==this.layoutRows-1||o==this.layoutRows-2&&n+1+parseInt(this.layoutCols)>this.data.l.weight.length)&&(A=!0):0==h&&(A=!0),A&&(this.showSampleNames=this.layoutRestore.showSampleNames,this.draw1DYLayout())}else("vertical"==this.graphOrientation&&this.segregateSamplesBy.length&&this.layoutSameSamples&&o==this.layoutRows-1||"vertical"!=this.graphOrientation&&this.segregateSamplesBy.length&&this.layoutSameSamples&&0==h)&&(this.showSampleNames=this.layoutRestore.showSampleNames,this.draw1DYLayout());this.drawTrellisLabels(n,o,h)}this.offsetX+=this.layoutWidth,n++}this.offsetX=this.layoutLeft,this.offsetY+=this.layoutHeight}this.layoutCurrent=!1,this.restoreLayoutParameters(),this.isDOE?(this.data=this.dataStndBy,this.graphType=this.data.l.type[0]):(this.drawTitle(),this.drawLabelsTitlesLayout(),this.showLegend&&(this.isDOE||"Pie"!=this.graphType)&&(this.graphType.match(/Scatter/)&&this.setLegends(),this.drawLegend(!0))),this.graphType.match(/Scatter/)&&this.scatterPlotMatrix?(this.varIndices=this.meta.data.i.vars,this.smpIndices=this.meta.data.i.smps):this.meta.data.g?(this.data.w=this.meta.data.g,this.varIndices=this.meta.data.i.vars,this.smpIndices=this.meta.data.i.smps,this.grpIndices=this.meta.data.i.grps,delete this.meta.data.g,delete this.meta.data.i):this.isGroupedData=!1}},this.restoreMargins=function(){for(var t in this.meta.config.user)t.match(/margin|dataPointSize/)&&delete this.meta.config.user[t]},this.restoreLayoutParameters=function(){for(var t in this.layoutRestore)this[t]=this.layoutRestore[t]},this.setLayoutGraphDimensions=function(t,e,i){this.layoutWidth=(this.width-t)*this.layoutParams[i].weight[0],this.layoutHeight=(this.height-e)*this.layoutParams[i].weight[1],this.layoutParams[i].width=this.layoutWidth,this.layoutParams[i].height=this.layoutHeight},this.setLongestLayoutLabel=function(){var t=[];if(this.scatterPlotMatrix);else{if(this.segregateSamplesBy.length>0&&this.segregateVariablesBy.length>0||this.segregateSamplesBy.length>1||this.segregateVariablesBy.length>1)for(var e=0;e<this.data.l.name.length;e++)t.push(this.data.l.name[e][0]),t.push(this.data.l.name[e][1]);else if(this.data.l.name)for(e=0;e<this.data.l.name.length;e++)t.push(this.data.l.name[e]);this.longestLayoutLabel=this.getMaxText(t)}},this.setLayoutLabels=function(t){this.layoutLabels=[],this.isHistogram?this.segregateVariablesBy.length&&this.meta.data.z[this.segregateVariablesBy[0]]?this.layoutLabels.push(this.meta.data.z[this.segregateVariablesBy[0]].levels[t]):this.segregateSamplesBy.length?this.layoutLabels.push(this.legendSamplesN==this.data.l.axes.length?this.dataStndBy.y.smps[t]:this.data.l.axes[t].yAxis[0]):this.layoutLabels.push(this.data.l.name[t+1]):this.segregateSamplesBy.length>0&&this.segregateVariablesBy.length>0?(this.layoutLabels.push(this.data.l.name[t][this.graphType.match(/Scatter/)?1:0]),this.layoutLabels.push(this.data.l.name[t][this.graphType.match(/Scatter/)?0:1])):this.segregateSamplesBy.length>1||this.segregateVariablesBy.length>1?(this.layoutLabels.push(this.data.l.name[t][this.graphType.match(/Scatter/)?0:1]),this.layoutLabels.push(this.data.l.name[t][this.graphType.match(/Scatter/)?1:0])):this.scatterPlotMatrix||this.layoutLabels.push(this.data.l.name[t])},this.drawLayoutCompartmentsDOE=function(t,e,i){if(this.legendPosition="right",this.graphOrientation="vertical",0==i)this.isShowDOEData=!0,this.showLegend=this.layoutRestore.showLegend,this.isKM&&this.addKMPlot(!0),"Map"!=this.graphType&&this.drawDOELabelsLayout("Data"),this.graphType.match(/Scatter/i)?(this.isHistogram=!1,this.xAxis=this.configStndBy.xAxis||[],this.yAxis=this.configStndBy.yAxis||[],this.zAxis=this.configStndBy.zAxis||[],this.xAxisTitle=this.configStndBy.xAxisTitle,this.yAxisTitle=this.configStndBy.yAxisTitle,this.zAxisTitle=this.configStndBy.zAxisTitle,this.initializeData(this.dataStndBy),this.varIndices=this.dataStndBy.l.doe):(this.initializeData(this.dataStndBy),this.smpIndices=this.dataStndBy.l.doe),this.initializeAxis(),this.showLegend=!1,"Map"==this.graphType?(this.configStndBy.colorBy&&(this.colorBy=this.configStndBy.colorBy),this.setMapAttributes(),this.drawMapData()):"Scatter3D"==this.graphType?this.draw3DPlot():this.graphType.match(/Scatter/i)?this.data.l.histogram||this.draw2DPlot():(this.plotByVariable=this.configStndBy.plotByVariable,this.configStndBy.summaryType&&(this.summaryType=this.configStndBy.summaryType),this.configStndBy.groupingFactors.length>0?(this.isGroupedData=!0,this.dataStndBy.y.smps.length!=this.smpIndices.length&&(this.layoutComb=!1,this.groupSamples(this.configStndBy.groupingFactors,!1,!1,!0,!0),this.layoutComb=!0),this.initializeAxis(),this.data.l.histogram||this.draw1DPlot(),this.isGroupedData=!1,this.groupingFactors=[]):this.data.l.histogram||this.draw1DPlot(),this.plotByVariable=!1),this.data.l.histogram&&(this.ridgeBy=this.data.l.histogram.ridgeBy,this.createHistogram(this.data.l.histogram.ridgeBy||this.data.l.histogram.isAnnt,!1,!0),this.dataStndBy.l.data=this.cloneObject(this.data),this.initializeAxis(),this.draw2DPlot(),this.ridgeBy=!1),this.showLegend=!0,this.isShowDOEData=!1;else{this.layoutConfig||(this.layoutConfig=[]),this.layoutConfig[i]||(this.layoutConfig[i]={});var a=this.dataStndBy,s=a.l,r=this.layoutConfig[i].graphType||s.type[i];if(this.drawDOELabelsLayout(s.smps[i][0]),this.top=5,this.bottom=5,this.right=5,this.left=5,"Table"==r)this.createPie(s.smps[i][0]),this.graphType=r,this.layoutDOETables.hasOwnProperty(s.smps[i][0])&&this.layoutDOETables[s.smps[i][0]].idxs.length==this.data.y.vars.length||(this.layoutDOETables[s.smps[i][0]]={sort:!1,idxs:[]}),this.drawDOETable();else if("Pie"==r)this.showLegend=!1,this.createPie(s.smps[i][0]),this.graphType=r,this.layoutCurrentDOE=s.smps[i][0],this.legendBox=!1,this.drawPiePlot();else if("Treemap"==r)this.createTreemap(s.smps[i][0]),this.graphType=r,this.draw1DPlot();else if("Scatter2D"==r)this.createHistogram(s.smps[i][0],!1,!1,s.extended[i]),this.graphType=r,this.initializeAxis(),this.showLegend=!1,this.xAxisTitle="",this.yAxisTitle="",this.zAxisTitle="",this.draw2DPlot(),this.isHistogram=!1,this.isCreateHistogram=!1;else{"Scatter"==r&&(r="Scatter2D"),this.graphType=r;var n=a.x||a.z,o=this.layoutConfig[i].xAxis||s.smps[i][0],h=this.layoutConfig[i].yAxis||s.smps[i][0],l=n.hasOwnProperty(o.toString())?n[o]:a.y.data[o],c=n.hasOwnProperty(h.toString())?n[h]:a.y.data[h],d=["colorBy","shapeBy","siseBy"],p={graphType:!0,xAxis:!0,yAxis:!0,sortDir:!0};if("Scatter2D"==r){for(var g={y:{smps:[n.hasOwnProperty(o)?o:a.y.vars[o]],vars:[],data:[]}},u=0;u<s.doe.length;u++){var m=s.doe[u];g.y.vars.push(a.y.smps[m])}o!=h&&g.y.smps.push(n.hasOwnProperty(h)?h:a.y.vars[h]);for(u=0;u<s.doe.length;u++){m=a.l.doe[u];o!=h?g.y.data.push([l[m],c[m]]):g.y.data.push([l[m]])}this.isHistogram=!1,this.isCreateHistogram=!1,this.initializeData(g),this.graphType=r,this.initializeAxis(),this.draw2DPlot()}else{g={y:{vars:s.smps[i],smps:[],data:[[]]}};var f=this.cloneObject(s.doe);this.layoutConfig[i].sortType&&("Numeric"==this.layoutConfig[i].sortType?f="ascending"==this.layoutConfig[i].sortDir?f.sort((function(t,e){return n[s.smps[i][0]][t]-n[s.smps[i][0]][e]})):f.sort((function(t,e){return n[s.smps[i][0]][e]-n[s.smps[i][0]][t]})):"ascending"==this.layoutConfig[i].sortDir?f.sort((function(t,e){return a.y.smps[t]>a.y.smps[e]})):(f.sort((function(t,e){return a.y.smps[t]>a.y.smps[e]})),f.reverse()));for(u=0;u<f.length;u++){m=f[u];g.y.smps.push(a.x?a.y.smps[m]:a.y.vars[m])}for(u=0;u<f.length;u++){m=f[u];this.layoutConfig[i].transformType?g.y.data[0].push(this.transformValue(this.layoutConfig[i].transformType,n[s.smps[i][0]][m])):g.y.data[0].push(n[s.smps[i][0]][m])}var y={},x=!1;for(u=0;u<d.length;u++)if(this.layoutConfig[i][d[u]]){var b;if(x=!0,y[this.layoutConfig[i][d[u]]]=[],n.hasOwnProperty(this.layoutConfig[i][d[u]]))b=n[this.layoutConfig[i][d[u]]];else for(var v=0;v<a.y.vars.length;v++)if(a.y.vars[v]==this.layoutConfig[i][d[u]]){b=a.y.data[v];break}for(v=0;v<f.length;v++){var A=f[v];y[this.layoutConfig[i][d[u]]].push(b[A])}}for(var u in x&&(g.x=y),this.initializeData(g),this.graphType=r,this.layoutConfig[i])p[u]||(this[u]=this.layoutConfig[i][u]);for(var u in this.initializeAxis(),this.draw1DPlot(),this.layoutConfig[i])p[u]||(this[u]=!1)}}}},this.drawLayoutCompartmentsScatter=function(t,e,i,a,s){if(this.segregateVariablesBy.length&&this.segregateSamplesBy.length?(this.xAxis=[this.data.l.smps[Math.floor(s/this.data.l.smps.length)][0]],this.yAxis=[this.data.l.smps[Math.floor(s/this.data.l.smps.length)][1]],this.xAxisIndices=this.getSampleIndices(this.xAxis),this.yAxisIndices=this.getSampleIndices(this.yAxis),this.setLayoutLabels(s)):this.data.l.smps&&this.data.l.smps[s].xAxis&&this.data.l.smps[s].yAxis?(this.xAxis=this.data.l.smps[s].xAxis,this.yAxis=this.data.l.smps[s].yAxis,this.xAxisIndices=this.getSampleIndices(this.xAxis),this.yAxisIndices=this.getSampleIndices(this.yAxis)):!this.scatterPlotMatrix&&this.data.l.smps&&this.data.l.smps[s]?(this.isHistogram?this.data.l.axes[s]?(this.xAxis=this.data.l.axes[s].xAxis,this.yAxis=this.data.l.axes[s].yAxis,this.xAxisIndices=this.getSampleIndices(this.xAxis),this.yAxisIndices=this.getSampleIndices(this.yAxis)):(this.xAxis=[],this.yAxis=[],this.xAxisIndices=[],this.yAxisIndices=[]):(this.xAxis=[this.data.l.smps[s][0]],this.isQQ?this.yAxis=[this.data.l.smps[s][0]]:this.yAxis=[this.data.l.smps[s][1]||this.data.l.smps[s][0]],this.xAxisIndices=this.getSampleIndices(this.xAxis),this.yAxisIndices=this.getSampleIndices(this.yAxis)),this.setLayoutLabels(s)):this.data.l.vars&&this.data.l.vars[s]?this.data.l.axes?this.data.l.axes[s]?(this.xAxis=this.data.l.axes[s].xAxis,this.yAxis=this.data.l.axes[s].yAxis,this.xAxisIndices=this.getSampleIndices(this.xAxis),this.yAxisIndices=this.getSampleIndices(this.yAxis),this.setLayoutLabels(s)):(this.xAxis=[],this.yAxis=[],this.xAxisIndices=[],this.yAxisIndices=[]):this.setLayoutLabels(s):(this.xAxis=!1,this.yAxis=!1,this.xAxisIndices=!1,this.yAxisIndices=!1),this.layoutAdjust&&this.xAxis&&this.yAxis?(this.initializeAxis(),this.layoutAxis=3):(this.layoutAxis=0==a?2:0,this.layoutAxis=i==this.layoutRows&&this.layoutAxis?3:i==this.layoutRows?1:0),this.isQQ?this.setAxes("qq"):this.isCDF&&this.setAxes("cdf"),this.data.l.reg&&this.data.l.reg[s]){this.decorations&&this.decorations.reg&&delete this.decorations.reg;for(var r=0;r<this.data.l.reg[s].length;r++)this.addRegressionDecoration(this.data.l.reg[s][r].reg,this.data.l.reg[s][r].cor,this.data.l.reg[s][r].lab,this.data.l.reg[s][r].col,this.data.l.reg[s][r].fit,this.data.l.reg[s][r].id,this.data.l.reg[s][r].n,this.data.l.reg[s][r].factor)}this.showLegend=!1,this.legendInside=!0,this.showDecorationsLegend=!0,this.xAxisTitle="",this.yAxisTitle="",this.layoutAdjust&&"axis"!=this.layoutAdjust&&!this.scatterPlotMatrixType.match(/correlation|all/)||(this.xAxisShow=!1,this.yAxisShow=!1,this.xAxisS2Show=!1,this.yAxisS2Show=!1,0==i&&a%2>0&&(this.xAxisS2Show=!0),i!=this.layoutRows-1||a%2!=0&&!this.scatterPlotMatrixType.match(/correlation|all/)&&"axis"!=this.layoutAdjust||(this.xAxisShow=!0),0==a&&(i%2>0||this.scatterPlotMatrixType.match(/correlation|all/)||"axis"==this.layoutAdjust)&&(0==i||i==this.layoutRows-1&&this.scatterPlotMatrixType.match(/all/)?this.yAxisShow=!1:this.yAxisShow=!0),i==this.layoutRows-1&&this.scatterPlotMatrixType.match(/all/)&&(this.yAxisShow=!0),i==a&&this.scatterPlotMatrix&&"first"!=this.scatterPlotMatrixType&&(this.xAxisShow=!0,this.yAxisShow=!0),a!=this.layoutCols-1||i%2!=0||this.scatterPlotMatrixType.match(/correlation|all/)&&"axis"!=this.layoutAdjust||(this.yAxisS2Show=!0)),"manhattan"==this.scatterType&&(!1===this.meta.config.user.xAxisShow&&(this.xAxisShow=!1,this.xAxisS2Show=!1),this.yAxisShow=!0),this.xAxisMajorTicks=!0,this.yAxisMajorTicks=!0,(i==a&&(this.scatterPlotMatrixType.match(/correlation|all/)||"axis"==this.layoutAdjust)||i==this.layoutRows-1&&this.scatterPlotMatrixType.match(/all/))&&(this.xAxisMajorTicks=!1,this.yAxisMajorTicks=!1)},this.drawLayoutCompartmentsPie=function(t,e,i){this.smpIndices=[this.getSampleIndices(this.data.l.smps[i])],this.showLegend=!0},this.drawLayoutCompartmentsOneD=function(t,e,i){if(this.showLegend=!1,this.showOverlays=!0,this.isGroupedData=!1,this.xAxisTitle=!1,this.xAxis2Title=!1,this.smpTitle=!1,this.adjustAspectRatioXTries=0,this.adjustAspectRatioYTries=0,this.setLayoutLabels(i),this.varIndices.length>0&&this.smpIndices.length>0){if(this.data.l.group){this.groupSamples(this.data.l.group,!1,!1,!0,!0,!0);var a=this.layoutParams[i].dragged&&this.layoutParams[i].grpIndices.length==this.data.w.grpIdxs.length?this.layoutParams[i].grpIndices:this.data.w.grpIdxs;this.groupSamples(this.data.l.group,!1,a,!0,!0,!0),this.layoutParams[i].grpIndices=this.grpIndices,this.colorBy&&this.groupingFactors.includes(this.colorBy)&&this.layoutRestore.showLegend;for(var s=!1,r=0;r<this.data.l.group.length;r++)if(this.segregateSamplesBy.includes(this.data.l.group[r])){s=!0;break}if(1==this.data.w.smps.length&&"Heatmap"!=this.graphType&&s&&(this.showSampleNames=!1),this.segregateSamplesBy.length&&this.layoutSameSamples&&(this.showSampleNames=!1),this.hiddenGrpsLayout)if(1==this.hiddenGrps.length)this.hiddenGrpsLayout[i]&&(this.hiddenGrps[0]=!0);else for(r=0;r<this.hiddenGrps.length;r++)this.hiddenGrpsLayout[r]&&(this.hiddenGrps[r]=!0)}else 1==this.smpIndices.length&&this.graphType;this.segregateVariablesBy.length>0&&"Heatmap"!=this.graphType&&(this.showSampleNames=!1),this.layoutAdjust||"Meter"==this.graphType?(this.layoutAxis=3,this.varIndices.length>0&&this.smpIndices.length>0&&this.initializeAxis()):("vertical"==this.graphOrientation?this.xAxisShowLayout=!(i%this.layoutCols):(this.xAxisShowLayout=i<this.layoutCols,this.xAxis2ShowLayout=i>=this.layoutCols*(this.layoutRows-1)),this.xAxisShow=!1,this.xAxis2Show=!1)}},this.drawTrellisLabels=function(t,e,i,a){var s,r=this;if(this.scatterPlotMatrix){var n=this.yAxisTopBottomTickColor||this.foreground;0==t&&this.margin;switch(this.scatterPlotMatrixType){case"first":if(this.data.y.smps[t+1]){var o=this.layoutLabelBoxThickness,h=this.scaleTextToFont(this.meta.data.y.maxSmpStr+" & "+this.meta.data.y.maxSmpStr,this.maxTextSize,.8*(this.width-a)/this.layoutCols,o);this.layoutBoxLabelColors[0]?this.toRender({p:["drawShape","rectangle",this.marginLeft+this.offsetX+this.left+this.x/2,this.marginTop+this.offsetY+this.top-o/2,this.x,o,this.layoutBoxLabelColors[0],this.foreground],t:"Labels"}):this.toRender({p:["drawShape","rectangle",this.marginLeft+this.offsetX+this.left+this.x/2,this.marginTop+this.offsetY+this.top-o/2,this.x,o,!1,this.foreground,"open"],t:"Labels"}),this.toRender({p:["drawText",this.data.y.smps[0]+" & "+this.data.y.smps[t+1],this.marginLeft+this.offsetX+this.left+this.x/2,this.marginTop+this.offsetY+this.top-o/2,h,this.foreground,"center","middle"],t:"Labels"})}break;case"both":case"upper":case"lower":case"correlation":if(e==i){h=this.scaleTextToFont(this.meta.data.y.maxSmpStr,this.maxTextSize,.7*(this.width-a)/this.layoutCols,this.y);this.toRender({p:["drawShape","rectangle",this.marginLeft+this.offsetX+this.left+this.x/2,this.marginTop+this.offsetY+this.top+this.y/2,this.x,this.y,!1,this.foreground,"open"],t:"Labels"}),this.toRender({p:["drawText",this.data.y.smps[e],this.marginLeft+this.offsetX+this.left+this.x/2,this.marginTop+this.offsetY+this.top+this.y/2,h,this.foreground,"center","middle"],t:"Labels"})}else if(i>e&&"correlation"==this.scatterPlotMatrixType){var l=this.meta.data.c,c=this.data.y.smps[this.smpIndices[e]]+"::"+this.data.y.smps[this.smpIndices[i]],d=this.colorBy&&l.z[this.colorBy]&&l.z[this.colorBy][c]?l.z[this.colorBy][c]:!!l.s[c]&&l.s[c];h=this.scaleTextToFont(this.meta.data.y.maxSmpStr,this.maxTextSize,.7*(this.width-a)/this.layoutCols,this.y);if(this.drawPlotWindow(),this.toRender({p:["drawShape","rectangle",this.marginLeft+this.offsetX+this.left+this.x/2,this.marginTop+this.offsetY+this.top+this.y/2,this.x,this.y,!1,n,"open"],t:"Labels"}),d)for(var p=this.y/(d.length+1),g=0;g<d.length;g++){var u=this.formatNumber(d[g].cor,3),m=d[g].col,f=(g+1)*p;this.toRender({p:["drawText",u,this.marginLeft+this.offsetX+this.left+this.x/2,this.marginTop+this.offsetY+this.top+f,h,m,"center","middle"],t:"Labels"})}}break;case"correlationHistogram":case"correlationDensity":case"all":if("all"==this.scatterPlotMatrixType&&i==this.layoutCols-1&&e==this.layoutRows-1)break;if(this.showScatterPlotMatrixLabels){o=this.layoutLabelBoxThickness,h=this.scaleTextToFont(this.meta.data.y.maxSmpStr,this.fontSize,Math.min(this.layoutWidth,this.layoutHeight),o);if(0==e){var y=this.data.z&&this.data.z.hasOwnProperty(this.scatterPlotMatrix)?this.scatterPlotMatrix:"Variation";c="all"==this.scatterPlotMatrixType&&i==this.layoutCols-1?y:this.data.y.smps[i];this.toRender({p:["drawShape","rectangle",this.marginLeft+this.offsetX+this.left+this.x/2,this.marginTop+this.offsetY+this.top-o/2,this.x,o,!1,this.foreground,"open"],t:"Labels"}),this.toRender({p:["drawText",c,this.marginLeft+this.offsetX+this.left+this.x/2,this.marginTop+this.offsetY+this.top-o/2,h,this.foreground,"center","middle"],t:"Labels"})}i==this.layoutCols-1&&(this.toRender({p:["drawShape","rectangle",this.marginLeft+this.offsetX+this.left+this.x+o/2,this.marginTop+this.offsetY+this.top+this.y/2,o,this.y,!1,this.foreground,"open"],t:"Labels"}),this.toRender({p:["drawText",this.data.y.smps[e],this.marginLeft+this.offsetX+this.left+this.x+o/2,this.marginTop+this.offsetY+this.top+this.y/2,h,this.foreground,"center","middle",Math.PI/2],t:"Labels"}))}else if(e==i){h=this.scaleTextToFont(this.meta.data.y.maxSmpStr,this.maxTextSize,.7*(this.width-a)/this.layoutCols,this.y),o=this.layoutLabelBoxThickness;this.toRender({p:["drawText",this.data.y.smps[e],this.marginLeft+this.offsetX+this.left+this.x/2,this.marginTop+this.offsetY+this.top+o,h,this.foreground,"center","middle"],t:"Labels"})}if(i>e){if("all"==this.scatterPlotMatrixType&&i==this.layoutCols-1)break;l=this.meta.data.c,c=this.data.y.smps[this.smpIndices[e]]+"::"+this.data.y.smps[this.smpIndices[i]],d=this.colorBy&&l.z[this.colorBy]&&l.z[this.colorBy][c]?l.z[this.colorBy][c]:!!l.s[c]&&l.s[c],h=this.scaleTextToFont(this.meta.data.y.maxSmpStr,this.maxTextSize,.7*(this.width-a)/this.layoutCols,this.y);if(this.drawPlotWindow(),this.toRender({p:["drawShape","rectangle",this.marginLeft+this.offsetX+this.left+this.x/2,this.marginTop+this.offsetY+this.top+this.y/2,this.x,this.y,!1,n,"open"],t:"Labels"}),d)for(p=this.y/(d.length+1),g=0;g<d.length;g++){u=this.formatNumber(d[g].cor,3),m=d[g].col,f=(g+1)*p;this.toRender({p:["drawText",u,this.marginLeft+this.offsetX+this.left+this.x/2,this.marginTop+this.offsetY+this.top+f,h,m,"center","middle"],t:"Labels"})}}}}else if(this.layoutValid&&this.layoutLabelShow){this.layoutCollapse||this.layoutType;var x=this.layoutLabelBoxThickness,b=(s=r.marginLeft+r.offsetX,(r.layoutCollapse||"wrap"!=r.layoutType&&"horizontal"==r.graphOrientation&&!r.graphType.match(/Scatter/)?s+(r.layoutCollapse?0:r.margin):r.graphType.match(/Scatter/)&&(r.isQQ||r.isCDF)||"wrap"!=r.layoutType?s+r.margin:s+(r.graphOrientation,r.left)+(r.graphType.match(/Scatter/),0))+.5),v=function(){var t=r.marginTop+r.offsetY;return r.layoutCollapse||"wrap"!=r.layoutType&&"horizontal"==r.graphOrientation&&!r.graphType.match(/Scatter/)?t:t+(r.top-r.layoutLabels.length*x*("wrap"==r.layoutType?1:0))}()+.5,A=function(){var t=r.layoutWidth;return r.layoutCollapse?t:r.graphType.match(/Scatter/)?t-r.margin:"wrap"!=r.layoutType?t-r.margin*("horizontal"==r.graphOrientation?1:2):t-(r.left+r.right)}(),w=function(){var t=r.layoutHeight;return r.layoutCollapse?t:r.graphType.match(/Scatter/)?t-r.margin:"wrap"!=r.layoutType?t-r.margin*("horizontal"==r.graphOrientation?1:2):r.layoutAdjust?t-("horizontal"==r.graphOrientation?r.top+r.bottom-r.layoutLabels.length*x:r.bottom):t-("horizontal"==r.graphOrientation?r.margin:r.bottom)}(),C=A/2,T=this.layoutLabels.length?this.scaleTextToFont(this.longestLayoutLabel,this.layoutBoxShow?this.fontSize:this.maxFontSize,A,w):this.font,S=this.layoutBoxShow?this.foreground:"rgba(0,0,0,0)";if("wrap"==this.layoutType)for(g=0;g<this.layoutLabels.length;g++)this.layoutBoxLabelColors[g]&&this.toRender({p:["drawShape","box",b+A/2,v+x/2+x*g,A,x,this.layoutBoxLabelColors[g],this.layoutBoxShow?this.foreground:this.layoutBoxLabelColors[g]],t:"Labels"});else("cols"==this.layoutType||"rows"==this.layoutType)&&this.layoutLabels.length;if(r.graphType.match(/Scatter/)){if(!this.xAxis.length||!this.yAxis.length)return;"wrap"==this.layoutType&&this.toRender({p:["drawShape","box",b+A/2,v+this.layoutLabels.length*x/2,A,this.layoutLabels.length*x,!1,S,"open",!1,1],t:"Labels"})}else this.toRender({p:["drawShape","box",b+A/2,v+w/2,A,w,!1,S,"open"],t:"Labels"});if("wrap"==this.layoutType)for(g=0;g<this.layoutLabels.length;g++){this.toRender({p:["drawText",this.layoutLabels[g],b+C,v+x/2+x*g,T,this.layoutLabelColor,"center","middle"],t:"Labels"});var D=v+x+x*g;this.toRender({p:["drawLine","line",b,D,b+A,D,S],t:"Labels"})}else"cols"==this.layoutType?(0==e&&(this.toRender({p:["drawText",this.layoutLabels[this.layoutLabels.length>1?1:0],b+C,v-x/2,T,this.layoutLabelColor,"center","middle"],t:"Labels"}),this.toRender({p:["drawShape","box",b+A/2,v-x/2,A,x,!1,S,"open",!1,1],s:!0,t:"Labels"})),this.layoutLabels.length>1&&Number(i)+1==this.layoutCols&&(this.toRender({p:["drawText",this.layoutLabels[0],b+A+x/2,v+w/2,T,this.layoutLabelColor,"center","middle",Math.PI/2]}),this.toRender({p:["drawShape","box",b+A+x/2,v+w/2,x,w,!1,S,"open",!1,1],s:!0,t:"Labels"}))):"rows"==this.layoutType&&(Number(i)+1==this.layoutCols&&(this.toRender({p:["drawText",this.layoutLabels[0],b+A+x/2,v+w/2,T,this.layoutLabelColor,"center","middle",Math.PI/2]}),this.toRender({p:["drawShape","box",b+A+x/2,v+w/2,x,w,!1,S,"open",!1,1],s:!0,t:"Labels"})),this.layoutLabels.length>1&&0==e&&(this.toRender({p:["drawText",this.layoutLabels[1],b+C,v-x/2,T,this.layoutLabelColor,"center","middle"],t:"Labels"}),this.toRender({p:["drawShape","box",b+A/2,v-x/2,A,x,!1,S,"open",!1,1],s:!0,t:"Labels"})))}},this.getLayoutConfig=function(t){return!!(this.layoutValid&&this.layoutConfig&&this.layoutConfig[this.layoutCurrent]&&this.layoutConfig[this.layoutCurrent][t])&&this.layoutConfig[this.layoutCurrent][t]},this.initializeLayout=function(){this.isValidLayout()}},CanvasXpress.prototype.initViewport=function(){this.setViewport=function(t){if(!(d=this.$("container-"+this.target))){for(var e=this.$(this.target),i=e.attributes,a=0;a<i.length;a++)this.meta.dom[i[a].name]=i[a].value;var s=e.parentNode;e.className="CanvasXpress",e.hasAttribute("data-maxWidth")||e.setAttribute("data-maxWidth",e.hasAttribute("width")?Number(e.getAttribute("width")):s.clientWidth),e.hasAttribute("data-maxHeight")||e.setAttribute("data-maxHeight",e.hasAttribute("height")?Number(e.getAttribute("height")):s.clientHeight),s.id||(s.id="CanvasXpress-ParentNode-"+this.target),CanvasXpress.system.isShiny||s.classList.add("CanvasXpress-ParentNode"),s.style.margin||s.style.marginTop||!this.toolbarType.match(/over|fixed/)||(s.style.marginTop="36px"),this.targetParentNode=s.id,this.targetParentNodeResponsive=!1,this.targetParentNodeAspectRatio=[];var r=!!e.hasAttribute("data-responsive")&&JSON.parse(e.getAttribute("data-responsive")),n=!!e.hasAttribute("data-aspectRatio")&&e.getAttribute("data-aspectRatio"),o=!!e.hasAttribute("data-resizable")&&e.getAttribute("data-resizable");if(o&&("both"==o?(this.resizable=!0,this.resizableX=!0,this.resizableY=!0):"x"==o||"X"==o?(this.resizable=!0,this.resizableX=!0,this.resizableY=!1):"y"==o||"Y"==o?(this.resizable=!0,this.resizableX=!1,this.resizableY=!0):"none"==o&&(this.resizable=!1,this.resizableX=!1,this.resizableY=!1)),r){this.targetParentNodeResponsive=!0;var h=n?n.split(/:/):[],l=this.getMaxCanvasWidthHeight(e,h);e.width=l[0],e.height=l[1],this.targetParentNodeAspectRatio=[e.width,e.height]}e.width=e.originalWidth=parseInt(e.width),e.height=e.originalHeight=parseInt(e.height),0==e.width&&(e.width=500),0==e.height&&(e.height=500),e.style.width=e.width+"px",e.style.height=e.height+"px";var c=this.$cX("canvas",{id:this.target+"-events",className:"CanvasXpress",width:e.width,height:e.height},{position:"absolute",left:0,top:0});this.target2=this.target+"-events";var d=this.$cX("div",{id:"container-"+this.target,className:"CanvasXpressContainer"},{backgroundColor:this.background});t&&(d.style.display="none");var p=this.$cX("div",{id:"northest-container-"+this.target,className:"CanvasXpressContainer"},{width:e.width+"px",clear:"left",backgroundColor:this.background}),g=this.$cX("div",{id:"northest-wrapper-"+this.target,className:"CanvasXpressWrapper"},{width:e.width+"px",backgroundColor:this.background}),u=this.$cX("div",{id:"north-container-"+this.target,className:"CanvasXpressContainer"},{width:e.width+"px",height:"0px",clear:"left",backgroundColor:this.background}),m=this.$cX("div",{id:"north-wrapper-"+this.target,className:"CanvasXpressWrapper"},{width:e.width+"px",height:"0px",backgroundColor:this.background}),f=this.$cX("div",{id:"middle-container-"+this.target,className:"CanvasXpressContainer"},{width:e.width+"px",height:e.height+"px",clear:"left",backgroundColor:this.background}),y=this.$cX("div",{id:"west-container-"+this.target,className:"CanvasXpressContainer"},{width:"0px",height:e.height+"px",cssFloat:"left",backgroundColor:this.background}),x=this.$cX("div",{id:"west-wrapper-"+this.target,className:"CanvasXpressWrapper"},{width:"0px",height:e.height+"px",backgroundColor:this.background}),b=this.$cX("div",{id:"center-wrapper-"+this.target,className:"CanvasXpressWrapper"},{backgroundColor:this.background}),v=this.$cX("div",{id:"east-container-"+this.target,className:"CanvasXpressContainer"},{width:"0px",height:e.height+"px",backgroundColor:this.background}),A=this.$cX("div",{id:"east-wrapper-"+this.target,className:"CanvasXpressWrapper"},{width:"0px",height:e.height+"px",backgroundColor:this.background}),w=this.$cX("div",{id:"south-container-"+this.target,className:"CanvasXpressContainer"},{width:e.width+"px",height:"0px",clear:"left",backgroundColor:this.background}),C=this.$cX("div",{id:"south-wrapper-"+this.target,className:"CanvasXpressWrapper",state:"open"},{width:e.width+"px",height:"0px",backgroundColor:this.background}),T=this.$cX("div",{id:"southest-container-"+this.target,className:"CanvasXpressContainer"},{width:e.width+"px",clear:"left",backgroundColor:this.background}),S=this.$cX("div",{id:"southest-wrapper-"+this.target,className:"CanvasXpressWrapper"},{width:e.width+"px",backgroundColor:this.background});p.appendChild(g),T.appendChild(S),u.appendChild(m),y.appendChild(x),v.appendChild(A),w.appendChild(C),f.appendChild(y),f.appendChild(b),f.appendChild(v),d.appendChild(p),d.appendChild(u),d.appendChild(f),d.appendChild(w),d.appendChild(T),d.appendChild(this.createLoadingTimer()),e.parentNode.insertBefore(d,e),b.appendChild(e.parentNode.appendChild(e)),e.parentNode.appendChild(c),this.meta.canvas.ctx2=this.get2DCanvasContext(c),this.meta.canvas.ctx2.setTransform(this.meta.canvas.canvasPixelRatio,0,0,this.meta.canvas.canvasPixelRatio,0,0)}},this.getMaxCanvasWidthHeight=function(t,e){var i,a;t||(t=this.$(this.target)),e||(e=this.targetParentNodeAspectRatio);var s=!(!this.targetParentNode||!this.$(this.targetParentNode))&&this.$(this.targetParentNode),r=Number(t.getAttribute("data-maxWidth")),n=Number(t.getAttribute("data-maxHeight"));if(!s)return[r,n];s.parentNode&&(s=s.parentNode);var o=s.getClientRects(),h=parseInt(getComputedStyle(s).paddingLeft),l=Number(null!=o[0]?o[0].width:this.width),c=Number(null!=o[0]?o[0].height:this.height);return l=l>r?r:l,c=c>n?n:c,2==e.length?(e[0]=Number(e[0]),e[1]=Number(e[1]),e[0]==e[1]?a=i=l-(l>=r?0:h?2*h:0):e[0]>e[1]?(i=parseInt(l),a=parseInt(i*e[1]/e[0])):(a=parseInt(c),i=parseInt(a*e[0]/e[1]))):(i=l,a=c),[i,a]},this.createLoadingTimerOld=function(){var t=this.target+"canvasXpressLoadingTimer";if(!this.$(t)){for(var e=this.$(this.target),i=this.$cX("div",{id:t},{display:"none",position:"absolute",width:"100%",top:parseInt(e.height/2-100.5)+"px"}),a=this.$cX("div",{className:"counter"}),s=this.$cX("div",{className:"timer"}),r=this.$cX("div",{className:"imer-val-container seconds-single"}),n=0;n<10;n++)r.appendChild(this.$cX("div",{className:"timer-val",innerHTML:n}));s.appendChild(r),a.appendChild(s),i.appendChild(a);var o=this.$cX("div",{className:"sk-fading-circle"});for(n=1;n<13;n++)o.appendChild(this.$cX("div",{className:"sk-circle"+n+" sk-circle"}));return i.appendChild(o),i}},this.createLoadingTimer=function(){var t=this.target+"canvasXpressLoadingTimer";if(!this.$(t)){for(var e=this.$(this.target),i=this.$cX("div",{id:t},{display:"block",position:"absolute",top:parseInt(e.height/2-40)+"px",left:parseInt(e.width/2-40)+"px"}),a=this.$cX("div",{className:"lds-ring"}),s=0;s<4;s++)a.appendChild(this.$cX("div"));return i.appendChild(a),i}},this.resizeViewportNorth=function(){var t=this.meta.canvas.canvasPixelRatio,e=this.$("west-container-"+this.target),i=this.$("east-container-"+this.target),a=this.$("northest-container-"+this.target),s=this.$("northest-wrapper-"+this.target),r=this.$("north-container-"+this.target),n=this.$("north-wrapper-"+this.target);e&&i&&a&&s&&r&&n&&(a.style.width=parseInt(e.style.width)+this.meta.canvas.ctx.canvas.width/t+parseInt(i.style.width)+"px",s.style.width=parseInt(e.style.width)+this.meta.canvas.ctx.canvas.width/t+parseInt(i.style.width)+"px",r.style.width=parseInt(e.style.width)+this.meta.canvas.ctx.canvas.width/t+parseInt(i.style.width)+"px",n.style.width=parseInt(e.style.width)+this.meta.canvas.ctx.canvas.width/t+parseInt(i.style.width)+"px",r.style.height="0px",n.style.height="0px")},this.resizeViewportWest=function(){this.$(this.target+"-cX-Configurator");var t=this.meta.canvas.canvasPixelRatio,e=this.$("west-container-"+this.target),i=this.$("west-wrapper-"+this.target);e&&i&&(e.style.width="0px",i.style.width="0px",e.style.height=this.meta.canvas.ctx.canvas.height/t+"px",i.style.height=this.meta.canvas.ctx.canvas.height/t+"px")},this.resizeViewportEast=function(){this.$(this.target+"-cX-DataFilter");var t=this.meta.canvas.canvasPixelRatio,e=this.$("east-container-"+this.target),i=this.$("east-wrapper-"+this.target);e&&i&&(e.style.width="0px",i.style.width="0px",e.style.height=this.meta.canvas.ctx.canvas.height/t+"px",i.style.height=this.meta.canvas.ctx.canvas.height/t+"px")},this.resizeViewportSouth=function(t){var e=this.$(this.target+"-cX-DataTable"),i=this.meta.canvas.canvasPixelRatio,a=this.$("west-container-"+this.target),s=this.$("east-container-"+this.target),r=this.$("south-container-"+this.target),n=this.$("south-wrapper-"+this.target);e&&a&&s&&r&&n&&(t?(r.style.height=parseInt(e.style.height)+"px",n.style.height=parseInt(e.style.height)+"px",r.style.width=parseInt(e.style.width)+"px",n.style.width=parseInt(e.style.width)+"px"):(r.style.width=parseInt(a.style.width)+this.meta.canvas.ctx.canvas.width/i+parseInt(s.style.width)+"px",n.style.width=parseInt(a.style.width)+this.meta.canvas.ctx.canvas.width/i+parseInt(s.style.width)+"px",r.style.height="0px",n.style.height="0px"))},this.resizeViewport=function(){var t=this.meta.canvas.canvasPixelRatio,e=this.$("middle-container-"+this.target),i=this.$("east-container-"+this.target),a=this.$("west-container-"+this.target);e&&i&&a&&(this.resizeViewportWest(),this.resizeViewportEast(),this.resizeViewportNorth(),this.resizeViewportSouth(),e.style.width=parseInt(a.style.width)+this.meta.canvas.ctx.canvas.width/t+parseInt(i.style.width)+0+"px",e.style.height=this.meta.canvas.ctx.canvas.height/t+0+"px")},this.resizeViewportMiddle=function(t,e){var i=this.$("middle-container-"+this.target),a=this.$("east-container-"+this.target),s=this.$("west-container-"+this.target);i&&a&&s&&(this.resizeViewportWest(),this.resizeViewportEast(),this.resizeViewportNorth(),this.resizeViewportSouth(),i.style.width=parseInt(s.style.width)+t+parseInt(a.style.width)+0+"px",i.style.height=e+0+"px")},this.resetViewportOverflow=function(t){if(t){var e=this.$(t+"-wrapper-"+this.target);e&&(e.style.overflow="visible")}},this.initializeViewport=function(t){this.setViewport(t)}},CanvasXpress.prototype.initMenus=function(){var t;this.addMenu=function(t,e,i,a,s,r,n,o,h){if(!this.disableMenu){var l,c,d=this.$("north-wrapper-"+this.target),p=this.$("west-container-"+this.target);if(this.resetLinkDiv(),d&&p){if(e)c=this.newId("-cX-Menu-"),l=this.$cX("div",{id:c,className:"CanvasXpressMenu draggable",par:i},{left:"0px",top:"0px",zIndex:this.menuIndex++,display:"none"});else{if(this.removeMenus(),a)e=a,s+=p.offsetWidth;else{e=this.setMenu(t);var g=this.getTargetEvent(t),u=this.adjustedCoordinates(t,g);o?(s=8,r=8):(s=u.x+p.offsetWidth,r=u.y)}c=this.newId("-cX-Menu-"),l=this.$cX("div",{id:c,className:"CanvasXpressMenu draggable"},{left:s+"px",top:r+"px",zIndex:this.menuIndex++})}var m=this.$cX("ul",{id:this.newId("-cX-List-"),className:"CanvasXpressList",header:n,colorBackground:h});l.appendChild(m),d.appendChild(l);var f=this.maxSubMenus,y=e.length>f?f:e.length;e.length>f&&"Network"!=this.graphType&&(m.rawMenu=e,m.rawMenuIndex=0,this.addMenuItemScroller(m,"Top"));for(var x=0;x<y;x++)"-"==e[x][0]?this.addMenuItemSep(m):"-text-"==e[x][0]?this.addMenuItemText(e[x],m):"-color-"==e[x][0]?this.addMenuItemColor(e[x],m):"-slider-"==e[x][0]?this.addMenuItemSlider(e[x],m):"-filter-"==e[x][0]?this.addMenuItemFilter(e[x],m):this.addMenuItem(e[x],m);e.length>f&&this.addMenuItemScroller(m,"Bottom")}return c}},this.pageMenuItem=function(t,e){var i,a,s,r,n=t.rawMenuMatch||t.rawMenu;if(n){var o=t.childNodes.length-2;"Top"==e&&t.rawMenuIndex>0?(i=t.childNodes[t.childNodes.length-2],a=n[t.rawMenuIndex-1],s=t.childNodes[2],r=!0,t.rawMenuIndex--):"Bottom"==e&&n.length>t.rawMenuIndex+o&&(i=t.childNodes[2],a=n[t.rawMenuIndex+o],s=t.childNodes[t.childNodes.length-1],r=!0,t.rawMenuIndex++),r&&(this.addRemoveItemListeners("removeEvtListener",i),i.parentNode.removeChild(i),"-"==a[0]?this.addMenuItemSep(t,s):"-text-"==a[0]?this.addMenuItemText(a,t,s):"-color-"==a[0]?this.addMenuItemColor(a,t,s):"-slider-"==a[0]?this.addMenuItemSlider(a,t,s):"-filter-"==a[0]?this.addMenuItemFilter(a,t,s):this.addMenuItem(a,t,s))}},this.filterScrollSearch=function(t){var e=this.$(t);if(e){for(var i=e.value,a=new RegExp(e.value,"i"),s=e.parentNode.parentNode,r=s.rawMenu,n=[],o=0;o<r.length;o++)r[o][0].match(a)&&n.push(r[o]);for(n.length!=r.length?s.rawMenuMatch=n:delete s.rawMenuMatch;s.childNodes.length>0;){var h=s.childNodes[0];this.addRemoveItemListeners("removeEvtListener",h),s.removeChild(h)}var l=this.maxSubMenus,c=n.length>l?l:n.length;s.rawMenuIndex=0;var d=this.addMenuItemScroller(s,"Top",i);for(o=0;o<c;o++)this.addMenuItem(n[o],s);this.addMenuItemScroller(s,"Bottom"),d.focus(),d.value=i}},this.addMenuItemSep=function(t,e){var i=this.$cX("li",{id:this.newId("-cX-List-Item-Sep-"),className:"CanvasXpressListItemSep"}),a=this.$cX("span",{id:this.newId("-cX-List-Item-Text-Sep-"),className:"CanvasXpressListItemTextSep",innerHTML:"&nbsp;"});i.appendChild(a),e?e.parentNode.insertBefore(i,e):t.appendChild(i)},this.addMenuItemScroller=function(t,e){var i=this.$cX("li",{id:this.newId("-cX-List-Item-Scroll-"+e),className:"CanvasXpressListItemScroll"+e}),a=this.$cX("span",{id:this.newId("-cX-List-Item-Text-Scroll-"+e),className:"CanvasXpressListItemTextScroll"+e,innerHTML:"&nbsp;"});if(i.appendChild(a),t.appendChild(i),this.addRemoveItemListeners("addEvtListener",i),"Top"==e){var s=this.$cX("li",{id:this.newId("-cX-List-Item-Scroll-Search"),className:"CanvasXpressListItemScrollSearch"+e}),r=this.$cX("input",{id:this.newId("-cX-List-Item-Scroll-Search-Input"),className:"CanvasXpressListItemScrollSearch",type:"text",placeholder:" Search menu"});return s.appendChild(r),t.appendChild(s),r}},this.getMenuItemValue=function(t){if(t[2][2]){for(var e=this.cloneObject(t[2][2]),i=this;e.length>0;){var a=e.shift();if(!i[a])return"";i=i[a]}return null!=i?i:""}return this[t[2][0]]||""},this.addMenuItem=function(t,e,i){var a,s=this.newId("-cX-List-Item-"),r=this.$cX("li",{id:s,className:"CanvasXpressListItem",click:t[2],params:t[3]||[],upload:!(!t[0]||"Load"!=t[0]),uploadParams:!(!t[0]||"Load Parameters"!=t[0])});if(e.colorBackground){var n,o,h,l=CanvasXpress.colorSchemes[t[0]];if(l&&l[3])n=this.rgbToHex(l[3][0]),o=this.rgbToHex(l[3][1]),h=this.rgbToHex(l[3][2]);else{var c=this.getKeys(l).sort((function(t,e){return t-e})),d=l[c[0]].length;n=this.rgbToHex(l[c[0]][0]),o=this.rgbToHex(l[c[0]][Math.floor(d/2)]),h=this.rgbToHex(l[c[0]][d-1])}r.style.background="linear-gradient(to right, "+n+"70 33%, "+o+"70 33% 67%, "+h+"70 67%)"}var p={cursor:"grab",cursor:"-moz-grab",cursor:"-webkit-grab"},g=!1;t[5]?(a=this.$cX("a",{id:this.newId("-cX-List-Item-A-"),className:"CanvasXpressListItemAArrow",hidefocus:"true",unselectable:"on",href:"#",menu:s,menuId:"false",menuFunc:t[5],menuParm:t[6],draggable:!1},p),g=!0):a=this.$cX("a",{id:this.newId("-cX-List-Item-A-"),className:"CanvasXpressListItemA",hidefocus:"true",unselectable:"on",href:"#",menuFunc:t[2],menuParm:t[3],draggable:!1});var u,m=this.$cXI(t[1]&&CanvasXpress.icons.use.hasOwnProperty(t[1])?t[1]:CanvasXpress.png,{id:this.newId("-cX-List-Icon-"),className:"CanvasXpressListIcon",src:t[1],key:t[1]});if(!t[0]||"Load"!=t[0]&&"Load Parameters"!=t[0])u=this.$cX("span",{id:this.newId("-cX-List-Item-Text-"),className:"CanvasXpressListItemText",innerHTML:t[0]||"",draggable:!1},!!g&&p);else{u=this.$cX("span",{id:this.newId("-cX-List-Item-Text-"),className:"CanvasXpressListItemText",draggable:!1},{marginRight:0});var f=this.$cX("input",{id:this.newId("-cX-List-Item-Text-File-Upload"),className:"CanvasXpressListItemText",type:"file",draggable:!1},{color:"transparent",width:"100px"});u.appendChild(f)}e.colorBackground&&(u.style.fontWeight="bolder");var y=this.$cX("span",{className:"CanvasXpressListItemTextShort",innerHTML:t[4]||"",draggable:!1});a.appendChild(m),a.appendChild(u),a.appendChild(y),r.appendChild(a),i?i.parentNode.insertBefore(r,i):e.appendChild(r),this.addRemoveItemListeners("addEvtListener",r)},this.addMenuItemText=function(t,e,i){var a=this.newId("-cX-List-Item-Text-"),s=this.newId("-cX-List-Item-Text-Input-"),r=this.getMenuItemValue(t),n=this.$cX("li",{id:a,className:"CanvasXpressListItem",click:t[1],params:[t[2],s]}),o=this.$cX("input",{id:s,className:"CanvasXpressList",type:"text",value:r},{paddingLeft:"3px",width:"200px"}),h=this.$cX("a",{id:this.newId("-cX-List-Text-Item-A-"),className:"CanvasXpressListItemA",hidefocus:"true",unselectable:"on",href:"#"}),l=this.$cXI("op_refresh",{id:this.newId("-cX-List-Text-Icon-"),className:"CanvasXpressListIcon",src:"op_refresh",key:"refreshForm"},{marginTop:"4px"});h.appendChild(l),h.appendChild(o),n.appendChild(h),i?i.parentNode.insertBefore(n,i):e.appendChild(n),this.addRemoveItemListeners("addEvtListener",n)},this.addMenuItemColor=function(t,e,i){var a=this.newId("-cX-List-Item-Color-"),s=this.newId("-cX-List-Item-Color-Container-"),r=this.newId("-cX-List-Item-Color-Current-"),n=this.newId("-cX-List-Item-Color-Palete-"),o=this.newId("-cX-List-Item-Color-Palete-Current-"),h=this.newId("-cX-List-Item-Color-Saturation-"),l=this.newId("-cX-List-Item-Color-Saturation-Current-"),c=this[t[2][0]]||"",d=this.$cX("li",{id:a,className:"CanvasXpressListItem",click:t[1],params:[t[2],r],palete:n,paleteCurrent:o,colorCurrent:r,saturation:h,saturationCurrent:l}),p=this.$cX("a",{id:this.newId("-cX-List-Color-Item-A-"),className:"CanvasXpressListItemA",hidefocus:"true",unselectable:"on",href:"#"},{height:"140px",width:"250px"}),g=this.$cXI("op_refresh",{id:this.newId("-cX-List-Color-Icon-"),className:"CanvasXpressListIcon",src:"op_refresh",key:"refreshForm"},{marginTop:"2px"}),u=c?this.rgbToHex(this.validateColor(c.replace(/[\'\"]/g,""))):this.foreground;this.colorRGBfromString(u);var m=Math.round(this.colorHSV[0]/6*180),f=Math.round(100*(1-this.colorHSV[1])),y=Math.round(100*(1-this.colorHSV[2])),x=this.$cX("div",{id:s},{width:"188px",height:"138px",cssFloat:"left"}),b=this.$cX("div",{id:r,parentItem:a,className:"CanvasXpressConfiguratorColor",value:c},{width:"203px",height:"24px",cssFloat:"left",marginBottom:"5px",cursor:"default",lineHeight:"24px"}),v=this.$cX("div",{id:n,parentItem:a,className:"CanvasXpressConfiguratorColorMain"},{position:"relative",left:"0px",top:"0px",width:"181px",height:"101px"}),A=this.$cX("div",{id:o,parentItem:a,className:"CanvasXpressConfiguratorColorExtra"},{position:"relative",left:m-7+"px",top:f-7+"px",width:"195px",height:"115px"});v.appendChild(A);for(var w=this.$cX("div",{id:h,parentItem:a,className:"CanvasXpressConfiguratorColor"},{position:"relative",left:"188px",top:"-102px",width:"15px",height:"100px",border:"1px solid rgb(51,122,183)",clear:"left",cursor:"c_rosshair"}),C=0;C<100;C+=4){var T=this.$cX("div",!1,{height:"4px",position:"relative",left:"0px",cursor:"c_rosshair"});w.appendChild(T)}var S=this.$cX("div",{id:l,parentItem:a,className:"CanvasXpressConfiguratorColorExtra"},{position:"relative",left:"0px",top:y-108+"px",width:"29px",height:"115px"});w.appendChild(S),x.appendChild(b),x.appendChild(v),x.appendChild(w),p.appendChild(g),p.appendChild(x),d.appendChild(p),i?i.parentNode.insertBefore(d,i):e.appendChild(d),this.colorizeCurrentItemColor(d),this.colorizeSaturationItemColor(d),this.addRemoveItemListeners("addEvtListener",d)},this.colorizeCurrentItemColor=function(t){var e=this.$(t.colorCurrent);if(e){var i=this.colorRGBToString(),a=this.hexToRgb("#"+i);e.style.backgroundColor="#"+i,e.innerHTML="&nbsp;&nbsp;"+a,e.style.color=this.complementaryColor(a,!0),e.value=a}},this.colorizeSaturationItemColor=function(t){var e=function(t,e,i,a,s){return"rgb("+t*(1-a/s)*100+"%,"+e*(1-a/s)*100+"%,"+i*(1-a/s)*100+"%)"},i=this.$(t.saturation);if(i&&this.colorHSV){var a=i.childNodes,s=this.hsvFromRgb(this.colorHSV[0],this.colorHSV[1],1);if(s)for(var r=0;r<a.length-1;r++)a[r].style.backgroundColor=e(s[0],s[1],s[2],r,a.length-1)}},this.updateColorItemValue=function(t,e){if(!t){var i=this.getMenuItemComp(e);if(!i)return!1;t=i[0]}if(this.changingColorItemOn)if("palette"==this.changingColorItemOn){var a=this.$(t.palete),s=this.$(t.paleteCurrent);if(a&&s)if(o=this.adjustedCoordinates(e,a)){var r=Math.min(Math.max(0,o.x),181),n=Math.min(Math.max(0,o.y-25),101);s.style.left=r-7+"px",s.style.top=n-7+"px",this.colorFromHsv(6*r/180,1-n/100,null),this.colorizeCurrentItemColor(t),this.colorizeSaturationItemColor(t)}}else{var o,h=this.$(t.saturation),l=this.$(t.saturationCurrent);if(h&&l)if(o=this.adjustedCoordinates(e,h)){n=Math.min(Math.max(0,o.y-25),101);l.style.top=n-108+"px",this.colorFromHsv(null,null,1-n/100),this.colorizeCurrentItemColor(t)}}return!1},this.endColorItemChange=function(t){this.changingColorItemOn=!1},this.addMenuItemSlider=function(t,e,i){for(var a=this.newId("-cX-List-Item-Slider-"),s=this.newId("-cX-List-Item-Slider-Container-"),r=this.newId("-cX-List-Item-Slider-Table-"),n=t[2][0]||"",o=this.formatNumber(this.binConfigurations[n].max,this.binConfigurations[n].dec),h=this.$cX("li",{id:a,className:"CanvasXpressListItem",click:t[1],params:[t[2][0],s],slider:n}),l=this.$cX("a",{id:this.newId("-cX-List-Slider-Item-A-"),className:"CanvasXpressListItemA",hidefocus:"true",unselectable:"on",href:"#"}),c=this.$cX("div",{id:s,className:"CanvasXpressList"}),d=this.$cX("table",{id:r,className:"CanvasXpressListItemTable"},{width:"100%"}),p=this.$cX("tbody"),g=8*o.length,u=0;u<this.binConfigurations[n].n;u++){var m=Number(u>0?this.binConfigurations[n].bins[u-1].value:this.binConfigurations[n].min),f=Number(u<this.binConfigurations[n].n-1?this.binConfigurations[n].bins[u+1].value:this.binConfigurations[n].max),y=this.$cX("input",{id:r+"-Range-"+u,className:"CanvasXpressListItem",type:"range",value:this.binConfigurations[n].bins[u].value,min:m,max:f,step:Number(this.formatNumber((f-m)/20,this.binConfigurations[n].dec)),slider:n,sliderRange:u,sliderNumber:!1},{width:"120px"}),x=this.$cX("input",{id:r+"-Number-"+u,className:"CanvasXpressListItem",type:"number",value:this.binConfigurations[n].bins[u].value,min:m,max:f,step:Number(this.formatNumber((f-m)/20,this.binConfigurations[n].dec)),slider:n,sliderRange:u,sliderNumber:!0},{width:g+18+"px",textAlign:"right"}),b=this.$cX("tr"),v=this.$cX("th",{innerHTML:this.binConfigurations[n].bins[u].name},{paddingRight:"5px"}),A=this.$cX("td",{id:r+"-Min-"+u,innerHTML:this.formatNumber(m,this.binConfigurations[n].dec)},{width:g+"px",textAlign:"right"}),w=this.$cX("td");w.appendChild(y);var C=this.$cX("td",{id:r+"-Max-"+u,innerHTML:this.formatNumber(f,this.binConfigurations[n].dec)},{width:g+"px"}),T=this.$cX("td",!1,{paddingLeft:"5px"});T.appendChild(x),b.appendChild(v),b.appendChild(A),b.appendChild(w),b.appendChild(C),b.appendChild(T),p.appendChild(b)}d.appendChild(p),c.appendChild(d),c.appendChild(this.$cX("br"));var S=this.$cXI("op_refresh",{id:this.newId("-cX-List-Icon-"),className:"CanvasXpressListIcon",src:"op_refresh",key:"refreshForm"},{marginTop:"4px"});l.appendChild(S),l.appendChild(c),h.appendChild(l),i?i.parentNode.insertBefore(h,i):e.appendChild(h),this.addRemoveItemListeners("addEvtListener",h)},this.updateSliderItemValue=function(t){var e=this.changingSliderItemOn.slider,i=this.changingSliderItemOn.sliderRange,a=Number(this.formatNumber(this.changingSliderItemOn.value,this.binConfigurations[e].dec)),s=this.$(this.changingSliderItemOn.id.replace("-Range-","-Number-")),r=this.$(this.changingSliderItemOn.id.replace("-Range-"+i,"-Range-"+(i-1))),n=this.$(this.changingSliderItemOn.id.replace("-Range-"+i,"-Max-"+(i-1))),o=this.$(this.changingSliderItemOn.id.replace("-Range-"+i,"-Range-"+(i+1))),h=this.$(this.changingSliderItemOn.id.replace("-Range-"+i,"-Min-"+(i+1)));return this.binConfigurations[e].bins[i].value=a,s&&(s.value=a),r&&n&&(r.max=a,r.step=(r.max-r.min)/20,n.innerHTML=a),o&&h&&(o.min=a,o.step=(o.max-o.min)/20,h.innerHTML=a),this.applySliderItemValue(e),!1},this.endSliderItemChange=function(t){if(this.changingSliderItemOn.sliderNumber){var e=this.changingSliderItemOn.slider,i=this.changingSliderItemOn.sliderRange,a=Number(this.formatNumber(this.changingSliderItemOn.value,this.binConfigurations[e].dec)),s=this.$(this.changingSliderItemOn.id.replace("-Number-","-Range-")),r=this.$(this.changingSliderItemOn.id.replace("-Number-"+i,"-Range-"+(i-1))),n=this.$(this.changingSliderItemOn.id.replace("-Number-"+i,"-Max-"+(i-1))),o=this.$(this.changingSliderItemOn.id.replace("-Number-"+i,"-Range-"+(i+1))),h=this.$(this.changingSliderItemOn.id.replace("-Number-"+i,"-Min-"+(i+1)));this.binConfigurations[e].bins[i].value=a,s&&(s.value=a),r&&n&&(r.max=a,r.step=(r.max-r.min)/20,n.innerHTML=a),o&&h&&(o.min=a,o.step=(o.max-o.min)/20,h.innerHTML=a),this.applySliderItemValue(e)}this.changingSliderItemOn=!1},this.applySliderItemValue=function(t){var e=this.binConfigurations[t].name,i=this.binConfigurations[t].vi;this.data.x[e]=[];for(var a=0;a<this.data.y.data[i].length;a++){var s=this.data.y.data[i][a];if(isNaN(s)||""===s||null==s)this.data.x[e][a]="";else for(var r=0;r<this.binConfigurations[t].n;r++)if(s<=this.binConfigurations[t].bins[r].value){this.data.x[e][a]=this.binConfigurations[t].bins[r].name;break}}this.isGroupedData&&this.ungroupSamples(!0),this.updateData(this.data),this.groupSamples([e]),this.sortSamplesByCategory([e])},this.addMenuItemFilter=function(t,e,i){var a=this.newId("-cX-List-Item-"),s=this.$cX("li",{id:a,className:"CanvasXpressListItem",type:"filter",selector:t[1].id.split(":")[1]});s.appendChild(t[1]),i?i.parentNode.insertBefore(s,i):e.appendChild(s)},this.addRemoveItemListeners=function(t,e){if(!e)return this.removeMenus();if("CanvasXpressListItemSep"!=e.className){var i=e.parentNode.parentNode,a=!1,s=e.id.match("-cX-List-Item-Color-");if(this.hasClass(i,"draggable")&&!s&&this[t](i,"mousedown",this.registerMousemove,a),e.upload){var r=e.childNodes[0].childNodes[1].childNodes[0];this[t](r,"change",this.loadFile,a)}else if(e.uploadParams){r=e.childNodes[0].childNodes[1].childNodes[0];this[t](r,"change",this.loadParamsFile,a)}else this[t](e,"click",this.clickMenuItem,a);this[t](e,"mouseover",this.mouseoverMenuItem,a),this[t](e,"mouseout",this.mouseoutMenuItem,a),this[t](e,"mousewheel",this.mousewheelMenuItem,a),this[t](e,"contextmenu",this.contextMenuItem,a),e.className.match(/Scroll/)&&(this[t](e,"mousedown",this.mousedownMenuItem,a),this[t](e,"mouseup",this.mouseupMenuItem,a)),e.paleteCurrent&&e.saturation&&this[t](e,"mousedown",this.mousedownMenuItemColor,a),e.slider&&this[t](e,"mousedown",this.mousedownMenuItemSlider,a)}},this.contextMenuItem=(t=this,function(e){t.cancelEvent(e),t.getTargetEvent(e);var i=t.getMenuItemComp(e),a=i[1].childNodes[0],s=i[1].childNodes[1].innerText,r=i[1].menuFunc,n=i[1].menuParm,o=i[1].menuId,h=i[2].offsetLeft,l=i[2].offsetTop+i[1].offsetTop;t.removeMenus();var c=[["Pin "+s+" to Toolbar","fp_pin","pinToToolbar",[a,s,r,n,o,!1,!0]]],d=t.addMenu(e,c),p=t.$(d);return p.style.left=h+"px",p.style.top=l+"px",p.style.display="block",!1}),this.pinToToolbar=function(t,e,i,a,s,r,n){this.removeMenus();var o=this.$(this.target+"-cX-Toolbar-Custom");if(o){var h=this.target+"-cX-Custom-Toolbar-Menu-"+i;this.$(h)||(t.id=h,t.className="CanvasXpressToolbarImage",t.style.width="24px",t.style.height="24px",t.style.cssFloat="left",t.title=e,t.fun=i,t.par=this.stringifyJSON(a),t.mid=s||this.newId("-cX-Default-Toolbar-Menu-"),t.style.setProperty("background-color",this.background,"important"),n?o.insertBefore(t,o.firstChild):o.appendChild(t),this.disableToolbar||(this.addRemoveEvtListener("addEvtListener",t,"click",this.addCustomToolbarMenu,!1),this.addRemoveEvtListener("addEvtListener",t,"contextmenu",this.unpinFromToolbar,!1)),r||CanvasXpress.stack[this.target].afterRender.push(["addImageToToolbar",[t.key,e,i,a,s]]))}},this.unpinFromToolbar=function(t){return function(e){t.cancelEvent(e);var i=t.getTargetEvent(e),a=i.offsetLeft,s=i.offsetTop,r=[["Unpin "+i.title+" from Toolbar","fp_pinremove","removeImageFromToolbar",[i.id]]],n=t.addMenu(e,r),o=t.$(n);return o.style.left=a+"px",o.style.top=s+"px",o.style.display="block",!1}}(this),this.addCustomToolbarMenu=function(t){return function(e){t.cancelEvent(e);var i=t.getTargetEvent(e),a=i.getAttribute("par"),s=t[i.fun].apply(t,a?t.parseJSON(a):[]);if(i.mid){t.removeMenus();var r=t.addMenu(!1,s),n=t.$(r);if(i.id.match(/DataExplorer/)){t.menuIndex<10002&&(t.menuIndex=10002);var o=t.getBoundingClientRect(i);n.style.left=parseInt(o.left)+"px",n.style.top=parseInt(o.top)+"px",n.style.zIndex=t.menuIndex++}else n.style.left=i.offsetLeft+"px",n.style.top="10px";n.style.display="block"}}}(this),this.addImageToToolbar=function(t,e,i,a,s,r,n,o){var h;h=o?this.$cX(t,{className:"CanvasXpressToolbarImage",src:t,key:t},o):this.$cX(t,{className:"CanvasXpressToolbarImage",src:t,key:t}),this.pinToToolbar(h,e,i,a,s,r,n)},this.removeImageFromToolbar=function(t,e){var i=this.$(t);i&&!this.disableToolbar&&(this.addRemoveEvtListener("removeEvtListener",i,"click",this.addCustomToolbarMenu,!1),this.addRemoveEvtListener("removeEvtListener",i,"contextmenu",this.unpinFromToolbar,!1),i.parentNode.removeChild(i),this.removeMenus(),e||CanvasXpress.stack[this.target].afterRender.push(["removeImageFromToolbar",[t]]))},this.removeAllImagesFromToolbar=function(){var t=this.$(this.target+"-cX-Toolbar-Custom");if(t)for(var e=t.getElementsByTagName("svg");e.length>0;)this.removeImageFromToolbar(e[0].id,!0)},this.clickMenuItem=function(t){return function(e){t.cancelEvent(e);var i=t.getTargetEvent(e),a=t.getMenuItemComp(e);if(a&&!/input|textarea|select/i.test(i.tagName)){if(a[0].className.match(/Scroll/)||a[1].className.match(/Scroll/)){var s=a[0].className.match(/Scroll/)?a[0]:a[1],r=s.parentNode,n=s.className.match(/ScrollTop/)?"Top":"Bottom";t.pageMenuItem(r,n)}else{var o=[];if(a[0].params)for(var h=0;h<a[0].params.length;h++)"event"==a[0].params[h]?o.push(e):"component"==a[0].params[h]?o.push(a):o.push(a[0].params[h]);if(t[a[0].click]){t[a[0].click].apply(t,o);var l=a[1].firstChild,c="SVG"==l.tagName.toUpperCase()&&l.getAttribute("key");c&&(c.match("sl_checkboxoff")?(l.setAttribute("key","sl_checkboxon"),t.$cXIU(l,"sl_checkboxon")):c.match("sl_checkboxon")?(l.setAttribute("key","sl_checkboxoff"),t.$cXIU(l,"sl_checkboxoff")):c.match("sl_eclose")?(l.setAttribute("key","sl_eopen"),t.$cXIU(l,"sl_eopen"),a[1].childNodes[1].innerHTML=a[1].childNodes[1].innerHTML.replace("Hide","Show")):c.match("sl_eopen")?(l.setAttribute("key","sl_eclose"),t.$cXIU(l,"sl_eclose"),a[1].childNodes[1].innerHTML=a[1].childNodes[1].innerHTML.replace("Show","Hide")):"sl_lightbulbon"==c?(l.setAttribute("key","sl_lightbulboff"),t.$cXIU(l,"sl_lightbulboff")):"sl_lightbulboff"==c?(l.setAttribute("key","sl_lightbulbon"),t.$cXIU(l,"sl_lightbulbon")):"sr_azd"==c?(l.setAttribute("key","sr_azi"),t.$cXIU(l,"sr_azi"),a[0].params[1]="sr_azi"):"sr_azi"==c?(l.setAttribute("key","sr_azd"),t.$cXIU(l,"sr_azd"),a[0].params[1]="sr_azd"):c.match("sl_radioon")?(t.resetRadioMenuItem(a[2].firstChild.childNodes),o[1]&&o[1].match(/xAxis|yAxis|zAxis/)?(l.setAttribute("key","sl_radioon"),t.$cXIU(l,"sl_radioon")):(l.setAttribute("key","sl_radiooff"),t.$cXIU(l,"sl_radiooff"))):c.match("sl_radiooff")?(t.resetRadioMenuItem(a[2].firstChild.childNodes),l.setAttribute("key","sl_radioon"),t.$cXIU(l,"sl_radioon")):"variables"!=c&&"samples"!=c||"sortDir"!=o[0]||(a[0].params[1]="sr_azd"==a[0].params[1]?"sr_azi":"sr_azd"))}}return!1}return!1}}(this),this.resetRadioMenuItem=function(t){for(var e=0;e<t.length;e++){var i=t[e].firstChild.firstChild;i&&i.nodeName.match(/svg/i)&&this.$cXIU(i,"sl_radiooff",{src:"sl_radiooff",key:"sl_radiooff"})}},this.adjustMenuItemPosition=function(t,e,i){var a,s,r=this.remoteParentId&&this.$(this.remoteParentId)?this.$(this.remoteParentId):this.$("container-"+this.target),n=window.innerWidth,o=(window.innerHeight,r.offsetLeft),h=(r.offsetTop,r.clientWidth,r.clientHeight,n-o),l=t.clientWidth;t.clientHeight;e?((a=e.offsetLeft+e.offsetWidth-5)+l+5>h&&(a=e.offsetLeft-l+5),s=e.offsetTop+i.offsetTop):(a=t.offsetLeft,s=t.offsetTop),t.style.left=a+"px",t.style.top=s+"px"},this.mouseoverMenuItem=function(t){return function(e){var i=t.getMenuItemComp(e);if(!i)return!1;if(i[0]&&i[0].className&&i[0].className.toString().match(/Scroll/)||i[1]&&i[1].className&&i[1].className.toString().match(/Scroll/))return(i[0]&&i[0].className&&i[0].className.match(/Scroll/)?i[0]:i[1]).className+="Active",!1;var a=i[2].firstChild.childNodes;if(t.hideMenusRecursively(a),i[0].className="CanvasXpressListItemActive",i[1]&&i[1].menu){var s=t[i[1].menuFunc].apply(t,i[1].menuParm),r=t.addMenu(!1,s,i[1].menu,!1,!1,!1,!1,!1,"Scheme"==i[1].innerText),n=t.$(r),o=i[2];n.style.left="0px",n.style.top="0px",n.style.display="block",t.adjustMenuItemPosition(n,o,i[1]),i[1].className="CanvasXpressListItemAArrowActive",i[1].menuId=r}else i[1]&&(i[1].className="CanvasXpressListItemAActive");return!1}}(this),this.mouseoutMenuItem=function(t){return function(e){var i,a,s,r;t.fastScrollMenuOn&&(t.fastScrollMenuOn=!1,clearInterval(t.fastScrollMenu));var n=t.adjustedCoordinates(e);if(n){var o=t.$("north-container-"+t.target),h=t.$("west-container-"+t.target);n.x+=h.offsetWidth,n.y+=o.offsetHeight;var l=t.getMenuItemComp(e);if(!l)return!1;if(l[1]&&l[1].menu){var c=t.$(l[1].menuId),d=c.firstChild.firstChild;if(i=c.offsetLeft,s=c.offsetTop,a=i+c.offsetWidth,r=s+c.offsetHeight,n.x>=i&&n.x<=a&&n.y>=s&&n.y<=r)return!1;if(t.hideMenu(l,c),d&&"filter"==d.type)if("string"==d.firstChild.type){var p=t.$(t.target+":"+d.selector+":cX-DataFilterMask");p&&t.addRemoveStringDataFilterListeners("removeEvtListener",p)}else{var g=t.$(t.target+":"+d.selector+":cX-DataFilterMin"),u=t.$(t.target+":"+d.selector+":cX-DataFilterMinLabel"),m=t.$(t.target+":"+d.selector+":cX-DataFilterRange"),f=t.$(t.target+":"+d.selector+":cX-DataFilterMax"),y=t.$(t.target+":"+d.selector+":cX-DataFilterMaxLabel"),x=t.$(t.target+":"+d.selector+":cX-DataFilterScale");g&&u&&m&&f&&y&&x&&t.addRemoveNumericDataFilterListeners("removeEvtListener",g,f,u,y,x)}}else t.hideMenu(l)}return!1}}(this),this.mousedownMenuItemColor=function(t){return function(e){var i=t.getTargetEvent(e),a=t.getMenuItemComp(e);if(!a)return!1;if(i.id&&i.id.match(/-cX-List-Item-Color-Palete-/)){if(t.changingColorItemOn="palette",0==t.colorHSV[2]){t.colorFromHsv(null,null,1),t.colorizeCurrentItemColor(a[0]);var s=t.$(a[0].saturationCurrent);s&&(s.style.top="-108px")}t.updateColorItemValue(a[0],e),t.colorizeSaturationItemColor(a[0])}else i.parentNode.id&&i.parentNode.id.match(/-cX-List-Item-Color-Saturation-/)&&(t.changingColorItemOn="saturation",t.updateColorItemValue(a[0],e));return t.cancelEvent(e),!1}}(this),this.mousedownMenuItemSlider=function(t){return function(e){return t.changingSliderItemOn=t.getTargetEvent(e),!1}}(this),this.mousedownMenuItem=function(t){return function(e){return t.fastScrollMenuOn=!0,t.fastScrollMenu=t.setInterval((function(){t.clickMenuItem(e)}),100),!1}}(this),this.mouseupMenuItem=function(t){return function(e){t.fastScrollMenuOn&&(t.fastScrollMenuOn=!1,clearInterval(t.fastScrollMenu))}}(this),this.mousewheelMenuItem=function(t){return function(e){t.cancelEvent(e);var i=0;if(e.wheelDelta?(i=e.wheelDelta,window.opera&&(i=-i)):e.detail&&(i=-e.detail),i){t.getTargetEvent(e);var a=t.getMenuItemComp(e);if(!a)return!1;var s=a[0].parentNode;i>0?t.pageMenuItem(s,"Top"):t.pageMenuItem(s,"Bottom")}return!1}}(this),this.getMenuItemComp=function(t){for(var e=this.getTargetEvent(t);e&&e.tagName&&!e.tagName.match(/li/i);)e=e.parentNode;return!(!e.parentNode||!e.parentNode.parentNode)&&[e,e.firstChild,e.parentNode.parentNode]},this.hideMenu=function(t,e){if(t)if(t[0]&&t[0].className&&t[0].className.toString().match(/Scroll/)||t[1]&&t[1].className&&t[1].className.toString().match(/Scroll/)){var i=t[0]&&t[0].className&&t[0].className.match(/Scroll/)?t[0]:t[1];i.className=i.className.replace("Active","")}else(t[0]||t[1])&&(t[1]&&t[1].menu?t[1].className="CanvasXpressListItemAArrow":t[1]&&(t[1].className="CanvasXpressListItemA"),t[0]&&(t[0].className="CanvasXpressListItem"));if(e){for(var a=e.firstChild.childNodes,s=0;s<a.length;s++){var r=a[s];r.className.match(/Scroll|ItemSep/)||this.addRemoveItemListeners("removeEvtListener",r)}e.parentNode.removeChild(e)}},this.hideMenusRecursively=function(t){for(var e=0;e<t.length;e++){var i=t[e];if(i&&i.className&&!i.className.toString().match(/Scroll|ItemSep/)){var a=i.firstChild,s=!(!a||!a.menu)&&this.$(a.menuId);s&&this.hideMenusRecursively(s.firstChild.childNodes),this.hideMenu([i,a],s)}}},this.removeMenus=function(t){var e=[];if(this.skipHeaderMouseout&&(this.skipHeaderMouseout.className="CanvasXpressTableCellHead",this.skipHeaderMouseout.firstChild.firstChild.className="CanvasXpressTableCellHead",this.skipHeaderMouseout=!1),t)e.push(this.$(this.target+"-cX-Menu-"+t));else{var i=this.$("north-wrapper-"+this.target);if(i)for(var a=i.getElementsByTagName("div"),s=0;s<a.length;s++)this.hasClass(a[s],"CanvasXpressMenu")&&e.unshift(this.$(a[s].id));this.menuIndex=1e4}if(e.length>0){for(s in this.meta.ids)s.match(/cX-Menu-|cX-Menu/)&&delete this.meta.ids[s];for(s=0;s<e.length;s++){for(var r=e[s],n=r.getElementsByTagName("li"),o=0;o<n.length;o++)"CanvasXpressListItemSep"!=n[o].className&&this.addRemoveItemListeners("removeEvtListener",n[o]);r.parentNode.removeChild(r)}}this.isMenu=!1},this.changeAttributeMenu=function(t,e,i,a){var s=[];if(a)for(var r=0;r<e.length;r++)s.push([e[r],a[r],"changeAttribute",[t,i[r]]]);else for(r=0;r<e.length;r++)s.push([e[r],this[t]==i[r]?"sl_radioon":"sl_radiooff","changeAttribute",[t,i[r]]]);return s},this.changeTextColorAttributeMenu=function(t,e){return this.isArray(e)?[[t,"changeTextColorAttribute",e]]:[[t,"changeTextColorAttribute",[e]]]},this.getAxisLayoutTypeMenu=function(){var t=[];return t.push(["Both panels ","both"==this.scatterPlotMatrixType?"sl_radioon":"sl_radiooff","modifyLayoutType",["both"]]),t.push(["Upper panel ","upper"==this.scatterPlotMatrixType?"sl_radioon":"sl_radiooff","modifyLayoutType",["upper"]]),t.push(["Lower panel ","lower"==this.scatterPlotMatrixType?"sl_radioon":"sl_radiooff","modifyLayoutType",["lower"]]),t.push(["Correlation ","densityCorrelation"==this.scatterPlotMatrixType?"sl_radioon":"sl_radiooff","modifyLayoutType",["correlation"]]),t.push(["Correlation - Density ","correlationDensity"==this.scatterPlotMatrixType?"sl_radioon":"sl_radiooff","modifyLayoutType",["correlationDensity"]]),t.push(["Correlation - Histogram ","correlationHistogram"==this.scatterPlotMatrixType?"sl_radioon":"sl_radiooff","modifyLayoutType",["correlationHistogram"]]),t.push(["All ","all"==this.scatterPlotMatrixType?"sl_radioon":"sl_radiooff","modifyLayoutType",["all"]]),t.push(["First ","first"==this.scatterPlotMatrixType?"sl_radioon":"sl_radiooff","modifyLayoutType",["first"]]),t},this.getAxisLayoutMenu=function(){var t=[];return t.push(["Auto-Adjust",this.layoutAdjust?"sl_lightbulbon":"sl_lightbulbOff","toggleAttribute",["layoutAdjust"]]),t.push(["Type","ly_splom",!1,!1,!1,"getAxisLayoutTypeMenu",[]]),t},this.getAxisSampleMenu=function(t){for(var e=[],i=this.getObjectArray(this[t+"Axis"]),a=0;a<this.data.y.smps.length;a++)e.push([this.data.y.smps[a],i[this.data.y.smps[a]]?"sl_checkboxon":"sl_checkboxoff","changeSampleInAxis",[this.data.y.smps[a],t+"Axis"]]);return e},this.getAxisMenu=function(t,e){var i=t.toUpperCase(),a=e?"2":"",s=[],r=!1;return s.push([this[t+"Axis"+a+"Show"]?"Hide Axis":"Show Axis",this[t+"AxisShow"]?"sl_eclose":"sl_eopen","toggleAttribute",[t+"Axis"+a+"Show"]]),s.push(["Set Min","dtp_min",r,r,r,"changeTextColorAttributeMenu",["-text-","setMin"+i+a]]),s.push(["Set Max","dtp_max",r,r,r,"changeTextColorAttributeMenu",["-text-","setMax"+i+a]]),s.push(["Transform","ch_ofx",r,r,r,"getAxisTransformMenu",[t]]),("Scatter3D"==this.graphType||"ScatterBubble2D"==this.graphType||this.is3DPlot)&&s.push(["Exact Range","dtp_exact","toggleAttribute",[t+"AxisExact"]]),s.push(["Format","tx_format",r,r,r,"changeTextColorAttributeMenu",["-text-",t+"Axis"+a+"TickFormat"]]),this.graphType.match(/Scatter/)&&s.push(["Samples","ch_ls",r,r,r,"getAxisSampleMenu",[t]]),s},this.getFirstAxisMenu=function(){return[[this.xAxisShow?"Hide Axis":"Show Axis",this.xAxisShow?"sl_eclose":"sl_eopen","toggleAttribute",["xAxisShow"]]]},this.getSecondAxisMenu=function(){return[[this.xAxis2Show?"Hide Axis":"Show Axis",this.xAxis2Show?"sl_eclose":"sl_eopen","toggleAttribute",["xAxis2Show"]]]},this.getRangeAxisMenu=function(){var t=[],e=!1;return t.push(["Set Min","dtp_min",e,e,e,"changeTextColorAttributeMenu",["-text-","setMinX"]]),t.push(["Set Max","dtp_max",e,e,e,"changeTextColorAttributeMenu",["-text-","setMaxX"]]),t},this.getAxesMenu=function(){var t=[],e=!1;return"Scatter2D"==this.graphType?(t.push(["X-Axis","p_g2axistitlex",e,e,e,"getAxisMenu",["x"]]),t.push(["Y-Axis","p_g2axistitley",e,e,e,"getAxisMenu",["y"]]),t.push(["Color","at_col",e,e,e,"changeTextColorAttributeMenu",["-color-","axisTickColor"]]),t.push(["Font","ch_oaa",e,e,e,"getFontStyleMenu",["axisTick"]]),this.scatterPlotMatrix&&t.push(["Axes Layout","g_splom",e,e,e,"getAxisLayoutMenu",[]])):"Scatter3D"==this.graphType||"ScatterBubble2D"==this.graphType||this.is3DPlot?(t.push(["X-Axis","p_g3axistitlex",e,e,e,"getAxisMenu",["x"]]),t.push(["Y-Axis","p_g3axistitley",e,e,e,"getAxisMenu",["y"]]),t.push(["Z-Axis","p_g3axistitlez",e,e,e,"getAxisMenu",["z"]]),t.push(["Color","at_col",e,e,e,"changeTextColorAttributeMenu",["-color-","axisTickColor"]]),t.push(["Font","ch_oaa",e,e,e,"getFontStyleMenu",["axisTick"]])):this.graphType.match(/BarLine|DotLine|AreaLine|StackedLine|StackedPercentLine/)?(t.push(["First Axis","p_g1axistitle1",e,e,e,"getAxisMenu",["x"]]),t.push(["Second Axis","p_g1axistitle2",e,e,e,"getAxisMenu",["x",!0]]),t.push(["Color","at_col",e,e,e,"changeTextColorAttributeMenu",["-color-","axisTickColor"]]),t.push(["Font","ch_oaa",e,e,e,"getFontStyleMenu",["axisTick"]])):(t.push(["First Axis","p_g1axistitle1",e,e,e,"getFirstAxisMenu",[]]),t.push(["Second Axis","p_g1axistitle2",e,e,e,"getSecondAxisMenu",[]]),t.push(["Range","dtp_range",e,e,e,"getRangeAxisMenu",[]]),t.push(["Format","tx_format",e,e,e,"changeTextColorAttributeMenu",["-text-","xAxisTickFormat"]]),t.push(["Color","at_col",e,e,e,"changeTextColorAttributeMenu",["-color-","axisTickColor"]]),t.push(["Font","ch_oaa",e,e,e,"getFontStyleMenu",["axisTick"]]),this.layoutValid&&t.push(["Auto-Adjust",this.layoutAdjust?"sl_lightbulbon":"sl_lightbulboff","toggleAttribute",["layoutAdjust"]])),t},this.getHeatmapBoxMenu=function(){var t=[],e=!1;return t.push(["Color","at_col",e,e,e,"changeTextColorAttributeMenu",["-color-","heatmapCellBoxColor"]]),t.push(["Width","sp_thickness2",e,e,e,"changeTextColorAttributeMenu",["-text-","heatmapCellBoxWidth"]]),t.push([this.heatmapCellBox?"Hide Box":"Show Box",this.heatmapCellBox?"sl_eclose":"sl_eopen","toggleAttribute",["heatmapCellBox"]]),t},this.getHeatmapHighlightMenu=function(){return[["Color","at_col",!1,!1,!1,"changeTextColorAttributeMenu",["-color-","heatmapCellBoxColorHighlight"]]]},this.getHeatmapVarSmpSeparatorsMenu=function(t,e,i){var a=this.meta.data,s=[];if(a[t]&&e.length>0){for(var r={},n=0;n<e.length;n++){var o=e[n];"Numeric"!=a[t][o].type&&(r[o]=!0)}var h=this.sortObject(r);for(n=0;n<h.length;n++)s.push([h[n],h[n]==this[i]?"sl_radioon":"sl_radiooff","changeAttribute",[i,h[n]]])}return s},this.getHeatmapSeparatorsMenu=function(){var t=[],e=!1;return this.isStringOverlays("v")&&t.push(["Variables","ch_lv",e,e,e,"getHeatmapVarSmpSeparatorsMenu",["z",this.varOverlays,"heatmapVarSeparateBy"]]),this.isStringOverlays("s")&&t.push(["Samples","ch_ls",e,e,e,"getHeatmapVarSmpSeparatorsMenu",["x",this.smpOverlays,"heatmapSmpSeparateBy"]]),t},this.getHeatmapMenu=function(){var t=[],e=!1;return t.push(["Cell Boxes","dps_square",e,e,e,"getHeatmapBoxMenu",[]]),t.push(["Highlight","gc_ghcell",e,e,e,"getHeatmapHighlightMenu",[]]),this.isStringOverlays()&&t.push(["Separators","gc_ghspace",e,e,e,"getHeatmapSeparatorsMenu",[]]),this.isOncoprint&&(t.push(["Oncoprint <-> Heatmap","op_refresh","toggleAttribute",["oncoprintHeatmapSwitch"]]),t.push([this.oncoprintNoAlterations?"Hide No Alterations":"Show No Alterations",this.oncoprintNoAlterations?"sl_eclose":"sl_eopen","toggleAttribute",["oncoprintNoAlterations","modifyOncoprintNoAlterations"]])),t},this.getPlotAreaMajorTicksMenu=function(t){return[[this[t]?"Hide Major Ticks":"Show Major Ticks",this[t]?"sl_eclose":"sl_eopen","toggleAttribute",[t]]]},this.getPlotAreaMinorTicksMenu=function(t){return[[this[t]?"Hide Minor Ticks":"Show Minor Ticks",this[t]?"sl_eclose":"sl_eopen","toggleAttribute",[t]]]},this.getPlotAreaTickTypeMenu=function(t){var e=[];return e.push(["Solid","gr_stylesolid","changeAttribute",[t,"solid"]]),e.push(["Dotted","gr_styledotted","changeAttribute",[t,"dotted"]]),e.push(["Dashed","gr_styledashed","changeAttribute",[t,"dashed"]]),e},this.getPlotAreaGridMenu=function(t){var e=[],i=!1;return e.push(["Color","at_col",i,i,i,"changeTextColorAttributeMenu",["-color-",t+"AxisTickColor"]]),"Scatter3D"==this.graphType||this.is3DPlot||(e.push(["Major Ticks","gr_major",i,i,i,"getPlotAreaMajorTicksMenu",[t+"AxisMajorTicks"]]),e.push(["Minor Ticks","gr_minor",i,i,i,"getPlotAreaMinorTicksMenu",[t+"AxisMinorTicks"]]),e.push(["Number","ch_snumber",i,i,i,"changeTextColorAttributeMenu",["-text-",t+"AxisTicks"]])),e.push(["Style","gr_style",i,i,i,"getPlotAreaTickTypeMenu",[t+"AxisTickStyle"]]),e},this.getPlotAreaScatterGridMenu=function(){var t=[],e=!1;return"Scatter2D"==this.graphType||"ScatterBubble2D"==this.graphType?(t.push(["X-Axis","gr_g2x",e,e,e,"getPlotAreaGridMenu",["x"]]),t.push(["Y-Axis","gr_g2y",e,e,e,"getPlotAreaGridMenu",["y"]])):("Scatter3D"==this.graphType||this.is3DPlot)&&(t.push(["X-Axis","gr_g2x",e,e,e,"getPlotAreaGridMenu",["x"]]),t.push(["Y-Axis","gr_g2y",e,e,e,"getPlotAreaGridMenu",["y"]]),t.push(["Z-Axis","gr_g2z",e,e,e,"getPlotAreaGridMenu",["z"]])),t},this.getPlotAreaAxisAlgorithmMenu=function(){return this.changeAttributeMenu("axisAlgorithm",["Heckbert","R Pretty","Wilkinson","Wilkinson Extended"],["heckbert","rPretty","wilkinson","wilkinsonExtended"])},this.getPlotAreaBarsTypeMenu=function(){return this.changeAttributeMenu("errorBarsType",["Standard Deviation","Standard Error of Mean","95% Confidence Interval"],["standardDeviation","standardErrorMean","confidenceInterval95"])},this.getPlotAreaErrorBarsMenu=function(){var t=[],e=!1;return t.push(["Color","at_col",e,e,e,"changeTextColorAttributeMenu",["-color-","errorBarsColor"]]),t.push(["Thickness","sp_thickness",e,e,e,"changeTextColorAttributeMenu",["-text-","errorBarsThickness"]]),t.push(["Type","ch_lt",e,e,e,"getPlotAreaBarsTypeMenu",[]]),t.push([this.showErrorBars?"Hide Error Bars":"Show Error Bars",this.showErrorBars?"sl_eclose":"sl_eopen","toggleAttribute",["showErrorBars"]]),t},this.getPlotAreaOneVariableSpaceMenu=function(){var t=[];return t.push(["Farther","sp_farther","setFontAttributeSize",["variableSpaceFactor","increase"]]),t.push(["Closer","sp_closer","setFontAttributeSize",["variableSpaceFactor","decrease"]]),t},this.getPlotAreaOneSampleWidthMenu=function(){var t=[];return t.push(["Wider","sp_thicker","setFontAttributeSize",["widthFactor","increase"]]),t.push(["Thinner","sp_thinner","setFontAttributeSize",["widthFactor","decrease"]]),t},this.getBoxplotMedianMenu=function(){var t=[],e=!1;return t.push(["Median Color","at_col",e,e,e,"changeTextColorAttributeMenu",["-color-","boxplotMedianColor"]]),t.push(["Width","sp_thickness",e,e,e,"changeTextColorAttributeMenu",["-text-","boxplotMedianWidth"]]),t},this.getBoxplotMeanMenu=function(){var t=[],e=!1;return t.push(["Mean Color","at_col",e,e,e,"changeTextColorAttributeMenu",["-color-","boxplotMeanColor"]]),t.push(["Mean Border Color","at_col",e,e,e,"changeTextColorAttributeMenu",["-color-","boxplotMeanColorBorder"]]),t.push([this.boxplotMean?"Hide Mean":"Show Mean",this.boxplotMean?"sl_eclose":"sl_eopen","toggleAttribute",["boxplotMean"]]),t},this.getWhiskersMenu=function(){return this.changeAttributeMenu("boxplotWhiskersType",["None","Single","Double"],["none","single","double"],["bx_wishkersn","bx_wishkerss","bx_wishkersd"])},this.getBoxplotTypeMenu=function(){return this.changeAttributeMenu("boxplotType",["Box and Whiskers","Range"],["boxWhiskers","range"])},this.getBinAlignmentMenu=function(){return this.changeAttributeMenu("binAlignment",["Left","Center","Right"],["left","center","right"],["dp_binl","dp_binc","dp_binr"])},this.getDataPointsMenu=function(){var t=[];return t.push(["Jitter","dp_jittered","toggleAttribute",["jitter"]]),t.push(["Binned","dp_binned","toggleAttribute",["binned"]]),t.push(["Bin Aligment","dp_bin",!1,!1,!1,"getBinAlignmentMenu",[]]),"Boxplot"==this.graphType&&t.push([this.showBoxplotOriginalData?"Hide Data":"Show Data",this.showBoxplotOriginalData?"sl_eclose":"sl_eopen","toggleAttribute",["showBoxplotOriginalData"]]),t},this.getBoxplotAttributesMenu=function(){var t=[],e=!1;return t.push(["Notch","bx_notched","toggleAttribute",["boxplotNotched"]]),t.push(["Whiskers","bx_wishkers",e,e,e,"getWhiskersMenu"]),t.push(["Boxplot Mean","bx_mean",e,e,e,"getBoxplotMeanMenu",[]]),t.push(["Boxplot Median","bx_medianw",e,e,e,"getBoxplotMedianMenu",[]]),t},this.getViolinTrimMenu=function(){return this.changeAttributeMenu("violinTrim",["Trim","Not Trim"],[!0,!1])},this.getViolinScaleMenu=function(){return this.changeAttributeMenu("violinScale",["Area","Count","Width"],["area","count","width"])},this.getViolinAttributesMenu=function(){var t=[],e=!1;return t.push(["Trim","bx_violin",e,e,e,"getViolinTrimMenu",[]]),t.push(["Scale","wp_scale",e,e,e,"getViolinScaleMenu",[]]),t.push(["Adjust","ch_la",e,e,e,"changeTextColorAttributeMenu",["-text-",["bandwidthAdjust"]]]),t.push([this.showBoxplotIfViolin?"Hide Boxplot":"Show Boxplot",this.showBoxplotIfViolin?"sl_eclose":"sl_eopen","toggleAttribute",["showBoxplotIfViolin"]]),t.push(["Boxplot ratio","sp_thickness",e,e,e,"changeTextColorAttributeMenu",["-text-","boxplotWidthRatioIfViolin"]]),t.push([this.showViolinBoxplot?"Hide Violin":"Show Violin",this.showViolinBoxplot?"sl_eclose":"sl_eopen","toggleAttribute",["showViolinBoxplot"]]),t},this.getBoxplotMenu=function(){var t=[],e=!1;return t.push(["Type","bx_type",e,e,e,"getBoxplotTypeMenu",[]]),t.push(["Var Width","sp_thickness","toggleAttribute",["boxplotVarWidth"]]),t.push(["Data Points","bx_data",e,e,e,"getDataPointsMenu",[]]),t.push(["Attributes","bx_median",e,e,e,"getBoxplotAttributesMenu",[]]),t.push(["Violin Attributes","bx_violin",e,e,e,"getViolinAttributesMenu",[]]),t.push(["Connect Boxplot","bx_connect","toggleAttribute",["boxplotConnect"]]),t},this.getPlotAreaOneMenu=function(){var t=[],e=!1;return t.push(["Axis Algorithm","ga_axisx",e,e,e,"getPlotAreaAxisAlgorithmMenu",[]]),t.push(["Error Bars","gc_gerrors",e,e,e,"getPlotAreaErrorBarsMenu",[]]),t.push(["Border Color","at_col",e,e,e,"changeTextColorAttributeMenu",["-color-","plotBoxColor"]]),t.push([this.plotBox?"Hide Border":"Show Border",this.plotBox?"sl_eclose":"sl_eopen","toggleAttribute",["plotBox"]]),this.graphType.match(/Bar|Boxplot/)&&this.data.y.vars.length>1&&t.push(["Variable Space","sp_spacing",e,e,e,"getPlotAreaOneVariableSpaceMenu",[]]),t.push(["Sample Width","sp_thickness",e,e,e,"getPlotAreaOneSampleWidthMenu",[]]),t},this.getPlotAreaScatterMenu=function(){var t=[],e=!1;return t.push(["Axis Algorithm","Scatter3D"==this.graphType||this.is3DPlot?"ga_axisxyz":"ga_axisxy",e,e,e,"getPlotAreaAxisAlgorithmMenu",[]]),t.push(["Error Bars","gc_gerrors",e,e,e,"getPlotAreaErrorBarsMenu",[]]),t.push(["Border Color","at_col",e,e,e,"changeTextColorAttributeMenu",["-color-","plotBoxColor"]]),t.push([this.plotBox?"Hide Border":"Show Border",this.plotBox?"sl_eclose":"sl_eopen","toggleAttribute",["plotBox"]]),t},this.getAxesTitleXMenu=function(){return[["Text","ch_oa",!1,!1,!1,"changeTextColorAttributeMenu",["-text-","xAxisTitle"]]]},this.getAxesTitleX2Menu=function(){return[["Text","ch_oa",!1,!1,!1,"changeTextColorAttributeMenu",["-text-","xAxis2Title"]]]},this.getAxesTitleYMenu=function(){return[["Text","ch_oa",!1,!1,!1,"changeTextColorAttributeMenu",["-text-","yAxisTitle"]]]},this.getAxesTitleZMenu=function(){return[["Text","ch_oa",!1,!1,!1,"changeTextColorAttributeMenu",["-text-","zAxisTitle"]]]},this.getAxesTitleMenu=function(){var t=[],e=!1;return this.graphType.match(/scatter/i)||this.is3DPlot?"Scatter3D"==this.graphType||this.is3DPlot?(t.push(["X-Axis","p_g3axistitlex",e,e,e,"getAxesTitleXMenu",[]]),t.push(["Y-Axis","p_g3axistitley",e,e,e,"getAxesTitleYMenu",[]]),t.push(["Z-Axis","p_g3axistitlez",e,e,e,"getAxesTitleZMenu",[]])):(t.push(["X-Axis","p_g2axistitlex",e,e,e,"getAxesTitleXMenu",[]]),t.push(["Y-Axis","p_g2axistitley",e,e,e,"getAxesTitleYMenu",[]])):(t.push(["First Axis","p_g1axistitle1",e,e,e,"getAxesTitleXMenu",[]]),t.push(["Second Axis","p_g1axistitle2",e,e,e,"getAxesTitleX2Menu",[]])),t.push(["Color","at_col",e,e,e,"changeTextColorAttributeMenu",["-color-","axisTitleColor"]]),t.push(["Font","ch_oaa",e,e,e,"getFontStyleMenu",["axisTitle"]]),t},this.getTitleMenu=function(){var t=[],e=!1;return t.push(["Color","at_col",e,e,e,"changeTextColorAttributeMenu",["-color-","titleColor"]]),t.push(["Font","ch_oaa",e,e,e,"getFontStyleMenu",["title"]]),t.push(["Text","ch_oa",e,e,e,"changeTextColorAttributeMenu",["-text-","title"]]),t},this.getSubtitleMenu=function(){var t=[],e=!1;return t.push(["Color","at_col",e,e,e,"changeTextColorAttributeMenu",["-color-","subtitleColor"]]),t.push(["Font","ch_oaa",e,e,e,"getFontStyleMenu",["subtitle"]]),t.push(["Text","ch_oa",e,e,e,"changeTextColorAttributeMenu",["-text-","subtitle"]]),t},this.getTitleSubtitleMenu=function(){var t=[],e=!1;return this.graphType.match(/scatter/i)||this.is3DPlot?(t.push(["Title","p_g2title",e,e,e,"getTitleMenu",[]]),t.push(["Subtitle","p_g2subtitle",e,e,e,"getSubtitleMenu",[]])):(t.push(["Title","Heatmap"==this.graphType?"p_ghtitle":"p_g1title",e,e,e,"getTitleMenu",[]]),t.push(["Subtitle","Heatmap"==this.graphType?"p_ghsubtitle":"p_g1subtitle",e,e,e,"getSubtitleMenu",[]])),t},this.getLegendLocationMenu=function(){var t=[];return t.push(["Inside Plot","dps_toinside","changeAttribute",["legendInside",!0]]),t.push(["Outside Plot","dps_tooutside","changeAttribute",["legendInside",!1]]),t},this.getLegendPositionMenu=function(){var t=[];return this.legendInside?(t.push(["Top","ps_top","changeAttribute",["legendPosition","top"]]),t.push(["Top Right","ps_topright","changeAttribute",["legendPosition","topRight"]]),t.push(["Right","ps_right","changeAttribute",["legendPosition","right"]]),t.push(["Bottom Right","ps_bottomright","changeAttribute",["legendPosition","bottomRight"]]),t.push(["Bottom","ps_bottom","changeAttribute",["legendPosition","bottom"]]),t.push(["Bottom Left","ps_bottomleft","changeAttribute",["legendPosition","bottomLeft"]]),t.push(["Left","ps_left","changeAttribute",["legendPosition","left"]]),t.push(["Top Left","ps_topleft","changeAttribute",["legendPosition","topLeft"]])):(t.push(["Top","ps_top","changeAttribute",["legendPosition","top"]]),t.push(["Bottom","ps_bottom","changeAttribute",["legendPosition","bottom"]]),t.push(["Right","ps_right","changeAttribute",["legendPosition","right"]]),t.push(["Left","ps_left","changeAttribute",["legendPosition","left"]])),t},this.getLegendBorderMenu=function(){var t=[];return t.push(["Color","at_col",!1,!1,!1,"changeTextColorAttributeMenu",["-color-","legendBoxColor"]]),t.push([this.legendBox?"Hide Border":"Show Border",this.legendBox?"sl_eclose":"sl_eopen","toggleAttribute",["legendBox"]]),t},this.getLegendMenu=function(){var t=[],e=!1;return t.push(["Border","dps_square",e,e,e,"getLegendBorderMenu",[]]),t.push(["Background","b_bbody",e,e,e,"changeTextColorAttributeMenu",["-color-","legendBackgroundColor"]]),t.push(["Color","at_col",e,e,e,"changeTextColorAttributeMenu",["-color-","legendColor"]]),t.push(["Font","ch_oaa",e,e,e,"getFontStyleMenu",["legend"]]),"Network"!=this.graphType&&(t.push(["Position",this.legendInside?"ps_toloc3":"ps_toloc2",e,e,e,"getLegendPositionMenu",[]]),t.push(["Location","ps_toloc",e,e,e,"getLegendLocationMenu",[]])),t.push(["Columns","ch_snumber",e,e,e,"changeTextColorAttributeMenu",["-text-","legendColumns"]]),"Network"!=this.graphType&&t.push(["Reset Positions","op_refresh","resetLegendPosition"]),t.push([this.showLegend?"Hide Legend":"Show Legend",this.showLegend?"sl_eclose":"sl_eopen","toggleAttribute",["showLegend"]]),t},this.getIndicatorPositionMenu=function(){var t=[];return t.push(["Right","ps_right","changeAttribute",["heatmapIndicatorPosition","right"]]),t.push(["Top Right","ps_topright","changeAttribute",["heatmapIndicatorPosition","topRight"]]),t.push(["Top","ps_top","changeAttribute",["heatmapIndicatorPosition","top"]]),t.push(["Top Left","ps_topleft","changeAttribute",["heatmapIndicatorPosition","topLeft"]]),t},this.getIndicatorMenu=function(){var t=[],e=!1;return t.push(["Position","ps_toloc2",e,e,e,"getIndicatorPositionMenu",[]]),t.push(["Height","sp_heightness",e,e,e,"changeTextColorAttributeMenu",["-text-","heatmapIndicatorHeight"]]),t.push(["Width","sp_thickness",e,e,e,"changeTextColorAttributeMenu",["-text-","heatmapIndicatorWidth"]]),t.push(["Histogram","i_hist","toggleAttribute",["heatmapIndicatorHistogram"]]),t.push([this.showHeatmapIndicator?"Hide Indicator":"Show Indicator",this.showHeatmapIndicator?"sl_eclose":"sl_eopen","toggleAttribute",["showHeatmapIndicator"]]),t},this.getDecorationsBorderMenu=function(){var t=[];return t.push(["Color","at_col",!1,!1,!1,"changeTextColorAttributeMenu",["-color-","decorationsBoxColor"]]),t.push([this.decorationsBox?"Hide Border":"Show Border",this.decorationsBox?"sl_eclose":"sl_eopen","toggleAttribute",["decorationsBox"]]),t},this.getDecorationsPositionMenu=function(){var t=[];return this.legendInside?(t.push(["Top","ps_top","changeAttribute",["decorationsPosition","top"]]),t.push(["Top Right","ps_topright","changeAttribute",["decorationsPosition","topRight"]]),t.push(["Right","ps_right","changeAttribute",["decorationsPosition","right"]]),t.push(["Bottom Right","ps_bottomright","changeAttribute",["decorationsPosition","bottomRight"]]),t.push(["Bottom","ps_bottom","changeAttribute",["decorationsPosition","bottom"]]),t.push(["Bottom Left","ps_bottomleft","changeAttribute",["decorationsPosition","bottomLeft"]]),t.push(["Left","ps_left","changeAttribute",["decorationsPosition","left"]]),t.push(["Top Left","ps_topleft","changeAttribute",["decorationsPosition","topLeft"]])):(t.push(["Bottom","ps_bottom","changeAttribute",["decorationsPosition","bottom"]]),t.push(["Right","ps_right","changeAttribute",["decorationsPosition","right"]])),t},this.getDecorationsDataMenu=function(){return[[this.showDecorations?"Hide Decorations":"Show Decorations",this.showDecorations?"sl_eclose":"sl_eopen","toggleAttribute",["showDecorations"]]]},this.getDecorationsLegendMenu=function(){return[[this.showDecorationsLegend?"Hide Decorations Legend":"Show Decorations Legend",this.showDecorationsLegend?"sl_eclose":"sl_eopen","toggleAttribute",["showDecorationsLegend"]]]},this.getDecorationsConfidenceLevelMenu=function(){for(var t=[],e=[.5,.75,.8,.85,.9,.95,.99],i=0;i<e.length;i++)t.push([e[i],this.confidenceLevel==e[i]?"sl_radioon":"sl_radiooff","changeAttribute",["confidenceLevel",e[i],!1,!!this.isKM&&"updateKaplanMeier"]]);return t},this.getDecorationsConfidenceTypeMenu=function(){for(var t=[],e=["ordinary","log","loglog"],i=0;i<e.length;i++)t.push([e[i],this.confidenceIntervalType==e[i]?"sl_radioon":"sl_radiooff","changeAttribute",["confidenceIntervalType",e[i],!1,!!this.isKM&&"updateKaplanMeier"]]);return t},this.getDecorationsConfidenceIntervalsMenu=function(){var t=!1,e=[];return(this.decorations.reg||this.isKM)&&e.push([this.showConfidenceIntervals?"Hide Confidence Intervals":"Show Confidence Intervals",this.showConfidenceIntervals?"sl_eclose":"sl_eopen","toggleAttribute",["showConfidenceIntervals",!!this.isKM&&"updateKaplanMeier"]]),this.isKM&&(e.push(["Confidence Level","cr_normal",t,t,t,"getDecorationsConfidenceLevelMenu",[]]),e.push(["Confidence Type","ch_ofx",t,t,t,"getDecorationsConfidenceTypeMenu",[]])),e},this.getKaplanMeierMenu=function(){var t=[];return t.push([this.isKM?"Remove Kaplan-Meier Plot":"Create Kaplan-Meier Plot",this.isKM?"sl_eclose":"sl_eopen","modifyKaplanMeier"]),t.push(["Invert Censor Value",this.invertCensored?"sl_lightbulbon":"sl_lightbulboff","toggleAttribute",["invertCensored","updateKaplanMeier"]]),this.isKM&&t.push(["Confidence Intervals","dt_kmconf",!1,!1,!1,"getDecorationsConfidenceIntervalsMenu",[]]),t},this.getDecorationsMenu=function(){var t=this.decorations,e=!1,i=[];return i.push(["Border","dps_square",e,e,e,"getDecorationsBorderMenu",[]]),i.push(["Background","b_bbody",e,e,e,"changeTextColorAttributeMenu",["-color-","decorationsBackgroundColor"]]),i.push(["Color","at_col",e,e,e,"changeTextColorAttributeMenu",["-color-","decorationsColor"]]),i.push(["Font","ch_oaa",e,e,e,"getFontStyleMenu",["decoration"]]),i.push(["Position",this.legendInside?"dps_toinside":"ps_toloc3",e,e,e,"getDecorationsPositionMenu",[]]),i.push(["Data and Legend","wp_datawrangling",e,e,e,"getDecorationsDataMenu",[]]),i.push(["Legend","lg_g2",e,e,e,"getDecorationsLegendMenu",[]]),t.reg&&i.push(["Confidence Intervals","dt_corconf",e,e,e,"getDecorationsConfidenceIntervalsMenu",[]]),i},this.getOverlaysMemebersMenu=function(t,e){for(var i=[],a={},s=0;s<this[e+"Overlays"].length;s++)a[this[e+"Overlays"][s]]=!0;var r=this.sortObject(this.data[t]);for(s=0;s<r.length;s++)i.push([r[s],a[r[s]]?"sl_checkboxon":"sl_checkboxoff","var"==e?"modifyVariableOverlays":"modifySampleOverlays",[r[s]]]);return i},this.getOverlaysLegendMenu=function(t,e){for(var i=[],a=this[e+"OverlayProperties"],s=this.sortObject(this.data[t]),r=0;r<s.length;r++)i.push([s[r],a[s[r]]&&a[s[r]].showLegend?"sl_eclose":"sl_eopen","modifyOverlaysProperties",[!1,e+"OverlayProperties",s[r],"showLegend"]]);return i},this.getOverlaysPositionMemberMenu=function(t,e){var i=[];return"var"==t?(i.push(["Bottom","ps_bottom","modifyOverlaysProperties",["bottom",t+"OverlayProperties",e,"position"]]),i.push(["Top","ps_top","modifyOverlaysProperties",["top",t+"OverlayProperties",e,"position"]])):"Heatmap"==this.graphType||"horizontal"==this.graphOrientation?(i.push(["Left","ps_left","modifyOverlaysProperties",["left",t+"OverlayProperties",e,"position"]]),i.push(["Right","ps_right","modifyOverlaysProperties",["right",t+"OverlayProperties",e,"position"]])):(i.push(["Bottom","ps_bottom","modifyOverlaysProperties",["bottom",t+"OverlayProperties",e,"position"]]),i.push(["Top","ps_top","modifyOverlaysProperties",["top",t+"OverlayProperties",e,"position"]])),i},this.getOverlaysPositionMenu=function(t,e){for(var i=[],a=this.sortObject(this.data[t]),s=0;s<a.length;s++)i.push([a[s],"op_config",!1,!1,!1,"getOverlaysPositionMemberMenu",[e,a[s]]]);return i},this.getOverlaysThicknessMenu=function(t,e){for(var i=[],a=this.sortObject(this.data[t]),s=0;s<a.length;s++)i.push([a[s],"op_config",!1,!1,!1,"changeTextColorAttributeMenu",["-text-",[!1,"modifyOverlaysProperties",[e+"OverlayProperties",a[s],"thickness"]]]]);return i},this.getOverlaysColorSchemesMenu=function(t,e){for(var i=[],a=this.meta.data[t],s=this.getColorSchemes(),r=0;r<s.length;r++)i.push([s[r],a[e].spectrum==s[r]?"sl_radioon":"sl_radiooff","modifyColorProperties",[s[r],e,t]]);return i},this.getOverlaysColorMenu=function(t,e){for(var i=[],a=!1,s=this.meta.data[t],r=this.sortObject(this.data[t]),n=0;n<r.length;n++)this.isNumeric(this.data[t][r[n]])?this[e+"OverlayProperties"][r[n]]&&this[e+"OverlayProperties"][r[n]].type&&"Heatmap"==this[e+"OverlayProperties"][r[n]].type?i.push([r[n],"op_config",a,a,a,"getColorSpectrumMenu",[s[r[n]].colorBrew.spectrum,"modifyColorProperties",r[n],t]]):i.push([r[n],"op_config",a,a,a,"changeTextColorAttributeMenu",["-color-",[a,"modifyOverlaysProperties",[e+"OverlayProperties",r[n],"color"]]]]):i.push([r[n],"op_config",a,a,a,"getOverlaysColorSchemesMenu",[t,r[n]]]);return i},this.getOverlaysGraphTypeMenu=function(t,e){for(var i=[],a=["Area","AreaLine","Bar","BarLine","Dotplot","DotLine","Heatmap","Line","Pie","Stacked","StackedLine","StackedPercent","StackedPercentLine","Treemap"],s=["g_area","g_arealine","g_bar","g_barline","g_dotplot","g_dotline","g_heatmap","g_line","g_pie","g_stacked","g_stackedline","g_stackedpercent","g_stackedpercentline","g_treemap"],r=0;r<a.length;r++)i.push([a[r],s[r],"modifyOverlaysProperties",[a[r],t+"OverlayProperties",e,"type"]]);return i},this.getOverlaysGraphDefaultMenu=function(t,e){var i=[];return i.push(["Default","g_heatmap","modifyOverlaysProperties",["Heatmap",t+"OverlayProperties",e,"type"]]),i.push(["Text","ch_lt","modifyOverlaysProperties",["Text",t+"OverlayProperties",e,"type"]]),i.push(["Treemap","g_treemap","modifyOverlaysProperties",["Treemap",t+"OverlayProperties",e,"type"]]),i},this.getOverlaysGraphMenu=function(t,e){for(var i=[],a=!1,s=(this.meta.data[t],this.sortObject(this.data[t])),r=0;r<s.length;r++)this.isNumeric(this.data[t][s[r]])?i.push([s[r],"op_config",a,a,a,"getOverlaysGraphTypeMenu",[e,s[r]]]):i.push([s[r],"op_config",a,a,a,"getOverlaysGraphDefaultMenu",[e,s[r]]]);return i},this.getOverlaysPropertiesMenu=function(t,e){var i=[],a=!1;return"var"==e?i.push(["Position","ar_v",a,a,a,"getOverlaysPositionMenu",[t,e]]):"Heatmap"==this.graphType||"vertical"==this.graphOrientation?i.push(["Position","ar_h",a,a,a,"getOverlaysPositionMenu",[t,e]]):i.push(["Position","ar_v",a,a,a,"getOverlaysPositionMenu",[t,e]]),i.push(["Thickness","sp_thickness",a,a,a,"getOverlaysThicknessMenu",[t,e]]),i.push(["Color","at_col",a,a,a,"getOverlaysColorMenu",[t,e]]),i.push(["Type","ly_doe",a,a,a,"getOverlaysGraphMenu",[t,e]]),i.push(["Legend","Heatmap"==this.graphType?"lg_h":"lg_g1",a,a,a,"getOverlaysLegendMenu",[t,e]]),i},this.getLegendOverlaysPositionMenu=function(){var t=[];return t.push(["Top Right","ps_topright","changeAttribute",["overlaysLegendPosition","topRight"]]),t.push(["Right","ps_right","changeAttribute",["overlaysLegendPosition","right"]]),t.push(["Bottom Left","ps_bottomleft","changeAttribute",["overlaysLegendPosition","bottomLeft"]]),t.push(["Bottom","ps_bottom","changeAttribute",["overlaysLegendPosition","bottom"]]),t},this.getLegendOverlaysMenu=function(t){var e="show"+t+"OverlaysLegend";return[[this[e]?"Hide Legend":"Show Legend",this[e]?"sl_eclose":"sl_eopen","toggleAttribute",[e]]]},this.getOverlaysMenu=function(){var t=[],e=!1;return"Heatmap"==this.graphType&&this.data.z&&(t.push(["Variable Overlays","o_ghvars",e,e,e,"getOverlaysMemebersMenu",["z","var"]]),t.push(["Variable Overlays Properties","o_ghvars",e,e,e,"getOverlaysPropertiesMenu",["z","var"]]),t.push(["Variable Overlays Legend","lg_h",e,e,e,"getLegendOverlaysMenu",["Var"]]),t.push(["-"])),this.data.x&&(t.push(["Sample Overlays","Heatmap"==this.graphType?"o_ghsmps":"o_g1",e,e,e,"getOverlaysMemebersMenu",["x","smp"]]),t.push(["Sample Overlays Properties","Heatmap"==this.graphType?"o_ghsmpsp":"o_g1p",e,e,e,"getOverlaysPropertiesMenu",["x","smp"]]),t.push(["Sample Overlays Legend","Heatmap"==this.graphType?"lg_h":"lg_g1",e,e,e,"getLegendOverlaysMenu",["Smp"]]),t.push(["-"])),t.push(["Overlays Legend Position","ps_toloc3",e,e,e,"getLegendOverlaysPositionMenu",[]]),t.push(["-"]),t.push(["Label Color","at_col",e,e,e,"changeTextColorAttributeMenu",["-color-","overlayFontColor"]]),t.push(["Label Font","ch_oaa",e,e,e,"getFontStyleMenu",["overlay"]]),t.push(["Default Thickness","sp_thickness",e,e,e,"changeTextColorAttributeMenu",["-text-","overlaysThickness"]]),(this.data.x||this.data.z)&&t.push([this.showOverlays?"Hide Overlays":"Show Overlays",this.showOverlays?"sl_eclose":"sl_eopen","toggleAttribute",["showOverlays"]]),t.push(["More","op_more","showConfiguratorCategory",["event","Overlays"]]),t},this.getBinDataPercentileMenu=function(t){for(var e=[],i=0;i<this.data.y.vars.length;i++)t?e.push([this.data.y.vars[i],"sl_radiooff","binDataByPercentile",[i,!0]]):e.push([this.data.y.vars[i],"sl_radiooff","binDataByPercentile",[i]]);return e},this.getBinDataQuantileMenu=function(t){for(var e=[],i=0;i<this.data.y.vars.length;i++)t?e.push([this.data.y.vars[i],"sl_radiooff","binDataByQuantile",[i,!0]]):e.push([this.data.y.vars[i],"sl_radiooff","binDataByQuantile",[i]]);return e},this.getBinDataCustomBinMenu=function(t){for(var e=[],i=2;i<9;i++)e.push([i+" bins","sl_radiooff","binDataCustom",[t,i]]);return e},this.getBinDataCustomMenu=function(){for(var t=[],e=0;e<this.data.y.vars.length;e++){var i=this.data.y.vars[e].substring(0,1).toLowerCase();t.push([this.data.y.vars[e],"ch_l"+i,!1,!1,!1,"getBinDataCustomBinMenu",[e]])}return t},this.getBinDataMenu=function(){var t=[],e=!1;return t.push(["By Percentile Discrete","ch_spercent",e,e,e,"getBinDataPercentileMenu",[]]),t.push(["By Percentile Continuous","ch_spercent",e,e,e,"getBinDataPercentileMenu",[!0]]),t.push(["By Quantile Discrete","ch_oquantile",e,e,e,"getBinDataQuantileMenu",[]]),t.push(["By Quantile Continuous","ch_oquantile",e,e,e,"getBinDataQuantileMenu",[!0]]),t.push(["Custom","ch_lc",e,e,e,"getBinDataCustomMenu",[]]),t},this.getGroupSamplesMenu=function(){if(this.data.x){for(var t=[],e={},i=this.sortObject(this.data.x),a=0;a<this.groupingFactors.length;a++)e[this.groupingFactors[a]]=!0;for(a=0;a<i.length;a++)t.push([i[a],e[i[a]]?"sl_checkboxon":"sl_checkboxoff","modifySampleGroups",[i[a]]]);return t}return!1},this.getSmpLabelHighlightLevelMenu=function(){for(var t=[],e={},i=this.isGroupedData?this.data.w:this.data.y,a=0;a<this.highlightSmp.length;a++)e[this.highlightSmp[a]]=!0;for(a=0;a<i.smps.length;a++)t.push([i.smps[a],e[i.smps[a]]?"sl_checkboxon":"sl_checkboxoff","modifyObjectArray",[i.smps[a],!1,"highlightSmp",!0,!0]]);return t},this.getSmpLabelHighlightMenu=function(){var t=[],e=!1;return t.push(["Samples","ch_ls",e,e,e,"getSmpLabelHighlightLevelMenu",[]]),t.push(["Color","at_col",e,e,e,"changeTextColorAttributeMenu",["-color-","smpHighlightColor"]]),t},this.getSmpLabelMenu=function(){var t=[],e=!1;return t.push(["Color","at_col",e,e,e,"changeTextColorAttributeMenu",["-color-","smpLabelFontColor"]]),t.push(["Font","ch_oaa",e,e,e,"getFontStyleMenu",["smpLabel"]]),t.push(["Highlight","Heatmap"==this.graphType?"p_ghsamplelabels":"p_g1samplelabels",e,e,e,"getSmpLabelHighlightMenu",[]]),t.push(["Interval","ch_snumber",e,e,e,"changeTextColorAttributeMenu",["-text-","smpLabelInterval"]]),t.push(["Rotate","rt_c",e,e,e,"changeTextColorAttributeMenu",["-text-","smpLabelRotate"]]),t.push([this.showSampleNames?"Hide Labels":"Show Labels",this.showSampleNames?"sl_eclose":"sl_eopen","toggleAttribute",["showSampleNames"]]),t},this.getVarLabelHighlightLevelMenu=function(){for(var t=[],e={},i=this.data.y.vars,a=0;a<this.highlightVar.length;a++)e[this.highlightVar[a]]=!0;for(a=0;a<i.length;a++)t.push([i[a],e[i[a]]?"sl_checkboxon":"sl_checkboxoff","modifyObjectArray",[i[a],!1,"highlightVar",!0,!0]]);return t},this.getVarLabelHighlightMenu=function(){var t=[],e=!1;return t.push(["Variables","ch_lv",e,e,e,"getVarLabelHighlightLevelMenu",[]]),t.push(["Color","at_col",e,e,e,"changeTextColorAttributeMenu",["-color-","varHighlightColor"]]),t},this.getVarLabelMenu=function(t){var e=[],i=!1;return e.push(["Color","at_col",i,i,i,"changeTextColorAttributeMenu",["-color-","varLabelFontColor"]]),e.push(["Font","ch_oaa",i,i,i,"getFontStyleMenu",["varLabel"]]),e.push(["Highlight","p_ghvariablelabels",i,i,i,"getVarLabelHighlightMenu",[]]),e.push(["Interval","ch_snumber",i,i,i,"changeTextColorAttributeMenu",["-text-","varLabelInterval"]]),e.push(["Rotate","rt_c",i,i,i,"changeTextColorAttributeMenu",["-text-","varLabelRotate"]]),e.push([this.showVariableNames?"Hide Labels":"Show Labels",this.showVariableNames?"sl_eclose":"sl_eopen","toggleAttribute",["showVariableNames"]]),e},this.getGraphPartMenu=function(t,e){var i=[],a=!1;return i.push(["Color","at_col",a,a,a,"changeTextColorAttributeMenu",["-color-",t+(e?"FontColor":"Color")]]),i.push(["Font","ch_oaa",a,a,a,"getFontStyleMenu",[t]]),i.push(["Text","ch_oa",a,a,a,"changeTextColorAttributeMenu",["-text-",t]]),i},this.getFontStyleMenu=function(t){var e=[],i="ScaleFontFactor";return e.push(["Bigger","sr_aai","setFontAttributeSize",[t+i,"increase"]]),e.push(["Smaller","sr_aad","setFontAttributeSize",[t+i,"decrease"]]),e.push(["Normal","ch_oa","setFontAttributeStyle",[t+"FontStyle","normal"]]),e.push(["Bold","ch_lb","setFontAttributeStyle",[t+"FontStyle","bold"]]),e.push(["Italic","ch_oitalic","setFontAttributeStyle",[t+"FontStyle","italic"]]),e},this.getDataPointAttributesPropertySampleMenu=function(t){for(var e=[],i=this.isGroupedData?this.data.w:this.data.y,a=0;a<i.smps.length;a++)e.push([i.smps[a],this[t]==i.smps[a]?"sl_radioon":"sl_radiooff","changeAttribute",[t,i.smps[a]]]);return e},this.getDataPointAttributesPropertyMenu=function(t){var e=[];if(this.isHistogram&&this.dataStndBy.z)for(var i=this.sortObject(this.dataStndBy.z),a=0;a<i.length;a++)e.push([i[a],i[a]==this[t]?"sl_radioon":"sl_radiooff","changeAttribute",[t,i[a]]]);else if("treemapBy"==t){var s={},r=this.sortObject(this.data.x);for(a=0;a<this.treemapBy.length;a++)s[this.treemapBy[a]]=!0;for(a=0;a<r.length;a++)e.push([r[a],s[r[a]]?"sl_checkboxon":"sl_checkboxoff","modifyTreemapGroups",[r[a]]])}else if(this.isDOE){var n=this.graphType.match(/scatter/i)||"Map"==this.graphType?this.sortObject(this.data.z):this.sortObject(this.data.x);for(a=0;a<n.length;a++)e.push([n[a],n[a]==this[t]?"sl_radioon":"sl_radiooff","changeAttribute",[t,n[a]]])}else{for(n=this.graphType.match(/scatter/i)||"Map"==this.graphType?this.sortObject(this.data.z):this.sortObject(this.data.x),a=0;a<n.length;a++)e.push([n[a],n[a]==this[t]?"sl_radioon":"sl_radiooff","changeAttribute",[t,n[a]]]);e.push(["-"]);a="variable";if("connectBy"!=t&&"ellipseBy"!=t&&"ridgeBy"!=t&&e.push(["Variable",a==this[t]?"sl_radioon":"sl_radiooff","changeAttribute",[t,a]]),(!this.graphType.match(/scatter/i)&&"Map"==!this.graphType||"Dotplot"==this.graphType)&&this.data.z){i=this.sortObject(this.data.z);"connectBy"==t&&"Dotplot"!=this.graphType||e.push(["-"]);for(a=0;a<i.length;a++)"connectBy"==t&&"Dotplot"!=this.graphType||e.push([i[a],i[a]==this[t]?"sl_radioon":"sl_radiooff","changeAttribute",[t,i[a]]])}"Line"!=this.graphType&&"ParallelCoordinates"!=this.graphType&&"Map"!=this.graphType||(e.push(["-"]),e.push(["Sample","ch_ls",!1,!1,!1,"getDataPointAttributesPropertySampleMenu",[t]]))}return e},this.getDataPointAttributesMenu=function(){var t=[],e=!1;return this.isKM&&this.data.z?t.push(["Color By","at_col",e,e,e,"getDataPointAttributesPropertyMenu",["colorBy"]]):this.isHistogram&&this.dataStndBy.z?(t.push(["Color By","at_col",e,e,e,"getDataPointAttributesPropertyMenu",["colorBy"]]),this.isValidQQ()||this.isValidCDF()||this.scatterPlotMatrix||t.push(["Ridge By","g_ridgeline",e,e,e,"getDataPointAttributesPropertyMenu",["ridgeBy"]])):("Heatmap"!=this.graphType&&t.push(["Color By","at_col",e,e,e,"getDataPointAttributesPropertyMenu",["colorBy"]]),(this.graphType.match(/scatter/i)||this.is3DPlot||"Dotplot"==this.graphType||"Tree"==this.graphType||"Boxplot"==this.graphType&&this.showBoxplotOriginalData)&&(t.push(["Shape By","at_shp",e,e,e,"getDataPointAttributesPropertyMenu",["shapeBy"]]),t.push(["Size By","at_sze",e,e,e,"getDataPointAttributesPropertyMenu",["sizeBy"]])),t.push(["Pattern By",this.graphType.match(/parallelcoordinates|line/i)?"ln_style":"at_pat",e,e,e,"getDataPointAttributesPropertyMenu",["patternBy"]]),(this.graphType.match(/scatter/i)||this.is3DPlot||"Dotplot"==this.graphType||"Boxplot"==this.graphType&&this.showBoxplotOriginalData)&&t.push(["Connect By","bx_connect",e,e,e,"getDataPointAttributesPropertyMenu",["connectBy"]]),this.graphType.match(/stacked/i)&&this.data.x&&this.isGroupedData&&t.push(["Treemap By","g_treemap",e,e,e,"getDataPointAttributesPropertyMenu",["treemapBy"]]),this.graphType.match(/scatter/i)&&("Scatter2D"!=this.graphType||this.isValidQQ()||this.isValidCDF()||t.push(["Ellipse By","at_ellipse",e,e,e,"getDataPointAttributesPropertyMenu",["ellipseBy"]]),"Scatter2D"!=this.graphType||this.isValidQQ()||this.isValidCDF()||this.scatterPlotMatrix||t.push(["Ridge By","g_ridgeline",e,e,e,"getDataPointAttributesPropertyMenu",["ridgeBy"]]))),t},this.getDendrogramColorMenu=function(t){var e=[];if(t)for(var i=this.sortObject(this.data.z),a=0;a<i.length;a++)e.push([i[a],this.colorVarDendrogramBy==i[a]?"sl_radioon":"sl_radiooff","changeAttribute",["colorVarDendrogramBy",i[a]]]);else{var s=this.sortObject(this.data.x);for(a=0;a<s.length;a++)e.push([s[a],this.colorSmpDendrogramBy==s[a]?"sl_radioon":"sl_radiooff","changeAttribute",["colorSmpDendrogramBy",s[a]]])}return e},this.getDendrogramsMenu=function(){var t=[],e=!1;return"Tree"==this.graphType?(t.push(["Radial Layout",this.treeCircular?"sl_checkboxon":"sl_checkboxoff","toggleAttribute",["treeCircular"]]),t.push(["Inverted Tree",this.treeInverted?"sl_checkboxon":"sl_checkboxoff","toggleAttribute",["treeInverted"]])):("Heatmap"==this.graphType&&(t.push(["Cluster Variable","cl_vertical","clusterVariables",[!0]]),t.push(["K-Means Variable","cl_verticalk","kmeansVariables",[!0]]),this.varDendrogram&&(t.push(["Color Variable Cluster By","at_col",e,e,e,"getDendrogramColorMenu",[!0]]),this.showVarDendrogram?t.push(["Hide Dendrogram","sl_eclose","showHideDendrogram",["showVarDendrogram"]]):t.push(["Show Dendrogram","sl_eopen","showHideDendrogram",["showVarDendrogram"]])),t.push(["-"])),t.push(["Cluster Samples","cl_horizontal","clusterSamples",[!0]]),t.push(["K-Means Samples","cl_horizontalk","kmeansSamples",[!0]]),this.smpDendrogram&&(t.push(["Color Sample Cluster By","at_col",e,e,e,"getDendrogramColorMenu",[]]),this.showSmpDendrogram?t.push(["Hide Dendrogram","sl_eclose","showHideDendrogram",["showSmpDendrogram"]]):t.push(["Show Dendrogram","sl_eopen","showHideDendrogram",["showSmpDendrogram"]])),t.push(["-"]),t.push(["More","op_more","showConfiguratorCategory",["event","Clustering"]])),t},this.getGraphTypeMenu=function(){var t=[];return t.push(["Area","g_area","changeAttribute",["graphType","Area"]]),t.push(["Area Line","g_arealine","changeAttribute",["graphType","AreaLine"]]),t.push(["Bar","g_bar","changeAttribute",["graphType","Bar"]]),t.push(["Bar Line","g_barline","changeAttribute",["graphType","BarLine"]]),t.push(["Boxplot","g_boxplot","changeAttribute",["graphType","Boxplot"]]),t.push(["Circular","g_circular","changeAttribute",["graphType","Circular"]]),t.push(["Correlation","g_correlation","changeAttribute",["graphType","Correlation"]]),t.push(["Dot Line","g_dotline","changeAttribute",["graphType","DotLine"]]),t.push(["Dotplot","g_dotplot","changeAttribute",["graphType","Dotplot"]]),t.push(["Gantt Chart","g_gantt","changeAttribute",["graphType","g_gantt"]]),t.push(["Heatmap","g_heatmap","changeAttribute",["graphType","Heatmap"]]),t.push(["Line","g_line","changeAttribute",["graphType","Line"]]),t.push(["Map","g_map","changeAttribute",["graphType","Map"]]),t.push(["Pie Chart","g_pie","changeAttribute",["graphType","Pie"]]),this.data.y.smps.length>1&&t.push(["Scatter 2D","g_scatter2d","changeAttribute",["graphType","Scatter2D"]]),this.data.y.smps.length>2&&(t.push(["Scatter Bubble 2D","g_scatterbubble2d","changeAttribute",["graphType","ScatterBubble2D"]]),t.push(["Scatter 3D","g_scatter3d","changeAttribute",["graphType","Scatter3D"]])),t.push(["Stacked","g_stacked","changeAttribute",["graphType","Stacked"]]),t.push(["Stacked Line","g_stackedline","changeAttribute",["graphType","StackedLine"]]),t.push(["Stacked Percent","g_stackedpercent","changeAttribute",["graphType","StackedPercent"]]),t.push(["Stacked Percent Line","g_stackedpercentline","changeAttribute",["graphType","StackedPercentLine"]]),t.push(["Tag Cloud","g_tagcloud","changeAttribute",["graphType","TagCloud"]]),t.push(["Parallel Coordinates","g_parallelcoordinates","changeAttribute",["graphType","ParallelCoordinates"]]),t.push(["Sankey","g_sankey","changeAttribute",["graphType","Sankey"]]),t.push(["Tree","g_tree","changeAttribute",["graphType","Tree"]]),t.push(["Treemap","g_treemap","changeAttribute",["graphType","Treemap"]]),t},this.getGraphOrientationMenu=function(){var t=[];return t.push(["Horizontal","gc_gohorizontal","changeAttribute",["graphOrientation","horizontal"]]),t.push(["Vertical","gc_govertical","changeAttribute",["graphOrientation","vertical"]]),t},this.getMarginsMenu=function(){var t=[],e=!1;return t.push(["g_lobal","mr_all",e,e,e,"changeTextColorAttributeMenu",["-text-","margin"]]),t.push(["-"]),t.push(["Bottom","mr_bottom",e,e,e,"changeTextColorAttributeMenu",["-text-","marginBottom"]]),t.push(["Left","mr_left",e,e,e,"changeTextColorAttributeMenu",["-text-","marginLeft"]]),t.push(["Top","mr_top",e,e,e,"changeTextColorAttributeMenu",["-text-","marginTop"]]),t.push(["Right","mr_right",e,e,e,"changeTextColorAttributeMenu",["-text-","marginRight"]]),t},this.getShadesMenu=function(){var t=[];return t.push(["Objects","at_shd","toggleAttribute",["showShadow"]]),t.push(["Text","tx_shadow","toggleAttribute",["showTextShadow"]]),t.push(["Color","at_col",!1,!1,!1,"changeTextColorAttributeMenu",["-color-","shadowColor"]]),t.push(["More","op_more","showConfiguratorCategory",["event","Shadows"]]),t},this.getCanvasBorderMenu=function(){var t=[];return t.push(["Color","at_col",!1,!1,!1,"changeTextColorAttributeMenu",["-color-","canvasBoxColor"]]),t.push([this.canvasBox?"Hide Border":"Show Border",this.canvasBox?"sl_eclose":"sl_eopen","toggleAttribute",["canvasBox"]]),t},this.getGradientsOrientationMenu=function(){var t=[];return t.push(["Horizontal","b_grhl","changeAttribute",["gradientOrientation","horizontal"]]),t.push(["Vertical","b_grvt","changeAttribute",["gradientOrientation","vertical"]]),t},this.getGradientsTypeMenu=function(){var t=[];return t.push(["Linear","b_grvt","changeAttribute",["gradientType","linear"]]),t.push(["Radial","b_grc","changeAttribute",["gradientType","radial"]]),t},this.getGradientsMenu=function(){var t=[],e=!1;return t.push(["Gradient","b_gsswitch","toggleAttribute",["gradient"]]),t.push(["Orientation","b_gsori",e,e,e,"getGradientsOrientationMenu",[]]),t.push(["Type","b_gstype",e,e,e,"getGradientsTypeMenu",[]]),t.push(["-"]),t.push(["More","op_more","showConfiguratorCategory",["event","Gradients"]]),t},this.getBackgroundTypeMenu=function(){var t=[];return t.push(["Solid","b_bbody","changeAttribute",["backgroundType","solid","solid"]]),t.push(["Gradient","b_bgradient","changeAttribute",["backgroundType","gradient","gradient"]]),t.push(["Solid Window","b_bwindowsolid","changeAttribute",["backgroundType","window","window"]]),t.push(["Solid Window on Gradient","b_bbodygradient","changeAttribute",["backgroundType","windowGradient","windowGradient"]]),t.push(["Gradient Window on Solid","b_bwindowgradient","changeAttribute",["backgroundType","windowSolidGradient","windowSolidGradient"]]),t},this.getBackgroundMenu=function(){var t=[],e=!1;return t.push(["Type","b_btype",e,e,e,"getBackgroundTypeMenu",[]]),t.push(["-"]),t.push(["Background Color","b_bbody",e,e,e,"changeTextColorAttributeMenu",["-color-","background"]]),t.push(["Window Color","b_bwindowsolid",e,e,e,"changeTextColorAttributeMenu",["-color-","backgroundWindow"]]),t.push(["Gradient Start Color","b_grvt",e,e,e,"changeTextColorAttributeMenu",["-color-","backgroundGradient1Color"]]),t.push(["Gradient End Color","b_grvb",e,e,e,"changeTextColorAttributeMenu",["-color-","backgroundGradient2Color"]]),t.push(["-"]),t.push(["More","op_more","showConfiguratorCategory",["event","Background"]]),t},this.getFontsSizeStyleMenu=function(){var t=[];return t.push(["Bigger","sr_aai","setFontAttributeSize",["fontScaleFontFactor","increase"]]),t.push(["Smaller","sr_aad","setFontAttributeSize",["fontScaleFontFactor","decrease"]]),t.push(["Normal","ch_oa","setFontAttributeStyle",["fontStyle","normal"]]),t.push(["Bold","ch_lb","setFontAttributeStyle",["fontStyle","bold"]]),t.push(["Italic","ch_oitalic","setFontAttributeStyle",["fontStyle","italic"]]),t},this.getFontsMenu=function(){var t=[];for(var e in t.push(["Size and Style","ch_oaa",!1,!1,!1,"getFontsSizeStyleMenu",[]]),t.push(["-"]),CanvasXpress.fonts)t.push([e,this.fontName==e?"sl_radioon":"sl_radiooff","changeAttribute",["fontName",e,e]]);return t.push(["-"]),t.push(["More","op_more","showConfiguratorCategory",["event","Text"]]),t},this.getLayoutVarMenu=function(){for(var t=[],e={},i=0;i<this.segregateVariablesBy.length;i++)e[this.segregateVariablesBy[i]]=!0;if(this.data.z){var a=this.sortObject(this.data.z);for(i=0;i<a.length;i++)t.push([a[i],e[a[i]]?"sl_checkboxon":"sl_checkboxoff","modifyVariableSegregation",[a[i]]]);this.graphType.match(/Scatter/)||t.push(["-"])}return this.graphType.match(/Scatter/)||t.push(["variable",e.variable?"sl_checkboxon":"sl_checkboxoff","modifyVariableSegregation",["variable"]]),t},this.getLayoutSmpMenu=function(){for(var t=[],e={},i=0;i<this.segregateSamplesBy.length;i++)e[this.segregateSamplesBy[i]]=!0;if(this.data.x){var a=this.sortObject(this.data.x);for(i=0;i<a.length;i++)t.push([a[i],e[a[i]]?"sl_checkboxon":"sl_checkboxoff","modifySampleSegregation",[a[i]]]);this.graphType.match(/Scatter/)||t.push(["-"])}return this.graphType.match(/Scatter/)||t.push(["sample",e.sample?"sl_checkboxon":"sl_checkboxoff","modifySampleSegregation",["sample"]]),t},this.getLayoutMenu=function(){var t=[],e=!1;return t.push(["Segregate Samples By","ch_ls",e,e,e,"getLayoutSmpMenu",[]]),t.push(["Segregate Variables By","ch_lv",e,e,e,"getLayoutVarMenu",[]]),t},this.getSegregationMenu=function(){var t={},e=[];if(this.isHistogram&&this.dataStndBy.z){for(var i=this.sortObject(this.dataStndBy.z),a=this.meta.data.z,s=0;s<this.segregateVariablesBy.length;s++)t[this.segregateVariablesBy[s]]=!0;for(s=0;s<i.length;s++)"String"==a[i[s]].type&&e.push([i[s],t[i[s]]?"sl_checkboxon":"sl_checkboxoff","modifyVariableSegregation",[i[s]]]);this.ridgeBy||e.push(["sample",this.segregateSamplesBy.includes("sample")?"sl_checkboxon":"sl_checkboxoff","modifySampleSegregation",["sample"]])}else if(!this.isQQ&&!this.isCDF||this.ridgeBy){if(this.data.z&&!this.scatterPlotMatrix){for(i=this.sortObject(this.data.z),a=this.meta.data.z,s=0;s<this.segregateVariablesBy.length;s++)t[this.segregateVariablesBy[s]]=!0;for(s=0;s<i.length;s++)"String"==a[i[s]].type&&e.push([i[s],t[i[s]]?"sl_checkboxon":"sl_checkboxoff","modifyVariableSegregation",[i[s]]])}if(this.data.x&&!this.scatterPlotMatrix){var r=this.sortObject(this.data.x);for(a=this.meta.data.z,s=0;s<this.segregateSamplesBy.length;s++)t[this.segregateSamplesBy[s]]=!0;for(s=0;s<r.length;s++)"String"==a[r[s]].type&&e.push([r[s],t[r[s]]?"sl_checkboxon":"sl_checkboxoff","modifySampleSegregation",[r[s]]])}this.graphType.match(/Scatter/)?this.ridgeBy||e.push(["sample",this.segregateSamplesBy.includes("sample")?"sl_checkboxon":"sl_checkboxoff","modifySampleSegregation",["sample"]]):(e.push(["variable",this.segregateVariablesBy.includes("variable")?"sl_checkboxon":"sl_checkboxoff","modifyVariableSegregation",["variable"]]),e.push(["sample",this.segregateSamplesBy.includes("sample")?"sl_checkboxon":"sl_checkboxoff","modifySampleSegregation",["sample"]]))}else e.push(["sample",this.segregateSamplesBy.includes("sample")?"sl_checkboxon":"sl_checkboxoff","modifySampleSegregation",["sample"]]);return!this.is3DPlot&&e.length>0&&e},this.getColorSpectrumMenu=function(t,e,i,a,s){for(var r=[],n=this.getObjectArray(t),o=this.getColorNames(),h=0;h<o.length;h++)if(n[o[h]]){for(var l=0,c=0;c<t.length;c++)if(o[h]==t[c]){l=c;break}i&&a?r.push([o[h]+" ("+(l+1)+")","sl_checkboxon",e,[o[h],i,a]]):r.push([o[h]+" ("+(l+1)+")","sl_checkboxon",e,[o[h]]])}else i&&a?r.push([o[h],"sl_checkboxoff",e,[o[h],i,a]]):r.push([o[h],"sl_checkboxoff",e,[o[h]]]);return r},this.getColorSpectrumSchemeMenu=function(t,e){for(var i=[],a=this.getColorSchemes(),s=0;s<a.length;s++)this.isContour&&"Contour"==e?i.push([a[s],this[t]==a[s]?"sl_radioon":"sl_radiooff","changeAttribute",["contourColorScheme",a[s]]]):"bin2d"==this.scatterType&&"Binplot"==e?i.push([a[s],this[t]==a[s]?"sl_radioon":"sl_radiooff","changeAttribute",["binplotColorScheme",a[s]]]):i.push([a[s],this[t]==a[s]?"sl_radioon":"sl_radiooff","changeAttribute",["colorSpectrum",[],!1,e,a[s]]]);return i},this.getColorSchemeMenu=function(t,e){for(var i=[],a=this.getColorSchemes(),s=0;s<a.length;s++)i.push([a[s],this[t]==a[s]?"sl_radioon":"sl_radiooff","changeAttribute",[t,a[s],!1,e]]);return i},this.getColorsSpectrumCompMenu=function(){var t=[],e=!1;return t.push(["Spectrum By Colors","at_col",e,e,e,"getColorSpectrumMenu",[this.colorSpectrum,"modifyColorSpectrum"]]),t.push(["Spectrum By Scheme","at_palette",e,e,e,"getColorSpectrumSchemeMenu",["colorScheme","modifyColorSpectrumByScheme"]]),t.push(["Spectrum Color Number","ch_snumber",e,e,e,"changeTextColorAttributeMenu",["-text-","colorSpectrumTarget"]]),t.push(["Zero-Center","ch_lz",e,e,e,"changeTextColorAttributeMenu",["-text-",[e,"modifyColorSpectrumZeroValue",[null]]]]),t},this.getColorBlindTypeMenu=function(){var t=[];return t.push(["No Blind Type",this.blindnessType?"sl_radiooff":"sl_radioon","changeAttribute",["blindnessType",!1]]),t.push(["Protanopia","protanopia"==this.blindnessType?"sl_radioon":"sl_radiooff","changeAttribute",["blindnessType","protanopia"]]),t.push(["Deuteranopia","deuteranopia"==this.blindnessType?"sl_radioon":"sl_radiooff","changeAttribute",["blindnessType","deuteranopia"]]),t.push(["Tritanopia","tritanopia"==this.blindnessType?"sl_radioon":"sl_radiooff","changeAttribute",["blindnessType","tritanopia"]]),t.push(["Monochromatic","monochromatic"==this.blindnessType?"sl_radioon":"sl_radiooff","changeAttribute",["blindnessType","monochromatic"]]),t},this.getColorsMenu=function(){var t=[],e=!1;return t.push(["Blind Type","sl_eopen",e,e,e,"getColorBlindTypeMenu",[]]),t.push(["Scheme","at_palette",e,e,e,"getColorSchemeMenu",["colorScheme","modifyColorScheme"]]),t.push(["Spectrum","at_sch",e,e,e,"getColorsSpectrumCompMenu",[]]),t},this.getResizeMenu=function(){var t=[],e=!1;return t.push(["Height","dps_height",e,e,e,"changeTextColorAttributeMenu",["-text-",["height","setHeight"]]]),t.push(["Width","dps_width",e,e,e,"changeTextColorAttributeMenu",["-text-",["width","setWidth"]]]),t},this.getThemeMenu=function(){var t=[];return t.push(["CanvasXpress","cx"==this.theme?"sl_radioon":"sl_radiooff","changeTheme",["cx"]]),t.push(["Economist","economist"==this.theme?"sl_radioon":"sl_radiooff","changeTheme",["economist"]]),t.push(["GGPlot","ggplot"==this.theme?"sl_radioon":"sl_radiooff","changeTheme",["ggplot"]]),t.push(["Gray-Inverse","igray"==this.theme?"sl_radioon":"sl_radiooff","changeTheme",["igray"]]),t.push(["Excel","excel"==this.theme?"sl_radioon":"sl_radiooff","changeTheme",["excel"]]),t.push(["Paul Tol","paulTol"==this.theme?"sl_radioon":"sl_radiooff","changeTheme",["paulTol"]]),t.push(["Black And White","blackAndWhite"==this.theme?"sl_radioon":"sl_radiooff","changeTheme",["blackAndWhite"]]),t.push(["Solarized","solarized"==this.theme?"sl_radioon":"sl_radiooff","changeTheme",["solarized"]]),t.push(["Stata","stata"==this.theme?"sl_radioon":"sl_radiooff","changeTheme",["stata"]]),t.push(["Tableau","tableau"==this.theme?"sl_radioon":"sl_radiooff","changeTheme",["tableau"]]),t.push(["Wall Street Journal","wallStreetJournal"==this.theme?"sl_radioon":"sl_radiooff","changeTheme",["wallStreetJournal"]]),t.push(["-"]),t.push(["Last Air Bender Fire","lastAirBenderFire"==this.theme?"sl_radioon":"sl_radiooff","changeTheme",["lastAirBenderFire"]]),t.push(["Last Air Bender Air","lastAirBenderAir"==this.theme?"sl_radioon":"sl_radiooff","changeTheme",["lastAirBenderAir"]]),t.push(["Last Air Bender Water","lastAirBenderWater"==this.theme?"sl_radioon":"sl_radiooff","changeTheme",["lastAirBenderWater"]]),t.push(["Last Air Bender Earth","lastAirBenderEarth"==this.theme?"sl_radioon":"sl_radiooff","changeTheme",["lastAirBenderEarth"]]),t.push(["-"]),t.push(["Game Of Thrones Targaryen","gameOfThronesTargaryen"==this.theme?"sl_radioon":"sl_radiooff","changeTheme",["gameOfThronesTargaryen"]]),t.push(["Game Of Thrones Stark","gameOfThronesStark"==this.theme?"sl_radioon":"sl_radiooff","changeTheme",["gameOfThronesStark"]]),t.push(["Game Of Thrones Stannis","gameOfThronesStannis"==this.theme?"sl_radioon":"sl_radiooff","changeTheme",["gameOfThronesStannis"]]),t.push(["Game Of Thrones Lannister","gameOfThronesLannister"==this.theme?"sl_radioon":"sl_radiooff","changeTheme",["gameOfThronesLannister"]]),t.push(["Game Of Thrones Tyrell","gameOfThronesTyrell"==this.theme?"sl_radioon":"sl_radiooff","changeTheme",["gameOfThronesTyrell"]]),t.push(["Game Of Thrones Martell","gameOfThronesMartell"==this.theme?"sl_radioon":"sl_radiooff","changeTheme",["gameOfThronesMartell"]]),t.push(["Game Of Thrones Tully","gameOfThronesTully"==this.theme?"sl_radioon":"sl_radiooff","changeTheme",["gameOfThronesTully"]]),t.push(["Game Of Thrones Greyjoy","gameOfThronesGreyjoy"==this.theme?"sl_radioon":"sl_radiooff","changeTheme",["gameOfThronesGreyjoy"]]),t.push(["Game Of Thrones Manderly","gameOfThronesManderly"==this.theme?"sl_radioon":"sl_radiooff","changeTheme",["gameOfThronesManderly"]]),t.push(["Game Of Thrones Arryn","gameOfThronesArryn"==this.theme?"sl_radioon":"sl_radiooff","changeTheme",["gameOfThronesArryn"]]),t.push(["-"]),t.push(["None","none"==this.theme?"sl_radioon":"sl_radiooff","changeTheme",["none"]]),t},this.getGeneralMenu=function(){var t=[],e=!1;return t.push(["Background","b_bbody",e,e,e,"getBackgroundMenu",[]]),t.push(["Border","dps_square",e,e,e,"getCanvasBorderMenu",[]]),t.push(["Color","at_col",e,e,e,"getColorsMenu",[]]),t.push(["Font","ch_oaa",e,e,e,"getFontsMenu",[]]),t.push(["Gradients","b_grvt",e,e,e,"getGradientsMenu",[]]),this.graphType.match(/Scatter/)||this.is3DPlot||t.push(["Graph Orientation","gc_goverticalhorizontal",e,e,e,"getGraphOrientationMenu",[]]),t.push(["Graph Type","ly_doe",e,e,e,"getGraphTypeMenu",[]]),this.is3DPlot||!this.data.x&&!this.data.z||t.push(["Layout","ly_segregate",e,e,e,"getLayoutMenu",[]]),t.push(["Margins","mr_all",e,e,e,"getMarginsMenu",[]]),t.push(["Shadows","at_shd",e,e,e,"getShadesMenu",[]]),t.push(["Size","dps_resize",e,e,e,"getResizeMenu",[]]),t.push(["Theme","at_sch",e,e,e,"getThemeMenu",[]]),t.push(["Transparency","at_trn",e,e,e,"changeTextColorAttributeMenu",["-text-","transparency"]]),t},this.getSwitchSmpToAnnotationMenu=function(){for(var t=[],e=0;e<this.data.y.smps.length;e++)t.push([this.data.y.smps[e],"sl_radiooff","switchSmpToAnnotation",[this.data.y.smps[e]]]);return t},this.getSwitchAnnotationToSmpMenu=function(){for(var t=[],e=this.sortObject(this.data.z),i=0;i<e.length;i++)this.meta.data.z[e[i]]&&t.push([e[i],"sl_radiooff","switchAnnotationToSmp",[e[i]]]);return t},this.getSwitchSmpAnnotationToIdMenu=function(){for(var t=[],e=this.sortObject(this.data.x),i=0;i<e.length;i++)this.meta.data.x[e[i]].unique&&t.push([e[i],"sl_radiooff","switchSmpAnnotationToId",[e[i]]]);return t},this.getSwitchVarToAnnotationMenu=function(){for(var t=[],e=0;e<this.data.y.vars.length;e++)t.push([this.data.y.vars[e],"sl_radiooff","switchVarToAnnotation",[this.data.y.vars[e]]]);return t},this.getSwitchAnnotationToVarMenu=function(){for(var t=[],e=this.sortObject(this.data.x),i=0;i<e.length;i++)this.meta.data.x[e[i]]&&t.push([e[i],"sl_radiooff","switchAnnotationToVar",[e[i]]]);return t},this.getSwitchVarAnnotationToIdMenu=function(){for(var t=[],e=this.sortObject(this.data.z),i=0;i<e.length;i++)this.meta.data.z[e[i]].unique&&t.push([e[i],"sl_radiooff","switchVarAnnotationToId",[e[i]]]);return t},this.getSwitchSamplesMenu=function(){var t=[],e=!1;return t.push(["Sample to Annotation","sw_down",e,e,e,"getSwitchSmpToAnnotationMenu",[]]),this.data.z&&t.push(["Annotation to Sample","sw_up",e,e,e,"getSwitchAnnotationToSmpMenu",[]]),this.data.x&&this.isUniqueFactor("s")&&t.push(["Annotation to Id","sw_updown",e,e,e,"getSwitchSmpAnnotationToIdMenu",[]]),t.push(["Create New Sample Id","op_more","switchSmpIdToAnnotation",[]]),t},this.getSwitchVariablesMenu=function(){var t=[],e=!1;return t.push(["Variable to Annotation","sw_down",e,e,e,"getSwitchVarToAnnotationMenu",[]]),this.data.x&&t.push(["Annotation to Variable","sw_up",e,e,e,"getSwitchAnnotationToVarMenu",[]]),this.data.z&&this.isUniqueFactor("v")&&t.push(["Annotation to Id","sw_updown",e,e,e,"getSwitchVarAnnotationToIdMenu",[]]),t.push(["Create New Variable Id","op_more","switchVarIdToAnnotation",[]]),t},this.getSwitchMenu=function(){var t=[],e=!1;return t.push(["Samples","ch_ls",e,e,e,"getSwitchSamplesMenu",[]]),t.push(["Variables","ch_lv",e,e,e,"getSwitchVariablesMenu",[]]),t},this.getConvertNumericToStringMenu=function(t,e){for(var i=[],a=this.sortObject(this.data[t]),s=0;s<a.length;s++)this.meta.data[t][a[s]]&&"Numeric"==this.meta.data[t][a[s]].type&&i.push([a[s],"sl_radiooff","switchNumericToString",[a[s],e]]);return i},this.getConvertStringToNumericMenu=function(t,e){for(var i=[],a=this.sortObject(this.data[t]),s=0;s<a.length;s++)this.meta.data[t][a[s]]&&"Numeric"!=this.meta.data[t][a[s]].type&&i.push([a[s],"sl_radiooff","switchStringToNumeric",[a[s],e]]);return i},this.getConvertVarSmpMenu=function(t,e){var i=[],a=!1;return this.isNumericFactor(e)&&i.push(["Numeric to String","tx_tostring",a,a,a,"getConvertNumericToStringMenu",[t,"s"==e]]),this.isStringFactor(e)&&i.push(["String to Numeric","tx_tonumeric",a,a,a,"getConvertStringToNumericMenu",[t,"s"==e]]),i},this.getConvertMenu=function(){var t=[],e=!1;return this.data.x&&t.push(["Samples","ch_ls",e,e,e,"getConvertVarSmpMenu",["x","s"]]),this.data.z&&t.push(["Variables","ch_lv",e,e,e,"getConvertVarSmpMenu",["z","v"]]),t},this.getTransformPercentMenu=function(){var t=[];return t.push(["By Sample","ch_ls","transform",["percentile","samples"]]),t.push(["By Variable","ch_lv","transform",["percentile","variables"]]),t},this.getTransformZScoreMenu=function(){var t=[];return t.push(["By Sample","ch_ls","transform",["zscore","samples"]]),t.push(["By Variable","ch_lv","transform",["zscore","variables"]]),t},this.getTransformRatioMenu=function(){var t=[],e=!1;return t.push(["To Sample","ch_ls",e,e,e,"getTransformRatioSmpMenu",[]]),this.data.x&&this.isGroupedData&&(t.push(["To Group","ch_lg",e,e,e,"getTransformRatioGrpMenu",[]]),this.ratioGroupReference&&this.data.x.hasOwnProperty(this.ratioGroupReference)&&t.push(["To Level","ch_ll",e,e,e,"getTransformRatioLevMenu",[]])),t},this.getTransformRatioLevMenu=function(){for(var t=[],e=this.sortObject(this.getObjectArray(this.data.x[this.ratioGroupReference])),i=0;i<e.length;i++)null!=e[i]&&t.push([e[i],this.ratioLevelReference==e[i]?"sl_radioon":"sl_radiooff","modifyTransformRatio",["level",e[i]]]);return t},this.getTransformRatioGrpMenu=function(){for(var t=[],e=this.sortObject(this.data.x),i=0;i<e.length;i++)t.push([e[i],this.ratioGroupReference==e[i]?"sl_radioon":"sl_radiooff","modifyTransformRatio",["group",e[i]]]);return t},this.getTransformRatioSmpMenu=function(){for(var t=[],e=0;e<this.data.y.smps.length;e++){var i=this.data.y.smps[e];t.push([i,this.ratioSampleReference==i?"sl_radioon":"sl_radiooff","modifyTransformRatio",["sample",i]])}return t},this.getTransformMenu=function(){var t=[];if(this.isDOE)t.push(["Log Base 2","ch_olog2","changeAttribute",["transformType","log2"]]),t.push(["Log Base 10","ch_olog10","changeAttribute",["transformType","log10"]]),t.push(["Exp Base 2","ch_oe2","changeAttribute",["transformType","exp2"]]),t.push(["Exp Base 10","ch_oe10","changeAttribute",["transformType","exp10"]]),t.push(["Reset","op_refresh","changeAttribute",["transformType","reset"]]);else{var e=!1;t.push(["Log Base 2","ch_olog2","transform",["log2"]]),t.push(["Log Base 10","ch_olog10","transform",["log10"]]),t.push(["Exp Base 2","ch_oe2","transform",["exp2"]]),t.push(["Exp Base 10","ch_oe10","transform",["exp10"]]),t.push(["Ceil data","ch_oceil",e,e,e,"changeTextColorAttributeMenu",["-text-",[e,"modifyTransform",["tceil"]]]]),t.push(["Floor data","ch_ofloor",e,e,e,"changeTextColorAttributeMenu",["-text-",[e,"modifyTransform",["tfloor"]]]]),t.push(["Percentile","ch_spercent",e,e,e,"getTransformPercentMenu",[]]),t.push(["Z-Score","ch_lz",e,e,e,"getTransformZScoreMenu",[]]),t.push(["Ratio","ch_lr",e,e,e,"getTransformRatioMenu",[]]),t.push(["-"]),t.push(["Reset","op_refresh","transform",["reset"]]),t.push(["-"]),t.push(["Overwrite data","sv_disk","transform",["save"]])}return t},this.getAxisTransformMenu=function(t){var e=[];return t=t.toLowerCase(),e.push(["Log Base 2","ch_olog2","changeAttribute",[t+"AxisTransform","log2"]]),e.push(["Log Base 10","ch_olog10","changeAttribute",[t+"AxisTransform","log10"]]),e.push(["Exp Base 2","ch_oe2","changeAttribute",[t+"AxisTransform","exp2"]]),e.push(["Exp Base 10","ch_oe10","changeAttribute",[t+"AxisTransform","exp10"]]),e.push(["Percentile","ch_spercent","changeAttribute",[t+"AxisTransform","exp10"]]),e.push(["-"]),e.push(["Reset","op_refresh","changeAttribute",[t+"AxisTransform",!1]]),e},this.getSortSmpIntensityMenu=function(){var t=[],e={};if(this.sortingSamples)for(var i=0;i<this.sortingSamples.length;i++)e[this.sortingSamples[i]]=!0;for(i=0;i<this.data.y.smps.length;i++)t.push([this.data.y.smps[i],e[this.data.y.smps[i]]?"sl_checkboxon":"sl_checkboxoff","modifySort",["smp","var",this.data.y.smps[i]]]);return t},this.getSortVarIntensityMenu=function(){var t=[],e={};if(this.sortingVariables)for(var i=0;i<this.sortingVariables.length;i++)e[this.sortingVariables[i]]=!0;for(i=0;i<this.data.y.vars.length;i++)t.push([this.data.y.vars[i],e[this.data.y.vars[i]]?"sl_checkboxon":"sl_checkboxoff","modifySort",["var","smp",this.data.y.vars[i]]]);return t},this.getSortSmpCatMenu=function(){var t=[],e={},i=this.sortObject(this.data.x);if(this.sortingSampleCategories)for(var a=0;a<this.sortingSampleCategories.length;a++)e[this.sortingSampleCategories[a]]=!0;for(a=0;a<i.length;a++)t.push([i[a],e[i[a]]?"sl_checkboxon":"sl_checkboxoff","modifySort",["cat","smp",i[a]]]);return t},this.getSortVarCatMenu=function(){var t=[],e={},i=this.sortObject(this.data.z);if(this.sortingVariableCategories)for(var a=0;a<this.sortingVariableCategories.length;a++)e[this.sortingVariableCategories[a]]=!0;for(a=0;a<i.length;a++)t.push([i[a],e[i[a]]?"sl_checkboxon":"sl_checkboxoff","modifySort",["cat","var",i[a]]]);return t},this.getSortSmpMenu=function(){var t=[],e=!1;return t.push(["By Variable Intensity","ch_lv",e,e,e,"getSortVarIntensityMenu",[]]),this.data.x&&t.push(["By Sample Category","ch_lx",e,e,e,"getSortSmpCatMenu",[]]),t.push(["By Name","ch_ls","modifySort",[!1,"smp","samples"]]),t},this.getSortVarMenu=function(){var t=[],e=!1;return t.push(["By Sample Intensity","ch_ls",e,e,e,"getSortSmpIntensityMenu",[]]),this.data.z&&t.push(["By Variable Category","ch_lz",e,e,e,"getSortVarCatMenu",[]]),t.push(["By Name","ch_lv","modifySort",[!1,"var","variables"]]),t},this.getSortChangeMenu=function(){var t=[];return t.push(["Samples","ch_ls","changeAttribute",["sortDir",this.sortDir,!0,"modifySort",[this.isGroupedData?"grpIndex":"smpIndex"]]]),t.push(["Variables","ch_lv","changeAttribute",["sortDir",this.sortDir,!0,"modifySort",["varIndex"]]]),t},this.getSortMenu=function(){var t=[];if(this.isDOE)t.push(["Sort string","sr_az","changeAttribute",["sortType","String"]]),t.push(["Sort numeric","sr_19","changeAttribute",["sortType","Numeric"]]);else{var e=!1;t.push(["Change Sort","sr_azi",e,e,e,"getSortChangeMenu",[]]),t.push(["Case Sensitive",this.sortCaseSensitive?"sl_checkboxon":"sl_checkboxoff","toggleAttribute",["sortCaseSensitive","modifySort",["both"]]]),t.push(["-"]),t.push(["Sort Samples","ch_ls",e,e,e,"getSortSmpMenu",[]]),t.push(["Sort Variables","ch_lv",e,e,e,"getSortVarMenu",[]])}return t},this.getSliderMenu=function(){var t=[];for(var e in this.binConfigurations)t.push([e,!1,!1,!1,!1,[["-slider-","changeBin",[e]]]]);return t},this.getPivotMenu=function(){var t=[];if(this.isPivotable()){var e=this.data.x?this.sortObject(this.data.x):[];if(3==this.data.y.vars.length){var i=this.data.y.vars;t.push([i[0]+" as Variables; "+i[1]+" as Samples","sl_radiooff","pivotYY",[i[0],i[1]]]),t.push([i[0]+" as Variables; "+i[2]+" as Samples","sl_radiooff","pivotYY",[i[0],i[2]]]),t.push([i[1]+" as Variables; "+i[0]+" as Samples","sl_radiooff","pivotYY",[i[1],i[0]]]),t.push([i[1]+" as Variables; "+i[2]+" as Samples","sl_radiooff","pivotYY",[i[1],i[2]]]),t.push([i[2]+" as Variables; "+i[0]+" as Samples","sl_radiooff","pivotYY",[i[2],i[0]]]),t.push([i[2]+" as Variables; "+i[1]+" as Samples","sl_radiooff","pivotYY",[i[2],i[1]]])}else if(2==this.data.y.vars.length){i=this.data.y.vars;t.push([e[0]+" as Variables; "+i[0]+" as Samples","sl_radiooff","pivotXY",[e[0],i[0]]]),t.push([e[0]+" as Variables; "+i[1]+" as Samples","sl_radiooff","pivotXY",[e[0],i[1]]]),t.push([i[0]+" as Variables; "+e[0]+" as Samples","sl_radiooff","pivotXY",[i[0],e[0]]]),t.push([i[1]+" as Variables; "+e[0]+" as Samples","sl_radiooff","pivotXY",[i[1],e[0]]])}else 2==e.length&&(t.push([e[0]+" as Variables; "+e[1]+" as Samples","sl_radiooff","pivotXX",[e[0],e[1]]]),t.push([e[1]+" as Variables; "+e[0]+" as Samples","sl_radiooff","pivotXX",[e[1],e[0]]]));for(var a=0;a<e.length;a++)"String"==this.meta.data.x[e[a]].type&&t.push(["Pivot on "+e[a],"sl_radiooff","pivotX",[e[a]]])}return t},this.getRdatasetsMenu=function(){var t=[];if(this.Rdatasets){var e=this.sortObject(this.Rdatasets);e=e.sort((function(t,e){return t.toLowerCase()>e.toLowerCase()}));for(var i=0;i<e.length;i++)t.push([e[i],"sl_radiooff","getRLibraryDataSets",[e[i]]])}return t},this.getRangeMenu=function(){var t=[],e=!1;return t.push(["Set Min","dtp_min",e,e,e,"changeTextColorAttributeMenu",["-text-","setMinX"]]),t.push(["Set Max","dtp_max",e,e,e,"changeTextColorAttributeMenu",["-text-","setMaxX"]]),t.push(["Exact Range","dtp_exact","toggleAttribute",["xAxisExact"]]),t},this.getSummaryTypeMenu=function(){var t=[],e=["mean","median","min","max","sum","count"];t.push(["Raw",this.summaryType&&"raw"!=this.summaryType?"sl_radiooff":"sl_radioon","modifySummaryType",["raw"]]);for(var i=0;i<e.length;i++)t.push([this.capitalize(e[i]),this.summaryType==e[i]?"sl_radioon":"sl_radiooff","modifySummaryType",[e[i]]]);return t},this.getDataMenu=function(){var t=this.graphType.match(/Area|Gantt/)||"Circular"==this.graphType&&"sunburst"==this.circularType,e=[],i=!1;return!this.isBinConfigurations()||t||this.isDOE||e.push(["Configure Bins","ch_lb",i,i,i,"getSliderMenu",[]]),!this.data.x&&!this.data.z||this.isDOE||e.push(["Convert Annotations","tx_stringnumeric",i,i,i,"getConvertMenu",[]]),"Heatmap"!=this.graphType||this.isDOE||e.push(["Range","dtp_range",i,i,i,"getRangeMenu",[]]),t||this.isDOE||e.push(["Summary Type","ch_ssum",i,i,i,"getSummaryTypeMenu",[]]),this.isDOE||e.push(["Switch Data","sw_updown",i,i,i,"getSwitchMenu",[]]),this.graphType.match(/Scatter/i)||e.push(["Sort","sr_azi",i,i,i,"getSortMenu",[]]),t||e.push(["Transform","ch_ofx",i,i,i,"getTransformMenu",[]]),this.layoutValid||this.showIdeogram||e.push(["Transpose","dtt_transpose","transpose"]),!this.isPivotable()||this.isPivot||t||this.isDOE?!this.isPivot||t||this.isDOE||e.push(["Remove Pivot","dtt_pivotremove","removePivot"]):e.push(["Pivot","dtt_pivot",i,i,i,"getPivotMenu",[]]),this.layoutValid||t||this.isDOE||this.graphType.match(/Circular/)||e.push(["Bin Data","dt_hist",i,i,i,"getBinDataMenu",[]]),e},this.getLoessFamilyMenu=function(){return[["Gaussian","gaussian"==this.loessFamily?"sl_radioon":"sl_radiooff","changeAttribute",["loessFamily","gaussian"]],["Symmetric","symmetric"==this.loessFamily?"sl_radioon":"sl_radiooff","changeAttribute",["loessFamily","symmetric"]]]},this.getLoessStatisticsMenu=function(){return[["Approximate","approximate"==this.loessStatistics?"sl_radioon":"sl_radiooff","changeAttribute",["loessStatistics","approximate"]],["Exact","exact"==this.loessStatistics?"sl_radioon":"sl_radiooff","changeAttribute",["loessStatistics","exact"]]]},this.getLoessSurfaceMenu=function(){return[["Interpolate","interpolate"==this.loessSurface?"sl_radioon":"sl_radiooff","changeAttribute",["loessSurface","interpolate"]],["Direct","direct"==this.loessSurface?"sl_radioon":"sl_radiooff","changeAttribute",["loessSurface","direct"]]]},this.getLoessMenu=function(){var t=[],e=!1;return t.push([this.showConfidenceIntervals?"Hide Confidence":"Show Confidence",this.showConfidenceIntervals?"sl_eclose":"sl_eopen","toggleAttribute",["showConfidenceIntervals"]]),t.push(["Statistics","ch_of",e,e,e,"getLoessStatisticsMenu",[]]),t.push(["Surface","ch_ls",e,e,e,"getLoessSurfaceMenu",[]]),t.push(["Family","cr_normal",e,e,e,"getLoessFamilyMenu",[]]),t.push(["Span","ar_v",e,e,e,"changeTextColorAttributeMenu",["-text-","loessSpan"]]),t.push(["Normalize",this.loessNormalize?"sl_checkboxon":"sl_checkboxoff","toggleAttribute",["loessNormalize"]]),t.push(["Degree","ch_ld",e,e,e,"changeTextColorAttributeMenu",["-text-","loessDegree"]]),t.push(["Iterations","ch_li",e,e,e,"changeTextColorAttributeMenu",["-text-","loessIterations"]]),t.push(["Cell","ch_lc",e,e,e,"changeTextColorAttributeMenu",["-text-","loessCell"]]),t.push([this.showLoessFit?"Hide Loess Fit":"Show Loess Fit",this.showLoessFit?"sl_eclose":"sl_eopen","toggleAttribute",["showLoessFit"]]),t},this.getQuantileRegressionMenu=function(){var t=[];return t.push([this.showQuantileRegressionFit?"Hide Quantile Regression Fit":"Show Quantile Regression Fit",this.showQuantileRegressionFit?"sl_eclose":"sl_eopen","toggleAttribute",["showQuantileRegressionFit"]]),t},this.getHistogramDensityMenu=function(){for(var t=["gaussian","rectangular","triangular","epanechnikov","quartic","biweight","cosine","optcosine"],e=[],i=0;i<t.length;i++)e.push([t[i],t[i]==this.densityKernel?"sl_radioon":"sl_radiooff","changeAttribute",["densityKernel",t[i],!1,"modifyHistogram"]]);return e},this.getHistogramMedianLineStyleMenu=function(){var t=[];return t.push(["Solid","ln_stylesolid","changeAttribute",["histogramMedianLineStyle","solid","modifyHistogram"]]),t.push(["Dotted","ln_styledotted","changeAttribute",["histogramMedianLineStyle","dotted","modifyHistogram"]]),t.push(["Dashed","ln_styledashed","changeAttribute",["histogramMedianLineStyle","dashed","modifyHistogram"]]),t},this.getHistogramTypeMenu=function(){return[["Dodged","dodged"==this.histogramType?"sl_radioon":"sl_radiooff","changeAttribute",["histogramType","dodged",!1,"modifyHistogram"]],["Staggered","staggered"==this.histogramType?"sl_radioon":"sl_radiooff","changeAttribute",["histogramType","staggered",!1,"modifyHistogram"]],["Stacked","stacked"==this.histogramType?"sl_radioon":"sl_radiooff","changeAttribute",["histogramType","stacked",!1,"modifyHistogram"]]]},this.getHistogramStatMenu=function(){return[["Count","count"==this.histogramStat?"sl_radioon":"sl_radiooff","changeAttribute",["histogramStat","count",!1,"modifyHistogram"]],["Density","density"==this.histogramStat?"sl_radioon":"sl_radiooff","changeAttribute",["histogramStat","density",!1,"modifyHistogram"]]]},this.getHistogramDensityPositionMenu=function(){return[["Normal","normal"==this.densityPosition?"sl_radioon":"sl_radiooff","changeAttribute",["densityPosition","normal",!1,"modifyHistogram"]],["Stacked","stacked"==this.densityPosition?"sl_radioon":"sl_radiooff","changeAttribute",["densityPosition","stacked",!1,"modifyHistogram"]],["Filled","filled"==this.densityPosition?"sl_radioon":"sl_radiooff","changeAttribute",["densityPosition","filled",!1,"modifyHistogram"]]]},this.getHistogramMenu=function(){var t=[],e=!1;return t.push(["Bin Number","ch_snumber",e,e,e,"changeTextColorAttributeMenu",["-text-",["histogramBins","modifyHistogram"]]]),t.push(["Bin Width","sp_thickness",e,e,e,"changeTextColorAttributeMenu",["-text-",["histogramBinWidth","modifyHistogram"]]]),t.push(["Density Kernel","dt_denfit",e,e,e,"getHistogramDensityMenu",[]]),t.push(["Density Position","ch_lp",e,e,e,"getHistogramDensityPositionMenu",[]]),t.push(["Remove Histogram","dt_histremove","removeHistogram"]),t.push([this.hideHistogram?"Show Histogram Bars":"Hide Histogram Bars",this.hideHistogram?"sl_eopen":"sl_eclose","toggleAttribute",["hideHistogram","modifyHistogram"]]),t.push([this.showHistogramPath?"Hide Histogram Path":"Show Histogram Path",this.showHistogram?"sl_eclose":"sl_eopen","toggleAttribute",["showHistogramPath","modifyHistogram"]]),t.push([this.histogramRight?"Right":"Left",this.histogramRight?"ps_right":"ps_left","toggleAttribute",["histogramRight","modifyHistogram"]]),t.push([this.histogramLowest?"Include Lowest":"Exclude Lowest",this.histogramLowest?"sl_radioon":"sl_radiooff","toggleAttribute",["histogramLowest","modifyHistogram"]]),t.push(["Histogram Type","dt_histstag",e,e,e,"getHistogramTypeMenu",[]]),t.push(["Histogram Stat","ch_of",e,e,e,"getHistogramStatMenu",[]]),t.push([this.showHistogramDensity?"Hide Density":"Show Density",this.showHistogramDensity?"sl_eclose":"sl_eopen","toggleAttribute",["showHistogramDensity","modifyHistogram"]]),t.push([this.showFilledHistogramDensity?"Hide Filled Density":"Show Filled Density",this.showFilledHistogramDensity?"sl_eclose":"sl_eopen","toggleAttribute",["showFilledHistogramDensity","modifyHistogram"]]),t.push(["Fill Transparency","at_trn",e,e,e,"changeTextColorAttributeMenu",["-text-",["histogramDensityFillTransparency","modifyHistogram"]]]),t.push([this.showHistogramMedian?"Hide Median":"Show Median",this.showHistogramMedian?"sl_eclose":"sl_eopen","toggleAttribute",["showHistogramMedian"]]),t.push(["Median Line Style","ln_style",e,e,e,"getHistogramMedianLineStyleMenu",[]]),t},this.getHistogramCreateMenu=function(){var t=[];if(this.data.z){for(var e=this.sortObject(this.data.z),i=0;i<e.length;i++)t.push([e[i],"sl_radiooff","createHistogram",[e[i]]]);t.push(["Single","sl_radiooff","createHistogram",[]])}else t.push(["Show Histogram","sl_radiooff","createHistogram",[]]);return t},this.getCorrelateMenu=function(){var t=[];if(this.data.z){for(var e=this.sortObject(this.data.z),i=0;i<e.length;i++)t.push([e[i],"sl_radiooff","addRegressionLine",[e[i]]]);t.push(["Single","sl_radiooff","correlateData",[]])}else t.push(["Show Correlation","sl_radiooff","correlateData",[]]);return t},this.getContourTypeMenu=function(){return[["Normal","normal"==this.contourType?"sl_radioon":"sl_radiooff","changeAttribute",["contourType","normal"]],["Raster","raster"==this.contourType?"sl_radioon":"sl_radiooff","changeAttribute",["contourType","raster"]],["Point","point"==this.contourType?"sl_radioon":"sl_radiooff","changeAttribute",["contourType","point"]]]},this.getContourStatMenu=function(){return[["Count","count"==this.contourStat?"sl_radioon":"sl_radiooff","changeAttribute",["contourStat","count"]],["Ndensity","ndensity"==this.contourStat?"sl_radioon":"sl_radiooff","changeAttribute",["contourStat","ndensity"]],["Density","density"==this.contourStat?"sl_radioon":"sl_radiooff","changeAttribute",["contourStat","density"]]]},this.getContourMenu=function(){var t=[],e=!1;return t.push([this.showContourLevel?"Hide Contour Levels":"Show Contour Levels",this.showContourLevel?"sl_eclose":"sl_eopen","toggleAttribute",["showContourLevel"]]),t.push(["Contour Stat","ch_of",e,e,e,"getContourStatMenu",[]]),t.push(["Number of Levels","ch_snumber",e,e,e,"changeTextColorAttributeMenu",["-text-","contourLevelNumber"]]),t.push(["Bin Width","dt_denfit",e,e,e,"changeTextColorAttributeMenu",["-text-","contourLevelWidth"]]),t.push(["Contour Filled",this.contourFilled?"sl_eclose":"sl_eopen","toggleAttribute",["contourFilled"]]),t.push(["Fill Transparency","at_trn",e,e,e,"changeTextColorAttributeMenu",["-text-",["contourFilledTransparency"]]]),t.push(["Show Contour Bands",this.showContourBands?"sl_eclose":"sl_eopen","toggleAttribute",["showContourBands"]]),t.push(["Bands Color","at_col",e,e,e,"changeTextColorAttributeMenu",["-color-","contourBandsColor"]]),t.push(["Show Data Points",this.showContourDataPoints?"sl_eclose":"sl_eopen","toggleAttribute",["showContourDataPoints"]]),t.push(["Data Points Color","at_col",e,e,e,"changeTextColorAttributeMenu",["-color-","contourDataPointsColor"]]),t.push(["Contour Type","ch_lt",e,e,e,"getContourTypeMenu",[]]),t.push(["Contour Color Scheme","at_palette",e,e,e,"getColorSpectrumSchemeMenu",["contourColorScheme","Contour"]]),t.push(["Remove Contour","dt_contourremove","removeContour"]),t},this.getContourCreateMenu=function(){var t=[];if(this.data.z&&"Heatmap"!=this.graphType){for(var e=this.sortObject(this.data.z),i=0;i<e.length;i++)t.push([e[i],"sl_radiooff","modifyContour",[e[i]]]);t.push(["Single","sl_radiooff","modifyContour",[]])}else t.push(["Show Contour","sl_radiooff","modifyContour",[]]);return t},this.getDOEMenu=function(){for(var t=[],e=this.initialGraphType.match(/Scatter|Map/)?this.getKeys(this.dataStndBy.z):this.getKeys(this.dataStndBy.x),i=this.initialGraphType.match(/Scatter|Map/)?this.data.y.smps:this.data.y.vars,a=this.getObjectArray(this.includeDOE),s=0;s<e.length;s++)t.push([e[s],a[e[s]]?"sl_checkboxon":"sl_checkboxoff","modifyDOE",[e[s]]]);if(this.extendedDOE){var r=Math.min(i.length,this.maxSubMenus);for(s=0;s<r;s++)t.push([i[s],a[i[s]]?"sl_checkboxon":"sl_checkboxoff","modifyDOE",[i[s]]])}return t},this.getDOEConfigurationMenu=function(){var t=[],e=this.layoutCurrent,i=this.layoutConfig[e]&&this.layoutConfig[e].graphType?this.layoutConfig[e].graphType:this.data.l.type[e],a=!1;return e?(t.push(["Graph Type","ly_doe",a,a,a,"getDOEGraphTypeMenu",[]]),t.push(["Graph Size","ar_minmax",a,a,a,"getDOEGraphSizeMenu",[]]),"Scatter"==i&&t.push(["Axes","p_g2axes",a,a,a,"getDOEAxesMenu",[]])):t.push(["Graph Size","ar_minmax",a,a,a,"getDOEGraphSizeMenu",[]]),t},this.getDOEGraphTypeMenu=function(){var t=this.layoutCurrent,e=[];return this.data.l.type[t].match(/Pie|Treemap/)?(e.push(["Pie Chart","g_pie","updateDOEGraphType",["Pie"]]),e.push(["Treemap","g_treemap","updateDOEGraphType",["Treemap"]]),e.push(["Table","tb_table","updateDOEGraphType",["Table"]])):(e.push(["Bar","g_bar","updateDOEGraphType",["Bar"]]),e.push(["Dotplot","g_dotplot","updateDOEGraphType",["Dotplot"]]),e.push(["Line","g_line","updateDOEGraphType",["Line"]]),e.push(["Scatter 2D","g_scatter2d","updateDOEGraphType",["Scatter"]]),e.push(["Histogram","g_histogram","updateDOEGraphType",["Scatter2D"]]),e.push(["Table","tb_table","updateDOEGraphType",["Table"]])),e},this.getDOEGraphSizeMenu=function(){for(var t=[],e=this.layoutCurrent,i=this.layoutConfig[e]&&this.layoutConfig[e].size?this.layoutConfig[e].size:"1X1",a=this.layout.split("X"),s=0;s<a[0];s++)for(var r=0;r<a[1];r++){var n=s+1+"X"+(r+1);t.push([n,i==n?"sl_radioon":"sl_radiooff","updateDOEGraphSize",[n]])}return t},this.getDOETopologyMenu=function(){for(var t=[],e=2;e<5;e++)for(var i=2;i<5;i++){var a=e+"X"+i;t.push([a,this.layoutTopology==a?"sl_radioon":"sl_radiooff","modifyDOE",["layout",a]])}return t},this.getDOEAxesMenu=function(){var t=[],e=!1;return t.push(["X-Axis","p_g2axisx",e,e,e,"getDOEAxisMenu",["x"]]),t.push(["Y-Axis","p_g2axisy",e,e,e,"getDOEAxisMenu",["y"]]),t},this.getDOEAxisMenu=function(t){return[["Series","ch_ls",!1,!1,!1,"getDOEAxisSeriesMenu",[t]]]},this.getDOEAxisSeriesMenu=function(t){for(var e=[],i=this.sortObject(this.data.x),a=this.layoutCurrent,s=this.dataStndBy.x,r=this.layoutConfig[a]&&this.layoutConfig[a].xAxis?this.layoutConfig[a].xAxis:this.data.l.smps[a][0],n=this.layoutConfig[a]&&this.layoutConfig[a].yAxis?this.layoutConfig[a].yAxis:this.data.l.smps[a][0],o="x"==t?s.hasOwnProperty(r)?r:this.data.y.vars[r]:s.hasOwnProperty(n)?n:this.data.y.vars[n],h=0;h<i.length;h++)"Numeric"==this.meta.data.x[i[h]].type&&e.push([i[h],i[h]==o?"sl_radioon":"sl_radiooff","updateDOEAxis",[t,i[h]]]);e.length&&e.push(["-"]);for(h=0;h<this.data.y.vars.length;h++)e.push([this.data.y.vars[h],this.data.y.vars[h]==o?"sl_radioon":"sl_radiooff","updateDOEAxis",[t,h]]);return e},this.getCorrelationCatMenu=function(t,e){for(var i=[],a=this.sortObject(this.data[t]),s=0;s<a.length;s++)this.isNumeric(this.data[t][a[s]])&&i.push([a[s],"sl_radiooff","correlateData",[e,a[s]]]);return i},this.getCorrelationMenu=function(){var t=[],e=!1;return this.data.y.vars.length>=3&&t.push(["Samples","ch_ls","correlateData"]),this.data.y.smps.length>=3&&this.data.x&&this.isNumericFactor("s")&&t.push(["Sample Annotation","ch_ls",e,e,e,"getCorrelationCatMenu",["x",!0]]),this.data.y.smps.length>=3&&t.push(["Variables","ch_lv","correlateData",[!0]]),this.data.y.vars.length>=3&&this.data.z&&this.isNumericFactor("v")&&t.push(["Variable Annotation","ch_lv",e,e,e,"getCorrelationCatMenu",["z",e]]),t},this.getMagnificationMenu=function(){for(var t=[],e=1;e<=10;e++)t.push([96*e+" DPI",this.printMagnification==e?"sl_radioon":"sl_radiooff","changeAttributeNoDraw",["printMagnification",e]]);return t},this.getParametersMenu=function(){var t=[];return t.push(["Load Parameters","cd_upload",!0,[]]),t.push(["Save as JSON","sv_diskjson","save",[!1,"cX-"+this.target+"-param",!0]]),t},this.getReproducibleResearchMenu=function(){var t=[];return t.push(["Reproducible Research code","c_rrcode","clickRepResearch",[]]),t.push(["Show JSON code","cd_json","clickShowCode",[]]),t.push(["Show R code","c_rcode","clickShowRCode",[]]),t.push(["Show Python code","c_python","clickShowPythonCode",[]]),t.push(["Show Jupyter code","c_jupyter","clickShowPythonCode",[!1,!1,!0]]),t.push(["Show Meta data","cd_params","clickShowMetaCode",[]]),this.motionBy||(t.push(["Reproduce","op_redo","reproduce",[!1],CanvasXpress.system.control+" + "+CanvasXpress.system.alt+" + R"]),t.push(["Replay","sv_video","reproduce",[!1,!0],CanvasXpress.system.shift+" + "+CanvasXpress.system.control+" + R"]),t.push(["Print Sequence","sv_pictures","reproduce",[!1,!1,!0],CanvasXpress.system.shift+" + "+CanvasXpress.system.control+" + P"])),t.push(["-"]),t},this.getFileMenu=function(){var t=[],e=!1;return t.push(["Save as PNG","sv_image","print",[],CanvasXpress.system.control+" + P"]),this.graphType.match(/Venn|TagCloud|Map/)||t.push(["Save as SVG","sv_svg","saveSVG",[]]),t.push(["Save as JSON","sv_diskjson","save",[],CanvasXpress.system.control+" + S"]),this.editable&&(t.push(["Edit in JS Fiddle","c_jsfiddle","editJSFiddle",[]]),t.push(["Edit in CodePen","c_codepen","editCodePen",[]])),t.push(["Print Magnification","z_zoom",e,e,e,"getMagnificationMenu",[]]),t.push(["-"]),t.push(["Reproducible Research","c_rr",e,e,e,"getReproducibleResearchMenu",[]]),this.remoteService&&"webService"==this.remoteServiceType&&(t.push(["Save customizations to server","sv_disk","saveRemote",["afterRender"]]),t.push(["Clear parameters from server","sv_diskremove","clearRemote",[]])),t.push(["-"]),t.push(["Load","cd_upload",!0,[]]),this.Rdatasets&&t.push(["R Datasets","c_r",e,e,e,"getRdatasetsMenu",[]]),t.push(["-"]),t.push(["Parameters","wp_configuration",e,e,e,"getParametersMenu",[]]),t.push(["-"]),t.push(["Reset","op_refresh","masterReset",[],"ESC"]),t.push(["Hard Reset","op_redo","replot",[!1,!1,!0],CanvasXpress.system.shift+" ESC"]),t},this.getExploreMenu=function(){var t=this.getObjectArray(CanvasXpress.graphTypes.OneDGraphs),e=[];if(this.disableDataFilters||e.push(["Filters","fp_funnel","clickDataFilters",[]]),this.disableDataTable||e.push(["Table","tb_table","clickDataTable",[]]),this.disableDataExplorer||"Network"==this.graphType||"Genome"==this.graphType||e.push(["Configure","wp_installation","clickDataExplorer",[]]),!this.isCorrelate&&!this.isDOE)if(!t[this.graphType]||this.is3DPlot||this.graphType.match(/Treemap|Gantt/)||this.isContour)if("Scatter2D"==this.graphType){var i=this.decorations&&this.decorations.nlfit;!this.data.z&&!this.extendedDOE||this.scatterPlotMatrix||i||this.isValidQQ()||this.isValidCDF()?this.isHistogram&&(this.dataStndBy.z||this.extendedDOE)&&(e.push(["-"]),e.push(["Explore Meta-Data","ly_doe","createDOE"])):(e.push(["-"]),e.push(["Explore Meta-Data","ly_doe","createDOE"]))}else this.graphType.match(/Map|Sankey|Tree/)&&!this.graphType.match(/Treemap|Gantt/)&&(this.data.z||this.extendedDOE)&&(e.push(["-"]),e.push(["Explore Meta-Data","ly_doe","createDOE"]));else(this.data.x||this.extendedDOE)&&(e.push(["-"]),e.push(["Explore Meta-Data","ly_doe","createDOE"]));return this.disableConfigurator||(e.push(["-"]),e.push(["Search Parameters","z_zoom","addConfiguratorCloseMenus"])),e},this.getConfigurationMenu=function(){var t=this.decorations,e=!1,i=[];if("Map"==this.graphType||"Tree"==this.graphType)i.push(["Citation","p_g1citation",e,e,e,"getGraphPartMenu",["citation"]]),i.push(["Legend","lg_legend",e,e,e,"getLegendMenu",[]]),i.push(["Title / Subtitle","Heatmap"==this.graphType?"p_ghtitlesubtitle":"p_g1titlesubtitle",e,e,e,"getTitleSubtitleMenu",[]]);else if({Bar:!0,Line:!0,Area:!0,AreaLine:!0,BarLine:!0,Boxplot:!0,Dotplot:!0,DotLine:!0,Gantt:!0,Heatmap:!0,Treemap:!0,TagCloud:!0,ParallelCoordinates:!0,Sankey:!0,Stacked:!0,StackedLine:!0,StackedPercent:!0,StackedPercentLine:!0}[this.graphType]&&!this.is3DPlot)"Heatmap"!=this.graphType&&(i.push(["Axes","p_g1axes",e,e,e,"getAxesMenu",[]]),i.push(["Axes Titles","p_g1axestitles",e,e,e,"getAxesTitleMenu",[]])),i.push(["Citation","Heatmap"==this.graphType?"p_ghcitation":"p_g1citation",e,e,e,"getGraphPartMenu",["citation"]]),i.push(["General","Heatmap"==this.graphType?"gc_ggh":"gc_gg1",e,e,e,"getGeneralMenu",[]]),"Heatmap"!=this.graphType&&(i.push(["Grid","gr_g1",e,e,e,"getPlotAreaGridMenu",["x"]]),this.graphType.match(/Dot/)?i.push(["Dotplot","g_dotplot",e,e,e,"getDataPointsMenu",[]]):"Boxplot"==this.graphType&&i.push(["Boxplot","g_boxplot",e,e,e,"getBoxplotMenu",[]]),i.push(["Plot Area","gc_gg1",e,e,e,"getPlotAreaOneMenu",[]]),t&&i.push(["Decorations",t.marker?"gd_g1marker":"gd_g1line",e,e,e,"getDecorationsMenu",[]]),i.push(["Legend","lg_g1",e,e,e,"getLegendMenu",[]]),this.data.x&&i.push(["Overlays","o_g1",e,e,e,"getOverlaysMenu",[]])),"Heatmap"==this.graphType&&(i.push(["Indicator","i_h",e,e,e,"getIndicatorMenu",[]]),i.push(["Heatmap","g_heatmap",e,e,e,"getHeatmapMenu",[]]),(this.data.x||this.data.z)&&i.push(["Overlays","o_ghsmps",e,e,e,"getOverlaysMenu",[]])),i.push(["Sample Labels","Heatmap"==this.graphType?"p_ghsamplelabels":"p_g1samplelabels",e,e,e,"getSmpLabelMenu",[]]),i.push(["Samples Title","Heatmap"==this.graphType?"p_ghsampletitle":"p_g1sampletitle",e,e,e,"getGraphPartMenu",["smpTitle",!0]]),"Heatmap"==this.graphType&&(i.push(["Variable Labels","p_ghvariablelabels",e,e,e,"getVarLabelMenu",[]]),i.push(["Variables Title","p_ghvariabletitle",e,e,e,"getGraphPartMenu",["varTitle",!0]])),i.push(["Title / Subtitle","Heatmap"==this.graphType?"p_ghtitlesubtitle":"p_g1titlesubtitle",e,e,e,"getTitleSubtitleMenu",[]]);else if(this.graphType.match(/scatter/i)||this.is3DPlot){if("Scatter3D"==this.graphType||this.is3DPlot?(i.push(["Axes","p_g3axes",e,e,e,"getAxesMenu",[]]),i.push(["Axes Titles","p_g3axestitles",e,e,e,"getAxesTitleMenu",[]]),i.push(["Citation","p_g3citation",e,e,e,"getGraphPartMenu",["citation"]]),i.push(["General","gc_gg3",e,e,e,"getGeneralMenu",[]])):(i.push(["Axes","p_g2axes",e,e,e,"getAxesMenu",[]]),i.push(["Axes Titles","p_g2axestitles",e,e,e,"getAxesTitleMenu",[]]),i.push(["Citation","p_g2citation",e,e,e,"getGraphPartMenu",["citation"]]),i.push(["General","gc_gg2",e,e,e,"getGeneralMenu",[]])),i.push(["Grid","gr_g2xy",e,e,e,"getPlotAreaScatterGridMenu",[]]),i.push(["Plot Area","gc_gg2",e,e,e,"getPlotAreaScatterMenu",[]]),t){var a=t.nlfit?"dt_cdf":t.line?"gd_g2line":t.reg?"dt_cor":t.nor?"dt_denfit":t.area?"dt_denfitfilled":t.qq?"dt_qq":t.cdf?"dt_cdf":this.isKM?"dt_km":t.marker?"gd_g2marker":"gd_g2line";i.push(["Decorations",a,e,e,e,"getDecorationsMenu",[]])}i.push(["Legend","lg_g2",e,e,e,"getLegendMenu",[]]),i.push(["Title / Subtitle","p_g2titlesubtitle",e,e,e,"getTitleSubtitleMenu",[]]),this.isSelectDataPoints&&(i.push(["Show hidden data points","sl_eopen","showHideSelectedData",[e,45],"Ctrl + Insert"]),i.push(["Hide data points","sl_eremove","showHideSelectedData",[e,46],"Ctrl + Delete"]))}return i},this.getAlignNetworkMenu=function(){var t=[];return t.push(["Top","a_aligntop","alignDistributeSelectedNodes",[!1,84]]),t.push(["Right","a_alignright","alignDistributeSelectedNodes",[!1,82]]),t.push(["Bottom","a_alignbottom","alignDistributeSelectedNodes",[!1,66]]),t.push(["Left","a_alignleft","alignDistributeSelectedNodes",[!1,76]]),t},this.getDistributeNetworkMenu=function(){var t=[];return t.push(["Vertically","a_distributever","alignDistributeSelectedNodes",[!1,86]]),t.push(["Horozontally","a_distributehor","alignDistributeSelectedNodes",[!1,72]]),t},this.getRotateNetworkMenu=function(){var t=[];return t.push(["Clockwise","rt_c","arrowMove",[34]]),t.push(["Clockwise - Animate","rt_c2","arrowMove",[39,!0]]),t.push(["Anticlockwise","rt_ac","arrowMove",[33]]),t.push(["Anticlockwise - Animate","rt_ac2","arrowMove",[37,!0]]),t},this.getOrderNetworkMenu=function(){var t=[];return t.push(["Send to back","a_moveback","orderNodes",["sendNodeToBack"]]),t.push(["Send backward","a_movebackward","orderNodes",["sendNodeBackward"]]),t.push(["Bring to front","a_movefront","orderNodes",["bringNodeToFront"]]),t.push(["Bring forward","a_moveforward","orderNodes",["bringNodeForward"]]),t},this.getNetworkDecorationsPositionMenu=function(){var t=[];return t.push(["Center","ps_center","changeAttribute",["decorationsPosition","center"]]),t.push(["Top","ps_top","changeAttribute",["decorationsPosition","top"]]),t.push(["Right","ps_right","changeAttribute",["decorationsPosition","right"]]),t.push(["Bottom","ps_bottom","changeAttribute",["decorationsPosition","bottom"]]),t.push(["Left","ps_left","changeAttribute",["decorationsPosition","left"]]),t},this.getNetworkDecorationAttributesMenu=function(){for(var t=[],e=[],i=this.sortObject(this.meta.data.nodes),a={x:!0,y:!0,z:!0,width:!0,height:!0,community:!0,decorationsXi:!0,decorationsYi:!0},s=0;s<i.length;s++)"Numeric"!=this.meta.data.nodes[i[s]].type||a[i[s]]||e.push(i[s]);var r={};for(s=0;s<this.decorations.length;s++)r[this.decorations[s]]=!0;for(s=0;s<e.length;s++)t.push([e[s],r[e[s]]?"sl_checkboxon":"sl_checkboxoff","modifyNetworkDecorations",[e[s]]]);return t},this.getNetworkDecorationsTypeMenu=function(){var t=[];return t.push(["Bar","g_bar","changeAttribute",["decorationsType","bar"]]),t.push(["Heatmap","g_heatmap","changeAttribute",["decorationsType","heatmap"]]),t.push(["Pie Chart","g_pie","changeAttribute",["decorationsType","pie"]]),t.push(["Stacked","g_stacked","changeAttribute",["decorationsType","stacked"]]),t},this.getNetworkDecorationsMenu=function(){var t=[],e=!1;return t.push(["Attributes","ch_la",e,e,e,"getNetworkDecorationAttributesMenu",[]]),t.push(["Height","sp_heightness",e,e,e,"changeTextColorAttributeMenu",["-text-","decorationsHeight"]]),t.push(["Width","sp_thickness",e,e,e,"changeTextColorAttributeMenu",["-text-","decorationsWidth"]]),t.push(["Position","ps_toloc2",e,e,e,"getNetworkDecorationsPositionMenu",[]]),t.push(["Type","ly_doe",e,e,e,"getNetworkDecorationsTypeMenu",[]]),t.push([this.showDecorations?"Hide Decorations":"Show Decorations",this.showDecorations?"sl_eclose":"sl_eopen","toggleAttribute",["showDecorations"]]),t},this.getNetworkNodeEdgeAttributesMenu=function(){var t=[],e=!1;return t.push(["Nodes","n_nodes",e,e,e,"getNetworkNodeAttributesMenu",[]]),t.push(["Edges","n_edges",e,e,e,"getNetworkEdgeAttributesMenu",[]]),t},this.getNetworkNodeAttributesPropertyMenu=function(t){for(var e=[],i=this.sortObject(this.meta.data.nodes),a=0;a<i.length;a++)t.match(/shape|pattern/i)&&"Numeric"==this.meta.data.nodes[i[a]].type||e.push([i[a],this[t]==i[a]?"sl_radioon":"sl_radiooff","changeAttribute",[t,i[a]]]);return e},this.getNetworkNodeAttributesMenu=function(){var t=[],e=!1;return t.push(["Color By","at_col",e,e,e,"getNetworkNodeAttributesPropertyMenu",["colorNodeBy"]]),t.push(["Shape By","at_shp",e,e,e,"getNetworkNodeAttributesPropertyMenu",["shapeNodeBy"]]),t.push(["Size By","at_sze",e,e,e,"getNetworkNodeAttributesPropertyMenu",["sizeNodeBy"]]),t.push(["Pattern By","at_pat",e,e,e,"getNetworkNodeAttributesPropertyMenu",["patternNodeBy"]]),t},this.getNetworkEdgeAttributesPropertyMenu=function(t){for(var e=[],i=this.sortObject(this.meta.data.edges),a=0;a<i.length;a++)t.match(/shape|pattern/)&&"Numeric"==this.meta.data.edges[i[a]].type||e.push([i[a],this[t]==i[a]?"sl_radioon":"sl_radiooff","changeAttribute",[t,i[a]]]);return e},this.getBin2dShapeMenu=function(){var t=[];return t.push(["Rectangule","sh_square","changeAttribute",["binplotShape","rectangle"]]),t.push(["Hexagon","sh_hexagon","changeAttribute",["binplotShape","hexagon"]]),t.push(["Oval","sh_oval","changeAttribute",["binplotShape","oval"]]),t},this.getBin2dMenu=function(){var t=!1,e=[];return e.push(["Bin Number","ch_snumber",t,t,t,"changeTextColorAttributeMenu",["-text-","binplotBins"]]),e.push(["Bin Width","sp_thickness",t,t,t,"changeTextColorAttributeMenu",["-text-","binplotBinWidth"]]),e.push(["Shape","at_shp",t,t,t,"getBin2dShapeMenu",[]]),e.push(["Binplot Color Scheme","at_palette",t,t,t,"getColorSpectrumSchemeMenu",["binplotColorScheme","Binplot"]]),e.push(["bin2d"==this.scatterType?"Remove Bin-2d":"Show Bin-2d","bin2d"==this.scatterType?"sl_eclose":"sl_eopen","changeAttribute",["scatterType","bin2d"!=this.scatterType&&"bin2d"]]),e},this.getNetworkEdgeAttributesMenu=function(){var t=[],e=!1;return t.push(["Color By","at_col",e,e,e,"getNetworkEdgeAttributesPropertyMenu",["colorEdgeBy"]]),t.push(["Size By","sp_thickness2",e,e,e,"getNetworkEdgeAttributesPropertyMenu",["sizeEdgeBy"]]),t},this.setMenu=function(t){var e=this.getObjectArray(CanvasXpress.graphTypes.OneDGraphs),i=this.decorations,a=!(!t||!this.layoutValid)&&this.getActiveLayout(t),s=!1;return this.layoutCurrent=!!a&&a.idx,this.menu=[],"Network"!=this.graphType&&(this.menu.push(["File","cd_folder",s,s,s,"getFileMenu",[]]),this.menu.push(["-"]),this.isDOE||"Genome"==this.graphType||this.isOncoprint||(this.menu.push(["Explore","z_zoom",s,s,s,"getExploreMenu",[]]),this.menu.push(["-"]))),"Network"==this.graphType&&(CanvasXpress.selector.selections?(this.menu.push(["Align","a_alignbottom",s,s,s,"getAlignNetworkMenu",[]]),this.menu.push(["Distribute","a_distributever",s,s,s,"getDistributeNetworkMenu",[]]),this.menu.push(["Order","a_order",s,s,s,"getOrderNetworkMenu",[]]),this.menu.push(["-"]),this.menu.push(["Show conections","g_network","showHideSelectedData",[s,36],"Ctrl + Home"]),this.menu.push(["-"]),this.menu.push(["Hide nodes","sl_eremove","showHideSelectedData",[s,46],"Ctrl + Delete"]),this.menu.push(["-"]),this.menu.push(["Layout Selected Nodes","op_refresh","recalculateLayoutSelectedNodes"])):(this.menu.push(["File","cd_folder",s,s,s,"getFileMenu",[]]),this.menu.push(["-"]),this.menu.push(["Explore","z_zoom",s,s,s,"getExploreMenu",[]]),this.menu.push(["-"]),this.menu.push(["Legend","lg_legend",s,s,s,"getLegendMenu",[]]),this.menu.push(["-"]),this.menu.push(["Data Point Properties","at_colshpsze",s,s,s,"getNetworkNodeEdgeAttributesMenu",[]]),this.menu.push(["-"]),this.menu.push(["Decorations","wp_installation",s,s,s,"getNetworkDecorationsMenu",[]]),this.menu.push(["Color","at_col",s,s,s,"getColorsMenu",[]]),this.networkVendor||(this.menu.push(["-"]),this.menu.push([this.showNetworkCommunities?"Hide Communities":"Show Communities",this.showNetworkCommunities?"sl_eclose":"sl_eopen","toggleAttribute",["showNetworkCommunities"]]),this.showNetworkCommunities&&!this.colorNodeBy&&this.menu.push(["Coordinate Convex Hull Color","at_col","toggleAttribute",["coordinateNetworkConvexHullCommunityColor"]])),this.isNetworkMetricsDone||(this.menu.push(["-"]),this.menu.push(["Calculate Network metrics","n_nodes","calculateNetworkMetrics",[!0]])),this.menu.push(["-"]),this.isHiddenNodes&&(this.menu.push(["Show hidden nodes","sl_eopen","hideUnhideNodes",[],"Ctrl + Insert"]),this.menu.push(["-"])),this.menu.push(["Rotate","rt_ac",s,s,s,"getRotateNetworkMenu",[]]),this.menu.push(["-"]),this.menu.push(["Undo","op_undo","undo",[],"Ctrl + z"]),this.menu.push(["Redo","op_redo","redo",[],"Ctrl + y"]),this.menu.push(["-"]),this.menu.push(["Redraw","op_refresh","recalculateLayout"]))),"Map"==this.graphType?(this.menu.push(["Customize","wp_configuration",s,s,s,"getConfigurationMenu",[]]),this.menu.push(["-"]),this.data.z&&this.menu.push(["Color By","at_col",s,s,s,"getDataPointAttributesPropertyMenu",["colorBy"]])):"Tree"!=this.graphType||this.isDOE?"Circular"!=this.graphType||"normal"!=this.circularType||this.showIdeogram||(this.menu.push(["Cluster","cl_horizontal",s,s,s,"getDendrogramsMenu",[]]),this.menu.push(["-"])):(this.menu.push(["Customize","wp_configuration",s,s,s,"getConfigurationMenu",[]]),this.menu.push(["-"]),this.data.x&&(this.menu.push(["Data Point Properties","at_colshpsze",s,s,s,"getDataPointAttributesMenu",[]]),this.menu.push(["-"])),this.menu.push(["Layout","cl_horizontal",s,s,s,"getDendrogramsMenu",[]])),this.isDOE?(this.menu.push(["Customize","wp_configuration",s,s,s,"getDOEConfigurationMenu",[]]),this.menu.push(["-"]),this.menu.push(["Modify Meta-Data Plots","ly_doe",s,s,s,"getDOEMenu",[]]),this.menu.push(["Meta-Data Plots Topology","ly_segregate",s,s,s,"getDOETopologyMenu",[]]),this.menu.push(["Remove Meta-Data Plots","ly_doeremove","removeDOE"])):!e[this.graphType]||this.is3DPlot||this.graphType.match(/Meter/i)?"Circular"==this.graphType?(this.menu.push(["Data","wp_data",s,s,s,"getDataMenu",[]]),this.menu.push(["-"]),(this.data.x||this.data.z)&&((this.data.x||this.data.z)&&this.menu.push(["Segregate Data","ly_segregate",s,s,s,"getSegregationMenu",[]]),this.menu.push(["-"]))):(this.graphType.match(/scatter/i)||this.is3DPlot)&&(this.menu.push(["Customize","wp_configuration",s,s,s,"getConfigurationMenu",[]]),this.menu.push(["-"]),"Scatter2D"!=this.graphType||"manhattan"==this.scatterType||this.isValidKaplanMeier()||this.isHistogram||(this.menu.push(["Data","wp_data",s,s,s,"getDataMenu",[]]),this.menu.push(["-"])),"Scatter2D"==this.graphType&&"manhattan"!=this.scatterType?this.isHistogram?this.menu.push(["Histogram","dt_hist",s,s,s,"getHistogramMenu",[]]):this.isContour?this.menu.push(["Contour","g_contour",s,s,s,"getContourMenu",[]]):this.isCorrelate?this.menu.push(["Remove Correlation","dt_corremove","removeCorrelation"]):this.isQQ?this.menu.push(["Remove QQ Plot","dt_qqremove","removeQQPlot"]):this.isCDF?this.menu.push(["Remove CDF plot","dt_cdfremove","removeCDFPlot"]):"bin2d"==this.scatterType?this.menu.push(["Bin-2d","dt_bin",s,s,s,"getBin2dMenu",[]]):(i&&i.reg?this.menu.push(["Remove Correlation","dt_corremove","removeCorrelation"]):(this.isValidKaplanMeier()||(this.menu.push(["Loess","cr_bezier",s,s,s,"getLoessMenu",[]]),this.menu.push(["Quantile Regression","dt_quantreg",s,s,s,"getQuantileRegressionMenu",[]]),this.data.z?this.menu.push(["Correlate","dt_cor",s,s,s,"getCorrelateMenu",[]]):this.menu.push(["Correlate","dt_cor","correlateData"]),this.menu.push(["Contour","g_contour",s,s,s,"getContourCreateMenu"]),this.menu.push(["Bin-2d","dt_bin",s,s,s,"getBin2dMenu"])),this.scatterPlotMatrix||this.menu.push(["Kaplan Meier","dt_km",s,s,s,"getKaplanMeierMenu",[]]),this.isKM||this.scatterPlotMatrix||(this.menu.push(["QQ Plot","dt_qq","addQQPlot"]),this.menu.push(["CDF Plot","dt_cdf","addCDFPlot"]))),this.scatterPlotMatrix||this.isKM||this.decorations&&this.decorations.kaplanMeier||(this.data.z?this.menu.push(["Create Histogram","dt_hist",s,s,s,"getHistogramCreateMenu",[]]):this.menu.push(["Create Histogram","dt_hist","createHistogram"]))):"ScatterBubble2D"==this.graphType?this.isContour?this.menu.push(["Contour","g_contour",s,s,s,"getContourMenu",[]]):(this.menu.push(["-"]),this.menu.push(["Contour","g_contour",s,s,s,"getContourCreateMenu"])):"Scatter3D"==this.graphType&&this.menu.push(["Loess","cr_bezier",s,s,s,"getLoessMenu",[]]),(this.data.z||this.isHistogram&&this.dataStndBy.z)&&(this.graphType,this.menu.push(["Data Point Properties","at_colshpsze",s,s,s,"getDataPointAttributesMenu",[]])),!(this.isQQ||this.isCDF||this.data.z||this.isHistogram&&this.dataStndBy.z)||this.scatterPlotMatrix||"Scatter3D"==this.graphType||this.is3DPlot||CanvasXpress.graphTypes.OneDGraphs.includes(this.initialGraphType)||(this.menu.push(["-"]),this.menu.push(["Segregate Data","ly_segregate",s,s,s,"getSegregationMenu",[]]))):(this.menu.push(["Customize","wp_configuration",s,s,s,"getConfigurationMenu",[]]),this.menu.push(["-"]),this.menu.push(["Data","wp_data",s,s,s,"getDataMenu",[]]),this.menu.push(["-"]),(this.data.x||"ParallelCoordinates"==this.graphType||"Line"==this.graphType)&&(this.menu.push(["Data Point Properties","at_colshpsze",s,s,s,"getDataPointAttributesMenu",[]]),this.menu.push(["-"])),(this.data.x||this.data.z)&&this.isRawData&&(this.data.x&&this.menu.push(["Group Samples","a_group",s,s,s,"getGroupSamplesMenu",[]]),!this.data.x&&!this.data.z||this.isGraphTime||"lollipop"==this.barType||this.menu.push(["Segregate Data","ly_segregate",s,s,s,"getSegregationMenu",[]]),this.menu.push(["-"])),this.layoutValid||!this.isRawData||this.graphType.match(/Gantt|Stacked|Meter/i)||this.isContour||"swimmer"==this.barType||this.stackBy||this.isGroupedData||(this.menu.push(["Cluster","cl_horizontal",s,s,s,"getDendrogramsMenu",[]]),this.isHistogram?(this.menu.push(["-"]),this.menu.push(["Histogram","dt_hist",s,s,s,"getHistogramMenu",[]])):this.isCorrelate||this.isHistogram||this.graphType.match(/Gantt|Heatmap/)||this.isContour||(this.menu.push(["-"]),this.menu.push(["Correlate","dt_cor",s,s,s,"getCorrelationMenu",[]]),this.isMultidimensionalData||this.menu.push(["Histogram","dt_hist","createHistogram"]))),"Heatmap"==this.graphType&&this.isContour&&this.menu.push(["Contour","g_contour",s,s,s,"getContourMenu",[]])),this.menu},this.resetMenus=function(){this.removeMenus()},this.initializeMenus=function(){if(this.showPrimaryMenus){for(var t=this.setMenu(),e=0;e<t.length;e++){var i=t[e],a=0==e&&{marginLeft:"13px"};i[5]&&this.addImageToToolbar(i[1],i[0],i[5],i[6],!1,!0,!1,a)}var s=this.$(this.target+"-cX-Toolbar-Custom");s&&s.clientWidth>.8*this.width&&this.removeAllImagesFromToolbar()}},this.initializeMenus()},CanvasXpress.prototype.initLinks=function(){var t;this.addLinkDiv=function(){if(t=this.$(this.target+"-cX-Link"))return this.resetLinkDiv(),t;var t=this.$cX("div",{id:this.target+"-cX-Link",className:"CanvasXpressLink"},{zIndex:10002,display:"none"}),e=this.$cX("ul",{id:this.target+"-cX-Link-Content",className:"CanvasXpressList"}),i=this.$("north-wrapper-"+this.target);return i&&(t.appendChild(e),i.appendChild(t)),t},this.showLinkDiv=function(t,e,i){var a=this.$(this.target+"-cX-Link-Content");a||(a=this.addLinkDiv());var s=this.$("west-container-"+this.target),r=!1;if(a){this.resetLinkDiv();var n=this.adjustedCoordinates(t);if(n){for(var o=n.x+s.offsetWidth,h=n.y,l=0;l<e.length;l++){var c=e[l].url,d=e[l].name,p=e[l].title,g=e[l].icon,u=e[l].source,m=e[l].params;if(c)r=!0;else if(u&&this.data.links&&this.data.links[u]&&(c=this.data.links[u].url,r=!0,m))for(var f in m)c=c.replace("$"+f+"$",m[f]);var y=this.$cX("li",{className:"CanvasXpressListItem"}),x=p||(this.data.links&&u&&this.data.links[u]&&this.data.links[u].title?this.data.links[u].title:""),b=this.$cX("a",{className:"CanvasXpressListItemA",href:c,alt:x,title:x,target:"_blank"}),v=this.$cX("img",{className:"CanvasXpressListIcon",src:g||(this.data.links&&u&&this.data.links[u]&&this.data.links[u].icon?this.data.links[u].icon:CanvasXpress.png)}),A=this.$cX("span",{className:"CanvasXpressListItemText",innerHTML:d||(this.data.links&&u&&this.data.links[u]&&this.data.links[u].name?this.data.links[u].name:l)});b.appendChild(v),b.appendChild(A),y.appendChild(b),this.addRemoveLinkListeners("addEvtListener",y),a.appendChild(y)}a.parentNode.style.left=o+"px",a.parentNode.style.top=h+"px",a.parentNode.style.display=r?"block":"none"}}},this.addRemoveLinkListeners=function(t,e){e&&(this.addRemoveEvtListener(t,e,"click",this.clickLink,!1),this.addRemoveEvtListener(t,e,"mouseover",this.mouseoverLink,!1),this.addRemoveEvtListener(t,e,"mouseout",this.mouseoutLink,!1))},this.clickLink=(t=this,function(e){return t.resetLinkDiv(),!1}),this.mouseoverLink=function(t){return function(e){var i=t.getMenuItemComp(e);return i&&(i[0].className="CanvasXpressListItemActive",i[1].className="CanvasXpressListItemAActive"),!1}}(this),this.mouseoutLink=function(t){return function(e){var i=t.getMenuItemComp(e);return i&&(i[0].className="CanvasXpressListItem",i[1].className="CanvasXpressListItemA"),!1}}(this),this.resetLinkDiv=function(){var t=this.$(this.target+"-cX-Link-Content");if(t&&t.childNodes){for(;t.childNodes.length>0;)this.addRemoveLinkListeners("removeEvtListener",t.childNodes[0]),t.removeChild(t.childNodes[0]);t.parentNode.style.display="none"}},this.resetLinks=function(){this.resetLinkDiv()},this.initializeLinks=function(){if(!this.disableEvents)return this.addLinkDiv()}},CanvasXpress.prototype.initTooltip=function(){this.addInfoSpan=function(){var t=this.$(this.target+"-cX-Info");if(t)return this.resetInfoSpan(),t;var e=this.$("center-wrapper-"+this.target);if(e){t=this.$cX("span",{id:this.target+"-cX-Info",className:"CanvasXpressTooltip"},{display:"none"});var i=this.$cX("div",{id:this.target+"-cX-Info-Left",className:"CanvasXpressTooltipArrowLeft"},{display:"none"});e.appendChild(t),e.appendChild(i)}},this.resetInfoSpan=function(t,e){var i=this.$(this.target+"-cX-Info");i||(i=this.initializeTooltip());var a=this.$(this.target+"-cX-Info-Left");i&&!this.noInfoSpanReset&&(((new Date).getTime()-this.infoStartTime>this.infoTimeIn||e)&&(i.style.left="0px",i.style.top="0px",i.style.display="none",a.style.display="none",i.innerHTML=""))},this.flashInfoSpan=function(t,e,i,a,s){var r=this,n=this.$(this.target+"-cX-Info");if(n||(n=this.initializeTooltip()),n){if(n.innerHTML=i,n.style.display="block",n.style.left=(t||0)+"px",n.style.top=(e||0)+"px",s)for(var o in s)n.style[o]=s[o];if(a){(function(){this.update=function(){(new Date).getTime()-r.infoStartTime>a&&(r.resetInfoSpan(),clearInterval(t))};var t=r.setInterval(this.update,a)}).call()}}},this.showInfoSpan=function(t,e,i,a){if(!(this.draggingOn||this.remoteUpdating||this.noInfoSpanReset||this.lassoPoints&&this.lassoPoints.length)||a){var s=(new Date).getTime()-this.infoStartTime,r=this.$(this.target+"-cX-Info");r||(r=this.initializeTooltip());var n=this.$(this.target+"-cX-Info-Left"),o=window,h=window.document;if(r&&e&&""!=e&&s>this.infoTimeIn){var l=i?this.regularCoordinates(t,i):this.adjustedCoordinates(t,r);if(l){var c,d,p=l.x,g=t?l.y:l.y+25;if(CanvasXpress.system.isIE&&(p+=h.body.scrollLeft,g+=h.body.scrollTop),t&&"touchmove"==t.type?(c=25,d=40):(c=10,d=20),isNaN(e)||(e=e.toString()),e.match(/\w/)){r.innerHTML=e,r.style.left=p+c+"px",r.style.top=g-d+"px",r.style.display="inline";var u=r.clientHeight/2+1.5;n.style.left=p+c+2.5+"px",n.style.top=g+u-d+"px";var m=parseInt(r.clientWidth);u=parseInt(r.clientHeight);m<o.innerWidth&&m>o.innerWidth+o.pageXOffset-p&&m+d<p-o.pageXOffset&&(r.style.left=p-(m+d)+"px",r.style.left=p-(parseInt(r.clientWidth)+d)+"px"),u<o.innerHeight&&u>o.innerHeight+o.pageYOffset-g&&u-1.5*c<g-o.pageYOffset&&(r.style.top=g-(u-1.5*c)+"px",r.style.top=g-(parseInt(r.clientHeight)-1.5*c)+"px"),this.infoStartTime=(new Date).getTime();var f=this;(function(){this.update=function(){(new Date).getTime()-f.infoStartTime>f.infoTimeOut&&(f.resetInfoSpan(),clearInterval(t))};var t=f.setInterval(this.update,100)}).call()}}}}},this.initializeTooltip=function(){if(!this.disableEvents)return this.addInfoSpan()}},CanvasXpress.prototype.initTooltipMouse=function(){this.addMousePositionDiv=function(){var t=this.$(this.target+"-cX-MousePosition");if(t)return t;t=this.$cX("div",{id:this.target+"-cX-MousePosition",className:"CanvasXpressMousePosition"},{left:"0px",top:"0px",display:"none"});var e=this.$cXI("ar_cross",{className:"CanvasXpressMousePosition",src:"ar_cross"}),i=this.$cX("span",{id:this.target+"-cX-MousePositionCoordinates",className:"CanvasXpressMousePosition",innerHTML:"0, 0"});t.appendChild(e),t.appendChild(i);var a=this.$("center-wrapper-"+this.target);return a&&a.appendChild(t),t},this.showMousePosition=function(t,e){if(e);else{if(!t)return;e=this.adjustedCoordinates(t)}var i=e.x+", "+e.y,a=this.$(this.target+"-cX-MousePosition");a||(a=this.initializeTooltipMouse());var s=this.$(this.target+"-cX-MousePositionCoordinates");a&&s&&(a.style.left=e.x+"px",a.style.top=e.y+"px",a.style.display="block",s.innerHTML=i,this.mousePositioning=!0)},this.resetMousePosition=function(){var t=this.$(this.target+"-cX-MousePosition");t||(t=this.initializeTooltipMouse());var e=this.$(this.target+"-cX-MousePositionCoordinates");t&&e&&(t.style.left="0px",t.style.top="0px",t.style.display="none",e.innerHTML="0, 0",this.mousePositioning=!1)},this.initializeTooltipMouse=function(){if(!this.disableEvents)return this.addMousePositionDiv()}},CanvasXpress.prototype.initTooltipDiv=function(){var t;this.addTooltipDiv=function(t,e,i,a,s){this.resetInfoSpan();var r=0,n=this.target+"-cX-TooltipDiv"+r,o=this.$(this.target+"-cX-Info");o&&"none"!=o.style.display&&(e=parseInt(o.style.left),i=parseInt(o.style.top));for(var h=this.$(n);h;)r++,n=this.target+"-cX-TooltipDiv"+r,h=this.$(n);var l=this.$cX("div",{id:n,className:"CanvasXpressTooltip draggable"},{left:e+"px",top:i+"px"}),c=this.$cXI("op_cancel",{id:n+"Close",className:"CanvasXpressTooltip",src:"op_cancel",title:"Close"}),d=this.$cXI("fp_pencil",{id:n+"Marker",className:"CanvasXpressTooltip",src:"fp_pencil",obj:this.stringifyJSON(s),title:"Add Marker"});a||(a={}),a.clear="both";var p=1;a.hasOwnProperty("opacity")&&(p=a.opacity,delete a.opacity),l.style.opacity=p;var g=this.$cX("div",{id:n+"HTML",innerHTML:t||""},a);return l.appendChild(c),s&&l.appendChild(d),l.appendChild(g),this.$("center-wrapper-"+this.target).appendChild(l),l},this.addRemoveTooltipDivsListeners=function(t,e){this.addRemoveEvtListener(t,e,"mousedown",this.registerMousemove,!1),this.addRemoveEvtListener(t,e,"touchstart",this.registerMousemove,!1),this.addRemoveEvtListener(t,e.childNodes[0],"click",this.closeTooltipDiv,!1),e.childNodes[1]&&"SVG"==e.childNodes[0].tagName.toUpperCase()&&this.addRemoveEvtListener(t,e.childNodes[1],"click",this.addMarkerTooltipDiv,!1)},this.closeTooltipDiv=(t=this,function(e,i,a){var s=!!e&&(e.target||e.srcElement),r=s?s.parentNode:!!i&&t.$(i);return r&&(t.addRemoveTooltipDivsListeners("removeEvtListener",r),t.transitionMagic(r,a||"holeOut",(function(){r.parentNode.removeChild(r)}))),!1}),this.addMarkerTooltipDiv=function(t){return function(e){var i=e.target||e.srcElement;if(i){var a=i.getAttribute("obj");a&&t.addMarkerConfigurator(e,t.parseJSON(a))}return!1}}(this),this.showTooltipDiv=function(t,e,i,a,s,r,n,o){var h;if(e&&""!=e){if(null!=s&&null!=r)h=this.addTooltipDiv(e,s,r,a,n),this.addRemoveTooltipDivsListeners("addEvtListener",h);else{var l=this.$(this.target+"-cX-Info"),c=i?this.regularCoordinates(t,i):this.adjustedCoordinates(t,l);c&&(s=c.x,r=t?c.y:c.y+25,h=this.addTooltipDiv(e,s,r,a,n),this.addRemoveTooltipDivsListeners("addEvtListener",h))}this.transitionMagic(h,o||"spaceInUp")}return h},this.resetTooltipDivs=function(){for(var t=0,e=this.target+"-cX-TooltipDiv"+t,i=this.$(e);i;)this.addRemoveTooltipDivsListeners("removeEvtListener",i),i.parentNode.removeChild(i),t++,e=this.target+"-cX-TooltipDiv"+t,i=this.$(e)},this.addMarkerConfigurator=function(t,e){var i=this.$("center-wrapper-"+this.target);if(i){var a=this.target+"-cX-Marker";this.$(a)&&this.closeMarkerConfigurator(!1,this.$(a));for(var s=(t.target||t.srcElement).parentNode,r=this.adjustedCoordinates(t),n=e.y?e.y.vars:e.w?e.w.vars:[],o=e.y?e.y.smps:e.w?e.w.labs:[],h=e.c&&"Map"==this.graphType&&this.isObject(e.c)?e.c:!(!e.c||"Map"!=this.graphType)&&this.parseJSON(e.c),l={},c=!1,d={id:this.newId("-marker-"),coords:h,variable:n,sample:o,update:!1},p=!1,g=["text","color","fontSize","fontStyle","align","baseline","type","x","y","scope"],u=0;u<g.length;u++)l[g[u]]="";if(l.align="center",l.baseline="middle",l.type="line",this.decorations&&this.decorations.marker)for(u=0;u<this.decorations.marker.length;u++){var m=this.decorations.marker[u];if(this.isSameObject(m.variable,n)&&this.isSameObject(m.sample,o)){for(var f=0;f<g.length;f++)l[g[f]]=m[g[f]];p=!0,d.update=!0}}var y=this.$cX("div",{id:a,className:"CanvasXpressMarker draggable",par:s.id,obj:d},{left:r.x+"px",top:r.y-this.height+"px",display:"block",position:"relative"});h&&(y.style.height="180px");var x=this.$cXI("op_cancel",{id:a+"ConfiguratorMarkerClose",className:"CanvasXpressDataTableToolbarImage",src:"op_cancel",title:"Close"}),b=this.$cX("div",{id:a+"Container",className:"CanvasXpressDataTableContainer"},{left:"12px"}),v=this.$cX("table",{id:a+"MarkerTable",className:"CanvasXpressDataTable"}),A=this.$cX("tbody");for(u=0;u<g.length;u++){var w,C=this.$cX("tr"),T=this.$cX("th",{className:"CanvasXpressTableCellHead"},{height:"text"==g[u]?"64px":"18px",width:"80px",backgroundRepeat:"repeat"}),S=this.$cX("div",{className:"CanvasXpressTableCell",innerHTML:this.capitalize(g[u])},{height:"text"==g[u]?"64px":"18px",width:"80px"}),D=this.$cX("td",{className:"CanvasXpressTableCell"},{height:"text"==g[u]?"64px":"18px",width:"160px",border:"1px solid #ccc"}),M=this.$cX("div",{className:"CanvasXpressTableCell"},{height:"text"==g[u]?"64px":"18px",width:"160px"});if("text"==g[u])w=this.$cX("textarea",{id:a+"ConfiguratorMarker-"+g[u],className:"CanvasXpressMarker",name:g[u],value:l[g[u]],rows:3},{width:"100%",border:"none"});else if("color"==g[u])w=this.$cX("input",{id:a+"ConfiguratorMarker-"+g[u],className:"CanvasXpressMarker",type:"color",name:g[u],value:l[g[u]]?this.validateColor(l[g[u]],null,!0):""},{width:"100%",border:"none"});else if("type"==g[u]){w=this.$cX("select",{id:a+"ConfiguratorMarker-"+g[u],className:"CanvasXpressMarker",size:1},{width:"100%",border:"none",backgroundColor:"white"});var k=this.$cX("option",{text:"line",value:"line"});try{w.add(k,null)}catch(t){w.add(k)}var L=this.$cX("option",{text:"annotation",value:"annotation"});try{w.add(L,null)}catch(t){w.add(L)}l[g[u]]&&"line"!=l[g[u]]&&(w.options[1].selected=!0,c=!0)}else"x"==g[u]||"y"==g[u]?(w=this.$cX("input",{id:a+"ConfiguratorMarker-"+g[u],className:"CanvasXpressMarker",type:"number",name:g[u],value:l[g[u]]?this.sprintf("%.2f",Number(l[g[u]])):0,min:0,max:1,step:.01},{width:"100%",border:"none"}),c&&(w.disabled=!0)):w=g[u].match(/fontSize/)?this.$cX("input",{id:a+"ConfiguratorMarker-"+g[u],className:"CanvasXpressMarker",type:"number",name:g[u],value:l[g[u]]||12},{width:"100%",border:"none"}):this.$cX("input",{id:a+"ConfiguratorMarker-"+g[u],className:"CanvasXpressMarker",type:"text",name:g[u],value:l[g[u]]||""},{width:"100%",border:"none"});var I=this.$cX("input",{id:a+"ConfiguratorMarkerRemove",value:"Remove",type:"button"},{cssFloat:"left",borderRadius:"5px",position:"relative",top:h?"148px":"368px",left:"12px",width:"125px",height:"24px"}),B=this.$cX("input",{id:a+"ConfiguratorMarkerAdd",value:p?"Update":"Add",type:"button"},{cssFloat:"left",borderRadius:"5px",position:"relative",top:h?"148px":"368px",left:"24px",width:"125px",height:"24px"});M.appendChild(w),D.appendChild(M),T.appendChild(S),C.appendChild(T),C.appendChild(D),h&&"text"!=g[u]&&"color"!=g[u]||A.appendChild(C)}v.appendChild(A),b.appendChild(v),y.appendChild(x),y.appendChild(b),y.appendChild(I),y.appendChild(B),i.appendChild(y),this.addRemoveMarkerConfiguratorListeners("addEvtListener")}},this.addRemoveMarkerConfiguratorListeners=function(t){var e=this.$(this.target+"-cX-Marker"),i=this.$(this.target+"-cX-MarkerConfiguratorMarkerClose"),a=this.$(this.target+"-cX-MarkerConfiguratorMarkerRemove"),s=this.$(this.target+"-cX-MarkerConfiguratorMarkerAdd"),r=this.$(this.target+"-cX-MarkerConfiguratorMarker-type");e&&i&&a&&s&&(this[t](e,"mousedown",this.registerMousemove,!1),this[t](i,"click",this.closeMarkerConfigurator,!1),this[t](a,"click",this.removeMarker,!1),this[t](s,"click",this.addMarker,!1),r&&this[t](r,"change",this.changeTypeMarker,!1))},this.closeMarkerConfigurator=function(t){return function(e,i){var a=!!e&&(e.target||e.srcElement),s=a?t.$(a.parentNode.par):!!i&&t.$(i.par);return s&&(t.addRemoveTooltipDivsListeners("removeEvtListener",s),s.parentNode.removeChild(s)),i||(i=a.parentNode),t.addRemoveMarkerConfiguratorListeners("removeEvtListener",i),i.parentNode.removeChild(i),!1}}(this),this.removeMarker=function(t){return function(e){var i=e.target||e.srcElement;return t.modifyMarker(i.parentNode.obj,!0),t.closeMarkerConfigurator(e),!1}}(this),this.addMarker=function(t){return function(e){var i=e.target||e.srcElement;return t.modifyMarker(i.parentNode.obj),t.closeMarkerConfigurator(e),!1}}(this),this.changeTypeMarker=function(t){var e=t.target||t.srcElement,i=this.value,a=e.parentNode.parentNode.parentNode.nextElementSibling,s=a.nextElementSibling;return a.childNodes[1].childNodes[0].childNodes[0].disabled="line"!=i,s.childNodes[1].childNodes[0].childNodes[0].disabled="line"!=i,!1},this.modifyMarker=function(t,e){for(var i=["text","color","fontSize","fontStyle","align","baseline","type","x","y","scope"],a=0;a<i.length;a++){var s=this.$(this.target+"-cX-MarkerConfiguratorMarker-"+i[a]);s&&(t[i[a]]=s.value)}this.updateMarker(t,e)},this.updateMarker=function(t,e){if(!this.isTransition()){if(e){if(!t.update)return!1;for(var i=[],a=0;a<this.decorations.marker.length;a++){var s=this.decorations.marker[a];this.isSameObject(s.variable,t.variable)&&this.isSameObject(s.sample,t.sample)||i.push(s)}this.decorations.marker=i}else if(t.update)for(a=0;a<this.decorations.marker.length;a++){s=this.decorations.marker[a];if(this.isSameObject(s.variable,t.variable)&&this.isSameObject(s.sample,t.sample)){s.text=t.text,s.color=t.color,s.fontSize=Number(t.fontSize),""!=t.fontStyle&&(s.fontStyle=t.fontStyle),s.align=t.align,s.baseline=t.baseline,s.x=Number(t.x),s.y=Number(t.y),s.type=t.type,s.scope=t.scope;break}}else this.decorations||(this.decorations={}),this.decorations.marker||(this.decorations.marker=[]),this.decorations.marker.push({variable:t.variable,sample:t.sample,text:t.text,color:t.color,coords:t.coords,fontSize:Number(t.fontSize),fontStyle:t.fontStyle,align:t.align,baseline:t.baseline,x:Number(t.x),y:Number(t.y),type:t.type,scope:t.scope});this.draw({func:"updateMarker",par:[t,e]})}}},CanvasXpress.prototype.initToolbar=function(){var t;this.addToolbarDiv=function(){var t=this.$(this.target+"-cX-Toolbar");if(t)return t;t=this.$cX("div",{id:this.target+"-cX-Toolbar",className:"CanvasXpressToolbar"},{position:"absolute",overflow:"hidden",width:this.width+"px",height:"fixed"==this.toolbarType?"36px":"0px",top:"fixed"==this.toolbarType?"-37px":"0px",right:0,zIndex:1e4});var e=this.$cX("div",{id:this.target+"-cX-Toolbar-Custom",className:"CanvasXpressToolbar"},{cssFloat:"left"}),i=this.$cXI("wp_threebars",{id:this.target+"-cX-ToolbarMenu",className:"CanvasXpressToolbarImage",src:"wp_threebars",title:"Open menus"},{display:"none"}),a=this.$cXI("sv_image",{id:this.target+"-cX-ToolbarSave",className:"CanvasXpressToolbarImage",src:"sv_image",title:"Save as png"}),s=this.$cXI("tm_history",{id:this.target+"-cX-ToolbarReproduce",className:"CanvasXpressToolbarImage",src:"tm_history",title:"Reproduce"},{display:this.afterRender.length&&!this.motionBy?"display":"none"}),r=this.$cXI("ps_toloc2",{id:this.target+"-cX-ToolbarMove",className:"CanvasXpressToolbarImage",src:"ps_toloc2",title:"Move Canvas (Grab here)",draggable:!1},{display:this.movable?"none":"block",cursor:"move"}),n=this.$cXI("tb_table",{id:this.target+"-cX-ToolbarView",className:"CanvasXpressToolbarImage",src:"tb_table",title:"View table"},{display:this.graphType.match(/Genome/)||this.disableDataTable||this.isDOE?"none":"block"}),o=this.$cXI("fp_funnel",{id:this.target+"-cX-ToolbarLayout",className:"CanvasXpressToolbarImage",src:"fp_funnel",title:"Explore data"},{display:this.graphType.match(/Genome|Fish/)||this.disableDataFilters||this.disableDataTable||this.disableConfigurator||this.isDOE?"none":"block"}),h=this.$cXI("m_zlasso",{id:this.target+"-cX-ToolbarLasso",className:"CanvasXpressToolbarImage",src:"m_zlasso",title:"Lasso Selection"},{display:"Scatter2D"!=this.graphType||this.isDOE?"none":"block"}),l=this.$cXI("wp_installation",{id:this.target+"-cX-ToolbarDataExplorer",className:"CanvasXpressToolbarImage",src:"wp_installation",title:"Configure"},{display:this.disableDataExplorer||this.graphType.match(/Genome|Network|Venn/)||this.isDOE?"none":"block"}),c=this.$cXI("ch_oinfo",{id:this.target+"-cX-ToolbarInformation",className:"CanvasXpressToolbarImage",src:"ch_oinfo",title:"Data Details"},{display:this.info?"block":"none"}),d=this.$cXI("ar_minmax",{id:this.target+"-cX-ToolbarMaxMin",className:"CanvasXpressToolbarImage",src:"ar_minmax",title:"Minimize / Maximize"},{marginRight:"13px"});t.appendChild(this.beaconImage),t.appendChild(d),t.appendChild(c),t.appendChild(l),t.appendChild(h),t.appendChild(o),t.appendChild(n),t.appendChild(r),t.appendChild(s),t.appendChild(a),t.appendChild(i),t.appendChild(e);var p=this.$("north-wrapper-"+this.target);p&&(p.appendChild(t),this.addRemoveToolbarListeners("addEvtListener"))},this.addRemoveToolbarListeners=function(t){this.addRemoveEvtListener(t,this.$(this.target+"-cX-ToolbarMenu"),"click",this.clickMenu,!1),this.addRemoveEvtListener(t,this.$(this.target+"-cX-ToolbarSave"),"click",this.print,!1),this.addRemoveEvtListener(t,this.$(this.target+"-cX-ToolbarReproduce"),"click",this.reproducePlay,!1),this.addRemoveEvtListener(t,this.$(this.target+"-cX-ToolbarMove"),"mousedown",this.registerMousemove,!1),this.addRemoveEvtListener(t,this.$(this.target+"-cX-ToolbarLayout"),"click",this.clickLayout,!1),this.addRemoveEvtListener(t,this.$(this.target+"-cX-ToolbarLasso"),"click",this.clickLasso,!1),this.addRemoveEvtListener(t,this.$(this.target+"-cX-ToolbarDataExplorer"),"click",this.clickDataExplorer,!1),this.addRemoveEvtListener(t,this.$(this.target+"-cX-ToolbarView"),"click",this.clickView,!1),this.addRemoveEvtListener(t,this.$(this.target+"-cX-ToolbarInformation"),"click",this.clickDataDetails,!1),this.addRemoveEvtListener(t,this.$(this.target+"-cX-ToolbarMaxMin"),"click",this.clickGraphMaxMin,!1);var e=this.$(this.target+"-cX-Toolbar-Custom");if("removeEvtListener"==t&&e)for(var i=0;i<e.childNodes.length;i++)this.addRemoveEvtListener(t,e.childNodes[i],"click",this.addCustomToolbarMenu,!1),this.addRemoveEvtListener(t,e.childNodes[i],"contextmenu",this.unpinFromToolbar,!1)},this.backgroundMask=function(t){var e=this.$("container-"+this.target);e&&(t?(e.style.position="fixed",e.style.zIndex=1e6,e.style.padding="2px",e.style.width=t[0]+"px",e.style.height=t[1]+"px",e.style.left="0px",e.style.top="0px",e.style.backgroundColor="white"):(e.style.position="relative",e.style.zIndex="unset",e.style.padding="unset",e.style.width="unset",e.style.height="unset",e.style.left="unset",e.style.top="unset",e.style.backgroundColor="unset"))},this.clickMenu=(t=this,function(e,i){t.isMenu?t.removeMenus():(t.removeMenus(),t.addMenu(e,!1,!1,!1,!1,!1,!1,!0),t.isMenu=!0)}),this.clickLasso=function(t){return function(e,i){t.removeMenus(),t.lassoSelected=!0}}(this),this.clickLayoutNoAnimation=function(t){if(this.appLayout&&!t){var e=this;return this.hideTable(!1,(function(){e.hideDataFilter(),e.appLayout=!1,e.activeAccordion=!1})),!1}},this.clickLayoutShowDataFilter=function(t,e,i){var a=this;this.showDataFilter(t,(function(){a.moveDataFilter(!1,"dock",(function(){a.transitionMagic(a.$(a.target+"-cX-DataFilter"),i||"holeIn",e)}),t)}))},this.clickDataFilters=function(t){return function(e,i,a){if(t.removeMenus(),t.maximized)if(t.appLayout)t.clickLayout(e,(function(){t.clickDataFilters(e,i)}));else if(t.appLayoutDataTable)t.clickDataTable(e,(function(){t.clickLayout(e,i)}));else{var s=t.dataFilterWidth+10;if(t.appLayoutDataFilter=!t.appLayoutDataFilter,t.appLayoutDataFilter)t.setDimensions(t.width-s,t.height,!0),t.resizeWidthOnLayoutActive=s,t.resizeDataFilterHeight(),t.clickLayoutShowDataFilter(e,i,a);else{var r=function(){t.hideDataFilter(e,(function(){t.resizeViewportMiddle(t.width+s,t.height),t.setDimensions(t.width+s,t.height,!0,250),t.resizeWidthOnLayoutActive=!1,i&&i(e)}),brc)};t.activeAccordion?t.activateAccordion(!1,t.activeAccordion.previousSibling,r):r()}}else t.showDataFilter(e,(function(){t.transitionMagic(t.$(t.target+"-cX-DataFilter"),a||"holeIn",i)}));return!1}}(this),this.clickLayoutShowDataTable=function(t,e,i,a,s){this.updateDataTable(!1,!1,!0),(!this.dataTableLastState||this.dataTableLastState&&"docked"!=this.dataTableLastState)&&this.moveDataTableDiv("dockMagic");var r=this.getDataFilterState(),n=this.$("middle-container-"+this.target);i||(i=parseInt(n.style.width)+("docked"==r?this.dataFilterWidth+6:0)-(this.appLayoutDataTable?17:-1)),a||(a=this.dataTableLastHeight||parseInt(this.dataTableTarget.style.height)),this.dataTableTarget=this.$(this.target+"-cX-DataTable"),this.updateDataTableResizerDiv(!1,i,a),this.endDataTableResizerDiv(!0),this.transitionMagic(this.$(this.target+"-cX-DataTable"),s||"holeIn",e)},this.clickDataTable=function(t){return function(e,i,a){var s=t.$(t.target+"-cX-DataTable");if(s||(s=t.initializeDataTable()),t.removeMenus(),s)if(t.maximized)if(t.appLayout)t.clickLayout(e,(function(){t.clickDataTable(e,i)}));else if(t.appLayoutDataFilter)t.clickDataFilters(e,(function(){t.clickLayout(e,i)}));else{t.setDataTableDimensions();var r=t.dataTableLastHeight?t.dataTableLastHeight+6:t.dataTableRowsHeight+81;t.appLayoutDataTable=!t.appLayoutDataTable,t.appLayoutDataTable?(t.setDimensions(t.width,t.height-r,!0),t.resizeHeightOnLayoutActive=!0,t.clickLayoutShowDataTable(e,i,!1,!1,a)):t.hideTable(e,(function(){t.setDimensions(t.width,t.height+r,!0,250),t.resizeHeightOnLayoutActive=!1,i&&i(e)}))}else t.updateDataTable(!1,!1,!0),t.transitionMagic(s,a||"holeIn",i);return!1}}(this),this.clickView=function(t){return function(e,i,a){var s=t.$(t.target+"-cX-DataTable");if(s||(s=t.initializeDataTable()),s){if("canvas"==t.view){var r=!!t.isGroupedData&&t.cloneObject(this.groupingFactors);t.removeMenus(),t.skipRender=!0,e||(t.meta.canvas.ctx.canvas.style.opacity=0),t.hideToolbar(),t.disableToolbar=!0,r&&t.ungroupSamples(!0),t.dataTableTarget=s,t.updateDataTable(!1,!1,e),t.viewTable=[s.clientWidth,s.clientHeight,r],t.updateDataTableResizerDiv(!1,t.width,t.height),t.endDataTableResizerDiv(e),(s=t.$(t.target+"-cX-DataTable")).style.top=-(t.height+3)+"px",s.style.left=0,t.view="table",t.$(t.target+"-cX-DataTableToolbar").className="CanvasXpressDataTableToolbar",e&&(t.transitionMagic(t.meta.canvas.ctx.canvas,a||"holeOut",(function(){t.meta.canvas.ctx.canvas.style.opacity=0}),1e3),t.transitionMagic(t.$(t.target+"-cX-DataTable"),i||"swashIn",(function(){t.modifyDataTableToolbarView()}),1e3)),t.stack({func:"clickView",par:[e,i,a]})}else{r=t.viewTable[2];if(t.removeMenus(),t.skipRender=!1,t.disableToolbar=!1,t.showDataTable=!1,r&&t.groupSamples(r,!1,!1,!1,!0),e)t.draw({func:"clickView",par:[e,i,a]}),t.transitionMagic(t.meta.canvas.ctx.canvas,i||"swashIn",(function(){t.meta.canvas.ctx.canvas.style.opacity=1})),t.view="canvas",t.hideTable(e,(function(){s=t.$(t.target+"-cX-DataTable"),t.dataTableTarget=s,t.updateDataTableResizerDiv(!1,t.viewTable[0],t.viewTable[1]),t.$(t.target+"-cX-DataTableToolbar").className="CanvasXpressDataTableToolbar draggable",t.viewTable=!1}),a||"holeOut");else s=t.$(t.target+"-cX-DataTable"),t.dataTableTarget=s,t.updateDataTableResizerDiv(!1,t.viewTable[0],t.viewTable[1]),t.endDataTableResizerDiv(),t.updateDataTable(),t.moveDataTableDiv("hide"),t.hideUnhideDataTable(!0),t.resetDataTable(!0),t.meta.canvas.ctx.canvas.style.opacity=1,t.$(t.target+"-cX-DataTableToolbar").className="CanvasXpressDataTableToolbar draggable",t.draw({func:"clickView",par:[e,i,a]}),t.view="canvas",t.viewTable=!1}t.modifyDataTableToolbarView()}return!1}}(this),this.clickLayout=function(t){return function(e,i,a){if(t.appLayoutDataTable)t.clickDataTable(e,(function(){t.clickDataFilters(e,i)}));else if(t.appLayoutDataFilter)t.clickDataFilters(e,(function(){t.clickDataTable(e,i)}));else if(t.appLayout=!t.appLayout,t.resizeHeightOnLayout&&t.setDataTableDimensions(),t.appLayout){var s=t.width,r=t.dataFilterWidth+10,n=t.dataTableLastHeight?t.dataTableLastHeight+6:t.dataTableRowsHeight+81;t.resizeWidthOnLayout&&t.width-r>=1.3*r?t.resizeHeightOnLayout&&t.height-n>=1*n?(t.setDimensions(t.width-r,t.height-n,!0),t.resizeWidthOnLayoutActive=r,t.resizeHeightOnLayoutActive=n):(t.setDimensions(t.width-r,t.height,!0),t.resizeWidthOnLayoutActive=r):t.resizeHeightOnLayout&&t.height-n>=1*n&&(t.setDimensions(t.width,t.height-n,!0),t.resizeHeightOnLayoutActive=n),t.resizeDataFilterHeight(),t.hideToolbar(1),t.clickLayoutShowDataFilter(e,!1,a),t.clickLayoutShowDataTable(e,(function(){i&&i(e)}),s-3,!1,a)}else t.hideToolbar(1),t.hideTable(e),t.hideDataFilter(e,(function(){var a=function(){t.resizeWidthOnLayoutActive=!1,t.resizeHeightOnLayoutActive=!1,t.updateRemoteNavigationWindow((function(){i&&i(e)}))};t.resizeWidthOnLayoutActive?t.resizeHeightOnLayoutActive?t.setDimensions(t.width+t.resizeWidthOnLayoutActive,t.height+t.resizeHeightOnLayoutActive,!0,!1,a):t.setDimensions(t.width+t.resizeWidthOnLayoutActive,t.height,!0,!1,a):t.resizeHeightOnLayoutActive&&t.setDimensions(t.width,t.height+t.resizeHeightOnLayoutActive,!0,!1,a)}));return!1}}(this),this.clickDataExplorer=function(t){return function(e,i){return t.removeMenus(),t.addDataExplorer(),t.transitionMagic(t.$(t.target+"-cX-DataExplorer"),i||"holeIn"),!1}}(this),this.clickDataDetails=function(t){return function(e,i){e||(e=window.event),t.removeMenus();var a=window.document;a.body.scrollLeft,a.body.scrollTop;return t.showTooltipDiv(e,t.info,!1,{width:"auto",height:"auto",maxWidth:"500px",maxHeight:"500px",whiteSpace:"normal",overflow:"auto",textAlign:"left",opacity:0},20,20,!1,i||"holeIn"),!1}}(this),this.clickRepResearch=function(t){return function(e,i,a){e||(e=window.event),t.removeMenus();var s=window.document,r=(s.body.scrollLeft,s.body.scrollTop,"<code> "+('<pre class="CanvasXpressCodeContent">'+t.prettyColoredJSON(CanvasXpress.stack[t.target],null,!0)+"</pre>\n").replace(/\n/g,"</code>\n<code> ")+"</code>");return t.showTooltipDiv(e,r,!1,{width:"auto",height:"auto",maxWidth:"500px",maxHeight:"500px",whiteSpace:"normal",overflow:"auto",textAlign:"left",opacity:0},20,20,!1,a||"holeIn"),!1}}(this),this.clickShowCode=function(t){return function(e,i,a){return e||(e=window.event),t.removeMenus(),t.showCodeDiv(e,a),!1}}(this),this.clickShowRCode=function(t){return function(e,i){return e||(e=window.event),t.removeMenus(),t.showRCodeDiv(e,i),!1}}(this),this.clickShowPythonCode=function(t){return function(e,i,a){return e||(e=window.event),t.removeMenus(),t.showPythonCodeDiv(e,i,a),!1}}(this),this.clickShowMetaCode=function(t){return function(e,i){return e||(e=window.event),t.removeMenus(),t.showMetaCodeDiv(e,i),!1}}(this),this.moveCanvasXpressContainer=function(t,e){if(t)if(this.maximized||e){(a=this.$(this.target+"-CanvasXpressAnchor"))&&(a.parentNode.insertBefore(t,a),a.parentNode.removeChild(a))}else{var i=window.document,a=this.$cX("div",{id:this.target+"-CanvasXpressAnchor"},{width:t.clientWidth+"px",height:t.clientHeight+"px",postion:"absolute"});t.parentNode.insertBefore(a,t),i.body.insertBefore(t,i.body.firstElementChild)}},this.clickGraphMaxMin=function(t){return function(e,i,a){if(t.appLayout||t.appLayoutDataTable||t.appLayoutDataFilter)t.appLayout?t.clickLayout(e,t.clickGraphMaxMin):t.appLayoutDataTable?t.clickDataTable(e,t.clickGraphMaxMin):t.appLayoutDataFilter&&t.clickDataFilters(e,t.clickGraphMaxMin);else{var s=t.remoteService&&t.$(t.remoteParentId+"-canvasXpressRemoteWindow")?t.$(t.remoteParentId+"-canvasXpressRemoteWindow"):t.$("container-"+t.target),r=t.$(t.target+"-cX-Toolbar"),n=t.$(t.target+"-cX-ToolbarMaxMin"),o=t.$("northest-container-"+t.target),h=t.$("southest-container-"+t.target),l=window.innerWidth,c=window.innerHeight,d=window.document,p=!1;if(t.remoteService&&t.$(t.remoteParentId+"-canvasXpressRemoteWindow")){var g=t.$(t.remoteParentId+"-canvasXpressRemoteWindowBarPrevDiv"),u=t.$(t.remoteParentId+"-canvasXpressRemoteWindowBarDiv"),m=t.$(t.remoteParentId+"-canvasXpressRemoteWindowBarNextDiv");g&&u&&m&&!t.maximized&&(p={rbp:{top:g.style.top},rbb:{top:u.style.top,left:u.style.left},rbn:{top:m.style.top,left:t.width+8+"px"}})}s&&r&&n&&o&&h&&(t.moveCanvasXpressContainer(s),t.maximized&&!a?("fixed"==t.toolbarType&&(r.style.top="-37px"),t.backgroundMask(),n.title="Maximize",t.setDimensions(t.maximized[0],t.maximized[1],!1,!1,!1,-1),s.style.left=t.maximized[2],s.style.top=t.maximized[3],d.documentElement.style.overflowX=t.maximized[4],d.documentElement.style.overflowY=t.maximized[5],g&&u&&m&&t.maximized[6]&&(p=t.maximized[6],g.style.top=p.rbp.top,u.style.top=p.rbb.top,u.style.left=p.rbb.left,m.style.top=p.rbn.top,m.style.left=p.rbn.left),t.maximized=!1,t.resizeDataFilterHeight()):("fixed"==t.toolbarType&&(r.style.top="0px"),t.backgroundMask([l,c]),n.title="Minimize",t.maximized=i||[t.width,t.height,s.style.left,s.style.top,d.body.style.overflowX,d.body.style.overflowY,p],d.documentElement.style.overflowX="hidden",d.documentElement.style.overflowY="hidden",t.setDimensions(l-4,c-(4+o.clientHeight+h.clientHeight),!1,!1,!1,1),t.resizeDataFilterHeight()),t.hideToolbar(1))}return!1}}(this),this.showToolbar=function(t){if(!this.disableToolbar&&!this.dataTableMaximized){var e=this.$(this.target+"-cX-Toolbar");if(e||(e=this.initializeToolbar()),e){var i=this.$("west-container-"+this.target),a=this.$(this.target+"-cX-ToolbarMove"),s=this.$(this.target+"-cX-ToolbarReproduce");if(e&&0==parseInt(e.style.height)&&i&&a&&s)if(a.style.display=this.movable&&!this.maximized?"block":"none",s.style.display=this.meta.stack.length?"block":"none","fixed"==this.toolbarType)e.style.height="36px",e.style.top="-37px";else if(this.resizeMove(e,0,this.maximized?0:"over"==this.toolbarType?-37:0,this.width,36,250),t){var r=this;setTimeout((function(){r.hideToolbar(t)}),t)}}}},this.hideToolbar=function(t,e){if("fixed"!=this.toolbarType){var i=this.$(this.target+"-cX-Toolbar");i||(i=this.initializeToolbar());var a=this.$("west-container-"+this.target);if(i&&36==parseInt(i.style.height)&&a)this.resizeMove(i,0,0,this.width,0,500,e);else if(t&&i&&parseInt(i.style.height)>0){var s=this;setTimeout((function(){s.hideToolbar(t,e)}),t)}}},this.isToolbar=function(t){var e=this.adjustedCoordinates(t);if(e){var i=e.x,a=e.y;a>0&&a<36&&i>0&&i<this.width?this.showToolbar():a>36&&a<this.height&&i>0&&i<this.width&&"fixed"!=this.toolbarType&&this.hideToolbar()}},this.removeToolbar=function(){var t=this.$("north-wrapper-"+this.target),e=this.$(this.target+"-cX-Toolbar");t&&e&&(this.addRemoveToolbarListeners("removeEvtListener"),t.removeChild(e))},this.initializeToolbar=function(){if(!this.disableEvents&&!this.disableToolbar)return this.addToolbarDiv()}},CanvasXpress.prototype.initConfigurator=function(){var t;this.addConfigurator=(t=this,function(e,i,a,s){var r=!1;if(!t.disableConfigurator||e.ctrlKey){var n=t.$(t.target+"-cX-Configurator");n&&(r=!0,t.activeTarget&&(t.activeTarget.style.zIndex=1e4),t.activeTarget=n,t.activeTarget.style.zIndex=10001);var o="Search property or function";if(t.configuringOn=!0,i)if(t.isArray(i)&&(i=t.isNumber(i[0])?i[0]:Number(i[0].replace("-lab",""))),"Network"==t.graphType){if(!isNaN(i))if(t.configuringNetwork=i,t.data.nodes.length>i)o="Configure "+(t.data.nodes[i].label||t.data.nodes[i].name||t.data.nodes[i].id);else{var h=t.data.edges[i-t.data.nodes.length],l=t.data.nodes[t.data.nodeIndices[h.id1]],c=t.data.nodes[t.data.nodeIndices[h.id2]];o="Configure "+(l.label||l.name||l.id)+" - "+(c.label||l.name||c.id)}}else"Genome"==t.graphType&&(t.configuringGenome=i,o="Configure track "+i);var d=null!=a&&null!=s?{x:a,y:s}:e?t.adjustedCoordinates(e):{x:20,y:20};if(d){if(a=d.x,s=d.y,r)return n.style.left=a+"px",void(n.style.top=s+"px");n=t.$cX("div",{id:t.target+"-cX-Configurator",className:"CanvasXpressConfigurator draggable"},{cursor:"move",left:a+"px",top:s+"px",padding:"10px",position:"absolute",zIndex:10001,opacity:0});var p=t.$cX("div",{id:t.target+"-cX-ConfiguratorKeyText"},{display:"block",marginBottom:"5px",width:t.configuratorWidth+"px",height:"24px"}),g=t.$cX("span",{id:t.target+"-cX-ConfiguratorKeyTextSpan",className:"CanvasXpressConfigurator",innerHTML:o}),u=t.$cXI("wp_list",{id:t.target+"-cX-ConfiguratorKeyMenu",className:"CanvasXpressConfigurator",src:"wp_list",title:"Open menus"}),m=t.$cXI("z_zoom",{id:t.target+"-cX-ConfiguratorKeySearch",className:"CanvasXpressConfigurator",src:"z_zoom",title:"Browse properties by category"}),f=t.$cXI("op_cancel",{id:t.target+"-cX-ConfiguratorKeyClose",className:"CanvasXpressConfigurator",src:"op_cancel",title:"Close"}),y=t.$cX("input",{id:t.target+"-cX-ConfiguratorKey",className:"CanvasXpressConfigurator",type:"text"},{display:"block",width:t.configuratorWidth+"px"}),x=t.$cX("select",{id:t.target+"-cX-ConfiguratorCategories",className:"CanvasXpressConfigurator",size:5},{display:"none",width:t.configuratorWidth+"px"}),b=t.$cX("div",{id:t.target+"-cX-ConfiguratorSugestionsText",innerHTML:"Select property"},{display:"none",margin:"5px 0px 5px 0px",width:t.configuratorWidth+"px"}),v=t.$cX("select",{id:t.target+"-cX-ConfiguratorSugestions",className:"CanvasXpressConfigurator",size:10},{display:"none",width:t.configuratorWidth+"px"}),A=t.$cX("div",{id:t.target+"-cX-ConfiguratorSugestionsDescription"},{display:"none",margin:"5px 0px 5px 0px",width:t.configuratorWidth+"px",minHeight:"56px",overflow:"auto"}),w=t.$cX("div",{id:t.target+"-cX-ConfiguratorValueText",innerHTML:"Current value"},{display:"none",margin:"5px 0px 5px 0px",width:t.configuratorWidth+"px"}),C=t.$cX("div",{id:t.target+"-cX-ConfiguratorSeeAlso"},{display:"none",width:t.configuratorWidth+"px",minHeight:"20px",overflow:"auto"}),T=t.$cX("input",{id:t.target+"-cX-ConfiguratorValue",className:"CanvasXpressConfigurator",type:"text"},{display:"none",width:t.configuratorWidth+"px"}),S=t.$cX("input",{id:t.target+"-cX-ConfiguratorApply",value:"Apply",type:"button"},{display:"none",cssFloat:"left",borderRadius:"5px",top:"4px",position:"relative",width:t.configuratorWidth/2+"px"}),D=t.$cX("input",{id:t.target+"-cX-ConfiguratorButton",value:"Draw",type:"button"},{display:"none",cssFloat:"left",borderRadius:"5px",top:"4px",position:"relative",width:t.configuratorWidth/2+"px"}),M=t.$cXI("op_cancel",{id:t.target+"-cX-ConfiguratorOptionsClose",className:"CanvasXpressConfigurator",src:"op_cancel",title:"Close"}),k=t.$cX("div",{id:t.target+"-cX-ConfiguratorOptions",className:"CanvasXpressConfigurator draggable"},{cursor:"move",display:"none",padding:"10px",position:"absolute"}),L=t.$cX("div",{id:t.target+"-cX-ConfiguratorColorCurrent",className:"CanvasXpressConfiguratorColor"},{width:"181px",height:"24px",cssFloat:"left",cursor:"default",lineHeight:"24px"}),I=t.$cXI("op_cancel",{id:t.target+"-cX-ConfiguratorColorClose",className:"CanvasXpressConfigurator",src:"op_cancel",title:"Close"}),B=t.$cX("div",{id:t.target+"-cX-ConfiguratorColor",className:"CanvasXpressConfigurator draggable"},{width:"212px",cursor:"move",display:"none",padding:"10px",position:"absolute"}),N=t.$cX("div",{id:t.target+"-cX-ConfiguratorExample",className:"CanvasXpressConfiguratorExample draggable"},{width:t.configuratorExamplesSize+35+"px",maxHeight:t.configuratorExamplesSize+"px",cursor:"move",display:"none",padding:"10px",position:"absolute",overflow:"auto",paddingBottom:"35px"}),F=t.$cX("span",{id:t.target+"-cX-ConfiguratorExampleSpan",className:"CanvasXpressConfiguratorExample",innerHTML:""}),P=t.$cX("op_cancel",{id:t.target+"-cX-ConfiguratorExampleClose",className:"CanvasXpressConfigurator",src:"op_cancel",title:"Close"}),R=t.$cX("div",{id:t.target+"-cX-ConfiguratorExampleContent",className:"CanvasXpressConfiguratorExampleContent"},{maxWidth:t.configuratorExamplesSize+35+"px",maxHeight:t.configuratorExamplesSize+"px"});p.appendChild(g),p.appendChild(f),p.appendChild(m),p.appendChild(u),k.appendChild(window.document.createTextNode("Select option ...")),k.appendChild(M),k.appendChild(t.$cX("br")),B.appendChild(L),B.appendChild(I),B.appendChild(t.$cX("br")),N.appendChild(F),N.appendChild(P),N.appendChild(t.$cX("br")),N.appendChild(R),n.appendChild(p),n.appendChild(y),n.appendChild(x),n.appendChild(b),n.appendChild(v),n.appendChild(A),n.appendChild(C),n.appendChild(w),n.appendChild(T),n.appendChild(S),n.appendChild(D),n.appendChild(k),n.appendChild(B),n.appendChild(N);var O=t.$("west-wrapper-"+t.target);O&&(O.appendChild(n),t.activeTarget&&(t.activeTarget.style.zIndex=1e4),t.activeTarget=n,t.addRemoveConfiguratorListeners("addEvtListener"),(t.configuringNetwork||t.configuringGenome)&&t.selectConfig(!1,!0),this.transitionMagic(n,"swashIn",(function(){y.focus()})))}}}),this.addConfiguratorCloseMenus=function(t){return function(e,i,a,s){t.removeMenus(),t.addConfigurator(e,i,a,s)}}(this),this.addRemoveConfiguratorListeners=function(t){var e=this.$(this.target+"-cX-Configurator"),i=this.$(this.target+"-cX-ConfiguratorCategories"),a=this.$(this.target+"-cX-ConfiguratorSugestions"),s=this.$(this.target+"-cX-ConfiguratorApply"),r=this.$(this.target+"-cX-ConfiguratorButton"),n=this.$(this.target+"-cX-ConfiguratorKeyClose"),o=this.$(this.target+"-cX-ConfiguratorKeySearch"),h=this.$(this.target+"-cX-ConfiguratorKeyMenu"),l=this.$(this.target+"-cX-ConfiguratorOptions"),c=this.$(this.target+"-cX-ConfiguratorOptionsClose"),d=this.$(this.target+"-cX-ConfiguratorColor"),p=this.$(this.target+"-cX-ConfiguratorColorClose"),g=this.$(this.target+"-cX-ConfiguratorExample"),u=this.$(this.target+"-cX-ConfiguratorExampleClose");e&&i&&a&&r&&s&&n&&o&&h&&l&&c&&d&&p&&g&&u&&(this[t](e,"mousedown",this.registerMousemove,!1),this[t](i,"change",this.changeCategory,!1),this[t](i,"click",this.changeCategory,!1),this[t](a,"change",this.clickSuggestions,!1),this[t](a,"click",this.clickSuggestions,!1),this[t](s,"click",this.clickApplyConfigurator,!1),this[t](r,"click",this.clickConfigurator,!1),this[t](h,"click",this.clickMenuDropDown,!1),this[t](o,"click",this.clickSearch,!1),this[t](n,"click",this.closeConfigurator,!1),this[t](l,"mousedown",this.registerMousemove,!1),this[t](c,"click",this.closePropertyOptions,!1),this[t](d,"mousedown",this.registerMousemove,!1),this[t](p,"click",this.closePropertyColor,!1),this[t](g,"mousedown",this.registerMousemove,!1),this[t](u,"click",this.closePropertyExample,!1))},this.getConfigurableProperties=function(){if(this.configuringNetwork)return this.data.nodes.length>this.configuringNetwork?this.getNodeConfigurableProperties(this.configuringNetwork):this.getEdgeConfigurableProperties(this.configuringNetwork-this.data.nodes.length);if(this.configuringGenome){if(!isNaN(this.configuringGenome)||this.configuringGenome.match(/:/))return this.featureConfigurableProperties;if(this.configuringGenome.match(/track/))return this.trackConfigurableProperties;this.configuringGenome=!1}var t=[];for(var e in CanvasXpress.doc.P){if(!CanvasXpress.doc.P[e].Z)this.getGraphTypes(CanvasXpress.doc.P[e],!0).hasOwnProperty(this.graphType)&&t.push(e)}return t},this.getConfigurableObjectDoc=function(t){return!!CanvasXpress.doc.P[t]&&CanvasXpress.doc.P[t]},this.selectConfig=function(t,e){var i=this.$(this.target+"-cX-ConfiguratorKey"),a=this.$(this.target+"-cX-ConfiguratorSugestionsText"),s=this.$(this.target+"-cX-ConfiguratorSugestions"),r=this.$(this.target+"-cX-ConfiguratorSugestionsDescription"),n=this.$(this.target+"-cX-ConfiguratorValueText"),o=this.$(this.target+"-cX-ConfiguratorSeeAlso"),h=this.$(this.target+"-cX-ConfiguratorValue"),l=this.$(this.target+"-cX-ConfiguratorApply"),c=this.$(this.target+"-cX-ConfiguratorButton"),d=this.$(this.target+"-cX-ConfiguratorValueHREF"),p=window.document.activeElement,g=this.getConfigurableProperties(),u=[];if(13==this.getKeyCode(t)){if(this.resetOptionColorExamples(),s&&h&&h.value){for(var m=!1,f=0;f<g.length;f++)if(s.value==g[f]){m=!0;break}m?this.clickConfigurator(t,s,h):this.resetConfigurator(t)}}else if(i&&p.id==i.id||e){this.resetOptionColorExamples();for(f=0;f<g.length;f++)g[f].toLowerCase().indexOf(i.value.toLowerCase())>=0&&u.push(g[f]);if(u.length>0&&a&&s&&r&&n&&o&&h&&c&&l){if(this.resetSugestions(),u.sort(),this.configuringNetwork||this.configuringGenome)for(f=0;f<u.length;f++){g=this.$cX("option",{text:u[f],value:u[f]});try{s.add(g,null)}catch(t){s.add(g)}}else for(var f=0;f<u.length;f++){var g=this.$cX("option",{text:u[f],value:u[f]});try{s.add(g,null)}catch(t){s.add(g)}}s.options[0].selected=!0,this.setConfiguratorPropertyValue(s,r,n,o,h),a.innerHTML="Select property ("+u.length+")",a.style.display="block",s.style.display="block",r.style.display="block",n.style.display="block",o.style.display="block",h.style.display="block",c.style.display="block",l.style.display="block"}else i.value=i.value.slice(0,i.value.length-1)}else h&&p.id==h.id?(this.resetOptionColorExamples(),d&&"color"==d.innerHTML&&(d.style.color=h.value?this.rgbToHex(this.validateColor(h.value.replace(/[\'\"]/g,""))):this.foreground)):this.remoteService&&(this.resetOptionColorExamples(),this.selectDataSet(t));return!1},this.clickSearch=function(t){return function(e){t.configuringNetwork=!1,t.configuringGenome=!1,t.resetOptionColorExamples();var i=t.$(t.target+"-cX-ConfiguratorKeyTextSpan"),a=t.$(t.target+"-cX-ConfiguratorKey"),s=t.$(t.target+"-cX-ConfiguratorCategories"),r=t.$(t.target+"-cX-ConfiguratorSugestionsText"),n=t.$(t.target+"-cX-ConfiguratorSugestions"),o=t.$(t.target+"-cX-ConfiguratorSugestionsDescription"),h=t.$(t.target+"-cX-ConfiguratorValueText"),l=t.$(t.target+"-cX-ConfiguratorSeeAlso"),c=t.$(t.target+"-cX-ConfiguratorValue"),d=t.$(t.target+"-cX-ConfiguratorButton"),p=t.$(t.target+"-cX-ConfiguratorApply"),g=t.$(t.target+"-cX-ConfiguratorOptions"),u=t.$(t.target+"-cX-ConfiguratorColor"),m=t.getKeys(CanvasXpress.doc.M).sort(),f=[];if(a&&"none"==a.style.display)i&&(i.innerText="Search property or function"),s&&(s.style.display="none"),a.value="",a.style.display="block";else{if(i)for(var y=0;y<m.length;y++){if(CanvasXpress.doc.M[m[y]].U)t.getGraphTypes({M:m[y]},!0).hasOwnProperty(t.graphType)&&f.push(m[y]);else f.push(m[y]);i.innerText="Select category ("+f.length+")"}if(a&&(a.style.display="none"),s){t.resetCategories();for(y=0;y<f.length;y++){var x=t.$cX("option",{text:f[y],value:f[y]});try{s.add(x,null)}catch(t){s.add(x)}}s.style.display="block"}}return r&&n&&o&&h&&l&&c&&d&&p&&g&&u&&(r.style.display="none",n.style.display="none",o.style.display="none",h.style.display="none",l.style.display="none",c.style.display="none",d.style.display="none",p.style.display="none",g.style.display="none",u.style.dysplay="none"),!1}}(this),this.clickMenuDropDown=function(t){return function(e){return t.closeConfigurator(e),t.addMenu(e,!1,!1,!1,8,8),!1}}(this),this.closeConfigurator=function(t){return function(e){return t.resetViewportOverflow("west"),t.resetConfigurator(e),!1}}(this),this.changeCategory=function(t){return function(e,i,a){t.resetOptionColorExamples();var s=t.$(t.target+"-cX-ConfiguratorCategories"),r=t.$(t.target+"-cX-ConfiguratorSugestionsText"),n=t.$(t.target+"-cX-ConfiguratorSugestions"),o=t.$(t.target+"-cX-ConfiguratorSugestionsDescription"),h=t.$(t.target+"-cX-ConfiguratorValueText"),l=t.$(t.target+"-cX-ConfiguratorSeeAlso"),c=t.$(t.target+"-cX-ConfiguratorValue"),d=t.$(t.target+"-cX-ConfiguratorApply"),p=t.$(t.target+"-cX-ConfiguratorButton"),g=t.$(t.target+"-cX-ConfiguratorOptions"),u=t.$(t.target+"-cX-ConfiguratorColor"),m=CanvasXpress.doc.M;if(a&&(s.value=a),s&&s.value&&r&&n&&o&&h&&l&&c&&p&&g&&u){var f=m[s.value].P.sort();t.resetSugestions();for(var y=0;y<f.length;y++){a&&f[y]==a&&(i=y);var x=t.$cX("option",{text:f[y],value:f[y]});try{n.add(x,null)}catch(t){n.add(x)}}n.options[i||0].selected=!0,r.innerHTML="Select property ("+f.length+")",t.setConfiguratorPropertyValue(n,o,h,l,c),r.style.display="block",n.style.display="block",o.style.display="block",h.style.display="block",l.style.display="block",c.style.display="block",d.style.display="block",p.style.display="block",g.style.display="none",u.style.display="none"}return!1}}(this),this.hideCategories=function(){var t=this.$(this.target+"-cX-ConfiguratorCategories"),e=this.$(this.target+"-cX-ConfiguratorKeyTextSpan"),i=this.$(this.target+"-cX-ConfiguratorKeySearch"),a=this.$(this.target+"-cX-ConfiguratorKeyDock");t&&e&&i&&a&&(t.style.display="none",e.innerHTML="",i.style.display="none",a.style.display="none")},this.resetCategories=function(){var t=this.$(this.target+"-cX-ConfiguratorCategories");if(t){if(t.hasChildNodes())for(;t.childNodes.length>=1;)t.removeChild(t.firstChild);t.style.display="none"}},this.clickSuggestions=function(t){return function(e){return t.resetOptionColorExamples(),t.setConfiguratorPropertyValue(),!1}}(this),this.setConfiguratorPropertyValue=function(t,e,i,a,s){var r;t||(t=this.$(this.target+"-cX-ConfiguratorSugestions")),e||(e=this.$(this.target+"-cX-ConfiguratorSugestionsDescription")),i||(i=this.$(this.target+"-cX-ConfiguratorValueText")),a||(a=this.$(this.target+"-cX-ConfiguratorSeeAlso")),s||(s=this.$(this.target+"-cX-ConfiguratorValue"));var n=this.$(this.target+"-cX-ConfiguratorOptions"),o=this.getConfigurableObjectDoc(t.value);if(s.value="",s.style.readonly=!1,this.configuringNetwork)"function"==typeof this[t.value]?(s.style.disabled="disabled",s.style.readonly=!1):r=this.configuringNetwork<this.data.nodes.length?this.data.nodes[this.configuringNetwork][t.value]:this.data.edges[this.configuringNetwork-this.data.nodes.length][t.value];else if(this.configuringGenome){var h=this.subtracksInfo;isNaN(this.configuringGenome)?this.configuringGenome.match(/:/)?(r=parseInt(this.configuringGenome.split(":")[1]),r=this.data.tracks[h[r].track].data[h[r].index][t.value]):(r=parseInt(this.configuringGenome.replace("track-","")),r=this.data.tracks[h[r].track][t.value]):r=this.data.tracks[h[this.configuringGenome].track].data[h[this.configuringGenome].index][t.value]}else"function"==typeof this[t.value]?(i.innerHTML="Current&nbsp;value&nbsp;[&nbsp;<i>function</i>&nbsp;]&nbsp;"+this[t.value].length+"&nbsp;parameter(s)",0==this[t.value].length&&(s.style.disabled="disabled",s.style.readonly=!1)):r=this[t.value];s.value=r?this.stringifyJSON(r):"",this.addPropertyDescription(e,o,t.value),this.addPropertySeeAlsoLinks(a,o),this.addPropertyOptions(i,n,o,t.value,r),this.showConfiguratorExamplesOnSelect&&(this.resetPropertyExample(),this.clickExamplePropertyDescription(!1,t.value))},this.resetSugestions=function(){var t=this.$(this.target+"-cX-ConfiguratorSugestions");if(t){if(t.hasChildNodes())for(;t.childNodes.length>=1;)t.removeChild(t.firstChild);t.style.display="none"}},this.addPropertyDescription=function(t,e,i){var a=e&&e.C?e.C:"",s=e&&e.M?e.M:"",r=!(!e||!e.H);this.resetPropertyDescription(t);var n=this.$cX("i",{innerHTML:i}),o=this.$cX("span",{id:this.target+"-cX-ConfiguratorSugestionsDescriptionEditSpan",className:"CanvasXpressConfigurator",prop:i,innerHTML:" : "+a}),h=this.$cX("i",{innerHTML:s}),l=this.$cX("a",{id:this.target+"-cX-ConfiguratorSugestionsDescriptionExample",href:"javascript:void(0)",alt:"Show examples",title:"Show examples"}),c=this.$cX("span",!1,{className:"CanvasXpressConfigurator"});l.appendChild(n),c.appendChild(window.document.createTextNode("Description [ ")),c.appendChild(h),c.appendChild(window.document.createTextNode(" ]")),t.appendChild(c),t.appendChild(this.$cX("br")),t.appendChild(r?l:n),t.appendChild(o),this.addEvtListener(l,"click",this.clickExamplePropertyDescription,!1)},this.resetPropertyDescription=function(t,e){if(t||(t=this.$(this.target+"-cX-ConfiguratorSugestionsDescription")),t)for(e||(e=this.$(this.target+"-cX-ConfiguratorSugestionsDescriptionExample")),e&&this.removeEvtListener(e,"click",this.clickExamplePropertyDescription,!1);t.childNodes.length>0;){var i=t.childNodes[0];t.removeChild(i)}},this.getGraphTypes=function(t,e){var i=[];if(t.U)for(var a=0;a<t.U.length;a++){var s=t.U[a];i=i.concat(CanvasXpress.graphTypes[s])}else if(CanvasXpress.doc.M[t.M].U)for(a=0;a<CanvasXpress.doc.M[t.M].U.length;a++){s=CanvasXpress.doc.M[t.M].U[a];i=i.concat(CanvasXpress.graphTypes[s])}else i=["Bar"];return e?this.getObjectArray(i):this.getUniqueEls(i).sort()},this.getExamplesDocObject=function(t,e){var i=[];if(t)for(var a=this.getConfigurableObjectDoc(t),s=this.getGraphTypes(a),r=0;r<a.H.length;r++)if(a.H[r].match(/^\{\[/)){var n=[],o="{[*]}"==a.H[r]||a.H[r].match(/^\{\[.+?\]\}[^,]/)||a.H[r].match(/^\{\[.+\]\}[^,]$/)?{}:this.parseJSON(String(a.H[r].replace(/^\{\[.+?\],/,"{"))),h=!!o.data&&this.getDataSet(o.data),l=o.skipExample?this.getObjectArray(o.skipExample):{},c=!!o.functions&&o.functions;h&&delete o.data,l&&delete o.skipExample,c&&delete o.functions,a.H[r].match(/^\{\[[^\*].+\]/)?n=(n=a.H[r].replace(/"/g,"")).split("]")[0].replace("{[","").split(","):"option"==a.T?n=a.O:"boolean"==a.T?n=[!0,!1]:"color"==a.T?(n=["rgb(255,125,51)","rgb(51,255,125)","rgb(125,51,255)"]).unshift(a.D):"float"==a.T?n="null"==a.D?[null,.5]:[parseFloat(a.D),Math.max(2*parseFloat(a.D),1)]:"integer"==a.T&&(n=0==a.D?[0,1]:[parseInt(a.D),parseInt(2*parseInt(a.D)+.5)]),n.length>8&&(n=this.sample(n,8));for(var d=0;d<n.length;d++)if(!l.hasOwnProperty(n[d])){var p=(e?t:this.target)+"-cX-ConfiguratorExample-"+t+"-"+String(n[d]).replace(/\s/m,"-")+"-"+r,g=this.cloneObject(o);"null"==n[d]||null==n[d]?g[t]=null:(g[t]="integer"==a.T||"float"==a.T?Number(n[d]):n[d],"false"==g[t]?g[t]=!1:"true"==g[t]&&(g[t]=!0)),g.graphType||(g.graphType=s[2]||s[0]),c?i.push([p,h,g,c]):i.push([p,h,g])}}else{var u=!!(d=this.parseJSON(String(a.H[r]))).data&&this.getDataSet(d.data),m=!!d.functions&&d.functions;u&&delete d.data,m&&delete d.functions;p=(e?t:this.target)+"-cX-ConfiguratorExample-"+t+"-"+r;d.graphType||(d.graphType=s[2]||s[0]),m?i.push([p,u,d,m]):i.push([p,u,d])}return i},this.clickExamplePropertyDescription=function(t){return function(e,i,a){t.resetPropertyExample();var s=a?t.$(i+"-cX-API-Example"):t.$(t.target+"-cX-ConfiguratorExample"),r=a?t.$(i+"-cX-API-ExampleSpan"):t.$(t.target+"-cX-ConfiguratorExampleSpan"),n=a?t.$(i+"-cX-API-ExampleContent"):t.$(t.target+"-cX-ConfiguratorExampleContent"),o=t.graphType,h=t.getDataSet();if(s&&n){i||(i=this.firstChild.innerHTML);var l=t.getExamplesDocObject(i);if(l.length){s.style.display="block",r&&(r.innerHTML=i);for(var c=0;c<Math.min(l.length,10);c++){var d=l[c][0],p=l[c][2];t.graphType=p.graphType;var g=l[c][1]?t.cleanData(t.cloneObject(l[c][1])):t.cleanData((t.graphType!=o&&(o=t.graphType,h=t.getDataSet()),h)),u=l[c][3],m=t.$cX("canvas",{id:d,width:t.configuratorExamplesSize,height:t.configuratorExamplesSize});m.setAttribute("data-responsive",!0),m.setAttribute("data-aspectRatio","1:1"),n.appendChild(m),p.title||(null!=p[i]?t.isArray(p[i])?p.title=i+" : "+p[i].join(","):t.isObject(p[i])?p.title=i+" : Object":p.title=i+" : "+p[i]:p.title=i+" : null");var f=new CanvasXpress(d,g,p);if(u)for(var y=0;y<u.length;y++)if(u[y].match(/:/)){var x=u[y].split(":");f[x.shift()].apply(f,x)}else f[u[y]]()}if(!a)if(t.alignConfiguratorExamples){var b=t.$(t.target+"-cX-Configurator");s.style.left=b.offsetWidth+"px",s.style.top="-1px",s.style.height=b.clientHeight-45+"px",n.style.maxHeight=b.clientHeight-45+"px",t.removeClass(s,"draggable")}else{var v=t.adjustedCoordinates(e,s);s.style.left=v.x+"px",s.style.top=v.y+"px",delete s.style.height,n.style.Maxheight="500px",t.addClass(s,"draggable")}}}}}(this),this.addPropertySeeAlsoLinks=function(t,e){this.resetPropertySeeAlsoLinks(t);var i=window.document,a=this.$cX("span",!1,{className:"CanvasXpressConfigurator"});if(a.appendChild(i.createTextNode("See Also: ")),t.appendChild(a),e&&e.S)for(var s=0;s<e.S.length;s++){var r=this.$cX("a",{href:"javascript:void(0)",innerHTML:e.S[s]});this.addEvtListener(r,"click",this.clickPropertySeeAlsoLinks,!1),t.appendChild(r),s<e.S.length-1&&t.appendChild(i.createTextNode(", "))}},this.clickPropertySeeAlsoLinks=function(t){return function(e){var a=t.$(t.target+"-cX-ConfiguratorKey"),s=t.$(t.target+"-cX-ConfiguratorCategories"),r=(t.$(t.target+"-cX-ConfiguratorSugestions"),e.target||e.srcElement);if(s&&"block"==s.style.display){var n=CanvasXpress.doc.P[r.innerHTML],o=CanvasXpress.doc.M[n.M].P.sort();for(s.value=n.M,i=0;i<o.length;i++)if(o[i]==r.innerHTML)return t.changeCategory(e,i),!1;t.changeCategory(e)}else a&&(a.value=r.innerHTML,t.selectConfig(e,!0));return!1}}(this),this.resetPropertySeeAlsoLinks=function(t){if(t||(t=this.$(this.target+"-cX-ConfiguratorSeeAlso")),t&&t.childNodes)for(;t.childNodes.length>0;){var e=t.childNodes[0];"a"==e.nodeName.toLowerCase()&&this.removeEvtListener(e,"click",this.clickPropertySeeAlsoLinks,!1),t.removeChild(e)}},this.addPropertyOptions=function(t,e,i,a,s){this.resetPropertyOptions(t,e);var r=window.document,n=this.$cX("span",!1,{className:"CanvasXpressConfigurator"}),o=this.$cX("i");if(n.appendChild(r.createTextNode("Current value")),i&&i.T&&("option"==i.T||"array"==i.T||"boolean"==i.T)){var h=this.$cX("div",{id:this.target+"-cX-ConfiguratorOptionsContainer",className:"CanvasXpressConfiguratorOptions"}),l=this.$cX("a",{href:"javascript:void(0)",innerHTML:i.T,alt:"Modify property",title:"Modify property"});if(this.addEvtListener(l,"click",this.clickPropertyOptions,!1),n.appendChild(r.createTextNode(" [")),o.appendChild(l),n.appendChild(r.createTextNode(" ")),n.appendChild(o),n.appendChild(r.createTextNode(" ]")),"array"==i.T){var c=i.X?this[i.X]():i.O?i.O:[],d=this.getObjectArray(s);if(c.length>0)for(var p=0;p<c.length;p++){a=this.$cX("input",{type:"checkbox",value:c[p],checked:!!d.hasOwnProperty(c[p])},{marginLeft:"0px"});this.addEvtListener(a,"change",this.updatePropertyValue,!1),h.appendChild(r.createTextNode(p+1+". ")),h.appendChild(a),h.appendChild(r.createTextNode(c[p])),h.appendChild(this.$cX("br"))}else h.appendChild(this.$cX("br")),h.appendChild(r.createTextNode("This array is user defined")),h.appendChild(this.$cX("br"))}else{c="boolean"==i.T?["true","false"]:i.X?this[i.X]():i.O?i.O:[];i.X&&i.O&&(c=c.concat(i.O));for(p=0;p<c.length;p++){a=this.$cX("a",{href:"javascript:void(0)",innerHTML:c[p],alt:"Modify property",title:"Modify property"},{padding:"2px"});this.addEvtListener(a,"click",this.updatePropertyValue,!1),h.appendChild(r.createTextNode(p+1+". ")),h.appendChild(a),h.appendChild(this.$cX("br"))}}e.appendChild(h)}else if(i&&i.T){if(n.appendChild(r.createTextNode(" [")),"color"==i.T){if(this.configuringNetwork)c=this.configuringNetwork<this.data.nodes.length?this.data.nodes[this.configuringNetwork][a]:this.data.edges[this.configuringNetwork-this.data.nodes.length][a];else if(this.configuringGenome){var g=this.subtracksInfo;isNaN(this.configuringGenome)?this.configuringGenome.match(/:/)?(c=parseInt(this.configuringGenome.split(":")[1]),c=this.data.tracks[g[c].track].data[g[c].index]):(c=parseInt(this.configuringGenome.replace("track-","")),c=this.data.tracks[g[c].track]):c=this.data.tracks[g[this.configuringGenome].track].data[g[this.configuringGenome].index]}else c=this[a];l=this.$cX("a",{id:this.target+"-cX-ConfiguratorValueHREF",href:"javascript:void(0)",innerHTML:i.T,alt:"Modify color",title:"Modify color"},{color:c?this.rgbToHex(this.validateColor(c)):this.foreground});this.addEvtListener(l,"click",this.addPropertyColor,!1),o.appendChild(l)}else o.appendChild(r.createTextNode(i.T));n.appendChild(r.createTextNode(" ")),n.appendChild(o),n.appendChild(r.createTextNode(" ]"))}t.appendChild(n)},this.clickPropertyOptions=function(t){return function(e){var i=t.$(t.target+"-cX-ConfiguratorOptions");return i&&(i.style.display="block",i.style.left=e.layerX+"px",i.style.top=e.layerY+"px"),!1}}(this),this.closePropertyOptions=function(t){return function(e){t.handleHideDiv(t.target+"-cX-ConfiguratorOptions")}}(this),this.resetPropertyOptions=function(t,e,i){if(t||(t=this.$(this.target+"-cX-ConfiguratorValueText")),e||(e=this.$(this.target+"-cX-ConfiguratorOptions")),t&&t.childNodes&&!i)for(;t.childNodes.length>0;){"a"==(s=t.childNodes[0]).nodeName.toLowerCase()&&this.removeEvtListener(s,"click",this.clickPropertyOptions,!1),t.removeChild(s)}if(e){var a=this.$(this.target+"-cX-ConfiguratorOptionsContainer");if(a){for(;a.childNodes.length>0;){var s;"a"==(s=a.childNodes[0]).nodeName.toLowerCase()?this.removeEvtListener(s,"click",this.updatePropertyValue,!1):"input"==s.nodeName.toLowerCase()&&"checkbox"==s.type&&this.removeEvtListener(s,"change",this.updatePropertyValue,!1),a.removeChild(s)}e.removeChild(a)}e.style.display="none"}},this.closePropertyExample=function(t){return function(e){t.handleHideDiv(t.target+"-cX-ConfiguratorExample"),t.resetPropertyExample()}}(this),this.resetPropertyExample=function(t){var e=this.$(this.target+"-cX-ConfiguratorExample");e&&(this.destroyInDOM(e.getElementsByTagName("canvas")),t||(e.style.display="none"))},this.addPropertyColor=function(t){return function(e){var i=t.$(t.target+"-cX-ConfiguratorColor"),a=t.$(t.target+"-cX-ConfiguratorValue");if(i&&a){var s=a.value?t.rgbToHex(t.validateColor(a.value.replace(/[\'\"]/g,""))):t.foreground;t.colorRGBfromString(s);var r=Math.round(t.colorHSV[0]/6*180),n=Math.round(100*(1-t.colorHSV[1])),o=Math.round(100*(1-t.colorHSV[2])),h=t.$cX("div",{id:t.target+"-cX-ConfiguratorColorContainer"},{width:"210px",height:"101px",marginTop:"7px"}),l=t.$cX("div",{id:t.target+"-cX-ConfiguratorColorPalette",className:"CanvasXpressConfiguratorColorMain"},{position:"relative",left:"0px",top:"0px",width:"181px",height:"101px"}),c=t.$cX("div",{id:t.target+"-cX-ConfiguratorColorPaletteCurrent",className:"CanvasXpressConfiguratorColorExtra"},{position:"relative",left:r-7+"px",top:n-7+"px",width:"195px",height:"115px"});l.appendChild(c);for(var d=t.$cX("div",{id:t.target+"-cX-ConfiguratorColorSaturation",className:"CanvasXpressConfiguratorColor"},{position:"relative",left:"188px",width:"15px",height:"100px",border:"1px solid rgb(51,122,183)",cursor:"crosshair"}),p=0;p<100;p+=4){var g=t.$cX("div",!1,{height:"4px",position:"relative",left:"0px",cursor:"crosshair"});d.appendChild(g)}var u=t.$cX("div",{id:t.target+"-cX-ConfiguratorColorSaturationCurrent",className:"CanvasXpressConfiguratorColorExtra"},{position:"relative",left:"0px",top:o-108+"px",width:"29px",height:"115px"});d.appendChild(u),h.appendChild(l),h.appendChild(d),i.appendChild(h),t.colorizeCurrentColorDiv(),t.colorizeSaturationColorDiv(),t.addEvtListener(l,"mousedown",t.registerPalette,!1),t.addEvtListener(d,"mousedown",t.registerSaturation,!1),i.style.display="block",i.style.left=e.layerX+"px",i.style.top=e.layerY+"px"}return!1}}(this),this.registerPalette=function(t){return function(e){if(t.changingColorOn="palette",0==t.colorHSV[2]){t.colorFromHsv(null,null,1),t.colorizeCurrentColorDiv();var i=t.$(t.target+"-cX-ConfiguratorColorSaturationCurrent");i&&(i.style.top="-108px")}return t.updateColorValue(e),t.colorizeSaturationColorDiv(),!1}}(this),this.registerSaturation=function(t){return function(e){return t.changingColorOn="saturation",t.updateColorValue(e),!1}}(this),this.updateColorValue=function(t){if(this.changingColorOn)if("palette"==this.changingColorOn){var e=this.$(this.target+"-cX-ConfiguratorColorPalette"),i=this.$(this.target+"-cX-ConfiguratorColorPaletteCurrent");if(e&&i)if(r=this.adjustedCoordinates(t,e)){var a=Math.min(Math.max(0,r.x),181),s=Math.min(Math.max(0,r.y),101);i.style.left=a-7+"px",i.style.top=s-7+"px",this.colorFromHsv(6*a/180,1-s/100,null),this.colorizeCurrentColorDiv(),this.colorizeSaturationColorDiv()}}else{var r,n=this.$(this.target+"-cX-ConfiguratorColorSaturation"),o=this.$(this.target+"-cX-ConfiguratorColorSaturationCurrent");if(n&&o)if(r=this.adjustedCoordinates(t,n)){s=Math.min(Math.max(0,r.y),101);o.style.top=s-108+"px",this.colorFromHsv(null,null,1-s/100),this.colorizeCurrentColorDiv()}}},this.colorizeCurrentColorDiv=function(){var t=this.$(this.target+"-cX-ConfiguratorColorCurrent"),e=this.$(this.target+"-cX-ConfiguratorValue"),i=this.$(this.target+"-cX-ConfiguratorValueHREF");if(t&&e&&i){var a=this.colorRGBToString(),s=this.hexToRgb("#"+a);t.style.backgroundColor="#"+a,t.innerHTML="&nbsp;&nbsp;"+s,t.style.color=this.complementaryColor(s,!0),e.value=s,i.style.color="#"+a}},this.colorizeSaturationColorDiv=function(){var t=function(t,e,i,a,s){return"rgb("+t*(1-a/s)*100+"%,"+e*(1-a/s)*100+"%,"+i*(1-a/s)*100+"%)"},e=this.$(this.target+"-cX-ConfiguratorColorSaturation");if(e&&this.colorHSV){var i=e.childNodes,a=this.hsvFromRgb(this.colorHSV[0],this.colorHSV[1],1);if(a)for(var s=0;s<i.length-1;s++)i[s].style.backgroundColor=t(a[0],a[1],a[2],s,i.length-1)}},this.endColorChange=function(t){this.changingColorOn=!1},this.closePropertyColor=function(t){return function(e){t.handleHideDiv(t.target+"-cX-ConfiguratorColor"),t.resetPropertyColor()}}(this),this.resetPropertyColor=function(){var t=this.$(this.target+"-cX-ConfiguratorColor"),e=this.$(this.target+"-cX-ConfiguratorColorPalette"),i=this.$(this.target+"-cX-ConfiguratorColorSaturation");if(t&&e&&i){if(t&&t.childNodes){for(;t.childNodes.length>3;)t.removeChild(t.childNodes[3]);this.removeEvtListener(e,"mousedown",this.registerPalette,!1),this.removeEvtListener(i,"mousedown",this.registerSaturation,!1)}t.style.display="none"}},this.updatePropertyValue=function(t){return function(e){var i=t.$(t.target+"-cX-ConfiguratorValue"),a=t.$(t.target+"-cX-ConfiguratorOptions"),s=e.target||e.srcElement;if("input"==s.nodeName.toLowerCase()){for(var r=[],n=0;n<s.parentNode.childNodes.length;n++){var o=s.parentNode.childNodes[n];o.checked&&r.push(o.value)}i.value=r.length>0?'["'+r.join('", "')+'"]':"[]"}else i&&a&&(i.value=s.innerHTML,a.style.display="none");return!1}}(this),this.clickApplyConfigurator=function(t){return function(e){return t.clickConfigurator(e,!1,!1,!0)}}(this),this.clickConfigurator=function(t){return function(e,i,a,s){var r;if(i||(i=t.$(t.target+"-cX-ConfiguratorSugestions")),a||(a=t.$(t.target+"-cX-ConfiguratorValue")),i&&a){var n=t.getConfigurableObjectDoc(i.value);if(a.value){var o="true"==(r=a.value)||"false"==r||"null"==r||r.match(/{|\[/)?t.parseJSON(r):r;if("color"==n.T&&!t.validateColor(o))return alert('"'+o+'" is NOT a valid color'),!1}}return t.updateClickConfigurator(e,i.value,a.value,s),!1}}(this),this.updateClickConfigurator=function(t,e,i,a){var s=this;if(!this.isTransition()){var r=function(t){return"true"==t||"false"==t||"null"==t||t.match(/{|\[/)?s.parseJSON(t):t};if(this.configuringNetwork)this.configuringNetwork<this.data.nodes.length?"function"==typeof this[e]?this[e](this.data.nodes[this.configuringNetwork]):this.data.nodes[this.configuringNetwork][e]=r(i):"function"==typeof this[e]?this[e](this.data.edges[this.configuringNetwork-this.data.nodes.length]):this.data.edges[this.configuringNetwork-this.data.nodes.length][e]=r(i);else if(this.configuringGenome){var n=this.subtracksInfo;if(isNaN(this.configuringGenome))if(this.configuringGenome.match(/:/)){var o=parseInt(this.configuringGenome.split(":")[1]);this.data.tracks[n[o].track].data[n[o].index][e]=r(i)}else{o=parseInt(this.configuringGenome.replace("track-",""));this.data.tracks[o][e]=r(i)}else this.data.tracks[n[this.configuringGenome].track].data[n[this.configuringGenome].index][e]=r(i)}else{if("function"==typeof this[e]){if(this[e].length>0&&i){var h=r(i);this[e](h)}else this[e]();return this.resetConfigurator(t),!1}if("summaryType"==e&&this.isGroupedData&&this[e]!=r(i)){var l=this.groupingFactors;this.ungroupSamples(!0),this[e]=r(i),this.meta.config.user[e]=this[e],this.groupSamples(l,!1,!1,!1,!0)}else"theme"==e&&this[e]!=r(i)?this.changeTheme(r(i),!0):(this[e]=r(i),this.meta.config.user[e]=this[e])}a||this.resetConfigurator(t),e.match(/filter(.+)By/)&&(this.reset(!1,!1,t),this.filterData()),this.resetPropertyExample(),this.draw({func:"updateClickConfigurator",par:[t,e,i,a]})}},this.handleHideDiv=function(t){var e=this.$(t);return e&&(e.style.display="none"),!1},this.resetOptionColorExamples=function(){this.resetPropertyOptions(!1,!1,!0),this.resetPropertyColor(),this.resetPropertyExample()},this.resetConfigurator=function(t){if(this.configuringOn&&"docked"!=this.configuringOn){var e=this.$(this.target+"-cX-Configurator");this.resetOptionColorExamples(),this.resetPropertyDescription(),this.resetPropertySeeAlsoLinks(),this.configuringOn=!1,this.configuringNetwork=!1,this.configuringGenome=!1,this.addRemoveConfiguratorListeners("removeEvtListener"),this.transitionMagic(e,"holeOut",(function(){e.parentNode.removeChild(e)}))}}},CanvasXpress.prototype.initCodeInfo=function(){var t;this.addInfoCodeDiv=function(){var t=this.$(this.target+"-cX-Code");if(t)return t;t=this.$cX("div",{id:this.target+"-cX-Code",className:"CanvasXpressCode draggable"},{left:"25px",top:"-"+(this.height-25)+"px",display:"none"});var e=this.$cXI("op_cancel",{id:this.target+"-cX-CodeCloseImage",className:"CanvasXpressCode",src:"op_cancel",title:"Close Code"}),i=this.$cXI("cd_linesindent",{id:this.target+"-cX-CodePrettyImage",className:"CanvasXpressCode",src:"cd_linesindent",title:"Pretty Code"}),a=this.$cXI("cd_lines",{id:this.target+"-cX-CodeCompactImage",className:"CanvasXpressCode",src:"cd_lines",title:"Compact Code"}),s=this.$cXI("cd_params",{id:this.target+"-cX-CodeParamsImage",className:"CanvasXpressCode",src:"cd_params",title:"Params Code"}),r=this.$cXI("cd_select",{id:this.target+"-cX-CodeSelectImage",className:"CanvasXpressCode",src:"cd_select",title:"Select Code"}),n=this.$cX("div",{id:this.target+"-cX-CodeContainer",className:"CanvasXpressCodeContainer"}),o=this.$("north-wrapper-"+this.target),h=this.$("south-wrapper-"+this.target);return o&&o.appendChild(n),h&&(t.appendChild(e),t.appendChild(i),t.appendChild(a),t.appendChild(s),t.appendChild(r),t.appendChild(n),h.appendChild(t),this.addRemoveCodeListeners("addEvtListener")),t},this.addRemoveCodeListeners=function(t){this.addRemoveEvtListener(t,this.$(this.target+"-cX-Code"),"mousedown",this.registerMousemove,!1),this.addRemoveEvtListener(t,this.$(this.target+"-cX-CodeCloseImage"),"click",this.clickCode,!1),this.addRemoveEvtListener(t,this.$(this.target+"-cX-CodePrettyImage"),"click",this.clickChangeCode,!1),this.addRemoveEvtListener(t,this.$(this.target+"-cX-CodeCompactImage"),"click",this.clickChangeCode,!1),this.addRemoveEvtListener(t,this.$(this.target+"-cX-CodeParamsImage"),"click",this.clickChangeCode,!1),this.addRemoveEvtListener(t,this.$(this.target+"-cX-CodeSelectImage"),"click",this.clickSelectCode,!1)},this.clickCode=(t=this,function(e){return t.hideCodeDiv(e),!1}),this.clickChangeCode=function(t){return function(e){switch(t.getTargetEvent(e).id){case t.target+"-cX-CodePrettyImage":t.codeType="pretty";break;case t.target+"-cX-CodeCompactImage":t.codeType="compact";break;case t.target+"-cX-CodeParamsImage":t.codeType="params"}return t.updateCodeDiv(),!1}}(this),this.clickSelectCode=function(t){return function(e){var i,a=t.$(t.target+"-cX-CodeContent");return a&&(document.selection?((i=document.body.createTextRange()).moveToElementText(a),i.select()):window.getSelection()&&((i=document.createRange()).selectNode(a),window.getSelection().removeAllRanges(),window.getSelection().addRange(i))),!1}}(this),this.clearCodeDiv=function(){var t=this.$(this.target+"-cX-Code");t||(t=this.initializeCodeInfo());var e=this.$(this.target+"-cX-CodeContent");t&&e&&(e.parentNode.removeChild(e),t.style.display="none")},this.getDataJSON=function(t,e){var i={x:!0,y:!0,z:!0,venn:!0,nodes:!0,edges:!0,tracks:!0},a=CanvasXpress.stack[this.target].data,s={};for(var r in a)i.hasOwnProperty(r)&&(s[r]=this.cloneObject(a[r],!0));return s.y&&this.cleanDataObject(s),e?s:t?this.prettyJSON(s,null,!0):this.stringifyJSON(s)},this.cleanDataObject=function(t){if(t&&t.data){if(t.data&&t.data.y){for(var e=this.isRawData?["labs","glab","desc","mean","median","stdev","n","qtl1","qtl3","iqr","iqr1","iqr3","out","conf","trans","tstdev","cor","min","max","sum","count","grps","grpIdxs","factors"]:["labs","glab","desc","data"],i=0;i<e.length;i++)delete t.data.y[e[i]];var a=["l","w","sankey","tree","bubble","gantt","contour"];for(i=0;i<a.length;i++)delete t.data[a[i]]}return t}if(t&&"Map"==this.graphType)return t},this.getConfigJSON=function(t){return t?this.prettyJSON(this.getConfig(),null,!0):this.stringifyJSON(this.getConfig())},this.getEventsJSON=function(t){var e=CanvasXpress.stack[this.target].events||!1;return t?this.prettyJSON(e,null,!0):this.stringifyJSON(e)},this.getAfterRenderJSON=function(t){var e=this.cloneObject(CanvasXpress.stack[this.target].afterRender);return e.shift(),t&&e.length>0?this.prettyJSON(e,null,!0):e.length>1&&this.stringifyJSON(e)},this.getCodeJSONJS=function(t){var e=this.getDataJSON(t),i=this.getConfigJSON(t),a=this.getEventsJSON(t);return t?"<code> "+('<span class=json-value>new</span> CanvasXpress(<span class=json-string>"canvas"</span>, '+e+", "+i+", "+a+");").replace(/\n/g,"</code>\n<code> ")+"</code>":"  new CanvasXpress("+this.prettyJSON(CanvasXpress.stack[this.target],!1,!1,4).replace(/}$/,"  }")+");\n"},this.updateCodeDiv=function(t){var e=this.getDataJSON("pretty"==this.codeType),i="<code> "+('<span class=json-value>new</span> CanvasXpress(<span class=json-string>"canvasID"</span>, '+("params"==this.codeType?"{\n  ...\n}":e)+", "+this.getConfigJSON("pretty"==this.codeType||"params"==this.codeType)+", "+this.getEventsJSON(!0)+");").replace(/\n/g,"</code>\n<code> ")+"</code>",a=this.$(this.target+"-cX-Code");a||(a=this.initializeCodeInfo());var s=this.$(this.target+"-cX-CodeContainer");if(a&&s){this.clearCodeDiv();var r="compact"==this.codeType?"span":"pre";s.appendChild(this.$cX(r,{id:this.target+"-cX-CodeContent",className:"CanvasXpressCodeContent",innerHTML:i})),a.style.display="block",t&&(a.style.zIndex=t)}},this.updateInfoDiv=function(t){var e=this.$(this.target+"-cX-Info");e&&t&&(e.innerHTML=t)},this.showDiv=function(t,e,i){var a=this.$(this.target+"-cX-"+t);a||(a=this.initializeCodeInfo()),a&&(a.style.opacity=1,a.style.display="block",this.transitionMagic(a,i||"swashIn"))},this.hideDiv=function(t,e,i){var a=this.$(this.target+"-cX-"+t);a||(a=this.initializeCodeInfo()),a&&this.transitionMagic(a,i||"holeOut",(function(){a.style.display="none"}))},this.showCodeDiv=function(t,e){this.updateCodeDiv(),this.removeMenus(),this.showDiv("Code",t,e)},this.showRCodeDiv=function(t,e){this.removeMenus();var i=this.$(this.target+"-cX-Code");i||(i=this.initializeCodeInfo());var a=this.$(this.target+"-cX-CodeContainer");i&&a&&(this.clearCodeDiv(),a.appendChild(this.$cX("pre",{id:this.target+"-cX-CodeContent",className:"CanvasXpressCodeContent",innerHTML:this.dataToR()})),this.$(this.target+"-cX-CodePrettyImage").style.display="none",this.$(this.target+"-cX-CodeCompactImage").style.display="none",this.$(this.target+"-cX-CodeParamsImage").style.display="none",this.showDiv("Code",t,e),"Map"==this.graphType&&(i.style.zIndex=1e3))},this.showPythonCodeDiv=function(t,e,i){this.removeMenus();var a=this.$(this.target+"-cX-Code");a||(a=this.initializeCodeInfo());var s=this.$(this.target+"-cX-CodeContainer");a&&s&&(this.clearCodeDiv(),s.appendChild(this.$cX("pre",{id:this.target+"-cX-CodeContent",className:"CanvasXpressCodeContent",innerHTML:this.dataToPython(i)})),this.$(this.target+"-cX-CodePrettyImage").style.display="none",this.$(this.target+"-cX-CodeCompactImage").style.display="none",this.$(this.target+"-cX-CodeParamsImage").style.display="none",this.showDiv("Code",t,e),"Map"==this.graphType&&(a.style.zIndex=1e3))},this.showMetaCodeDiv=function(t,e){this.removeMenus();var i=this.$(this.target+"-cX-Code");i||(i=this.initializeCodeInfo());var a=this.$(this.target+"-cX-CodeContainer");if(i&&a){var s={version:this.createVersion||this.version,factory:this.createFactory||CanvasXpress.factory};window.cX&&(s.license=window.cX),this.clearCodeDiv(),a.appendChild(this.$cX("pre",{id:this.target+"-cX-CodeContent",className:"CanvasXpressCodeContent",innerHTML:"<code> "+this.prettyJSON(s,null,!0).replace(/\n/g,"</code>\n<code> ")+"</code>"})),this.$(this.target+"-cX-CodePrettyImage").style.display="none",this.$(this.target+"-cX-CodeCompactImage").style.display="none",this.$(this.target+"-cX-CodeParamsImage").style.display="none",this.showDiv("Code",t,e),"Map"==this.graphType&&(i.style.zIndex=1e3)}},this.hideCodeDiv=function(t,e){(this.$(this.target+"-cX-CodePrettyImage").style.display="block",this.$(this.target+"-cX-CodeCompactImage").style.display="block",this.$(this.target+"-cX-CodeParamsImage").style.display="block","Map"==this.graphType)&&delete this.$(this.target+"-cX-Code").style.zIndex;this.hideDiv("Code",t,e)},this.showInfoDiv=function(t,e){this.removeMenus(),this.showDiv("Info",t,e)},this.hideInfoDiv=function(t,e){this.hideDiv("Info",t,e)},this.initializeCodeInfo=function(){if(!this.disableEvents&&!this.disableCode)return this.addInfoCodeDiv()}},CanvasXpress.prototype.initBin=function(){var t;this.addBinConfigurator=function(t,e){this.removeMenus();var i=this.target+"-"+t+"-cX-Bin",a=this.range(this.data.y.data[t]),s=(a[1]-a[0])/e,r=this.getNumberDecimals(a[0])+1;this.binConfigurations[i]={},this.binConfigurations[i].apply=!1,this.binConfigurations[i].n=e,this.binConfigurations[i].vi=t,this.binConfigurations[i].min=a[0],this.binConfigurations[i].max=a[1],this.binConfigurations[i].dec=r,this.binConfigurations[i].name="Custom-"+this.data.y.vars[t]+"-Bin",this.binConfigurations[i].bins=[];for(var n=0;n<e;n++)this.binConfigurations[i].bins[n]={name:"Bin-"+(n+1),value:Number(a[0]+(n+1)*s)};var o=this.$cX("div",{id:i,className:"CanvasXpressBin draggable"},{left:"30px",top:-(this.height-30)+"px",display:"block"}),h=this.$cXI("op_cancel",{id:i+"CloseImage",className:"CanvasXpressBin",src:"op_cancel",title:"Close Bin Configurator"}),l=this.$cX("div",{id:i+"Container",className:"CanvasXpressBinContainer"}),c=this.$cX("input",{id:i+"Name",className:"CanvasXpressBin",type:"text",value:"Custom-"+this.data.y.vars[t]+"-Bin"},{width:"97%"}),d=this.$cX("div",{id:i+"NameSegmentContainer",className:"CanvasXpressBinNameContainer"}),p=this.$cX("table",{id:i+"NameSegment",className:"CanvasXpressBinTable"},{width:"100%"}),g=this.$cX("tbody"),u=this.$cX("th",{innerHTML:"Bin"},{textAlign:"center"}),m=this.$cX("th",{innerHTML:"Name"},{textAlign:"center"}),f=this.$cX("th",{innerHTML:"Max"},{textAlign:"center"});(b=this.$cX("tr")).appendChild(u),b.appendChild(m),b.appendChild(f),g.appendChild(b);for(n=0;n<e;n++){u=this.$cX("td",{innerHTML:n+1},{width:.1*this.configuratorWidth+"px",textAlign:"center",fontWeight:"bold"}),m=this.$cX("td"),f=this.$cX("td");var y=this.$cX("input",{id:i+"Name"+n,className:"CanvasXpressBin",type:"text",value:"Bin-"+(n+1)},{width:.65*this.configuratorWidth+"px",textAlign:"center",fontWeight:"bold"}),x=this.$cX("input",{id:i+"Value"+n,className:"CanvasXpressBin",type:"text",value:this.formatNumber(a[0]+(n+1)*s,r)},{width:.25*this.configuratorWidth+"px"}),b=this.$cX("tr");f.appendChild(x),m.appendChild(y),b.appendChild(u),b.appendChild(m),b.appendChild(f),g.appendChild(b)}p.appendChild(g),d.appendChild(p);var v=this.$cX("input",{id:i+"Apply",value:"Apply",type:"button"},{cssFloat:"left",borderRadius:"5px",top:"4px",position:"relative",width:"46%",padding:"3px",margin:"5px"}),A=this.$cX("input",{id:i+"Button",value:"Done",type:"button"},{cssFloat:"left",borderRadius:"5px",top:"4px",position:"relative",width:"46%",padding:"3px",margin:"5px"}),w=this.$("south-wrapper-"+this.target);w&&(l.appendChild(this.$cX("span",{className:"CanvasXpressBin",innerHTML:"Edit Name"})),l.appendChild(this.$cX("br")),l.appendChild(c),l.appendChild(this.$cX("br")),l.appendChild(this.$cX("br")),l.appendChild(this.$cX("span",{className:"CanvasXpressBin",innerHTML:"Edit Bin Name and Range"})),l.appendChild(this.$cX("br")),l.appendChild(d),l.appendChild(v),l.appendChild(A),l.appendChild(this.$cX("br")),o.appendChild(h),o.appendChild(l),w.appendChild(o),this.addRemoveBinListeners("addEvtListener",i))},this.addRemoveBinListeners=function(t,e){for(var i=e?[e]:this.getKeys(this.binConfigurations),a=0;a<i.length;a++)this.addRemoveEvtListener(t,this.$(i[a]),"mousedown",this.registerMousemove,!1),this.addRemoveEvtListener(t,this.$(i[a]+"CloseImage"),"click",this.closeBinConfigurator,!1),this.addRemoveEvtListener(t,this.$(i[a]+"Apply"),"click",this.applyBinConfigurator,!1),this.addRemoveEvtListener(t,this.$(i[a]+"Button"),"click",this.doneBinConfigurator,!1),"removeEvtListener"==t&&this.binConfigurations[i[a]]&&!this.binConfigurations[i[a]].apply&&delete this.binConfigurations[i[a]]},this.closeBinConfigurator=(t=this,function(e){var i=t.getTargetEvent(e).id.replace("CloseImage",""),a=t.$(i);return a&&(t.addRemoveBinListeners("removeEvtListener",i),a.parentNode.removeChild(a)),!1}),this.validateBinning=function(t){for(var e=!1,i=this.$(t+"Name0").value,a=this.$(t+"Value0").value,s=1;s<this.binConfigurations[t].n;s++){var r=this.$(t+"Name"+s).value,n=this.$(t+"Value"+s).value;if(""==i||null==i){e="Value for Bin "+s+" CANNOT be null";break}if(""==r||null==r){e="Value for Bin "+(s+1)+" CANNOT be null";break}if(""==a||null==a){e="Value for "+i+" ("+a+") CANNOT be null";break}if(""==n||null==n){e="Value for "+r+" ("+n+") CANNOT be null";break}if(isNaN(a)){e="Value for "+i+" ("+a+") is NOT a number";break}if(isNaN(n)){e="Value for "+r+" ("+n+") is NOT a number";break}if(a>n){e="Value for "+i+" ("+a+")CANNOT be greater that value for "+r+" ("+n+")";break}i=r,a=n}if(e)return alert(e),!1;for(s=0;s<this.binConfigurations[t].n;s++){var o=this.$(t+"Name"+s).value,h=this.$(t+"Value"+s).value;this.binConfigurations[t].bins[s]={name:o,value:h}}var l=this.binConfigurations[t].name,c=this.binConfigurations[t].vi;this.data.x[l]=[];for(s=0;s<this.data.y.data[c].length;s++){h=this.data.y.data[c][s];if(isNaN(h)||""===h||null==h)this.data.x[l][s]="";else for(var d=0;d<this.binConfigurations[t].n;d++)if(h<=this.binConfigurations[t].bins[d].value){this.data.x[l][s]=this.binConfigurations[t].bins[d].name;break}}return this.isGroupedData&&this.ungroupSamples(!0),this.updateData(this.data),this.groupSamples([l]),this.sortSamplesByCategory([l]),this.binConfigurations[t].apply=!0,!0},this.applyBinConfigurator=function(t){return function(e){var i=t.getTargetEvent(e).id.replace("Apply","");t.validateBinning(i)}}(this),this.doneBinConfigurator=function(t){return function(e){var i=t.getTargetEvent(e).id.replace("Button",""),a=t.validateBinning(i),s=t.$(i);return s&&a&&(t.addRemoveBinListeners("removeEvtListener",i),s.parentNode.removeChild(s)),!1}}(this)},CanvasXpress.prototype.initDataExplorer=function(){var t;this.addDataExplorer=function(){var t=this.target+"-cX-DataExplorer";if(!this.$(t)){var e=this.getBoundingClientRect(this.$(this.target)),i=this.$cX("div",{id:this.target+"-cX-DataExplorer",className:"CanvasXpressBin draggable"},{left:"34px",top:"-"+(this.height-36)+"px",display:"block",opacity:0,width:"min-content",zIndex:10001}),a=this.$cXI("op_cancel",{id:this.target+"-cX-DataExplorerCloseImage",className:"CanvasXpressBin",src:"op_cancel",title:"Close Data Explorer"}),s=this.$cXI("tb_table",{id:this.target+"-cX-DataExplorerDataTableImage",className:"CanvasXpressBin",src:"tb_table",title:"Show Data in Table"}),r=this.$cXI("fp_funnel",{id:this.target+"-cX-DataExplorerDataFilterImage",className:"CanvasXpressBin",src:"fp_funnel",title:"Filter Data"}),n=this.$cXI("wp_configuration",{id:this.target+"-cX-DataExplorerCustomizeImage",className:"CanvasXpressBin",src:"wp_configuration",title:"Customize",fun:"getConfigurationMenu",par:[],mid:this.newId("-cX-DataExplorer-Menu-")}),o=(this.$cXI("ch_oinfo",{id:this.target+"-cX-DataExplorerHelpImage",className:"CanvasXpressBin",src:"ch_oinfo",title:"Mouse over Headers\nin Data Explorer to\nLearn Functionality"}),this.loadMainTab()),h=this.loadDOETab(),l=this.$cX("div",{id:this.target+"-cX-DataExplorerContainer",className:"CanvasXpressBinContainer"}),c=this.$("south-wrapper-"+this.target);if(c){i.appendChild(a),i.appendChild(s),i.appendChild(r),i.appendChild(n),i.appendChild(o),i.appendChild(h);var d=this.loadDataExplorerTopPanel();l.appendChild(d),l.appendChild(this.$cX("hr",{className:"CanvasXpressDataExplorer"},{width:"241px"}));var p=this.$cX("span",{innerHTML:"Columns",title:"Columns in Data"},{postion:"abosulte",margin:"5px",floatCSS:"left",lineHeight:"32px",fontWeight:"bold"});l.appendChild(p);var g=this.data.x?this.$cXI("dps_collapse",{id:this.target+"-cX-DataExplorerMinimizeImage1",className:"CanvasXpressBin",src:"dps_collapse",srt:"dps_expand",title:"Collapse Variables and Sample Metadata"}):this.$cXI("dps_expand",{id:this.target+"-cX-DataExplorerMinimizeImage1",className:"CanvasXpressBin",srt:"dps_collapse",src:"dps_expand",title:"Expand Variables and Sample Metadata"});l.appendChild(g);var u=this.loadDataExplorerMiddlePanel();l.appendChild(u),l.appendChild(this.$cX("hr",{className:"CanvasXpressDataExplorer"},{width:"241px"}));var m=this.$cX("span",{innerHTML:"Rows",title:"Rows in Data"},{postion:"abosulte",margin:"5px",floatCSS:"left",lineHeight:"32px",fontWeight:"bold"});l.appendChild(m);var f=this.data.z&&!this.data.x?this.$cXI("dps_collapse",{id:this.target+"-cX-DataExplorerMinimizeImage2",className:"CanvasXpressBin",src:"dps_collapse",srt:"dps_expand",title:"Collapse Samples and Variable Metadata"}):this.$cXI("dps_expand",{id:this.target+"-cX-DataExplorerMinimizeImage2",className:"CanvasXpressBin",srt:"dps_collapse",src:"dps_expand",title:"Expand Samples and Variable Metadata"});l.appendChild(f);var y=this.loadDataExplorerBottomPanel();l.appendChild(y),i.appendChild(l),c.appendChild(i),e.left>i.clientWidth+8?(i.style.left=-(i.clientWidth+8)+"px",i.style.top=-(this.height+3)+"px"):e.viewportWidth-e.right>i.clientWidth&&(i.style.left=this.width+"px",i.style.top=-(this.height+3)+"px"),this.addRemoveDataExplorerListeners("addEvtListener")}}},this.loadDataExplorerTopPanel=function(){var t=this.loadFormatDataExplorerDiv(),e=this.loadLayoutDataExplorerDiv(),i=this.loadMetadataDataExplorerDiv(),a=this.loadPropertiesDataExplorerDiv(),s=this.loadOrientationDataExplorerDiv(),r=(this.loadFileUploadDataExplorerDiv(),this.loadHistogramDataExplorerDiv()),n=this.loadOverlaysDataExplorerDiv(),o=this.loadThemesDataExplorerDiv(),h=this.loadGraphTypesDataExplorerDiv(),l=this.loadAxesDataExplorerDiv(),c=this.loadSortDataExplorerDiv(),d=this.loadSummaryDataExplorerDiv(),p=this.loadTransformDataExplorerDiv(),g=this.$cX("div",{id:this.target+"-cX-DataExplorerTopPanel",className:"CanvasXpressDataExplorerPanelOpen"},{display:"block"});return g.appendChild(t),g.appendChild(e),g.appendChild(i),g.appendChild(this.$cX("br")),g.appendChild(a),g.appendChild(s),g.appendChild(r),g.appendChild(n),g.appendChild(o),g.appendChild(this.$cX("br")),g.appendChild(h),g.appendChild(l),g.appendChild(c),g.appendChild(d),g.appendChild(p),g.appendChild(this.$cX("br")),g},this.loadDataExplorerMiddlePanel=function(){var t=this.loadVariablesDataExplorerDiv(),e=this.loadAnnotationsDataExplorerDiv(),i=this.$cX("div",{className:this.data.x?"CanvasXpressDataExplorerPanelOpen":"CanvasXpressDataExplorerPanel"});return i.appendChild(this.$cX("span",{className:"CanvasXpressBin",innerHTML:"Variables / Data Series"})),i.appendChild(this.$cXI("sr_azi",{id:this.target+"-cX-DataExplorerSortVariables",className:"CanvasXpressDataExplorer2",src:"sr_azi",asr:"sr_zad",params:this.stringifyJSON(["sortDataExplorer"]),title:"Sort Variables"})),i.appendChild(t),i.appendChild(this.$cX("span",{className:"CanvasXpressBin",innerHTML:"Sample Metadata"})),i.appendChild(this.$cXI("sr_azi",{id:this.target+"-cX-DataExplorerSortAnnotations",className:"CanvasXpressDataExplorer2",src:"sr_azi",asr:"sr_zad",params:this.stringifyJSON(["sortDataExplorer"]),title:"Sort Sample Metadata"})),i.appendChild(this.$cX("br")),i.appendChild(e),i},this.loadDataExplorerBottomPanel=function(){var t=this.loadSamplesDataExplorerDiv(),e=this.loadDescriptionsDataExplorerDiv(),i=this.$cX("div",{className:!this.data.x&&this.data.z?"CanvasXpressDataExplorerPanelOpen":"CanvasXpressDataExplorerPanel"});return i.appendChild(this.$cX("span",{className:"CanvasXpressBin",innerHTML:"Samples"})),i.appendChild(this.$cXI("sr_azi",{id:this.target+"-cX-DataExplorerSortSamples",className:"CanvasXpressDataExplorer2",src:"sr_azi",asr:"sr_zad",params:this.stringifyJSON(["sortDataExplorer"]),title:"Sort Samples"})),i.appendChild(t),i.appendChild(this.$cX("span",{className:"CanvasXpressBin",innerHTML:"Variable Metadata"})),i.appendChild(this.$cXI("sr_azi",{id:this.target+"-cX-DataExplorerSortDescriptions",className:"CanvasXpressDataExplorer2",src:"sr_azi",asr:"sr_zad",params:this.stringifyJSON(["sortDataExplorer"]),title:"Sort Variable Metadata"})),i.appendChild(this.$cX("br")),i.appendChild(e),i},this.loadMainTab=function(){var t=this.$cX("div",{id:this.target+"-cX-DataExplorerMainTab",className:"CanvasXpressBinContainerTab"},{width:"36px",height:"16px",textAlign:"center",cssFloat:"left"});return t.appendChild(this.$cX("span",{className:"CanvasXpressBin",innerHTML:"Main",title:"Main tab"},{width:"36px",margin:"0",cursor:"pointer"})),t},this.loadDOETab=function(){var t=this.$cX("div",{id:this.target+"-cX-DataExplorerDOETab",className:"CanvasXpressBinContainerTab"},{width:"36px",height:"16px",textAlign:"center",cssFloat:"left"});return t.appendChild(this.$cX("span",{className:"CanvasXpressBin",innerHTML:"DOE",title:"DOE tab"},{width:"36px",margin:"0",cursor:"pointer"})),t},this.loadFormatDataExplorerDiv=function(){var t=this.$cX("div",{id:this.target+"-cX-DataExplorerFormat",className:"CanvasXpressDataExplorer"},{width:"76px",height:"54px",textAlign:"center",cssFloat:"left"}),e=this.$cXI("dtt_transpose",{id:this.target+"-cX-DataExplorerTranspose",className:"CanvasXpressDataExplorer",src:"dtt_transpose",params:this.stringifyJSON(["transpose"]),title:"Toggle to Transpose Data"},!1,!1,32),i=this.$cXI("dtt_pivot",{id:this.target+"-cX-DataExplorerPivot",className:"CanvasXpressDataExplorer",src:"dtt_pivot",asr:"dtt_pivotremove",params:this.stringifyJSON(["pivotX"]),title:"Drag Sample Metadata to Pivot Data"},!1,!1,32);return t.appendChild(this.$cX("span",{className:"CanvasXpressBin",innerHTML:"Format"},{width:"76px",margin:"0"})),t.appendChild(this.$cX("hr",{className:"CanvasXpressDataExplorer"},{width:"82px"})),t.appendChild(e),t.appendChild(i),t},this.loadLayoutDataExplorerDiv=function(){var t=this.$cX("div",{id:this.target+"-cX-DataExplorerLayout",className:"CanvasXpressDataExplorer"},{width:"76px",height:"54px",textAlign:"center",cssFloat:"left"}),e=this.$cXI("a_group",{id:this.target+"-cX-DataExplorerGroupSamples",className:"CanvasXpressDataExplorer",src:"a_group",params:this.stringifyJSON(["groupSamples"]),title:"Drag Sample Metadata to Group Samples / Click to Reset"},!1,!1,32),i=this.$cXI("ly_segregate",{id:this.target+"-cX-DataExplorerSegregate",className:"CanvasXpressDataExplorer",src:"ly_segregate",params:this.stringifyJSON(["segregate"]),title:"Drag Sample Metadata to Segregate Data / Click to Reset"},!1,!1,32);return t.appendChild(this.$cX("span",{className:"CanvasXpressBin",innerHTML:"Layout"},{width:"76px",margin:"0"})),t.appendChild(this.$cX("hr",{className:"CanvasXpressDataExplorer"},{width:"82px"})),t.appendChild(e),t.appendChild(i),t},this.loadMetadataDataExplorerDiv=function(){var t=this.$cX("div",{id:this.target+"-cX-DataExplorerMetadata",className:"CanvasXpressDataExplorer"},{width:"40px",height:"54px",textAlign:"center",cssFloat:"left"}),e=this.$cXI("ly_doe",{id:this.target+"-cX-DataExplorerDOE",className:"CanvasXpressDataExplorer",src:"ly_doe",params:this.stringifyJSON(["createDOE"]),title:"Toggle to Explore Meta Data"},!1,!1,32);return t.appendChild(this.$cX("span",{className:"CanvasXpressBin",innerHTML:"DOE"},{width:"40px",margin:"0"})),t.appendChild(this.$cX("hr",{className:"CanvasXpressDataExplorer"},{width:"46px"})),t.appendChild(e),t},this.loadHistogramDataExplorerDiv=function(){var t=this.$cX("div",{id:this.target+"-cX-DataExplorerHistogram",className:"CanvasXpressDataExplorer"},{width:"40px",height:"54px",textAlign:"center",cssFloat:"left"}),e=this.$cXI("dt_hist",{id:this.target+"-cX-DataExplorerHist",className:"CanvasXpressDataExplorer",src:"dt_hist",params:this.stringifyJSON(["createHistogram"]),title:"Toggle to Create Histogram"},!1,!1,32);return t.appendChild(this.$cX("span",{className:"CanvasXpressBin",innerHTML:"Hist"},{width:"40px",margin:"0"})),t.appendChild(this.$cX("hr",{className:"CanvasXpressDataExplorer"},{width:"46px"})),t.appendChild(e),t},this.loadPropertiesDataExplorerDiv=function(){var t=["at_col","at_shp","at_sze","at_pat","bx_connect","g_stacked"],e=["Color","Shape","Size","Pattern","Connect","Stack"],i=["colorBy","shapeBy","sizeBy","patternBy","connectBy","stackBy"],a=this.$cX("div",{id:this.target+"-cX-DataExplorerProperties",className:"CanvasXpressDataExplorer"},{width:"76px",height:"135px",textAlign:"center",cssFloat:"left"});a.appendChild(this.$cX("span",{className:"CanvasXpressBin",innerHTML:"Properties"},{width:"76px",margin:"0"})),a.appendChild(this.$cX("hr",{className:"CanvasXpressDataExplorer"},{width:"82px"}));for(var s=0;s<t.length;s++)a.appendChild(this.$cXI(t[s],{id:this.target+"-cX-DataExplorer"+e[s],className:"CanvasXpressDataExplorer",src:t[s],params:this.stringifyJSON([i[s]]),title:"Drag Metadata to Change "+e[s]+" of Data / Click to Reset"},!1,!1,32));return a},this.loadOrientationDataExplorerDiv=function(){var t=this.$cX("div",{id:this.target+"-cX-DataExplorerOrientation",className:"CanvasXpressDataExplorer"},{width:"76px",height:"54px",textAlign:"center",cssFloat:"left",display:this.graphType.match(/Scatter/)?"none":"block"}),e=this.$cXI("gc_govertical",{id:this.target+"-cX-DataExplorerVertical",className:"CanvasXpressDataExplorer",src:"gc_govertical",params:this.stringifyJSON(["changeAttribute",["graphOrientation","vertical"]]),title:"Click to change Orientation to Vertical Graph"},!1,!1,32),i=this.$cXI("gc_gohorizontal",{id:this.target+"-cX-DataExplorerHorizontal",className:"CanvasXpressDataExplorer",src:"gc_gohorizontal",params:this.stringifyJSON(["changeAttribute",["graphOrientation","horizontal"]]),title:"Click to change Orientation to Horizontal Graph"},!1,!1,32);return t.appendChild(this.$cX("span",{className:"CanvasXpressBin",innerHTML:"Orientation",margin:"0"},{width:"76px"})),t.appendChild(this.$cX("hr",{className:"CanvasXpressDataExplorer"},{width:"82px"})),t.appendChild(e),t.appendChild(i),t},this.loadFileUploadDataExplorerDiv=function(){var t=this.$cX("div",{id:this.target+"-cX-DataExplorerFileUpload",className:"CanvasXpressDataExplorer"},{width:"40px",height:"54px",textAlign:"center",cssFloat:"left"}),e=this.$cX("input",{id:this.target+"-cX-DataExplorerFileUploader",type:"file"},{display:"none"}),i=this.$cXI("cd_upload",{id:this.target+"-cX-DataExplorerLoadFile",className:"CanvasXpressDataExplorer",src:"cd_upload",params:this.stringifyJSON(["fileUpload"]),title:"Click icon to upload new data file"},!1,!1,32);return t.appendChild(this.$cX("span",{className:"CanvasXpressBin",innerHTML:"File"},{width:"40px",margin:"0"})),t.appendChild(this.$cX("hr",{className:"CanvasXpressDataExplorer"},{width:"46px"})),t.appendChild(i),t.appendChild(e),t},this.loadOverlaysDataExplorerDiv=function(){var t=this.$cX("div",{id:this.target+"-cX-DataExplorerOverlays",className:"CanvasXpressDataExplorer"},{width:"51px",height:"67px",textAlign:"center",cssFloat:"none",position:"absolute",top:"169px",left:"93px",display:this.graphType.match(/Scatter/)?"none":"block"}),e=this.$cXI("o_g1",{id:this.target+"-cX-DataExplorerOverlay",className:"CanvasXpressDataExplorer",src:"o_g1",params:this.stringifyJSON(["overlays"]),title:"Drag Sample Metadata to Add Overlays"},!1,!1,32);return e.style.setProperty("margin-top","10px","important"),t.appendChild(this.$cX("span",{className:"CanvasXpressBin",innerHTML:"Overlays"},{width:"51px",margin:"0"})),t.appendChild(this.$cX("hr",{className:"CanvasXpressDataExplorer"},{width:"58px",marginBottom:"5px"})),t.appendChild(e),t},this.loadThemesDataExplorerDiv=function(){for(var t=this.$cX("div",{id:this.target+"-cX-DataExplorerThemes",className:"CanvasXpressDataExplorer"},{width:"65px",height:"67px",textAlign:"center",cssFloat:"none",position:"absolute",top:"169px",left:"158px"}),e=["c_stata","c_tableau","c_economist","c_wallstreetjournal","dummy","c_canvasxpress","c_ggplot","c_paultol","c_solarized","c_excel"],i=["Stata","Tableau","The Economist","Wall Street Journal","None","CanvasXpress","GGPlot","Paul Tol","Solarized","Excel"],a=["stata","tableau","economist","wallStreetJournal","none","cx","ggplot","paulTol","solarized","excel"],s=[],r=0;r<e.length;r++){var n=this.$cXI(e[r],{className:"CanvasXpressCarousel",src:e[r],title:"Click to Change Color Theme to "+i[r],theme:a[r]},{width:"24px",height:"24px",padding:"1px",margin:"1px 0px 0px 0px",background:"rgba(0,0,0,0)",border:"0 none",boxShadow:"0 0 10px rgba(0,0,0,0)"},!1,!1,32);s.push(n)}var o=this.createCarousel(s,28,28,64,4,"horizontal",{margin:"5px 14px 3px 16px"}),h=this.$cX("span",{className:"CanvasXpressCarousel",title:"Previous",innerHTML:"<",trgId:o.id},{top:"57px",left:"2px"}),l=this.$cX("span",{className:"CanvasXpressCarousel",title:"Next",innerHTML:">",trgId:o.id},{top:"57px",left:"58px"});return t.appendChild(this.$cX("span",{className:"CanvasXpressBin",innerHTML:"Theme"},{width:"65px",margin:"0"})),t.appendChild(this.$cX("hr",{className:"CanvasXpressDataExplorer"},{width:"72px"})),t.appendChild(o),t.appendChild(h),t.appendChild(l),t},this.loadGraphTypesDataExplorerDiv=function(){var t=["g_area","g_bar","g_boxplot","g_correlation","g_circular","g_heatmap","g_dotplot","g_line","g_pie","g_scatter2d","g_scatterbubble2d","g_scatter3d","g_stacked","g_stackedpercent","g_tagcloud","g_treemap"],e=["Area","Bar","Boxplot","Correlation","Circular","Heatmap","Dotplot","Line","Pie","Scatter 2D","Scatter Bubble 2D","Scatter 3D","Stacked","Stacked Percent","Tag Cloud","Treemap"],i=this.$cX("div",{id:this.target+"-cX-DataExplorerGraphs",className:"CanvasXpressDataExplorer"},{width:"152px",height:"168px",textAlign:"center",cssFloat:"left",marginBottom:"6px"});i.appendChild(this.$cX("span",{id:this.target+"-cX-DataExplorerGraphTypes",className:"CanvasXpressBin",innerHTML:"Graph Types ...",title:"Click to See Additional Graph Types",fun:"getGraphTypeMenu",par:[],mid:this.newId("-cX-DataExplorer-Menu-")},{width:"132px",cursor:"pointer",margin:"0"})),i.appendChild(this.$cX("hr",{className:"CanvasXpressDataExplorer"},{width:"158px"}));for(var a=0;a<t.length;a++){var s=e[a].replace(/\s/g,"");i.appendChild(this.$cXI(t[a],{id:this.target+"-cX-DataExplorer"+s,className:"CanvasXpressDataExplorer",src:t[a],params:this.stringifyJSON(["changeAttribute",["graphType",s]]),title:"Clcik to Change Graph Type to "+e[a]},!1,!1,32))}return i},this.loadAxesDataExplorerDiv=function(){var t=["p_g2axisx","p_g2axisy","p_g3axisz"],e=["x","y","z"],i=this.$cX("div",{id:this.target+"-cX-DataExplorerAxes",className:"CanvasXpressDataExplorer"},{width:"54px",height:"168px",textAlign:"center",cssFloat:"left",marginBottom:"6px",display:this.graphType.match(/Scatter/)?"block":"none"});i.appendChild(this.$cX("span",{className:"CanvasXpressBin",innerHTML:"Axes"},{width:"54px",margin:"0"})),i.appendChild(this.$cX("hr",{className:"CanvasXpressDataExplorer"},{width:"60px"}));for(var a=0;a<t.length;a++){var s=e[a].toUpperCase();i.appendChild(this.$cXI(t[a],{id:this.target+"-cX-DataExplorer"+s+"Axis",className:"CanvasXpressDataExplorer",src:t[a],params:this.stringifyJSON(["addToAxis",[e[a]+"Axis"]]),title:"Drag Sample to change the "+s+"-Axis"},!1,!1,29)),i.appendChild(this.$cXI("ch_olin",{id:this.target+"-cX-DataExplorerLinLog"+s+"Axis",className:"CanvasXpressDataExplorer4",src:this[e[a]+"AxisTransform"]&&this[e[a]+"AxisTransform"].match("log")?"ch_olog":"ch_olin",srt:this[e[a]+"AxisTransform"]&&this[e[a]+"AxisTransform"].match("log")?"ch_olin":"ch_olog",params:this.stringifyJSON(["linLog",[e[a]+"Axis"]]),title:"Click to Toggle "+s+"-Axis Lin / Log"},{width:"13px",height:"13px"},!1,!1,29))}return i.appendChild(this.$cXI("at_motion",{id:this.target+"-cX-DataExplorerMotion",className:"CanvasXpressDataExplorer",src:"at_motion",params:this.stringifyJSON(["motion"]),title:"Drag Sample to Filter By Motion"},!1,!1,32)),i},this.loadSortDataExplorerDiv=function(){var t=this.$cX("div",{id:this.target+"-cX-DataExplorerSort",className:"CanvasXpressDataExplorer"},{width:"54px",height:"168px",textAlign:"center",cssFloat:"left",marginBottom:"6px",display:this.graphType.match(/Scatter/)?"none":"block"}),e=this.$cXI("sr_zad",{id:this.target+"-cX-DataExplorerDataSortDir",className:"CanvasXpressDataExplorer",src:"ascending"==this.sortDir?"sr_zad":"sr_azi",srt:"ascending"==this.sortDir?"sr_azi":"sr_zad",params:this.stringifyJSON(["sortDir"]),title:"Clcik to Sort Direction"},!1,!1,32),i=this.$cXI("ch_oaa",{id:this.target+"-cX-DataExplorerDataSortCase",className:"CanvasXpressDataExplorer",src:"ch_oaa",params:this.stringifyJSON(["sortCase"]),title:"Click to Sort Case"},!1,!1,32),a=this.$cXI("ch_lv",{id:this.target+"-cX-DataExplorerDataSortVariables",className:"CanvasXpressDataExplorer",src:"ch_lv",params:this.stringifyJSON(["sortVariables"]),title:"Click to Sort Variables"},!1,!1,32),s=this.$cXI("ch_ls",{id:this.target+"-cX-DataExplorerDataSortSamples",className:"CanvasXpressDataExplorer",src:"ch_ls",params:this.stringifyJSON(["sortSamples"]),title:"Click to Sort Samples"},!1,!1,32);return t.appendChild(this.$cX("span",{className:"CanvasXpressBin",innerHTML:"Sort"},{width:"54px",margin:"0"})),t.appendChild(this.$cX("hr",{className:"CanvasXpressDataExplorer"},{width:"60px"})),t.appendChild(e),t.appendChild(i),t.appendChild(a),t.appendChild(s),t},this.loadSummaryDataExplorerDiv=function(){var t=["ch_omean","dtp_max","dtp_min","ch_ssum","dtp_count"],e=["mean","max","min","sum","count"],i=this.$cX("div",{id:this.target+"-cX-DataExplorerSummary",className:"CanvasXpressDataExplorer"},{width:"220px",height:"54px",textAlign:"center",cssFloat:"left",display:this.graphType.match(/Scatter/)?"none":"block"});i.appendChild(this.$cX("span",{className:"CanvasXpressBin",innerHTML:"Grouping Summary",margin:"0"})),i.appendChild(this.$cX("hr",{className:"CanvasXpressDataExplorer for Groups"}));for(var a=0;a<t.length;a++){var s=e[a].toUpperCase();i.appendChild(this.$cXI(t[a],{id:this.target+"-cX-DataExplorer"+s,className:"CanvasXpressDataExplorer",src:t[a],params:this.stringifyJSON(["changeAttribute",["summaryType",e[a]]]),title:"Click to Select "+s+" Value for Groups"},!1,!1,32))}return i},this.loadTransformDataExplorerDiv=function(){var t=["ch_olog2","ch_olog10","ch_oe2","ch_oe10","op_refresh"],e=["log2","log10","exp2","exp10","reset"],i=this.$cX("div",{id:this.target+"-cX-DataExplorerTransform",className:"CanvasXpressDataExplorer"},{width:"220px",height:"54px",textAlign:"center",cssFloat:"left",display:this.graphType.match(/Scatter/)?"none":"block"});i.appendChild(this.$cX("span",{className:"CanvasXpressBin",innerHTML:"Data Transform",margin:"0"})),i.appendChild(this.$cX("hr",{className:"CanvasXpressDataExplorer for Data"}));for(var a=0;a<t.length;a++){var s=e[a].toUpperCase();i.appendChild(this.$cXI(t[a],{id:this.target+"-cX-DataExplorer"+s,className:"CanvasXpressDataExplorer",src:t[a],params:this.stringifyJSON(["transform",[e[a]]]),title:"Click to transform data to "+s},!1,!1,32))}return i},this.minimizeDataExplorerContainer=function(t){var e=window.document,i=[];t.style.visibility="hidden",e.body.appendChild(t);for(var a=t.firstChild,s=0,r=0;r<a.childNodes.length;r++){var n=a.childNodes[r];i.push([n.offsetLeft-t.offsetLeft,n.offsetTop-t.offsetTop,n.textContent]),n.offsetTop-t.offsetTop<t.clientHeight&&(s=r)}for(;a.childNodes[s+1];)a.removeChild(a.childNodes[s+1]);return i.length?a.style.height=i[i.length-1][1]+31+"px":a.style.height=t.style.height,t.population=i,e.body.removeChild(t),t.style.visibility="visible",t},this.removeEntriesDataExplorerContainer=function(t){for(var e,i,a,s=0;s<t.childNodes.length;s++){var r=t.childNodes[s];0==s&&(e=r.type,i=r.params),this.addRemoveEvtListener("removeEvtListener",r,"dragstart",this.dragStartDataExplorer,!1),this.addRemoveEvtListener("removeEvtListener",r,"dragend",this.dragEndDataExplorer,!1),"vars"!=r.type&&"smps"!=r.type&&"x"!=r.type&&"z"!=r.type||(0==s&&(a=this.meta.data[r.type]),this.addRemoveEvtListener("removeEvtListener",r,"dblclick",this.dataExplorerDblclick,!1))}for(;t.childNodes.length;)t.removeChild(t.childNodes[0]);return{type:e,params:i,meta:a}},this.addEntriesDataExplorerContainer=function(t,e,i,a,s){for(var r=0,n=[],o=0;o<a.length;o++){var h=a[o][2],l=this.$cX("img",{id:this.target+"-cX-DataExplorerEntriesImage-"+h,src:CanvasXpress.png,className:"CanvasXpressDataExplorerMask"}),c=this.$cX("span",{id:this.target+"-cX-DataExplorerEntries-"+h,innerHTML:h,className:"CanvasXpressDataExplorerNumeric draggable",type:i.type,numeric:!0,params:i.params,draggable:!0,spellcheck:!1});i.meta&&(c.className=i.meta[h].unique?"CanvasXpressDataExplorerUnique draggable":"String"==i.meta[h].type?"CanvasXpressDataExplorerString draggable":"CanvasXpressDataExplorerNumeric draggable",c.unique=i.meta[h].unique,c.numeric="String"!=i.meta[h].type,i.meta[h].unique&&(c.title="Double-click to render to Id"),(i.meta[h].date||i.meta[h].geo)&&(c.style.color="rgb(0,255,0)")),c.appendChild(l),e.appendChild(c),s?c.style.top=a[0][1]-7+"px":(n.push([c.offsetLeft-t.offsetLeft,c.offsetTop-t.offsetTop,c.textContent]),c.offsetTop-t.offsetTop<t.clientHeight&&(r=o))}if(!s)for(;e.childNodes[r+1];)e.removeChild(e.childNodes[r+1]);for(o=0;o<e.childNodes.length;o++){var d=e.childNodes[o];this.addRemoveEvtListener("addEvtListener",d,"dragstart",this.dragStartDataExplorer,!1),this.addRemoveEvtListener("addEvtListener",d,"dragend",this.dragEndDataExplorer,!1),"vars"!=d.type&&"smps"!=d.type&&"x"!=d.type&&"z"!=d.type||this.addRemoveEvtListener("addEvtListener",d,"dblclick",this.dataExplorerDblclick,!1)}return n},this.loadVariablesDataExplorerDiv=function(t,e){var i=this.$(this.target+"-cX-DataExplorerVariables");i||(i=this.$cX("div",{id:this.target+"-cX-DataExplorerVariables",className:"CanvasXpressDataExplorer",type:"vars"},{width:"220px",height:"58px",overflowY:"auto",overflowX:"hidden"})),t||(t=this.$cX("div",{id:this.target+"-cX-DataExplorerVariables-Mask"},{width:"220px"}));for(var a=0;a<Math.min(this.data.y.vars.length,this.maxDataExplorerEntries);a++){var s=this.$cX("img",{id:this.target+"-cX-DataExplorerVariablesImage-"+this.data.y.vars[a],src:CanvasXpress.png,className:"CanvasXpressDataExplorerMask"}),r=this.$cX("span",{id:this.target+"-cX-DataExplorerVariables-"+this.data.y.vars[a],innerHTML:this.data.y.vars[a],className:"CanvasXpressDataExplorerNumeric draggable",type:"vars",numeric:!0,params:["switchVarToAnnotation"],draggable:!0,spellcheck:!1});r.appendChild(s),t.appendChild(r)}if(i.appendChild(t),!e)return this.minimizeDataExplorerContainer(i)},this.loadSamplesDataExplorerDiv=function(t,e){var i=this.$(this.target+"-cX-DataExplorerSamples");i||(i=this.$cX("div",{id:this.target+"-cX-DataExplorerSamples",className:"CanvasXpressDataExplorer",type:"smps"},{width:"220px",height:"58px",overflowY:"auto",overflowX:"hidden"})),t||(t=this.$cX("div",{id:this.target+"-cX-DataExplorerSamples-Mask"},{width:"220px"}));for(var a=0;a<Math.min(this.data.y.smps.length,this.maxDataExplorerEntries);a++){var s=this.$cX("img",{id:this.target+"-cX-DataExplorerSamplesImage-"+this.data.y.smps[a],src:CanvasXpress.png,className:"CanvasXpressDataExplorerMask"}),r=this.$cX("span",{id:this.target+"-cX-DataExplorerSamples-"+this.data.y.smps[a],innerHTML:this.data.y.smps[a],className:"CanvasXpressDataExplorerNumeric draggable",type:"smps",numeric:!0,params:["switchSmpToAnnotation"],draggable:!0,spellcheck:!1});r.appendChild(s),t.appendChild(r)}if(i.appendChild(t),!e)return this.minimizeDataExplorerContainer(i)},this.loadAnnotationsDataExplorerDiv=function(t,e){var i=this.meta.data.x,a=this.$(this.target+"-cX-DataExplorerAnnotations");if(a||(a=this.$cX("div",{id:this.target+"-cX-DataExplorerAnnotations",className:"CanvasXpressDataExplorer",type:"x"},{width:"220px",height:"58px",overflowY:"auto",overflowX:"hidden"})),t||(t=this.$cX("div",{id:this.target+"-cX-DataExplorerAnnotations-Mask"},{width:"220px"})),this.data.x)for(var s in this.data.x){var r=i[s].unique?"CanvasXpressDataExplorerUnique draggable":"String"==i[s].type?"CanvasXpressDataExplorerString draggable":"CanvasXpressDataExplorerNumeric draggable",n=this.$cX("img",{id:this.target+"-cX-DataExplorerAnnotationsImage-"+s,src:CanvasXpress.png,className:"CanvasXpressDataExplorerMask"}),o=this.$cX("span",{id:this.target+"-cX-DataExplorerAnnotations-"+s,innerHTML:s,className:r,type:"x",unique:i[s].unique,numeric:"String"!=i[s].type,params:["switchAnnotationToVar"],draggable:!0,spellcheck:!1});i[s].unique&&(o.title="Double-click to render to Id"),(i[s].date||i[s].geo)&&(o.style.color="rgb(0,255,0)"),o.appendChild(n),t.appendChild(o)}if(a.appendChild(t),!e)return this.minimizeDataExplorerContainer(a)},this.loadDescriptionsDataExplorerDiv=function(t,e){var i=this.meta.data.z,a=this.$(this.target+"-cX-DataExplorerDescriptions");if(a||(a=this.$cX("div",{id:this.target+"-cX-DataExplorerDescriptions",className:"CanvasXpressDataExplorer",type:"z"},{width:"220px",height:"58px",overflowY:"auto",overflowX:"hidden"})),t||(t=this.$cX("div",{id:this.target+"-cX-DataExplorerDescriptions-Mask"},{width:"220px"})),this.data.z)for(var s in this.data.z){var r=i[s].unique?"CanvasXpressDataExplorerUnique draggable":"String"==i[s].type?"CanvasXpressDataExplorerString draggable":"CanvasXpressDataExplorerNumeric draggable",n=this.$cX("img",{id:this.target+"-cX-DataExplorerDescriptionsImage-"+s,src:CanvasXpress.png,className:"CanvasXpressDataExplorerMask"}),o=this.$cX("span",{id:this.target+"-cX-DataExplorerDescriptions-"+s,innerHTML:s,className:r,type:"z",unique:i[s].unique,numeric:"String"!=i[s].type,params:["switchAnnotationToSmp"],draggable:!0,spellcheck:!1});i[s].unique&&(o.title="Double-click to render to Id"),(i[s].date||i[s].geo)&&(o.style.color="rgb(0,255,0)"),o.appendChild(n),t.appendChild(o)}if(a.appendChild(t),!e)return this.minimizeDataExplorerContainer(a)},this.addRemoveDataExplorerListeners=function(t){var e=this.$(this.target+"-cX-DataExplorerFormat"),i=this.$(this.target+"-cX-DataExplorerMetadata"),a=this.$(this.target+"-cX-DataExplorerOrientation"),s=this.$(this.target+"-cX-DataExplorerFileUpload"),r=this.$(this.target+"-cX-DataExplorerHistogram"),n=this.$(this.target+"-cX-DataExplorerOverlays"),o=this.$(this.target+"-cX-DataExplorerThemes"),h=this.$(this.target+"-cX-DataExplorerGraphs"),l=!!this.graphType.match(/Scatter/)&&this.$(this.target+"-cX-DataExplorerAxes"),c=!this.graphType.match(/Scatter/)&&this.$(this.target+"-cX-DataExplorerSort"),d=this.$(this.target+"-cX-DataExplorerSummary"),p=this.$(this.target+"-cX-DataExplorerTransform"),g=this.$(this.target+"-cX-DataExplorerLayout"),u=this.$(this.target+"-cX-DataExplorerProperties"),m=this.$(this.target+"-cX-DataExplorerVariables-Mask"),f=this.$(this.target+"-cX-DataExplorerSortVariables"),y=this.$(this.target+"-cX-DataExplorerSamples-Mask"),x=this.$(this.target+"-cX-DataExplorerSortSamples"),b=this.$(this.target+"-cX-DataExplorerAnnotations-Mask"),v=this.$(this.target+"-cX-DataExplorerSortAnnotations"),A=this.$(this.target+"-cX-DataExplorerDescriptions-Mask"),w=this.$(this.target+"-cX-DataExplorerSortDescriptions");if(this.addRemoveEvtListener(t,this.$(this.target+"-cX-DataExplorerMinimizeImage1"),"click",this.collapseExpandDataExplorerPanel,!1),this.addRemoveEvtListener(t,this.$(this.target+"-cX-DataExplorerMinimizeImage2"),"click",this.collapseExpandDataExplorerPanel,!1),this.addRemoveEvtListener(t,this.$(this.target+"-cX-DataExplorer"),"mousedown",this.registerMousemove,!1),this.addRemoveEvtListener(t,this.$(this.target+"-cX-DataExplorerCustomizeImage"),"click",this.addCustomToolbarMenu,!1),this.addRemoveEvtListener(t,this.$(this.target+"-cX-DataExplorerGraphTypes"),"click",this.addCustomToolbarMenu,!1),this.addRemoveEvtListener(t,this.$(this.target+"-cX-DataExplorerMainTab"),"click",this.clickDataExplorerMain,!1),this.addRemoveEvtListener(t,this.$(this.target+"-cX-DataExplorerDOETab"),"click",this.clickDataExplorerDOE,!1),this.addRemoveEvtListener(t,this.$(this.target+"-cX-DataExplorerDataTableImage"),"click",this.clickDataTable,!1),this.addRemoveEvtListener(t,this.$(this.target+"-cX-DataExplorerDataFilterImage"),"click",this.clickDataFilters,!1),this.addRemoveEvtListener(t,this.$(this.target+"-cX-DataExplorerCloseImage"),"click",this.closeDataExplorer,!1),o){for(var C=o.getElementsByTagName("svg"),T=0;T<C.length;T++)C[T].getAttribute("theme")&&this[t](C[T],"click",this.clickDataExplorerTheme,!1);C=o.getElementsByTagName("span");for(T=0;T<C.length;T++)C[T].trgId&&this[t](C[T],"click",this.clickDataExplorerCarousel,!1)}for(C=[e,i,a,s,r,h,d,p],T=0;T<C.length;T++)C[T]&&(this.addRemoveEvtListener(t,C[T],"click",this.dataExplorerClick,!1),C[T].id==this.target+"-cX-DataExplorerFileUpload"&&this[t](C[T].childNodes[3],"change",this.loadFile,!1));for(C=[m,y,b,A],T=0;T<C.length;T++)C[T]&&this.addRemoveEvtListener(t,C[T].parentNode,"scroll",this.scrollDataExplorer,!1);for(C=[e,n,l,c,g,u,m,y,b,A],T=0;T<C.length;T++)if(C[T]){if(C[T].id==this.target+"-cX-DataExplorerTranspose")continue;if(C[T].id==this.target+"-cX-DataExplorerDataSortDir")continue;if(C[T].id==this.target+"-cX-DataExplorerDataSortCase")continue;this.addRemoveEvtListener(t,C[T],"drop",this.dropDataExplorer,!1),this.addRemoveEvtListener(t,C[T],"dragover",this.dragOverDataExplorer,!1),this.addRemoveEvtListener(t,C[T],"dragenter",this.dragEnterDataExplorer,!1),this.addRemoveEvtListener(t,C[T],"dragleave",this.dragLeaveDataExplorer,!1);for(var S=0;S<C[T].childNodes.length;S++){"SPAN"==(D=C[T].childNodes[S]).tagName&&D.childNodes.length&&D.lastChild.tagName&&D.lastChild.tagName.toUpperCase().match(/SVG|IMG/)&&(this.addRemoveEvtListener(t,D,"dragstart",this.dragStartDataExplorer,!1),this.addRemoveEvtListener(t,D,"dragend",this.dragEndDataExplorer,!1),this.addRemoveEvtListener(t,D,"dblclick",this.dataExplorerDblclick,!1))}}for(C=[n,g,u],T=0;T<C.length;T++)C[T]&&this.addRemoveEvtListener(t,C[T],"click",this.dataExplorerClickReset,!1);for(C=[c],T=0;T<C.length;T++)C[T]&&this.addRemoveEvtListener(t,C[T],"click",this.dataExplorerClickDataSort,!1);for(C=[f,x,v,w],T=0;T<C.length;T++)C[T]&&this.addRemoveEvtListener(t,C[T],"click",this.dataExplorerClickSort,!1);for(C=[l],T=0;T<C.length;T++)if(C[T])for(S=0;S<C[T].childNodes.length;S++){var D;(D=C[T].childNodes[S]).tagName.toUpperCase().match(/SVG|IMG/)&&(D.id.match(/LinLog/)?this.addRemoveEvtListener(t,D,"click",this.dataExplorerClickLinLog,!1):this.addRemoveEvtListener(t,D,"click",this.dataExplorerClickReset,!1))}},this.clickDataExplorerMain=(t=this,function(e){var i=t.$(t.target+"-cX-DataExplorerTopPanel");return i&&(i.style.display="block"),!1}),this.clickDataExplorerDOE=function(t){return function(e){var i=t.$(t.target+"-cX-DataExplorerTopPanel");return i&&(i.style.display="none"),!1}}(this),this.scrollDataExplorer=function(t){return function(e){for(var i=t.getTargetEvent(e),a=i.population,s=i.firstChild,r=i.scrollTop,n=s.firstChild,o=[],h=null,l=0;l<a.length;l++)if(a[l][1]>r&&a[l][1]<i.clientHeight+r)null==h&&(h=l),o.push(a[l]);else if(a[l][1]>r+n.scrollHeight)break;if(o[0][2]==n.textContent)return!1;if(h>0){h--;for(l=0;l<2;l++)if(h>=0&&a[h])for(var c=a[h][1];a[h]&&a[h][1]==c&&h>=0;)o.unshift(a[h]),h--}var d=t.removeEntriesDataExplorerContainer(s);return t.addEntriesDataExplorerContainer(i,s,d,o,!0),!1}}(this),this.collapseExpandDataExplorerPanel=function(t){return function(e){var i=t.getTargetEvent(e),a=i.nextElementSibling,s=i.getAttribute("title");s.match("Collapse")?(i.setAttribute("title",s.replace("Collapse","Expand")),a.className="CanvasXpressDataExplorerPanel"):(i.setAttribute("title",s.replace("Expand","Collapse")),a.className="CanvasXpressDataExplorerPanelOpen");var r=i.getAttribute("src");return i.setAttribute("src",i.getAttribute("srt")),i.setAttribute("srt",r),t.$cXIU(i,i.getAttribute("src"),{title:i.getAttribute("title")}),!1}}(this),this.dragStartDataExplorer=function(t){return function(e){var i=t.getTargetEvent(e).parentNode;return i.style.opacity="0.3",e.dataTransfer.setDragImage(i,0,0),e.dataTransfer.setData("text",i.id),!1}}(this),this.resetDataExplorerDivs=function(t){for(var e=["Variables","Annotations","Samples","Descriptions"],i=0;i<e.length;i++){var a=this.$(this.target+"-cX-DataExplorer"+e[i]);a&&(a.className="CanvasXpressDataExplorer")}},this.dragEnterDataExplorer=function(t){return function(e){var i=t.getTargetEvent(e);return"SPAN"==i.parentNode.tagName&&(i=i.parentNode),i.tagName.toUpperCase().match(/SVG/)?i.parentNode.id.match(/-Mask$/)?i.parentNode.parentNode.className="CanvasXpressDataExplorerActive":i.setAttribute("class","CanvasXpressDataExplorerActive"):"SPAN"==i.tagName&&i.parentNode.lastChild&&!i.parentNode.lastChild.tagName.toUpperCase().match(/SVG|IMG/)?i.parentNode.id.match(/-Mask$/)?i.parentNode.parentNode.className="CanvasXpressDataExplorerActive":i.parentNode.className="CanvasXpressDataExplorerActive":"SPAN"==i.tagName&&i.parentNode.lastChild&&i.parentNode.lastChild.tagName.toUpperCase().match(/SVG|IMG/)?i.parentNode.id.match(/-Mask$/)?i.parentNode.parentNode.className="CanvasXpressDataExplorer":i.parentNode.className="CanvasXpressDataExplorer":("DIV"==i.tagName&&i.lastChild&&!i.lastChild.tagName.toUpperCase().match(/SVG|IMG/)||i.tagName.toUpperCase().match(/SVG|IMG/))&&(i.id.match(/-Mask$/)?i.parentNode.className="CanvasXpressDataExplorer":i.parentNode.id.match(/-Mask$/)?i.parentNode.parentNode.className="CanvasXpressDataExplorerActive":i.className="CanvasXpressDataExplorerActive"),!1}}(this),this.dragOverDataExplorer=function(t){return function(e){t.cancelEvent(e);var i=t.getTargetEvent(e);return"SPAN"==i.parentNode.tagName&&(i=i.parentNode),i.tagName.toUpperCase().match(/SVG/)?i.parentNode.id.match(/-Mask$/)?i.parentNode.parentNode.className="CanvasXpressDataExplorerActive":i.setAttribute("class","CanvasXpressDataExplorerActive"):"SPAN"==i.tagName&&i.parentNode.lastChild&&!i.parentNode.lastChild.tagName.toUpperCase().match(/SVG|IMG/)?i.parentNode.id.match(/-Mask$/)?i.parentNode.parentNode.className="CanvasXpressDataExplorerActive":i.parentNode.className="CanvasXpressDataExplorerActive":"DIV"==i.tagName&&i.lastChild&&!i.lastChild.tagName.toUpperCase().match(/SVG|IMG/)&&(i.id.match(/-Mask$/)?i.parentNode.className="CanvasXpressDataExplorerActive":i.className="CanvasXpressDataExplorerActive"),!1}}(this),this.dragLeaveDataExplorer=function(t){return function(e){var i=t.getTargetEvent(e);return"SPAN"==i.parentNode.tagName&&(i=i.parentNode),i.tagName.toUpperCase().match(/SVG/)?i.parentNode.id.match(/-Mask$/)?i.parentNode.parentNode.className="CanvasXpressDataExplorer":i.setAttribute("class","CanvasXpressDataExplorer"):"DIV"==i.tagName&&(i.id.match(/-Mask$/)||i.parentNode.id.match(/-Mask$/)?i.parentNode.className="CanvasXpressDataExplorer":i.className="CanvasXpressDataExplorer"),!1}}(this),this.dragEndDataExplorer=function(t){return function(e){var i=t.getTargetEvent(e);"SPAN"==i.parentNode.tagName&&(i.blur(),(i=i.parentNode).focus()),i.style.opacity="1.0";var a=i.parentNode;if(a&&("SPAN"==a.tagName&&(a=a.parentNode),i.parentNode.id.match(/-Mask$/)?a.parentNode.className="CanvasXpressDataExplorer":a.className="CanvasXpressDataExplorer",a.type==i.type))return!1;return!1}}(this),this.dropDataExplorer=function(t){return function(e){var i,a,s;t.cancelEvent(e);var r=e.dataTransfer.getData("text"),n=t.$(r),o=t.getTargetEvent(e);if(n){var h=n.innerText,l=n.type,c=(n.numeric,n.params[0]),d=n.parentNode.parentNode;if(t.resetDataExplorerDivs(),o.tagName.toUpperCase().match(/SVG|IMG/)){var p=t.parseJSON(o.getAttribute("params"));switch(i=p?p[0]:"empty",o.setAttribute("class","CanvasXpressDataExplorer"),s=o.getAttribute("title").split(" : ")[0],i){case"empty":break;case"overlays":"x"==l?t.modifySampleOverlays(h):"z"==l?t.modifyVariableOverlays(h):alert("Ooops! Only Sample or Variable factors");break;case"treemapBy":if("x"==l){var g=t.treemapBy;if(g.includes(h)){for(var u=[],m=0;m<g.length;m++)g[m]!=h&&u.push(g[m]);g=u}else g.push(h);g.length>0?o.setAttribute("title",s+" : "+t.treemapBy.join(", ")):o.setAttribute("title",s)}else alert("Ooops! Only Sample factors");t.draw({func:"dropDataExplorer",par:[e]});break;case"pivotX":if("x"==l){t.isPivot?t.removePivot():t.pivotX(h);var f=o.getAttribute("src");o.setAttribute("src",o.getAttribute("asr")),o.setAttribute("asr",f)}else alert("Ooops! Only Sample factors");break;case"sortVariables":"z"==l?t.modifySort("cat","var",h):"smps"==l?t.modifySort("smp","var",h):"vars"==l?alert("Ooops! No sorting variables by variable data!"):alert("Ooops! No sorting variables by sample metadata!");break;case"sortSamples":"x"==l?t.modifySort("cat","smp",h):"vars"==l?t.modifySort("var","smp",h):"smps"==l?alert("Ooops! No sorting samples by sample data!"):alert("Ooops! No sorting samples by variable metadata!");break;case"groupSamples":if("x"==l){var y=t.groupingFactors;if(y.includes(h)){for(u=[],m=0;m<y.length;m++)y[m]!=h&&u.push(y[m]);y=u}else y.push(h);y.length>0?(t.groupSamples(y),o.setAttribute("title",s+" : "+t.groupingFactors.join(", "))):(t.ungroupSamples(),o.setAttribute("title",s))}else alert("Ooops! Only Sample factors");break;case"segregate":var x;if("x"==l)if((x=t.segregateSamplesBy).includes(h)){var u=[];for(m=0;m<x.length;m++)x[m]!=h&&u.push(x[m]);u.length>0?(t.segregateSamplesBy=u,t.segregate("Samples",u)):(t.segregateSamplesBy=[],t.desegregate("Samples"))}else t.segregateSamplesBy.length+t.segregateVariablesBy.length<2?(x.push(h),t.segregate("Samples",x)):alert("Ooops! Only 2 segregation factors");else if("z"==l)if((x=t.segregateVariablesBy).includes(h)){for(u=[],m=0;m<x.length;m++)x[m]!=h&&u.push(x[m]);u.length>0?(t.segregateVariablesBy=u,t.segregate("Variables",u)):(t.segregateVariablesBy=[],t.desegregate("Variables"))}else t.segregateSamplesBy.length+t.segregateVariablesBy.length<2?(x.push(h),t.segregate("Variables",x)):alert("Ooops! Only 2 segregation factors");else alert("Ooops! Only Sample or Variable factors");u=(u=t.segregateVariablesBy).concat(t.segregateSamplesBy),o.setAttribute("title",u.length>0?s+" : "+u.join(", "):s);break;case"addToAxis":var b=p[1][0];"smps"==l?(e.shiftKey?t.changeSampleInAxis(h,b):t.changeSampleInAxis(h,b,!0),o.setAttribute("title",s+" : "+t[b].join(", "))):alert("Ooops! Only samples allowed");break;case"motion":if(a=o.getAttribute("type"),"smps"==l){n.type=a,t.resetAxes(!0),t[c](h),n.params[0]="switchAnnotationToSmp";var v=t.$(t.target+"-cX-DataExplorerDescriptions");v&&v.appendChild(n)}else if("vars"==l){n.type=a,t.resetAxes(!0),t[c](h),n.params[0]="switchAnnotationToVar";var A=t.$(t.target+"-cX-DataExplorerAnnotations");A&&A.appendChild(n)}t.changeAttribute("motionBy",h),o.setAttribute("title",s+" : "+h);break;case"linLog":break;default:t.changeAttribute(i,h),o.setAttribute("title",s+" : "+h)}}else{if(("SPAN"==o.tagName&&o.parentNode.lastChild&&!o.parentNode.lastChild.tagName.toUpperCase().match(/SVG|IMG/)||"DIV"==e.target.tagName)&&(o=o.parentNode),l==(a=o.type))return!1;if("smps"==l&&"z"==a)n.type=a,t.resetAxes(!0),t[c](h),n.params[0]="switchAnnotationToSmp";else if("z"==l&&"smps"==a)n.type=a,t.resetAxes(!0),t[c](h),n.params[0]="switchSmpToAnnotation";else if("vars"==l&&"x"==a)n.type=a,t.resetAxes(!0),t[c](h),n.params[0]="switchAnnotationToVar";else{if("x"!=l||"vars"!=a)return alert("Ooops! Only changes between data and ortogonal numeric metadata"),!1;n.type=a,t.resetAxes(!0),t[c](h),n.params[0]="switchVarToAnnotation"}o.firstChild.appendChild(n),t.updateDataExplorerContainerPopulation(d),t.updateDataExplorerContainerPopulation(o)}}return!1}}(this),this.dataExplorerClick=function(t){return function(e){var i=t.getTargetEvent(e);if(i.tagName.toUpperCase().match(/input/i))return!0;var a=t.parseJSON(i.getAttribute("params"));if(a&&a[1]){if("changeAttribute"==a[0]&&"graphType"==a[1][0]){var s=t.$(t.target+"-cX-DataExplorerAxes"),r=t.$(t.target+"-cX-DataExplorerSort"),n=t.$(t.target+"-cX-DataExplorerSummary"),o=t.$(t.target+"-cX-DataExplorerOrientation"),h=t.$(t.target+"-cX-DataExplorerOverlays");t.graphType.match(/Scatter/)&&!a[1][1].match(/Scatter/)?(s.style.display="none",o.style.display="block",h.style.display="block",r.style.display="block",n.style.display="block"):!t.graphType.match(/Scatter/)&&a[1][1].match(/Scatter/)&&(s.style.display="block",o.style.display="none",h.style.display="none",r.style.display="none",n.style.display="none")}t[a[0]].apply(t,a[1])}else if(a&&"pivotX"==a[0]){if(t.isPivot){t.removePivot();var l=i.src;i.src=i.asr,i.asr=l}}else if(a&&"createDOE"==a[0]&&t.isDOE)t.removeDOE();else if(a&&"createHistogram"==a[0]&&t.isHistogram)t.removeHistogram();else{if(a&&"fileUpload"==a[0])return t.$(t.target+"-cX-DataExplorerFileUploader").click(),!1;a&&t[a[0]]()}return!1}}(this),this.dataExplorerDblclick=function(t){return function(e){t.showMask();var i=t.getTargetEvent(e).parentNode,a=i.type,s=i.innerText,r=i.parentNode.parentNode,n=t.$(r.id.replace("DataExplorerVariables","DataExplorerAnnotations").replace("DataExplorerSamples","DataExplorerDescriptions"));if("z"==a)t.isUnique(t.data.z[s])?t.switchVarAnnotationToId(s):i.numeric?t.switchNumericToString(s):t.switchStringToNumeric(s);else if("x"==a)t.isUnique(t.data.x[s])?t.switchSmpAnnotationToId(s):i.numeric?t.switchNumericToString(s,!0):t.switchStringToNumeric(s,!0);else if("vars"==a){for(var o=[],h=0;h<t.data.y.vars.length;h++)t.data.y.vars[h]!=s&&o.push(t.data.y.vars[h]);o.length>1&&(t.switchVarToAnnotationBulk(o),t.updateDataExplorerContainerPopulation(r),t.updateDataExplorerContainerPopulation(n))}else if("smps"==a){var l=[];for(h=0;h<t.data.y.smps.length;h++)t.data.y.smps[h]!=s&&l.push(t.data.y.smps[h]);l.length>1&&(t.switchSmpToAnnotationBulk(l[h]),t.updateDataExplorerContainerPopulation(r),t.updateDataExplorerContainerPopulation(n))}return t.hideMask(),!1}}(this),this.dataExplorerClickSort=function(t){return function(e){var i=t.getTargetEvent(e),a=i.id.replace("-cX-DataExplorerSort","-cX-DataExplorer"),s=t.$(a);if(s){var r=t.removeEntriesDataExplorerContainer(s.firstChild);s.population=t.addEntriesDataExplorerContainer(s,s.firstChild,r,s.population.reverse());var n=i.getAttribute("src");i.setAttribute("src",i.getAttribute("asr")),i.setAttribute("asr",n),t.$cXIU(i,i.getAttribute("src"))}return!1}}(this),this.dataExplorerClickDataSort=function(t){return function(e){var i=t.getTargetEvent(e);switch(t.parseJSON(i.getAttribute("params"))[0]){case"sortDir":t.modifySort("both"),t.sortDir="ascending"==t.sortDir?"descending":"ascending";break;case"sortCase":t.modifySort("both"),t.sortCaseSensitive=!t.sortCaseSensitive;break;case"sortVariables":t.sortVariables();case"sortSamples":t.sortSamples()}if(i.srt){var a=i.src;i.src=i.srt,i.srt=a}return!1}}(this),this.dataExplorerClickLinLog=function(t){return function(e){var i=t.getTargetEvent(e),a=t.parseJSON(i.getAttribute("params"));if(i&&a){var s=a[1][0]+"Transform",r=i.getAttribute("src");i.setAttribute("src",i.getAttribute("srt")),i.setAttribute("srt",r),t[s]?t.changeAttribute(s,!1):t.changeAttribute(s,2==t.transformBase?"log2":"log10"),t.$cXIU(i,i.getAttribute("src"))}return!1}}(this),this.dataExplorerClickReset=function(t){return function(e){var i=t.getTargetEvent(e),a=i.getAttribute("title")?i.getAttribute("title").split(" : ")[0]:"",s=t.parseJSON(i.getAttribute("params"));switch(i.setAttribute("title",a),s[0]){case"overlays":return t.varOverlays=[],t.smpOverlays=[],t.draw({func:"dataExplorerClickReset",par:[e]}),!1;case"treemapBy":return t.treemapBy.length>0&&(t.treemapBy=[]),t.draw({func:"dataExplorerClickReset",par:[e]}),!1;case"groupSamples":return t.groupingFactors.length>0&&t.ungroupSamples(),!1;case"segregate":for(var r=0;r<t.segregateSamplesBy.length;r++)t.modifySampleSegregation(t.segregateSamplesBy[r]);for(r=0;r<t.segregateVariablesBy.length;r++)t.modifyVariableSegregation(t.segregateVariablesBy[r]);return!1;case"addToAxis":var n=s[1][0],o=t[n];return t.changeSampleInAxis(o[0],n,!0),i.setAttribute("title",a+" : "+t[n].join(", ")),!1;case"motion":return t.changeAttribute("motionBy",!1),!1;default:return t[s[0]]&&t.changeAttribute(s[0],!1),!1}}}(this),this.clickDataExplorerCarousel=function(t){return function(e){var i=t.getTargetEvent(e),a=t.$(i.trgId),s="&lt;"==i.innerHTML?a.current-1:a.current+1;return s<0?s=a.limit:s>a.limit&&(s=0),a.current=s,t.rotateCarousel(a,s),!1}}(this),this.clickDataExplorerTheme=function(t){return function(e){var i=t.getTargetEvent(e);return t.changeTheme(i.getAttribute("theme")),!1}}(this),this.closeDataExplorer=function(t){return function(e){var i=!!e&&t.getTargetEvent(e),a=i?i.id.replace("CloseImage",""):t.target+"-cX-DataExplorer",s=t.$(a);return s&&(t.addRemoveDataExplorerListeners("removeEvtListener"),t.transitionMagic(s,"holeOut",(function(){s.parentNode.removeChild(s)}))),!1}}(this),this.updateDataExplorerContainerPopulation=function(t){var e=this,i=t.id,a=t.firstChild,s=function(t){e.addRemoveEvtListener(t,a,"drop",e.dropDataExplorer,!1),e.addRemoveEvtListener(t,a,"dragover",e.dragOverDataExplorer,!1),e.addRemoveEvtListener(t,a,"dragenter",e.dragEnterDataExplorer,!1),e.addRemoveEvtListener(t,a,"dragleave",e.dragLeaveDataExplorer,!1);for(var i=0;i<a.childNodes.length;i++){var s=a.childNodes[i];"SPAN"==s.tagName&&s.childNodes.length&&s.lastChild.tagName&&s.lastChild.tagName.toUpperCase().match(/SVG|IMG/)&&(e.addRemoveEvtListener(t,s,"dragstart",e.dragStartDataExplorer,!1),e.addRemoveEvtListener(t,s,"dragend",e.dragEndDataExplorer,!1),e.addRemoveEvtListener(t,s,"dblclick",e.dataExplorerDblclick,!1))}};switch(s("removeEvtListener"),t.removeChild(a),a=this.$cX("div",{id:i+"-Mask"},{width:"220px"}),i){case this.target+"-cX-DataExplorerVariables":this.loadVariablesDataExplorerDiv(a,!0);break;case this.target+"-cX-DataExplorerSamples":this.loadSamplesDataExplorerDiv(a,!0);break;case this.target+"-cX-DataExplorerAnnotations":this.loadAnnotationsDataExplorerDiv(a,!0);break;case this.target+"-cX-DataExplorerDescriptions":this.loadDescriptionsDataExplorerDiv(a,!0)}s("addEvtListener");for(var r=[],n=0;n<a.childNodes.length;n++){var o=a.childNodes[n];r.push([o.offsetLeft-t.offsetLeft,o.offsetTop-t.offsetTop,o.textContent])}a.style.height=r.length?r[r.length-1][1]+31+"px":"31px",t.population=r},this.resetDataExplorer=function(){for(var t=[this.$(this.target+"-cX-DataExplorerVariables"),this.$(this.target+"-cX-DataExplorerSamples"),this.$(this.target+"-cX-DataExplorerAnnotations"),this.$(this.target+"-cX-DataExplorerDescriptions")],e=0;e<t.length;e++)this.updateDataExplorerContainerPopulation(t[e])}},CanvasXpress.prototype.initDataFilter=function(){var t;this.heigthOffsetDataFilter=function(){return"Genome"==this.graphType?82:119},this.addDataFilterDiv=function(){if(!this.$(this.target+"-cX-DataFilter")){var t=this.meta.canvas.canvasPixelRatio,e=null!=this.dataFilterLastX?parseInt(this.dataFilterLastX):-this.meta.canvas.ctx.canvas.width/t*.5,i=null!=this.dataFilterLastY?parseInt(this.dataFilterLastY):this.meta.canvas.ctx.canvas.height/t*.5,a=this.heigthOffsetDataFilter();this.dataFilterHeight=this.meta.canvas.ctx.canvas.height/t-a,this.activeAccordion=null;var s=this.$cX("div",{id:this.target+"-cX-DataFilter",className:"CanvasXpressDataFilter draggable-container"},{top:i+"px",left:e+"px",display:"none",zIndex:1e4,marginLeft:"3px",width:this.dataFilterWidth+6+"px",height:"100%"}),r=this.$cX("div",{id:this.target+"-cX-DataFilterToolbar",className:"CanvasXpressDataFilterToolbar draggable"},{width:this.dataFilterWidth+"px"}),n=this.$cX("span",{innerHTML:"Filters",className:"CanvasXpressDataFilterToolbarText"}),o=this.$cXI(this.filterFlashingOn?"sl_lightbulbon":"sl_lightbulboff",{id:this.target+"-cX-DataFilterKeyFlash",className:"CanvasXpressDataFilterToolbarImage",src:this.filterFlashingOn?"sl_lightbulbon":"sl_lightbulboff",title:this.filterFlashingOn?"Turn off Flashing":"Turn on Flashing"},{display:"Network"==this.graphType?"block":"none"});CanvasXpress.system.isIE&&(o.style.marginTop="-10px");var h=this.$cXI("fp_funnelremove",{id:this.target+"-cX-DataFilterKeyReset",className:"CanvasXpressDataFilterToolbarImage",src:"fp_funnelremove",title:"Reset filters"});CanvasXpress.system.isIE&&(h.style.marginTop="-10px");var l=this.$cX(this.dataFilterLastState&&"docked"==this.dataFilterLastState?"fp_pinremove":"fp_pin",{id:this.target+"-cX-DataFilterKeyDock",className:"CanvasXpressDataFilterToolbarImage",src:this.dataFilterLastState&&"docked"==this.dataFilterLastState?"fp_pinremove":"fp_pin",title:this.dataFilterLastState&&"docked"==this.dataFilterLastState?"Undock":"Dock",state:this.dataFilterLastState&&"docked"==this.dataFilterLastState?"docked":"free"});CanvasXpress.system.isIE&&(l.style.marginTop="-10px");t=this.$cXI("op_cancel",{id:this.target+"-cX-DataFilterKeyClose",className:"CanvasXpressDataFilterToolbarImage",src:"op_cancel",title:"Close"});CanvasXpress.system.isIE&&(t.style.marginTop="-10px");var c=this.$cX("div",{id:this.target+"-cX-DataFilterContainer",className:"CanvasXpressDataFilterContainer"},{width:"fit-content"}),d=this.$cX("div",{id:this.target+"-cX-DataFilterVariableHeader",className:"CanvasXpressDataFilterHead"},{width:this.dataFilterWidth+"px",display:this.graphType.match(/Genome|Network/)?"none":"block"}),p=this.$cX("div",{id:this.target+"-cX-DataFilterVariableContent",className:"CanvasXpressDataFilterContent"},{width:this.dataFilterWidth+"px",height:"0px",display:"none"}),g=this.$cX("span",{innerHTML:"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Variables",className:"CanvasXpressDataFilterText"}),u=this.$cX("div",{id:this.target+"-cX-DataFilterSampleHeader",className:"CanvasXpressDataFilterHead"},{width:this.dataFilterWidth+"px",display:this.graphType.match(/Genome|Network/)?"none":"block"}),m=this.$cX("div",{id:this.target+"-cX-DataFilterSampleContent",className:"CanvasXpressDataFilterContent"},{width:this.dataFilterWidth+"px",height:"0px",display:"none"}),f=this.$cX("span",{innerHTML:"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Samples",className:"CanvasXpressDataFilterText"}),y=this.$cX("div",{id:this.target+"-cX-DataFilterNodeHeader",className:"CanvasXpressDataFilterHead"},{width:this.dataFilterWidth+"px",display:"Network"==this.graphType?"block":"none"}),x=this.$cX("div",{id:this.target+"-cX-DataFilterNodeContent",className:"CanvasXpressDataFilterContent"},{width:this.dataFilterWidth+"px",height:"0px",display:"none"}),b=this.$cX("span",{innerHTML:"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Nodes",className:"CanvasXpressDataFilterText"}),v=this.$cX("div",{id:this.target+"-cX-DataFilterEdgeHeader",className:"CanvasXpressDataFilterHead"},{width:this.dataFilterWidth+"px",display:"Network"==this.graphType?"block":"none"}),A=this.$cX("div",{id:this.target+"-cX-DataFilterEdgeContent",className:"CanvasXpressDataFilterContent"},{width:this.dataFilterWidth+"px",height:"0px",display:"none"}),w=this.$cX("span",{innerHTML:"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Edges",className:"CanvasXpressDataFilterText"}),C=this.$cX("div",{id:this.target+"-cX-DataFilterGenomeHeader",className:"CanvasXpressDataFilterHead"},{width:this.dataFilterWidth+"px",display:"Genome"==this.graphType?"block":"none"}),T=this.$cX("div",{id:this.target+"-cX-DataFilterGenomeContent",className:"CanvasXpressDataFilterContent"},{width:this.dataFilterWidth+"px",height:"0px",display:"none"}),S=this.$cX("span",{innerHTML:"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Features",className:"CanvasXpressDataFilterText"});r.appendChild(n),r.appendChild(t),r.appendChild(l),r.appendChild(h),r.appendChild(o),d.appendChild(g),u.appendChild(f),y.appendChild(b),v.appendChild(w),C.appendChild(S),c.appendChild(d),c.appendChild(p),c.appendChild(u),c.appendChild(m),c.appendChild(y),c.appendChild(x),c.appendChild(v),c.appendChild(A),c.appendChild(C),c.appendChild(T),s.appendChild(r),s.appendChild(c);var D=this.$("east-wrapper-"+this.target);D&&(D.appendChild(s),this.addRemoveDataFilterListeners("addEvtListener"))}},this.addRemoveDataFilterListeners=function(t){var e=this.$(this.target+"-cX-DataFilterToolbar"),i=this.$(this.target+"-cX-DataFilterKeyFlash"),a=this.$(this.target+"-cX-DataFilterKeyReset"),s=this.$(this.target+"-cX-DataFilterKeyDock"),r=this.$(this.target+"-cX-DataFilterKeyClose"),n=this.$(this.target+"-cX-DataFilterVariableHeader"),o=this.$(this.target+"-cX-DataFilterSampleHeader"),h=this.$(this.target+"-cX-DataFilterNodeHeader"),l=this.$(this.target+"-cX-DataFilterEdgeHeader"),c=this.$(this.target+"-cX-DataFilterGenomeHeader");e&&i&&a&&s&&r&&n&&o&&h&&l&&c&&(this[t](e,"mousedown",this.registerMousemove,!1),this[t](i,"click",this.flashDataFilter,!1),this[t](a,"click",this.resetDataFilter,!1),this[t](s,"click",this.dockUndockDataFilter,!1),this[t](r,"click",this.hideDataFilter,!1),this[t](n,"click",this.activateAccordion,!1),this[t](o,"click",this.activateAccordion,!1),this[t](h,"click",this.activateAccordion,!1),this[t](l,"click",this.activateAccordion,!1),this[t](c,"click",this.activateAccordion,!1))},this.flashDataFilter=(t=this,function(e){var i=t.getTargetEvent(e);return t.filterFlashingOn?(t.filterFlashingOn=!1,t.$cXIU(i,"sl_lightbulboff",{title:"Turn on Flashing"})):(t.filterFlashingOn=!0,t.$cXIU(i,"sl_lightbulbon",{title:"Turn off Flashing"})),!1}),this.activateAccordion=function(t){return function(e,i,a,s){if(i||(i=t.getTargetEvent(e)),i){"span"==i.tagName.toLowerCase()&&(i=i.parentNode),i.className="CanvasXpressDataFilterHeadActive",i.firstChild.className="CanvasXpressDataFilterTextActive";var r=i.nextSibling;r&&setTimeout((function(){if(t.activeAccordion&&r.id==t.activeAccordion.id&&(r=!1),t.transitionAccordion((new Date).getTime(),250,r,t.activeAccordion,a,s),t.activeAccordion){var e=t.activeAccordion.previousSibling;e.className="CanvasXpressDataFilterHead",e.firstChild.className="CanvasXpressDataFilterText"}t.activeAccordion=r}),s?0:33)}return!1}}(this),this.resizeDataFilterHeight=function(){this.$(this.target+"-cX-DataFilter");var t=this.meta.canvas.canvasPixelRatio;this.dataFilterHeight=this.meta.canvas.ctx.canvas.height/t-this.heigthOffsetDataFilter(),this.activeAccordion&&(this.activeAccordion.style.height=this.dataFilterHeight+"px")},this.moveDataFilter=function(t,e,i,a){var s,r=this.meta.canvas.canvasPixelRatio,n=this.$(this.target+"-cX-DataFilter"),o=this.$(this.target+"-cX-DataFilterToolbar"),h=this.$(this.target+"-cX-DataFilterKeyDock"),l=this.$(this.remoteParentId+"-canvasXpressRemoteWindow"),c=this.$("north-container-"+this.target),d=this.$("south-container-"+this.target),p=this.$("west-container-"+this.target),g=this.$("middle-container-"+this.target),u=this.$("east-container-"+this.target),m=this.$("east-wrapper-"+this.target),f=this.meta.canvas.ctx.canvas.height/r,y=this.dataFilterWidth;if(n&&o&&h&&c&&d&&p&&g&&u&&m){var x=o.clientWidth-y+2;if(s=parseInt(c.clientHeight)+f+parseInt(d.clientHeight),"free"!=h.state||t)if(h.state="free",this.dataFilterLastState="free",t&&(delete this.dataFilterLastState,this.dataFilterLastX=null,this.dataFilterLastY=null,n.style.width=y+"px",n.style.height=f+"px"),v=parseInt(p.style.width)+this.meta.canvas.ctx.canvas.width/r,l&&this.resizeMoveObject(l,0,0,Math.max(v,parseInt(d.clientWidth))+0,s+64),t){var b=this;this.transitionMagic(n,"holeOut",(function(){n.style.display="none",b.resizeMoveObject(g,0,0,v,f),b.resizeMoveObject(u,0,0,0,f),b.resizeMoveObject(m,0,0,0,f,i)}))}else this.resizeMove(n,-this.meta.canvas.ctx.canvas.width/r*.5,.5*f,y,f);else{h.state="docked",this.dataFilterLastState="docked",this.dataFilterLastX=n.style.left,this.dataFilterLastY=n.style.top;var v=parseInt(p.style.width)+this.meta.canvas.ctx.canvas.width/r+o.clientWidth+2;l&&this.resizeMoveObject(l,0,0,Math.max(v,parseInt(d.clientWidth))+0,s+64),this.resizeMoveObject(g,0,0,v,f),this.resizeMoveObject(u,0,0,y+x,f),this.resizeMoveObject(m,0,0,y+x,f),e||i?this.resizeMoveObject(n,0,0,y,f,i):this.resizeMove(n,0,0,y,f)}e&&(h.state=e),"docked"==h.state?this.$cXIU(h,"fp_pinremove",{title:"Undock"}):this.$cXIU(h,"fp_pin",{title:"Dock"})}},this.getDataFilterState=function(){var t=this.$(this.target+"-cX-DataFilterKeyDock");return!!t&&t.getAttribute("state")},this.updateDataFilter=function(t,e,i){if(!this.isTransition()){var a,s,r=this,n=this.isDOE,o=this.$(this.target+"-cX-DataTable"),h=!o||"block"!=o.style.display,l=function(t,e,i,a,s){var n={min:">=",max:"<=",like:"like",exact:"exact"};n[i]&&(r[t].comp.push(null!=s&&0!=s?a+":::"+s:a),r[t].op.push(n[i]),r[t].cases.push(!1),r[t].type.push("Filter"),r[t].value.push(r.toDoFilter[e][a][i]))};if(this.filteringStringOn||this.filteringNumericOn||t){this.resetFilters();for(var c in n&&this.removeDOE(!0),this.toDoFilter)for(var d in this.toDoFilter[c])for(var p in this.toDoFilter[c][d]){var g=this.toDoFilter[c][d].ref;"ref"!=p&&("sample"==c?l("filterSmpBy",c,p,d,g):"variable"==c?l("filterVarBy",c,p,d,g):"node"==c?l("filterNodeBy",c,p,d,g):"edge"==c?l("filterEdgeBy",c,p,d,g):"feature"==c&&l("filterFeatureBy",c,p,d,g))}if(this.reset(!0,e,i),this.filterData(!0),this.updateDataTable(),h&&this.hideUnhideDataTable(!0),this.layoutComb&&(a=this.varIndices,s=this.smpIndices),this.motionBy&&this.motionObject&&(this.motionObject.varIndices=this.cloneObject(this.varIndices),this.motionObject.smpIndices=this.cloneObject(this.smpIndices)),n&&this.createDOE(!1,!1,!0),this.decorations&&this.decorations.reg&&this.updateCorrelation(),this.validateAxesOnFilterData())if("Network"==this.graphType&&this.filterFlashingOn){for(var u=[],m=0;m<this.data.nodes.length;m++)this.data.nodes[m].hide||u.push(this.data.nodes[m].id);this.flashNode(u,!1,5)}else this.isGroupedData&&this.smpIndices.length>0&&this.groupSamples(this.groupingFactors,!1,!1,!0,!0),this.draw({func:"updateDataFilter",par:[!0,e,i],prop:{toDoFilter:this.toDoFilter}}),this.layoutComb&&(this.varIndices=a,this.smpIndices=s);else this.scatterPlotMatrix||this.reset(!0,!1,i),this.draw({func:"updateDataFilter",par:[!0,e,i],prop:{toDoFilter:this.toDoFilter}}),this.layoutComb&&(this.varIndices=a,this.smpIndices=s)}}},this.refreshDataFilters=function(t,e,i,a,s,r){if(e&&i&&a&&!r)this.refreshDataFilters(a,e,i,!1,!1,!0);else if(t&&e){var n=function(t){var e=1e6;return((t*e-parseInt(t)*e)/e).toString().replace(/\./,"").length-1},o=CanvasXpress.system.isIE?46:44;switch(e){case"variable":S=this.getVariableIndices(i)>=0?this.getSampleVariableData("smps"):this.getSampleVariableData("vars");break;case"sample":S=this.getSampleIndices(i)>=0?this.getSampleVariableData("vars"):this.getSampleVariableData("smps");break;case"node":S=this.getFilteredNetworkData("nodes");break;case"edge":S=this.getFilteredNetworkData("edges")}if(S){this.lastRefreshedFilter||(this.lastRefreshedFilter=[]);for(var h=this.lastRefreshedFilter.length>0?this.lastRefreshedFilter[this.lastRefreshedFilter.length-1]:"",l=!1;h==i;)this.lastRefreshedFilter.pop(),h=this.lastRefreshedFilter[this.lastRefreshedFilter.length-1],l=!0;for(var c=0;c<t.childNodes.length;c++){var d=t.childNodes[c],p=this.$(d.id.replace("DataFilterContainer","DataFilterScroll")),g=this.$(d.id.replace("DataFilterContainer","DataFilterOptions")),u=this.$(d.id.replace("DataFilterContainer","DataFilterRange")),m=this.$(d.id.replace("DataFilterContainer","DataFilterMin")),f=this.$(d.id.replace("DataFilterContainer","DataFilterMax")),y=this.$(d.id.replace("DataFilterContainer","DataFilterMinLabel")),x=this.$(d.id.replace("DataFilterContainer","DataFilterMaxLabel"));if(p&&g&&S.hasOwnProperty(p.uvalue)){if(p.uvalue!=i){var b=this.sortObject(S[p.uvalue].o);if(p.uvalue==h)p.fvalues=this.cloneObject(p.values);else{p.fvalues=["(All) "+b.length+" values"];for(var v=0;v<b.length;v++)p.fvalues.push(b[v]);p.fvalues.push("")}}else a&&l&&(h==p.uvalue||0==this.lastRefreshedFilter.length)&&(p.fvalues=p.values);for(;g.childNodes.length>0;)g.removeChild(g.childNodes[0]);this.loadStringFilter(p.fvalues,p.uvalue,g,p.values.length,S[p.uvalue].o),d.className.match(/Out$/)&&(p.firstChild.firstChild.style.display="none"),"long"==p.type&&(p.style.height=p.fvalues.length-2>this.maxItemMenuCheckbox?16*(p.fvalues.length+1)+"px":19*(p.fvalues.length-1)+4+"px")}else if(u&&m&&f&&y&&x&&S.hasOwnProperty(u.uvalue)){var A,w,C=n(S[u.uvalue].o.max-S[u.uvalue].o.min);if(u.uvalue!=i){if(u.min==S[u.uvalue].o.min&&u.max!=S[u.uvalue].o.max)A="log"==u.scale?S[u.uvalue].o.max?(Math.log(S[u.uvalue].o.max)-u.lmin)/u.lunits:0:(S[u.uvalue].o.max-u.min)/u.units,A=Math.ceil(A),u.style.width=Math.max(0,Math.floor(A)-parseInt(m.style.left))+"px";else if(u.min!=S[u.uvalue].o.min&&u.max==S[u.uvalue].o.max)A="log"==u.scale?S[u.uvalue].o.min?(Math.log(S[u.uvalue].o.min)-u.lmin)/u.lunits:0:(S[u.uvalue].o.min-u.min)/u.units,A=Math.ceil(A),u.style.width=parseInt(u.style.width)-A+parseInt(m.style.left)+"px",m.style.left=A+"px",u.style.left=A+"px",f.style.left=A+"px";else if(u.min!=S[u.uvalue].o.min&&u.max!=S[u.uvalue].o.max){if("log"==u.scale?(A=S[u.uvalue].o.max?(Math.log(S[u.uvalue].o.max)-u.lmin)/u.lunits:0,w=S[u.uvalue].o.min?(Math.log(S[u.uvalue].o.min)-u.lmin)/u.lunits:0):(A=(S[u.uvalue].o.max-u.min)/u.units,w=(S[u.uvalue].o.min-u.min)/u.units),!this.isNumber(w)||!this.isNumber(A))continue;w=Math.ceil(w),A=Math.ceil(A),u.style.width=A-w+"px",m.style.left=w+"px",u.style.left=w+"px",f.style.left=w+"px"}else u.min==S[u.uvalue].o.min&&u.max==S[u.uvalue].o.max&&(u.style.width=this.dataFilterWidth-o+"px",m.style.left="0px",u.style.left="0px",f.style.left="0px");y.value=this.formatNumber(S[u.uvalue].o.min,C),x.value=this.formatNumber(S[u.uvalue].o.max,C)}}}a?this.refreshDataFilters(a,e,i):this.lastRefreshedFilter.push(i)}}else{if(s)if(l=this.$(this.target+"-cX-DataFilterContainer")){this.lastRefreshedFilter=[];for(c=0;c<l.childNodes.length;c++)if(l.childNodes[c].id.match("Content"))for(d=l.childNodes[c],v=0;v<d.childNodes.length;v++)if(d.childNodes[v].id.match("Items")){var T=d.childNodes[v];for(i=0;i<T.childNodes.length;i++)if(T.childNodes[i].id.match("Container")){var S=T.childNodes[i];p=this.$(S.id.replace("DataFilterContainer","DataFilterScroll")),g=this.$(S.id.replace("DataFilterContainer","DataFilterOptions"));if(p&&g){for(p.fvalues=p.values;g.childNodes.length>0;)g.removeChild(g.childNodes[0]);this.loadStringFilter(p.fvalues,p.uvalue,g,p.values.length)}}}}}},this.validateAxesOnFilterData=function(){if(this.startingXAxisIndices||(this.startingXAxis=this.xAxis,this.startingXAxisIndices=this.graphType.match(/Scatter/i)?this.xAxisIndices:this.xAxisVarIndices),this.startingXAxis2Indices||(this.startingXAxis2=this.xAxis2,this.startingXAxis2Indices=this.xAxis2VarIndices),this.startingYAxisIndices||(this.startingYAxis=this.yAxis,this.startingYAxisIndices=this.yAxisIndices),this.startingZAxisIndices||(this.startingZAxis=this.zAxis,this.startingZAxisIndices=this.zAxisIndices),this.graphType.match(/Scatter/i)){var t=this.getObjectArray(this.smpIndices);this.xAxis=[],this.xAxisIndices=[];for(var e=0;e<this.startingXAxisIndices.length;e++)t.hasOwnProperty(this.startingXAxisIndices[e])&&(this.xAxis.push(this.data.y.smps[this.startingXAxisIndices[e]]),this.xAxisIndices.push(this.startingXAxisIndices[e]));if(this.xAxisIndices.length<1)return this.xAxis=this.startingXAxis,this.xAxisIndices=this.startingXAxisIndices,this.debug&&alert("Cannot filter since there are no samples left in X-Axis"),!1;this.yAxis=[],this.yAxisIndices=[];for(e=0;e<this.startingYAxisIndices.length;e++)t.hasOwnProperty(this.startingYAxisIndices[e])&&(this.yAxis.push(this.data.y.smps[this.startingYAxisIndices[e]]),this.yAxisIndices.push(this.startingYAxisIndices[e]));if(this.yAxisIndices.length<1)return this.yAxis=this.startingYAxis,this.yAxisIndices=this.startingYAxisIndices,this.debug&&alert("Cannot filter since there are no samples left in Y-Axis"),!1;if("Scatter3D"==this.graphType||"ScatterBubble2D"==this.graphType){this.zAxis=[],this.zAxisIndices=[];for(e=0;e<this.startingZAxisIndices.length;e++)t.hasOwnProperty(this.startingZAxisIndices[e])&&(this.zAxis.push(this.data.y.smps[this.startingZAxisIndices[e]]),this.zAxisIndices.push(this.startingZAxisIndices[e]));if(this.zAxisIndices.length<1)return this.zAxis=this.startingZAxis,this.zAxisIndices=this.startingZAxisIndices,this.debug&&alert("Cannot filter since there are no samples left in Z-Axis"),!1}}else if(this.graphType.match(/BarLine|DotLine|AreaLine|StackedLine|StackedPercentLine/)){t=this.getObjectArray(this.varIndices);this.xAxis=[],this.xAxisIndices=[];for(e=0;e<this.startingXAxisIndices.length;e++)t.hasOwnProperty(this.startingXAxisIndices[e])&&(this.xAxis.push(this.data.y.vars[this.startingXAxisIndices[e]]),this.xAxisIndices.push(this.startingXAxisIndices[e]));if(this.xAxisIndices.length<1)return this.xAxis=this.startingXAxis,this.xAxisIndices=this.startingXAxisIndices,this.debug&&alert("Cannot filter since there are no variables left in X-Axis"),!1;this.xAxis2=[],this.xAxis2Indices=[];for(e=0;e<this.startingXAxis2Indices.length;e++)t.hasOwnProperty(this.startingXAxis2Indices[e])&&(this.xAxis2.push(this.data.y.vars[this.startingXAxis2Indices[e]]),this.xAxis2Indices.push(this.startingXAxis2Indices[e]));if(this.xAxis2Indices.length<1)return this.xAxis2=this.startingXAxis2,this.xAxisIndices2=this.startingXAxis2Indices,this.debug&&alert("Cannot filter since there are no variables left in X-Axis2"),!1}return!0},this.showDataFilter=function(t){return function(e,i){var a=t.$(t.target+"-cX-DataFilter");if(a||t.disableEvents||t.disableDataFilters||(t.addDataFilterDiv(),a=t.$(t.target+"-cX-DataFilter")),a){if("0px"==a.style.left&&"0px"==a.style.top){var s=this.meta.canvas.canvasPixelRatio,r=t.$("west-container-"+t.target),n=t.$("middle-container-"+t.target);r&&n&&(n.style.width=parseInt(r.clientWidth)+t.meta.canvas.ctx.canvas.width/s+t.dataFilterWidth+"px")}t.activeTarget&&(t.activeTarget.style.zIndex=1e4),t.activeTarget=a,a.style.display="block",a.style.opacity=0,t.loadDataFilter(),t.resizeDataFilterHeight(),t.activeAccordion?i&&i():"Genome"==t.graphType?t.activateAccordion(!1,t.$(t.target+"-cX-DataFilterGenomeHeader"),i,!0):"Network"==t.graphType?t.activateAccordion(!1,t.$(t.target+"-cX-DataFilterNodeHeader"),i,!0):t.activateAccordion(!1,t.$(t.target+"-cX-DataFilterVariableHeader"),i,!0),a.style.zIndex=10001}return!1}}(this),this.removeGenericDataFilterListenersOrReset=function(t){var e=[],i=[];switch(this.graphType){case"Bar":case"Line":case"BarLine":case"Area":case"AreaLine":case"Dotplot":case"DotLine":case"Heatmap":case"Stacked":case"StackedLine":case"StackedPercent":case"StackedPercentLine":case"Boxplot":case"Correlation":case"Pie":case"Scatter2D":case"ScatterBubble2D":case"Scatter3D":case"Circular":case"Map":case"Gantt":var a=this.$(this.target+"-cX-DataFilterSampleContent"),s=this.$(this.target+"-cX-DataFilterVariableContent");a&&s&&(e.push(a,s),i.push(this.getSampleVariableData("smps",!0)),i.push(this.getSampleVariableData("vars",!0)));break;case"Venn":return;case"Network":var r=this.$(this.target+"-cX-DataFilterNodeContent"),n=this.$(this.target+"-cX-DataFilterEdgeContent");r&&n&&(e.push(r,n),i.push(this.getNodeData(!0)),i.push(this.getEdgeData(!0)));break;case"Genome":var o=this.$(this.target+"-cX-DataFilterGenomeContent");o&&(e.push(o),i.push(this.getFeatureData(!0)))}for(var h=0;h<i.length;h++){e[h];var l=i[h],c=this.getKeys(l);c.sort();for(var d=0;d<c.length;d++){var p=l[c[d]].t,g=c[d].replace(/\W/g,"_");if("string"==p){var u=this.$(this.target+":"+g+":cX-DataFilterInput"),m=this.$(this.target+":"+g+":cX-DataFilterScroll"),f=this.$(this.target+":"+g+":cX-DataFilterMask");m&&u&&(t?(u.value="",this.resetSelectStringFilter(m)):this.addRemoveStringDataFilterListeners("removeEvtListener",f))}else{var y=this.$(this.target+":"+g+":cX-DataFilterMin"),x=this.$(this.target+":"+g+":cX-DataFilterMinLabel"),b=this.$(this.target+":"+g+":cX-DataFilterRange"),v=this.$(this.target+":"+g+":cX-DataFilterMax"),A=this.$(this.target+":"+g+":cX-DataFilterMaxLabel"),w=this.$(this.target+":"+g+":cX-DataFilterScale"),C=CanvasXpress.system.isIE?46:44;y&&x&&b&&v&&A&&w&&(t?(y.style.left="0px",x.value=this.formatNumber(b.min,b.decis),b.style.left="0px",b.style.width=this.dataFilterWidth-C+"px",v.style.left="0px",A.value=this.formatNumber(b.max,b.decis)):this.addRemoveNumericDataFilterListeners("removeEvtListener",y,v,x,A,w))}}}},this.loadDataFilter=function(){switch(this.toDoFilter||(this.toDoFilter={}),this.graphType){case"Bar":case"Line":case"BarLine":case"Area":case"AreaLine":case"Dotplot":case"DotLine":case"Heatmap":case"Stacked":case"StackedLine":case"StackedPercent":case"StackedPercentLine":case"Boxplot":case"Correlation":case"Pie":case"Scatter2D":case"ScatterBubble2D":case"Scatter3D":case"Circular":case"Map":case"Gantt":return this.loadDataFilterSmpVar();case"Venn":return;case"Network":return this.loadDataFilterNetwork();case"Genome":return this.loadDataFilterGenome()}},this.loadDataFilterGeneric=function(t,e,i){var a="Genome"==this.graphType?95:116,s=this.getKeys(i);s.sort(),e.loaded||(e.loaded={});var r=e.id+"Search";if(!this.$(r)){var n=this.$cX("div",{id:r,className:"CanvasXpressDataFilterContainerHoverable"},{width:"97%"}),o=this.$cX("input",{id:r+"Input",type:"text",placeholder:" Search filters"},{cursor:"default",width:"97%",margin:"3px",border:"none"}),h=this.$cX("div",{id:r+"Items"});n.appendChild(o),e.appendChild(n),e.appendChild(h)}var l=this.$(r+"Items"),c=this.meta.canvas.canvasPixelRatio;l&&(l.style.height=this.meta.canvas.ctx.canvas.height/c-a);for(var d=0;d<s.length;d++){var p=i[s[d]].t,g=i[s[d]].r,u=this.getKeys(i[s[d]].o),m=this.target+":"+s[d].replace(/\W/g,"_")+":cX-DataFilterContainer";this.$(m)||u.length>0&&("string"==p?e.loaded[s[d]]||(h.appendChild(this.createStringFilter(t,s[d],u,g)),e.loaded[s[d]]=!0):e.loaded[s[d]]||("min"==u[0]&&"max"==u[1]&&(u=[i[s[d]].o.min,i[s[d]].o.max]),h.appendChild(this.createNumericFilter(t,s[d],u,g)),e.loaded[s[d]]=!0))}},this.loadDataFilterSmpVar=function(){var t=this.$(this.target+"-cX-DataFilterSampleContent"),e=this.$(this.target+"-cX-DataFilterVariableContent"),i="Scatter2D"==this.graphType&&"manhattan"==this.scatterType,a=!!i&&[this.manhattanMarkerChromosomeNumber,this.manhattanMarkerLogPValue];t&&e&&(this.loadDataFilterGeneric("sample",t,this.getSampleVariableData("smps",!0,a,!1,i)),this.loadDataFilterGeneric("variable",e,this.getSampleVariableData("vars",!0)))},this.loadDataFilterNetwork=function(){var t=this.$(this.target+"-cX-DataFilterNodeContent"),e=this.$(this.target+"-cX-DataFilterEdgeContent");t&&e&&(this.loadDataFilterGeneric("node",t,this.getNodeData(!0)),this.loadDataFilterGeneric("edge",e,this.getEdgeData(!0)))},this.loadDataFilterGenome=function(){var t=this.$(this.target+"-cX-DataFilterGenomeContent");t&&this.loadDataFilterGeneric("feature",t,this.getFeatureData(!0))},this.createNumericFilter=function(t,e,i,a,s,r){var n=this,o=CanvasXpress.system.isIE?46:44;(i=this.filterNumbers(i)).sort((function(t,e){return t-e}));var h,l,c=e.replace(/\W/g,"_"),d=s?this.target+":"+c+"_":this.target+":"+c,p=this.$cX("div",{id:d+":cX-DataFilterContainer",className:"CanvasXpressDataFilterContainerHoverable",type:"numeric",args:[t,e,i,a,s]}),g=this.$cX("div",{id:d+":cX-DataFilterScale",className:i[0]<=0?"CanvasXpressDataFilterContainerScaleNone":"CanvasXpressDataFilterContainerScaleLinearLog",innerHTML:e,draggable:!0},{width:this.dataFilterWidth-18+"px",margin:"5px"}),u=this.$cX("div",!1,{width:this.dataFilterWidth-18+"px",height:"18px",margin:"2px"}),m=!(parseFloat(i[0])<0)&&(0==parseFloat(i[0])?0:Math.log(parseFloat(i[0]))),f=!(parseFloat(i[i.length-1])<0)&&(0==parseFloat(i[i.length-1])?0:Math.log(parseFloat(i[i.length-1]))),y=null!=m&&null!=f&&(f-m)/(this.dataFilterWidth-o),x=(i[i.length-1]-i[0])/(this.dataFilterWidth-o),b=r?[(r[1]-r[0])/x,(r[0]-i[0])/x]:[n.dataFilterWidth-o,0],v=this.$cX("div",{id:d+":cX-DataFilterRange",className:"CanvasXpressDataFilterContainerRange",min:parseFloat(i[0]),max:parseFloat(i[i.length-1]),cmin:parseFloat(i[0]),cmax:parseFloat(i[i.length-1]),range:i[i.length-1]-i[0],units:x,decis:(h=i[i.length-1]-i[0],l=1e6,((h*l-parseInt(h)*l)/l).toString().replace(/\./,"").length-1),lmin:m,lmax:f,lunits:y,scale:!!y&&"linear",filter:t,ref:a,uvalue:e},{width:b[0]+"px",left:b[1]+"px"}),A=this.$cX("input",{id:d+":cX-DataFilterMinLabel",className:"CanvasXpressDataFilterContainerMinValue",type:"text",value:this.formatNumber(r?r[0]:i[0],v.decis)}),w=this.$cX("input",{id:d+":cX-DataFilterMaxLabel",className:"CanvasXpressDataFilterContainerMaxValue",type:"text",value:this.formatNumber(r?r[1]:i[i.length-1],v.decis)}),C=this.$cX("div",{className:"CanvasXpressDataFilterContainerNumeric"},{width:n.dataFilterWidth-16+"px"}),T=this.$cX("div",{id:d+":cX-DataFilterMin",className:"CanvasXpressDataFilterContainerMin"},{left:b[1]+"px"}),S=this.$cX("div",{id:d+":cX-DataFilterMax",className:"CanvasXpressDataFilterContainerMax"},{left:b[1]+"px"});return u.appendChild(A),u.appendChild(w),C.appendChild(T),C.appendChild(v),C.appendChild(S),p.appendChild(g),p.appendChild(u),p.appendChild(C),this.addRemoveNumericDataFilterListeners("addEvtListener",T,S,A,w,g),p},this.addRemoveNumericDataFilterListeners=function(t,e,i,a,s,r){t&&e&&i&&a&&s&&r&&(this[t](e,"mousedown",this.mousedownNumericFilter,!1),this[t](i,"mousedown",this.mousedownNumericFilter,!1),this[t](a,"change",this.changeNumericFilter,!1),this[t](s,"change",this.changeNumericFilter,!1),this[t](r,"click",this.clickNumericFilter,!1),this[t](r,"dragstart",this.dragStartDataFilter,!1),this[t](r,"dragend",this.dragEndDataFilter,!1))},this.dragStartDataFilter=function(t){return function(e){e.acs=t.adjustedCoordinates(e);var i=t.getTargetEvent(e);return i&&(e.dataTransfer.setDragImage(i.parentNode,-5,-5),i.parentNode.style.opacity="0.3",e.dataTransfer.setData("text",i.parentNode.id),t.xMouseDown=e.screenX,t.yMouseDown=e.screenY),!1}}(this),this.dragEndDataFilter=function(t){return function(e){if(e.ace=t.adjustedCoordinates(e),t.getTargetEvent(e)){t.addRemoveDataFilter(e.srcElement.parentNode);e.screenX,t.xMouseDown,e.screenY,t.yMouseDown}return!1}}(this),this.addRemoveDataFilter=function(t,e,i,a,s,r){var n=!1;if(!t){if(this.loadDataFilter(),!(e&&i&&a))return;"string"==a&&(i[2].shift(),i[2].pop()),t=s?this.$(s):this[e].apply(this,i),n=!0}if(e||(e="string"==t.type?"createStringFilter":"createNumericFilter"),i||(i=t.args),t){t.style.opacity="1.0",t.style.cssFloat=r&&r.position&&r.position.match(/Right/)?"right":"left";var o=t.parentNode;if(n&&!s||o.id.match(/DataFilter/)){if(t.className="CanvasXpressDataFilterContainerHoverableOut","string"==t.type){var h=t.getElementsByClassName("CanvasXpressDataFilterContainerMaskNoOverflow"),l=t.getElementsByClassName("CanvasXpressDataFilterContainerMask");h.length?((u=t.childNodes[1]).className="CanvasXpressDataFilterContainerMaskNoOverflowOut",u.style.height="16px",u.firstChild.firstChild.style.display="flex",u.firstChild.firstChild.firstChild.style.display="none"):l.length&&((u=t.childNodes[2]).style.display="none")}var c=this.$("northest-wrapper-"+this.target),d=this.$("southest-wrapper-"+this.target);c&&d&&(r&&r.position&&r.position.match(/bottom/)?d.appendChild(t):c.appendChild(t)),n||r||CanvasXpress.stack[this.target].afterRender.push(["addRemoveDataFilter",[!1,e,i,t.type]])}else{t.className="CanvasXpressDataFilterContainerHoverableOut";var p,g=t.id.split(":")[1];if("string"==t.type){var u;h=t.getElementsByClassName("CanvasXpressDataFilterContainerMaskNoOverflowOut"),l=t.getElementsByClassName("CanvasXpressDataFilterContainerMaskOut");h.length?((u=t.childNodes[1]).className="CanvasXpressDataFilterContainerMaskNoOverflow",u.style.height=u.firstChild.style.height,u.firstChild.firstChild.style.display="",u.firstChild.firstChild.firstChild.style.display=""):l.length&&((u=t.childNodes[2]).style.display="");var m=this.$(this.target+":"+g+":cX-DataFilterMask");m&&(p=this.rebuildDataTableFilter(),this.addRemoveStringDataFilterListeners("removeEvtListener",m))}else{var f=this.$(this.target+":"+g+":cX-DataFilterMin"),y=this.$(this.target+":"+g+":cX-DataFilterMinLabel"),x=this.$(this.target+":"+g+":cX-DataFilterMax"),b=this.$(this.target+":"+g+":cX-DataFilterMaxLabel"),v=this.$(this.target+":"+g+":cX-DataFilterScale");f&&y&&x&&b&&(p=this.rebuildDataTableFilter(),this.addRemoveNumericDataFilterListeners("removeEvtListener",f,x,y,b,v))}n||CanvasXpress.stack[this.target].afterRender.push(["addRemoveDataFilter",[!1,e,i,t.type,g]]),o.removeChild(t),p&&this.rebuildDataTableFilter(p)}}},this.changeNumericFilter=function(t){return function(e){var i=t.getTargetEvent(e);return i&&(t.filteringNumericOn=i,t.updateNumericFilter(e)),!1}}(this),this.mousedownNumericFilter=function(t){return function(e){var i=t.getTargetEvent(e);return i&&(t.filteringNumericOn=i,t.xMouseDown=e.clientX,t.yMouseDown=e.clientY),!1}}(this),this.clickNumericFilter=function(t){return function(e){var i=t.getTargetEvent(e);if(i){var a=t.$(i.id.replace("cX-DataFilterScale","cX-DataFilterRange")),s=t.adjustedCoordinates(e,i);if(a&&s&&a.scale){t.isIE;var r=parseInt(t.dataFilterWidth-18);s.x>r-13?(i.className="CanvasXpressDataFilterContainerScaleLinearLog",a.scale="log"):s.x>r-26&&(i.className="CanvasXpressDataFilterContainerScaleLogLinear",a.scale="linear")}}return!1}}(this),this.updateNumericFilter=function(t){if(this.filteringNumericOn){var e=this;this.cancelEvent(t);var i,a,s,r,n,o,h,l=this.filteringNumericOn;if(l.id.match(/cX-DataFilterMin(Label)?/)?(h=RegExp.$1,i=!0,a=l.id.replace("cX-DataFilterMin"+h,"cX-DataFilterMin"),s=l.id.replace("cX-DataFilterMin"+h,"cX-DataFilterMax"),r=l.id.replace("cX-DataFilterMin"+h,"cX-DataFilterRange"),n=l.id.replace("cX-DataFilterMin"+h,"cX-DataFilterMinLabel"),o=l.id.replace("cX-DataFilterMin"+h,"cX-DataFilterMaxLabel")):l.id.match(/cX-DataFilterMax(Label)?/)&&(h=RegExp.$1,i=!1,s=l.id.replace("cX-DataFilterMax"+h,"cX-DataFilterMax"),a=l.id.replace("cX-DataFilterMax"+h,"cX-DataFilterMin"),r=l.id.replace("cX-DataFilterMax"+h,"cX-DataFilterRange"),n=l.id.replace("cX-DataFilterMax"+h,"cX-DataFilterMinLabel"),o=l.id.replace("cX-DataFilterMax"+h,"cX-DataFilterMaxLabel")),a=this.$(a),s=this.$(s),r=this.$(r),n=this.$(n),o=this.$(o),a&&s&&r&&n&&o){var c,d,p=CanvasXpress.system.isIE?46:44,g=this.dataFilterWidth-p;if(h){var u=l.value-0,m=n.value-0,f=o.value-0,y=!1;l===o&&u<m&&(u=m,y=!0),l===n&&u>f&&(u=f,y=!0),u<r.min&&(u=r.min,y=!0),u>r.max&&(u=r.max,y=!0),y&&(l.value=this.formatNumber(u,r.decis)),d="log"==r.scale?u?(Math.log(u)-r.lmin)/r.lunits:0:(u-r.min)/r.units,d=Math.ceil(d),i?(d=Math.ceil(d),r.style.width=parseInt(r.style.width)-d+parseInt(a.style.left)+"px",a.style.left=d+"px",r.style.left=d+"px",s.style.left=d+"px"):r.style.width=Math.max(0,Math.floor(d)-parseInt(a.style.left))+"px"}else{c=t.clientX-this.xMouseDown,d=parseInt(a.style.left)+c;var x,b,v=i?parseInt(r.style.width)-c:parseInt(r.style.width)+c,A=this.absoluteCoordinates(a),w=this.absoluteCoordinates(s);if(i)d>0&&v>0?(this.xMouseDown=t.clientX,d=Math.max(0,Math.min(g,d)),v=Math.max(0,Math.min(g,v))):d>0?(d-=c,v=w.x-A.x-29):(v+=d,d=0),a.style.left=d+"px",r.style.left=d+"px",r.style.width=v+"px",s.style.left=d+"px",x="log"==r.scale?0!=d?Math.exp(r.lunits*d+r.lmin):0:r.units*d+r.min,x=Math.min(Math.max(x,r.min),parseFloat(o.value)),n.value=this.formatNumber(x,r.decis);else d+v<=g&&v>=0?(this.xMouseDown=t.clientX,d=Math.max(0,Math.min(g,d)),v=Math.max(0,Math.min(g-d,v))):d+v>g&&(v=g-(d-=c)),r.style.width=Math.max(0,v)+"px",b="log"==r.scale?v!=g?Math.exp(r.lunits*(d+v)+r.lmin):r.max:r.units*(d+v)+r.min,b=Math.max(Math.min(b,r.max),parseFloat(n.value)),o.value=this.formatNumber(b,r.decis)}var C=r.uvalue,T=r.filter;this.toDoFilter||(this.toDoFilter={}),this.toDoFilter[T]||(this.toDoFilter[T]={}),this.toDoFilter[T][C]||(this.toDoFilter[T][C]={}),h?i?this.toDoFilter[T][C].min=u:this.toDoFilter[T][C].max=u:(null!=x&&(this.toDoFilter[T][C].min=x),null!=b&&(this.toDoFilter[T][C].max=b)),null!=r.ref&&(this.toDoFilter[T][C].ref=r.ref),this.refreshDataFilters("CanvasXpressListItem"==l.parentNode.parentNode.parentNode.className?"Network"==e.graphType?"node"==T?e.$(e.target+"-cX-DataFilterNodeContentSearchItems"):e.$(e.target+"-cX-DataFilterEdgeContentSearchItems"):"sample"==T?e.getSampleIndices(C)>=0?e.$(e.target+"-cX-DataFilterVariableContentSearchItems"):e.$(e.target+"-cX-DataFilterSampleContentSearchItems"):e.getVariableIndices(C)>=0?e.$(e.target+"-cX-DataFilterSampleContentSearchItems"):e.$(e.target+"-cX-DataFilterVariableContentSearchItems"):l.parentNode.parentNode.parentNode,T,C),h&&this.endNumericFilter(t)}}return!1},this.endNumericFilter=function(t){this.filteringNumericOn&&(this.updateDataFilter(!1,!1,t),this.filteringNumericOn=!1)},this.createStringFilter=function(t,e,i,a,s,r){i.sort(),i.unshift("(All) "+i.length+" values"),i.push("");var n=e.replace(/\W/g,"_"),o=s?this.target+":"+n+"_":this.target+":"+n,h=this.$cX("div",{id:o+":cX-DataFilterContainer",className:"CanvasXpressDataFilterContainerHoverable",type:"string",args:[t,e,i,a,s]});s&&(h.style.width="180px");var l=this.$cX("div",{id:o+":cX-DataFilterLabel",innerHTML:e,draggable:!0},{width:"98%",margin:"5px"}),c=this.$cX("input",{id:o+":cX-DataFilterInput",type:"text",placeholder:" Search values"},{cursor:"default",width:"92%",marginLeft:"5px"}),d=this.$cX("div",{id:o+":cX-DataFilterMask",className:i.length-2>this.maxItemMenuCheckbox?"CanvasXpressDataFilterContainerMask":"CanvasXpressDataFilterContainerMaskNoOverflow"},{height:i.length-2>this.maxItemMenuCheckbox?"80px":19*(i.length-1)+4+"px"}),p=this.$cX("div",{id:o+":cX-DataFilterScroll",type:i.length-2>this.maxItemMenuCheckbox?"long":"short",filter:t,uvalue:e,values:i,fvalues:i,selected:{0:!r},ref:a,skey:n,last:0},{backgroundColor:"rgba(255, 255, 255, 0.95)",height:i.length-2>this.maxItemMenuCheckbox?16*(i.length+1)+"px":19*(i.length-1)+4+"px"}),g=this.$cX("div",{id:o+":cX-DataFilterOptions"},{width:"100%",position:"relative"});return this.loadStringFilter(i,n,g,i.length,!1,s,r),p.appendChild(g),d.appendChild(p),h.appendChild(l),i.length-2>this.maxItemMenuCheckbox&&h.appendChild(c),h.appendChild(d),this.addRemoveStringDataFilterListeners("addEvtListener",d),h},this.loadStringFilter=function(t,e,i,a,s,r,n){if(t&&e&&i){var o=!!n&&this.getObjectArray(n);if(a-2>this.maxItemMenuCheckbox)for(var h=0;h<Math.min(5,t.length);h++){var l=t[h].length>30?t[h].substr(0,30)+" ...":t[h],c=!s&&!n&&0==h||s&&s.hasOwnProperty(t[h])||n&&o.hasOwnProperty(t[h])?"CanvasXpressDataFilterContainerItemSelected":"CanvasXpressDataFilterContainerItem",d=r?this.target+":"+e+"_:cX-DataFilterItem-"+h:this.target+":"+e+":cX-DataFilterItem-"+h,p=this.$cX("div",{id:d,className:c,innerHTML:l,title:t[h],index:h},{});i.appendChild(p)}else for(h=0;h<t.length-1;h++){l=t[h].length>30?t[h].substr(0,30)+" ...":t[h],d=r?this.target+":"+e+"_:cX-DataFilterDivItem-"+h:this.target+":"+e+":cX-DataFilterDivItem-"+h;var g=this.$cX("div",{id:d,title:t[h],value:l,index:h}),u=r?this.target+":"+e+"_:cX-DataFilterInputItem-"+h:this.target+":"+e+":cX-DataFilterInputItem-"+h;p=this.$cX("input",{id:u,className:"CanvasXpressCheckbox",type:"checkbox",checked:!(s&&!s.hasOwnProperty(t[h])),value:l,index:h,name:""});n&&(p.checked=!!o.hasOwnProperty(t[h]));var m=this.$cX("label",{for:this.target+":"+e+":cX-DataFilterItem-"+h,className:"CanvasXpressCheckboxLabel",innerHTML:t[h]});g.appendChild(p),g.appendChild(m),i.appendChild(g)}}},this.addRemoveStringDataFilterListeners=function(t,e){if(t&&e){var i=e.parentNode.firstElementChild;"long"==e.firstChild.type&&this[t](e,"scroll",this.scrollStringFilter,!1),this[t](e,"mousedown",this.registerStringFilter,!1),this[t](e,"mouseup",this.endStringFilter,!1),this[t](i,"dragstart",this.dragStartDataFilter,!1),this[t](i,"dragend",this.dragEndDataFilter,!1)}},this.scrollStringFilter=function(t){return function(e,i,a){i||(i=t.getTargetEvent(e));var s=i.firstChild,r=s.firstChild,n=s.skey;if(s.fvalues){var o=Math.max(0,Math.min(Math.ceil(i.scrollTop/16),s.fvalues.length-5));r.style.top=i.scrollTop+"px";for(var h=0;h<Math.min(5,s.fvalues.length);h++){var l=t.$(t.target+":"+n+":cX-DataFilterItem-"+h)||t.$(t.target+":"+n+"_:cX-DataFilterItem-"+h);if(l){i=s.fvalues[o+h].length>30?s.fvalues[o+h].substr(0,30)+" ...":s.fvalues[o+h];l.className=s.selected[o+h]?"CanvasXpressDataFilterContainerItemSelected":"CanvasXpressDataFilterContainerItem",l.innerHTML=i,l.title=s.fvalues[o+h],l.index=o+h}}t.filteringStringOn&&!a&&t.updateSelectStringFilter(!1,t.$(t.target+":"+n+":cX-DataFilterItem-4"),!0)}return!1}}(this),this.registerStringFilter=function(t){return function(e){var i=t.getTargetEvent(e);return i.id||(i=i.parentNode),i.id.match(/cX-DataFilterMask/)||(i.id.match(/cX-DataFilterDivItem/)?(t.updateSelectStringFilter(!1,i.firstChild,!1,!0),t.filteringStringOn=i):i.parentNode.id.match(/cX-DataFilterDivItem/)?(t.updateSelectStringFilter(!1,i,!1,!0),t.filteringStringOn=i.parentNode):(t.$(i.parentNode.id.replace("cX-DataFilterOptions","cX-DataFilterInput")).value="",t.updateSelectStringFilter(!1,i,e.shiftKey,e.ctrlKey),t.filteringStringOn=i)),!1}}(this),this.endStringFilter=function(t){return function(e,i,a){if(!i&&t.filteringStringOn&&t.filteringStringOn.parentNode&&(i=t.filteringStringOn.parentNode.parentNode),i&&i.selected){var s=i.selected,r=i.filter,n=i.uvalue,o=i.ref,h=i.fvalues,l=a?"like":"exact";if(t.toDoFilter||(t.toDoFilter={}),s[0])t.toDoFilter[r]&&t.toDoFilter[r][n]&&delete t.toDoFilter[r][n],t.toDoFilter[r]&&Object.keys(t.toDoFilter[r]).length;else{for(var c in t.toDoFilter[r]||(t.toDoFilter[r]={}),t.toDoFilter[r][n]||(t.toDoFilter[r][n]={}),t.toDoFilter[r][n][l]=[],s)t.toDoFilter[r][n][l].push(h[c]);null!=o&&(t.toDoFilter[r][n].ref=o)}if(0==Object.keys(t.toDoFilter).length){if(t.layoutComb)for(c=0;c<t.layoutParams.length;c++)delete t.layoutParams[c].dragged;t.reset(!0)}return t.filteringStringOn=!0,t.updateDataFilter(!1,!1,e),t.refreshDataFilters("CanvasXpressListItem"==i.parentNode.parentNode.parentNode.className?"Network"==t.graphType?"node"==r?t.$(t.target+"-cX-DataFilterNodeContentSearchItems"):t.$(t.target+"-cX-DataFilterEdgeContentSearchItems"):"sample"==r?t.getVariableIndices(n)>=0?t.$(t.target+"-cX-DataFilterVariableContentSearchItems"):t.$(t.target+"-cX-DataFilterSampleContentSearchItems"):t.getSampleIndices(n)>=0?t.$(t.target+"-cX-DataFilterSampleContentSearchItems"):t.$(t.target+"-cX-DataFilterVariableContentSearchItems"):i.parentNode.parentNode.parentNode,r,n,"CanvasXpressListItem"==i.parentNode.parentNode.parentNode.className&&i.parentNode.parentNode.parentNode),t.scrollStringFilter(!1,i.parentNode,!0),t.filteringStringOn=!1,!1}}}(this),this.updateStringFilter=function(t){var e=this.getTargetEvent(t),i=this.filteringStringOn&&this.filteringStringOn.id?this.filteringStringOn.id.replace(/-\d$/,""):"";if(e.id.match(i)&&!t.ctrlKey)this.updateSelectStringFilter(!1,e,!0),this.dragStringFilter=[e.parentNode.parentNode.parentNode,e.id.split("-")[2]];else if(this.dragStringFilter){var a=this.dragStringFilter[1]>=3?16:-16;this.dragStringFilter[0].scrollTop+=a,this.scrollStringFilter(!1,this.dragStringFilter[0],!1)}},this.updateSelectStringFilter=function(t,e,i,a){if(t){var s=this.$(t),r=this.$(t.replace("cX-DataFilterInput","cX-DataFilterScroll")),n=r.fvalues.length>1e4?2:r.fvalues.length>1e3?1:0;if(s.value&&s.value.length>n){var o;try{o=new RegExp(s.value.toLowerCase())}catch(s){return}var h=0,l=(g=r.firstChild).childNodes[0].index,c=null,d=0;r.selected={};for(var p=1;p<r.fvalues.length-1;p++)r.fvalues[p].toLowerCase().match(o)&&(c||(c=p,d=16*p),r.selected[p]=!0,h++);h+2==r.fvalues.length&&(r.selected={0:!0},c=0),null!=c&&(r.parentNode.scrollTop=d,this.scrollStringFilter(!1,r.parentNode)),this.endStringFilter(!1,r)}else this.resetSelectStringFilter(r),this.endStringFilter(!1,r)}else if(e){var g,u=e.index,m=!1;if(!(g=e.parentNode).id)return!1;for(;!g.id.match(/cX-DataFilterOptions/);)if(m=!0,!(g=g.parentNode).id)return!1;var f=(d=g.parentNode).last,y=d.selected,x=d.fvalues,b=(l=g.childNodes[0].index,h=0,a&&d.selected[u]);if(d.selected={},b||(d.selected[u]=!0),i)if(u>f)for(p=f;p<=u;p++)d.selected[p]=!0,p&&h++;else for(p=u;p<=f;p++)d.selected[p]=!0,p&&h++;else if(a)if(b||(d.last=u),m&&0==u)for(p=0;p<x.length-1;p++)d.selected[p]=!0;else for(var p in y)p==u&&b||(d.selected[p]=!0,p&&h++);else d.last=u;if(h>0&&delete d.selected[0],!m){delete d.selected[x.length-1];for(p=0;p<g.childNodes.length;p++)g.childNodes[p].className=d.selected[p+l]?"CanvasXpressDataFilterContainerItemSelected":"CanvasXpressDataFilterContainerItem"}}},this.resetSelectStringFilter=function(t){if(t){t.selected={0:!0};var e=t.parentNode;e.scrollTop=0,this.scrollStringFilter(!1,e)}},this.updateSearchFilters=function(t){var e=this.$(t).parentNode.parentNode;if(e)for(var i=e.childNodes,a=new RegExp(i[0].firstChild.value,"i"),s=0;s<i[1].childNodes.length;s++){i[1].childNodes[s].id.split(":")[1].match(a)?i[1].childNodes[s].style.display="block":i[1].childNodes[s].style.display="none"}},this.hideDataFilter=function(t){return function(e,i){return t.removeMenus(),t.$(t.target+"-cX-DataFilter")&&(delete t.dragStringFilter,t.moveDataFilter(!0,!1,i,e)),!1}}(this),this.dockUndockDataFilter=function(t){return function(e){return t.$(t.target+"-cX-DataFilter")&&t.moveDataFilter(),!1}}(this),this.resetDataFilter=function(t){return function(e,i,a,s,r){if(!t.isTransition()){t.resetFilters(),t.refreshDataFilters(!1,!1,!1,!1,!0),t.toDoFilter={},t.reset(!1,!1,e),t.updateDataTable(!1,!1,this.reproducing);var n=e&&(e.shiftKey||e.ctrlKey||e.altKey||e.metaKey);if(a){var o=t.$(t.target+"-cX-DataFilter");o&&(t.removeGenericDataFilterListenersOrReset(),o.parentNode.removeChild(o),t.addDataFilterDiv())}else t.removeGenericDataFilterListenersOrReset(!0);return t.sorting&&!n&&t.sortIndices.apply(t,t.sorting),s&&(this.varIndices=s),r&&(this.smpIndices=r),t.motionBy&&t.motionObject&&(t.motionObject.varIndices=t.cloneObject(t.varIndices),t.motionObject.smpIndices=t.cloneObject(t.smpIndices)),i?this.regroupSamples():(t.isGroupedData&&t.groupSamples(t.groupingFactors,!1,!1,!1,!0),t.draw({func:"resetDataFilter",par:[e,i,a,s,r]})),!1}}}(this),this.rebuildDataFilter=function(){this.resetDataFilter(!1,!0,!0)},this.initializeDataFilters=function(){if(this.filtersExposed.length){this.showDataFilter();for(var t=0;t<this.filtersExposed.length;t++){var e=this.filtersExposed[t],i=this.$(this.target+":"+e.name+":cX-DataFilterContainer");i&&this.addRemoveDataFilter(i,!1,!1,!1,!1,e)}this.hideDataFilter()}}},CanvasXpress.prototype.initDataTable=function(){var t;this.addDataTableDiv=function(t,e){if(!this.$(this.target+"-cX-DataTable")){var i=this,a=function(t,e,a){var s=i.$cX(0==e||0==a?"th":"td",{id:i.target+"-cX-DataTableCell."+e+"."+a,className:0==e||0==a?"CanvasXpressTableCellHead":"CanvasXpressTableCell"},{width:i.colWidth+"px",height:i.rowHeight+"px"});"stripped"==i.dataTableStyle?s.style.background=e%2?"rgba(0,0,0,0)":"rgba(0,0,0,0.05)":s.style.background="",0==e&&(s.style.textAlign="center"),t.appendChild(s)};e||this.setDataTableDimensions(t);var s=60,r=null!=this.dataTableLastX?parseInt(this.dataTableLastX):0,n=null!=this.dataTableLastY?parseInt(this.dataTableLastY):.25*-this.meta.canvas.ctx.canvas.height,o=this.dataTableLastWidth||this.dataTableColsWidth+s,h=this.dataTableLastHeight||this.dataTableRowsHeight+60,l=3*(this.colWidth+8)+6,c=3*(this.rowHeight+4)+8,d=this.$cX("div",{id:this.target+"-cX-DataTable",className:"CanvasXpressDataTable draggable-container"},{top:n+"px",left:r+"px",width:o+"px",height:h+"px",minWidth:l+s+"px",minHeight:c+60+28+"px",display:"none",marginTop:"3px",border:"stripped"==this.dataTableStyle?"none":"1px solid rgb(51, 122, 183)",backgroundColor:this.backgroundDataTable,zIndex:10001}),p=this.$cX("div",{id:this.target+"-cX-DataTableToolbar",className:"CanvasXpressDataTableToolbar draggable"},{position:"absolute",overflow:"hidden",width:o+"px",minWidth:l+s+"px",height:0,top:0,right:0,zIndex:10002,backgroundColor:"rgba(255,255,255,0)"}),g=this.$cX("div",{id:this.target+"-cX-DataTableToolbarImages",className:"CanvasXpressDataTableToolbar"},{cssFloat:"right",position:"relative",height:"36px",backgroundColor:"rgba(0,0,0,0)"}),u=this.$cXI(this.getGraphTypeIcon(),{id:this.target+"-cX-DataTableViewImage",className:"CanvasXpressDataTableToolbarImage",src:this.getGraphTypeIcon(),title:"View "+this.graphType},{display:"none"}),m=this.$cXI("sv_disk",{id:this.target+"-cX-DataTableSaveImage",className:"CanvasXpressDataTableToolbarImage",src:"sv_disk",title:"Save data"}),f=this.$cXI("ar_minmax",{id:this.target+"-cX-DataTableMaximizeMinimizeImage",className:"CanvasXpressDataTableToolbarImage",src:"ar_minmax",title:"Minimize / Maximize"}),y=this.$cXI("at_col",{id:this.target+"-cX-DataTableColorImage",className:"CanvasXpressDataTableToolbarImage",src:"at_col",title:"Color Data Table"},{display:i.graphType.match(/Correlation|Venn/)?"none":"block"}),x=this.$cXI("tb_stripped",{id:this.target+"-cX-DataTableStripeImage",className:"CanvasXpressDataTableToolbarImage",src:"tb_stripped",title:"Toggle Stripe Data Table"}),b=this.$cXI("dtt_transpose",{id:this.target+"-cX-DataTableTransposeImage",className:"CanvasXpressDataTableToolbarImage",src:"dtt_transpose",title:"Transpose data"},{display:"Venn"==this.graphType?"none":"block"}),v=this.$cXI("nodes"==this.networkShowDataTable?"n_edges":"n_nodes",{id:this.target+"-cX-DataTableNetworkImage",className:"CanvasXpressDataTableToolbarImage",src:"nodes"==this.networkShowDataTable?"n_edges":"n_nodes",title:"nodes"==this.networkShowDataTable?"Show edge data":"Show node data"},{display:"Network"==this.graphType?"block":"none"}),A=this.$cXI("fp_funnelremove",{id:this.target+"-cX-DataTableFilterResetImage",className:"CanvasXpressDataTableToolbarImage",src:"fp_funnelremove",title:"Reset filters"}),w=this.$cXI(this.dataTableLastState&&"docked"==this.dataTableLastState?"fp_pinremove":"fp_pin",{id:this.target+"-cX-DataTableDockImage",className:"CanvasXpressDataTableToolbarImage",src:this.dataTableLastState&&"docked"==this.dataTableLastState?"fp_pinremove":"fp_pin",title:this.dataTableLastState&&"docked"==this.dataTableLastState?"Undock":"Dock"}),C=this.$cXI("op_cancel",{id:this.target+"-cX-DataTableCloseImage",className:"CanvasXpressDataTableToolbarImage",src:"op_cancel",title:"Close table"},{marginRight:"10px"}),T=this.$cX("input",{id:this.target+"-cX-DataTableSearch",type:"text",placeholder:"Search"},{cursor:"default",borderRadius:"3px",width:"101px",margin:"2px 2px 2px 32px",padding:"5px",border:"1px solid #ccc",cssFloat:"left",backgroundColor:this.backgroundDataTable}),S=this.$cX("div",{id:this.target+"-cX-DataTableContainer",className:"CanvasXpressDataTableContainer"},{width:o+"px",height:h-28+"px",minWidth:l+s+"px",minHeight:c+60+"px"}),D=this.$cX("div",{id:this.target+"-cX-DataTableTableMask",className:"CanvasXpressDataTableMask"},{width:o-s+"px",height:h-60+"px",minWidth:l+"px",minHeight:c+28+"px"}),M=this.$cX("table",{id:this.target+"-cX-DataTableTable",className:"CanvasXpressDataTable"},{fontSize:this.dataTableFontSize+"px",fontFamily:this.dataTableFontFamily});"stripped"==this.dataTableStyle&&M.style.setProperty("border-collapse","collapse","important");for(var k=this.$cX("tbody"),L=0;L<this.maxRows;L++){for(var I=this.$cX("tr"),B=0;B<this.maxCols;B++)a(I,L,B);k.appendChild(I)}var N=this.$cX("div",{id:this.target+"-cX-DataTableVer",className:"CanvasXpressDataTableVertical"},{height:h-60+"px",minHeight:c+28+"px",backgroundColor:this.backgroundDataTable}),F=this.$cX("img",{id:this.target+"-cX-DataTableVerImage",className:"CanvasXpressDataTableVertical",src:CanvasXpress.png,width:1,height:this.dataTableTotalHeight,title:"",alt:""});N.appendChild(F);var P=this.$cX("div",{id:this.target+"-cX-DataTableHor",className:"CanvasXpressDataTableHorizontal"},{width:o-s+"px",minWidth:l+"px",backgroundColor:this.backgroundDataTable}),R=this.$cX("img",{id:this.target+"-cX-DataTableHorImage",className:"CanvasXpressDataTableHorizontal",src:CanvasXpress.png,width:this.dataTableTotalWidth,height:1,title:"",alt:""});P.appendChild(R);var O=this.$cX("div",{id:this.target+"-cX-DataTableResizer",className:"CanvasXpressDataTableResizer resizable"});p.appendChild(T),g.appendChild(C),g.appendChild(w),g.appendChild(A),g.appendChild(b),g.appendChild(x),g.appendChild(y),g.appendChild(f),g.appendChild(m),g.appendChild(u),g.appendChild(v),p.appendChild(g),M.appendChild(k),D.appendChild(M),S.appendChild(D),S.appendChild(N),S.appendChild(P),S.appendChild(O),d.appendChild(p),d.appendChild(S);var X=this.$("south-wrapper-"+this.target);return X?(X.appendChild(d),this.modifyDataTableToolbarView(),this.addRemoveDataTableListeners("addEvtListener"),d):void 0}},this.showDataTableToolbar=function(t,e,i){var a=this,s=this.$(this.target+"-cX-DataTableToolbar");if(s&&0==parseInt(s.style.height)&&!this.isDataTableToolbarBusy){this.isDataTableToolbarBusy=!0;var r=parseInt(s.parentNode.style.width);this.resizeMove(s,0,0,r,36,250,(function(){a.isDataTableToolbarBusy=!1}))}},this.hideDataTableToolbar=function(t,e,i){var a=this,s=this.$(this.target+"-cX-DataTableToolbar"),r=this.$(this.target+"-cX-DataTableSearch"),n=Math.abs(i.y);if(!(e&&Math.abs(e.offsetTop)-n<36)&&(!r||document.activeElement!=r&&""==r.value)&&s&&36==parseInt(s.style.height)&&!this.isDataTableToolbarBusy){this.isDataTableToolbarBusy=!0;var o=parseInt(s.parentNode.style.width);this.resizeMove(s,0,0,o,0,500,(function(){a.isDataTableToolbarBusy=!1}))}},this.isDataTableToolbar=function(t){var e=this.getTargetEvent(t),i=this.adjustedCoordinates(t,e);if(e&&e.id==this.target+"-cX-DataTable"&&i){var a=Math.abs(i.y);Math.abs(e.offsetTop)-a<36?this.showDataTableToolbar(t,e,i):this.hideDataTableToolbar(t,e,i)}else this.hideDataTableToolbar(t,e,i)},this.modifyDataTableToolbarView=function(){var t=this.$(this.target+"-cX-DataTableViewImage"),e=[this.$(this.target+"-cX-DataTableDockImage"),this.$(this.target+"-cX-DataTableCloseImage"),this.$(this.target+"-cX-DataTableResizer")];if("canvas"==this.view){t.style.display="none";for(var i=0;i<e.length;i++)e[i].style.display="block"}else{t.style.display=this.dataTableMaximized&&!this.maximized?"none":"block";for(i=0;i<e.length;i++)e[i].style.display="none"}},this.getGraphTypeIcon=function(){return{Area:"g_area",AreaLine:"g_arealine",Bar:"g_bar",BarLine:"g_barline",Boxplot:"g_boxplot",Circular:"g_circular",Correlation:"g_correlation",DotLine:"g_dotline",Dotplot:"g_dotplot",Fish:"g_fish",Gantt:"g_gantt",Heatmap:"g_heatmap",Line:"g_line",Map:"g_map",Meter:"g_meter",Network:"g_network",Pie:"g_pie",Scatter2D:"g_scatter2d",ScatterBubble2D:"g_scatterbubble2d",Scatter3D:"g_scatter3d",Stacked:"g_stacked",StackedLine:"g_stackedline",StackedPercent:"g_stackedpercent",StackedPercentLine:"g_stackedpercentline",TagCloud:"g_tagcloud",ParallelCoordinates:"g_parallelcoordinates",Sankey:"g_sankey",Tree:"g_tree",Treemap:"g_treemap",Venn:"g_venn"}[this.graphType]||CanvasXpress.png},this.addRemoveDataTableListeners=function(t){this.addRemoveEvtListener(t,this.$(this.target+"-cX-DataTable"),"mousewheel",this.scrollDataTable,{passive:!1}),this.addRemoveEvtListener(t,this.$(this.target+"-cX-DataTableHor"),"scroll",this.scrollTable,!1),this.addRemoveEvtListener(t,this.$(this.target+"-cX-DataTableVer"),"scroll",this.scrollTable,!1),this.addRemoveEvtListener(t,this.$(this.target+"-cX-DataTableToolbar"),"mousedown",this.registerMousemove,!1),this.addRemoveEvtListener(t,this.$(this.target+"-cX-DataTableViewImage"),"click",this.clickView,!1),this.addRemoveEvtListener(t,this.$(this.target+"-cX-DataTableSaveImage"),"click",this.saveTable,!1),this.addRemoveEvtListener(t,this.$(this.target+"-cX-DataTableMaximizeMinimizeImage"),"click",this.maximizeMinimizeTable,!1),this.addRemoveEvtListener(t,this.$(this.target+"-cX-DataTableStripeImage"),"click",this.stripeTable,!1),this.addRemoveEvtListener(t,this.$(this.target+"-cX-DataTableColorImage"),"click",this.colorTable,!1),this.addRemoveEvtListener(t,this.$(this.target+"-cX-DataTableFilterResetImage"),"click",this.filterResetTable,!1),this.addRemoveEvtListener(t,this.$(this.target+"-cX-DataTableNetworkImage"),"click",this.networkUpdateTable,!1),this.addRemoveEvtListener(t,this.$(this.target+"-cX-DataTableTransposeImage"),"click",this.transposeDataTable,!1),this.addRemoveEvtListener(t,this.$(this.target+"-cX-DataTableDockImage"),"click",this.dockUndockTable,!1),this.addRemoveEvtListener(t,this.$(this.target+"-cX-DataTableCloseImage"),"click",this.hideTable,!1),this.addRemoveEvtListener(t,this.$(this.target+"-cX-DataTableResizer"),"mousedown",this.mousedownDataTableResizer,!1);for(var e=this.maxRows,i=this.maxCols,a=0;a<i;a++)this.addRemoveEvtListener(t,this.$(this.target+"-cX-DataTableCell.0."+a),"click",this.clickDataTableHeader,!1),this.addRemoveEvtListener(t,this.$(this.target+"-cX-DataTableCell.0."+a),"mousemove",this.mousemoveDataTableHeader,!1),this.addRemoveEvtListener(t,this.$(this.target+"-cX-DataTableCell.0."+a),"mousedown",this.mousedownDataTableHeader,!1),this.addRemoveEvtListener(t,this.$(this.target+"-cX-DataTableCell.0."+a),"mouseover",this.mouseoverDataTableHeader,!1),this.addRemoveEvtListener(t,this.$(this.target+"-cX-DataTableCell.0."+a),"mouseout",this.mouseoutDataTableHeader,!1);for(a=0;a<e;a++)this.addRemoveEvtListener(t,this.$(this.target+"-cX-DataTableCell."+a+".0"),"mouseover",this.mouseoverDataTableHeader,!1),this.addRemoveEvtListener(t,this.$(this.target+"-cX-DataTableCell."+a+".0"),"mouseout",this.mouseoutDataTableHeader,!1);for(a=1;a<e;a++)for(var s=1;s<i;s++)this.addRemoveEvtListener(t,this.$(this.target+"-cX-DataTableCell."+a+"."+s),"mouseover",this.mouseoverDataTableCell,!1),this.addRemoveEvtListener(t,this.$(this.target+"-cX-DataTableCell."+a+"."+s),"mouseout",this.mouseoutDataTableCell,!1),this.addRemoveEvtListener(t,this.$(this.target+"-cX-DataTableCell."+a+"."+s),"click",this.clickDataTableCell,!1)},this.scrollDataTable=(t=this,function(e){t.removeMenus(),t.cancelEvent(e);var i=t.$(t.target+"-cX-DataTableVer"),a=CanvasXpress.system.os;return i&&(e.wheelDelta>0?a.match(/Mac/)?i.scrollTop-=100:i.scrollTop+=100:a.match(/Mac/)?i.scrollTop+=100:i.scrollTop-=100),!1}),this.scrollTable=function(t){return function(e){t.removeMenus();var i=t.$(t.target+"-cX-DataTable"),a=t.$(t.target+"-cX-DataTableVer"),s=t.$(t.target+"-cX-DataTableHor");if(i&&a&&s&&!t.resizingDataTableOn){var r=Math.ceil(s.scrollLeft/(s.scrollWidth/t.totalCols)),n=Math.ceil(a.scrollTop/(a.scrollHeight/t.totalRows));t.dataTableLastScrollLeft=s.scrollLeft,t.dataTableLastScrollTop=a.scrollTop,t.dataTableLastScrollWidth=s.scrollWidth,t.dataTableLastScrollHeight=a.scrollHeight,r==t.startCol&&n==t.startRow||(t.startCol=r,t.startRow=n,t.updateDataTable())}return!1}}(this),this.maximizeMinimizeTable=function(t){return function(e){t.removeMenus();var i,a,s=window,r=s.document,n=t.$(t.target+"-cX-DataTable"),o=t.$(t.target+"-cX-DataFilter"),h=s.innerWidth,l=s.innerHeight,c=t.remoteService?t.$(t.remoteParentId+"-canvasXpressRemoteWindow"):t.$("container-"+t.target),d=t.$(t.target+"-cX-DataTableViewImage"),p="table"!=t.view&&o&&t.activeAccordion?t.dataFilterWidth+10:0,g=!("table"==t.view||!o)&&t.activeAccordion;return n&&(t.dataTableTarget=n,t.dataTableMaximized?(t.maximized||(t.moveCanvasXpressContainer(c,!0),t.backgroundMask(),d&&(d.style.display="block")),a=t.dataTableMaximized[2],i=t.dataTableMaximized[3],t.maximized||(r.documentElement.style.overflowX=t.dataTableMaximized[4],r.documentElement.style.overflowY=t.dataTableMaximized[5]),t.updateDataTableResizerDiv(!1,t.dataTableMaximized[0],t.dataTableMaximized[1]),"table"!=t.view&&o&&t.activeAccordion&&(t.dataFilterHeight=t.dataTableMaximized[6],o.style.left=t.dataTableMaximized[7],g.style.height=t.dataTableMaximized[8]),delete t.dataTableMaximized):(t.maximized||(t.moveCanvasXpressContainer(c),t.backgroundMask([h,l]),d&&(d.style.display="none")),t.dataTableMaximized=[t.dataTableLastWidth,t.dataTableLastHeight,parseInt(n.style.left),parseInt(n.style.top),r.body.style.overflowX,r.body.style.overflowY],t.maximized||(r.documentElement.style.overflowX="hidden",r.documentElement.style.overflowY="hidden"),i=-(t.height+3),a=0,t.updateDataTableResizerDiv(!1,h-(6+p),l-6),"table"!=t.view&&o&&t.activeAccordion&&(t.dataTableMaximized.push(t.dataFilterHeight,o.style.left,g.style.height),t.dataFilterHeight=l-(t.heigthOffsetDataFilter()+4),o.style.left=h-(t.width+t.dataFilterWidth+13)+"px",g.style.height=t.dataFilterHeight+"px")),t.endDataTableResizerDiv(),(n=t.$(t.target+"-cX-DataTable")).style.top=i+"px",n.style.left=a+"px"),!1}}(this),this.colorTable=function(t){return function(e){return t.removeMenus(),t.colorDataTable=!t.colorDataTable,t.updateDataTable(),!1}}(this),this.stripeTable=function(t){return function(e){return t.removeMenus(),t.dataTableStyle="stripped"!=t.dataTableStyle&&"stripped","stripped"==t.dataTableStyle?(t.colorDataTable=!1,t.rowHeight=Number(t.dataTableFontSize+16)):(t.colorDataTable=!0,t.rowHeight=Number(t.dataTableFontSize+6)),t.resetDataTable(!0),t.dataTableRowHeight=[],t.dataTableColumnWidth=[],t.updateDataTable(!1,!0),t.$(t.target+"-cX-DataTable").style.top=-t.meta.canvas.ctx.canvas.height/t.meta.canvas.canvasPixelRatio+"px",!1}}(this),this.filterResetTable=function(t){return function(e){return t.removeMenus(),t.resetDataFilter(e),t.resetDataTableSearch(e),t.updateDataTable(),!1}}(this),this.saveTable=function(t){return function(e){return t.removeMenus(),t.exportToExcel(t.getDataClassAsArray(t.data,0,t.totalCols,0,t.totalRows,!0)[0]),!1}}(this),this.dockUndockTable=function(t){return function(e){t.removeMenus();var i=t.dataTableLastState&&"docked"==t.dataTableLastState?"undock":"dock",a=t.getTargetEvent(e);return"dock"==i?t.$cXIU(a,"fp_pinremove",{title:"Undock"}):t.$cXIU(a,"fp_pin",{title:"Dock"}),t.moveDataTableDiv(i),!1}}(this),this.transposeDataTable=function(t){return function(e){return t.dataTableTransposed=!t.dataTableTransposed,t.resetDataTableRowsCols(),!1}}(this),this.networkUpdateTable=function(t){return function(e){return t.networkShowDataTable="nodes"==t.networkShowDataTable?"edges":"nodes",t.resetDataTableRowsCols(),!1}}(this),this.hideTable=function(t){return function(e,i,a){t.removeMenus();var s=t.$(t.target+"-cX-DataTable");return s&&t.transitionMagic(s,a||"holeOut",(function(){t.showDataTable=!1,t.moveDataTableDiv("hide"),t.hideUnhideDataTable(!0),t.resetDataTable(!0),i&&i()})),!1}}(this),this.hideUnhideDataTable=function(t){var e=this.$(this.target+"-cX-DataTable");e&&(e.style.display=1==t?"none":"block")},this.resetDataTable=function(t){this.addRemoveDataTableListeners("removeEvtListener"),this.removeTarget(this.target+"-cX-DataTable"),this.addDataTableDiv(!1,t)},this.rebuildDataTable=function(){this.resetDataTable()},this.resetDataTableRowsCols=function(t){this.removeMenus(),this.startRow=0,this.startCol=0,this.totalRows=null,this.totalCols=null,this.sortDataTableHead=!1,this.dataTableHide={},this.updateDataTable(!1,!0),this.adjustDataTable(),this.dataTableMaximized&&(this.$(this.target+"-cX-DataTable").style.top=-(this.height+3)+"px")},this.mousedownDataTableResizer=function(t){return function(e){t.removeMenus();var i=e.target||e.srcElement;if(t.hasClass(i,"resizable")){var a=t.$(t.target+"-cX-DataTable");a&&(t.dataTableTarget=a,t.xMouseDown=e.clientX,t.yMouseDown=e.clientY,t.dataTableWidth=parseInt(t.dataTableTarget.style.width),t.dataTableHeight=parseInt(t.dataTableTarget.style.height),t.resizingDataTableOn=!0)}return!1}}(this),this.mousemoveDataTableHeader=function(t){return function(e){var i=t.resizingDataTableColumnOn?t.dataTableColumnTarget:t.getTargetEvent(e),a=t.adjustedCoordinates(e,i),s=t.$(t.target+"-cX-DataTableHorImage");if(a&&s)if(t.resizingDataTableColumnOn){var r=t.dataTableColumnTarget.id.split("."),n=parseInt(r[2]),o=a.x-t.xMouseDown,h=Math.max(t.colWidth,(t.dataTableColumnWidth[t.startCol+n]||t.colWidth)+o);t.dataTableColumnTarget.firstChild.style.width=h+"px",s.width+=o,s.style.maxWidth=s.width+"px";for(var l=t.startRow;l<t.startRow+t.totalRows;l++){var c=t.$(t.target+"-cX-DataTableCell."+l+"."+n);c&&(c.style.width=h+"px",c.firstChild.style.width=h+"px")}t.dataTableColumnWidth[t.startCol+n]=h,t.xMouseDown=a.x,t.yMouseDown=a.y,window.document.body.style.cursor="col-resize"}else{i.offsetLeft+i.clientWidth-a.x<5&&"th"==i.nodeName.toLowerCase()?i.style.cursor="col-resize":i.style.cursor=t.isResizeDataTable(i,a)?"col-resize":"default"}return!1}}(this),this.mousedownDataTableHeader=function(t){return function(e){var i=t.getTargetEvent(e);i="th"!=i.nodeName.toLowerCase()&&t.isIE?i.parentNode:i;var a=t.adjustedCoordinates(e,i);return a&&t.isResizeDataTable(i,a)&&(t.dataTableColumnTarget=i,t.xMouseDown=a.x,t.yMouseDown=a.y,t.resizingDataTableColumnOn=!0,window.document.body.style.cursor="col-resize"),!1}}(this),this.isResizeDataTable=function(t,e){return t.offsetLeft+t.offsetWidth-e.x<(CanvasXpress.system.isIE?10:5)&&("th"==t.nodeName.toLowerCase()||CanvasXpress.system.isIE&&t.parentNode&&"th"==t.parentNode.nodeName.toLowerCase())},this.getColumnsDataTableHeaderMenu=function(){var t=this.dataTableHide;this.dataTableHide={};var e=this.getDataClassAsArray(this.data,0,this.totalCols,0,0,!0)[0][0];this.dataTableHide=t;for(var i=[],a=1;a<e.length;a++)i.push([e[a],this.dataTableHide[e[a]]?"sl_checkboxoff":"sl_checkboxon","hideUnhideDataTableColumn",[e[a]]]);return i},this.getColumnsDataTableHeaderFilterMenu=function(t,e){var i,a,s,r;if("Network"==this.graphType)i=this.networkShowDataTable.replace(/s$/,""),a=this.networkShowDataTable,s=this.getFilteredNetworkData(a,!0),r=this.getFilteredNetworkData(a);else{switch(t){case"cxv":i="variable",a="vars";break;case"cxx":case"cxs":i="sample",a="smps";break;case"cxz":i="variable",a="vars";break;case"cxb":return!1}s=this.getSampleVariableData(a,!0,e,"cxv"==t,"cxs"==t),r=this.getSampleVariableData(a,!1,e,"cxv"==t,"cxs"==t)}var n=this.getKeys(s[e].o),o=this.getKeys(r[e].o);return"numeric"==s[e].t&&"min"==n[0]&&"max"==n[1]&&(n=[s[e].o.min,s[e].o.max],o=[r[e].o.min,r[e].o.max]),[["-filter-",o="string"==s[e].t?this.createStringFilter(i,e,n,!1,!0,!this.isSameObject(n,o)&&o):this.createNumericFilter(i,e,n,!1,!0,!this.isSameObject(n,o)&&o)]]},this.clickDataTableHeader=function(t){return function(e,i){if(!t.noSorting){i||(t.cancelEvent(e),i=t.getTargetEvent(e));var a=t.target+"-cX-DataTableCell.0.0";if(i.tagName.match(/th/i)&&(i=i.firstChild),i.tagName.match(/^a$/i)){if(t.skipHeaderMouseout&&t.skipHeaderMouseout.id==this.id)return t.removeMenus(),!1;var s=[];s.push(["Sort Ascending","sr_azi","sortDataTableByColumn",["asc",i.parentNode]]),s.push(["Sort Descending","sr_zad","sortDataTableByColumn",["desc",i.parentNode]]),s.push(["-"]),s.push(["Columns","tb_table",!1,!1,!1,"getColumnsDataTableHeaderMenu",[]]),t.graphType.match(/Correlation|Venn|Genome/)||"cxb"==i.parentNode.type||(s.push(["-"]),s.push(["Filter","fp_funnel",!1,!1,!1,"getColumnsDataTableHeaderFilterMenu",[i.parentNode.type,i.parentNode.innerText]]));var r=t.absoluteCoordinates(i),n=t.absoluteCoordinates(t.$(t.target+"-cX-DataTable")),o=t.absoluteCoordinates(t.$(t.target));t.addMenu(e,!1,!1,s,r.x-n.x+(n.x-o.x),r.y-(o.y-18),this),t.skipHeaderMouseout=this}else{if("CanvasXpressTableCellSortDesc"==i.className?i.className="CanvasXpressTableCellSortAsc":i.className="CanvasXpressTableCellSortDesc",t.sortDataTableHead&&t.sortDataTableHead.id!=i.id){var h=t.$(t.sortDataTableHead.id);h&&(i.parentNode.id==a&&(t.sortDataTableHead.id=t.target+"-cX-DataTableCellContent.0.0"),h.className="CanvasXpressTableCell")}t.removeMenus(),t.sortDataTableHead=i,t.sortDataTable(e)}return!1}}}(this),this.mouseoverDataTableHeader=function(t){return this.className="CanvasXpressTableCellHeadActive",this.firstChild&&this.firstChild.firstChild&&(this.firstChild.firstChild.className="CanvasXpressTableCellHeadActive"),!1},this.mouseoutDataTableHeader=function(t){return function(e){return t.skipHeaderMouseout&&t.skipHeaderMouseout.id==this.id||(this.className="CanvasXpressTableCellHead",this.firstChild&&this.firstChild.firstChild&&(this.firstChild.firstChild.className="CanvasXpressTableCellHead")),!1}}(this),this.mouseoverDataTableCell=function(t){return function(e){return this.className="CanvasXpressTableCellActive",t.colorDataTable&&this.style.background&&(this.style.background=t.removeColorTransparency(this.style.background,!0)),!1}}(this),this.mouseoutDataTableCell=function(t){return function(e){return this.className="CanvasXpressTableCell",t.colorDataTable&&this.style.background&&(this.style.background=t.addColorTransparency(this.style.background,t.colorDataTableTransparency,!0)),!1}}(this),this.clickDataTableCell=function(t){return function(e){return t.removeMenus(),!1}}(this),this.hideUnhideDataTableColumn=function(t){this.dataTableHide[t]?delete this.dataTableHide[t]:this.dataTableHide[t]=!0,this.updateDataTable()},this.sortDataTableByColumn=function(t,e){e.className="asc"==t?"CanvasXpressTableCellSortDesc":"CanvasXpressTableCellSortAsc",this.sortDataTableHead=e,this.clickDataTableHeader(!1,e)},this.setDataTableDimensions=function(t,e){t||(t=this.data),this.dataTableHide||(this.dataTableHide={});var i=0;if(t.x)for(var a in t.x)this.dataTableHide[a]||i++;var s=0;if(t.z)for(var a in t.z)this.dataTableHide[a]||s++;var r=0,n=0;if(t.y&&t.y.vars&&t.y.smps){for(a=0;a<t.y.smps.length;a++)this.dataTableHide[t.y.smps[a]]||r++;for(a=0;a<t.y.vars.length;a++)this.dataTableHide[t.y.vars[a]]||n++}this.adjustDataTableRowsCols();this.getDataTableDimensions();var o=0,h=0;if("Network"==this.graphType){var l=this.getAllNetworkAttributes(t);o=this.dataTableTransposed?1+t[this.networkShowDataTable].length:1+l[1],h=this.dataTableTransposed?1+l[1]:1+t[this.networkShowDataTable].length}else if("Genome"==this.graphType)o=1,h=1;else if("Venn"==this.graphType){n=this.getVennCompartments(t);o=this.dataTableTransposed?1+n.length:2,h=this.dataTableTransposed?2:1+n.length}else"Correlation"==this.graphType?h=o="samples"==this.correlationAxis?1+r:1+n:t.y&&t.y.vars&&t.y.smps&&(o=this.dataTableTransposed?1+s+r:1+i+n,h=this.dataTableTransposed?1+i+n:1+s+r);null!=this.totalRows&&null!=this.totalCols||(this.totalRows=o+2,this.totalCols=h+1),this.dataTableTotalHeight=1;for(a=0;a<this.totalRows;a++)this.dataTableTotalHeight+=this.setDataTableRowHeight(a)+10;this.dataTableRowsHeight=1;for(a=this.startRow;a<this.startRow+this.maxRows;a++)this.dataTableRowsHeight+=this.setDataTableRowHeight(a)+10;this.dataTableTotalWidth=1;for(a=0;a<this.totalCols;a++)this.dataTableTotalWidth+=this.setDataTableColumnWidth(a)+14;this.dataTableColsWidth=1;for(a=this.startCol;a<this.startCol+this.maxCols;a++)this.dataTableColsWidth+=this.setDataTableColumnWidth(a)+14;e?this.resetDataTable(!0):this.showDataTable&&this.hideUnhideDataTable()},this.setDataTableColumnWidth=function(t,e){return this.dataTableColumnWidth[t]?e&&(this.dataTableColumnWidth[t]=Math.max(e,this.colWidth)):this.dataTableColumnWidth[t]=this.colWidth,this.dataTableColumnWidth[t]},this.setDataTableRowHeight=function(t,e){return this.dataTableRowHeight[t]?e&&(this.dataTableRowHeight[t]=Math.max(e,this.rowHeight)):this.dataTableRowHeight[t]=this.rowHeight,this.dataTableRowHeight[t]},this.getAllNetworkAttributes=function(t){if("Network"==this.graphType){var e=[],i=[],a=this.getNetworkData(this.networkShowDataTable,!0),s=this.getKeys(a).length;switch(this.networkShowDataTable){case"nodes":for(var r in a)if("id"==r){for(var n=0;n<t[this.networkShowDataTable].length;n++)e.push(t[this.networkShowDataTable][n].id);i.push(r)}else i.push(r);break;case"edges":for(var r in a)if("id1"==r){for(n=0;n<t[this.networkShowDataTable].length;n++)e.push(t[this.networkShowDataTable][n].id1+"::"+t[this.networkShowDataTable][n].id2);i.push(r)}else i.push(r)}return[a,s,e,i]}return!1},this.getVennCompartments=function(t){var e=0;if(!t.venn.indices)for(var i in t.venn.indices=[],t.venn.data)t.venn.indices[i]=e++;var a=Object.keys(this.data.venn.data);return a=a.sort((function(e,i){return t.venn.indices[e]-t.venn.indices[i]}))},this.getDataTableDimensions=function(){var t=0,e=0,i=0,a=0,s=this.$(this.target+"-cX-DataTableTable"),r=this.$(this.target+"-cX-DataTableCell.0.0");if(s){var n=s.childNodes[0].rows;n&&(t=n.length,e=n[0].cells.length,i=r&&r.firstChild&&r.firstChild.style?parseInt(r.firstChild.style.height):0,a=r&&r.firstChild&&r.firstChild.style?parseInt(r.firstChild.style.width):0)}return[t,e,i,a]},this.adjustDataTableRowsCols=function(){var t=this.$(this.target+"-cX-DataTableContainer");if(t){var e=1;this.maxCols=0;for(var i=this.startCol;i<this.totalCols;i++){if(e+=this.dataTableColumnWidth[i]+14,parseInt(t.style.width)<e){this.maxCols++;break}this.maxCols++}if(e<parseInt(t.style.width)&&this.startCol>0)for(i=this.startCol;i>=0&&e+this.dataTableColumnWidth[i]+14<parseInt(t.style.width);i--)e+=this.dataTableColumnWidth[i]+14,this.maxCols++,this.startCol--;parseInt(t.style.width)>this.dataTableTotalWidth&&(this.maxCols=this.totalCols-this.startCol),this.maxCols=Math.max(2,Math.min(this.maxCols,this.totalCols-this.startCol));var a=1;this.maxRows=0;for(i=this.startRow;i<this.totalRows;i++){if(a+=this.dataTableRowHeight[i]+10,parseInt(t.style.height)<a){this.maxRows++;break}this.maxRows++}if(a<parseInt(t.style.height)&&this.startRow>0)for(i=this.startRow;i>=0&&a+this.dataTableRowHeight[i]+10<parseInt(t.style.height);i--)a+=this.dataTableRowHeight[i]+10,this.maxRows++,this.startRow--;parseInt(t.style.height)>this.dataTableTotalHeight&&(this.totalRows=this.totalRows-this.startRow),this.maxRows=Math.max(2,Math.min(this.maxRows,this.totalRows-this.startRow))}},this.adjustDataTableScrollers=function(){var t=this.$(this.target+"-cX-DataTableVer"),e=this.$(this.target+"-cX-DataTableHor");t&&e&&(CanvasXpress.system.isIE||(t.scrollHeight=this.dataTableLastScrollHeight),t.scrollTop=this.dataTableLastScrollTop?this.dataTableLastScrollTop:t.scrollTop,CanvasXpress.system.isIE||(e.scrollWidth=this.dataTableLastScrollWidth),e.scrollLeft=this.dataTableLastScrollLeft?this.dataTableLastScrollLeft:e.scrollLeft)},this.adjustDataTable=function(t){this.adjustDataTableRowsCols(),this.updateDataTable(!1,!0,t),this.adjustDataTableScrollers(),"docked"==this.dataTableLastState&&this.resizeViewportSouth(!0)},this.sortDataTableVenn=function(t){var e=this;if("No"==t){var i=Object.keys(this.data.venn.data);i=i.sort((function(t,i){return"ascending"==e.sortDir?e.data.venn.data[t]-e.data.venn.data[i]:e.data.venn.data[i]-e.data.venn.data[t]}));for(var a=0;a<i.length;a++)this.data.venn.indices[i[a]]=a}else{var s=0,r=Object.keys(this.data.venn.data).length;for(var a in this.data.venn.data)"descending"==this.sortDir?this.data.venn.indices[a]=s++:this.data.venn.indices[a]=--r}},this.sortDataTable=function(t){this.sortDir="CanvasXpressTableCellSortDesc"==this.sortDataTableHead.className?"descending":"ascending";var e=this.sortDataTableHead.innerText?this.sortDataTableHead.innerText:this.sortDataTableHead.textContent;if("Network"==this.graphType){if(!this.dataTableTransposed)return this.sortDataTableHead.className="CanvasXpressTableCell",void(this.sortDataTableHead=!1);if("cxb"==this.sortDataTableHead.type)return this.sortDataTableHead.className="CanvasXpressTableCell",void(this.sortDataTableHead=!1);this.sortNetworkIndices(e)}else{if("Genome"==this.graphType)return this.sortDataTableHead.className="CanvasXpressTableCell",void(this.sortDataTableHead=!1);if("Venn"==this.graphType)this.sortDataTableHead.className="CanvasXpressTableCell",this.sortDataTableHead=!1,this.sortDataTableVenn(e);else if("Correlation"==this.graphType)"samples"==this.correlationAxis?"cxb"==this.sortDataTableHead.type?this.sortSamples():(this.sortSamples(!1,!1,e,"cor"),this.sortDataTableHead.className="CanvasXpressTableCell",this.sortDataTableHead=!1):"cxb"==this.sortDataTableHead.type?this.sortVariables():(this.sortVariables(!1,!1,e,"cor"),this.sortDataTableHead.className="CanvasXpressTableCell",this.sortDataTableHead=!1);else if(this.data.y.vars&&this.data.y.smps){var i="table"==this.view;t.ctrlKey||(this.sortingSampleCategories=[],this.sortingVariables=[]),this.dataTableTransposed?"cxx"==this.sortDataTableHead.type?this.modifySort("cat","smp",e,i):"cxv"==this.sortDataTableHead.type?this.modifySort("var","smp",e,i):"cxb"==this.sortDataTableHead.type&&this.modifySort("samples","smp","samples",i):(t.ctrlKey||(this.sortingVariableCategories=[],this.sortingSamples=[]),"cxz"==this.sortDataTableHead.type?this.modifySort("cat","var",e,i):"cxs"==this.sortDataTableHead.type?this.modifySort("smp","var",e,i):"cxb"==this.sortDataTableHead.type&&this.modifySort("variables","var","variables",i))}}this.updateDataTable(!1,!0)},this.getDataClassAsArray=function(t,e,i,a,s,r){var n=0,o=0,h=0,l=0,c=[],d=[],p=[],g=[],u=[],m=[],f=this.meta.data,y=this.isGroupedData;this.isGroupedData=!1;var x=this.$(this.target+"-cX-DataTable");x||(x=this.initializeDataTable());var b=function(t,e,i,a){if(e.hasOwnProperty(t))return null!=e[t]?e[t]:"";if(i[0][t]&&i[0][t].hasOwnProperty("r")){for(var s=i[0][t].r,r=0;r<a[s].length;r++){var n=a[s][r];if(!e.hasOwnProperty(n))return"";e=e[n]}if(e.hasOwnProperty(t))return null!=e[t]?e[t]:""}return""};if(null==e&&(e=0),null==i&&(i=999),null==a&&(a=0),null==s&&(s=999),"Network"==this.graphType){var v=this.getAllNetworkAttributes(t);if(g.push(""),u.push("cxb"),m.push(!1),this.dataTableTransposed){for(var A=0;A<v[3].length;A++)o<i&&l>=e&&!this.dataTableHide[v[3][A]]&&(g.push(v[3][A]),u.push("cxx"),m.push(!1),o++),l++;c.push(g),d.push(u),p.push(m);for(A=0;A<v[2].length;A++)if(!t[this.networkShowDataTable][A].hide){if(n<s&&h>=a&&!this.dataTableHide[v[2][A]]){o=0,l=0,g=[v[2][A]],u=["cxz"],m=[!1];for(var w=0;w<v[3].length;w++){if(o<i&&l>=e&&!this.dataTableHide[v[3][w]]){var C=b(v[3][w],t[this.networkShowDataTable][A],v,this[this.networkShowDataTable+"Properties"]),T=f[this.networkShowDataTable][v[3][w]].type.match(/String|Object/)?f[this.networkShowDataTable][v[3][w]].colors[f[this.networkShowDataTable][v[3][w]].order[C]]:this.getColorForValue(f[this.networkShowDataTable][v[3][w]].colorBrew,C);g.push(C),u.push("cxy"),m.push(T),o++}l++}c.push(g),d.push(u),p.push(m),n++}h++}}else{for(A=0;A<v[2].length;A++)t[this.networkShowDataTable][A].hide||(o<i&&l>=e&&!this.dataTableHide[v[2][A]]&&(g.push(v[2][A]),u.push("cxz"),m.push(!1),o++),l++);c.push(g),d.push(u),p.push(m);for(A=0;A<v[3].length;A++){if(n<s&&h>=a&&!this.dataTableHide[v[3][A]]){o=0,l=0,g=[v[3][A]],u=["cxx"],m=[!1];for(w=0;w<t[this.networkShowDataTable].length;w++)if(!t[this.networkShowDataTable][w].hide){if(o<i&&l>=e&&!this.dataTableHide[v[2][w]]){C=b(v[3][A],t[this.networkShowDataTable][w],v,this[this.networkShowDataTable+"Properties"]),T=f[this.networkShowDataTable][v[3][A]].type.match(/String|Object/)?f[this.networkShowDataTable][v[3][A]].colors[f[this.networkShowDataTable][v[3][A]].order[C]]:this.getColorForValue(f[this.networkShowDataTable][v[3][A]].colorBrew,C);g.push(C),u.push("cxy"),m.push(T),o++}l++}c.push(g),d.push(u),p.push(m),n++}h++}}}else if("Genome"==this.graphType)c=[["Not implemented"]],d=[["cxb"]];else if("Venn"==this.graphType){C=this.getVennCompartments(t);if(g.push(""),u.push("cxb"),m.push(!1),this.dataTableTransposed){g.push("No"),u.push("cxz"),m.push(!1),c.push(g),d.push(u),p.push(m);for(A=0;A<C.length;A++)n<s&&h>=a&&(o=0,l=0,g=[C[A]],u=["cxx"],m=[!1],o<i&&l>=e&&(g.push(t.venn.data[C[A]]),u.push("cxy"),m.push(!1),o++),l++,c.push(g),d.push(u),p.push(m),n++),h++}else{for(A=0;A<C.length;A++)o<i&&l>=e&&(g.push(C[A]),u.push("cxx"),m.push(!1),o++),l++;if(c.push(g),d.push(u),p.push(m),n<s&&h>=a){for(var A in o=0,l=0,g=["No"],u=["cxz"],m=[!1],C[0])o<i&&l>=e&&(g.push(t.venn.data[C[A]]),u.push("cxy"),m.push(!1),o++),l++;c.push(g),d.push(u),p.push(m)}}}else if("Correlation"==this.graphType){var S="samples"==this.correlationAxis?t.y.smps:t.y.vars,D="samples"==this.correlationAxis?this.smpIndices:this.varIndices,M="samples"==this.correlationAxis?"cxs":"cxv";g.push(""),u.push("cxb"),m.push(!1);for(A=0;A<S.length;A++)o<i&&l>=e&&!this.dataTableHide[r?S[D[A]]:S[A]]&&(g.push(r?S[D[A]]:S[A]),u.push(M),m.push(!1),o++),l++;c.push(g),d.push(u),p.push(m);for(A=0;A<S.length;A++){if(n<s&&h>=a&&!this.dataTableHide[r?S[D[A]]:S[A]]){if(o=0,l=0,u=[M],m=[!1],null!=(g=[r?S[D[A]]:S[A]])[0])for(w=0;w<S.length;w++)o<i&&l>=e&&!this.dataTableHide[r?S[D[w]]:S[w]]&&(t.y.cor?g.push(r?t.y.cor[D[A]][D[w]]:t.y.cor[A][w]):g.push(A==w?1:t.y.data),u.push("cxy"),m.push(!1),o++),l++;c.push(g),d.push(u),p.push(m),n++}h++}}else if(t.y&&t.y.vars&&t.y.smps){var k=r?this.varIndices.length:t.y.vars.length,L=r?this.smpIndices.length:t.y.smps.length,I=!!t.x&&this.sortObject(t.x),B=!!t.z&&this.sortObject(t.z);if(g.push(""),u.push("cxb"),m.push(!1),this.dataTableTransposed){if(t.x)for(A=0;A<I.length;A++)o<i&&l>=e&&!this.dataTableHide[I[A]]&&(g.push(I[A]),u.push("cxx"),m.push(f.x[I[A]].type),o++),l++;for(A=0;A<k;A++)o<i&&l>=e&&!this.dataTableHide[r?t.y.vars[this.varIndices[A]]:t.y.vars[A]]&&(g.push(r?t.y.vars[this.varIndices[A]]:t.y.vars[A]),u.push("cxv"),m.push(!1),o++),l++;if(c.push(g),d.push(u),p.push(m),t.z)for(A=0;A<B.length;A++){if(n<s&&h>=a&&!this.dataTableHide[B[A]]){if(o=0,l=0,g=[B[A]],u=["cxz"],m=[f.z[B[A]].type],t.x)for(w=0;w<I.length;w++)o<i&&l>=e&&!this.dataTableHide[I[w]]&&(g.push(""),u.push("cxb"),m.push(!1),o++),l++;for(w=0;w<k;w++){if(o<i&&l>=e&&!this.dataTableHide[r?t.y.vars[this.varIndices[w]]:t.y.vars[w]]){var N=r?this.getMetadataValue(this.varIndices[w],"z",B[A]):t.z[B[A]][w],F="String"==f.z[B[A]].type?f.z[B[A]].colors[f.z[B[A]].order[N]]:this.getColorForValue(f.z[B[A]].colorBrew,N);g.push(N),u.push("cxz"),m.push(F),o++}l++}c.push(g),d.push(u),p.push(m),n++}h++}for(A=0;A<L;A++){if(n<s&&h>=a&&!this.dataTableHide[r?t.y.smps[this.smpIndices[A]]:t.y.smps[A]]){if(o=0,l=0,g=[r?t.y.smps[this.smpIndices[A]]:t.y.smps[A]],u=["cxs"],m=[!1],t.x)for(w=0;w<I.length;w++){if(o<i&&l>=e&&!this.dataTableHide[I[w]]){N=r?this.getMetadataValue(this.smpIndices[A],"x",I[w]):t.x[I[w]][A],F="String"==f.x[I[w]].type?f.x[I[w]].colors[f.x[I[w]].order[N]]:this.getColorForValue(f.x[I[w]].colorBrew,N);g.push(N),u.push("cxx"),m.push(F),o++}l++}for(w=0;w<k;w++)o<i&&l>=e&&!this.dataTableHide[r?t.y.vars[this.varIndices[w]]:t.y.vars[w]]&&(r?g.push(t.y.data[this.varIndices[w]][this.smpIndices[A]]):g.push(null!=t.y.data[w][A]?t.y.data[w][A]:t.y.data[A]),u.push("cxy"),m.push(!1),o++),l++;c.push(g),d.push(u),p.push(m),n++}h++}}else{if(t.z)for(A=0;A<B.length;A++)o<i&&l>=e&&!this.dataTableHide[B[A]]&&(g.push(B[A]),u.push("cxz"),m.push(f.z[B[A]].type),o++),l++;for(A=0;A<L;A++)o<i&&l>=e&&!this.dataTableHide[r?t.y.smps[this.smpIndices[A]]:t.y.smps[A]]&&(g.push(r?t.y.smps[this.smpIndices[A]]:t.y.smps[A]),u.push("cxs"),m.push(!1),o++),l++;if(c.push(g),d.push(u),p.push(m),t.x)for(A=0;A<I.length;A++){if(n<s&&h>=a&&!this.dataTableHide[I[A]]){if(o=0,l=0,g=[I[A]],u=["cxx"],m=[f.x[I[A]].type],t.z)for(w=0;w<B.length;w++)o<i&&l>=e&&!this.dataTableHide[B[w]]&&(g.push(""),u.push("cxb"),m.push(!1),o++),l++;for(w=0;w<L;w++){if(o<i&&l>=e&&!this.dataTableHide[r?t.y.smps[this.smpIndices[w]]:t.y.smps[w]]){N=r?this.getMetadataValue(this.smpIndices[w],"x",I[A]):t.x[I[A]][w],F="String"==f.x[I[A]].type?f.x[I[A]].colors[f.x[I[A]].order[N]]:this.getColorForValue(f.x[I[A]].colorBrew,N);g.push(N),u.push("cxx"),m.push(F),o++}l++}c.push(g),d.push(u),p.push(m),n++}h++}for(A=0;A<k;A++){if(n<s&&h>=a&&!this.dataTableHide[r?t.y.vars[this.varIndices[A]]:t.y.vars[A]]){if(o=0,l=0,g=[r?t.y.vars[this.varIndices[A]]:t.y.vars[A]],u=["cxv"],m=[!1],t.z)for(w=0;w<B.length;w++){if(o<i&&l>=e&&!this.dataTableHide[B[w]]){N=r?this.getMetadataValue(this.varIndices[A],"z",B[w]):t.z[B[w]][A],F="String"==f.z[B[w]].type?f.z[B[w]].colors[f.z[B[w]].order[N]]:this.getColorForValue(f.z[B[w]].colorBrew,N);g.push(N),u.push("cxz"),m.push(F),o++}l++}for(w=0;w<L;w++)o<i&&l>=e&&!this.dataTableHide[r?t.y.smps[this.smpIndices[w]]:t.y.smps[w]]&&(r?g.push(t.y.data[this.varIndices[A]][this.smpIndices[w]]):g.push(null!=t.y.data[A][w]?t.y.data[A][w]:t.y.data[w]),u.push("cxy"),m.push(!1),o++),l++;c.push(g),d.push(u),p.push(m),n++}h++}}}return this.isGroupedData=y,[c,d,p]},this.updateDataTable=function(t,e,i){var a=this.$(this.target+"-cX-DataTable");if(a||(a=this.initializeDataTable()),a){this.dataTableLastState&&"docked"==this.dataTableLastState&&(this.dataTableLastX=0,this.dataTableLastY=0),this.dataTableLastState||(this.dataTableLastState="free");var s=a.style.left,r=a.style.top;t=t?this.getUngroupedDataObject(t):this.data,this.setDataTableDimensions(t,e);var n=this.getDataClassAsArray(t,this.startCol,this.maxCols,this.startRow,this.maxRows,!0);this.loadDataTableValues(n[0],n[1],n[2],i),this.$(this.target+"-cX-DataTable").style.left=s,this.$(this.target+"-cX-DataTable").style.top=r,this.dataTableMaximized&&(this.$(this.target+"-cX-DataTable").style.top=-(this.height+3)+"px")}},this.loadDataTableValues=function(t,e,i,a){var s=window.document,r=this.$(this.target+"-cX-DataTable");if(r){for(var n=this.setDataTableRowHeight(0),o=this.setDataTableColumnWidth(0),h=0;h<this.maxRows;h++)for(var l=0;l<this.maxCols;l++){var c=this.target+"-cX-DataTableCell."+h+"."+l,d=this.target+"-cX-DataTableCellContent."+h+"."+l,p=this.target+"-cX-DataTableCellContentA."+h+"."+l;if(y=this.$(c)){if(y.hasChildNodes())for(;y.childNodes.length>=1;)y.removeChild(y.firstChild);var g=this.$cX("div",{id:d,className:"CanvasXpressTableCell ",title:""});if(0==h){var u=this.$cX("a",{id:p,className:"CanvasXpressTableCellHead ",href:"#"});g.appendChild(u)}g.appendChild(s.createTextNode("")),0==l&&(g.style.height=n+"px",y.style.height=n+"px"),0==h&&(g.style.width=o+"px",y.style.width=o+"px"),"stripped"==this.dataTableStyle?y.style.background=h%2?"rgba(0,0,0,0)":"rgba(0,0,0,0.05)":y.style.background="",y.appendChild(g)}}var m=this.startRow;for(h=0;h<t.length;h++){var f=this.startCol;for(l=0;l<t[h].length+this.startCol;l++){var y;c=this.target+"-cX-DataTableCell."+h+"."+l,d=this.target+"-cX-DataTableCellContent."+m+"."+f,p=this.target+"-cX-DataTableCellContentA."+m+"."+f;if(y=this.$(c)){if(y.hasChildNodes())for(;y.childNodes.length>=1;)y.removeChild(y.firstChild);var x="object"==typeof t[h][l],b=null!=t[h][l]?t[h][l].toString().replace("\0",""):"",v=null!=e[h][l]?e[h][l]:"",A=i[h][l];isNaN(b)||"cxy"!=v||null==t[h][l]||"Network"==this.graphType?"NaN"===b&&(b=""):b=this.formatNumber(b);g=this.$cX("div",{id:d,className:"CanvasXpressTableCell ",title:x?this.prettyJSON(t[h][l]):b,type:v},{lineHeight:"stripped"==this.dataTableStyle?this.dataTableFontSize+16+"px":this.dataTableFontSize+6+"px"});if(0==h){u=this.$cX("a",{id:p,className:"CanvasXpressTableCellHead ",href:"#"});g.appendChild(u)}g.appendChild(s.createTextNode(b)),v.match(/cxv|cxs|cxy/)?g.style.fontStyle="normal":g.style.fontStyle="italic",0!=h?(g.style.height=this.setDataTableRowHeight(m)+"px",y.style.height=this.setDataTableRowHeight(m)+"px"):(g.style.height=this.setDataTableRowHeight(0)+"px",y.style.height=this.setDataTableRowHeight(0)+"px"),0!=l?(g.style.width=this.setDataTableColumnWidth(f)+"px",y.style.width=this.setDataTableColumnWidth(f)+"px"):(g.style.width=this.setDataTableColumnWidth(0)+"px",y.style.width=this.setDataTableColumnWidth(0)+"px"),y.appendChild(g),this.colorDataTable&&(A&&h>0&&l>0?y.style.background=this.addColorTransparency(A,this.colorDataTableTransparency,!0):h>0&&l>0?y.style.background="":(g.title=0==h&&0==l?this.totalRows-1+" X "+(this.totalCols-1)+" data points":0==l?"Row "+m+": "+b:"Col "+f+": "+b,g.ftype=A)),f++}}m++}if(this.sortDataTableHead){var w=this.$(this.sortDataTableHead.id),C=this.$(this.target+"-cX-DataTableCell.0.0").firstChild,T=this.target+"-cX-DataTableCellContent.0.0";w&&(w.className=this.sortDataTableHead.className),C&&(C.className=this.sortDataTableHead.id==T?this.sortDataTableHead.className:"CanvasXpressTableCell")}this.activeTarget=r,a&&(r.style.opacity=0),r.style.display="block"}},this.moveDataTableDiv=function(t){var e=this.$(this.target+"-cX-DataTable");if(e){var i,a,s=this.$(this.remoteParentId+"-canvasXpressRemoteWindow"),r=this.$("north-container-"+this.target),n=this.$("west-container-"+this.target),o=this.$("east-container-"+this.target),h=this.$("south-container-"+this.target),l=this.$("south-wrapper-"+this.target),c=this.meta.canvas.canvasPixelRatio;if(n&&o&&h&&l)if(!t||"dock"!=t&&"dockMagic"!=t)if(t&&"hide"==t)delete this.dataTableLastState,delete this.dataTableLastX,delete this.dataTableLastY,i=parseInt(n.style.width)+parseInt(o.style.width)+this.meta.canvas.ctx.canvas.width/c,a=parseInt(r.style.height)+this.meta.canvas.ctx.canvas.height/c,s&&this.resizeMoveObject(s,0,0,i+0,a+64),"hide"==t&&(e.style.display="none"),this.resizeMoveObject(l,0,0,i,0),this.resizeMoveObject(h,0,0,i,0);else{if(!t||"max"!=t&&"release"!=t&&"undock"!=t)return;this.dataTableLastState="free",i=parseInt(n.style.width)+parseInt(o.style.width)+this.meta.canvas.ctx.canvas.width/c,a=parseInt(r.style.height)+this.meta.canvas.ctx.canvas.height/c,s&&this.resizeMoveObject(s,0,0,i+i,a+64),"max"!=t&&"undock"!=t||this.resizeMove(e,parseInt(this.dataTableLastX),parseInt(this.dataTableLastY),e.clientWidth,parseInt(this.dataTableLastHeight)||this.dataTableRowsHeight+42),this.resizeMoveObject(l,0,0,i,0),this.resizeMoveObject(h,0,0,i,0)}else this.dataTableLastState="docked",this.dataTableLastHeight=e.clientHeight,this.dataTableLastX=e.offsetLeft,this.dataTableLastY=e.offsetTop,i=Math.max(e.clientWidth,parseInt(n.style.width)+parseInt(o.style.width)+this.meta.canvas.ctx.canvas.width/c)+2,a=parseInt(r.style.height)+this.meta.canvas.ctx.canvas.height/c+e.clientHeight+2,s&&this.resizeMoveObject(s,0,0,i+0,a+64),this.resizeMoveObject(h,0,0,i,e.clientHeight+2),this.resizeMoveObject(l,0,0,i,e.clientHeight+2),"dockMagic"==t?this.resizeMoveObject(e,0,0,e.clientWidth,e.clientHeight):this.resizeMove(e,0,0,e.clientWidth,e.clientHeight)}},this.updateDataTableResizerDiv=function(t,e,i){if(!t||null!=e&&null!=i||(e=Math.abs(this.dataTableWidth)-(this.xMouseDown-t.clientX),i=Math.abs(this.dataTableHeight)-(this.yMouseDown-t.clientY)),this.dataTableTarget&&this.dataTableTarget.style&&e&&i){var a=this.$(this.target+"-cX-DataTable"),s=this.$(this.target+"-cX-DataTableContainer"),r=this.$(this.target+"-cX-DataTableTableMask"),n=this.$(this.target+"-cX-DataTableVer"),o=this.$(this.target+"-cX-DataTableHor"),h=this.$(this.target+"-cX-DataTableToolbar");a&&s&&r&&n&&o&&h&&(this.dataTableTarget.style.width=CanvasXpress.system.isIE?Math.max(0,e)+"px":e+"px",s.style.width=CanvasXpress.system.isIE?Math.max(0,e)+"px":e+"px",r.style.width=CanvasXpress.system.isIE?Math.max(0,e-60)+"px":e-60+"px",o.style.width=CanvasXpress.system.isIE?Math.max(0,e-60)+"px":e-60+"px",h.style.width=CanvasXpress.system.isIE?Math.max(0,e)+"px":e+"px",this.dataTableTarget.style.height=CanvasXpress.system.isIE?Math.max(0,i)+"px":i+"px",s.style.height=CanvasXpress.system.isIE?Math.max(0,i-28)+"px":i-28+"px",r.style.height=CanvasXpress.system.isIE?Math.max(0,i-60)+"px":i-60+"px",n.style.height=CanvasXpress.system.isIE?Math.max(0,i-60)+"px":i-60+"px",this.dataTableLastWidth=e,this.dataTableLastHeight=i)}},this.endDataTableResizerDiv=function(t){null!=this.dataTableTarget&&(this.adjustDataTable(t),this.xMouseDown=null,this.yMouseDown=null,this.dataTableWidth=null,this.dataTableHeight=null,this.dataTableTarget=!1,this.resizingDataTableOn=!1)},this.endDataTableColumnResize=function(t){that=this,this.xMouseDown=null,this.yMouseDown=null,this.resizingDataTableColumnOn=!1,this.dataTableColumnTarget=!1,this.noSorting=!0,window.document.body.style.cursor="default",setTimeout((function(){that.noSorting=!1}),200)},this.updateSearchDataTable=function(t){var e=this.$(t).value,i=new RegExp(e,"i"),a=this.getAllNetworkAttributes(this.data);if(this.dataTableHide={},a){for(var s=this.data[this.networkShowDataTable],r=0;r<a[2].length;r++)this.dataTableHide[a[2][r]]=!0;var n=!1;for(r=0;r<a[2].length;r++)if(null!=a[2]&&a[2][r].toString().match(i))delete this.dataTableHide[a[2][r]];else{n=!1;for(var o=0;o<a[3].length;o++)if(null!=s[r][a[3][o]]&&s[r][a[3][o]].toString().match(i)){n=!0;break}n&&delete this.dataTableHide[a[2][r]]}}if(this.data.z){for(r=0;r<this.data.y.vars.length;r++)this.dataTableHide[this.data.y.vars[r]]=!0;for(var h in this.data.z)this.dataTableHide[h]=!1;for(r=0;r<this.data.y.vars.length;r++)for(var h in this.data.z)this.data.z[h][r].toString().match(i)&&delete this.dataTableHide[this.data.y.vars[r]]}if(this.data.x){for(r=0;r<this.data.y.smps.length;r++)this.dataTableHide[this.data.y.smps[r]]=!0;for(var h in this.data.x)this.dataTableHide[h]=!1;for(r=0;r<this.data.y.smps.length;r++)for(var h in this.data.x)this.data.x[h][r].toString().match(i)&&delete this.dataTableHide[this.data.y.smps[r]]}this.updateDataTable(!1,!0),this.$(this.target+"-cX-DataTableToolbar").style.height="36px",this.$(this.target+"-cX-DataTableSearch").value=e,this.$(this.target+"-cX-DataTableSearch").focus()},this.resetDataTableSearch=function(){this.$(this.target+"-cX-DataTableSearch").value="",this.dataTableHide={}},this.initializeDataTable=function(){if(!this.disableEvents&&!this.disableDataTable&&"Genome"!=this.graphType)return"stripped"==this.dataTableStyle&&(this.colorDataTable=!1,this.rowHeight=Number(28)),this.addDataTableDiv()},this.drawDOETableCanvas=function(){for(var t=this.marginLeft+this.offsetX+this.left,e=this.marginTop+this.offsetY+this.top,i=this.layoutWidth-(this.left+this.right),a=this.layoutHeight-(this.top+this.bottom),s=this.data.y.smps[0],r=t+i/6,n=t+i/2,o=t+i-i/6,h=e+31,l=this.darkenLightenColor(this.background,-20),c=0,d="";h<e+a&&c<this.data.y.vars.length;)c%2||this.toRender({p:["drawShape","rectangle",t+i/2,h,i-14,18,l,l],t:"Labels"}),h+=18,c++;for(this.toRender({p:["drawText","Row",r,e+16,"Bold"+this.font,this.foreground,"center","middle"],t:"Labels"}),this.toRender({p:["drawText",s,n,e+16,"Bold"+this.font,this.foreground,"center","middle"],t:"Labels"}),this.toRender({p:["drawText","#",o,e+16,"Bold"+this.font,this.foreground,"center","middle"],t:"Labels"}),h=e+32,c=0;h<e+a&&c<this.data.y.vars.length;)this.toRender({p:["drawText",c+1,r,h,"Bold"+this.font,this.foreground,"right","middle"],t:"Labels"}),d=this.data.y.vars[c],this.measureText(d,this.font)>i/3&&(d=d.substring(0,10)),this.toRender({p:["drawText",d,n,h,this.font,this.foreground,"center","middle"],t:"Labels"}),d=this.data.y.data[c][0],this.measureText(d,this.font)>i/3&&(d=d.substring(0,10)),this.toRender({p:["drawText",d,o+i/15,h,this.font,this.foreground,"right","middle"],t:"Labels"}),h+=18,c++},this.drawDOETable=function(){var t=this.marginLeft+this.offsetX+this.left,e=this.marginTop+this.offsetY+this.top,a=this.layoutWidth-(this.left+this.right),s=this.layoutHeight-(this.top+this.bottom),r=this.data.y.smps[0],n=Math.floor(a/3)+"px",o=this.$("northest-container-"+this.target),h=this.darkenLightenColor(this.background,-20),l=this.background,c=this.layoutDOETables[r].idxs;this.drawDOETableCanvas();var d=this.$cX("div",{id:this.target+"-cX-DataTable-"+r,className:"CanvasXpressDataTableDOE"},{position:"absolute",height:s-14+"px",width:a-14+"px",left:t+7+"px",top:e+7+"px",overflow:"scroll",backgroundColor:this.background,zIndex:9999}),p=this.$cX("table",{className:"CanvasXpressDataTableDOE",width:a-14+"px"}),g=this.$cX("head",{className:"CanvasXpressDataTableDOE"},{display:"block",position:"sticky",top:0}),u=this.$cX("tr",{className:"CanvasXpressDataTableDOE"});u.appendChild(this.$cX("th",{className:"CanvasXpressDataTableDOE",innerHTML:"Row"},{width:n,maxWidth:n,position:"sticky",top:0,backgroundColor:this.background,color:this.foreground})),u.appendChild(this.$cX("th",{className:"CanvasXpressDataTableDOE",innerHTML:r},{width:n,maxWidth:n,position:"sticky",top:0,backgroundColor:this.background,color:this.foreground})),u.appendChild(this.$cX("th",{className:"CanvasXpressDataTableDOE",innerHTML:"#"},{width:n,maxWidth:n,position:"sticky",top:0,backgroundColor:this.background,color:this.foreground})),g.appendChild(u);var m=this.$cX("body",{className:"CanvasXpressDataTableDOE"});for(i=0;i<this.data.y.data.length;i++){var f=c[i]||i,y=this.$cX("tr",{className:"CanvasXpressDataTableDOE"});y.appendChild(this.$cX("th",{className:"CanvasXpressDataTableDOE",innerHTML:i+1},{width:n,maxWidth:n,backgroundColor:i%2?l:h,color:this.foreground})),y.appendChild(this.$cX("td",{className:"CanvasXpressDataTableDOE",innerHTML:this.data.y.vars[f]},{width:n,maxWidth:n,backgroundColor:i%2?l:h,color:this.foreground})),y.appendChild(this.$cX("td",{className:"CanvasXpressDataTableDOE",innerHTML:this.data.y.data[f][0]},{width:n,maxWidth:n,backgroundColor:i%2?l:h,color:this.foreground})),c[i]=f,m.appendChild(y)}p.appendChild(g),p.appendChild(m),d.appendChild(p),o&&o.appendChild(d),this.addRemoveDataTableDOEListeners("addEvtListener",d)},this.addRemoveDataTableDOEListeners=function(t,e){if(e){var i=e.firstChild.firstChild.firstChild;if(i)for(var a=1;a<i.childNodes.length;a++)this.addRemoveEvtListener(t,i.childNodes[a],"click",this.clickDataTableDOE,!1)}},this.clickDataTableDOE=function(t){return function(e){t.removeMenus();var i=t.getActiveLayout(e),a=t.dataStndBy.l,s=a.smps[i.idx][0],r=t.createPie(s,!0),n=t.seq(0,r.y.data.length-1,1),o=this.parentNode.parentNode.nextSibling,h=t.layoutDOETables[s];if(o){this.innerHTML==a.smps[i.idx][0]?h.sort&&"desc"!=h.sort?(h.sort="desc",n=n.sort((function(t,e){return r.y.vars[e].toString().toLowerCase().localeCompare(r.y.vars[t].toString().toLowerCase())}))):(h.sort="asc",n=n.sort((function(t,e){return r.y.vars[t].toString().toLowerCase().localeCompare(r.y.vars[e].toString().toLowerCase())}))):h.sort&&"desc"!=h.sort?(h.sort="desc",n=n.sort((function(t,e){return r.y.data[e][0]-r.y.data[t][0]}))):(h.sort="asc",n=n.sort((function(t,e){return r.y.data[t][0]-r.y.data[e][0]})));for(var l=0;l<o.childNodes.length;l++)o.childNodes[l].childNodes[1].innerHTML=r.y.vars[n[l]],o.childNodes[l].childNodes[2].innerHTML=r.y.data[n[l]][0];h.idxs=n}return!1}}(this),this.removeDOETables=function(){var t=this.$("northest-container-"+this.target);if(t)for(var e=t.getElementsByTagName("div"),i=Array.prototype.filter.call(e,(function(t){return"CanvasXpressDataTableDOE"==t.className})),a=0;a<i.length;a++)this.addRemoveDataTableDOEListeners("removeEvtListener",i[a]),t.removeChild(i[a])}},CanvasXpress.prototype.initCanvasResizerEvents=function(){this.addCanvasResizerDiv=function(t){if(t){if(this.$("canvasXpressCanvasResize"))return}else if(this.$(this.target+"canvasXpressCanvasResize"))return;var e=this.$cX("div",{id:t?"canvasXpressCanvasResize":this.target+"canvasXpressCanvasResize",className:"CanvasXpressCanvasResizer"},{left:"0px",top:"0px",width:"0.5px",height:"0.5px",position:"absolute",display:"none",zIndex:100001});if(t&&(e.style.opacity=.5,e.style.filter="alpha(opacity = 50)",e.style.backgroundColor=this.resizerBackgroundColor),t)return window.document.body.appendChild(e),e;this.meta.canvas.ctx.canvas.parentNode.appendChild(e)},this.isCanvasResize=function(t){if(this.resizable){var e=this.adjustedCoordinates(t);if(e){var i=e.x,a=e.y;return i>this.width-18&&this.resizableX&&a>this.height-18&&this.resizableY?(this.resizeCanvasCursorShow="se-resize",!0):i>this.width-18&&this.resizableX&&a>20?(this.resizeCanvasCursorShow="e-resize",!0):a>this.height-18&&this.resizableY?(this.resizeCanvasCursorShow="s-resize",!0):(this.resizeCanvasCursorShow=!1,!1)}}},this.updateCanvasResizerCursor=function(t){if(this.resizable){var e=this.$(this.target2);if(e){var i=this.adjustedCoordinates(t);if(i){var a=i.x,s=i.y;a<=this.width&&s<=this.height&&(a>this.width-18&&this.resizableX&&s>this.height-18&&this.resizableY?(e.style.cursor="se-resize",this.resizeCanvasCursorShow="se-resize"):a>this.width-18&&this.resizableX&&s>20?(e.style.cursor="e-resize",this.resizeCanvasCursorShow="e-resize"):s>this.height-18&&this.resizableY?(e.style.cursor="s-resize",this.resizeCanvasCursorShow="s-resize"):this.movingOn||(e.style.cursor="default",this.resizeCanvasCursorShow=!1))}}}},this.updateCanvasResizer=function(t){if(this.resizingCanvasOn&&this.resizeCanvasCursorShow){window.document.body.style.cursor=this.resizeCanvasCursorShow;var e=this.$(this.target+"canvasXpressCanvasResize"),i=this.$("canvasXpressCanvasResize"),a=this.adjustedCoordinates(t),s=this.relativeCoordinates(this.meta.canvas.ctx.canvas);e&&a&&s&&("se-resize"==this.resizeCanvasCursorShow?(w=a.x,h=a.y):"e-resize"==this.resizeCanvasCursorShow?(w=a.x,h=this.height):"s-resize"==this.resizeCanvasCursorShow&&(w=this.width,h=a.y),i||(i=this.addCanvasResizerDiv(!0)),this.preventSelection(),dx=a.x-this.meta.canvas.ctx.canvas.width,dy=a.y-this.meta.canvas.ctx.canvas.height,e.style.width=w+"px",e.style.height=h+"px",e.style.display="block",i.style.left=s.x+"px",i.style.top=s.y+"px",i.style.width=w+"px",i.style.height=h+"px",i.style.display="block",CanvasXpress.resizing=!0)}},this.endCanvasResizer=function(t){if(this.resizingCanvasOn){if(this.isTransition())return;var e=this.$(this.target),i=this.$(this.target+"canvasXpressCanvasResize"),a=this.$("canvasXpressCanvasResize"),s=this.$("west-container-"+this.target),r=this.$("middle-container-"+this.target),n=this.$("east-container-"+this.target);if(e&&i&&a){this.clickLayoutNoAnimation();var o=parseInt(i.style.width),h=parseInt(i.style.height);r.style.width=parseInt(s.style.width)+parseInt(i.style.width)+parseInt(n.style.width)+"px",r.style.height=i.style.height,this.draw({width:o,height:h,func:"setDimensions",par:[o,h]}),i.style.width="0.5px",i.style.height="0.5px",i.style.display="none",e.style.cursor="default",this.updateRemoteNavigationWindow(),this.resetMotionDiv(),window.document.body.removeChild(a),this.resizeCanvasCursorShow=!1,this.resizingCanvasOn=!1,CanvasXpress.resizing=!1}}},this.initializeCanvasResizerEvents=function(){this.disableEvents||(this.addCanvasResizerDiv(),this.showMask())},this.initializeCanvasResizerEvents()},CanvasXpress.prototype.initMotionEvents=function(){var t;this.addMotionDiv=function(t){var e=this.target+"-cX-Motion";if(this.reproducing||!this.$(e)&&this.motionBy){if(!this.reproducing||!this.$(e)){var i=this.reproducing?1:3,a=this.reproducing?40:0,s=this.reproducing?18:0,r=2*this.margin,n=this.reproducing?this.motionWidth:this.width-6*this.margin,o=this.reproducing?-this.motionWidth-23:this.margin*i,h=45+this.margin+a,l=this.reproducing?0:this.height-(h+this.margin),c=this.margin,d=21+this.margin+a,p=n-(20+8*this.margin),g=4*this.margin,u=this.margin+a,m=n-(20+8*this.margin),f=4*this.margin,y=this.margin+a,x=n+17-(20+8*this.margin+2),b=15+4*this.margin,v=this.margin+a;this.motionControlWidth=p,this.setMotionObject();var A=this.motionObject,w=this.reproducing?32*A.levels.length:0,C=this.$cX("div",{id:e,className:this.reproducing?"CanvasXpressMotion draggable":"CanvasXpressMotion"},{left:o+"px",top:l+"px",width:n+s+"px",height:h+"px",position:"absolute",maxHeight:this.height+"px"});this.reproducing&&(C.style.backgroundColor="rgba(245, 245, 245, 0.95)",C.style.border="1px solid rgb(51, 122, 183)",C.style.borderRadius="5px",C.style.boxSizing="content-box",C.style.opacity=0);var T=this.$cXI("op_cancel",{id:e+"CloseImage",className:"CanvasXpressMotion unselectable",src:"op_cancel",title:"Close Reproducer"},{cssFloat:"right",padding:"3px"}),S=this.$cX("span",{id:e+"Span",className:"CanvasXpressMotion unselectable",innerHTML:"Customization Timeline"},{left:"8px",top:"5px",position:"absolute",cssFloat:"left",fontWeight:"bold"}),D=this.$cXI("v_play",{id:e+"Play",className:"unselectable",src:"v_play",className:"CanvasXpressMotion"},{left:c+"px",top:d+"px",width:"20px",height:"20px",position:"relative",cssFloat:"left"}),M=this.$cX("div",{id:e+"Scale",className:"CanvasXpressMotion"},{left:g+"px",top:u+"px",width:p+"px",height:"14px",position:"relative",cssFloat:"left"}),k=this.$cX("div",{id:e+"Ticks",className:"CanvasXpressMotion"},{left:f+"px",top:y+"px",width:m+"px",height:"10px",position:"relative",cssFloat:"left"}),L=this.$cX("div",{id:e+"Container",className:"CanvasXpressMotionContainer"},{left:b+"px",top:v+"px",width:x+"px",height:"14px",position:"relative",cssFloat:"left",clear:"none"}),I=this.$cX("div",{id:e+"Current",className:"CanvasXpressMotionCurrent"},{left:"0px",cursor:"pointer"}),B=this.$cX("div",{id:e+"Range",className:"CanvasXpressMotionRange"},{width:0,maxWidth:x+"px"}),N=this.$cX("div",{id:e+"Selection",className:"unselectable",draggable:!1},{left:c+"px",top:v+this.margin+"px",width:this.motionWidth+s-r+"px",position:"relative",cssFloat:"left",clear:"both",maxHeight:this.height-100+"px"}),F=this.$cX("ul",{className:"CanvasXpressList unselectable",draggable:!1},{height:this.height-100+"px"});if(N.appendChild(F),"String"==A.type){if(A.levels.length<100)for(var P=0;P<A.levels.length;P++){n=this.measureText(P.toString()," 2pt Arial"),A.levels[P].length>18?A.levels[P].substring(0,15):A.levels[P];var R=this.$cX("div",{className:"unselectable",innerHTML:P.toString(),title:A.levels[P]},{left:parseInt(P*A.unit-n/2)+"px",cssFloat:"left",position:"absolute",fontSize:"xx-small",cursor:"pointer"});M.appendChild(R);var O=this.$cX("div",{className:"unselectable",innerHTML:"|"},{left:parseInt(P*A.unit)+1+"px",cssFloat:"left",position:"absolute",fontSize:"xx-small"});if(k.appendChild(O),this.reproducing){var X=this.$cX("li",{className:"CanvasXpressListItem"},{height:"initial"}),z=this.$cX("a",{className:"CanvasXpressListItemA",unselectable:"on",draggable:!1}),E=this.$cXI(P<A.levels.length-1?"sl_radiooff":"sl_radioon",{className:"CanvasXpressListIcon unselectable",idx:P,src:P<A.levels.length-1?"sl_radiooff":"sl_radioon"}),_=this.$cX("span",{innerHTML:P+". "+A.levels[P],className:"CanvasXpressListItemText unselectable",idx:P,draggable:!1});z.appendChild(E),z.appendChild(_),X.appendChild(z),F.appendChild(X)}}}else for(P=0;P<A.values.length;P++){n=this.measureText(A.values[P].toString()," 2pt Arial"),R=this.$cX("div",{className:"unselectable",innerHTML:A.values[P],title:A.values[P]},{left:parseInt((A.values[P]-A.min)*A.unit-n/2)+"px",cssFloat:"left",position:"absolute",fontSize:"xx-small",cursor:"pointer"});M.appendChild(R);O=this.$cX("div",{className:"unselectable",innerHTML:"|"},{left:parseInt((A.values[P]-A.min)*A.unit)+1+"px",cssFloat:"left",position:"absolute",fontSize:"xx-small"});k.appendChild(O)}this.reproducing&&C.appendChild(T),L.appendChild(B),L.appendChild(I),this.reproducing&&C.appendChild(S),C.appendChild(D),C.appendChild(M),C.appendChild(k),C.appendChild(L),this.reproducing&&(C.style.height=h+w+r+"px",C.appendChild(N)),this.updateMotionIndices(),(x=this.$("center-wrapper-"+this.target))&&(x.appendChild(C),this.addRemoveMotionListeners("addEvtListener")),this.motionCache&&this.refreshMotionDiv(),this.reproducing&&this.transitionMagic(C,"swashIn")}}else this.motionBy?this.motionObject&&this.motionObject.name!=this.motionBy?this.resetMotionDiv(t):this.motionObject&&this.motionObject.setIndices&&this.updateMotionIndices([this.motionObject.current]):this.removeMotionDiv(!1,t)},this.setMotionObject=function(){if(!this.motionObject||this.motionObject.name!=this.motionBy)if(this.reproducing){for(var t=CanvasXpress.stack[this.target].afterRender,e=t.length,i={type:"String",levels:[],unit:this.motionControlWidth/(e-1),current:t[0][0],currentIdx:0,name:"Reproduce",fraction:0,initialized:!1},a=0;a<e;a++)i.levels.push(t[a][0]);this.motionObject=i}else{i={};var s=[],r={},n=this.data.x&&this.data.x[this.motionBy]?this.meta.data.x[this.motionBy]:this.meta.data.z[this.motionBy];if("Numeric"==n.type){if(this.data.x&&this.data.x[this.motionBy]){for(a=0;a<this.data.x[this.motionBy].length;a++){var o=this.data.x[this.motionBy][a];r.hasOwnProperty(o)||(s.push(o),r[o]=!0)}i.meta="x"}else{for(a=0;a<this.data.z[this.motionBy].length;a++){o=this.data.z[this.motionBy][a];r.hasOwnProperty(o)||(s.push(o),r[o]=!0)}i.meta="z"}if(s.length>20){i.type="Numeric",i.values=[],i.min=n.rmin,i.max=n.rmax,i.unit=this.motionControlWidth/(n.vals[n.vals.length-1]-n.rmin),i.current=n.rmin;for(a=0;a<n.vals.length;a++)n.vals[a]>=n.rmin&&i.values.push(n.vals[a]);i.range=n.rmax-n.rmin,i.step=Math.pow(10,Math.floor(Math.log(i.range/i.values.length)/Math.LN10)),i.decs=this.getNumberDecimals(i.step),i.levels=s.sort((function(t,e){return t-e}))}else i.type="String",i.levels=s.sort((function(t,e){return t-e})),i.unit=this.motionControlWidth/(s.length-1),i.current=s[0]}else i.type="String",i.levels=n.levels,i.unit=this.motionControlWidth/(n.levels.length-1),i.current=n.levels[0];i.varIndices=this.cloneObject(this.varIndices),i.smpIndices=this.cloneObject(this.smpIndices),i.grpIndices=this.cloneObject(this.grpIndices),i.varIndicesMotion=[],i.smpIndicesMotion=[],i.grpIndicesMotion=[],i.name=this.motionBy,i.fraction=0,this.motionObject=i}},this.updateMotionIndices=function(t,e){if(this.motionBy&&this.motionObject){var i=[],a="x"==this.motionObject.meta?this.motionObject.smpIndices:this.motionObject.varIndices,s="x"==this.motionObject.meta?this.data.x[this.motionBy]:this.data.z[this.motionBy];if("String"==this.motionObject.type)for(var r=t&&null!=t[0]?t[0]:this.motionObject.levels[0],n=0;n<a.length;n++){s[l=a[n]]==r&&i.push(l)}else{var o=t&&null!=t[0]?t[0]:this.motionObject.min,h=t&&null!=t[1]?t[1]:this.motionObject.values[0];for(n=0;n<a.length;n++){var l;s[l=a[n]]>o&&s[l]<=h&&i.push(l)}}"x"==this.motionObject.meta?this.smpIndices=i:this.varIndices=i,t&&t.length>0&&!e&&(this.motionObject.varIndicesMotion.push(this.cloneObject(this.varIndices)),this.motionObject.smpIndicesMotion.push(this.cloneObject(this.smpIndices)),this.motionObject.grpIndicesMotion.push(this.cloneObject(this.grpIndices))),this.motionObject.varIndicesMotion.length>3&&this.motionObject.varIndicesMotion.shift(),this.motionObject.smpIndicesMotion.length>3&&this.motionObject.smpIndicesMotion.shift(),this.motionObject.grpIndicesMotion.length>3&&this.motionObject.grpIndicesMotion.shift()}},this.addRemoveMotionListeners=function(t){var e=this.$(this.target+"-cX-Motion"),i=this.$(this.target+"-cX-MotionPlay"),a=this.$(this.target+"-cX-MotionCurrent");if(t&&e&&i&&a){if(this.reproducing){var s=this.$(this.target+"-cX-MotionCloseImage");s&&this[t](s,"click",this.closeMotion,!1),this[t](e,"mousedown",this.registerMousemove,!1);var r=this.$(this.target+"-cX-MotionSelection");if(r)for(var n=0;n<r.childNodes[0].childNodes.length;n++)for(var o=r.childNodes[0].childNodes[n].childNodes[0],h=0;h<o.childNodes.length;h++){var l=o.childNodes[h];this[t](l,"click",this.clickMotionSelection,!1)}}this[t](i,"click",this.clickMotion,!1),this[t](a,"mousedown",this.mousedownMotion,!1)}},this.closeMotion=(t=this,function(e){if(t.getTargetEvent(e)){var i=t.$(t.target+"-cX-Motion");t.transitionMagic(i,"holeOut",(function(){t.updateReproducing(t.motionObject.levels.length-1),t.removeMotionDiv(!1,e)}))}}),this.mousedownMotion=function(t){return function(e){if(t.getTargetEvent(e)){var i=t.$(t.target+"-cX-MotionRange");i&&(t.motionOn=i.style.width,t.xMouseDown=e.clientX,t.yMouseDown=e.clientY)}return!1}}(this),this.updateMotionToCurrent=function(t,e){if(!this.isTransition()&&this.$(this.target+"-cX-MotionRange")){for(var i=this.motionObject.levels,a=null,s=0;s<i.length;s++)if(i[s]==t){a=s+.99,s==i.length-1&&(a+=.05);break}if(null!=a){var r=this.motionControlWidth/i.length*a;this.disableMotion=!0,this.updateMotion(!1,r,!1,e),delete this.disableMotion}}},this.updateMotion=function(t,e,i,a){if(!this.isTransition()){var s=this.$(this.target+"-cX-MotionRange");if(s){var r,n=this.motionControlWidth,o=null!=e?Math.min(Math.max(0,e),n):t?Math.min(Math.max(0,t.clientX+parseInt(this.motionOn)-this.xMouseDown),n):0,h=o/this.motionObject.unit;if(s.style.width=o+"px",this.motionFraction=o/n,this.motionObject.last=o,"String"==this.motionObject.type)r=parseInt(h),this.reproducing?this.updateReproducing(r):(this.motionObject.levels[r]!=this.motionObject.current||i)&&(this.updateMotionIndices([this.motionObject.levels[r]],i),this.motionObject.current=this.motionObject.levels[r],this.userEvents.motion&&this.userEvents.motion.call(this,this.motionObject.current,t,this),a||this.draw({func:"updateMotion",par:[t,e,i,a]}));else{r=h+this.motionObject.min;for(var l=1;l<this.motionObject.values.length;l++)if(this.motionObject.values[l]>r){this.updateMotionIndices([this.motionObject.values[l-1],r],i),this.motionObject.decs?this.motionObject.current=this.formatNumber(r,this.motionObject.decs):this.motionObject.current=parseInt(r),this.userEvents.motion&&this.userEvents.motion.call(this,this.motionObject.current,t,this),a||this.draw({func:"updateMotion",par:[t,e,i,a]});break}}}}},this.updateReproducing=function(t){this.motionObject.initialized||(this.initializeDataReproduceMotion(),this.motionObject.initialized=!0),t!=this.motionObject.currentIdx?(t==this.motionObject.currentIdx+1?this.reproduceMotionDataToIdx(t,this.motionObject.currentIdx,!0):(this.motionObject.currentIdx=null,this.reproduceMotionDataToIdx(t,null)),this.motionObject.currentIdx=t):this.reproduceMotionDragOn||this.reproduceMotionDrag(t+1)},this.initializeDataReproduceMotion=function(){var t=!(!this.data.y||!this.data.y.hasOwnProperty("contour")),e="Map"==this.graphType?this.cloneObject(this.data):this.parseJSON(this.stringifyJSON(CanvasXpress.stack[this.target].data)),i=this.parseJSON(this.stringifyJSON(CanvasXpress.stack[this.target].config)),a=CanvasXpress.stack[this.target].afterRender,s=this.showTransition;for(var r in t&&(this.isContour=!1),this.setConfigDefaults(),i)this[r]=i[r];if(this.reproducing=!0,this.showTransition=!1,this.skipRender=!1,this.layoutValid=!1,this.isDOE){var n=!!this.data.l.histogram&&this.data.l.histogram.ridgeBy;this.graphType=this.initialGraphType,this.isDOE=!1,this.isPie=!1,this.isPieGroup=!1,this.data.y.histogram||(this.isHistogram=!1,this.isCreateHistogram=!1),this.layoutValid=!1,this.removeMenus(),this.switchData(!1,!0),this.ridgeBy=n,delete this.data.l,this.layoutComb=!1,this.layoutModified=!1,this.isValidLayout(),this.removeToolbar(),this.removeDOETables()}this.initializeData(e,!0),this.resetLegendPosition(!0),this.resetDendrograms(),this.resetSankey(),this.setTheme(),this.initializeGraph(!0),this[a[0][0]].apply(this,a[0][1]),this.hideMask(),this.showTransition=s},this.getDragDivDimensions=function(t,e,i){var a,s,r,n,o,h,l,c,d,p,g,u,m=e[0],f=null,y=this.graphType;switch(t){case"handleDragEventGenome":case"handleDragEventHeatmap":case"handleDragEventOneDimension":case"handleDragEventScatter":case"handlePanning":case"showHideSelectedData":f=e[1];break;case"updateDragNetwork":f=e[5]}var x=null!=f&&this.getBoundsXY(f);if(0!=x){var b=m.xMouseDown,v=m.yMouseDown,A=m.ac.x,w=m.ac.y;if(b>=x[0]&&b<=x[1]&&v>=x[2]&&v<=x[3])!y.match(/Scatter|Heatmap|Network|Genome|Circular/)&&"vertical"==this.graphOrientation&&!m.shiftKey||!y.match(/Scatter|Heatmap|Network|Genome|Circular/)&&"vertical"!=this.graphOrientation&&m.shiftKey?(a=o=x[0],r=l=x[1]-x[0]):(a=o=Math.min(b,A),r=0,l=A>b?A-b:b-A),d=o,g=o+l,!y.match(/Scatter|Heatmap|Network|Genome|Circular/)&&"vertical"!=this.graphOrientation&&!m.shiftKey||!y.match(/Scatter|Heatmap|Network|Genome|Circular/)&&"vertical"==this.graphOrientation&&m.shiftKey||"Genome"==y?(s=h=x[2],n=c=x[3]-x[2]):(s=h=Math.min(v,w),n=0,c=w>v?w-v:v-w),p=h,u=h+c;else if(i&&b>=x[4]&&b<=x[5]&&v>=x[6]&&v<=x[7]){var C=function(){a=o=x[4],s=v,h=w,r=l=x[5]-x[4],n=c=3,d=b,p=v,g=b,u=h},T=function(){a=b,o=A,s=h=x[6],r=l=3,n=c=x[7]-x[6],d=b,p=v,g=o,u=v};i.moveDendrogram?"varDendrogram"==i.moveDendrogram||"smpDendrogram"==i.moveDendrogram&&"vertical"==this.graphOrientation?C():T():i.moveSmpOverlay?y.match(/Heatmap/)||"horizontal"==this.graphOrientation?T():C():i.moveSmp?y.match(/Heatmap/)||"horizontal"==this.graphOrientation?C():T():i.moveVarOverlay?C():i.moveVar&&T()}}return[a,s,r,n,o,h,l,c,d,p,g,u]},this.getReproduceMotionDragIcon=function(t,e){return"updateClickConfigurator"==t?this.$cXI("m_left2",!1,!1,!0):e.type.match(/wheel/)?this.$cXI("m_wheel",!1,!1,!0):e.type.match(/key/)?this.$cXI("ch_cesc",!1,!1,!0):e.type.match(/mouse/)?this.$cXI("m_left",!1,!1,!0):this.$cXI("m_right",!1,!1,!0)},this.getHTMLReproduceMotionDragIcon=function(t,e){var i=this.getReproduceMotionDragIcon(t,e),a=i?[i]:[];return e.shiftKey&&a.push(this.$cXI("ch_cshift",!1,!1,!0)),e.ctrlKey&&a.push(this.$cXI("ch_cctrl",!1,!1,!0)),e.altKey&&a.push(this.$cXI("ch_calt",!1,!1,!0)),a.length>0?a.join(""):""},this.reproduceMotionCode=function(t,e){var i=CanvasXpress.stack[this.target].afterRender[t];if(i){var a=i[0],s=i[1]||[],r=i[2]||{},n=e?"<b>Function "+t+":</b> "+a+"<br><br>":"<b>Next modification...</b><br><br><b>Function "+t+":</b> "+a+"<br><br>",o=s[0]&&s[0].type?this.getHTMLReproduceMotionDragIcon(a,s[0]):"updateDragScatter"==a||"setDimensions"==a?this.$cXI("m_left",!1,!1,!0):"",h=this.prettyJSON(s);h.length>200&&(h=h.substring(0,250)+"..."),n+="<b>Parameters:</b> "+o+'<pre class="CanvasXpressCode">'+h+"</pre><br>";var l=this.prettyJSON(r);l.length>200&&(l=h.substring(0,250)+"..."),n+='<b>Config:</b> <pre class="CanvasXpressCode">'+l+"</pre><br>",this.reproduceMotionCurrentDiv&&this.closeTooltipDiv(!1,this.reproduceMotionCurrentDiv.id),this.reproduceMotionCurrentDiv=e?this.showTooltipDiv(!1,n,!1,!1,this.width+1,-2):this.flashInfoSpan(this.width+1,-2,n)}else this.flashInfoSpan(this.width/2,this.height/2,"<b>That's All Folks</b>",2e3)},this.reproduceMotionDrag=function(t){if(this.motioningOn){this.reproduceMotionCode(t);var e=window.document,i=e.scrollingElement,a=this.$(this.target).parentNode.getClientRects(),s=this.$(this.target+"-cX-Drag"),r=this.$(this.target+"-cX-Icon-Reproduce");r||(r=this.$cXI("tm_history",{id:this.target+"-cX-Icon-Reproduce",src:"tm_history"},{display:"none",position:"absolute",zIndex:239010}),e.body.appendChild(r));var n=CanvasXpress.stack[this.target].afterRender[t];if(!(n&&n[1]&&n[1][0]&&n[1][0].type))return void this.resetReproduceDragDiv();var o=n[0],h=n[1]||[],l=n[2]||{},c=!!(h[0]&&h[0].type&&h[0].type.match(/wheel/)),d=.95*this.reproduceTime,p=(i.scrollLeft||0)+a[0].left-16,g=(i.scrollTop||0)+a[0].top-16;if(c)this.resetReproduceDragDiv(),this.reproduceMotionDragOn=!0,this.$cXIU(r,"m_wheel",!1,{left:p+h[0].ac.x+"px",top:g+h[0].ac.y+"px",width:"24px",height:"24px",display:"block",position:"absolute"});else if("updateDragScatter"!=o&&"setDimensions"!=o){this.reproduceMotionDragOn=!0;var u=this.getDragDivDimensions(o,h,l);this.$cXIU(r,"m_left",!1,{left:p+u[8]+"px",top:g+u[9]+"px",width:"24px",height:"24px",display:"block",position:"absolute"}),s.style.left=u[0]+"px",s.style.top=u[1]+"px",s.style.width=u[2]+"px",s.style.height=u[3]+"px",s.style.display="block",this.resizeMove(s,u[4]+16,u[5],u[6],u[7],d),this.resizeMove(r,p+u[10]+16,g+u[11],32,32,d)}}},this.reproduceMotionDataToIdx=function(t,e,i){var a=CanvasXpress.stack[this.target].afterRender.length-1,s=null!=e?e:1;if(s!=t||t!=a){this.showMask(),i||this.initializeDataReproduceMotion();for(var r=s;r<=t;r++)if(r!=this.motionObject.currentIdx){var n=this.showTransition,o=CanvasXpress.stack[this.target].afterRender[r],h=o[0],l=o[1]||[],c=o[2]||{};for(var d in c)this[d]=c[d];"createHistogram"==h&&(this.isDOE=!1),this.reproducing=!0,this.showTransition=!1,this.updateMotionSelection(r),this.skipStack=!0,this[h].apply(this,l),this.skipStack=!1,this.reproduceMotionDrag(r+1),this.showTransition=n}this.hideMask()}},this.clickMotion=function(t){return function(e,i,a){if(a)for(var s=0;s<t.motionObject.levels.length;s++)t.updateReproducing(s),t.print(!1,(t.saveFilename?t.saveFilename:"cX-"+t.target)+"-"+s+".png");else if(e||i){var r=t.$(t.target+"-cX-MotionPlay");if(t.motioningOn)return t.$cXIU(r,"v_play"),void(t.motioningOnStop=!0);t.$cXIU(r,"v_stop"),t.motionOn=t.reproducing?0:"0px",t.motioningOn=!0,t.motioningOnStop=!1;var n=t.motionControlWidth,o=n/t.motionObject.levels.length,h=t.motionObject.last||0;t.reproducing&&t.updateMotionSelection(t.motionObject.lastSelection||0),0==h&&(t.resetSelected(e,!0),t.meta.ids={});t.reproducing&&!t.motionObject.initialized&&(t.initializeDataReproduceMotion(),t.motionObject.initialized=!0),t.updateMotion(e,h,!1,!0),t.skipStack=!0,t.skipTransition=!0;var l=t.setInterval((function(){if(h>=n||t.motioningOnStop){clearInterval(l);var i=t.setInterval((function(){if((t.reproducing?0:t.motionObject.varIndicesMotion.length)<1)return t.motionOn=!1,t.motioningOn=!1,t.motioningOnStop=!1,t.motionObject.last=h>=n?0:h,t.resetReproduceDragDiv(),clearInterval(i),t.$cXIU(r,"v_play"),t.skipStack=!1,void(t.skipTransition=!1);t.reproducing||(t.motionObject.varIndicesMotion.shift(),t.motionObject.smpIndicesMotion.shift(),t.motionObject.grpIndicesMotion.shift()),t.motioningOnStop||t.updateMotion(e,n,!1,!0)}),t.reproduceTime)}h+=o,t.updateMotion(e,h,!1,!0)}),t.reproduceTime)}}}(this),this.clickMotionSelection=function(t){return function(e){var i=t.getTargetEvent(e);if(i){var a=i.getAttribute("idx");0==a&&(t.resetSelected(e,!0),t.meta.ids={}),t.updateMotionSelection(a),t.updateMotionSelectionScale(a),t.updateReproducing(a),t.reproduceMotionCode(a,!0)}}}(this),this.updateMotionSelection=function(t){var e=this.$(this.target+"-cX-MotionSelection");if(e){var i=parseInt(e.style.maxHeight);e.childNodes[0].childNodes.length>1&&e.childNodes[0].childNodes[1].offsetTop-e.childNodes[0].childNodes[0].offsetTop;for(var a=0;a<e.childNodes[0].childNodes.length;a++){var s=e.childNodes[0].childNodes[a].childNodes[0].childNodes[0];if(s.getAttribute("idx")==t){this.$cXIU(s,"sl_radioon");var r=e.childNodes[0],n=e.childNodes[0].childNodes[a];(n.offsetTop>i-r.scrollTop||n.offsetTop<r.scrollTop)&&(r.scrollTop=n.offsetTop)}else this.$cXIU(s,"sl_radiooff")}this.motionObject.lastSelection=t}},this.updateMotionSelectionScale=function(t){var e=this.$(this.target+"-cX-MotionRange");if(e&&"String"==this.motionObject.type){var i=this.motionControlWidth/(this.motionObject.levels.length-1)*t;e.style.width=i+"px",this.motionObject.last=i}},this.refreshMotionDiv=function(){this.updateMotionIndices([this.motionCache.current],!0),this.motionObject.current=this.motionCache.current;var t=this.$(this.target+"-cX-MotionRange");t&&(t.style.width=parseInt(Number(this.motionControlWidth)*Number(this.motionCache.fraction))+"px"),this.motionObject.setIndices=!1,delete this.motionCache},this.removeMotionDiv=function(t,e){var i=this.$(this.target+"-cX-Motion");if(i){this.reproduceMotionCurrentDiv&&this.closeTooltipDiv(!1,this.reproduceMotionCurrentDiv.id),this.addRemoveMotionListeners("removeEvtListener");var a=this.reproducing?CanvasXpress.stack[this.target].afterRender.length-1:0;t&&(this.motionCache={name:this.motionObject.name,current:(this.motionObject.type,[this.motionObject.current]),fraction:this.motionFraction}),this.reset(!1,!1,e,!0),this.initializeAxis(),a&&this.reproduceMotionDataToIdx(a,this.motionObject.currentIdx),this.skipStack=!1,this.reproducing=!1,delete this.motionObject,i.parentNode.removeChild(i),this.hideMask()}},this.endMotion=function(){return this.motionOn=!1,!1},this.resetReproduceDragDiv=function(){var t=this.$(this.target+"-cX-Icon-Reproduce");t&&(t.style.display="none"),this.reproduceMotionCurrentDiv&&this.closeTooltipDiv(!1,this.reproduceMotionCurrentDiv.id),this.resetDrag(),this.reproduceMotionDragOn=!1},this.resetMotionDiv=function(t){this.motionBy&&!this.disableEvents&&(this.skipStack=!0,this.removeMotionDiv(!1,t),this.addMotionDiv())}},CanvasXpress.prototype.initDraggingEvents=function(){this.getActiveLayout=function(t){if(t){var e={};if(t&&"keydown"==t.type?(e.x=(this.layoutComb?this.layoutParams[0].width:this.width)/2,e.y=(this.layoutComb?this.layoutParams[0].height:this.height)/2):e=this.adjustedCoordinates(t),!this.layoutValid)return{idx:0,row:0,col:0,ac:e};for(var i=e.x,a=e.y,s=0,r=0;r<this.layoutRows;r++)for(var n=0;n<this.layoutCols;n++){if(!(s<this.data.l.weight.length))return!1;var o=this.getBoundsXY(s);if(i>=o[4]&&i<=o[5]&&a>=o[6]&&a<=o[7])return this.layoutValidR=r,this.layoutValidC=n,this.layoutValidN=s,this.layoutValidBounds=o,s={idx:s,row:r,col:n,ac:e,bounds:o};s++}}return!1},this.setActiveLayout=function(t){var e=this.getActiveLayout(t);e&&null!=e.row&&null!=e.col&&null!=e.idx&&(this.layoutValidR=e.row,this.layoutValidC=e.col,this.layoutValidN=e.idx,this.layoutValidBounds=e.bounds)},this.getActiveLayoutIndicesMetadata=function(t){var e=this.getActiveLayout(t);if(e){var i=this.layoutComb?this.layoutParams[e.idx]:this,a=this.cloneObject(i.varIndices),s=this.isGroupedData?this.cloneObject(i.grpIndices):this.cloneObject(i.smpIndices);if(a&&s){this.setOriginalIndices(e.idx,a,s);var r=e.ac.x-(i.offsetX+this.marginLeft+i.left),n=e.ac.y-(i.offsetY+this.marginTop+i.top),o=Math.min(Math.max(r,0),i.x)/i.x,h=2*Math.ceil(a.length/10),l=Math.round(o*h),c=h-l,d=Math.min(Math.max(n,0),i.y)/i.y,p=2*Math.ceil(s.length/10),g=Math.round(d*p),u=p-g;return{ac:e.ac,row:e.row,col:e.col,idx:e.idx,lcx:o,stx:l,edx:c,lcy:d,sty:g,edy:u,vin:a,sin:s}}r=e.ac.x-(i.offsetX+this.marginLeft+i.left),n=e.ac.y-(i.offsetY+this.marginTop+i.top),o=Math.min(Math.max(r,0),i.x)/i.x,d=Math.min(Math.max(n,0),i.y)/i.y;return{ac:e.ac,row:e.row,col:e.col,idx:e.idx,lcx:o,lcy:d}}return!1},this.isDragNotClick=function(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)>2},this.setIndicesAfterWheelEvent=function(t,e){var i,a,s,r,n,o,h,l=!1,c=this.getActiveLayoutIndicesMetadata(t);if(c){var d=this.layoutComb?this.layoutParams[c.idx]:this;if("Correlation"!=this.graphType||this.zoomDisable?"Heatmap"==this.graphType?(i=!this.zoomVariablesDisable&&!this.zoomDisable,a=!this.zoomSamplesDisable&&!this.zoomDisable,s=c.stx,r=c.edx,n=c.sty,o=c.edy,h=!1):this.graphType.match(/Bar|Line|Dotplot|Boxplot|Area|Stacked/)&&!this.zoomDisable&&(i=!1,a=!0,s=!1,r=!1,n="vertical"==this.graphOrientation?c.stx:c.sty,o="vertical"==this.graphOrientation?c.edx:c.edy,h=!0):(i="variables"==this.correlationAxis,a="samples"==this.correlationAxis,s=c.stx,r=c.edx,n=c.stx,o=c.edx,h=!1),e>0){if(i&&c.vin.length>3){d.varIndicesStart<0&&d.varIndicesStart++;for(var p=0;p<s;p++)c.vin.shift(),d.varIndicesStart++;for(p=0;p<r;p++)c.vin.pop();l=!0}if(a&&c.sin.length>3){if(this.isGroupedData){d.grpIndicesStart<0&&d.grpIndicesStart++;for(p=0;p<n;p++)c.sin.shift(),d.grpIndicesStart++}else{d.smpIndicesStart<0&&d.smpIndicesStart++;for(p=0;p<n;p++)c.sin.shift(),d.smpIndicesStart++}for(p=0;p<o;p++)c.sin.pop();l=!0}}else{if(i){for(p=0;p<s;p++)d.varIndicesStart>=0&&d.varIndicesStart+c.vin.length<d.startingVarIndices.length?(c.vin.push(d.startingVarIndices[d.varIndicesStart+c.vin.length]),l=!0):d.varIndicesStart>0&&(d.varIndicesStart--,c.vin.unshift(d.startingVarIndices[d.varIndicesStart]),l=!0);for(p=0;p<r;p++)d.varIndicesStart>0?(d.varIndicesStart--,c.vin.unshift(d.startingVarIndices[d.varIndicesStart]),l=!0):d.varIndicesStart>=0&&d.varIndicesStart+c.vin.length<d.startingVarIndices.length&&(c.vin.push(d.startingVarIndices[d.varIndicesStart+c.vin.length]),l=!0)}if(a)if(this.isGroupedData){for(p=0;p<n;p++)d.grpIndicesStart>=0&&d.grpIndicesStart+c.sin.length<d.startingGrpIndices.length?(c.sin.push(d.startingGrpIndices[d.grpIndicesStart+c.sin.length]),l=!0):d.grpIndicesStart>0&&(d.grpIndicesStart--,c.sin.unshift(d.startingGrpIndices[d.grpIndicesStart]),l=!0);for(p=0;p<o;p++)d.grpIndicesStart>0?(d.grpIndicesStart--,c.sin.unshift(d.startingGrpIndices[d.grpIndicesStart]),l=!0):d.grpIndicesStart>=0&&d.grpIndicesStart+c.sin.length<d.startingGrpIndices.length&&(c.sin.push(d.startingGrpIndices[d.grpIndicesStart+c.sin.length]),l=!0)}else{for(p=0;p<n;p++)d.smpIndicesStart>=0&&d.smpIndicesStart+c.sin.length<d.startingSmpIndices.length?(c.sin.push(d.startingSmpIndices[d.smpIndicesStart+c.sin.length]),l=!0):d.smpIndicesStart>0&&(d.smpIndicesStart--,c.sin.unshift(d.startingSmpIndices[d.smpIndicesStart]),l=!0);for(p=0;p<o;p++)d.smpIndicesStart>0?(d.smpIndicesStart--,c.sin.unshift(d.startingSmpIndices[d.smpIndicesStart]),l=!0):d.smpIndicesStart>=0&&d.smpIndicesStart+c.sin.length<d.startingSmpIndices.length&&(c.sin.push(d.startingSmpIndices[d.smpIndicesStart+c.sin.length]),l=!0)}}l&&this.drawIndicesAfterWheelEvent(t,i,c.vin,a,c.sin,h,c.idx)}},this.drawIndicesAfterWheelEvent=function(t,e,i,a,s,r,n){if(!this.isTransition()){var o=this.layoutComb?this.layoutParams[n]:this;e&&(o.varIndices=i),a&&(r&&this.setSamplesVisible(s,!0),o.isGroupedData?o.grpIndices=s:o.smpIndices=s),this.draw({func:"drawIndicesAfterWheelEvent",par:[t,e,i,a,s,r,n],prop:{varIndicesStart:this.varIndicesStart,smpIndicesStart:this.smpIndicesStart,grpIndicesStart:this.grpIndicesStart}})}},this.setRangesAfterWheelEvent=function(t,e){var i=this.getActiveLayoutIndicesMetadata(t);if(i&&!this.zoomDisable){var a,s,r,n,o=this.layoutComb?this.layoutParams[i.idx]:this,h=i.ac.x>this.marginLeft+o.offsetX+o.left&&i.ac.x<this.marginLeft+o.offsetX+o.left+o.x,l=i.ac.y>this.marginTop+o.offsetY+o.top&&i.ac.y<this.marginTop+o.offsetY+o.top+o.y,c=(o.xAxisMax-o.xAxisMin)*this.zoomStep*i.lcx,d=(o.yAxisMax-o.yAxisMin)*this.zoomStep*i.lcy,p=(o.xAxisMax-o.xAxisMin)*this.zoomStep*(1-i.lcx),g=(o.yAxisMax-o.yAxisMin)*this.zoomStep*(1-i.lcy);e>0?(h&&(a=this.setMinX=null!=o.setMinX?o.setMinX+c:o.xAxisMin+c,s=this.setMaxX=null!=o.setMaxX?o.setMaxX-p:o.xAxisMax-p),l&&"Genome"!=this.graphType&&(r=this.setMinY=null!=o.setMinY?o.setMinY+g:o.yAxisMin+g,n=this.setMaxY=null!=o.setMaxY?o.setMaxY-d:o.yAxisMax-d)):(h&&(a=this.setMinX=null!=o.setMinX?o.setMinX-c:o.xAxisMin-c,s=this.setMaxX=null!=o.setMaxX?o.setMaxX+p:o.xAxisMax+p),l&&"Genome"!=this.graphType&&(r=this.setMinY=null!=o.setMinY?o.setMinY-g:o.yAxisMin-g,n=this.setMaxY=null!=o.setMaxY?o.setMaxY+d:o.yAxisMax+d),this.graphType.match(/Scatter/)&&a<o.xAxisMin&&(a=o.xAxisMin,s=o.xAxisMax),this.graphType.match(/Scatter/)&&r<o.yAxisMin&&(r=o.yAxisMin,n=o.yAxisMax)),(a<=o.xAxisAbsMin||s>=o.xAxisAbsMax||r<=o.yAxisAbsMin||n>=o.yAxisAbsMax)&&e<0&&"Genome"!=this.graphType&&(this.setMinX=null,this.setMaxX=null,this.setMinY=null,this.setMaxY=null),"Infinity"!=o.setMinX&&"Infinity"!=o.setMaxX||(this.setMinX=a,this.setMaxX=s),"Infinity"!=o.setMinY&&"Infinity"!=o.setMaxY||(this.setMinY=r,this.setMaxY=n),this.drawRangesAfterWheelEvent(this.setMinX,this.setMaxX,this.setMinY,this.setMaxY,i.idx)}},this.drawRangesAfterWheelEvent=function(t,e,i,a,s){if(!this.isTransition()){if(this.scatterPlotMatrix&&(this.scatterPlotMatrixType.match(/correlation|all/)||"axis"==this.layoutAdjust))for(var r=0,n=0;n<this.layoutRows;n++)for(var o=0;o<this.layoutCols;o++){var h=this.layoutParams[r];n==this.layoutValidR&&(h.setMinY=i,h.setMaxY=a),o==this.layoutValidC&&(h.setMinX=t,h.setMaxX=e),r++}else(h=this.layoutComb?this.layoutParams[s]:this).setMinX=t,h.setMaxX=e,h.setMinY=i,h.setMaxY=a;this.draw({func:"drawRangesAfterWheelEvent",par:[t,e,i,a,s]})}},this.setIndicesAfterPannEvent=function(t,e){var i,a,s=0,r=this.layoutComb?this.layoutParams[this.layoutValidN||0]:this,n=this.cloneObject(r.varIndices),o=r.isGroupedData?this.cloneObject(r.grpIndices):this.cloneObject(r.smpIndices),h=this.draggingOn?Math.max(1,Math.floor(n.length/10)):1,l=this.draggingOn?Math.max(1,Math.floor(o.length/10)):1;if(this.setOriginalIndices(this.layoutComb?this.layoutValidN:0,n,o),"Correlation"==this.graphType)switch(s=1,e){case 37:a=r.varIndicesStart>0?3:r.smpIndicesStart>0?4:1;break;case 39:a=r.varIndicesStart>-1?5:r.smpIndicesStart>-1?6:1}else"Heatmap"==this.graphType?s=2:this.graphType.match(/Bar|Line|Dotplot|Boxplot|Area|Stacked/)&&(s=3);switch(e){case 33:i=1==s?1:2==s||3==s?4:1;break;case 34:i=1==s?1:2==s||3==s?6:1;break;case 35:i=1;break;case 36:i=1==s?1:2==s?2:1;break;case 37:i=1==s?a:2==s?3:3==s?4:1;break;case 38:i=1==s?1:2==s||3==s?4:1;break;case 39:i=1==s?a:2==s?5:3==s?6:1;break;case 40:i=1==s?1:2==s||3==s?6:1}var c=!1;if(1==i)return!1;if(2==i)r.varIndicesStart=-1,r.smpIndicesStart=-1,r.grpIndicesStart=-1,r.varIndices=r.startingVarIndices,r.isGroupedData?r.grpIndices=r.startingGrpIndices:r.smpIndices=r.startingSmpIndices,c=!0;else if(3==i)for(var d=0;d<h;d++)r.varIndicesStart>0&&(n.unshift(r.startingVarIndices[r.varIndicesStart-1]),n.pop(),r.varIndicesStart--,c=!0);else if(4==i)if(this.isGroupedData)for(d=0;d<l;d++)r.grpIndicesStart>0&&(o.unshift(r.startingGrpIndices[r.grpIndicesStart-1]),o.pop(),r.grpIndicesStart--,c=!0);else for(d=0;d<l;d++)r.smpIndicesStart>0&&(o.unshift(r.startingSmpIndices[r.smpIndicesStart-1]),o.pop(),r.smpIndicesStart--,c=!0);else if(5==i)for(d=0;d<h;d++)r.varIndicesStart>-1&&r.varIndicesStart+n.length<r.startingVarIndices.length&&(n.push(r.startingVarIndices[r.varIndicesStart+n.length]),n.shift(),r.varIndicesStart++,c=!0);else if(6==i)if(this.isGroupedData)for(d=0;d<l;d++)r.grpIndicesStart>-1&&r.grpIndicesStart+o.length<r.startingGrpIndices.length&&(o.push(r.startingGrpIndices[r.grpIndicesStart+o.length]),o.shift(),r.grpIndicesStart++,c=!0);else for(d=0;d<l;d++)r.smpIndicesStart>-1&&r.smpIndicesStart+o.length<r.startingSmpIndices.length&&(o.push(r.startingSmpIndices[r.smpIndicesStart+o.length]),o.shift(),r.smpIndicesStart++,c=!0);c&&this.drawIndicesAfterPannEvent(t,n,o,this.layoutValidN||0)},this.setRangesAfterPannEvent=function(t,e){var i=this.getActiveLayoutIndicesMetadata(t);if(i){var a=this.layoutComb?this.layoutParams[i.idx]:this,s=a.xAxisRange*this.zoomStep,r=a.yAxisRange*this.zoomStep;switch(e){case 37:this.setMinX-=s,this.setMaxX-=s;break;case 38:this.setMinY+=r,this.setMaxY+=r;break;case 39:this.setMinX+=s,this.setMaxX+=s;break;case 40:this.setMinY-=r,this.setMaxY-=r}var n=this.showTransition;this.showTransition=!1,this.drawRangesAfterWheelEvent(this.setMinX,this.setMaxX,this.setMinY,this.setMaxY,i.idx),this.showTransition=n}},this.drawIndicesAfterPannEvent=function(t,e,i,a){if(!this.isTransition()){var s=this.layoutComb?this.layoutParams[a]:this;s.varIndices=e,s.isGroupedData?s.grpIndices=i:s.smpIndices=i,this.draw({func:"drawIndicesAfterPannEvent",par:[t,e,i,a],prop:{varIndicesStart:this.varIndicesStart,smpIndicesStart:this.smpIndicesStart,grpIndicesStart:this.grpIndicesStart}})}},this.addDragDiv=function(){if(!this.$(this.target+"-cX-Drag")){var t=this.$cX("div",{id:this.target+"-cX-Drag",className:"CanvasXpressDrag"},{width:"0px",height:"0px",zIndex:9e3});this.meta.canvas.ctx.canvas.parentNode.appendChild(t)}},this.addDragDivLayout=function(){if(!this.$(this.target+"-cX-Drag-Layout")){var t=this.$cX("div",{id:this.target+"-cX-Drag-Layout",className:"CanvasXpressDragLayout"},{width:"0px",height:"0px",zIndex:8900});this.meta.canvas.ctx.canvas.parentNode.appendChild(t)}},this.registerDragNetwork=function(t){var e,i,a,s=this.isEventIndices(t),r=this.getTargetEvent(t),n=t.shiftKey,o=this.adjustBackNetworkObjectX(this.xMouseDown),h=this.adjustBackNetworkObjectY(this.yMouseDown);if(s){var l=this.isArray(s)?s[0].toString():s.toString();if(l&&l.match(/-lab$/)?(n&&(i=!0),e=l.split("-")[0]):l&&l.match(/-dec$/)?n?(e=l.split("-")[0],a=!0):(this.resetDrag(t),this.resetFlags(t)):l&&l.match(/-elbow$/)?(s=l.replace("-elbow","").split(","),r.style.cursor="move",this.moveEdge=!0,this.moveEdgeIndex=s[0]-this.data.nodes.length,this.moveEdgeElbow=s[1]):l&&l.match(/-resize/)?(e=l.split("-")[0],this.resizeNode=l.split("-resize")[1]):e=s,this.moveEdge){var c=this.data.edges[this.moveEdgeIndex].elbows[this.moveEdgeElbow];this.moveEdgeX=c[0]-o,this.moveEdgeY=c[1]-h}else if(!isNaN(e)&&e<this.data.nodes.length){r.style.cursor="move",this.moveNode=!0,this.moveNodeIndex=e,i?this.moveNodeLab=!0:a&&(this.moveNodeDec=!0);var d=this.data.nodes[this.moveNodeIndex];this.moveNodeW=d.width?d.width:d.size?this.nodeSize*d.size:this.nodeSize,this.moveNodeH=d.height?d.height:d.size?this.nodeSize*d.size:this.nodeSize,this.moveNodeLab?(this.moveNodeX=null!=d.labelX?d.labelX-o:d.labelXi-o,this.moveNodeY=null!=d.labelY?d.labelY-h:d.labelYi-h):this.moveNodeDec?(this.moveNodeX=null!=d.decorationsX?d.decorationsX-o:d.decorationsXi-o,this.moveNodeY=null!=d.decorationsY?d.decorationsY-h:d.decorationsYi-h):(this.moveNodeX=d.x-o,this.moveNodeY=d.y-h)}}},this.registerDragGenome=function(t){var e=this.isEventIndices(t,!0);e&&isNaN(e[0][0])?this.moveGenome=e[0][0]:this.moveGenome=!1},this.registerDragCircular=function(t){var e=this.isEventIndices(t,!0);this.moveCircular=!!e&&{id:e,x:this.cx,y:this.cy,ac:this.adjustedCoordinates(t),ring:e[0].toString().match("Ring")?Number(e[0].toString().split(":")[1]).toString():null}},this.registerDragScatter=function(t){var e=this.isEventIndices(t,!0),i=this.xMouseDown,a=this.yMouseDown;e&&this.isArray(e)&&(e=e[0].toString()),e&&e.match(/-legend-/)&&(e.match(/-legend-sample/)?(ml="legendSample",mx=this.legendSampleCurX-i,my=this.legendSampleCurY-a):e.match(/-legend-variable/)?(ml="legendVariable",mx=this.legendVariableCurX-i,my=this.legendVariableCurY-a):e.match(/-legend-indicator-color/)?(ml="legendColorIndicator",t.shiftKey?this.resizeLegend=!0:(mx=this.legendColorIndicatorCurX-i,my=this.legendColorIndicatorCurY-a)):e.match(/-legend-color/)?(ml="legendColor",mx=this.legendColorCurX-i,my=this.legendColorCurY-a):e.match(/-legend-size/)?(ml="legendSize",mx=this.legendSizeCurX-i,my=this.legendSizeCurY-a):e.match(/-legend-shape/)?(ml="legendShape",mx=this.legendShapeCurX-i,my=this.legendShapeCurY-a):e.match(/-legend-pattern/)?(ml="legendPattern",mx=this.legendPatternCurX-i,my=this.legendPatternCurY-a):e.match(/-legend-oncoprint/)?(ml="legendOncoprint",mx=this.legendOncoprintCurX-i,my=this.legendOncoprintCurY-a):e.match(/-legend-decoration/)?(ml="legendDecoration",mx=this.legendDecorationCurX-i,my=this.legendDecorationCurY-a):(ml=this.moveLegend,mx=this.moveLegendX,my=this.moveLegendY),this.moveLegend=ml,this.moveLegendX=mx,this.moveLegendY=my)},this.isLegend=function(t){var e=this.isEventIndices(t);e&&!this.isArray(e)&&e.match(/legend/)&&this.registerDragScatter(t)},this.isMarkerDrag=function(t,e,i){var a=this.isEventIndices(t);if(a&&this.isArray(a)&&a[0].toString().match(/^Marker/)){var s=a[0].split(":");this.skipClick=!1,this.draggingOn=!0,this.xMouseDown=e,this.yMouseDown=i;var r=this.getMarker(s[1]);r&&(this.moveMarker=s[1],this.moveMarkerX=r.curX-e,this.moveMarkerY=r.curY-i,this.draw({func:"isMarkerDrag",par:[t,e,i],prop:{moveMarker:this.moveMarker}}))}},this.registerSankey=function(t,e,i){var a=this.isEventIndices(t,!0);if(a&&a[0]&&a[0].toString().match(/^Sankey/)){var s=a[0].toString().split(":"),r=this.data.sankey.nodes[s[2]];this.skipClick=!1,this.draggingOn=!0,this.xMouseDown=e,this.yMouseDown=i,this.moveSankey=r,this.moveSankeyId=s[2],this.moveSankeyMin=r.y,this.moveSankeyX=r.x,this.moveSankeyY=i;for(var n=[],o=0;o<this.data.sankey.nodes.length;o++){var h=this.data.sankey.nodes[o];h.breadth==this.moveSankey.breadth&&n.push({idx:o,id:h.id,y:h.y,dy:h.dy})}this.moveSankeyOrder=n.sort((function(t,e){return t.y-e.y}))}},this.registerMap=function(t,e,i){this.skipClick=!1,this.draggingOn=!0,this.xMouseDown=e,this.yMouseDown=i,this.moveMap=!0},this.registerDrag=function(t){if(this.isCanvasResize(t))this.resizingCanvasOn=!0;else{if(this.isDOE){var e=this.getTargetEvent(t),i=t.shiftKey;return(a=this.adjustedCoordinates(t))&&(this.xMouseDown=a.x,this.yMouseDown=a.y,this.skipClick=!0),!1}if(!t)return!1;this.touches||(this.touches=[]);var a;e=this.getTargetEvent(t),i=t.shiftKey;if(a=this.adjustedCoordinates(t)){CanvasXpress.current=e.id;for(var s=a.x,r=a.y,n=0,o=0;o<this.layoutRows;o++)for(var h=0;h<this.layoutCols;h++){if(!this.layoutComb||n<this.data.l.weight.length){var l=this.layoutComb?this.layoutParams[n].graphType:this.graphType,c=this.getBoundsXY(n);if(this.isMarkerDrag(t,s,r),this.moveMarker)return!1;if(l.match(/Pie|Venn|Stacked|Area|Treemap|TagCloud|ParallelCoordinates|Tree|Gantt|Meter|Fish/)){if(!CanvasXpress.system.isTouchScreen)return this.isLegend(t),!1;if(s>=c[0]&&s<=c[1]&&r>=c[2]&&r<=c[3]||this.moveGenome)return this.skipClick=!1,this.draggingOn=!0,this.xMouseDown=s,this.yMouseDown=r,t.touches&&(this.touches[0]=this.cleanTouchEvent(t.touches[0])),!1}else if("Genome"==l)this.registerDragGenome(t);else if("Circular"==l)this.registerDragCircular(t);else{if("Sankey"==l)return this.registerSankey(t,s,r),!1;if("Map"==l)return this.registerMap(t,s,r),!1}if(s>=c[0]&&s<=c[1]&&r>=c[2]&&r<=c[3]||this.moveGenome){if(this.skipClick=!1,this.draggingOn=!0,this.xMouseDown=s,this.yMouseDown=r,t.touches&&(this.touches[0]=this.cleanTouchEvent(t.touches[0])),"Correlation"==l)return!1;if(l.match(/Scatter/)){if(this.lassoSelected)return void(this.lassoPoints=[[s],[r]]);if(this.registerDragScatter(t),this.moveLegend)return!1}if(!l.match(/Network|Genome|Venn|Correlation|Scatter/)&&(this.isLegend(t),this.moveLegend))return!1;var d=this.$(this.target+"-cX-Drag");return"Network"==l&&this.registerDragNetwork(t),!l.match(/Scatter|Heatmap|Network|Genome|Circular/)&&"vertical"==this.graphOrientation&&!i||!l.match(/Scatter|Heatmap|Network|Genome|Circular/)&&"vertical"!=this.graphOrientation&&i?d.style.left=c[0]+"px":d.style.left=this.xMouseDown+"px",!l.match(/Scatter|Heatmap|Network|Genome|Circular/)&&"vertical"!=this.graphOrientation&&!i||!l.match(/Scatter|Heatmap|Network|Genome|Circular/)&&"vertical"==this.graphOrientation&&i||"Genome"==l?d.style.top=c[2]+"px":d.style.top=this.yMouseDown+"px",this.layoutValid&&(this.layoutValidR=o,this.layoutValidC=h,this.layoutValidN=n,this.layoutValidBounds=c),!1}if(s>=c[4]&&s<=c[5]&&r>=c[6]&&r<=c[7]){var p=this.isEventIndices(t);if(p){if(this.skipClick=!1,this.draggingOn=!0,this.xMouseDown=s,this.yMouseDown=r,t.touches&&(this.touches[0]=this.cleanTouchEvent(t.touches[0])),"Correlation"==l)return!1;if(l.match(/Scatter/)){if(this.lassoSelected)return void(this.lassoPoints=[[s],[r]]);if(this.registerDragScatter(t),this.moveLegend)return!1}if(!l.match(/Network|Genome|Venn|Correlation|Scatter/)&&(this.isLegend(t),this.moveLegend))return!1;d=this.$(this.target+"-cX-Drag");return p[0].toString().match(/^varDendrogram|^smpDendrogram/)?(this.moveDendrogram=p[0].split(":")[0],e.style.cursor="move",p[0].match(/^varDendrogram/)||p[0].match(/^smpDendrogram/)&&"vertical"==this.graphOrientation?(d.style.left=c[4]+"px",d.style.width=c[5]-c[4]+"px",d.style.height="3px"):(d.style.width="3px",d.style.top=c[6]+"px",d.style.height=c[7]-c[6]+"px")):p[0].toString().match("SmpOverlay")?(this.moveSmpOverlay=p[0],e.style.cursor="move",l.match(/Heatmap/)||"horizontal"==this.graphOrientation?(d.style.width="3px",d.style.top=c[6]+"px",d.style.height=c[7]-c[6]+"px"):(d.style.left=c[4]+"px",d.style.width=c[5]-c[4]+"px",d.style.height="3px")):p[0].toString().match("Smp")?(this.moveSmp=p[0],e.style.cursor="move",l.match(/Heatmap/)||"horizontal"==this.graphOrientation?(d.style.left=c[4]+"px",d.style.width=c[5]-c[4]+"px",d.style.height="3px"):(d.style.width="3px",d.style.top=c[6]+"px",d.style.height=c[7]-c[6]+"px")):p[0].toString().match("VarOverlay")?(this.moveVarOverlay=p[0],e.style.cursor="move",d.style.left=c[4]+"px",d.style.width=c[5]-c[4]+"px",d.style.height="3px"):p[0].toString().match("Var")&&(this.moveVar=p[0],e.style.cursor="move",d.style.width="3px",d.style.top=c[6]+"px",d.style.height=c[7]-c[6]+"px"),!1}}}n++}return!1}}},this.updateDragCircular=function(t,e,i,a,s,r){if(!this.isTransition()){if(this.moveCircular){a=this.moveCircular;var n=this.ringInfo;if(null!=a.ring){for(var o,h=n.length-1,l=(n[a.ring],this.euclidianDistance([a.x,a.y],[e,i])),c=h;c>=0;c--)if(n[c]>l){o=c,a.last=c.toString();break}var d=this.$(this.target+"-cX-Drag");d&&(d.style.width=2*n[o]+"px",d.style.height=2*n[o]+"px",d.style.left=a.x-(n[o]+3)+"px",d.style.top=a.y-(n[o]+3)+"px",d.style.borderRadius="50%",d.style.backgroundColor="rgba(0,0,0,0)",d.style.border="3px solid black")}else{var p=180*Math.atan2(s-this.cx,r-this.cy)/Math.PI+this.circularRotate-180*Math.atan2(e-this.cx,i-this.cy)/Math.PI;this.circularRotate=p}}else this.panningX-=this.xMouseDown-e,this.panningY-=this.yMouseDown-i;this.xMouseDown=e,this.yMouseDown=i,this.skipTransition=!0,this.draw({func:"updateDragCircular",par:[t,e,i,a,s,r],prop:{circularRotate:this.circularRotate,moveCircular:this.moveCircular,panningX:this.panningX,panningY:this.panningY,xMouseDown:this.xMouseDown,yMouseDown:this.yMouseDown}}),this.skipClick=!0}},this.updateDragScatter3D=function(t,e,i,a,s){if(!this.isTransition()){var r=a,n=s,o=t,h=e,l=this.layoutComb?this.layoutParams[i].x:this.x,c=this.layoutComb?this.layoutParams[i].y:this.y,d=(o-r)*this.rotationSensitivity/l,p=(h-n)*this.rotationSensitivity/c;this.xRotate-=d,this.yRotate+=p,this.xMouseDown=t,this.yMouseDown=e,this.skipTransition=!0,this.draw({func:"updateDragScatter3D",par:[t,e,i,a,s]})}},this.updateDragScatter=function(t,e){if(!this.isTransition()){if(this.lassoSelected)this.lassoPoints[0].push(t),this.lassoPoints[1].push(e);else if(this.resizeLegend){var i=t-this.xMouseDown,a=e-this.yMouseDown;this.heatmapIndicatorWidth+=parseInt(i/10),this.heatmapIndicatorHeight+=parseInt(a/10),this.heatmapIndicatorWidth=Math.max(10,this.heatmapIndicatorWidth),this.heatmapIndicatorHeight=Math.max(10,this.heatmapIndicatorHeight)}else{var s=this.moveLegend;i=this[s+"CurX"]-t-this.moveLegendX,a=this[s+"CurY"]-e-this.moveLegendY;this[s+"CurX"]-=i,this[s+"CurY"]-=a,this[s+"X"]=this[s+"CurX"],this[s+"Y"]=this[s+"CurY"]}this.skipTransition=!0,this.lassoSelected||this.draw({func:"updateDragScatter",par:[t,e],prop:{moveLegend:this.moveLegend,moveLegendX:this.moveLegendX,moveLegendY:this.moveLegendY,moveLegendCurX:this.moveLegendCurX,moveLegendCurY:this.moveLegendCurY}}),this.skipClick=!0}},this.updateDragNetwork=function(t,e,i){if(!this.isTransition()){var a,s,r,n,o,h,l,c,d,p,g,u,m,f,y,x={},b=this.data,v=this.moveNodeX,A=this.moveNodeY,w=this.moveNodeW,C=this.moveNodeH,T=t.shiftKey,S=t.ctrlKey;this.movingOn=!0;var D=this.adjustBackNetworkObjectX(e),M=this.adjustBackNetworkObjectY(i),k=this.getTargetEvent(t),L=this.adjustNetworkMouseDownX(e),I=this.adjustNetworkMouseDownY(i);if(k&&(k.style.cursor=T?"se-resize":"move"),this.moveNode||this.moveEdge||this.moveLegend){if(this.moveLegend)h=b.legend,this.moveLegend.match("Text")?(B=parseInt(this.moveLegend.replace("Text","")),s=h.text[B].x-D-this.moveLegendX,r=h.text[B].y-M-this.moveLegendY,h.text[B].x-=s,h.text[B].y-=r):(B=this.moveLegend.toLowerCase(),s=h.pos[B].x-D-this.moveLegendX,r=h.pos[B].y-M-this.moveLegendY,h.pos[B].x-=s,h.pos[B].y-=r);else if(b.edges[this.moveEdgeIndex])s=(l=b.edges[this.moveEdgeIndex].elbows[this.moveEdgeElbow])[0]-D-this.moveEdgeX,r=l[1]-M-this.moveEdgeY,this.modifyXYEdgeElbow(this.moveEdgeIndex,this.moveEdgeElbow,s,r);else if(b.nodes[this.moveNodeIndex])if(a=b.nodes[this.moveNodeIndex],this.moveNodeLab)s=null!=a.labelX?a.labelX-D-v:a.labelXi-D-v,r=null!=a.labelY?a.labelY-M-A:a.labelYi-M-A,this.modifyXYNodeLab(a.id,s,r);else if(this.moveNodeDec)s=null!=a.decorationsX?a.decorationsX-D-v:a.decorationsXi-D-v,r=null!=a.decorationsY?a.decorationsY-M-A:a.decorationsYi-M-A,this.modifyXYNodeDec(a.id,s,r);else if(s=a.x-D-v,r=a.y-M-A,T&&!t.ctrlKey)for(var B in n=w-s+L,o=C-r+I,this.modifyNodeSize(a.id,Math.abs(n),Math.abs(o)),CanvasXpress.selector.nodes)B!=a.id&&this.modifyNodeSize(B,n,o);else{if(this.resizeNode){switch(d=null!=a.rotate?a.rotate:0,this.resizeNode){case"ROT":d=180-180*Math.atan2(D-a.x,M-a.y)/Math.PI,n=w,o=C,s=0,r=0;break;case"TL":n=T?w-s+L:w-L,o=T?C-r+I:C-I,s+=L/2,r+=I/2;break;case"TR":n=T?w-s+L:w+L,o=T?C-r+I:C-I,s+=L/2,r+=I/2;break;case"BL":n=T?w-s+L:w-L,o=T?C-r+I:C+I,s+=L/2,r+=I/2;break;case"BR":n=T?w-s+L:w+L,o=T?C-r+I:C+I,s+=L/2,r+=I/2;break;case"TM":n=T?w-s+L:w,o=T?C-r+I:C-I,s=0,r+=I/2;break;case"BM":n=T?w-s+L:w,o=T?C-r+I:C+I,s=0,r+=I/2;break;case"ML":n=T?w-s+L:w-L,o=T?C-r+I:C,s+=L/2,r=0;break;case"MR":n=T?w-s+L:w+L,o=T?C-r+I:C,s+=L/2,r=0}p=this.getNodeWidth(a),g=this.getNodeHeight(a),u=Math.abs(n)/p,m=Math.abs(o)/g,f=(Math.abs(n)-p)/2,y=(Math.abs(o)-g)/2}if(c=this.findParentNodes(a.id),"radial"!=this.networkLayoutType&&(this.moveParentsWithChildren&&!T&&!S||!this.moveParentsWithChildren&&T&&S)&&c&&(a=b.nodes[b.nodeIndices[c[0]]]),this.modifyXYNode(a.id,s,r),null!=a.community&&this.networkConvexHulls[a.community].nodes&&S)for(var N=0;N<this.networkConvexHulls[a.community].nodes.length;N++)if(this.networkConvexHulls[a.community].nodes[N]!=this.moveNodeIndex){var F=b.nodes[this.networkConvexHulls[a.community].nodes[N]];this.modifyXYNode(F.id,s,r)}if(null!=d&&(a.rotate=d),CanvasXpress.selector.nodes.hasOwnProperty(a.id)||S){if(S&&!CanvasXpress.selector.nodes.hasOwnProperty(a.id)&&this.addRemoveToSelected({nodes:[a]},!1,t),x[a.id]=!0,c=this.findChildrenNodeIndices(a.id))for(N=0;N<c.length;N++)x[b.nodes[c[N]].id]=!0;for(var B in CanvasXpress.selector.nodes)if(!x.hasOwnProperty(B)){F=b.nodes[b.nodeIndices[B]];if(c=this.findParentNodes(F.id),"radial"!=this.networkLayoutType&&(this.moveParentsWithChildren&&!T&&!S||!this.moveParentsWithChildren&&T&&S)&&c&&(F=b.nodes[b.nodeIndices[c[0]]]),this.resizeNode){switch(p=this.getNodeWidth(F),g=this.getNodeHeight(F),this.resizeNode){case"ROT":f=0,y=0}this.modifyXYNode(F.id,-f,-y)}else this.modifyXYNode(F.id,s,r);if(x[F.id]=!0,c=this.findChildrenNodeIndices(F.id),null!=d&&(F.rotate=d),c)for(N=0;N<c.length;N++)x[b.nodes[c[N]].id]=!0}}else this.resetSelected(t);if(this.resizeNode)for(var B in this.modifyNodeSize(a.id,Math.abs(n),Math.abs(o)),CanvasXpress.selector.nodes)if(B!=a.id){F=b.nodes[b.nodeIndices[B]];this.modifyNodeSize(B,this.getNodeWidth(F)*u,this.getNodeHeight(F)*m)}}}else this.panningX=L,this.panningY=I;this.skipClick=null!=s||null!=r,this.skipTransition=!0,this.draw({network:!0,func:"updateDragNetwork",par:[t,e,i],prop:{moveLegend:this.moveLegend,moveLegendX:this.moveLegendX,moveLegendY:this.moveLegendY,moveEdge:this.moveEdge,moveEdgeIndex:this.moveEdgeIndex,moveEdgeElbow:this.moveEdgeElbow,moveNode:this.moveNode,moveNodeIndex:this.moveNodeIndex,moveNodeLab:this.moveNodeLab,moveNodeDec:this.moveNodeDec,moveNodeW:this.moveNodeW,moveNodeH:this.moveNodeH,moveNodeX:this.moveNodeX,moveNodeY:this.moveNodeY,xMouseDown:this.xMouseDown,yMouseDown:this.yMouseDown}}),this.is3DNetwork&&a&&(this.moveNodeIndex=b.nodeIndices[a.id])}},this.updateDragGenome=function(t,e){if(!this.isTransition())if(this.moveGenome){this.movingOn=!0,(i=this.$(this.target+"-cX-Drag")).style.left="0px",i.style.width=this.width+"px",i.style.top=e+"px",i.style.height="3px"}else{var i=(t-this.xMouseDown)/this.xAxisUnit;null==this.setMinX&&(this.setMinX=this.xAxisMin),null==this.setMaxX&&(this.setMaxX=this.xAxisMax),this.setMinX-=i,this.setMaxX-=i,this.skipTransition=!0,this.draw({func:"updateDragGenome",par:[t,e],prop:{moveGenome:this.moveGenome,setMinX:this.setMinX,setMaxX:this.setMaxX,xMouseDown:this.xMouseDown}}),this.xMouseDown=t}},this.updateDragMap=function(t,e){this.isTransition()||this.moveMap&&(this.panningX-=this.xMouseDown-t,this.panningY-=this.yMouseDown-e,this.xMouseDown=t,this.yMouseDown=e,this.skipTransition=!0,this.draw({func:"updateDragMap",par:[t,e],prop:{moveMap:this.moveMap,panningX:this.panningX,panningY:this.panningY,xMouseDown:this.xMouseDown,yMouseDown:this.yMouseDown}}),this.skipClick=!0)},this.updateDragMarker=function(t,e){if(!this.isTransition()){var i=this.getMarker(this.moveMarker),a=i.curX-t,s=i.curY-e;i.curX-=a,i.curY-=s,this.moveMarkerX=i.curX,this.moveMarkerY=i.curY,i.x=Math.max(.01,Math.min(i.curX*i.x/(i.b[0]+i.x*i.b[2]),1)),i.y=Math.max(.01,Math.min(i.curY*i.y/(i.b[1]+i.y*i.b[3]),1)),this.skipTransition=!0,this.drawMarkers(!0),this.skipClick=!0}},this.resetSankey=function(){delete this.moveSankey,delete this.moveSankeyId,delete this.moveSankeyY,delete this.moveSankeyMin,delete this.moveSankeyOrder},this.updateDragSankey=function(t,e){this.moveSankey=this.data.sankey.nodes[this.moveSankeyId];var i=Math.max(-this.moveSankey.y,Math.min(this.y-(this.moveSankey.y+this.moveSankey.dy),e-this.moveSankeyY));this.moveSankey.y+=i,this.moveSankeyY=e,this.resortSankey()},this.resortSankey=function(t){if(!this.isTransition()){var e=[],i=this.moveSankeyMin,a=0;this.moveSankey=this.data.sankey.nodes[this.moveSankeyId];for(var s=0;s<this.data.sankey.nodes.length;s++){(r=this.data.sankey.nodes[s]).breadth==this.moveSankey.breadth&&(e.push({idx:s,id:r.id,y:r.y,dy:r.dy}),i=Math.min(i,r.y),a+=r.dy+this.margin)}if(i+a-this.margin>this.y&&(i=this.y-(a-this.margin)),e.sort((function(t,e){return t.y-e.y})),(this.reproducing||this.afterRendering)&&(e=this.moveSankeyOrder),!this.isSameObject(e,this.moveSankeyOrder)||t)for(s=0;s<e.length;s++){var r;((r=this.data.sankey.nodes[e[s].idx]).id!=this.moveSankey.id||t)&&(r.y=i),i+=r.dy+this.margin}this.data.sankey.object.relayout(),this.skipStack=!!this.reproducing||!t,this.draw({func:"resortSankey",par:[t],prop:{moveSankeyId:this.moveSankeyId,moveSankeyY:this.moveSankeyY,moveSankeyMin:i,moveSankeyOrder:e}}),this.skipStack=!1}},this.updateDrag=function(t){if(this.draggingOn){var e=this;if(this.resetOn)return this.resetOn=!1,void this.stopEvent(t);var i=t.shiftKey,a=t.ctrlKey,s=t.altKey,r=this.adjustedCoordinates(t);if(r){this.touchEvent="drag";var n=r.x,o=r.y,h=(this.layoutValidR,this.layoutValidC,this.layoutValidN||0),l=(this.layoutValidBounds,(e=this.layoutComb?this.layoutParams[h]:this).graphType);if("Scatter3D"!=l&&!this.lassoSelected&&this.showMousePositionOnDrag&&this.showMousePosition(t),CanvasXpress.system.isTouchScreen)return o<this.yMouseDown||n>this.xMouseDown?this.handleWheelEvent(t,1,r):this.handleWheelEvent(t,-1,r),!1;if(this.moveMarker)return this.updateDragMarker(n,o),!1;if(l.match(/Pie|Venn|Stacked|Area|Treemap|TagCloud|ParallelCoordinates|Tree|Gantt|Meter|Fish/)){if(CanvasXpress.system.isTouchScreen&&(this.movingOn=!0,this.resetOn=!1),l.match(/Network|Genome|Venn|Correlation|Gantt|Scatter/)||!this.moveLegend)return!1;this.updateDragScatter(n,o),this.movingOn=!0,this.resetOn=!1}if("Sankey"==l)this.updateDragSankey(n,o);else if(l.match(/Scatter/)&&(this.moveLegend||this.lassoSelected))this.updateDragScatter(n,o);else if(!l.match(/Network|Genome|Venn|Correlation|Scatter/)&&this.moveLegend)this.updateDragScatter(n,o);else if("Scatter3D"==l&&!i||this.is3DPlot)this.updateDragScatter3D(n,o,h,this.xMouseDown,this.yMouseDown);else if("Circular"==l)this.moveLegend?(this.updateDragScatter(n,o),this.movingOn=!0,this.resetOn=!1):this.updateDragCircular(t,n,o,h,this.xMouseDown,this.yMouseDown);else if("Network"!=l||!this.moveNode&&!this.moveLegend&&(a||i||s))if("Genome"!=l||!this.moveGenome&&i)if("Map"==l)this.updateDragMap(n,o);else if(this.moveDendrogram){var c=this.getBoundsXY(h),d=this.$(this.target+"-cX-Drag");this.skipClick=!0,n>=c[4]&&n<=c[5]&&o>=c[6]&&o<=c[7]&&("varDendrogram"==this.moveDendrogram||"smpDendrogram"==this.moveDendrogram&&"vertical"==this.graphOrientation?d.style.top=o+"px":d.style.left=n+"px")}else if(this.moveVarOverlay||this.moveSmpOverlay){c=this.getBoundsXY(h),d=this.$(this.target+"-cX-Drag");this.skipClick=!0,n>=c[4]&&n<=c[5]&&o>=c[6]&&o<=c[7]&&(this.moveSmpOverlay&&(l.match(/Heatmap/)||"horizontal"==this.graphOrientation)?d.style.left=n+"px":d.style.top=o+"px")}else if(this.moveVar||this.moveSmp){c=this.getBoundsXY(h),d=this.$(this.target+"-cX-Drag");this.skipClick=!0,n>=c[4]&&n<=c[5]&&o>=c[6]&&o<=c[7]&&(this.moveSmp&&(l.match(/Heatmap/)||"horizontal"==this.graphOrientation)?d.style.top=o+"px":d.style.left=n+"px")}else{var p;if(p=e.varIndicesStart>0||e.smpIndicesStart>0||e.grpIndicesStart>0||(0==e.varIndicesStart&&e.startingVarIndices&&e.startingVarIndices?e.varIndicesStart+e.varIndices.length<e.startingVarIndices.length:this.isGroupedData&&0==e.grpIndicesStart&&e.startingGrpIndices&&e.startingGrpIndices?e.grpIndicesStart+e.grpIndices.length<e.startingGrpIndices.length:0==e.smpIndicesStart&&e.startingSmpIndices&&e.startingSmpIndices?e.smpIndicesStart+e.smpIndices.length<e.startingSmpIndices.length:!!function(t){var e=t.meta.config.user,i=null!=t.setMinX&&null!=t.setMinY&&null!=t.setMaxX&&null!=t.setMaxY,a=null!=e.setMinX&&null!=e.setMinY&&null!=e.setMaxX&&null!=e.setMaxY;return!(t.graphType.match(/Scatter/)&&"visium"==t.scatterType&&!t.visiumPanning)&&(!a&&!!i)}(this)),l.match(/Heatmap|Bar|Line|Dotplot|Boxplot|Correlation|Scatter/)&&p){this.panningOn=!0;var g=Math.abs(this.xMouseDown-n),u=Math.abs(this.yMouseDown-o);d=!1;return g>u?g>this.x/20&&(d=this.xMouseDown>n?39:37,this.xMouseDown=n,this.yMouseDown=o):u>this.y/20&&(d=this.yMouseDown>o?40:38,this.xMouseDown=n,this.yMouseDown=o),d&&this.handlePanning(t,d),this.movingOn=!0,this.resetOn=!1,!1}if(l.match(/Correlation/))return!1;c=this.getBoundsXY(h);var m=l.match(/Scatter|Heatmap|Network|Genome|Circular/),f="vertical"==this.graphOrientation;d=this.$(this.target+"-cX-Drag");this.skipClick=!0,!m&&f&&!i||!m&&!f&&i?d.style.width=c[1]-c[0]+"px":n>this.xMouseDown?n>c[1]?d.style.width=c[1]-this.xMouseDown+"px":d.style.width=n-this.xMouseDown+"px":n<c[0]?(d.style.left=c[0]+"px",d.style.width=this.xMouseDown-c[0]+"px"):(d.style.left=n+"px",d.style.width=this.xMouseDown-n+"px"),!m&&!f&&!i||!m&&f&&i||"Genome"==l?d.style.height=c[3]-c[2]+"px":o>this.yMouseDown?o>c[3]?d.style.height=c[3]-this.yMouseDown+"px":d.style.height=o-this.yMouseDown+"px":o<c[2]?(d.style.top=c[2]+"px",d.style.height=this.yMouseDown-c[2]+"px"):(d.style.top=o+"px",d.style.height=this.yMouseDown-o+"px")}else this.updateDragGenome(n,o);else this.updateDragNetwork(t,n,o)}this.movingOn=!0,this.resetOn=!1}},this.endDrag=function(t){if(this.draggingOn){if(this.isTransition())return;var e=this.layoutComb?this.layoutParams[this.layoutValidN||0].graphType:this.graphType;if(e.match(/Venn|Stacked|Area|Treemap|TagCloud|ParallelCoordinates|Tree|Gantt|Meter|Fish/)&&!this.userEvents.drag)return!1;var i=this.$(this.target);if(i){i.style.cursor="default";var a=this.getTargetEvent(t);a&&a.style&&(a.style.cursor="default")}if(this.panningGlobalX+=this.panningX,this.panningGlobalY+=this.panningY,this.resetMousePosition(),"Circular"!=e&&"Map"!=e&&(this.panningX=0,this.panningY=0),this.moveMarker)this.resetDrag(),this.moveMarker=!1,this.draw({func:"endDrag",par:[t]});else if(this.moveSankeyId)this.resortSankey(!0),this.resetDrag();else if("Scatter3D"==e&&!t.shiftKey||this.is3DPlot)this.resetDrag(t);else if("Network"==e&&(this.moveNode||this.moveEdge||this.moveLegend))i&&this.endDragNetwork(t);else if("Genome"!=e||!this.moveGenome&&t.shiftKey){if(e.match(/Scatter/)&&this.moveLegend)this.resetDrag(t);else if("Circular"==e)this.handleDragEvent(t),this.resetDrag(t);else if("Map"==e)this.skipTransition=!1,this.skipClick=!1;else if(this.moveLegend)this.resetDrag(t);else if(this.movingOn&&!this.panningOn){if(c=this.adjustedCoordinates(t)){var s=c.x;l=c.y;if(s!=this.xMouseDown||l!=this.yMouseDown){p=this.$(this.target+"-cX-Drag"),s=this.lassoSelected||"Scatter3D"==this.graphType;var r=parseFloat(p.style.left),n=parseFloat(p.style.top),o=r+parseInt(p.style.width),h=n+parseInt(p.style.height);this.handleDragEvent(t,r,n,o,h),this.resetDrag(t,s)}}}else this.resetDrag(t)}else{if(this.movingOn&&this.moveGenome){var l,c=this.adjustedCoordinates(t),d=this.subtracksInfo;if(c)if((l=c.y)!=this.yMouseDown)for(var p=this.moveGenome.replace("track-","").split(":"),g=parseInt(p[0]),u=p.length>1?parseInt(p[1]):null,m=0;m<d.length;m++)if(d[m]){var f=d[m].start,y=d[m].track,x=d[m].index;if(f>l){if(g!=y&&g!=y-1){y>g&&y--;var b=this.data.tracks.splice(g,1)[0];this.data.tracks.splice(y,0,b),b=this.meta.data.tracks.splice(g,1)[0],this.meta.data.tracks.splice(y,0,b),this.draw({func:"endDrag",par:[t]})}else if(null!=u&&(g==y-1&&(x=d[m-1].index,x++),(u=d[u].index)!=x)){x>u&&x--;b=this.data.tracks[g].data.splice(u,1)[0];this.data.tracks[g].data.splice(x,0,b),this.draw({func:"endDrag",par:[t]})}break}}}this.resetDrag(t)}}else this.resetDrag(t);this.userEvents.drag&&this.userEvents.drag.call(this,t,this)},this.endDragNetwork=function(t){if(CanvasXpress.selector.selections&&this.movingOn&&(this.resetSelected(t),this.draw({func:"endDragNetwork",par:[t]})),this.userEvents.enddragnode&&this.movingOn){var e;if(this.moveLegend)e={legend:this.moveLegend};else{var i=this.moveNodeIndex,a=this.findChildrenNodeIndices(this.data.nodes[i].id);a?a.push(i):a=[i],e=this.extractDataObject(a)}this.resetDrag(t),this.userEvents.enddragnode.call(this,e,this)}else this.resetDrag(t)},this.validateMinMax=function(t,e,i,a){return!isNaN(t)&&!isNaN(e)&&!(t>e||i>t||a<e)},this.handleDragEventCircular=function(t){if(!this.isTransition()&&this.moveCircular&&this.isDragNotClick(this.adjustedCoordinates(t),this.moveCircular.ac)){var e=this.ringsOrder,i=e.splice(this.moveCircular.ring,1);e.splice(this.moveCircular.last,0,i[0]),this.draw({func:"handleDragEventCircular",par:[t]}),this.skipClick=!1}},this.handleDragEventNetwork=function(t,e,i,a,s){if(!this.isTransition()){for(var r={},n=[],o=[],h=[],l=[],c={},d=[],p=0;p<this.meta.render.objects.length;p++){var g=this.meta.render.objects[p];null!=g.idx&&this.isObjectInsideArea(g.area,e,i,a,s)&&g.idx[0]<this.data.nodes.length&&(r[g.idx[0]]=1)}for(p=0;p<this.data.nodes.length;p++)r[p]?(o.push(this.data.nodes[p].id),d.push(this.data.nodes[p]),h.push(p)):n.push(this.data.nodes[p].id);if(n.length<this.data.nodes.length&&(t.shiftKey?(t.ctrlKey||this.resetSelected(t,!0),this.addRemoveToSelected(!1,{nodes:d},t),this.broadcastDraw({func:"handleDragEventNetwork",par:[t,e,i,a,s]}),this.draggingOn=!1,this.showInfoSpan(t,"While mouse-over nodes:<br>1. Press Shift and drag mouse to resize nodes<br>2. Drag mouse to move nodes")):(this.resetZoomPan(),this.hideUnhideNodes(n,!0),this.translateCanvas(-this.offsetX,-this.offsetY),this.scaleCanvas(1/this.scaleFactorX,1/this.scaleFactorY),this.draw({network:!0,func:"handleDragEventNetwork",par:[t,e,i,a,s]})),this.showDataTableOnSelect))if("edges"==this.networkShowDataTable){for(p=0;p<o.length;p++)c[o[p]]=1;for(p=0;p<this.data.edges.length;p++)(c[this.data.edges[p].id1]||c[this.data.edges[p].id2])&&l.push(this.data.nodes.length+p);this.updateDataTable(this.extractDataObject(l))}else this.updateDataTable(this.extractDataObject(h))}},this.handleDragEventHeatmap=function(t,e,i,a,s,r){if(!this.isTransition()){var n=[],o=[],h=this.layoutComb?this.layoutParams[e]:this,l=this.cloneObject(h.varIndices),c=this.isGroupedData?this.cloneObject(h.grpIndices):this.cloneObject(h.smpIndices);this.setOriginalIndices(e,l,c),h.varIndicesStart=h.varIndicesStart<0?0:h.varIndicesStart,h.smpIndicesStart=h.smpIndicesStart<0?0:h.smpIndicesStart,h.grpIndicesStart=h.grpIndicesStart<0?0:h.grpIndicesStart,h.varIndices=[],h.grpIndices=[],h.smpIndices=[];for(var d=0;d<this.meta.render.objects.length;d++){var p=this.meta.render.objects[d],g=p.area;p.idx&&(i<g[1]||i<g[3])&&s>g[1]&&(a<g[2]||a<g[4])&&r>g[2]&&(n[p.idx[0]]||(h.varIndices.push(p.idx[0]),n[p.idx[0]]=1),o[p.idx[1]]||(h.isGroupedData?h.grpIndices.push(p.idx[1]):h.smpIndices.push(p.idx[1]),o[p.idx[1]]=1))}if(h.varIndices.length>0&&h.smpIndices.length>0){for(d=0;d<l.length;d++)l[d]==h.varIndices[0]&&(h.varIndicesStart+=d);for(d=0;d<c.length;d++)h.isGroupedData?c[d]==h.grpIndices[0]&&(h.grpIndicesStart+=d):c[d]==h.smpIndices[0]&&(h.smpIndicesStart+=d);var u=this.extractDataObject(this.smpIndices,this.varIndices);this.draw({func:"handleDragEventHeatmap",par:[t,e,i,a,s,r]}),this.showDataTableOnSelect&&this.updateDataTable(u),this.skipClick=!1}else h.varIndices=l,h.isGroupedData?h.grpIndices=c:h.smpIndices=c}},this.handleDragEventCorrelation=function(t,e,i,a,s){return this.handleDragEventHeatmap(t,0,e,i,a,s)},this.isTransformedAxis=function(t,e,i){this[t+"Transform"]&&("log2"==this[t+"Transform"]&&!i||"exp2"==this[t+"Transform"]&&i?(this["setMin"+e]=Math.pow(2,this["setMin"+e]),this["setMax"+e]=Math.pow(2,this["setMax"+e])):"log10"==this[t+"Transform"]&&!i||"exp10"==this[t+"Transform"]&&i?(this["setMin"+e]=Math.pow(10,this["setMin"+e]),this["setMax"+e]=Math.pow(10,this["setMax"+e])):"exp2"==this[t+"Transform"]&&!i||"log2"==this[t+"Transform"]&&i?(this["setMin"+e]=Math.log(this["setMin"+e])/Math.LN2,this["setMax"+e]=Math.log(this["setMax"+e])/Math.LN2):("exp10"==this[t+"Transform"]&&!i||"log10"==this[t+"Transform"]&&i)&&(this["setMin"+e]=Math.log(this["setMin"+e])/Math.LN10,this["setMax"+e]=Math.log(this["setMax"+e])/Math.LN10))},this.isTransformedRange=function(t,e){if(!this[t+"Transform"])return e;if("log2"==this[t+"Transform"]);else{if("log10"==this[t+"Transform"])return Math.log(e)/Math.LN10;"exp2"==this[t+"Transform"]||this[t+"Transform"]}},this.handleDragEventScatter=function(t,e,i,a,s,r){if(!this.isTransition()){var n={v:{},s:{},c:{}},o=0,h=!1,l=this.data.y.vars,c=this.data.y.smps;if(t.shiftKey||this.lassoSelected){for(var d=0;d<this.meta.render.objects.length;d++){var p=this.meta.render.objects[d];if((this.lassoSelected?p.idx&&this.isAreaInsidePolygon(p.area,this.lassoPoints):p.idx&&this.isObjectInsideArea(p.area,i,a,s,r))&&"Data"==p.type&&(n.v[p.idx[0]]=!0,n.s[p.idx[1]]=!0,n.s[p.idx[2]]=!0,n.c[l[p.idx[0]]+"::"+c[p.idx[1]]+"::"+c[p.idx[2]]]=!0,o++,exc=this.getSelectedExcludedFromRender(p.idx),exc))for(var g=0;g<exc.length;g++)n.v[exc[g]]=!0,n.c[l[exc[g]]+"::"+c[p.idx[1]]+"::"+c[p.idx[2]]]=!0,o++}if(o>0)(h=this.extractDataObject(this.getKeys(n.s),this.getKeys(n.v))).y.comp=n.c,t.ctrlKey||this.resetSelected(t,!0),this.addRemoveToSelected(!1,h,t),this.broadcastDraw({func:"handleDragEventScatter",par:[t,e,i,a,s,r],prop:{lassoPoints:this.lassoPoints,lassoSelected:this.lassoSelected}}),this.showDataTableOnSelect&&this.updateDataTable(h);this.lassoSelected&&(this.lassoPoints=[],this.lassoSelected=!1)}else{var u=(h=this.layoutComb?this.layoutParams[e]:this).xAxisMin+(i-(this.marginLeft+h.offsetX+h.left))/h.xAxisUnit,m=h.xAxisMin+(s-(this.marginLeft+h.offsetX+h.left))/h.xAxisUnit,f=h.yAxisMax-(a-(this.marginTop+h.offsetY+h.top))/h.yAxisUnit,y=h.yAxisMax-(r-(this.marginTop+h.offsetY+h.top))/h.yAxisUnit;if(this.validateMinMax(u,m,h.xAxisMin,h.xAxisMax)&&this.validateMinMax(y,f,h.yAxisMin,h.yAxisMax)){if(this.scatterPlotMatrix&&(this.scatterPlotMatrixType.match(/correlation|all/)||"axis"==this.layoutAdjust)){var x=0;for(d=0;d<this.layoutRows;d++)for(g=0;g<this.layoutCols;g++)h=this.layoutParams[x],d==this.layoutValidR&&(h.setMinY=y,h.setMaxY=f),g==this.layoutValidC&&(h.setMinX=u,h.setMaxX=m),d==this.layoutValidR||this.layoutValidC,x++}else(h=this.layoutComb&&this.layoutAdjust?this.layoutParams[e]:this).setMinX=u,h.setMaxX=m,h.setMaxY=f,h.setMinY=y;this.draw({func:"handleDragEventScatter",par:[t,e,i,a,s,r]})}}}},this.handleDragEventGenome=function(t,e,i,a,s,r){if(!this.isTransition()){var n=this.layoutComb?this.layoutParams[e]:this,o=n.xAxisMin+(i-(this.marginLeft+n.offsetX+n.left))/n.xAxisUnit,h=n.xAxisMin+(s-(this.marginLeft+n.offsetX+n.left))/n.xAxisUnit;this.validateMinMax(o,h,this.xAxisMin,this.xAxisMax)&&(this.setMinX=o,this.setMaxX=h,this.draw({func:"handleDragEventGenome",par:[t,e,i,a,s,r]}))}},this.handleDragEventOneDimension=function(t,e,i,a,s,r,n){if(!this.isTransition()){var o=this.graphType,h=.95,l={moveDendrogram:this.moveDendrogram,moveVarOverlay:this.moveVarOverlay,varOverlayInfo:this.varOverlayInfo,moveVar:this.moveVar,varInfo:this.varInfo,moveSmpOverlay:this.moveSmpOverlay,smpOverlayInfo:this.smpOverlayInfo,moveSmp:this.moveSmp,smpInfo:this.smpInfo};if(this.moveDendrogram){var c=this.layoutComb?this.layoutParams[e]:this;"varDendrogram"==this.moveDendrogram?(g=a>this.marginTop+c.offsetY+c.top+c.y*h?"bottom":"top",this.varDendrogramPosition!=g&&(this.varDendrogramPosition=g,this.draw({func:"handleDragEventOneDimension",par:[t,e,i,a,s,r,n],prop:l}))):(g="Heatmap"==o||"horizontal"==this.graphOrientation?i>this.marginLeft+c.offsetX+c.left+c.x*h?"right":"left":a>this.marginTop+c.offsetY+c.top+c.y*h?"bottom":"top",this.smpDendrogramPosition!=g&&(this.smpDendrogramPosition=g,this.draw({func:"handleDragEventOneDimension",par:[t,e,i,a,s,r,n],prop:l}))),this.skipClick=!1}else if(this.moveVarOverlay){c=this.layoutComb?this.layoutParams[e]:this;var d=this.moveVarOverlay.split("-")[1],p=this.varOverlays[d],g=a<this.marginTop+c.offsetY+c.top?"top":"bottom";this.varOverlays.splice(d,1);for(var u=this.varOverlays.length,m=0;m<this.varOverlays.length;m++){var f=this.varOverlays[m];if(this.varOverlayInfo[f]>a){u=m;break}}this.varOverlays.splice(u,0,p),this.varOverlayProperties.hasOwnProperty(p)||(this.varOverlayProperties[p]={}),this.varOverlayProperties[p].position=g,this.draw({func:"handleDragEventOneDimension",par:[t,e,i,a,s,r,n],prop:l}),this.skipClick=!1}else if(this.moveVar){d=this.moveVar.split("-")[1];if(this.showVarDendrogram&&this.varDendrogram)return alert("Ooops. Cannot change order when showing the dendrogram"),!1;var y=this.layoutComb?this.layoutParams[e].varIndices:this.varIndices,x=this.layoutComb?this.cloneObject(this.layoutParams[e].varInfo):this.cloneObject(this.varInfo),b=[];if(this.moveVar.match(/VarOvr/)){var v=this.moveVar.split("-")[2],A=this.data.z[this.varOverlays[v]];for(m=0;m<y.length;m++)if(y[m]==d){u=m;break}if(u>0)for(;u>0&&A[y[u-1]]==A[y[u]];)u--;for(b=[u];A[y[u+1]]==A[y[u]];)u++,b.push(u)}else{for(m=0;m<y.length;m++)if(y[m]==d){u=m;break}b=[u]}b=y.splice(b[0],b.length),x.splice(b[0],b.length);for(m=0;m<y.length;m++)if(x[m]>i){u=m;break}for(m=0;m<b.length;m++)y.splice(u+m,0,b[m]);this.draw({func:"handleDragEventOneDimension",par:[t,e,i,a,s,r,n],prop:l}),this.skipClick=!1}else if(this.moveSmpOverlay){c=this.layoutComb?this.layoutParams[e]:this,d=this.moveSmpOverlay.split("-")[1],p=this.smpOverlays[d];g=o.match(/Heatmap/)||"horizontal"==this.graphOrientation?(C=i)>this.marginLeft+c.offsetX+c.left+c.x*h?"right":"left":(C=a)<this.marginTop+c.offsetY+c.top?"top":"bottom",this.smpOverlays.splice(d,1);for(u=this.smpOverlays.length,m=0;m<this.smpOverlays.length;m++){f=this.smpOverlays[m];if(this.smpOverlayInfo[f]>C){u=m;break}}this.smpOverlays.splice(u,0,p),this.smpOverlayProperties.hasOwnProperty(p)||(this.smpOverlayProperties[p]={}),this.smpOverlayProperties[p].position=g,this.draw({func:"handleDragEventOneDimension",par:[t,e,i,a,s,r,n],prop:l}),this.skipClick=!1}else if(this.moveSmp){d=this.moveSmp.split("-")[1];var w=this.layoutComb?this.cloneObject(this.layoutParams[e].smpInfo):this.cloneObject(this.smpInfo);if(this.layoutComb&&(this.layoutParams[e].dragged=!0),this.isGroupedData)T=this.layoutComb?this.layoutParams[e].grpIndices:this.grpIndices;else if(T=this.layoutComb?this.layoutParams[e].smpIndices:this.smpIndices,this.showSmpDendrogram&&this.smpDendrogram)return alert("Ooops. Cannot change order when showing the dendrogram"),!1;b=[];if(this.moveSmp.match(/SmpOvr/)){for(v=this.moveSmp.split("-")[2],A=this.isGroupedData?this.data.w.factors[this.smpOverlays[v]]:this.data.x[this.smpOverlays[v]],m=0;m<T.length;m++)if(T[m]==d){u=m;break}if(u>0)for(;u>0&&A[T[u-1]]==A[T[u]];)u--;for(b=[u];A[T[u+1]]==A[T[u]];)u++,b.push(u)}else{for(m=0;m<T.length;m++)if(T[m]==d){u=m;break}b=[u]}b=T.splice(b[0],b.length),w.splice(b[0],b.length);var C=o.match(/Heatmap/)||"horizontal"==this.graphOrientation?a:i;for(m=0;m<T.length;m++)if(w[m]>C){u=m;break}for(m=0;m<b.length;m++)T.splice(u+m,0,b[m]);this.draw({func:"handleDragEventOneDimension",par:[t,e,i,a,s,r,n],prop:l}),this.skipClick=!1}else if(t.shiftKey||n){var T,S={},D=[],M=(y=this.layoutComb?this.layoutParams[e].varIndices:this.varIndices,this.isGroupedData?this.grpIndices:this.smpIndices),k=!1;T=this.isGroupedData?this.layoutComb?this.layoutParams[e].grpIndices:this.grpIndices:this.layoutComb?this.layoutParams[e].smpIndices:this.smpIndices,this.setOriginalIndices(e,y,T);for(m=0;m<this.meta.render.objects.length;m++){var L=this.meta.render.objects[m];L.idx&&this.isObjectInsideArea(L.area,i,a,s,r)&&(S[L.idx[1]]=!0)}for(m=0;m<M.length;m++)S.hasOwnProperty(M[m])&&(D.push(M[m]),k||(this.isGroupedData?(this.grpIndicesStart=m,k=!0):(this.smpIndicesStart=m,k=!0)));this.setSamplesVisible(D,!0);f=this.extractDataObject(D,this.varIndices);this.draw({func:"handleDragEventOneDimension",par:[t,e,i,a,s,r,n],prop:l}),this.showDataTableOnSelect&&this.updateDataTable(f)}else{var I=(f=this.layoutComb?this.layoutParams[e]:this).xAxisMin,B=f.xAxisMax,N=this.marginLeft+f.offsetX+f.left,F=N+f.x,P=this.marginTop+f.offsetY+f.top,R=P+f.y;"vertical"==this.graphOrientation?(I+=Math.max(R-r,0)/f.xAxisUnit,B-=Math.max(a-P,0)/f.xAxisUnit):(I+=Math.max(i-N,0)/f.xAxisUnit,B-=Math.max(F-s,0)/f.xAxisUnit),this.validateMinMax(I,B,this.xAxisMin,this.xAxisMax)&&((f=this.layoutComb&&this.layoutAdjust?this.layoutParams[e]:this).setMinX=I,f.setMaxX=B,this.draw({func:"handleDragEventOneDimension",par:[t,e,i,a,s,r,n],prop:l}))}}},this.handleDragEvent=function(t,e,i,a,s){var r=this.layoutComb?this.layoutValidN:0,n=this.layoutComb?this.layoutParams[r].graphType:this.graphType;"Correlation"==n?this.handleDragEventCorrelation(t,e,i,a,s):"Circular"==n?this.handleDragEventCircular(t):"Network"==n?this.handleDragEventNetwork(t,e,i,a,s):"Heatmap"!=n||this.moveDendrogram||this.moveVar||this.moveSmp||this.moveVarOverlay||this.moveSmpOverlay?n.match(/Scatter/)?this.handleDragEventScatter(t,r,e,i,a,s):"Genome"==n?this.handleDragEventGenome(t,r,e,i,a,s):this.handleDragEventOneDimension(t,r,e,i,a,s):this.handleDragEventHeatmap(t,r,e,i,a,s)},this.updateLayoutDrag=function(t){var e=this,i=this.layoutValidDrag||this.layoutValidBounds,a=this.$(this.target+"-cX-Drag"),s=this.adjustedCoordinates(t);if(i&&a&&s){var r=s.x,n=s.y,o=function(){for(var t=0,i=0;i<e.layoutRows;i++)for(var a=0;a<e.layoutCols;a++){var s=e.getBoundsXY(t);if(r>=s[4]&&r<=s[5]&&n>=s[6]&&n<=s[7])return{bounds:s,target:t};t++}return!1}();this.layoutValidDrag||(this.layoutValidDrag=this.cloneObject(i),this.layoutValidDrag.push(this.xMouseDown),this.layoutValidDrag.push(this.yMouseDown),this.layoutValidDrag.push(this.layoutValidN));var h=i[4]+(r-this.layoutValidDrag[8]),l=i[6]+(n-this.layoutValidDrag[9]),c=i[5]-i[4],d=i[7]-i[6];if(a.style.left=h+"px",a.style.top=l+"px",a.style.width=c+"px",a.style.height=d+"px",a.style.border="1px solid grey",o)(c=this.$(this.target+"-cX-Drag-Layout"))&&(c.style.left=o.bounds[4]+"px",c.style.top=o.bounds[6]+"px",c.style.width=o.bounds[5]-o.bounds[4]+"px",c.style.height=o.bounds[7]-o.bounds[6]+"px",c.style.border="1px solid grey",this.layoutValidDrag[11]=o.target)}},this.endDragLayout=function(t){if(this.layoutValidDrag&&this.layoutValidDrag[10]&&this.layoutValidDrag[11]&&this.layoutValidDrag[10]!=this.layoutValidDrag[11]&&this.includeDOE.length){var e=this.includeDOE.splice(this.layoutValidDrag[10]-1,1),i=this.layoutConfig.splice(this.layoutValidDrag[10],1);this.includeDOE.splice(this.layoutValidDrag[11]-1,0,e[0]),this.layoutConfig.splice(this.layoutValidDrag[11],0,i[0]),this.createDOE(!1,!1,!0),this.draw({func:"endDragLayout",par:[t],prop:{layoutValidDrag:this.layoutValidDrag}})}this.resetDrag(t)},this.resetDrag=function(t,e){var i=this.$(this.target+"-cX-Drag");i&&(i.style.left="0px",i.style.top="0px",i.style.width="0px",i.style.height="0px",i.style.borderRadius="",i.style.backgroundColor=this.resizerBackgroundColor,i.style.border="none");var a=this.$(this.target+"-cX-Drag-Layout");a&&(a.style.left="0px",a.style.top="0px",a.style.width="0px",a.style.height="0px",a.style.border="none"),this.isDOE&&(this.layoutValidDrag=!1,this.cancelEvent(t),this.stopEvent(t)),e||(this.skipClick=!1)},this.initializeDraggingEvents=function(){this.disableEvents||(this.addDragDiv(),this.addDragDivLayout())},this.initializeDraggingEvents()},CanvasXpress.prototype.initKeyEvents=function(){this.getKeyCode=function(t){if(t)return t.charCode&&0==t.keyCode?t.charCode:t.keyCode},this.registerKey=function(t){var e=this.getTargetEvent(t),i=t.shiftKey,a=t.ctrlKey,s=t.altKey,r=window.document,n=this.getKeyCode(t);if(!this.disableKeys||a&&s&&107==n){if(this.motioningOn)return this.stopEvent(t),!1;if(13==n)return;if(27==n)return i?this.replot(t,s):this.animationOn?(this.animationOn=!1,!1):(a&&this.resetFilters(),void("table"!=this.view&&this.masterReset(t)));if(16==n){if(this.disableShowShortcuts)return;this.showShortcuts()}else if(17==n){if(this.disableShowShortcuts)return;this.showShortcuts()}else if(18==n||224==n){if(this.disableShowShortcuts)return;this.showShortcuts()}else 91==n||93==n||(a&&i?(n>=33&&n<=40?this.arrowMove(n,!0):80==n?this.motionBy||this.reproduce(t,!1,!0):82==n?this.motionBy||"Windows"==CanvasXpress.system.os||this.reproduce(t):83==n&&this.save(t),r.defaultAction=!0):a&&s?(80!=n||this.keyOn?82==n?this.motionBy||this.reproduce(t):68==n?(this.flashInfoSpan(100,100,"Debug info dropped to JavaScript console!",3e3),console.log({system:CanvasXpress.system,factory:CanvasXpress.factory})):83==n&&(this.motionBy||this.save(t)):(this.keyOn=!0,this.print(t)),r.defaultAction=!0):i&&s?(n>=50&&n<90&&!this.keyOn&&(this.keyOn=!0),r.defaultAction=!0):a?(n>=33&&n<=40?36==n&&CanvasXpress.selector.selections&&"Network"==this.graphType?this.showHideSelectedData(t,n):this.arrowMove(n):45!=n&&46!=n||this.keyOn?n>=48&&n<58&&!this.keyOn?this.keyOn=!0:n>=65&&n<=90&&("Network"!=this.graphType||this.keyOn||/input|textarea|select/i.test(e.tagName)?80!=n||this.keyOn?82==n?this.motionBy||"Windows"==CanvasXpress.system.os||this.reproduce(t):83==n?this.motionBy||this.save(t):89==n&&(this.keyOn=!0,this.redo()):(this.keyOn=!0,this.print(t)):66!=n&&72!=n&&76!=n&&82!=n&&84!=n&&86!=n||(this.keyOn=!0,this.alignDistributeSelectedNodes(t,n)),90==n&&(this.keyOn=!0,this.undo())):(this.keyOn=!0,this.showHideSelectedData(t,n)),r.defaultAction=!0):107==n||109==n||61==n||187==n||189==n?this.disablePlusMinusKeys||/input|textarea|select/i.test(e.tagName)||(109==n||189==n?this.handleWheelEvent(t,-1):this.handleWheelEvent(t,1)):i&&n>=33&&n<=40?this.disableArrowKeys||/input|textarea|select/i.test(e.tagName)?r.defaultAction=!0:this.handlePanning(t,n):n>=36&&n<=40?this.disableArrowKeys||/input|textarea|select/i.test(e.tagName)||this.handlePanning(t,n):(i||s)&&(r.defaultAction=!0))}},this.showShortcuts=function(){var t="<br>";t+="<b>Ctrl P</b> : Print PNG <br>",t+="<b>Ctrl S</b> : Save as JSON <br>",t+="<b>Ctrl R</b> : Open Reproduce Widget <br>",t+="<br>",t+="<b>Ctrl + Shift + P</b> : Print PNGs over time <br>",t+="<b>Ctrl + Shift + S</b> : Save as JSON overwrite <br>","Windows"!=CanvasXpress.system.os&&(t+="<b>Ctrl + Shift + R</b> : Play reproduce auto <br>"),t+="<b>Ctrl + Shift + D</b> : Print debug info to console <br>",t+="<br>",t+="<b>Ctrl + Alt/Option P</b> : Print PNG overwrite <br>",t+="<b>Ctrl + Alt/Option S</b> : Save as JSON overwrite <br>",t+="<b>Ctrl + Alt/Option R</b> : Open Reproduce Widget <br>",t+="<br>",this.flashInfoSpan(this.width-100,10,t,5e3)},this.undo=function(){!this.disableUndoRedoKeys&&CanvasXpress.stack[this.target].stateIndex>=1&&(CanvasXpress.stack[this.target].stateIndex--,this.setConfigState(CanvasXpress.stack[this.target].stateIndex,!0))},this.redo=function(){var t=CanvasXpress.stack[this.target].state.length-1;!this.disableUndoRedoKeys&&CanvasXpress.stack[this.target].stateIndex<t&&(CanvasXpress.stack[this.target].stateIndex++,this.setConfigState(CanvasXpress.stack[this.target].stateIndex,!0))},this.handlePanning=function(t,e){if(!this.isTransition()){if("Correlation"==this.graphType||"Heatmap"==this.graphType||this.graphType.match(/Bar|Line|Dotplot|Boxplot|Area|Stacked/)){if(this.cancelEvent(t),this.layoutComb&&!this.layoutAdjust&&"Correlation"!=this.graphType&&"Heatmap"!=this.graphType)return!1;this.setIndicesAfterPannEvent(t,e)}else if(this.graphType.match(/Scatter/))this.setRangesAfterPannEvent(t,e);else if("Network"==this.graphType){this.cancelEvent(t);var i=Math.abs(this.x*this.panningStep),a=Math.abs(this.y*this.panningStep);33==e?this.panningY-=5*a:34==e?this.panningY+=5*a:35==e?(this.panningX=20*i,this.panningY=20*a):36==e?(this.panningX=0,this.panningY=0):37==e?this.panningX-=i:38==e?this.panningY-=a:39==e?this.panningX+=i:40==e&&(this.panningY+=a),this.draw({network:!0,func:"handlePanning",par:[t,e]})}else if("Genome"==this.graphType){var s="high"==this.genomeResolution?1:this.xAxisRange*this.panningStep;null==this.setMinX&&(this.setMinX=this.xAxisMin),null==this.setMaxX&&(this.setMaxX=this.xAxisMax),this.cancelEvent(t),37==e||38==e?(this.setMinX-=s,this.setMaxX-=s):39==e||40==e?(this.setMinX+=s,this.setMaxX+=s):33==e?(this.setMinX+=.95*this.xAxisRange,this.setMaxX+=.95*this.xAxisRange):34==e?(this.setMinX-=.95*this.xAxisRange,this.setMaxX-=.95*this.xAxisRange):35==e?this.setMaxX=null:36==e&&(this.setMinX=null),this.draw({func:"handlePanning",par:[t,e]})}else if("Map"==this.graphType){var r=this.rotationStep;33==e||38==e?this.panningY-=8*r:39==e?this.panningX+=8*r:37==e?this.panningX-=8*r:34!=e&&40!=e||(this.panningY+=8*r),this.draw({func:"handlePanning",par:[t,e]})}return!1}},this.arrowMove=function(t,e){if(!this.isTransition()){var i=this.graphType;this.is3DPlot&&(i="Scatter3D");var a=this.rotationStep;switch(i){case"Network":this.is3DNetwork?33==t?(this.xRotate+=3*a,this.yRotate-=3*a):34==t?(this.xRotate-=3*a,this.yRotate+=3*a):37==t?this.xRotate+=a:38==t?this.yRotate-=a:39==t?this.xRotate-=a:40==t&&(this.yRotate+=a):33==t?this.network2DRotate-=3*a:34==t?this.network2DRotate+=3*a:37==t||38==t?this.network2DRotate-=a:39!=t&&40!=t||(this.network2DRotate+=a);break;case"Scatter2D":case"ScatterBubble2D":var s,r;if("XYZ"==this.axesType?(s=["xAxisCurrent","yAxisCurrent","zAxisCurrent"],r=["xAxis","yAxis","zAxis"]):"XY"==this.axesType?(s=["zAxisCurrent"],r=["zAxis"]):"X"==this.axesType?(s=["yAxisCurrent","zAxisCurrent"],r=["yAxis","zAxis"]):(s=["xAxisCurrent","zAxisCurrent"],r=["xAxis","zAxis"]),33==t)for(var n=0;n<s.length;n++)this[s[n]]+=2;else if(34==t)for(n=0;n<s.length;n++)this[s[n]]-=2;else if(35==t)for(n=0;n<s.length;n++)this[s[n]]=this[r[n]].length-1;else if(36==t)for(n=0;n<s.length;n++)this[s[n]]=0;else if(37==t||40==t)for(n=0;n<s.length;n++)this[s[n]]--;else if(38==t||39==t)for(n=0;n<s.length;n++)this[s[n]]++;this.xAxisCurrent=this.xAxisCurrent<0?this.xAxis.length-1:this.xAxisCurrent>this.xAxis.length-1?0:this.xAxisCurrent,this.yAxisCurrent=this.yAxisCurrent<0?this.xAxis.length-1:this.yAxisCurrent>this.yAxis.length-1?0:this.yAxisCurrent,this.zAxisCurrent=this.zAxisCurrent<0?this.xAxis.length-1:this.zAxisCurrent>this.zAxis.length-1?0:this.zAxisCurrent;break;case"Scatter3D":33==t?(this.xRotate+=3*a,this.yRotate-=3*a):34==t?(this.xRotate-=3*a,this.yRotate+=3*a):35==t?(this.xRotate=0,this.yRotate=0,this.zRotate=45):36==t?(this.xRotate=45,this.yRotate=0,this.zRotate=0):37==t?this.xRotate+=a:38==t?this.yRotate-=a:39==t?this.xRotate-=a:40==t&&(this.yRotate+=a)}e&&!this.animationOn?(this.animationOn=!0,this.animateParams(t)):this.draw({network:!0,func:"arrowMove",par:[t,e]})}},this.animateParams=function(t){var e=this;this.removeMenus(),function(){this.update=function(){e.animationOn||clearInterval(i),e.arrowMove(t);var a=e.graphType;e.is3DPlot&&(a="Scatter3D");var s=this.rotationStep;switch(a){case"Network":this.is3DNetwork?33==t?(this.xRotate+=3*s,this.yRotate-=3*s):34==t?(this.xRotate-=3*s,this.yRotate+=3*s):37==t?this.xRotate-=s:38==t?this.yRotate-=s:39==t?this.xRotate+=s:40==t&&(this.yRotate+=s):33==t?this.network2DRotate+=3*s:34==t?this.network2DRotate-=3*s:37==t||38==t?this.network2DRotate-=s:39!=t&&40!=t||(this.network2DRotate+=s);break;case"Scatter2D":case"ScatterBubble2D":37!=t?"ScatterBubble2D"==e.graphType&&e.xAxisIndices.length>1&&e.xAxisIndices.length==e.yAxisIndices.length&&e.xAxisIndices.length==e.zAxisIndices.length?e.xAxisCurrent>=e.xAxis.length-1&&(e.xAxisCurrent=e.xAxis.length-1,e.yAxisCurrent=e.yAxis.length-1,e.zAxisCurrent=e.zAxis.length-1,t=37):e.xAxisIndices.length>1&&e.xAxisIndices.length==e.yAxisIndices.length?e.zAxisCurrent>=e.zAxis.length-1&&(e.zAxisCurrent=e.zAxis.length-1,t=37):e.xAxisIndices.length>e.yAxisIndices.length?(e.yAxisCurrent>=e.yAxis.length-1&&(e.yAxisCurrent=e.yAxis.length-1),e.zAxisCurrent>=e.zAxis.length-1&&(e.zAxisCurrent=e.zAxis.length-1),e.yAxisCurrent>=e.yAxis.length-1&&e.zAxisCurrent>=e.zAxis.length-1&&(t=37)):(e.xAxisCurrent>=e.xAxis.length-1&&(e.xAxisCurrent=e.xAxis.length-1),e.zAxisCurrent>=e.zAxis.length-1&&(e.zAxisCurrent=e.zAxis.length-1),e.xAxisCurrent>=e.xAxis.length-1&&e.zAxisCurrent>=e.zAxis.length-1&&(t=37)):39!=t&&("ScatterBubble2D"==e.graphType&&e.xAxisIndices.length>1&&e.xAxisIndices.length==e.yAxisIndices.length&&e.xAxisIndices.length==e.zAxisIndices.length?e.xAxisCurrent<=0&&(e.xAxisCurrent=0,e.yAxisCurrent=0,e.zAxisCurrent=0,t=39):e.xAxisIndices.length>1&&e.xAxisIndices.length==e.yAxisIndices.length?e.zAxisCurrent<=0&&(e.zAxisCurrent=0,t=39):e.xAxisIndices.length>e.yAxisIndices.length?(e.yAxisCurrent<=0&&(e.yAxisCurrent=0),e.zAxisCurrent<=0&&(e.zAxisCurrent=0),e.yAxisCurrent<=0&&e.zAxisCurrent<=0&&(t=39)):(e.xAxisCurrent<=0&&(e.xAxisCurrent=0),e.zAxisCurrent<=0&&(e.zAxisCurrent=0),e.xAxisCurrent<=0&&e.zAxisCurrent<=0&&(t=39)));break;case"Scatter3D":e.xRotate<=0&&(39==t||t<37)?(e.xRotate=0,e.yRotate=0,t=40):e.xRotate>=90&&(37==t||t<37)?(e.xRotate=90,e.yRotate=90,t=38):e.yRotate<=0&&(38==t||t<37)?(e.yRotate=0,e.xRotate=90,t=39):e.yRotate>=90&&(40==t||t<37)&&(e.yRotate=90,e.xRotate=0,t=37)}};var i=e.setInterval(this.update,30)}.call()},this.reset=function(t,e,i,a){this.varIndicesStart=-1,this.smpIndicesStart=-1,this.grpIndicesStart=-1;var s=!!e&&this.cloneObject(this.varIndices),r=!!e&&this.cloneObject(this.smpIndices),n=!!e&&this.cloneObject(this.grpIndices);switch(a||this.resetSelected(i),this.graphType){case"Area":case"AreaLine":case"Stacked":case"StackedLine":case"StackedPercent":case"StackedPercentLine":case"Heatmap":case"Correlation":case"Venn":case"Pie":case"Bar":case"Line":case"BarLine":case"Boxplot":case"Dotplot":case"DotLine":case"Circular":case"Treemap":case"TagCloud":case"ParallelCoordinates":case"Sankey":case"Tree":case"Gantt":case"Meter":this.setAllVariablesVisible(s,t),this.setAllSamplesVisible(r,t),this.isGroupedData&&this.data.w&&e&&(this.data.w.grpIdxs=n);break;case"Scatter2D":case"ScatterBubble2D":case"Scatter3D":case"Fish":this.setAllVariablesVisible(s,t),this.setAllSamplesVisible(r,t),this.motionBy&&this.motionObject&&(this.motionObject.setIndices=!0);break;case"Network":this.setAllNodesVisible(),this.translateCanvas(-this.offsetX,-this.offsetY),this.scaleCanvas(1/this.scaleFactorX,1/this.scaleFactorY);break;case"Genome":this.setAllFeaturesVisible(t);break;case"Map":this.setAllVariablesVisible(s,t),this.setAllSamplesVisible(r,t),this.setAllMapFeaturesVisible()}this.startingVarIndices&&this.startingVarIndices.length==this.varIndices.length&&(this.varIndices=this.startingVarIndices),this.startingSmpIndices&&this.startingSmpIndices.length==this.smpIndices.length&&(this.smpIndices=this.startingSmpIndices),this.startingGrpIndices&&this.startingGrpIndices.length==this.grpIndices.length&&(this.grpIndices=this.startingGrpIndices)},this.hardReset=function(t){if(!this.isTransition()){switch(this.varIndicesStart=-1,this.smpIndicesStart=-1,this.grpIndicesStart=-1,this.resetSelected(t),this.graphType){case"Area":case"AreaLine":case"Stacked":case"StackedLine":case"StackedPercent":case"StackedPercentLine":case"Correlation":case"Circular":case"Venn":case"Pie":case"Treemap":case"TagCloud":case"ParallelCoordinates":case"Sankey":case"Tree":this.setAllVariablesVisible(),this.setAllSamplesVisible(),this.circularRotate=0;break;case"Bar":case"Line":case"BarLine":case"Boxplot":case"Dotplot":case"DotLine":case"Genome":case"Gantt":case"Meter":this.setAllVariablesVisible(),this.setAllSamplesVisible(),this.resetRange(),this.xRotate=45,this.yRotate=0;break;case"Scatter2D":case"ScatterBubble2D":case"Fish":this.setAllVariablesVisible(),this.setAllSamplesVisible(),this.resetRange(),this.motionBy&&this.motionObject&&(this.motionObject.setIndices=!0);break;case"Scatter3D":this.setAllVariablesVisible(),this.setAllSamplesVisible(),this.xRotate=45,this.yRotate=0;break;case"Heatmap":this.setAllVariablesVisible(),this.setAllSamplesVisible(),this.sortOncoprint();break;case"Network":this.setAllNodesVisible(),this.network2DRotate=0,this.randomData&&(this.isLayoutDone=!0),this.networkFreeze=!1,this.setNetworkMinMaxRangeXY(),this.setNetworkScaleFactor(),this.translateCanvas(-this.offsetX,-this.offsetY),this.scaleCanvas(1/this.scaleFactorX,1/this.scaleFactorY);break;case"Map":this.setAllVariablesVisible(),this.setAllSamplesVisible(),this.setAllMapFeaturesVisible();var e=this.meta.map.geojson;this.panningX=0,this.panningY=0,this.zoom=1,delete e.isZoomed,e.geometry.zoom=this.cloneObject(e.geometry.initial.zoom),e.geometry.center=this.cloneObject(e.geometry.initial.center),this.setMapAttributes(!0)}this.setInitialConfig()}},this.resetZoomPan=function(){this.zoom=1,this.panningX=0,this.panningY=0,this.panningGlobalX=0,this.panningGlobalY=0,this.padX=this.x/2,this.padY=this.y/2,this.padZ=this.y/2},this.resetRange=function(){if(this.layoutComb&&this.scatterPlotMatrix&&(this.scatterPlotMatrixType.match(/correlation|all/)||"axis"==this.layoutAdjust))for(var t=0,e=0;e<this.layoutRows;e++)for(var i=0;i<this.layoutCols;i++)(a=this.layoutParams[t++])&&(a.setMinX=null,a.setMaxX=null,a.setMinX2=null,a.setMaxX2=null,a.setMinY=null,a.setMaxY=null,a.setMinZ=null,a.setMaxZ=null);else{var a=this.layoutComb&&this.layoutAdjust&&null!=this.layoutValidN?this.layoutParams[this.layoutValidN]:this;a&&(a.setMinX=null,a.setMaxX=null,a.setMinX2=null,a.setMaxX2=null,a.setMinY=null,a.setMaxY=null,a.setMinZ=null,a.setMaxZ=null)}},this.resetTouches=function(){var t=this,e=function(){clearTimeout(e),t.touches=!1,t.touchEvent=!1};setTimeout(e,500)},this.masterReset=function(t){if(this.isDOE)this.resetDOE();else for(var e=t&&(t.shiftKey||t.ctrlKey||t.altKey||t.metaKey),i=this.broadcast&&e?CanvasXpress.instances:[this],a=0;a<i.length;a++){var s=i[a];s.resetTooltipDivs(),s.resetDrag(t),s.resetSelected(t),s.resetHidden(),s.resetDataFilter(t,!0),s.dataTableLastState&&"docked"!=s.dataTableLastState&&s.hideUnhideDataTable(!0),s.resetConfigurator(t),s.resetFlags(t),s.resetZoomPan(),s.redraw(t)}}},CanvasXpress.prototype.initSelectEvents=function(){this.showHideSelectedData=function(t,e,i){if(!this.isTransition()){t&&this.stopEvent(t);var a=this.layoutComb?this.layoutValidN:0,s=this.layoutComb?this.layoutParams[a].graphType:this.graphType;if(45==e||46==e){if("Network"==s){var r=[],n=45!=e;for(var o in CanvasXpress.selector.nodes)r.push(o);r.length&&this.hideUnhideNodes(r,n)}else if(s.match(/Scatter/))for(v in CanvasXpress.selector.vars)this.hideUnhideVars(v);i||this.draw({func:"showHideSelectedData",par:[t,e,i]})}else if((36==e||1e3==e)&&"Network"==s){for(var h={},l=[],c=(r=this.data.nodes,this.data.edges),d=0;d<c.length;d++)1e3==e?CanvasXpress.selector.nodes.hasOwnProperty(c[d].id1)&&CanvasXpress.selector.nodes.hasOwnProperty(c[d].id2)&&(h[c[d].id1]=!0,h[c[d].id2]=!0):(CanvasXpress.selector.nodes.hasOwnProperty(c[d].id1)||CanvasXpress.selector.nodes.hasOwnProperty(c[d].id2))&&(h[c[d].id1]=!0,h[c[d].id2]=!0);for(d=0;d<r.length;d++)h.hasOwnProperty(r[d].id)&&!r[d].hide||l.push(r[d].id);this.resetSelected(t),l.length>0&&(this.hideUnhideNodes(l,!0),i||this.draw({func:"showHideSelectedData",par:[t,e,i]}))}}},this.broadcastDraw=function(t){if(!this.isTransition()){for(var e=[],i=this.broadcast?CanvasXpress.instances:[this],a=0;a<i.length;a++)this.broadcastGroup==i[a].broadcastGroup&&e.push(i[a]);for(a=0;a<e.length;a++){var s=e[a];"Map"==s.graphType&&"orthographic"==s.mapProjection&&s.eventMapCenter?s.transitionMap(s,t):(s.filterSelected(),s.draw(t))}}},this.broadcastHidden=function(t){var e=t.par[0];if(!this.isTransition()){for(var i=[],a=this.broadcast?CanvasXpress.instances:[this],s=0;s<a.length;s++)this.broadcastGroup==a[s].broadcastGroup&&i.push(a[s]);if(this.data&&this.data.y)if(e.op){for(s in e.hidden.hiddenVars)CanvasXpress.hidden.hiddenVars[s]=!0;for(s in e.hidden.hiddenSmps)CanvasXpress.hidden.hiddenSmps[s]=!0}else{for(s in e.unhidden.hiddenVars)CanvasXpress.hidden.hiddenVars[s]=!1;for(s in e.unhidden.hiddenSmps)CanvasXpress.hidden.hiddenSmps[s]=!1}if(this.data&&this.data.w)if(e.op)for(s in e.hidden.hiddenGrps)CanvasXpress.hidden.hiddenGrps[s]=!0;else for(s in e.unhidden.hiddenGrps)CanvasXpress.hidden.hiddenGrps[s]=!1;for(s=0;s<i.length;s++){var r=i[s],n=(r.graphType,!1);if(r.data&&r.data.y){for(var o=0;o<r.data.y.vars.length;o++){var h=r.data.y.vars[o];(CanvasXpress.hidden.hiddenVars.hasOwnProperty(h)||CanvasXpress.hidden.hiddenSmps.hasOwnProperty(h))&&(r.hiddenVarsLocal&&r.hiddenVarsLocal[h]||(r.hiddenVars[o]!=CanvasXpress.hidden.hiddenVars[h]&&(n=!0),r.hiddenVars[o]=CanvasXpress.hidden.hiddenVars[h]))}for(o=0;o<r.data.y.smps.length;o++){h=r.data.y.smps[o];(CanvasXpress.hidden.hiddenVars.hasOwnProperty(h)||CanvasXpress.hidden.hiddenSmps.hasOwnProperty(h))&&(r.hiddenSmpsLocal&&r.hiddenSmpsLocal[h]||(r.hiddenSmps[o]!=CanvasXpress.hidden.hiddenSmps[h]&&(n=!0),r.hiddenSmps[o]=CanvasXpress.hidden.hiddenSmps[h]))}}if(r.data&&r.data.w)for(o=0;o<r.data.w.smps.length;o++){h=r.data.w.smps[o];(CanvasXpress.hidden.hiddenVars.hasOwnProperty(h)||CanvasXpress.hidden.hiddenSmps.hasOwnProperty(h))&&(r.hiddenGrpsLocal&&r.hiddenGrpsLocal[h]||(r.hiddenGrps[o]!=CanvasXpress.hidden.hiddenGrps[h]&&(n=!0),r.hiddenGrps[o]=CanvasXpress.hidden.hiddenGrps[h]))}n&&i.length>1&&r.draw(t)}}},this.resetHidden=function(){CanvasXpress.hidden={hiddenVars:{},hiddenSmps:{},hiddenGrps:{},hiddenMapFeatures:{}}},this.filterSelected=function(){if(CanvasXpress.graphTypes.OneTwoThreeeDGraphs.includes(this.graphType)&&"filter"==this.selectionMode){var t=[];for(var e in CanvasXpress.selector.smps)t.push(e);var i=[];for(var e in CanvasXpress.selector.vars)i.push(e);var a=CanvasXpress.selector.graphType;if(this.graphType.match(/Scatter/))if(a&&this.data.y.histogram){var s=this.dataStndBy.y.smps[0];this.removeHistogram(!0),this.selectionMode="filter",this.filterVariables(!1,"exact",a.match(/Scatter/)?i:t,!1,!0),this.createHistogram(s)}else if(a&&a.match(/Scatter/))this.filterVariables(!1,"exact",i,!1,!0);else if(a)this.filterVariables(!1,"exact",t,!1,!0);else{s=!1;this.data.y.histogram&&(s=this.dataStndBy.y.smps[0],this.removeHistogram(!0),this.selectionMode="filter"),this.resetFilters(),this.toDoFilter={},this.reset(),s&&this.createHistogram(s)}else if(a&&this.graphType.match(/Pie|Treemap/))if(this.data.y.pie||this.data.y.treemap){s="Pie"==this.graphType?this.data.y.smps[0]:this.data.y.vars[0];"Pie"==this.graphType?this.removePie(!0):this.removeTreemap(!0),this.selectionMode="filter",this.filterSamples(!1,"exact",a.match(/Scatter/)?i:t,!1,!0),"Pie"==this.graphType?this.createPie(s):this.createTreemap(s)}else this.filterVariables(!1,"exact",i,!1,!0);else if(a&&a.match(/Scatter/))this.filterSamples(!1,"exact",i,!1,!0);else if(a)this.filterSamples(!1,"exact",t,!1,!0);else{s=!1;(this.data.y.pie||this.data.y.treemap)&&(s="Pie"==this.graphType?this.data.y.smps[0]:this.data.y.vars[0],"Pie"==this.graphType?this.removePie(!0):this.removeTreemap(!0)),this.resetFilters(),this.toDoFilter={},this.reset(),s&&("Pie"==this.graphType?this.createPie(s):this.createTreemap(s))}}},this.isSelected=function(t){if(CanvasXpress.selector.selections){var e=CanvasXpress.selector.graphType||"";if(this.graphType.match(/Genome/));else{if("Network"==this.graphType){var i=this.data.nodes[this.data.nodeIndices[t]];if(i){var a=i.name||"AbsurdName",s=i.label||"AbsurdName";return CanvasXpress.selector.nodes.hasOwnProperty(t)||CanvasXpress.selector.mixed.hasOwnProperty(a)||CanvasXpress.selector.mixed.hasOwnProperty(s)}return CanvasXpress.selector.nodes.hasOwnProperty(t)}if("Map"==this.graphType){if(!this.isArray(t))return!1;if(this.motionBy)for(var r=this.motionObject.levels,n=0;n<r.length;n++){if(CanvasXpress.selector.vars.hasOwnProperty(r[n])){this.updateMotionToCurrent(r[n],!0);break}if(CanvasXpress.selector.smps.hasOwnProperty(r[n])){this.updateMotionToCurrent(r[n],!0);break}}return CanvasXpress.selector.vars.hasOwnProperty(t[0].split(":")[1])||CanvasXpress.selector.mixed.hasOwnProperty(t[0].split(":")[1])}if(this.graphType.match(/Scatter/)){var o=this.data.y.vars[t[0]],h=this.data.y.smps[t[1]],l=this.data.y.smps[t[2]];if(e.match(/Scatter/)){if(this.isCreateHistogram||this.xAxisIndices.length>1||this.yAxisIndices.length>1){if(CanvasXpress.selector.comp.hasOwnProperty(o+"::"+h+"::"+l))return!0;if((m=this.getVariableIndices(o))>=0&&this.data.y.histogram)for(var c=0;c<this.data.y.histogram[m][0].length;c++){var d=this.dataStndBy.y.vars[this.data.y.histogram[m][0][c]];if(CanvasXpress.selector.vars.hasOwnProperty(d))return!0}return!1}return CanvasXpress.selector.vars.hasOwnProperty(o)}if(this.isCreateHistogram&&!this.isDOE){if((m=this.getVariableIndices(o))>=0)for(c=0;c<this.data.y.histogram[m][0].length;c++){d=this.dataStndBy.y.vars[this.data.y.histogram[m][0][c]];if(CanvasXpress.selector.smps.hasOwnProperty(d))return!0}return!1}return CanvasXpress.selector.nodes.hasOwnProperty(o)||CanvasXpress.selector.smps.hasOwnProperty(o)}o=this.data.y.vars[t[0]];var p=5==t.length?t[3]:3==t.length?this.data.y.smps[t[2]]:this.data.y.smps[t[1]],g=!!this.isGroupedData&&this.data.w.smps[t[1]];if(e.match(/Scatter/)){if(this.isGroupedData)return"Dotplot"==this.graphType||"Boxplot"==this.graphType&&this.showBoxplotOriginalData?CanvasXpress.selector.vars.hasOwnProperty(o)&&CanvasXpress.selector.smps.hasOwnProperty(p):CanvasXpress.selector.comp.hasOwnProperty(o+"::"+g);if("Treemap"==this.graphType||"Pie"==this.graphType){var u=this.graphType.toLowerCase();if((m="Treemap"==this.graphType?this.getSampleIndices(p):this.getVariableIndices(o))>=0&&this.data.y[u])for(c=0;c<this.data.y[u][m].length;c++){d=this.dataStndBy.y.smps[this.data.y[u][m][c]];if(CanvasXpress.selector.vars.hasOwnProperty(d))return!0}return!1}return CanvasXpress.selector.vars.hasOwnProperty(p)}if(e.match(/Pie|Treemap/)){if(this.isGroupedData)return"Dotplot"==this.graphType||"Boxplot"==this.graphType&&this.showBoxplotOriginalData?CanvasXpress.selector.vars.hasOwnProperty(o)&&CanvasXpress.selector.smps.hasOwnProperty(p):CanvasXpress.selector.comp.hasOwnProperty(o+"::"+g);if(this.data.y.hasOwnProperty("pie")||this.data.y.hasOwnProperty("treemap")){if(CanvasXpress.selector.meta.hasOwnProperty(o)&&CanvasXpress.selector.meta[o].hasOwnProperty(p))return!0;u=this.graphType.toLowerCase();if((m="Treemap"==this.graphType?this.getSampleIndices(p):this.getVariableIndices(o))>=0&&this.data.y[u])for(c=0;c<this.data.y[u][m].length;c++){d=this.dataStndBy.y.smps[this.data.y[u][m][c]];if(CanvasXpress.selector.smps.hasOwnProperty(d))return!0}return!1}return"Pie"==this.graphType?CanvasXpress.selector.vars.hasOwnProperty(o):CanvasXpress.selector.smps.hasOwnProperty(p)}if(this.isGroupedData)return"Dotplot"==this.graphType||"Boxplot"==this.graphType&&this.showBoxplotOriginalData?CanvasXpress.selector.vars.hasOwnProperty(o)&&CanvasXpress.selector.smps.hasOwnProperty(p):"Bar"==this.graphType&&this.stackBy?CanvasXpress.selector.comp.hasOwnProperty(o+"::"+g+"::"+this.stackBy+"::"+t[4]):CanvasXpress.selector.comp.hasOwnProperty(o+"::"+g);if("Treemap"==this.graphType||"Pie"==this.graphType){var m;u=this.graphType.toLowerCase();if((m="Treemap"==this.graphType?this.getSampleIndices(p):this.getVariableIndices(o))>=0&&this.data.y[u])for(c=0;c<this.data.y[u][m].length;c++){d=this.dataStndBy.y.smps[this.data.y[u][m][c]];if(CanvasXpress.selector.smps.hasOwnProperty(d))return!0}return!1}switch(this.graphType){case"Heatmap":return CanvasXpress.selector.comp.hasOwnProperty(o+"::"+p);case"Boxplot":return this.showBoxplotOriginalData?CanvasXpress.selector.comp.hasOwnProperty(o+"::"+p):CanvasXpress.selector.vars.hasOwnProperty(o)&&CanvasXpress.selector.smps.hasOwnProperty(p);default:return(1==this.data.y.vars.length||"Map"==e||this.layoutValid||CanvasXpress.selector.vars.hasOwnProperty(o))&&CanvasXpress.selector.smps.hasOwnProperty(p)}}}return!1},this.addRemoveToSelected=function(t,e,i){var a=function(t,e,i){CanvasXpress.selector[e].hasOwnProperty(t)&&CanvasXpress.selector[e][t]?i||(delete CanvasXpress.selector[e][t],CanvasXpress.selector.selections--):(CanvasXpress.selector[e][t]=!0,CanvasXpress.selector.selections++)};if(e&&(e.y||e.w))if(this.graphType.match(/Scatter/))if(this.isCreateHistogram){for(var s=t[1]-1,r=0;r<e.y.histogram[s].length;r++){a(d=this.dataStndBy.y.vars[e.y.histogram[s][r]],"vars")}a(this.data.y.vars[t[0]]+"::"+this.data.y.smps[t[1]]+"::"+this.data.y.smps[t[2]],"comp")}else{if(this.xAxisIndices.length>1||this.yAxisIndices.length>1)if(e.y.comp)for(var s in e.y.comp)a(s,"comp");else for(s=0;s<e.y.vars.length;s++)a(e.y.vars[s]+"::"+e.y.smps[0]+"::"+e.y.smps[1],"comp");if(e.y.vars)for(s=0;s<e.y.vars.length;s++)a(e.y.vars[s],"vars");if(e.y.smps)for(s=0;s<e.y.smps.length;s++)a(e.y.smps[s],"smps",this.getKeys(CanvasXpress.selector.vars).length)}else{var n=this.graphType.toLowerCase();if(this.data.y[n]){CanvasXpress.selector.meta.hasOwnProperty(e.y.vars[0])||(CanvasXpress.selector.meta[e.y.vars[0]]={}),e.y&&!CanvasXpress.selector.meta[e.y.vars[0]].hasOwnProperty(e.y.smps[0])?CanvasXpress.selector.meta[e.y.vars[0]][e.y.smps[0]]=!0:e.y&&(CanvasXpress.selector.meta[e.y.vars[0]][e.y.smps[0]]=!CanvasXpress.selector.meta[e.y.vars[0]][e.y.smps[0]]);s="Pie"==this.graphType?this.getVariableIndices(e.y.vars[0]):(this.graphType,this.getSampleIndices(e.y.smps[0]));for(var o=0;o<this.data.y[n][s].length;o++){a(d=this.dataStndBy.y.smps[this.data.y[n][s][o]],"smps")}}else{if(this.isGroupedData&&e.objectType&&"Stack"==e.objectType&&e.y&&e.w){a(e.y.vars[0],"vars");for(s=0;s<e.y.smps.length;s++)a(e.y.smps[s],"smps");a(e.y.vars[0]+"::"+e.w.smps[0]+"::"+this.stackBy+"::"+e.stack,"comp")}if(this.isGroupedData&&e.w){if((this.graphType.match(/Dotplot/)||"Boxplot"==this.graphType&&this.showBoxplotOriginalData)&&e.y)a(e.y.vars,"vars"),a(e.y.smps,"smps");else{for(s=0;s<e.w.vars.length;s++)a(e.w.vars[s],"vars");for(s=0;s<e.w.grps.length;s++)for(r=0;r<e.w.grps[s].length;r++)a(this.data.y.smps[e.w.grps[s][r]],"smps")}a(this.groupingFactors.join("::")+"::"+e.w.smps.join("::"),"meta"),a(e.w.vars.join("::")+"::"+e.w.smps.join("::"),"comp")}else{if(this.graphType.match(/Heatmap/))for(s=0;s<e.y.vars.length;s++)for(r=0;r<e.y.smps.length;r++)a(e.y.vars[s]+"::"+e.y.smps[r],"comp");if(e.y.vars)for(s=0;s<e.y.vars.length;s++)a(e.y.vars[s],"vars");if(e.y.smps)for(s=0;s<e.y.smps.length;s++)a(e.y.smps[s],"smps");"Map"==this.graphType&&t&&t[0]&&t[0].toString().match(":")&&a(t[0].split(":")[1],"mixed")}}}else if(e&&"Histogram"==e.objectType&&this.xAxisIndices.length==this.yAxisIndices.length&&this.xAxisIndices.length>1){var h=this[e.a].cntx[e.d],l=h[0],c=h[1],d=this[e.a].histogram[e.b][e.c-1];for(s=0;s<d.length;s++)a(this.data.y.vars[d[s]]+"::"+this.data.y.smps[l]+"::"+this.data.y.smps[c],"comp");for(s=0;s<d.length;s++)a(this.data.y.vars[d[s]],"vars");a(this.data.y.smps[l],"smps"),a(this.data.y.smps[c],"smps")}else if(e&&e.nodes)for(s=0;s<e.nodes.length;s++)a(e.nodes[s].id,"nodes"),e.nodes[s].name&&a(e.nodes[s].name,"mixed"),e.nodes[s].label&&a(e.nodes[s].label,"mixed");else t?this.addRemoveToSelected(!1,this.extractDataObject(t),i):e&&e.idx&&"Map"==this.graphType&&(a(e.idx,"vars"),a(e.idx,"mixed"));if(CanvasXpress.selector.selections&&(CanvasXpress.selector.graphType=this.graphType),e&&this.userEvents.select)if(e.y){d=this.getVariableIndices(this.getKeys(CanvasXpress.selector.vars));var p=this.getSampleIndices(this.getKeys(CanvasXpress.selector.smps)),g=this.extractDataObject(p,d);this.userEvents.select.call(this,g,i,this)}else e.nodes,this.userEvents.select.call(this,e,i,this)},this.drawSelectedLabel=function(t,e,i){this.isSelected(t)&&"name"==this.selectionMode&&(this.selectionMetadata&&this.data.z&&this.data.z[this.selectionMetadata]?lab=this.data.z[this.selectionMetadata][t[0]]||this.data.y.vars[t[0]]:lab=this.data.y.vars[t[0]],this.toRender({p:["drawText",lab,e,i,this.varLabelFont,this.foreground,"center","middle"],t:"Labels"}))},this.resetSelected=function(t,e){if(!this.isTransition()&&CanvasXpress.selector.selections){var i=this.getKeys(CanvasXpress.selector.vars).length?{y:{vars:[],smps:[],data:[]}}:{nodes:[],edges:[]};CanvasXpress.selector={meta:{},vars:{},smps:{},comp:{},nodes:{},edges:{},mixed:{},selections:0,graphType:!1},this.userEvents.select&&this.userEvents.select.call(this,i,t,this),e||this.broadcastDraw({func:"resetSelected",par:[t,e]})}},this.getSelectedExcludedFromRender=function(t){if(!this.graphType.match(/Scatter/))return!1;var e=this.graphType.match(/Scatter2D/)?t[1]+":"+t[2]:t[1]+":"+t[2]+":"+t[3],i=this.graphType.match(/Scatter2D/)&&this.meta.data.d.a.hasOwnProperty(e)?this.meta.data.d.a[e]:{skip:{},density:{}},a=[];if(i.density.hasOwnProperty(t[0]))for(var s in i.skip)i.skip[s]==t[0]&&a.push(Number(s));return a}},CanvasXpress.prototype.initDendrogramEvents=function(){this.zoomDendrogram=function(t){if(!this.isTransition()){if(!t||!t.objectType||!t.objectType.match(/Dendrogram/))return!1;var e=function(t){if(t.children)for(var i=0;i<t.children.length;i++)e(t.children[i]);else a.push(t.idx);return a},i=function(e){if(!r&&(null!=e.nodeId&&e.nodeId==t.nodeId&&(r=!0,s=e),e.children))for(var a=0;a<e.children.length;a++)i(e.children[a])},a=[],s={},r=!1,n=this[t.objectType];i(n),this.setOriginalIndices();var o=this.layoutComb?this.layoutParams[t.c||0]:this;if("varDendrogram"==t.objectType){o.varIndices=e(s);for(var h=0;h<o.startingVarIndices.length;h++)if(o.startingVarIndices[h]==o.varIndices[0]){o.varIndicesStart=h;break}}else if(this.isGroupedData){o.grpIndices=e(s);for(h=0;h<o.startingGrpIndices.length;h++)if(o.startingGrpIndices[h]==o.grpIndices[0]){o.grpIndicesStart=h;break}}else{o.smpIndices=e(s);for(h=0;h<o.startingSmpIndices.length;h++)if(o.startingSmpIndices[h]==o.smpIndices[0]){o.smpIndicesStart=h;break}}this.draw({func:"zoomDendrogram",par:[t]})}},this.modifyDendrogram=function(t){if(!this.isTransition()){if(!t||!t.objectType||!t.objectType.match(/Dendrogram/))return!1;var e=function(t){if(t.children)for(var i=0;i<t.children.length;i++)e(t.children[i]);else a.push(t.idx);return a},i=function(e){if(!s&&(null!=e.nodeId&&e.nodeId==t.nodeId&&(e.children.reverse(),s=!0),e.children))for(var a=0;a<e.children.length;a++)i(e.children[a])},a=[],s=!1,r=this[t.objectType],n=t.objectType+"Newick";this.setOriginalIndices(),i(r),this[n]=this.writeNewick(r);var o=this.layoutComb?this.layoutParams[t.c||0]:this;"varDendrogram"==t.objectType?o.startingVarIndices=e(r):this.isGroupedData?o.startingGrpIndices=e(r):o.startingSmpIndices=e(r),this.draw({func:"modifyDendrogram",par:[t]})}}},CanvasXpress.prototype.initCanvasEvents=function(){var t;this.moveCanvas=function(t,e){var i=this.remoteService?this.$(this.remoteParentId+"-canvasXpressRemoteWindow"):this.$("container-"+this.target);i&&(i.style.left=t,i.style.top=e)},this.contextmenuCanvas=(t=this,function(e){return e&&(t.motioningOn?t.stopEvent(e):e.ctrlKey?(t.cancelEvent(e),t.clickCanvas(e)):(t.cancelEvent(e),t.handleMouseEvents(e,"contextmenu",t.isEventIndices(e)))),!1}),this.mousedownCanvas=function(t){return function(e){if(t.motioningOn)t.stopEvent(e);else if(CanvasXpress.system.isTouchScreen&&"touchstart"==e.type){e.preventDefault?e.preventDefault():e.returnValue=!1,t.touchEvent="click",t.touches||(t.touches=[]);for(var i=0;i<e.touches.length;i++){var a=e.touches[i].identifier;t.touches[a]||(t.touches[a]=t.cleanTouchEvent(e.touches[i]))}t.tapBuffer?(clearTimeout(t.tapBuffer),t.tapBuffer=null,t.touchEvent=t.touches.length>1?"contextmenu":"dblclick",t.registerDrag(e)):t.tapBuffer=setTimeout((function(){t.tapBuffer=null}),200)}else(e&&e.which?3!=e.which:e&&e.button&&2!=e.button)&&(t.configuringOn||t.registerDrag(e));return!1}}(this),this.clickCanvas=function(t){return function(e){t.isIE&&(e=t.copyEvent(e)),t.resetMenus(),t.resetLinks(),t.clickBuffer=function(){if(t.motioningOn)return t.stopEvent(e),!1;t.doubleClick||(t.configuringOn?t.resetConfigurator(e):t.skipClick||t.handleMouseEvents(e,"click",t.isEventIndices(e)),t.lastCanvasEvent="click")},setTimeout(t.clickBuffer,250),setTimeout((function(){t.doubleClick=!1}),500)}}(this),this.dblclickCanvas=function(t){return function(e){if(t.doubleClick=!0,t.motioningOn)return t.stopEvent(e),!1;if(t.clickBuffer&&(clearTimeout(t.clickBuffer),t.clickBuffer=null),!t.skipClick){var i=t.isEventIndices(e);i?t.handleMouseEvents(e,"dblclick",i):(t.cancelEvent(e),t.addConfigurator(e)),t.lastCanvasEvent="dblclick"}return!1}}(this),this.wheelCanvas=function(t){return function(e,i,a){if(t.motioningOn)return t.stopEvent(e),!1;if(t.lastWheel&&(new Date).getTime()-t.lastWheel<20)return t.cancelEvent(e),!1;t.lastWheel=(new Date).getTime();var s=0;e.wheelDelta?(s=e.wheelDelta/120,window.opera&&(s=-s)):e.detail?s=-e.detail/3:i&&(s=i),s&&t.handleWheelEvent(e,s,a)}}(this),this.dropCanvas=function(t){return function(e){t.cancelEvent(e);var i=e.dataTransfer,a=e.dataTransfer.getData("text/html"),s=e.dataTransfer.getData("text/uri-list");if(t.motioningOn||t.mousePositioning)return t.stopEvent(e),!1;if(i&&i.files.length>0)t.loadFile(i);else if(i&&s){var r=t.newId("-cX-data-url-");t.dataURL=s,t.getDataFromURLOrString(r,!1,!1,!1,(function(){CanvasXpress.$(r).$("container-"+r).style.display="block"}))}else if(a.match(/img.+src=.+png/)){var n=t.$cX("div");n.innerHTML=a;s=n.firstChild.src;var o=function(e){var i=new FileReader;i.onloadend=function(){var e=t.parseDataFromPNG(this.result);e.uploadFile=!0,t.remoteServiceType="file",t.updateRemoteData(e)},i.readAsArrayBuffer(e)};t.ajaxRequest(s,!1,o,"blob")}this.className="CanvasXpress"}}(this),this.dragEnterCanvas=function(t){return function(e){if(!t.motioningOn&&!t.mousePositioning)return t.cancelEvent(e),this.className="CanvasXpressUpload",!1}}(this),this.dragOverCanvas=function(t){return function(e){if(!t.motioningOn&&!t.mousePositioning)return t.cancelEvent(e),this.className="CanvasXpressUpload",!1}}(this),this.dragLeaveCanvas=function(t){return this.className="CanvasXpress",!1},this.addRemoveCanvasListeners=function(t){var e=this.meta.canvas.ctx2.canvas;this[t](e,"contextmenu",this.contextmenuCanvas,!1),this[t](e,"mousedown",this.mousedownCanvas,!1),this[t](e,"touchstart",this.mousedownCanvas,{passive:!1}),this[t](e,"click",this.clickCanvas,!1),this[t](e,"dblclick",this.dblclickCanvas,!1),this[t](e,"mousewheel",this.wheelCanvas,{passive:!1}),this[t](e,"drop",this.dropCanvas,!1),this[t](e,"dragenter",this.dragEnterCanvas,!1),this[t](e,"dragover",this.dragOverCanvas,!1),this[t](e,"dragleave",this.dragLeaveCanvas,!1)},this.isVersion=function(t){if(this.showVersion){var e=this.adjustedCoordinates(t);return!!(e&&e.x>=0&&e.x<=13&&e.y>=0&&e.y<=13)}},this.isHelp=function(t){var e=this.adjustedCoordinates(t);return!!(e&&e.x>0&&e.x<=13&&e.y>0&&e.y<=13)},this.handleWheelEvent=function(t,e,i){if(!this.isTransition()&&!this.disableWheel){this.skipTransition=!0;var a=this.getTargetEvent(t);a&&/CanvasXpress/.test(a.className)&&(CanvasXpress.current=a.id);var s={panningX:this.panningX,panningY:this.panningY};if("Correlation"==this.graphType||"Heatmap"==this.graphType||this.graphType.match(/Bar|Line|Dotplot|Boxplot|Area|Stacked/)&&!this.is3DPlot){if(this.cancelEvent(t),this.layoutComb&&!this.layoutAdjust&&"Correlation"!=this.graphType&&"Heatmap"!=this.graphType)return!1;this.setIndicesAfterWheelEvent(t,e)}else if("Scatter2D"==this.graphType||"ScatterBubble2D"==this.graphType||"Genome"==this.graphType){if(this.cancelEvent(t),"Genome"==this.graphType&&this.xAxisUnit>100&&e>0)return;this.setRangesAfterWheelEvent(t,e)}else if("Scatter3D"==this.graphType||this.is3DPlot){if(this.cancelEvent(t),i||(i=this.adjustedCoordinates(t),t.ac={x:i.x,y:i.y}),i){i.x-=this.marginLeft+this.left,i.y-=this.marginTop+this.top;var r=Math.min(Math.max(i.x,0),this.x)/this.x-.5,n=Math.min(Math.max(i.y,0),this.y)/this.y-.5}if(e>0){if(this.zoom>=4)return;this.zoom*=1.1,this.padX-=r*this.padX/4,this.padY-=n*this.padY/4}else{if(this.zoom<=.5)return;this.zoom*=.9,this.padX+=r*this.padX/4,this.padY+=n*this.padY/4}this.draw({func:"handleWheelEvent",par:[t,e,i],prop:s})}else if("Network"==this.graphType){if(this.cancelEvent(t),i||(i=this.adjustedCoordinates(t),t.ac={x:i.x,y:i.y}),i){"keydown"==t.type&&(i.x=this.width/2,i.y=this.height/2);var o=i.x/this.scaleFactorX-this.offsetX,h=i.y/this.scaleFactorY-this.offsetY,l=this.scaleFactorX*this.zoomStep,c=this.scaleFactorY*this.zoomStep,d=Math.min(l,c),p=Math.abs(e>0?this.zoom+d:this.zoom-d),g=this.networkFreeze?Math.min(this.scaleFactorX,this.scaleFactorY)*p:Math.min(this.x/(this.maxX-this.minX),this.y/(this.maxY-this.minY))*p,u=g,m=this.x/g,f=this.y/u,y=m/2-(this.minX+this.maxX)/2+this.left/g,x=f/2-(this.minY+this.maxY)/2+this.top/u,b=i.x/g-y-o,v=i.y/u-x-h;this.panningX=b,this.panningY=v,this.zoom=p,this.draw({network:!0,func:"handleWheelEvent",par:[t,e,i],prop:s})}}else if("Circular"==this.graphType){if(this.cancelEvent(t),i||(i=this.adjustedCoordinates(t),t.ac={x:i.x,y:i.y}),i){var A=this.width/2,w=this.height/2,C=A-i.x,T=w-i.y,S=1*(e>0?-1:1)*.1;this.panningX+=C*S*2,this.panningY+=T*S*2,this.zoom+=S,this.draw({func:"handleWheelEvent",par:[t,e,i],prop:s})}}else if("Map"==this.graphType&&!this.layoutComb&&(this.cancelEvent(t),i||(i=this.adjustedCoordinates(t),t.ac={x:i.x,y:i.y}),i)){if("orthographic"==this.mapProjection)this.zoom+=e>0?.1*this.zoom:-.1*this.zoom;else{this.panningX=0,this.panningY=0;var D=this.meta.map.geojson,M=(S=D.zoom+(e>0?.1:-.1),Math.pow(2,S)/Math.pow(2,D.zoom)),k=this.width/2+(i.x-this.width/2)*(1-1/M),L=this.height/2+(i.y-this.height/2)*(1-1/M),I=this.mapPointToCoordinate([k+D.center[0],L+D.center[1]]);D.geometry.zoom=S,D.geometry.center=I,D.isZoomed=!0}this.draw({func:"handleWheelEvent",par:[t,e,i],prop:s})}return this.userEvents.wheel&&this.userEvents.wheel.call(this,t,e,this),!1}},this.getTreeNode=function(t){if(null!=t){t=t.toString().replace("Tree-Node:","");for(var e=this.data.tree.plot.descendants(),i=e.length,a=0;a<i;a++){var s=e[a];if(s.id==t)return s}}return!1},this.handleTreeClick=function(t){if(t){var e=!1,i=this.getTreeNode(t.id);i&&(e=!0,this.data.tree.click=i,i.children?(i._children=i.children,i.children=null):(i.children=i._children,i._children=null)),e&&this.draw({func:"handleTreeClick",par:[t]})}},this.handleDOEClick=function(t){var e=!!t&&this.extractDataObject(t);if(this.isDOE&&t&&this.layoutValidN){if(t[0].toString().match(/legend|PieVar/))return!1;e&&e.w?e.y?this.dataStndBy.l.doe=[t[2]]:this.dataStndBy.l.doe=e.w.grps[0]:e&&e.y.pie?this.dataStndBy.l.doe=e.y.pie[0]:e&&e.y.treemap?(this.dataStndBy.l.doe=e.y.treemap[0],this.dataStndBy.l.treemap=e.y.smps[0]):e&&e.y.histogram?this.dataStndBy.l.doe=e.y.histogram[0]:t&&t[1]&&(this.dataStndBy.l.doe=[t[1]]),this.draw({func:"handleDOEClick",par:[t],prop:{layoutValidN:this.layoutValidN}})}},this.handleChordMouseOver=function(t){t&&this.highlightCanvas(this.getKeys(this.circularChord.segments[t.id].ribbons))},this.getEventAreaData=function(t){return this.extractDataObject(this.isEventIndices(t))},this.handleMouseEvents=function(t,e,i){if(this.isTransition())return!1;if(this.lastEvent=t,this.layoutComb&&(this.setActiveLayout(t),null==!this.layoutValidN))return!1;var a=!!i&&this.extractDataObject(i);return this.userEvents[e]&&("object"==typeof this.userEvents[e]&&this.userEvents[e].handler&&this.userEvents[e].scope?this.userEvents[e].handler.apply(this.userEvents[e].scope,[a,t,this,i]):"object"==typeof this.userEvents[e]&&this.userEvents[e].handler?this.userEvents[e].handler(a,t,this,i):this.userEvents[e](a,t,this,i)),a&&"Chord"==a.objectType},this.formatCoords=function(t,e){var i=[],a=e.length;if("Network"!=this.graphType)for(var s=0;s<a;s++)s%2?i.push(this.sprintf("%.0f",(e[s]+this.translateY)*this.scaleY)):this.layoutValid&&"circle"==t&&2==s?i.push(this.sprintf("%.0f",e[s]*((this.scaleX+this.scaleY)/2))):i.push(this.sprintf("%.0f",(e[s]+this.translateX)*this.scaleX));else for(s=0;s<a;s++)i.push(this.sprintf("%.0f",parseInt(e[s])));"rect"==t&&(i=[Math.min(i[0],i[2]),Math.min(i[1],i[3]),Math.max(i[0],i[2]),Math.max(i[1],i[3])]);return i.join(",")},this.drawArea=function(t){var e=this.meta.canvas.ctx2;e.strokeStyle="red",e.fillStyle="green",e.lineWidth=2;var i=[],a=this.meta.render.objects,s=a.length;if(t)i.push(t);else for(var r=0;r<s;r++)a[r].idx&&i.push(r);var n=i.length;for(r=0;r<n;r++){var o=this.cloneObject(a[i[r]]);if(o.idx){var h=o.area;switch(h[0]){case"rect":e.beginPath(),e.moveTo(h[1],h[2]),e.lineTo(h[3],h[2]),e.lineTo(h[3],h[4]),e.lineTo(h[1],h[4]),e.closePath(),e.stroke();break;case"circle":e.beginPath(),e.arc(h[1],h[2],Math.abs(h[3]),0,2*Math.PI,!0),e.closePath(),e.stroke();break;case"poly":e.beginPath(),e.moveTo(h[1],h[2]),e.arc(h[1],h[2],5,0,2*Math.PI,!0),e.closePath(),e.fill(),e.beginPath(),e.moveTo(h[1],h[2]);for(var l=3;l<h.length;l+=2)e.lineTo(h[l],h[l+1]);e.closePath(),e.stroke()}}}},this.adjustNetworkObjects=function(t){if(!t)return!1;if("circle"==t[0])t[1]=this.adjustNetworkObjectX(t[1]),t[2]=this.adjustNetworkObjectY(t[2]),t[3]=t[3]*Math.min(this.scaleFactorX,this.scaleFactorY)*.75;else for(var e=t.length,i=1;i<e;i++)t[i]=i%2?this.adjustNetworkObjectX(t[i]):this.adjustNetworkObjectY(t[i]);return t},this.adjustNetworkObjectFont=function(t){var e=this.getFontPt(t),i=Math.floor(e*Math.min(this.scaleFactorX,this.scaleFactorY));return t.replace(e,i)},this.adjustNetworkObjectX=function(t){return(this.offsetX+t)*this.scaleFactorX},this.adjustNetworkObjectY=function(t){return(this.offsetY+t)*this.scaleFactorY},this.adjustBackNetworkObjectX=function(t){return t/this.scaleFactorX-this.offsetX},this.adjustBackNetworkObjectY=function(t){return t/this.scaleFactorY-this.offsetY},this.adjustNetworkMouseDownX=function(t){return(t-this.xMouseDown)/this.scaleFactorX},this.adjustNetworkMouseDownY=function(t){return(t-this.yMouseDown)/this.scaleFactorY},this.clearHighlightCanvas=function(){this.meta.canvas.ctx2.canvas.width=this.width,this.meta.canvas.ctx2.canvas.height=this.height},this.highlightCanvas=function(t){this.clearHighlightCanvas(),this.isHighlightCanvas=!0;var e=this.meta.render.objects,i=function(t){for(var i=t;i>=0;i--)if("setClipArea"==e[i].func)return e[i].params[0];return!1};if(this.lassoSelected&&this.lassoPoints&&this.lassoPoints.length)this.drawShape("polygon",this.lassoPoints[0],this.lassoPoints[1],!1,!1,"rgba(245,245,245,0.75)","rgb(0,0,0)");else if(t){for(var a={polygon:!0,path:!0,spline:!0,confidence:!0,violin:!0},s=[],r=t.length,n=0;n<r;n++)s=s.concat(this.meta.render.groups[e[t[n]].group]);s=s.sort();var o={},h=!1,l=this.outlineWidth;if(this.highlightGreyOut&&function(){for(var t=0;t<s.length;t++)if("Data"==e[s[t]].type)return!0;return!1}()){var c="rgba(255,255,255,"+this.highlightGreyOutTransparency+")";this.drawShape("rectangle",this.width/2,this.height/2,this.width,this.height,c,c)}var d=s.length,p=2*Math.PI;for(n=0;n<d;n++)if(!o[s[n]]){o[s[n]]=!0;var g=this.meta.render.objects[s[n]],u=g.func,m=this.cloneObject(g.params),f=this.graphType;if(this.outlineWidth=l,g&&g.type.match(/Axes/))continue;if(u&&m){switch(u){case"drawLine":if(m[1]==m[3]?(m[1]=.5+(m[1]+.5<<1>>1),m[3]=m[1]):m[2]==m[4]&&(m[2]=.5+(m[2]+.5<<1>>1),m[4]=m[2]),"Network"==f&&!this.preScaleNetwork){if(m[1]=this.adjustNetworkObjectX(m[1]),m[2]=this.adjustNetworkObjectY(m[2]),m[3]=this.adjustNetworkObjectX(m[3]),m[4]=this.adjustNetworkObjectY(m[4]),this.isArray(m[12])){pc=[];for(var y=0;y<m[12].length;y++){pc[y]=[];for(var x=0;x<m[12][y].length;x++)pc[y][x]=x%2?this.adjustNetworkObjectY(m[12][y][x]):this.adjustNetworkObjectX(m[12][y][x])}m[12]=pc}m[8]=m[8]*this.scaleFactorX,m[9]=m[9]*this.scaleFactorY}"error"==m[0]?this.outlineWidth=3:m[6]=m[6]?parseFloat(m[6])+2:3,"Network"==f||h||(this.setClipArea(m[11]?m[11]:i(s[n])),h++);break;case"drawShape":"object"==typeof g.params[5]&&(m[5]=g.params[5]),"Network"!=f||this.preScaleNetwork||"Legends"==g.type?a.hasOwnProperty(m[0])?m[9]=2:"arch"==m[0]?(m[4][0]=parseFloat(m[4][0])+1,m[4][1]=parseFloat(m[4][1])+1):(m[3]=parseFloat(m[3])+4,m[4]=parseFloat(m[4])+4):(m[1]=this.adjustNetworkObjectX(m[1]),m[2]=this.adjustNetworkObjectY(m[2]),m[3]=(m[3]+4)*this.scaleFactorX,m[4]=(m[4]+4)*this.scaleFactorY),"sphere"==m[0]&&this.isColorTransparent(m[5])?(m[5]=this.removeColorTransparency(m[5],!0),m[6]=this.foreground,m[9]=2):"bezier"==m[0]&&m[8]&&this.isArray(m[8])?(m[5]=this.getLinearGradient(0,0,m[3],0,[m[8][0],m[8][1]]),m[6]=this.foreground):"pie"==m[0]&&m[12]%p==m[13]%p?(m[0]="sphere",m[5]=this.addColorTransparency(m[5],.7,!0),m[6]=this.foreground,m[12]=!1,m[13]=!1):(m[5]=this.addColorTransparency(m[5],.7,!0),m[6]=this.foreground),"Network"==f||h||(this.setClipArea(m[11]?m[11]:i(s[n])),h++);break;case"drawArcText":case"drawText":"Network"!=f||this.preScaleNetwork||"Legends"==g.type?(m[1]-=0,m[2]-=0):(m[1]=this.adjustNetworkObjectX(m[1]),m[2]=this.adjustNetworkObjectY(m[2]),m[3]=this.adjustNetworkObjectFont(m[3]));break;default:return this.isHighlightCanvas=!1,void(this.outlineWidth=l)}this[u].apply(this,m),this.outlineWidth=l}}h&&this.resetClipArea()}this.isHighlightCanvas=!1},this.flash=function(t,e,i,a,s,r){var n=this.$cX("div",{id:this.target+"canvasXpressFlash"+(new Date).getTime()},{left:t-i/2+"px",top:e-a/2+"px",width:i+"px",height:a+"px",borderRadius:"999px",WebkitBorderRadius:"999px",MozBorderRadius:"999px",opacity:.6,filter:"alpha(opacity = 60)",position:"absolute",zIndex:1e5,display:"block",backgroundColor:s||this.resizerBackgroundColor});this.meta.canvas.ctx.canvas.parentNode.appendChild(n),r||(r=3);var o=this,h=1;(function(){this.update=function(){n.style.display=h%2?"none":"block",h>=2*r&&(o.meta.canvas.ctx.canvas.parentNode.removeChild(n),clearInterval(t)),h++};var t=o.setInterval(this.update,300)}).call()},this.initializeCanvasEvents=function(){this.disableEvents||this.disableCanvas||this.addRemoveCanvasListeners("addEvtListener")},this.toRender=function(t){var e=function(t){return!(!g||!g.map.hasOwnProperty(t))&&g.map[t]},i=t.p,a=t.a,s=t.i,r=t.m,n=t.g,o=t.s,h=t.b,l=t.t,c=t.h,d=t.d,p=this.meta.render,g=p.transition,u=i.shift(),m=u.match(/^draw/)?u.replace("draw","").substring(0,1):"O",f=p.objects.length,y=this.transparencyHidden;n=null!=n?n.toString():f,p.groups.hasOwnProperty(n)||(p.groups[n]=[]),p.types.hasOwnProperty(l)||(p.types[l]={all:[],drawShape:[],drawLine:[],drawText:[],drawArcText:[],other:[]}),p.order.includes(l)||p.order.push(l);var x=p.types[l].hasOwnProperty(u)?p.types[l][u].length:p.types[l].other.length,b=s&&this.isArray(s)?s.join(":"):s||l+":"+m+":"+this.padNumber(x);switch(p.objects.push({func:u,params:i,idx:s,id:b,modifier:r,group:n,area:a,layout:!!this.layoutComb&&this.layoutCurrent,type:l,skip:o,baseline:h}),p.groups[n].push(f),p.types[l].all.push(f),u){case"drawShape":p.types[l].drawShape.push(f);break;case"drawLine":p.types[l].drawLine.push(f);break;case"drawText":case"drawArcText":p.types[l].drawText.push(f);break;default:p.types[l].other.push(f)}if(n!=f&&"drawLine"==u&&p.objects[n].idx&&(s||(s=p.objects[n].idx),b=s.join(":")+":"+p.groups[n].length,p.objects[f].id=b,this.showBoxplotOriginalData),p.origin[f]=[],"Data"==l&&s&&!this.graphType.match(/Scatter|Treemap/))if(this.isGroupedData)if(this.isDotplotGraph()&&"box"!=s[s.length-1]||this.graphType.match(/Stacked/))b=s[0]+":"+s[s.length-1],p.map[b]=f,p.origin[f].push(e(b));else if(2==s.length&&n==f)for(var v=(w=this.data.w.grps[s[1]]).length,A=0;A<v;A++)b=s[0]+":"+w[A],p.map[b]=f,p.origin[f].push(e(b));else if(3==s.length&&"box"==s[2]){var w;for(v=(w=this.data.w.grps[s[1]]).length,A=0;A<v;A++)b=s[0]+":"+w[A]+":box",p.map[b]=f,p.origin[f].push(e(b))}else p.map[b]=f,p.origin[f].push(e(b));else p.map[b]=f,p.origin[f].push(e(b));else p.map[b]=f,p.origin[f].push(e(b));if((CanvasXpress.graphTypes.OneTwoThreeeDGraphs.includes(this.graphType)||"TagCloud"==this.graphType||"Map"==this.graphType)&&c)if("color"==this.filterMode)switch(u){case"drawShape":i[5]=this.missingDataColor,i[6]=this.missingDataColor;break;case"drawLine":i[5]=this.missingDataColor;break;case"drawText":i[4]=this.missingDataColor;break;case"drawArcText":i[7]=this.missingDataColor}else switch(u){case"drawShape":i[5]=this.addColorTransparency(i[5],y,!0),i[6]=this.addColorTransparency(i[6]||this.foreground,y,!0);break;case"drawLine":i[5]=this.addColorTransparency(i[5],y,!0);break;case"drawText":i[4]=this.addColorTransparency(i[4],y,!0);break;case"drawArcText":i[7]=this.addColorTransparency(i[7],y,!0)}return(this.debug||CanvasXpress.system.isRStudio||d)&&this[u].apply(this,i),f},this.resetRender=function(t,e){var i=this.meta.render;i.objects.length>0&&!this.skipTransition&&(delete i.transition,e||(i.transition=this.cloneObject(i))),t||(i.objects=[],i.groups={},i.types={},i.order=[],i.map={},i.origin=[])},this.render=function(t,e){if(!this.debug&&!this.skipRender&&!CanvasXpress.system.isRStudio){this.meta.time.render.push((new Date).getTime());var i=this.getCanvasContext(),a=this.meta.render.objects;if(a.length>0){t||(t=0),e||(e=a.length);for(var s=t;s<e;s++){var r=a[s],n=r.params;switch(r.func){case"drawShape":this.drawShape(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15],i);break;case"drawLine":this.drawLine(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15],n[16],i);break;case"drawText":this.drawText(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],i);break;case"setClipArea":this.setClipArea(n[0],i);break;case"resetClipArea":this.resetClipArea(i);break;default:this[r.func].apply(this,r.params)}}}}},this.initializeCanvasEvents()},CanvasXpress.prototype.initCleanupEvents=function(){this.destroy=function(t,e){if(t){if("object"==typeof t&&t.target&&(t=t.target),1==CanvasXpress.instances.length&&CanvasXpress.instances[0].target==t)return this.destroy(!1,e);this.removeInstance(t,e)}else this.removeInstance(this.target,e),CanvasXpress.cacheImages={},CanvasXpress.cacheText={},CanvasXpress.stack={},CanvasXpress.current=!1,CanvasXpress.selector={vars:{},smps:{},meta:{},comp:{},nodes:{},edges:{},mixed:{},selections:0,graphType:!1},CanvasXpress.hidden={hiddenVars:{},hiddenSmps:{},hiddenGrps:{},hiddenMapFeatures:{}}},this.destroyInDOM=function(t){for(var e=0,i=t.length;t.length>0&&e<=i;)this.destroy(t[0].id),e++},this.monitorInstances=function(){var t=this;setTimeout((function(){for(var e=[],i=0;i<CanvasXpress.instances.length;i++){t.$(CanvasXpress.instances[i].target)||e.push(CanvasXpress.instances[i].target)}for(i=0;i<e.length;i++)t.destroy(e[i])}),1e3)},this.removeInstance=function(t,e){var i=CanvasXpress.instances;CanvasXpress.instances=[];for(var a=0;a<i.length;a++)if(i[a].target!=t)CanvasXpress.instances.push(i[a]);else{var s=i[a];if(s.isR||e){var r=s.$("container-"+s.target);if(r){var n=r.parentNode,o=s.$cX("canvas",s.meta.dom);s.resetTooltipDivs(),s.cleanEvtListeners(),s.removeTarget("container-"+s.target),s.removeTarget(s.target+"-cX-Info"),delete CanvasXpress.stack[s.target],n.appendChild(o),"Network"==s.graphType&&this.isR&&(o.width=0,o.height=0)}}else s.resetTooltipDivs(),s.cleanEvtListeners(),s.removeTarget("container-"+s.target),s.removeTarget(s.target+"-cX-Info"),delete CanvasXpress.stack[s.target]}},this.cleanEvtListeners=function(){this.addRemoveLinkListeners("removeEvtListener"),this.addRemoveToolbarListeners("removeEvtListener"),this.addRemoveCodeListeners("removeEvtListener"),this.addRemoveBinListeners("removeEvtListener"),this.addRemoveDataExplorerListeners("removeEvtListener"),this.addRemoveItemListeners("removeEvtListener"),this.addRemoveConfiguratorListeners("removeEvtListener"),this.addRemoveDataTableListeners("removeEvtListener"),this.removeGenericDataFilterListenersOrReset(),this.addRemoveDataFilterListeners("removeEvtListener"),this.addRemoveCanvasListeners("removeEvtListener"),this.addRemoveMotionListeners("removeEvtListener"),this.addRemoveNavigationListeners("removeEvtListener"),this.removeEvtListener(document,"mousemove",this.mousemoveDoc,!1),this.removeEvtListener(document,"touchmove",this.mousemoveDoc,!1),this.removeEvtListener(document,"mouseup",this.mouseupDoc,!1),this.removeEvtListener(document,"touchend",this.mouseupDoc,!1),this.removeEvtListener(document,"keydown",this.keydownDoc,!1),this.removeEvtListener(document,"keyup",this.keyupDoc,!1),this.removeEvtListener(window,"resize",this.resizeWindow,!1)}},CanvasXpress.prototype.initEvents=function(){var t;this.cloneEvent=function(t){for(var e=["ac","altKey","bubbles","button","buttons","cancelBubble","cancelable","charCode","code","clientX","clientY","ctrlKey","defaultPrevented","deltaMode","deltaX","deltaY","deltaZ","detail","eventPhase","isTrusted","isTrusted","keyCode","keyIdentifier","location","layerX","layerY","metaKey","movementX","movementY","offsetX","offsetY","pageX","pageY","repeat","returnValue","screenX","screenY","shiftKey","timeStamp","type","wheelDelta","wheelDeltaX","wheelDeltaY","which","x","y"],i=["clientX","clientY","force","identifier","pageX","pageY","radiusX","radiusY","rotationAngle","screenX","screenY"],a={srcElement:t.srcElement?t.srcElement.id:t.target.id,target:t.target.id},s=0;s<e.length;s++)a[e[s]]=t[e[s]];if(a.ac||(a.ac=this.adjustedCoordinates(a)),a.xMouseDown=this.xMouseDown,a.yMouseDown=this.yMouseDown,t.touches){a.touches=[];for(s=0;s<t.touches.length;s++){a.touches[s]={target:t.touches[s].target.id};for(var r=0;r<i.length;r++)a.touches[s][i[r]]=t.touches[s][i[r]];a.touches[s].ac||(a.touches[s].ac=this.adjustedCoordinates(t.touches[s],t.touches[s].target))}}return a},this.cleanTouchEvent=function(t){for(var e=["clientX","clientY","force","identifier","pageX","pageY","radiusX","radiusY","rotationAngle","screenX","screenY"],i={target:t.target.id,ac:this.adjustedTouchCoordinates(t,t.target),time:(new Date).getTime()},a=0;a<e.length;a++)i[e[a]]=t[e[a]];return i},this.cleanEventInArguments=function(t){for(var e=0;e<t.length;e++)t[e]instanceof Event&&(t[e]=this.cloneEvent(t[e]));return t},this.getOffset=function(t){for(var e=0,i=0;t&&!isNaN(t.offsetLeft)&&!isNaN(t.offsetTop);)e+=t.offsetLeft-t.scrollLeft,i+=t.offsetTop-t.scrollTop,t=t.offsetParent;return{top:i,left:e}},this.regularCoordinates=function(t,e){var i={};if(t&&t.ac)i.x=t.ac.x,i.y=t.ac.y;else if(null==t.pageX&&null!=e.clientX){var a=t.target.ownerDocument||window.document,s=a.documentElement,r=a.body;i.x=e.clientX+(s&&s.scrollLeft||r&&r.scrollLeft||0)-(s&&s.clientLeft||r&&r.clientLeft||0),i.y=e.clientY+(s&&s.scrollTop||r&&r.scrollTop||0)-(s&&s.clientTop||r&&r.clientTop||0)}else i.x=t.pageX,i.y=t.pageY;return i},this.relativeCoordinates=function(t){var e={x:0,y:0};if(t&&t.ac)e.x=t.ac.x,e.y=t.ac.y;else for(;t&&!isNaN(t.offsetLeft)&&!isNaN(t.offsetTop);)e.x+=t.offsetLeft,e.y+=t.offsetTop,t=t.offsetParent;return e},this.absoluteCoordinates=function(t){var e={x:0,y:0};if(t&&t.ac)e.x=t.ac.x,e.y=t.ac.y;else for(;t&&!isNaN(t.offsetLeft)&&!isNaN(t.offsetTop);)e.x+=t.offsetLeft-t.scrollLeft,e.y+=t.offsetTop-t.scrollTop,t=t.offsetParent;return e},this.getBoundingClientRect=function(t){var e=window,i=e.document,a=i.body,s=void 0!==e.pageXOffset?e.pageXOffset:(i.documentElement||a.parentNode||a).scrollLeft,r=void 0!==e.pageYOffset?e.pageYOffset:(i.documentElement||a.parentNode||a).scrollTop,n=t.getBoundingClientRect();if(t!==a)for(var o=t.parentNode;o!==a&&o.scrollLeft&&o.scrollTop;)s+=o.scrollLeft,r+=o.scrollTop,o=o.parentNode;return{bottom:n.bottom+r,height:n.height,left:n.left+s,right:n.right+s,top:n.top+r,width:n.width,viewportWidth:a.clientWidth,viewportHeight:a.clientHeight}},this.adjustedCoordinates=function(t,e){if(e||(e=this.$(this.target)),e&&t){var i=t.target||t.srcElement,a={};if(CanvasXpress.system.isReveal&&i&&i.tagName&&"canvas"==i.tagName.toLowerCase()){var s=1/Reveal.getScale(),r=(zoom.zoomLevel(),i.getClientRects());a.x=t.x-r[0].left/s,a.y=t.y-r[0].top/s}else try{i&&"CanvasXpressDataTableDOE"==i.className&&(e=this.$(this.target));var n=e.parentNode.getClientRects(),o=!(!t||!t.changedTouches)&&t.changedTouches[0];if(t&&t.ac)a.x=t.ac.x,a.y=t.ac.y;else if(n&&n[0]){var h=window.document,l=n[0].left,c=n[0].top,d=t&&t.clientX?t.clientX:o?o.clientX:t&&t[0]?t[0]:l,p=t&&t.clientY?t.clientY:o?o.clientY:t&&t[1]?t[1]:c;a.x=h.body.scrollLeft>Math.abs(l)+d&&d>h.body.scrollLeft-l?Math.abs(l)+d:d-l,a.y=h.body.scrollTop>Math.abs(c)+p&&p>h.body.scrollTop-c?Math.abs(c)+p:p-c}else a.x=0,a.y=0}catch(t){return!1}return a}return!1},this.adjustedTouchCoordinates=function(t,e){if(e||(e=this.$(this.target)),e){var i={},a=window.document,s=e.parentNode.getClientRects(),r=s[0].left,n=s[0].top,o=t.clientX,h=t.clientY;return i.x=a.body.scrollLeft>Math.abs(r)+o&&o>a.body.scrollLeft-r?Math.abs(r)+o:o-r,i.y=a.body.scrollTop>Math.abs(n)+h&&h>a.body.scrollTop-n?Math.abs(n)+h:h-n,i}},this.isPointInsidePolygon=function(t,e,i){for(var a=!1,s=0,r=i[0].length-1;s<i[0].length;r=s++){var n=i[0][s],o=i[1][s],h=i[0][r],l=i[1][r];o>e!=l>e&&t<(h-n)*(e-o)/(l-o)+n&&(a=!a)}return a},this.isAreaInsidePolygon=function(t,e){var i,a;switch(t[0]){case"rect":i=(t[1]+t[3])/2,a=(t[2]+t[4])/2;break;case"circle":i=t[1],a=t[2];break;case"poly":var s=this.centroidArea(t);i=s[0],a=s[1]}return this.isPointInsidePolygon(i,a,e)},this.isObjectInsideArea=function(t,e,i,a,s){var r,n;switch(t[0]){case"rect":r=(t[1]+t[3])/2,n=(t[2]+t[4])/2;break;case"circle":r=t[1],n=t[2];break;case"poly":var o=this.centroidArea(t);r=o[0],n=o[1]}return this.isPointInsideArea(r,n,["rect",e,i,a,s])},this.isPointInsideArea=function(t,e,i){if(!i)return!1;switch(i[0]){case"rect":return i[1]>i[3]&&(i[5]=i[1],i[1]=i[3],i[3]=i[5]),i[2]>i[4]&&(i[5]=i[2],i[2]=i[4],i[4]=i[5]),t>=i[1]&&t<=i[3]&&e>=i[2]&&e<=i[4];case"circle":var a=i[3]/2;return t>=i[1]-a&&t<=i[1]+a&&e>=i[2]-a&&e<=i[2]+a;case"poly":for(var s=[],r=[],n=!1,o=1;o<i.length;o++)o%2?s.push(i[o]):r.push(i[o]);r[0]<r[1]&&(r=r.reverse(),s=s.reverse());o=0;for(var h=s.length-1;o<s.length;h=o++)(r[o]<=e&&e<r[h]||r[h]<=e&&e<r[o])&&t<(s[h]-s[o])*(e-r[o])/(r[h]-r[o])+s[o]&&(n=!n);return n}},this.isEvent=function(t,e){var i=this.adjustedCoordinates(t);if(i){var a=this.getTargetEvent(t);if(this.xMouseMove=i.x,this.yMouseMove=i.y,a&&a.id&&a.id.match(this.target)){for(var s=this.meta.render.objects,r=[],n=s.length-1;n>=0;n--){var o=s[n];if(o.idx&&this.isPointInsideArea(i.x,i.y,o.area)){if(!e)return[n];r.push(n)}}if(e&&r.length>0)return r}}return!1},this.isEventIndices=function(t,e,i){var a=[],s=i||this.isEvent(t,e);if(s){if(1==s.length)return(o=this.meta.render.objects[s[0]]).modifier?[o.idx+o.modifier]:o.idx;for(var r=s.length,n=0;n<r;n++){var o=this.meta.render.objects[s[n]];a.push(o.idx)}return a}return!1},this.getBoundsXY=function(t){var e=this.layoutComb&&this.layoutParams&&this.layoutParams.length?this.layoutParams[t]:this,i="Network"==this.graphType?0:this.marginLeft+e.offsetX,a="Network"==this.graphType?0:this.marginTop+e.offsetY;return"Map"==this.graphType?[i+e.left,i+e.left+e.width,a+e.top,a+e.top+e.height,i,i+e.left+e.width+e.right,a,a+e.top+e.height+e.bottom]:[i+e.left,i+e.left+e.x,a+e.top,a+e.top+e.y,i,i+e.left+e.x+e.right,a,a+e.top+e.y+e.bottom]},this.getUngroupedDataObject=function(t,e){return this.isGroupedData&&this.graphType.match(/Dotplot|Boxplot/)&&t.y?(this.isGroupedData=!1,t=this.extractDataObject([e[0],e[2]]),this.isGroupedData=!0):this.isDOE&&this.graphType.match(/Dotplot|Boxplot/)&&t.w?(this.isDOE=!1,t=this.extractDataObject(t.w.grps[0],this.getVariableIndices(t.w.vars)),this.isDOE=!0):this.isGroupedData&&t.w&&(this.isGroupedData=!1,t=this.extractDataObject(t.w.grps[0],this.getVariableIndices(t.w.vars)),this.isGroupedData=!0),t},this.extractDataObject=function(t,e){var i=this,a=this.layoutParams,s=this.layoutValidN||0,r=this.scatterPlotMatrix&&this.data.l.data[s]?this.data.l.data[s]:this.isDOE&&0==s&&this.data.l.data?this.data.l.data:this.data,n=(this.meta.data,[]),o=[],h=function(t){var e={},a=i.isGroupedData;for(var s in i.isGroupedData=!1,r.x)if(e[s]=[],t&&t.length)for(var n=0;n<t.length;n++)e[s].push(i.getMetadataValue(t[n],"x",s,"Gantt"==a));return i.isGroupedData=a,e},l=function(t){var e={};for(var a in r.z){e[a]=[];for(var s=0;s<t.length;s++)e[a].push(i.getMetadataValue(t[s],"z",a,"Gantt"==V))}return e},c=function(t){var e=[];if(i.isDOE)for(var n=0;n<t.length;n++)e.push(a[s].data.y.vars[t[n]]);else for(n=0;n<t.length;n++)e.push(r.y.vars[t[n]]);return e},d=function(t,e){var n=e||r.y.smps,o=[];if(i.isDOE)o.push(a[s].data.y.smps[t[0]]);else if(t&&t.length)for(var h=0;h<t.length;h++)o.push(n[t[h]]);return o},p=function(t,e){var i=[];if(e)for(var a=0;a<t.length;a++)i.push(e[t[a]]);return i},g=function(t,e){for(var i=[],a=0;a<t.length;a++)i.push(e.grps[t[a]]);return i},u=function(t,e,n){var o=[];if(i.isDOE)for(var h=0;h<t.length;h++)if(o[h]=[],a[s].data.y.data[t[h]])o[h].push(a[s].data.y.data[t[h]][e[0]]);else{if(!a[s].data.y.data[h])return!1;o[h].push(a[s].data.y.data[h][e[0]])}else if(n||(n="data"),e)for(h=0;h<t.length;h++)if(o[h]=[],i.isTransformedData&&r.y.trans)for(var l=0;l<e.length;l++)o[h].push(i.formatNumber(r.y.trans[t[h]][e[l]]));else for(l=0;l<e.length;l++)o[h].push(r.y[n][t[h]][e[l]]);else if(i.isTransformedData&&r.y.trans)for(h=0;h<t.length;h++)o.push(i.formatNumber(r.y.trans[t[h]]));else for(h=0;h<t.length;h++)o.push(r.y[n][t[h]]);return o};switch(V=this.layoutComb&&!1!==s&&a&&a.length?a[s].graphType:this.graphType){case"Area":case"AreaLine":case"Bar":case"Line":case"BarLine":case"Boxplot":case"Dotplot":case"DotLine":case"Heatmap":case"Pie":case"Stacked":case"StackedLine":case"StackedPercent":case"StackedPercentLine":case"Scatter2D":case"ScatterBubble2D":case"Scatter3D":case"Gantt":case"Meter":case"Circular":case"Treemap":case"TagCloud":case"ParallelCoordinates":case"Sankey":case"Tree":case"Map":if(!t||0==t.length||null==t[0])return;if(isNaN(t[0])){if(t[0]&&t[0].match(/ScatterBoxplot/)){var m={},f=t[0].split(":::");return m.display=f[1],m.objectType="ScatterBoxplot",m}if(t[0]&&t[0].match(/QuantileRegression/)){var y=t[0].split(":");return m={display:t[1],objectType:"QuantileRegression"}}if(t[0]&&t[0].match(/Bin2d/)){y=t[0].split(":");return m={display:t[1],objectType:"Bin2d"}}if(t[0]&&t[0].match(/Loess/)){y=t[0].split("-");return m={display:t[1],objectType:"Loess"}}if(t[0]&&t[0].match(/Contour/)){y=t[0].split(":");return m={display:t[1].join(" - "),objectType:"Contour"}}if(t[0]&&t[0].match(/Decor-Line/))return m={display:(y=t[0].split(":"))[0],objectType:"Decoration"};if(t[0]&&t[0].match(/Decor-Point/))return m={display:(y=t[0].split(":"))[0],objectType:"Decoration"};if(t[0]&&t[0].match(/QQ-Line/))return m={display:(y=t[0].split(":"))[0],objectType:"QQ-Line"};if(t[0]&&t[0].match(/Confidence/))return m={display:(y=t[0].split(":"))[0],objectType:"Confidence"};if(t[0]&&t[0].match(/Chr/))return m={display:t[0],objectType:"Chr"};if(t[0]&&t[0].match(/Ring/))return m={display:t[0],objectType:"Ring"};if(t[0]&&t[0].match(/Line|Area/))return m={display:(y=t[0].split(":"))[1],objectType:"Line"};if(t[0]&&t[0].match(/Sankey/))return m={display:(y=t[0].split(":"))[1],objectType:"Sankey"};if(t[0]&&t[0].match(/Tree/)){var m={},x=this.getTreeNode(t[0]);return x&&(m={id:x.id,display:x.data.tooltip,objectType:"Tree"}),m}if(t[0]&&t[0].match(/Marker/))return m={id:(y=t[0].split(":"))[1],display:y[2],objectType:"Marker"};if(t[0]&&t[0].match(/Sunburst/))return m={display:(y=t[0].split(":"))[1],objectType:"Sunburst"};if(t[0]&&t[0].match(/Bubble/))return m={display:(y=t[0].split(":"))[1],objectType:"Bubble"};if(t[0]&&t[0].match(/Connect/))return m={display:(y=t[0].split(":"))[1],objectType:"Connect"};if(t[0]&&t[0].match(/Chord/))return m={id:(y=t[0].split(":"))[1],display:y[2],objectType:"Chord"};if(t[0]&&t[0].match(/Outlier/))return m={display:(y=t[0].split(":"))[1],objectType:"Outlier"};if(t[0]&&t[0].match(/Series/))return(y=t[0].split(":")).shift(),m={display:this.data.y.smps[y[0]]+" : "+this.data.y.smps[y[1]],selector:{type:"series",name:[this.data.y.smps[y[0]],this.data.y.smps[y[1]]],id:t[0]},objectType:"Series"};if(t[0]&&t[0].match(/Property/)){(y=t[0].split(":")).shift();var b=y.shift(),v=y.pop(),A=y.join(":");return{display:b+" : "+A,selector:{type:"meta",object:v,factor:b,level:A,id:"Property:"+b+":"+A+":"+v},objectType:"Property"}}if(t[0]&&t[0].match(/Histogram/))return{a:(f=t[0].split("-"))[0],b:f[1],c:f[2],d:f[3],objectType:"Histogram"};if(t[0]&&t[0].match(/Dendrogram/))return(f=t[0].split("-")).length>1?{nodeId:parseInt(f.shift()),height:Number(f.shift()),objectType:f.shift(),name:!!f[0]&&f.join("-")}:{display:"Circular"==this.graphType?"":"<i>Drag to move</i>"};if(!t[0]||!t[0].match(/,error/)){if(t[0]&&t[0].match(/PieVar/)){f=t[0].split("-");var w=parseInt(f[1]);return{display:r.y.vars[w],objectType:"Var",selector:{type:"var",index:w,name:r.y.vars[w],id:"Var-"+w}}}if(t[0]&&t[0].match(/Var/)){f=t[0].split("-"),w=parseInt(f[1]);var C=t[0].match(/VarOvr|VarOverlay/)?this.smpIndices:[w].concat(this.smpIndices);m=t[0].match(/VarOvr|VarOverlay/)?{}:this.extractDataObject(C);if(t[0].match(/VarOvr/)){var T=this.getMetadataValue(w,"z",this.varOverlays[f[2]]);m.display=this.varOverlays[f[2]]+" : "+T,m.objectType="VarOverlay",m.selector={type:"meta",object:"z",factor:this.varOverlays[f[2]],level:T,id:"Property:"+this.varOverlays[f[2]]+":"+T+":z"}}else t[0].match(/VarOverlay/)?(m.display=this.varOverlays[f[1]],m.objectType="VarOverlay"):(m.display=r.y.vars[w],m.objectType="Var",m.selector={type:"var",index:w,name:r.y.vars[w],id:"Var-"+w});return m}if(t[0]&&t[0].match(/Smp/)){f=t[0].split("-"),w=parseInt(f[1]);if(this.isDOE?m=this.extractDataObject([w],this.layoutParams[this.layoutValidN].varIndices):this.isGroupedData&&r.w&&"Treemap"!=V&&"Gantt"!=V&&!this.treemapBy.length>0&&!this.isDOE?(m={y:{vars:c(this.varIndices),smps:d(r.w.grps[w])},z:l(this.varIndices),x:h(r.w.grps[w])}).y.data=u(this.varIndices,r.w.grps[w]):m=this.extractDataObject([w],this.varIndices),t[0].match(/SmpOvrSgr/)){f.shift();var S=this.segregateSamplesBy[f.shift()];T=f.join("-");m.display=S+" : "+T,m.objectType="SmpOverlaySgr",m.selector={type:"meta",object:"x",factor:S,level:T,id:"Property:"+S+":"+T+":x"}}else if(t[0].match(/SmpOvr/)){S=this.smpOverlays[f[2]],T=this.layoutValid&&r.l.group&&a&&a[s].w&&a[s].w.factors&&a[s].w.factors[S]?a[s].w.factors[S][w]:this.isGroupedData&&r.w?r.w.factors[this.smpOverlays[f[2]]][w]:this.getMetadataValue(w,"x",this.smpOverlays[f[2]]);m.display=this.smpOverlays[f[2]]+" : "+T,m.objectType="SmpOverlay",m.selector={type:"meta",object:"x",factor:this.smpOverlays[f[2]],level:T,id:"Property:"+this.smpOverlays[f[2]]+":"+T+":x"}}else t[0].match(/SmpOverlay/)?(m.display=this.smpOverlays[f[1]],m.objectType="SmpOverlay"):(m.display=this.layoutValid&&r.l.group&&a&&a[s].w&&a[s].w.glab&&a[s].w.glab[w]?a[s].w.glab[w]:this.isGroupedData&&r.w?r.w.smps[w]:this.isGraphTime?this.dateFormat(r.y.smps[w],this.timeFormat):1==this.isDOE&&0==this.layoutValidN&&r.w&&r.w.smps[w]?r.w.smps[w]:this.isDOE&&this.layoutValidN?m.y.smps[0]:r.y.smps[w],m.objectType="Smp",m.selector={type:this.isGroupedData?"grp":"smp",index:w,name:m.display,id:"Smp-"+w});return m}if(t[0]&&t[0].match(/Cat/)){m={},f=t[0].split("-");return m.display=f[1],m.objectType="Cat",m}if(t[0]&&t[0].match(/Onc/)){m={},f=t[0].split("-");return m.display=f[1],m.objectType="Onc",m.selector={type:"data",object:this["oncoprint"+f[2]],name:m.display,id:"Onc-"+m.display+"-"+f[2]},m}if(t[0]&&t[0].match(/Density|Path/)){m={},f=t[0].split(":");return m.display=f[1],m.objectType=t[0].match(/Density/)?"Density":"Path",m}if(t[0]&&t[0].match(/MapKey/)){n=this.mapVarIds[t[0].split(":")[1]],o=t[1];var D=this.canvasPointToCoordinate(this.xMouseMove,this.yMouseMove),M="[ "+D[1].toFixed(1)+", "+D[0].toFixed(1)+" ]";if(n&&n.length)(m={y:{vars:c(n),smps:d(o)},z:l(n)}).y.data=u(n,o),m.c=M;else{var k=t[0].split(":")[1];if(!CanvasXpress.countries[k]){if(this.meta.map.geojson&&this.meta.map.geojson.features&&this.meta.map.geojson.features[k]&&this.meta.map.geojson.features[k].properties)for(var w in this.meta.map.geojson.features[k].properties)if(w.match(/name/i))return m={idx:k,display:this.meta.map.geojson.features[k].properties[w]+"<br>"+M,type:"MapProperty"};return!1}m={display:CanvasXpress.countries[k][0]+"<br>"+M,type:"MapCountry"}}return m}return}var f=t[0].split(",");n=[parseInt(f[0])],o=[parseInt(f[1])]}else{if(("Pie"==V||"Gantt"==V)&&t.length>2&&!this.isDOE){o=[t[0]];for(w=1;w<t.length;w++)n.push(t[w])}else if(V.match(/Pie|Treemap/)&&this.isDOE)n=[t[0]],o=[t[1]];else if(e)n=e,o=t;else if(this.isGroupedData&&this.stackBy)n=[t[0]],o=t[3]?t[3]:[t[1]];else{n=[t[0]],o=[];for(w=1;w<t.length;w++)!1===t[w]||t[w].toString().match(/[A-Za-z]/)||o.push(t[w])}if(V.match(/Scatter/)){if(this.colorBy){var L=this.getSampleIndices(this.colorBy);!this.isArray(L)&&L>-1&&o.push(L)}if(this.shapeBy){L=this.getSampleIndices(this.shapeBy);!this.isArray(L)&&L>-1&&o.push(L)}if(this.sizeBy){L=this.getSampleIndices(this.sizeBy);!this.isArray(L)&&L>-1&&o.push(L)}}}if(this.isGroupedData&&r.w&&"Treemap"!=V&&"Gantt"!=V&&!this.treemapBy.length>0&&!this.isDOE||this.isDOE&&0==s&&r.w||this.layoutValid&&r.l&&r.l.group&&!this.isOneDimensionalGraph()&&!this.scatterPlotMatrix&&!this.isDOE){m={x:{},w:{},z:l(n)};if(V.match(/Boxplot|Dotplot|DotLine|Gantt/)&&null!=o[1]){m.y={data:r.y.data[n[0]][o[1]],vars:r.y.vars[n[0]],smps:r.y.smps[o[1]]};var I=h([o[1]]);for(var f in I)m.y[f]=I[f][0];o.pop()}else if("Bar"==V&&this.stackBy){var B=this.isGroupedData;this.isGroupedData=!1,m.x=h(o),m.y={data:u(n,o),vars:c(n),smps:d(o),idxs:o},m.display=t[2],m.objectType="Stack",m.stack=t[4],o=[t[1]],this.isGroupedData=B}var N=this.layoutValid&&r.l.group&&a&&a[s].w?a[s].w:r.w;if(o&&n)for(var f in N)"smps"==f?m.w[f]=d(o,N.smps):"labs"==f?m.w[f]=p(o,N.labs):"glab"==f?m.w[f]=p(o,N.glabs):"grps"==f?m.w[f]=g(o,N):"vars"==f?m.w[f]=c(n):N[f].length>n[0]&&N[f][n[0]]&&N[f][n[0]].length>o[0]&&(m.w[f]=[],m.w[f].push(N[f][n[0]][o[0]]));if(!this.stackBy&&m.w.grps[0]){B=this.isGroupedData;for(var f in this.isGroupedData=!1,r.x){var F=[];for(w=0;w<m.w.grps[0].length;w++)F.push(this.getMetadataValue(m.w.grps[0][w],"x",f));m.x[f]=F}this.isGroupedData=B}}else{m={y:{vars:c(n),smps:d(o)},z:l(n)};if(this.isDOE||(m.x=h(o)),this.isHistogram&&!this.isDOE&&r.y.histogram&&(m.y.histogram=r.y.histogram[n]),this.isDOE&&r.l){r.l.type[0];if(a[s].data.y.pie){m.y.pie=[];for(w=0;w<n.length;w++)m.y.pie.push(a[s].data.y.pie[n[w]]);m.x=h(a[s].data.y.pie[n[0]])}else if(a[s].data.y.treemap){m.y.treemap=[];for(w=0;w<n.length;w++)m.y.treemap.push(a[s].data.y.treemap[o[w]]);m.x=h(a[s].data.y.treemap[o[0]])}else a[s].data.y.histogram&&(m.y.histogram=a[s].data.y.histogram[n],m.x=h(a[s].data.y.histogram[n[0]][0]))}if(m.y.data=u(n,o),this.isMultidimensionalData){var P=["outline","shape","size"];for(w=0;w<P.length;w++){var R=P[w]+"ByData";r.y[this[R]]&&(m.y[this[R]]=u(n,o,this[R]))}}else"Sankey"==V&&(m.links=this.data.sankey.links[o])}return m;case"Fish":m={};if(t[0]&&t[0].match(/fish/)){y=t[0].split("-").pop();m={display:this.fishCloneLabels.length&&this.fishCloneLabels[y]?this.fishCloneLabels[y]:this.data.y.vars[y]}}else if(t[0]&&t[0].match(/Var/)){f=t[0].split("-"),w=parseInt(f[1]);m.display=this.data.y.vars[w],m.objectType="Var",m.selector={type:"var",index:w,name:this.data.y.vars[w],id:"Var-"+w}}return m;case"Correlation":if(!t||null==t[0]||isNaN(t[0])&&!t[0].match(/^\d/))return;if(y=this.isGroupedData&&r.w?r.w.cor:r.y.cor,"samples"==this.correlationAxis){m={x:{},y:{}};for(var f in r.x){for(F=[],w=0;w<t.length;w++)F.push(this.getMetadataValue(t[w],"x",f));m.x[f]=F}m.y.smps=[r.y.smps[t[0]],r.y.smps[t[1]]]}else{m={y:{},z:{}};for(var f in r.y){var O=[];for(w=0;w<t.length;w++)O.push(r.y[f][t[w]]);m.z[f]=O}m.y.vars=[r.y.vars[t[0]],r.y.vars[t[1]]]}return m.y.data=y[t[0]][t[1]],m;case"Venn":return(m={venn:{data:{}}}).venn.data[this.vennCompartments[t[0]]]=r.venn.data[this.vennCompartments[t[0]]],m;case"Network":m={};if(!t||0==t.length)return;if(this.isArray(t)||(t=[t]),isNaN(t[0]))if(t[0]=t[0].toString(),t[0].match(/legend/))if(t[0].match(/Nodes/))m={nodeLegend:r.legend.nodes};else if(t[0].match(/Edges/))m={edgeLegend:r.legend.edges};else if(t[0].match(/Decorations/))m={decorationLegend:r.legend.decorations};else if(t[0].match(/-legend-indicator-color/))m={indicatorLegend:"ColorIndicator"};else if(t[0].match(/legend-shape|legend-line-|legend-text/))m={display:t[0].split("-")[2]},m={};else{var X=parseInt(t[0].replace("-1-legend-Text",""));m=r.legend&&r.legend.text?{textLegend:r.legend.text[X]}:{}}else if(t[0].match(/-dec/)){w=t[0].split("-");var z=r.nodes[w[0]],E=(y=this.decorations[w[1]],z.tooltip||z.name||z.label||z.id),_=z[y]?z[y]:!(!z.decorations||!z.decorations[y])&&z.decorations[y],H=!!w[3]&&w[2];H?_?null!=_[H]?m.display=E+"<br><b>"+y+"</b> : "+H+" : "+_[H]:m.display=E+"<br><b>"+y+"</b> : "+H+" : NA":m.display=E+"<br><b>"+y+"</b> : NA":m.display=E+"<br><b>"+y+"</b> : "+(_||"NA")}else t[0].match(/-elbow/)?m={edges:[r.edges[parseInt(t[0].split("-"))-r.nodes.length]]}:t[0].match(/-lab/)?m.nodes=[r.nodes[parseInt(t[0].split("-")[0])]]:t[0].match(/-edge/)&&(m={edges:[r.edges[parseInt(t[0].split("-"))-r.nodes.length]]});else for(w=0;w<t.length;w++)t[w]>=r.nodes.length?(m.edges||(m.edges=[]),m.edges.push(r.edges[t[w]-r.nodes.length])):(m.nodes||(m.nodes=[]),m.nodes.push(r.nodes[t[w]]));return m;case"Genome":var V;(m=[])[0]={data:[]};X=0;var G=!(!isNaN(t[0])||!t[0].match(":"))&&t[0].match(/:(\d+)/)[1];for(w=0;w<r.tracks.length;w++){if(X+=z=r.tracks[w].data.length,isNaN(t[0])){if(t[0]=="track-"+w)return{name:r.tracks[w].name};if(t[0]=="track-"+w+":"+G){var q=parseInt(G)-(X-z);for(var f in r.tracks[w])"data"==f?m[0][f].push(r.tracks[w][f][q]):m[0][f]=r.tracks[w][f];return m}if(t[0]=="dataframe-"+w+":"+G){var j=r.tracks[w].data[0].data[G].xAxis,U=r.tracks[w].data[0].data[G].yAxis,Y=r.tracks[w].dataframe,W={};for(var $ in Y)Y[$].length==Y[j].length&&(W[$]=Y[$][t[1]]);var Q={};return Q[j]=Y[j][t[1]],Q[U]=Y[U][t[1]],m={values:W,data:Q,display:"<b>"+j+"</b> :"+Y[j][t[1]]+"<br><b>"+U+"</b> :"+Y[U][t[1]]+"<br>"},r.tracks[w].data[0].data[G].colorBy&&(m.data[r.tracks[w].data[0].data[G].colorBy]=Y[r.tracks[w].data[0].data[G].colorBy][t[1]],m.display+="<b>"+r.tracks[w].data[0].data[G].colorBy+"</b> :"+Y[r.tracks[w].data[0].data[G].colorBy][t[1]]+"<br>"),r.tracks[w].data[0].data[G].shapeBy&&(m.data[r.tracks[w].data[0].data[G].shapeBy]=Y[r.tracks[w].data[0].data[G].shapeBy][t[1]],m.display+="<b>"+r.tracks[w].data[0].data[G].shapeBy+"</b> :"+Y[r.tracks[w].data[0].data[G].shapeBy][t[1]]+"<br>"),m}}else if(t[t.length-1]<X){for($=0;$<t.length;$++){q=t[$]-(X-z);for(var f in r.tracks[w])"data"==f?m[0][f].push(r.tracks[w][f][q]):m[0][f]=r.tracks[w][f]}return m}}}},this.getSummaryDataObject=function(t,e){if(!t)return"";switch(this.graphType){case"Bar":case"Line":case"Area":case"AreaLine":case"BarLine":case"Boxplot":case"Dotplot":case"DotLine":case"Fish":case"Heatmap":case"Stacked":case"StackedLine":case"StackedPercent":case"StackedPercentLine":case"Scatter2D":case"ScatterBubble2D":case"Scatter3D":case"Meter":case"Circular":case"Treemap":case"TagCloud":case"ParallelCoordinates":case"Map":var i="";if(t.display)return t.objectType&&t.objectType.match(/ScatterBoxplot|Dendrogram/)?t.display:"<b>"+t.display+"</b><br>";if(this.isGroupedData&&t.w||this.configStndBy&&this.configStndBy.groupingFactors&&t.w)i="<b>"+t.w.vars[0]+"</b><br>","mean"==this.summaryType?(i+="<b>"+t.w.smps[0]+"</b>: "+this.formatNumber(t.w.mean[0]),t.w.stdev&&null!=t.w.stdev[0]&&(i+=" <i>&plusmn;"+this.formatNumber(t.w.stdev[0])+"</i>"),t.w.n&&null!=t.w.n[0]&&(i+=" ("+t.w.n+")"),i+="<br>"):"median"==this.summaryType||"iqr"==this.summaryType||"Boxplot"==this.graphType?(t.w.labs&&t.w.median&&t.w.labs[0]?i+="<b>"+t.w.labs[0]+"</b>: "+this.formatNumber(t.w.median[0]):t.w.smps&&t.w.median&&(i+="<b>"+t.w.smps[0]+"</b>: "+this.formatNumber(t.w.median[0])),t.w.stdev&&null!=t.w.stdev[0]&&(i+=" <i>&plusmn;"+this.formatNumber(t.w.stdev[0])+"</i>"),t.w.n&&null!=t.w.n[0]&&(i+=" ("+t.w.n+")"),i+="<br>"):"sum"==this.summaryType?(i+="<b>"+t.w.smps[0]+"</b>: "+this.formatNumber(t.w.sum[0]),t.w.stdev&&null!=t.w.stdev[0]&&(i+=" <i>&plusmn;"+this.formatNumber(t.w.stdev[0])+"</i>"),t.w.n&&null!=t.w.n[0]&&(i+=" ("+t.w.n+")"),i+="<br>"):"min"!=this.summaryType&&"max"!=this.summaryType&&"count"!=this.summaryType||(i+="<b>"+t.w.smps[0]+"</b>: "+this.formatNumber(t.w[this.summaryType][0]),i+="<br>"),this.graphType.match(/Boxplot|Dotplot|DotLine/)&&t.y&&t.y.smps?i+="<b>"+t.y.smps+"</b>: "+this.formatNumber(t.y.data)+"<br>":"Boxplot"==this.graphType&&t.w&&t.w.iqr1&&(i="<b>"+t.w.vars[0]+" - "+t.w.labs[0]+"</b><br>",i+="<table>",i+="<tr><th>1st IQR </th><td> : </td><td>"+this.formatNumber(t.w.iqr1[0])+"</td></tr>",i+="<tr><th>1st Qtl </th><td> : </td><td>"+this.formatNumber(t.w.qtl1[0])+"</td></tr>",i+="<tr><th>Median </th><td> : </td><td>"+this.formatNumber(t.w.median[0])+"</td></tr>",i+="<tr><th>3rd Qtl </th><td> : </td><td>"+this.formatNumber(t.w.qtl3[0])+"</td></tr>",i+="<tr><th>3rd IQR </th><td> : </td><td>"+this.formatNumber(t.w.iqr3[0])+"</td></tr>",i+="<tr><th>Outliers </th><td> : </td><td>"+t.w.out[0].length+"</td></tr>",i+="<tr><th>N-Data</th><td> : </td><td>"+t.w.n+"</td></tr>",i+="</table>");else if(t.y){i="<b>"+t.y.vars[0]+"</b><br>";for(var a=0;a<t.y.smps.length;a++)if(this.isMultidimensionalData){for(var s=[t.y.data[0][a]],r=["outline","shape","size"],n=0;n<r.length;n++){var o=r[n]+"ByData";t.y[this[o]]&&t.y[this[o]][0][a]&&s.push(t.y[this[o]][0][a])}i+="<b>"+t.y.smps[a]+"</b>: "+s.join(", ")+"<br>"}else if("Map"==this.graphType&&this.motionBy&&this.motionObject)for(n=0;n<this.motionObject.levels.length;n++)this.motionObject.levels[n]==this.motionObject.current&&(t.y.data[n]?i+="<b>"+(this.isGraphTime?this.dateFormat(t.y.smps[a],this.timeFormat):t.y.smps[a])+"</b>: "+t.y.data[n][a]+"<br>":i+="<b>"+(this.isGraphTime?this.dateFormat(t.y.smps[a],this.timeFormat):t.y.smps[a])+"</b>: "+t.y.data[t.y.data.length-1][a]+"<br>");else t.y&&t.y.histogram&&a>0||(i+="<b>"+(this.isGraphTime?this.dateFormat(t.y.smps[a],this.timeFormat):t.y.smps[a])+"</b>: "+t.y.data[0][a]+"<br>")}else t&&"Histogram"==t.objectType?i="<b>"+this[t.a].vars[t.b]+"</b><br>n: "+this[t.a].data[t.b][t.c]+"<br>":t&&t.objectType&&t.objectType.match(/Dendrogram/)&&(i=t.name?"<b>"+t.name+"</b><br><i>Click to flip<br>Dbl-click to focus</i>":"Circular"==this.graphType?t.nodeId?"<i>Click to flip</i>":"":"<i>Click to flip<br>Dbl-click to focus</i>");return"Map"==this.graphType&&t.c&&(i+=t.c),i.replace("u0000","");case"Gantt":if(i="",t.y)i="<b>"+this.dateFormat(this.parseDate(t.y.data[0][0]),this.timeFormat).replace(/-/g,"/")+" - "+this.dateFormat(this.parseDate(t.y.data[1][0]),this.timeFormat).replace(/-/g,"/")+"</b><br>",t.y.data.length>2&&t.y.data[2][0]&&(i+="<b>Milestone</b>: "+this.dateFormat(this.parseDate(t.y.data[2][0]),this.timeFormat).replace(/-/g,"/")+"<br>");return i;case"Sankey":if(t.links){i="<b>"+t.links.source.name+" &#8702; "+t.links.target.name+"</b><br>";i+="<b>"+t.y.vars[0]+"</b>: "+t.y.data[0][0]+"<br>"}else if(t.display)return"<b>"+t.display+"</b><br>";return i;case"Tree":return t.display?"<b>"+t.display+"</b><br>":i;case"Pie":if(t.display)return"<b>"+t.display+"</b><br>";var h="<b>"+t.y.smps[0]+"</b><br>";for(a=0;a<t.y.vars.length;a++){var l=this.sprintf("%."+this.pieSegmentPrecision+"f",t.y.data[a]/this.varPie.tot*100);h+="<b>"+t.y.vars[a]+"</b>: "+t.y.data[a]+" ("+l+"%)<br>"}return h;case"Correlation":return h="samples"==this.correlationAxis?"<b>"+t.y.smps[0]+"</b> vs <b>"+t.y.smps[1]+"</b><br>Cor: "+Math.round(100*t.y.data)/100:"<b>"+t.y.vars[0]+"</b> vs <b>"+t.y.vars[1]+"</b><br>Cor: "+Math.round(100*t.y.data)/100;case"Venn":for(var c in t.venn.data)return c+" = "+t.venn.data[c];case"Network":if(t.display)return"<b>"+t.display+"</b><br>";if(t&&t.nodes)t.nodes[0]&&(h=t.nodes[0].hideTooltip?"":t.nodes[0].tooltip||t.nodes[0].name||t.nodes[0].label||t.nodes[0].id),this.colorNodeBy&&(h+="<br><b>"+this.colorNodeBy+"</b>: "+(t.nodes[0][this.colorNodeBy]||""));else if(t&&t.edges){var d=this.nodes[t.edges[0].id1],p=this.nodes[t.edges[0].id2];h=(d.label||d.id)+" - "+(p.label||p.id),h=t.edges[0].hideTooltip?"":t.edges[0].tooltip||t.edges[0].name||t.edges[0].label||h}return h;case"Genome":return t.display||t.name||(t[0].data[0]?t[0].data[0].id:"")}},this.setUserEvents=function(){var t={},e=this.events,i=this;this.disableEvents?this.userEvents={}:(t.enddragnode=function(t,i){e&&e.enddragnode&&e.enddragnode.call(i,t,i)},t.clicklegend=function(t,i,a){e&&e.clicklegend&&e.clicklegend.call(a,i,t,a),a.broadcastHidden({func:"userEventClickLegend",par:[t,i]})},t.select=function(t,i,a){e&&e.select&&e.select.call(a,t,i,a)},t.enddraw=function(t){e&&e.enddraw&&e.enddraw.call(t,t)},t.remoteupdate=function(t){e&&e.remoteupdate&&e.remoteupdate.call(t,t)},t.motion=function(t,a,s){s||(s=i),s.disableMotion||(s.resetSelected(a,!0),s.addRemoveToSelected(!1,{y:{vars:[t],smps:[t]}},a),e&&e.motion&&e.motion.call(s,t,a,s),s.broadcastDraw({func:"userEventsMotion",par:[t,a,!1]}))},t.drag=function(t,i){e&&e.drag&&e.drag.call(i,t,i)},t.wheel=function(t,i,a){e&&e.wheel&&e.wheel.call(a,t,i,a)},t.mouseout=function(t,i,a,s){a.resetInfoSpan(i),e&&e.mouseout&&e.mouseout.call(a,t,i,a,s)},t.mouseup=function(t,i,a,s){e&&e.mouseup&&e.mouseout.call(a,t,i,a,s)},t.contextmenu=function(t,i,a,s){if("Network"==a.graphType){if(i.ctrlKey)return!1;t&&t.nodes&&1==t.nodes.length&&(CanvasXpress.selector.nodes.hasOwnProperty([t.nodes[0].id])||a.resetSelected(i))}a.addMenu(i),e&&e.contextmenu&&e.contextmenu.call(a,t,i,a,s)},t.click=function(t,a,s,r){s||(s=i);var n=function(){var e=a.ctrlKey,i=a.altKey;e&&i?(s.flashInfoSpan(10,10,"Object printed to console",3e3),console.log(s.prettyJSON(t))):(e||s.resetSelected(a,!0),s.addRemoveToSelected(r,t,a),"Sankey"==s.graphType&&delete t.links,s.broadcastDraw({func:"userEventsClick",par:[t,a,!1,r]}),s.flashInfoSpan(10,10,"Click ESC to reset graph",3e3))};if(s.isDOE&&r)s.setActiveLayout(a),s.handleDOEClick(r);else if(t){if(t&&t.objectType)t.objectType.match(/Histogram|Stack/)?n():t.objectType.match(/Dendrogram/)?s.modifyDendrogram(t):"Tree"==t.objectType?(s.skipTransition=!1,s.handleTreeClick(t)):"Ring"==t.objectType||(t&&t.objectType&&t.selector?(s.handleSelector(t.selector),s.flashInfoSpan(10,10,"Click ESC to reset graph",3e3)):(s.logConsole("Click on "+t.display),s.verbose&&s.flashInfoSpan(100,100,"Click on "+t.display,3e3)));else if(t&&(t.nodes||t.edges))n(),t&&t.nodes&&1==t.nodes.length&&t.nodes[0].links?s.showLinkDiv(a,t.nodes[0].links,null!=t.nodes[0].label?t.nodes[0].label:t.nodes[0].name?t.nodes[0].name:t.nodes[0].id):t&&t.edges&&1==t.edges.length&&t.edges[0].links&&s.showLinkDiv(a,t.edges[0].links,null!=t.edges[0].label?t.edges[0].label:t.edges[0].name?t.edges[0].name:t.edges[0].id1+"-"+t.edges[0].id2);else if(t.y||t.w||"Map"==s.graphType){if(s.graphType&&"orthographic"==s.mapProjection){var o=s.adjustedCoordinates(a),h=s.geoProjectInvert([o.x,o.y]);s.eventMapCenter=[-h[0],-h[1]]}n()}}else s.resetSelected(a,!CanvasXpress.selector.selections);return e&&e.click&&e.click.call(s,t,a,s,r),!1},t.dblclick=function(t,i,a,s){return t&&t.objectType&&t.objectType.match(/Dendrogram/)&&"Circular"!=a.graphType?a.zoomDendrogram(t):t&&t.objectType&&"Ring"==t.objectType||t&&"Fish"==a.graphType||(t&&t.objectType&&"Stack"!=t.objectType?(a.logConsole("Double Click on "+t.display),this.verbose&&a.flashInfoSpan(100,100,"Double Click on "+t.display,3e3)):"Network"==a.graphType||"Genome"==a.graphType?a.addConfigurator(i,s):t&&!a.graphType.match(/Tree|Circular|Sankey/)&&(t.display&&t.display.match(/Drag/)||a.showTooltipDiv(i,a.arrayToHTML(a.getDataClassAsArray(a.getUngroupedDataObject(t,s))),!1,!1,null,null,t))),e&&e.dblclick&&e.dblclick.call(a,t,i,a,s),!1},t.mouseover=function(t,i,a,s){e&&e.mouseover&&e.mouseover.call(a,t,i,a,s);var r=a.getSummaryDataObject(t,i);r&&""!=r&&(a.showInfoSpan(i,r),"Chord"==t.objectType&&a.handleChordMouseOver(t),s&&s[0].toString().match("elbow")&&(a.getTargetEvent(i).style.cursor="move"))},t.mousemove=function(t,i,a,s){e&&e.mousemove&&e.mousemove.call(a,t,i,a,s);var r=a.getSummaryDataObject(t,i);r&&""!=r&&(a.showInfoSpan(i,r),"Chord"==t.objectType&&a.handleChordMouseOver(t),s&&s[0].toString().match("elbow")&&(a.getTargetEvent(i).style.cursor="move"))},this.userEvents=t)},this.userEventsClick=function(t,e,i,a){this.userEvents.click(t,e,i,a)},this.userEventsDblClick=function(t,e,i,a){this.userEvents.dblclick(t,e,i,a)},this.userEventsMotion=function(t,e){this.reproducing||this.userEvents.motion(t,e,this)},this.userEventsMouseover=function(t,e,i,a){this.userEvents.mouseover(t,e,i,a)},this.userEventsMousemove=function(t,e,i,a){this.userEvents.mousemove(t,e,i,a)},this.userEventsDrag=function(t,e){this.userEvents.drag(t,e)},this.userEventsWheel=function(t,e,i){this.userEvents.wheel(t,e,i)},this.resetFlags=function(t){this.resetOn=!0,this.animationOn=!1,this.skipTransition=!1,this.draggingOn=!1,this.movingOn=!1,this.panningOn=!1,this.changingColorOn=!1,this.changingColorItemOn=!1,this.changingSliderItemOn=!1,this.keyOn=!1,this.lassoOn=!1,this.xMouseDown=!1,this.yMouseDown=!1,this.resetTouches(),this.moveNode=!1,this.moveNodeIndex=!1,this.moveNodeLab=!1,this.moveNodeDec=!1,this.moveNodeX=!1,this.moveNodeY=!1,this.moveNodeW=!1,this.moveNodeH=!1,this.moveEdge=!1,this.moveEdgeIndex=!1,this.moveEdgeElbow=!1,this.moveEdgeX=!1,this.moveEdgeY=!1,this.resizeNode=!1,this.resizeLegend=!1,this.moveLegend=!1,this.moveLegendX=!1,this.moveLegendY=!1,this.moveMarker=!1,this.moveMarkerX=!1,this.moveMarkerY=!1,this.moveSankey=!1,this.moveSankeyId=!1,this.moveSankeyX=!1,this.moveSankeyY=!1,this.moveGenome=!1,this.moveMap=!1,this.moveCircular=!1,this.moveDendrogram=!1,this.moveVar=!1,this.moveSmp=!1,this.moveVarOverlay=!1,this.moveSmpOverlay=!1,t&&this.stopEvent(t),window.document.defaultAction=!0,window.document.body.style.cursor="default"},this.mousemoveDoc=(t=this,function(e){var i=e.target||e.srcElement;"CanvasXpress"!=i.className||CanvasXpress.resizing||(CanvasXpress.current=i.id);var a,s=function(){if(i&&i.className&&i.className.toString().match(/canvasxpress/i)){var a=t.isEvent(e);if(t.isDOE&&t.setActiveLayout(e),a||t.lassoSelected)"CanvasXpress"==i.className&&(t.lassoPoints&&t.lassoPoints.length&&t.resetInfoSpan(e,!0),(t.varIndicesStart>0||t.smpIndicesStart>0||t.grpIndicesStart>0)&&(i.style.cursor="move"),t.handleMouseEvents(e,"mousemove",t.isEventIndices(e,!1,a))||t.highlightCanvas(a));else if(t.clearHighlightCanvas(),"Map"==t.graphType&&t.canvasPointToCoordinate&&"CanvasXpress"==i.className){var s=t.canvasPointToCoordinate(t.xMouseMove,t.yMouseMove),r=" [ "+s[1].toFixed(1)+", "+s[0].toFixed(1)+" ]";t.showInfoSpan(e,r)}else t.resetInfoSpan(e,!0)}};if(t.motioningOn)return s();if(CanvasXpress.system.isTouchScreen&&"touchmove"==e.type&&t.touches){if("click"==t.touchEvent)t.mouseupDoc();else if(t.touches.length>1&&e.touches.length>1&&"mousemove"!=t.touchEvent){t.touchEvent="pinch";var r=t.euclidianDistance([t.touches[0].clientX,t.touches[0].clientY],[t.touches[1].clientX,t.touches[1].clientY]),n=t.euclidianDistance([e.touches[0].clientX,e.touches[0].clientY],[e.touches[1].clientX,e.touches[1].clientY]),o=(e.touches[0].clientX+e.touches[1].clientX)/2,h=(e.touches[0].clientY+e.touches[1].clientY)/2;if(Math.abs(n-r)>100)return t.wheelCanvas(e,n-r,{x:o,y:h})}t.touchEvent="mousemove"}if(CanvasXpress.current&&CanvasXpress.current==t.target||CanvasXpress.current&&CanvasXpress.current==t.target2||CanvasXpress.resizing||i.id&&i.id.match(/-cX-API-Example/)){if(t.lastMousemove&&"Scatter3D"==t.graphType&&(new Date).getTime()-t.lastMousemove<100)return;if(t.lastMousemove=(new Date).getTime(),t.isToolbar(e),t.isDataTableToolbar(e),t.isVersion(e))t.$(t.target).style.cursor="help",t.showInfoSpan([e.clientX,e.clientY+30],(a="CanvasXpress<br>ver : "+CanvasXpress.factory.version+"<br>date : "+CanvasXpress.factory.buildDate,t.createVersion&&(a+="<br><br>- Original Plot -<br>CanvasXpress<br>ver : "+t.createVersion),window.cX&&(a+="<br><b>license</b> : "+window.cX),a));else if(t.filteringNumericOn)t.preventSelection(),t.updateNumericFilter(e);else if(t.filteringStringOn)t.preventSelection(),t.updateStringFilter(e);else if(t.draggingTargetOn)t.preventSelection(),t.updateMousemove(e);else if(t.resizingDataTableOn)t.preventSelection(),t.updateDataTableResizerDiv(e);else if(t.motionOn)t.preventSelection(),t.updateMotion(e);else if(t.resizingDataTableColumnOn)t.preventSelection(),t.mousemoveDataTableHeader(e);else if(t.changingColorOn)t.preventSelection(),t.updateColorValue(e);else if(t.changingColorItemOn)t.preventSelection(),t.updateColorItemValue(!1,e);else if(t.changingSliderItemOn)t.preventSelection(),t.updateSliderItemValue(e);else if(t.isDOE&&t.skipClick)t.preventSelection(),t.updateLayoutDrag(e),s();else if(!t.configuringOn){if(t.draggingOn){if(t.preventSelection(),t.cancelEvent(e),t.updateDrag(e),t.lastCanvasEvent="drag",t.moveMarker)return}else t.resizingCanvasOn&&t.resizeCanvasCursorShow?(t.preventSelection(),t.cancelEvent(e),t.updateCanvasResizer(e),t.lastCanvasEvent="resize"):t.updateCanvasResizerCursor(e);s()}}return!1}),this.registerMousemove=function(t){return function(e){var i=e.target||e.srcElement;if(t.motioningOn)t.stopEvent(e);else if(t.hasClass(this,"CanvasXpressMenu")){if(t.draggableTarget)return;for(var a=this;t.hasClass(a.previousSibling,"CanvasXpressMenu");)a=a.previousSibling;t.draggableTarget=a,t.draggableTargetEl=i,t.activeTarget=t.draggableTarget,t.activeTarget.style.zIndex=10001,t.xMouseDown=e.clientX,t.yMouseDown=e.clientY,t.draggableXoffset=parseInt(t.draggableTarget.style.left)||0,t.draggableYoffset=parseInt(t.draggableTarget.style.top)||0,t.draggableTargetEl.style.cursor="grabbing",t.draggableTargetEl.style.cursor="-moz-grabbing",t.draggableTargetEl.style.cursor="-webkit-grabbing",t.draggingTargetOn=!0}else{if((1==e.button&&null!=window.event||0==e.button)&&t.hasClass(i,"draggable")&&i.className.match("CanvasXpressDataExplorer")&&"SPAN"==i.tagName.toUpperCase())return;(1==e.button&&null!=window.event||0==e.button)&&t.hasClass(i,"draggable")?(t.activeTarget&&(t.activeTarget.style.zIndex=1e4),t.draggableTarget=i.parentNode&&t.hasClass(i.parentNode,"draggable-container")?i.parentNode:i,t.activeTarget=t.draggableTarget,t.activeTarget.style.zIndex=10001,t.xMouseDown=e.clientX,t.yMouseDown=e.clientY,t.draggableXoffset=parseInt(t.draggableTarget.style.left)||0,t.draggableYoffset=parseInt(t.draggableTarget.style.top)||0,t.draggingTargetOn=!0,t.removeMenus()):i.id==t.target+"-cX-ToolbarMove"&&(t.draggableTarget=t.remoteService?t.$(t.remoteParentId+"-canvasXpressRemoteWindow"):t.$("container-"+t.target),t.activeTarget=t.draggableTarget,t.activeTarget.style.zIndex=10001,t.xMouseDown=e.clientX,t.yMouseDown=e.clientY,t.draggableXoffset=parseInt(t.draggableTarget.style.left)||0,t.draggableYoffset=parseInt(t.draggableTarget.style.top)||0,t.draggingTargetOn=!0,t.removeMenus())}}}(this),this.updateMousemove=function(t){if(this.draggableTarget&&this.draggableTarget.style){var e=parseInt(this.draggableTarget.style.left),i=parseInt(this.draggableTarget.style.top),a=this.draggableXoffset+t.clientX-this.xMouseDown,s=this.draggableYoffset+t.clientY-this.yMouseDown;if(this.draggableTarget.style.left=a+"px",this.draggableTarget.style.top=s+"px",this.draggableLastX=a,this.draggableLastY=s,this.draggableTarget.id==this.target+"-cX-DataTable"&&"docked"==this.dataTableLastState)this.moveDataTableDiv("release");else if(this.hasClass(this.draggableTarget,"CanvasXpressMenu"))for(var r=a-e,n=s-i,o=this.draggableTarget.nextSibling;o&&this.hasClass(o,"CanvasXpressMenu");)o.style.left=parseInt(o.style.left)+r+"px",o.style.top=parseInt(o.style.top)+n+"px",o=o.nextSibling}},this.endMousemove=function(t){if(null!=this.draggableTarget){this.moveDataTableDiv(),window.document.onselectstart=null;var e=this.remoteService?this.remoteParentId+"-canvasXpressRemoteWindow":"container-"+this.target;this.draggableTarget.id==e&&(CanvasXpress.stack[this.target].afterRender.push(["moveCanvas",[this.draggableTarget.style.left,this.draggableTarget.style.top]]),this.draggableTarget.style.zIndex="unset"),this.hasClass(this.draggableTarget,"CanvasXpressMenu")&&(this.draggableTargetEl.style.cursor="grab",this.draggableTargetEl.style.cursor="-moz-grab",this.draggableTargetEl.style.cursor="-webkit-grab",delete this.draggableTargetEl),this.yMouseDown=null,this.draggableXoffset=null,this.draggableYoffset=null,this.draggableTarget.ondragstart=null,this.draggableTarget=!1,this.draggingTargetOn=!1}},this.mousedownDoc=function(t){return function(e){return t.mousedownElement=e.target||e.srcElement,!1}}(this),this.mouseupDoc=function(t){return function(e){var i=e.target||e.srcElement;i.className;if(CanvasXpress.current&&CanvasXpress.current==t.target||CanvasXpress.current&&CanvasXpress.current==t.target2||i&&i.id&&i.id.match(/-cX-API-Example/)||t.resizingCanvasOn||t.draggingOn||t.draggingTargetOn){if(t.resetMousePosition(),t.motioningOn)return t.stopEvent(e),!1;if(t.draggingTargetOn)t.endMousemove(e);else if(t.motionOn)t.endMotion(e);else if(t.resizingDataTableOn)t.endDataTableResizerDiv();else if(t.resizingDataTableColumnOn)t.endDataTableColumnResize(e);else if(t.changingColorOn)t.endColorChange(e);else if(t.changingColorItemOn)t.endColorItemChange(e);else if(t.changingSliderItemOn)t.endSliderItemChange(e);else if(t.isDOE&&t.skipClick)t.endDragLayout(e);else if(!t.configuringOn){if(t.isR&&(!t.mousedownElement||t.mousedownElement.className&&t.mousedownElement.className.toString().match(/shiny/i)))return;t.stopEvent(e),t.endDrag(e),t.endCanvasResizer(e),t.endNumericFilter(e),t.endStringFilter(e),t.resetFlags(e)}t.userEvents[e.type]&&t.handleMouseEvents(e,e.type)}}}(this),this.touchendDoc=function(t){return function(e){if(CanvasXpress.current&&CanvasXpress.current==t.target||CanvasXpress.current&&CanvasXpress.current==t.target2){switch(t.touchEvent){case"click":(new Date).getTime()-(t.touches?t.touches[0].time:0)>500?(t.touchEvent="reset",t.masterReset(e)):t.clickCanvas(e);break;case"dblclick":t.dblclickCanvas(e);break;case"contextmenu":t.contextmenuCanvas(e);break;case"mousemove":t.mouseupDoc(e);break;case"drag":t.touchEvent=!1;break;case"pinch":t.mouseupDoc(e);break;case"mousewheel":break;default:t.mouseupDoc(e)}return t.resetTouches(),!1}}}(this),this.contextDoc=function(t){return function(e){(e.target||e.srcElement).className.toString().match(/CanvasXpressDataTableDOE/)&&(t.addMenu(e),t.cancelEvent(e))}}(this),this.keydownDoc=function(t){return function(e){var i=e.target||e.srcElement;CanvasXpress.current&&CanvasXpress.current==t.target||CanvasXpress.current&&CanvasXpress.current==t.target2?t.configuringOn||i.id.match(/cX-DataTableSearch/)||i.id.match(/cX-DataFilter.+ContentSearch/)||i.id.match(/cX-DataFilterInput/)||"CanvasXpressListItemScrollSearch"==i.className||t.registerKey(e):i.className.match(/CanvasXpressMap/)&&CanvasXpress.$(i._cX).registerKey(e)}}(this),this.keyupDoc=function(t){return function(e){var i=e.target||e.srcElement;i.parentNode&&i.parentNode.id.match(/cX-DataTableToolbar/)?(i.id.match(t.target)&&(t.keyOn=!1,i.id.match(/cX-DataTableSearch/)&&t.updateSearchDataTable(i.id)),t.stopEvent()):CanvasXpress.current&&CanvasXpress.current==t.target||CanvasXpress.current&&CanvasXpress.current==t.target2?(t.keyOn=!1,i.id.match(/cX-DataTableSearch/)?t.updateSearchDataTable(i.id):i.id.match(/cX-DataFilter.+ContentSearch/)?t.updateSearchFilters(i.id):i.id.match(/cX-DataFilterInput/)?t.updateSelectStringFilter(i.id):"CanvasXpressListItemScrollSearch"==i.className?t.filterScrollSearch(i.id):t.configuringOn?t.selectConfig(e):t.remoteService&&t.selectDataSet(e)):i.className.match(/CanvasXpressMap/)}}(this),this.resizeWindow=function(t){return function(e){var i,a=function(){if(t.targetParentNodeResponsive){var e=t.getMaxCanvasWidthHeight(t.$(t.target),t.targetParentNodeAspectRatio);t.setDimensions(e[0],e[1])}},s=this,r=arguments,n=function(){i=null,a.apply(s,r)};clearTimeout(i),i=setTimeout(n,250),t.scrollWindow(e)}}(this),this.scrollWindow=function(t){return function(e){for(var i=0;i<CanvasXpress.instances.length;i++){var a=CanvasXpress.instances[i];!a.loaded&&a.lazyLoad&&t.isInViewport(a.meta.canvas.ctx.canvas)&&a.continueInitialization()}}}(this),this.initDocEvents=function(){if(!this.disableEvents){var t=window.document;this.disableDocument||(this.addEvtListener(t,"mousedown",this.mousedownDoc,!1),this.addEvtListener(t,"mousemove",this.mousemoveDoc,!1),this.addEvtListener(t,"touchmove",this.mousemoveDoc,!1),this.addEvtListener(t,"mouseup",this.mouseupDoc,!1),this.addEvtListener(t,"touchend",this.touchendDoc,!1),this.addEvtListener(t,"contextmenu",this.contextDoc,!1)),this.disableKeys||(this.addEvtListener(t,"keydown",this.keydownDoc,!1),this.addEvtListener(t,"keyup",this.keyupDoc,!1)),this.disableWindow||(this.addEvtListener(window,"resize",this.resizeWindow,!1),this.addEvtListener(window,"scroll",this.scrollWindow,!1))}},this.initializeEvents=function(){this.setUserEvents(),this.initDraggingEvents(),this.initCanvasResizerEvents(),this.initMotionEvents(),this.initKeyEvents(),this.initSelectEvents(),this.initDendrogramEvents(),this.initCanvasEvents(),this.initDocEvents(),this.initCleanupEvents()}},CanvasXpress.prototype.initAnimation=function(){this.moveMenu=function(t,e){var i=parseInt(t.style.left),a=i-e,s=(a-i)/5;this.updateMoveMenu(t,i,a,s)},this.updateMoveMenu=function(t,e,i,a){var s=this;e=this.stepResizeMove(e,i,a),t.style.left=Math.round(e)+"px",e!=i&&setTimeout((function(){s.updateMoveMenu(t,e,i,a)}),40)},this.resizeMoveObject=function(t,e,i,a,s,r){t.style.left=Math.round(e)+"px",t.style.top=Math.round(i)+"px",t.style.width=Math.round(a)+"px",t.style.height=Math.round(s)+"px",null!=r&&r()},this.resizeMove=function(t,e,i,a,s,r,n,o){if(t)if(o)t.style.left=Math.round(e)+"px",t.style.top=Math.round(i)+"px",t.style.width=Math.round(a)+"px",t.style.height=Math.round(s)+"px",null!=n&&n();else{r||(r=500);var h=parseInt(t.style.left)||0,l=parseInt(t.style.top)||0,c=parseInt(t.style.width)||t.clientWidth||0,d=parseInt(t.style.height)||t.clientHeight||0,p=1;r>0&&(p=r/40);var g=e-h;0!=g&&(g/=p);var u=i-l;0!=u&&(u/=p);var m=a-c;0!=m&&(m/=p);var f=s-d;0!=f&&(f/=p),this.updateResizeMove(t,h,e,g,l,i,u,c,a,m,d,s,f,n)}},this.updateResizeMove=function(t,e,i,a,s,r,n,o,h,l,c,d,p,g){if(t){var u=this;if(e=this.stepResizeMove(e,i,a),s=this.stepResizeMove(s,r,n),o=this.stepResizeMove(o,h,l),c=this.stepResizeMove(c,d,p),t.style.left=Math.round(e)+"px",t.style.top=Math.round(s)+"px",t.style.width=Math.round(o)+"px",t.style.height=Math.round(c)+"px",e==i&&s==r&&c==d&&o==h)return void(null!=g&&g());setTimeout((function(){u.updateResizeMove(t,e,i,a,s,r,n,o,h,l,c,d,p,g)}),50)}},this.stepResizeMove=function(t,e,i){return 0==i||t==e?e:(t+=i,i>0&&t>=e||i<0&&t<=e?e:t)},this.move=function(t,e,i,a,s,r){if(t)if(r)t.style.left=Math.round(e)+"px",t.style.top=Math.round(i)+"px",null!=s&&s();else{a||(a=1e3);var n=parseInt(t.style.left)||0,o=parseInt(t.style.top)||0,h=1;a>0&&(h=a/40);var l=e-n;0!=l&&(l/=h);var c=i-o;0!=c&&(c/=h),this.updateMove(t,n,e,l,o,i,c,s)}},this.updateMove=function(t,e,i,a,s,r,n,o){if(t){var h=this;if(e=this.stepResizeMove(e,i,a),s=this.stepResizeMove(s,r,n),t.style.left=Math.round(e)+"px",t.style.top=Math.round(s)+"px",e==i&&s==r)return void(null!=o&&o());setTimeout((function(){h.updateMove(t,e,i,a,s,r,n,o)}),30)}},this.transitionAccordion=function(t,e,i,a,s,r){var n=this,o=(new Date).getTime(),h=o-t;if(e<=h||r)return i&&(i.style.height=this.dataFilterHeight+"px",i.style.display="block"),a&&(a.style.height="0px",a.style.display="none"),void(s&&s());e-=h;var l=Math.round(e/250*this.dataFilterHeight);i&&(i.style.height=this.dataFilterHeight-l+"px",i.style.display="block"),a&&(a.style.height=l+"px"),setTimeout((function(){n.transitionAccordion(o,e,i,a,s)}),33)},this.createCarousel=function(t,e,i,a,s,r,n){var o;e||(e=100),i||(i=100),s||(s=0),!r||"vertical"!=r&&"horizontal"!=r?(r="vertical",o="rotateX"):o="rotateY";var h=360/t.length,l=Math.round((r=i)/2/Math.tan(Math.PI/t.length)),c=this.$cX("div",{id:this.newId("-cX-Carousel-"),className:"CanvasXpressCarouselScene",rotate:o,theta:h,radius:l,current:0,limit:t.length-1},{width:e+2*s+"px",height:i+2*s+"px",perspective:a+"px"});if(n)for(p in n)c.style[p]=n[p];for(var d=this.$cX("div",{className:"CanvasXpressCarousel"}),p=0;p<t.length;p++){var g=this.$cX("div",{className:"CanvasXpressCarouselCell"},{width:e+"px",height:i+"px",transform:o+"("+h*p+"deg) translateZ("+l+"px)"});g.appendChild(t[p]),d.appendChild(g)}return c.appendChild(d),this.rotateCarousel(c,6),c},this.rotateCarousel=function(t,e){t.firstChild.style.transform="translateZ("+-t.radius+"px) "+t.rotate+"("+t.theta*-e+"deg)"},this.transitionMagic=function(t,e,i,a){var s=this;e||(e="holeOut"),null==a&&(a=1e3),t.style.opacity=1,this.addClass(t,"magictime"),this.addClass(t,e),setTimeout((function(){s.removeClass(t,"magictime"),s.removeClass(t,e),i&&i()}),a)},this.initTransitions=function(){CanvasXpress.transitions||(CanvasXpress.transitions={}),CanvasXpress.transitions[this.target]=[]},this.isTransition=function(){if(this.isTransitionOn){var t=arguments.callee.caller;return t&&CanvasXpress.transitions[this.target].push([t,this.cleanEventInArguments(Array.from(t.arguments))]),!0}return!1},this.getTransitionSteps=function(){for(var t=[],e=1/(this.transitionStep-1),i=0;i<this.transitionStep;i++)t.push(this.easeVal(e*i));return t},this.getTransitionObjectsSteps=function(t,e,i){for(var a=this.getTransitionSteps(),s=Math.ceil(t/this.getTransitionStaggeringSteps(i)),r=[],n=0;n<t;n++)r.push(Math.max(0,a[Math.min(a.length-1,Math.max(0,e-Math.floor(n/s)))]));return r},this.getTransitionStaggeringSteps=function(t){return"Tree"==this.graphType||this.graphType.match(/Scatter/)||"Sankey"==this.graphType||"Circular"==this.graphType||"Correlation"==this.graphType||"Venn"==this.graphType||this.decorations&&this.decorations.kaplanMeier||this.connectBy||this.graphType.match(/Bar/)&&"lollipop"==this.barType&&!this.isGroupedData?1:t?"Data"==t?this.transitionStaggering:1:this.transitionStaggering},this.transition=function(){var t=this,e=this.transitionStep+this.getTransitionStaggeringSteps(),i=this.mapTransitionObject(),a=t.meta.render.order;if(this.meta.render.transition)for(var s in this.meta.render.transition.types)this.meta.render.types.hasOwnProperty(s)||a.push(s);this.transitionIter=0,this.isTransitionOn=!0;var r=function(){if(t.transitionIter>=e){if(CanvasXpress.transitions[t.target].length>0){var s=CanvasXpress.transitions[t.target].shift();if(s[2])for(var n in s[2])t[n]=s[2][n];return t.isTransitionOn=!1,s[0].apply(t,s[1]||!1)}return t.isTransitionOn=!1,t.triggerDataLoaded("transition")}for(var o=0;o<a.length;o++)i[a[o]]&&(t.disableGradientTransparencyShadow(),"Data"==a[o]&&"Venn"==t.graphType&&(t.rectangleClear(0,0,t.width,t.height),t.setGlobalCompositionOperation("lighter")),"Legends"!=a[o]&&"Labels"!=a[o]||"Circular"==t.graphType?"Size"==a[o]?t.transitionPropertyDataNoInterpolate(a[o]):t.transitionPropertyData(t.transitionIter,i[a[o]],a[o]):t.transitionPropertyDataTransparency(t.transitionIter,a[o]),"Data"==a[o]&&"Venn"==t.graphType&&t.setGlobalCompositionOperation("source-over"),t.enableGradientTransparencyShadow());t.transitionIter++,this.requestAnimationFrame(r)};r()},this.transitionPropertyData=function(t,e,i){for(var a=this.meta.render.transition.objects,s=this.meta.render.objects,r=this.getTransitionObjectsSteps(e.length,t,i),n=e.length,o=0;o<n;o++){var h=r[o],l=e[o][0],c=e[o][1],d=this.isObject(l)?l:a[l],p=this.isObject(c)?c:s[c];if(d&&p){var g=d.func;if(g==p.func){var u=d.params,m=p.params;switch(g){case"drawShape":if("arch"==u[0]){var f=(L=this.interpolateChord(u,m,h))[0],y=L[1],x=L[2],b=L[3],v=this.interpolateColor(u[5],m[5],h);this.drawShape(m[0],f,y,x,b,v,m[6],m[7],m[8],m[9],m[10],m[11],m[12],m[13],m[14],m[15])}else if(u[0]==m[0]||"arc2"==u[0]||"arc2"==m[0]||u[0].match("roundrect")||m[0].match("roundrect"))if("arc2"==u[0]&&"arc2"!=m[0]){var A=(D=u[4]-u[3]/2)*Math.cos(u[12])+u[1],w=D*Math.sin(u[12])+u[2],C=(A+(B=D*Math.cos(u[13])+u[1]))/2,T=(w+(N=D*Math.sin(u[13])+u[2]))/2,S=this.euclidianDistance([A,w],[B,N]);f=this.interpolateNumber(C,m[1],h),y=this.interpolateNumber(T,m[2],h),b=this.interpolateNumber(S,m[3],h),x=this.interpolateNumber(u[3],m[4],h),v=this.interpolateColor(u[5],m[5],h),k=this.interpolateNumber(u[12],m[12],h),L=this.interpolateNumber(u[13],m[13],h),I=this.interpolateNumber(u[12],Math.PI,h);this.drawShape(m[0],f,y,Math.max(x,b),Math.min(x,b),v,m[6],m[7],I,m[9],m[10],m[11],k,L,m[14],m[15])}else if("arc2"!=u[0]&&"arc2"==m[0]){var D;A=(D=m[4]-m[3]/2)*Math.cos(m[12])+m[1],w=D*Math.sin(m[12])+m[2],C=(A+(B=D*Math.cos(m[13])+m[1]))/2,T=(w+(N=D*Math.sin(m[13])+m[2]))/2,S=this.euclidianDistance([A,w],[B,N]),f=this.interpolateNumber(u[1],C,h),y=this.interpolateNumber(u[2],T,h),b=this.interpolateNumber(u[3],S,h),x=this.interpolateNumber(u[4],m[3],h),v=this.interpolateColor(u[5],m[5],h),k=!("pie"!=u[0]&&!u[0].match(/arc/))&&this.interpolateNumber(u[12],m[12],h),L=!("pie"!=u[0]&&!u[0].match(/arc/))&&this.interpolateNumber(u[13],m[13],h),I=this.interpolateNumber(Math.PI,m[12],h);this.drawShape(u[0],f,y,Math.max(x,b),Math.min(x,b),v,m[6],m[7],I,m[9],m[10],m[11],k,L,m[14],m[15])}else if("arrow"==u[0]&&"arrow"==m[0]){f=this.interpolateNumber(u[8]==m[8]?u[1]:u[2],m[1],h),y=this.interpolateNumber(u[8]==m[8]?u[2]:u[1],m[2],h),x=this.interpolateNumber(u[8]==m[8]?u[3]:u[4],m[3],h),b=this.interpolateNumber(u[8]==m[8]?u[4]:u[3],m[4],h),v=this.interpolateColor(u[5],m[5],h),I=u[8]==m[8]?u[8]:!(u[8]||!m[8]);this.drawShape(m[0],f,y,x,b,v,m[6],m[7],I,m[9],m[10])}else{f=this.interpolateNumber(u[1],m[1],h),y=this.interpolateNumber(u[2],m[2],h),x=this.interpolateNumber(u[3],m[3],h),b=this.interpolateNumber(u[4],m[4],h),v=this.interpolateColor(u[5],m[5],h),k=!("pie"!=u[0]&&!u[0].match(/arc/))&&this.interpolateNumber(u[12],m[12],h),L=!("pie"!=u[0]&&!u[0].match(/arc/))&&this.interpolateNumber(u[13],m[13],h),I="ellipse2"==u[0]&&this.interpolateNumber(u[8],m[8],h);this.drawShape(m[0],f,y,x,b,v,m[6],m[7],I,m[9],m[10],m[11],k,L,m[14],m[15])}else{var f=this.interpolateNumber(u[1],m[1],h),y=this.interpolateNumber(u[2],m[2],h),x=this.interpolateNumber(u[3],m[3],h),b=this.interpolateNumber(u[4],m[4],h),v=this.interpolateColor(u[5],m[5],h),M=u[0].match(/circle|sphere/)&&m[0].match(/rect|square/)&&t>5?m[0]:"oval",k=!("pie"!=u[0]&&!u[0].match(/arc/))&&this.interpolateNumber(u[12],m[12],h),L=!("pie"!=u[0]&&!u[0].match(/arc/))&&this.interpolateNumber(u[13],m[13],h),I="ellipse2"==u[0]&&this.interpolateNumber(u[8],m[8],h);this.drawShape(M,f,y,x,b,v,m[6],m[7],I,m[9],m[10],m[11],k,L,m[14],m[15])}break;case"drawLine":A=this.interpolateNumber(u[1],m[1],h),w=this.interpolateNumber(u[2],m[2],h);var B=this.interpolateNumber(u[3],m[3],h),N=this.interpolateNumber(u[4],m[4],h);x="error"==u[0]?this.interpolateNumber(u[6],m[6],h):m[6],v=this.interpolateColor(u[5],m[5],h);this.drawLine(m[0],A,w,B,N,v,x,m[7],m[8],m[9],m[10],m[11],m[12],m[13],m[14]);break;case"drawText":f=this.interpolateNumber(u[1],m[1],h),y=this.interpolateNumber(u[2],m[2],h);var F=this.interpolateTextFont(u[3],m[3],h);v=this.interpolateColor(u[4],m[4],h),I=this.interpolateNumber(u[7]||0,m[7]||0,h);this.drawText(m[0],f,y,F,v,m[5],m[6],I,m[8],m[9],m[10],m[11]);break;case"drawArcText":f=this.interpolateNumber(u[1],m[1],h),y=this.interpolateNumber(u[2],m[2],h),I=this.interpolateNumber(u[3],m[3],h),k=this.interpolateNumber(u[4],m[4],h),L=this.interpolateNumber(u[5],m[5],h),F=this.interpolateTextFont(u[6],m[6],h),v=this.interpolateColor(u[7],m[7],h);this.drawArcText(m[0],f,y,I,k,L,F,v,m[8],m[9],m[10],m[11]);break;default:this.layoutValid||"Correlation"==this.graphType||"Axes"==i||this[g].apply(this,m)}}}}},this.transitionPropertyDataNoInterpolate=function(t){for(var e=this.meta.render.types.hasOwnProperty(t)?this.meta.render.types[t].all:[],i=0;i<e.length;i++){var a=this.meta.render.objects[e[i]],s=a.func,r=a.params;switch(s){case"drawShape":this.drawShape(r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8],r[9],r[10],r[11],r[12],r[13],r[14],r[15]);break;case"drawLine":this.drawLine(r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8],r[9],r[10],r[11],r[12],r[13],r[14]);break;case"drawText":this.drawText(r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8],r[9],r[10],r[11]);break;case"drawArcText":this.drawArcText(r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8],r[9],r[10],r[11])}}},this.transitionPropertyDataTransparency=function(t,e){for(var i=this.meta.render.types.hasOwnProperty(e)?this.meta.render.types[e].all:[],a=this.getTransitionObjectsSteps(i.length,t),s=0;s<i.length;s++){var r=this.meta.render.objects[i[s]],n=r.func,o=r.params,h=a[s];switch(n){case"drawShape":this.drawShape(o[0],o[1],o[2],o[3],o[4],this.addColorTransparency(o[5],h,!0),this.addColorTransparency(o[6],h,!0),o[7],o[8],o[9],o[10],o[11],o[12],o[13],o[14],o[15]);break;case"drawLine":this.drawLine(o[0],o[1],o[2],o[3],o[4],this.addColorTransparency(o[5],h,!0),o[6],o[7],o[8],o[9],o[10],o[11],o[12],o[13],o[14]);break;case"drawText":this.drawText(o[0],o[1],o[2],o[3],this.addColorTransparency(o[4],h,!0),o[5],o[6],o[7],o[8],o[9],o[10],o[11]);break;case"drawArcText":this.drawArcText(o[0],o[1],o[2],o[3],o[4],o[5],o[6],this.addColorTransparency(o[7],h,!0),o[8],o[9],o[10],o[11])}}},this.transitionMap=function(t,e){var i=t,a=i.getTransitionSteps(),s=i.transitionStep,r=i.geoProjection.rotate(),n=i.eventMapCenter;i.transitionIter=0,i.isTransitionOn=!0;var o=function(){if(i.transitionIter>=s)return delete i.eventMapZoom,delete i.eventMapCenter,i.isTransitionOn=!1,i.draw({func:"broadcastDraw",par:[e]});var t=a[i.transitionIter++],h=i.interpolateNumber(r[0],n[0],t),l=i.interpolateNumber(r[1],n[1],t);i.geoProjection.rotate([h,l]),i.eventMapCenter=[h,l],i.draw({func:"broadcastDraw",par:[e]}),i.requestAnimationFrame(o)};o()},this.easeVal=function(t){switch(this.transitionFunction){case"linear":return t;case"easeInQuad":return t*t;case"easeOutQuad":return t*(2-t);case"easeInOutQuad":return t<.5?2*t*t:(4-2*t)*t-1;case"easeInCubic":return t*t*t;case"easeOutCubic":return--t*t*t+1;case"easeInOutCubic":return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1;case"easeInQuart":return t*t*t*t;case"easeOutQuart":return 1- --t*t*t*t;case"easeInOutQuart":return t<.5?8*t*t*t*t:1-8*--t*t*t*t;case"easeInQuint":return t*t*t*t*t;case"easeOutQuint":return 1+--t*t*t*t*t;case"easeInOutQuint":return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t;default:return t}},this.interpolateNumber=function(t,e,i){var a=[],s=this.isArray(t),r=this.isArray(e);if(s&&r){for(var n=t.length,o=0;o<n;o++){var h=[],l=this.isArray(t[o]),c=this.isArray(e[o]);if(l&&c){for(var d=t[o].length,p=0;p<d;p++)h.push(t[o][p]+i*(e[o][p]-t[o][p]));a.push(h)}else if(l){for(d=t[o].length,p=0;p<d;p++)h.push(t[o][p]+i*(e[o]-t[o][p]));a.push(h)}else if(c){var g=e[o].length;for(p=0;p<g;p++)h.push(t[o]+i*(e[o][p]-t[o]));a.push(h)}else a.push(t[o]+i*(e[o]-t[o]))}return a}if(s){for(n=t.length,o=0;o<n;o++)a.push(t[o]+i*(e-t[o]));return a}if(r){var u=e.length;for(o=0;o<u;o++)a.push(t+i*(e[o]-t));return a}return t+i*(e-t)},this.interpolateChord=function(t,e,i){var a=this.interpolateNumber(t[3],e[3],i),s=this.interpolateNumber(t[4],e[4],i),r=this.interpolateNumber(t[1][1],e[1][1],i),n=this.interpolateNumber(t[2][1],e[2][1],i),o=r+s[0]*Math.cos(a[0]),h=n+s[0]*Math.sin(a[0]),l=r+s[1]*Math.cos(a[3]),c=n+s[1]*Math.sin(a[3]),d=r+s[1]*Math.cos(a[2]),p=n+s[1]*Math.sin(a[2]);return[[o,r,l,d,r,r+s[0]*Math.cos(a[1])],[h,n,c,p,n,n+s[0]*Math.sin(a[1])],a,s]},this.interpolateColor=function(t,e,i){if(t instanceof CanvasGradient)return t;if(e instanceof CanvasGradient)return e;t=this.colorAsArray(t),e=this.colorAsArray(e);var a=[];return a[0]=parseInt(this.interpolateNumber(t[0],e[0],i)),a[1]=parseInt(this.interpolateNumber(t[1],e[1],i)),a[2]=parseInt(this.interpolateNumber(t[2],e[2],i)),4==t.length&&4==e.length?a[3]=parseInt(10*this.interpolateNumber(t[3],e[3],i))/10:a[3]=parseInt(10*this.interpolateNumber(null!=t[3]?t[3]:1,null!=e[3]?e[3]:1,i))/10,(4==a.length?"rgba(":"rgb(")+a.join(",")+")"},this.interpolateTextFont=function(t,e,i){var a=this.getFontPt(t),s=this.getFontPt(e),r=Math.floor(this.interpolateNumber(a,s,i));return t.replace(a,r)},this.setTransitionObject=function(t,e,i){var a=t.func,s=this.meta.render,r=this.meta.render.transition,n=function(){return e?s.objects[t.group]:r.objects[t.group]};switch(a){case"drawShape":switch(h=t.params[0]){case"box":case"rect":case"rectangle":case"roundrect":case"roundrectt":case"roundrectr":case"roundrectb":case"roundrectl":null!=t.baseline?this.isArray(t.baseline)&&4==t.baseline.length?(t.params[1]=t.baseline[0],t.params[2]=t.baseline[1],t.params[3]=t.baseline[2],t.params[4]=t.baseline[3]):this.isArray(t.baseline)?(t.params[1]=t.baseline[0],t.params[2]=t.baseline[1],t.params[3]=0,t.params[4]=0):"vertical"==this.graphOrientation?(t.params[2]=t.baseline,t.params[4]=0):(t.params[1]=t.baseline,t.params[3]=0):"vertical"==this.graphOrientation?(t.params[2]+=t.params[4]/2,t.params[4]=0):(t.params[1]-=t.params[3]/2,t.params[3]=0);break;case"spline":null!=t.baseline&&(this.isArray(t.baseline)?(t.params[1]=this.replaceArray(t.params[1],t.baseline[0]),t.params[2]=this.replaceArray(t.params[2],t.baseline[1])):"vertical"==this.graphOrientation?t.params[2]=this.replaceArray(t.params[2],t.baseline):t.params[1]=this.replaceArray(t.params[1],t.baseline));break;case"violin":null!=t.baseline&&this.isArray(t.baseline)&&(t.params[1][0]=t.baseline[0],t.params[1][1]=t.baseline[0],t.params[2][0]=t.baseline[1],t.params[2][1]=t.baseline[1]);break;case"confidence":if(null!=t.baseline)if(this.isArray(t.baseline))for(var o=0;o<t.params[1].length;o++)t.params[1][o][0]=t.params[1][o][1]=t.baseline[o][0],t.params[2][o][0]=t.params[2][o][1]=t.baseline[o][1];else if("vertical"==this.graphOrientation)for(o=0;o<t.params[2].length;o++)t.params[2][o][0]=t.params[2][o][1]=t.baseline;else for(o=0;o<t.params[1].length;o++)t.params[1][o][0]=t.params[1][o][1]=t.baseline;break;case"polygon":for(o=1;o<t.params[1].length;o++)t.params[1][o]=t.params[1][0],t.params[2][o]=t.params[2][0];break;case"arc2":t.params[3]=0,t.params[4]=0,t.params[12]=0,t.params[13]=0;break;case"pie":t.params[12]=0,t.params[13]=0;break;case"arch":t.params[1][0]=t.params[1][2]=t.params[1][3]=t.params[1][5]=t.params[1][1],t.params[2][0]=t.params[2][2]=t.params[2][3]=t.params[2][5]=t.params[2][1],t.params[3][0]=t.params[3][1]=t.params[3][2]=t.params[3][3]=0,t.params[4]=[1,1];break;default:null!=t.baseline?this.isArray(t.baseline)?(t.params[1]=t.baseline[0],t.params[2]=t.baseline[1],t.params[3]=t.baseline[2]||0,t.params[4]=t.baseline[3]||0):"vertical"==this.graphOrientation?(t.params[2]=t.baseline,t.params[3]=0,t.params[4]=0):(t.params[1]=t.baseline,t.params[3]=0,t.params[4]=0):(t.params[3]=0,t.params[4]=0),"ellipse2"==h&&(t.params[8]=t.params[8]>0?Math.PI/2:-Math.PI/2)}e||(t.params[5]=this.addColorTransparency(t.params[5],0,!0),t.params[6]=this.addColorTransparency(t.params[6],0,!0));break;case"drawLine":var h;switch(h=t.params[0]){case"error":(l=n())&&(t.params[6]>0?t.params[1]=t.params[3]=l.baseline||l.params[1]:t.params[2]=t.params[4]=l.baseline||l.params[2],t.params[6]=0);break;case"median":var l;(l=n())&&("vertical"==this.graphOrientation?(t.params[1]=t.params[3]=(t.params[1]+t.params[3])/2,t.params[2]=t.params[4]=l.baseline||l.params[2]):(t.params[2]=t.params[4]=(t.params[2]+t.params[4])/2,t.params[1]=t.params[3]=l.baseline||l.params[1]));break;case"spline":if(null!=t.baseline)if(this.isArray(t.baseline))for(o=0;o<t.params[1].length;o++)t.params[1][o]=t.baseline[0],t.params[2][o]=t.baseline[1];else if("vertical"==this.graphOrientation)for(o=0;o<t.params[2].length;o++)t.params[2][o]=t.baseline;else for(o=0;o<t.params[1].length;o++)t.params[1][o]=t.baseline;else if("vertical"==this.graphOrientation)for(o=1;o<t.params[1].length;o++)t.params[1][o]=t.params[1][0];else for(o=1;o<t.params[2].length;o++)t.params[2][o]=t.params[2][0];break;case"arc":t.params[3]=0,t.params[4]=0,t.params[8]=0,t.params[9]=0;break;default:i?(t.params[5]=this.addColorTransparency(t.params[5],0,!0),t.params[6]=.1):null!=t.baseline?this.isArray(t.baseline)?4==t.baseline.length?(t.params[1]=t.baseline[0],t.params[2]=t.baseline[1],t.params[3]=t.baseline[2],t.params[4]=t.baseline[3]):(t.params[1]=t.baseline[0],t.params[2]=t.baseline[1],t.params[3]=t.baseline[0],t.params[4]=t.baseline[1]):"vertical"==this.graphOrientation?(t.params[2]=t.baseline,t.params[4]=t.baseline):(t.params[1]=t.baseline,t.params[3]=t.baseline):(this.graphOrientation,t.params[3]=t.params[1],t.params[4]=t.params[2])}e||(t.params[5]=this.addColorTransparency(t.params[5],0,!0));break;case"drawText":null!=t.baseline?this.isArray(t.baseline)?(t.params[1]=t.baseline[0],t.params[2]=t.baseline[1],t.baseline[2]&&(t.params[3]=t.baseline[2]),t.baseline[3]&&(t.params[4]=t.baseline[3]),t.baseline[4]&&(t.params[7]=t.baseline[4])):"vertical"==this.graphOrientation?t.params[2]=t.baseline:t.params[1]=t.baseline:(t.params[3]="1px "+this.fontName,t.params[4]="rgba(0,0,0,0)"),e||(t.params[3]="1px "+this.fontName,t.params[4]="rgba(0,0,0,0)");break;case"drawArcText":t.params[1]=this.cx||this.width/2,t.params[2]=this.cy||this.height/2,t.params[3]=0,t.params[4]=0,t.params[5]=0,t.params[6]="1px "+this.fontName,t.params[7]="rgba(0,0,0,0)",e||(t.params[4]="rgba(0,0,0,0)")}return t},this.initTransitionObject=function(){var t=this.meta.render;if(t.transition)this.resetRender(!0);else{this.resetRender(!0);for(var e=0;e<t.transition.objects.length;e++)this.setTransitionObject(t.transition.objects[e])}},this.mapTransitionObject=function(){var t=this,e=this.meta.render,i={},a={},s=!1,r=function(i){var a=e.transition.types.hasOwnProperty(i)?e.transition.types[i].all:[],r=e.types.hasOwnProperty(i)?e.types[i].all:[],n=e.transition.objects,o=e.objects,h=e.origin,l={},c=[],d=a.length>0&&"Data"==i&&n[a[0]].params[0];if("Data"==i&&"rectangle"!=d&&(t.data.y&&t.data.y.histogram||t.meta.vals.histogram))for(var p=t.data.y&&t.data.y.histogram?t.data.y.histogram:t.meta.vals.histogram,g=0;g<p.length;g++)for(var u=0;u<p[g].length;u++)for(var m=0;m<p[g][u].length;m++){var f=p[g][u][m]+":0:"+u+":false",y=p[g][u][m]+":0:"+(u+1)+":false";if(t.meta.vals.histogram){var x=e.map[f],b=e.map[y];f=g+":"+(u+1);null!=(v=e.transition.map[f])&&null!=x?c.push([v,x]):null!=v&&null!=b&&c.push([v,b])}else{var v=e.transition.map[f],A=e.transition.map[y],w=g+":"+(u+1)+":0";x=e.map[w];null!=v&&null!=x?c.push([v,x]):null!=A&&null!=x&&c.push([A,x])}}else if("Data"==i&&"rectangle"==d&&t.meta.vals.histogram)for(p=t.meta.vals.histogram,g=0;g<p.length;g++)for(u=0;u<p[g].length;u++)for(m=0;m<p[g][u].length;m++){f=p[g][u][m]+":0:"+u+":false",y=p[g][u][m]+":0:"+(u+1)+":false",x=e.map[f],b=e.map[y],f=g+":"+(u+1)+":0";null!=(v=e.transition.map[f])&&null!=x?c.push([v,x]):null!=v&&null!=b&&c.push([v,b])}else{for(g=0;g<r.length;g++){var C=o[r[g]];if(!C.skip)for(u=0;u<h[r[g]].length;u++){if(T=h[r[g]][u]){n[T];c.push([T,r[g]])}else c.push([t.setTransitionObject(t.cloneObject(C),!0),r[g]]);l[T]=!0}}if(!s)for(g=0;g<a.length;g++){var T;(T=n[a[g]]).skip||l[a[g]]||c.push([a[g],t.setTransitionObject(t.cloneObject(T),!1,i.match(/Axes/))])}}return c};for(var n in e.transition||(this.initTransitionObject(),s=!0),"Tree"==this.graphType&&this.data.tree.click&&function(){var i,a={},s=t.data.tree.click,r=s._children?e.transition.objects:e.objects,n=(s.id,s._children?e.objects[e.map["Tree-Node:"+s.id]]:e.transition.objects[e.transition.map["Tree-Node:"+s.id]]);s._children?(s.children=s._children,i=s.descendants(),s._children=s.children,s.children=null):i=s.descendants();for(var o=0;o<i.length;o++)a[i[o].id.toString()]=!0;for(o=0;o<r.length;o++)for(var h in a){var l=new RegExp(":"+h+"$");if(r[o].id.match(l))switch(r[o].func){case"drawLine":r[o].baseline=[n.params[1],n.params[2],n.params[1],n.params[2]];break;default:r[o].baseline=[n.params[1],n.params[2]]}}t.data.tree.click=!1}(),e.types)a[n]=r(n),i[n]=!0;for(var n in e.transition.types)i.hasOwnProperty(n)||(a[n]=r(n));return a}},CanvasXpress.prototype.initExample=function(){this.getDataSet=function(t){if(t&&t.match(/RandomFunction/))return this.createRandomFunction();if(t&&t.match(/RandomVenn/))return this.createRandomVenn();if(t&&t.match(/RandomChord/))return this.createRandomChord();if(t&&t.match(/RandomNonLinearFit/))return this.createRandomNonLinearFit();if(t&&t.match(/RandomKaplanMeier/))return this.createRandomKaplanMeier();if(t&&t.match(/RandomGenome/))return this.createRandomGenome();if(t&&t.match(/RandomSankey/))return this.createRandomSankey();if(t&&t.match(/RandomCircular/))return this.createRandomCircular(t);if(t&&t.match(/RandomIdeogram/))return this.createRandomIdeogram(t);if(t&&t.match(/RandomNetwork/)){var e=t.split(":"),i={randomNetworkReduce:this.randomNetworkReduce,randomNetworkNodes:this.randomNetworkNodes,randomNetworkNodeEdgesMax:this.randomNetworkNodeEdgesMax,randomNetworkAll:this.randomNetworkAll,randomNetworkDummy:this.randomNetworkDummy,randomNetworkLayout:this.randomNetworkLayout};e.length>0&&(null!=e[1]&&Number(e[1])>0?this.randomNetworkReduce=!0:this.randomNetworkReduce=!1,null!=e[2]&&(this.randomNetworkNodes=Number(e[2])),null!=e[3]&&(this.randomNetworkNodeEdgesMax=Number(e[3])),null!=e[4]&&Number(e[4])>0?this.randomNetworkAll=!0:this.randomNetworkAll=!1,null!=e[5]&&Number(e[5])>0?this.randomNetworkDummy=!0:this.randomNetworkDummy=!1,null!=e[6]&&(this.randomNetworkLayout=e[6]));var a=this.createRandomNetwork();return this.randomNetworkReduce=i.randomNetworkReduce,this.randomNetworkNodes=i.randomNetworkNodes,this.randomNetworkNodeEdgesMax=i.randomNetworkNodeEdgesMax,this.randomNetworkAll=i.randomNetworkAll,this.randomNetworkDummy=i.randomNetworkDummy,this.randomNetworkLayout=i.randomNetworkLayout,a}if(t&&t.match(/Random/)){var s=!!t.match(/Multidimensional/);e=t.split(":"),i={randomDataVariables:this.randomDataVariables,randomDataSamples:this.randomDataSamples,randomDataVariableAnnotations:this.randomDataVariableAnnotations,randomDataSampleAnnotations:this.randomDataSampleAnnotations,randomDataMin:this.randomDataMin,randomDataMax:this.randomDataMax,randomMissingDataPercentage:this.randomMissingDataPercentage,randomDataTime:this.randomDataTime,randomDataDistribution:this.randomDataDistribution,randomDataMean:this.randomDataMean,randomDataSigma:this.randomDataSigma};e.length>0&&(null!=e[1]&&(this.randomDataVariables=Number(e[1])),null!=e[2]&&(this.randomDataSamples=Number(e[2])),this.randomDataVariableAnnotations=null!=e[3]?Number(e[3]):0,this.randomDataSampleAnnotations=null!=e[4]?Number(e[4]):0,null!=e[5]&&(this.randomDataSampleMin=Number(e[5])),null!=e[6]&&(this.randomDataSampleMax=Number(e[6])),this.randomMissingDataPercentage=null!=e[7]?Number(e[7]):0,this.randomDataTime=null!=e[8]&&"false"!=e[8],null!=e[9]&&(this.randomDataDistribution=e[9]),null!=e[10]&&(this.randomDataMean=Number(e[10])),null!=e[11]&&(this.randomDataSigma=Number(e[11])));a=this.createRandomData(s,!0);return this.randomDataVariables=i.randomDataVariables,this.randomDataSamples=i.randomDataSamples,this.randomDataVariableAnnotations=i.randomDataVariableAnnotations,this.randomDataSampleAnnotations=i.randomDataSampleAnnotations,this.randomDataMin=i.randomDataMin,this.randomDataMax=i.randomDataMax,this.randomMissingDataPercentage=i.randomMissingDataPercentage,this.randomDataTime=i.randomDataTime,this.randomDataDistribution=i.randomDataDistribution,this.randomDataMean=i.randomDataMean,this.randomDataSigma=i.randomDataSigma,a}return"Venn"==this.graphType?this.createRandomVenn():"Genome"==this.graphType?this.createRandomGenome():"Sankey"==this.graphType?this.createRandomSankey():"Circular"==this.graphType?this.showIdeogram?this.createRandomIdeogram():this.createRandomCircular("RandomCircular"):"Network"==this.graphType?this.getDataSet("RandomNetwork:1:20:10:0:0:large"):this.getDataSet("Random:4:8:1:2:1:100:0:false:biased:0:1")}},CanvasXpress.prototype.initData=function(){this.isValidPlotData=function(t){var e=this.isGroupedData?this.data.w:this.data.y;return!("cor"!=t||!e.cor)||(!("venn"!=t||!this.data.venn)||(!("network"!=t||!this.data.nodes)||(!("genome"!=t||!this.data.tracks)||(!!("sum"==t&&e.sum&&e.sum[0].length>0)||(!!("max"==t&&e.max&&e.max[0].length>0)||(!!("min"==t&&e.min&&e.min[0].length>0)||(!!("count"==t&&e.count&&e.count[0].length>0)||(!!("mean"==t&&e.mean&&e.mean[0].length>0)||(!!("median"==t&&e.median&&e.median[0].length>0)||(!!("iqr"==t&&e.iqr1&&e.qtl1&&e.median&&e.qtl3&&e.iqr3&&e.median[0].length>0)||!("raw"!=t||!this.isRawData)))))))))))},this.setRangeData=function(t,e,i,a,s){var r=this,n=this.isGroupedData&&!e&&this.data.w?this.data.w:this.data.y,o="Scatter2D"==this.graphType&&"visium"==this.scatterType&&CanvasXpress.cacheImages[this.backgroundImageMD5||this.getFileName(this.backgroundImage)],h=Number.POSITIVE_INFINITY,l=Number.NEGATIVE_INFINITY;if(null!=this.setMin&&null!=this.setMax)return this.minData=this.setMin,void(this.maxData=this.setMax);if(this.isGroupedData&&!t&&(t="Boxplot"==this.graphType?"iqr":this.summaryType,"Boxplot"!=this.graphType||this.isBoxplotCalc||(this.groupSamples(this.groupingFactors,!1,!1,!1,!0),n=this.data.w)),"Meter"==this.graphType){var c;c=this.layoutValid&&this.segregateVariablesBy.length&&this.segregateSamplesBy.length?this.data.l.comp[this.layoutCurrent||0][0][0]:this.layoutValid&&this.segregateVariablesBy.length&&!this.segregateSamplesBy.length?this.layoutCurrent||0:this.layoutValid&&this.segregateSamplesBy.length?this.meterVar?this.getVariableIndices(this.meterVar):0:this.layoutValid?this.layoutCurrent||0:this.meterVar?this.getVariableIndices(this.meterVar):0,this.meterIndex=c>=0?c:0;var d=this.data.y.data[this.meterIndex];h=0,l=this.max(d,!0)}else{if("fish"==t)"xAxis"==s?(h=this.fishTimepoints[0]-(this.fishTimepoints[this.fishTimepoints.length-1]-this.fishTimepoints[0])/5,l=this.fishTimepoints[this.fishTimepoints.length-1]):(h=0,l=100);else if("genome"==t)for(var p=this.data.tracks.length,g=0;g<p;g++)for(var u=this.data.tracks[g].data.length,m=0;m<u;m++)if("box"==this.data.tracks[g].type)for(var f=this.data.tracks[g].data[m].data.length,y=0;y<f;y++)d=this.data.tracks[g].data[m].data[y],l=Math.max(l,Math.max(d[0],d[1])),h=Math.min(h,Math.min(d[0],d[1]));else if("sequence"==this.data.tracks[g].type)d=this.data.tracks[g].data[m].offset,l=Math.max(l,d+this.data.tracks[g].data[m].sequence.length),h=Math.min(h,d);else if(this.data.tracks[g].type.match(/bar|heatmap/))d=this.data.tracks[g].data[m].offset,l=this.data.tracks[g].autowidth?Math.max(l,d+this.data.tracks[g].data[m].data.length):Math.max(l,d),h=Math.min(h,d);else if("dataframe"==this.data.tracks[g].type)for(f=this.data.tracks[g].data[0].data.length,y=0;y<f;y++)d=this.data.tracks[g].dataframe[this.data.tracks[g].data[0].data[y].xAxis],l=Math.max(l,d[d.length-1]),h=Math.min(h,d[0]);else if("marker"==this.data.tracks[g].type)for(f=this.data.tracks[g].data[m].data.length,y=0;y<f;y++)d=this.data.tracks[g].data[m].data[y],l=Math.max(l,d[d.length-1]),h=Math.min(h,d[0]);else d=this.data.tracks[g].data[m].offset,l=Math.max(l,d),h=Math.min(h,d);else if("circular"==t)if("chord"==this.circularType)this.circularChord=this.chordifyData(),h=0,l=this.circularChord.total;else if((w=this.getVariableIndices(this.rAxis))>=0){var x=this.range(this.data.y.data[w]);h=x[0],l=x[1]}else h=0,l=1;else if("gantt"==t){this.data.gantt||(this.isGanttDataFormated=!1,this.setGanttData());g=this.getVariableIndices(this.ganttStart),m=this.getVariableIndices(this.ganttEnd);var b=this.cloneObject(this.data.gantt);h=b[g].sort((function(t,e){return t-e}))[0],l=b[m].sort((function(t,e){return e-t}))[0]}else if("km"!=t||e)if("qq"==t||"cdf"==t){"qq"==t?this.checkQQPlot():this.checkCDFPlot();j=this.layoutValid?this.meta.data.p.l:this.meta.data.p.g;if(this.layoutValid)for(g=0;g<j.length;g++)for(m=0;m<j[g].length;m++)h=Math.min(h,j[g][m].data[s][0]),l=Math.max(l,j[g][m].data[s][j[g][m].data[s].length-1]);else for(g=0;g<j.length;g++)h=Math.min(h,j[g].data[s][0]),l=Math.max(l,j[g].data[s][j[g].data[s].length-1])}else if("density"==t&&n.density)if(this.histogramAsDotplot&&"yAxis"==s)"down"!=this.histogramStackDir?(h=-.5,l=.5):(h=0,l=1);else if(this.densityPosition.match(/filled|stacked/))"count"==this.histogramStat?("filled"==this.densityPosition||"stacked"==this.densityPosition)&&(l=n.global.maxY):"filled"==this.densityPosition?l=1:"stacked"==this.densityPosition&&(l=n.position.max),h=0;else if("stacked"==this.histogramType&&"count"==this.histogramStat){if(this.layoutValid&&this.data.l){var v=function(t){for(var e=1;e<r.data.l.name.length;e++)if(r.data.l.name[e]==t)return e-1;return 0};for(g=0;g<this.data.l.axes.length;g++){var A=0;for(m=0;m<this.data.l.axes[g].yAxis.length;m++){var w=v(this.data.l.axes[g].yAxis[m]);A+=n.density[w].histogram.maxY}l=Math.max(l,A)}}else l=n.global.maxY;h=0}else{"stacked"==this.histogramType&&(l=0);for(g=0;g<this.smpIndices.length;g++)"stacked"==this.histogramType?l+=n.density[this.smpIndices[g]-1].globalMaxY:l=Math.max(l,n.density[this.smpIndices[g]-1].globalMaxY);h=0}else if("percentile"!=t||e||a)if("mean"!=t&&"median"!=t&&"sum"!=t&&"max"!=t&&"min"!=t&&"count"!=t||e)if("mean"!=this.summaryType||this.isRawData)if("iqr"==t&&!e&&this.grpIndices||"iqr"==this.summaryType&&!this.isRawData)for(H=this.isDOE&&1==this.isDOE?this.data.y.vars.length:this.varIndices.length,g=0;g<H;g++){p=this.varIndices[g];var C=this.grpIndices?this.grpIndices:this.smpIndices,T=C.length;for(m=0;m<T;m++){u=C[m];var S=n.iqr1[p][u],D=n.iqr3[p][u],M=n.out[p][u];if(isNaN(S)||isNaN(D)||(i?S>0&&D>0&&(h=Math.min(S,h),l=Math.max(D,l)):(h=Math.min(S,h),l=Math.max(D,l))),M){var k=M.length;for(y=0;y<k;y++)isNaN(M[y])||(i?M[y]>0&&(h=Math.min(M[y],h),l=Math.max(M[y],l)):(h=Math.min(M[y],h),l=Math.max(M[y],l)))}}}else if("cor"==t)for(p=(R="variables"==this.correlationAxis?this.varIndices:this.isGroupedData?this.grpIndices:this.smpIndices).length,g=0;g<p;g++)for(u=R.length,m=0;m<u;m++){B=this.isTransformedData&&n.trans?n.trans[g][m]:n.cor[g][m];isNaN(B)||(i?B>0&&(h=Math.min(B,h),l=Math.max(B,l)):(h=Math.min(B,h),l=Math.max(B,l)))}else{O=this.isTransformedData&&n.trans?n.trans:n.data;var L=!!o&&o.height;if(O&&O.length>0)if(a){X=(P=(F="Circular"==this.graphType&&this.showIdeogram)?[this.varIndices,this.smpIndices]:[this.smpIndices,this.varIndices])[0].length;l=0,h=0,maxSt=0,minSt=0;for(g=0;g<X;g++){for(z=0,E=0,_=P[1].length,m=0;m<_;m++){B=F?O[P[0][g]][P[1][m]]:O[P[1][m]][P[0][g]];isNaN(B)||(minSt=Math.min(B,minSt),maxSt=Math.max(B,maxSt),B>0?z+=B:B<0&&(E+=B))}l=Math.max(z,l),h=Math.min(E,h)}}else for(p=this.motionBy||this.isDOE&&1==this.isDOE?this.data.y.vars.length:this.varIndices.length,g=0;g<p;g++)for(u=this.smpIndices.length,m=0;m<u;m++){var I=this.motionBy?g:this.varIndices[g];if(O[I]){B=L?L-O[I][this.smpIndices[m]]:O[I][this.smpIndices[m]];isNaN(B)||(i?B>0&&(h=Math.min(B,h),l=Math.max(B,l)):(h=Math.min(B,h),l=Math.max(B,l)))}}}else{var p=this.isDOE&&1==this.isDOE?this.data.y.vars.length:this.varIndices.length;for(g=0;g<p;g++)for(var u=this.smpIndices.length,m=0;m<u;m++){var B=n.mean[this.varIndices[g]][this.smpIndices[m]],N=n.stdev&&n.stdev[this.varIndices[g]]&&n.stdev[this.varIndices[g]][this.smpIndices[m]]/2?n.stdev[this.varIndices[g]][this.smpIndices[m]]/2:0;isNaN(B)||(isNaN(N)?(h=Math.min(B,h),l=Math.max(B,l)):(h=Math.min(B-N,h),l=Math.max(B+N,l)))}}else if(a){l=0,h=0,maxSt=0,minSt=0;for(var F,P,R=this.isGroupedData?this.grpIndices:this.smpIndices,O=this.isTransformedData?n.trans:n[this.summaryType],X=(P=(F="Circular"==this.graphType&&this.showIdeogram)?[this.varIndices,R]:[R,this.varIndices])[0].length,g=0;g<X;g++){for(var p=P[0][g],z=0,E=0,_=P[1].length,m=0;m<_;m++){var u=this.isGroupedData?m:P[1][m],B=F?O[p][u]:O[u][p];isNaN(B)||(minSt=Math.min(B,minSt),maxSt=Math.max(B,maxSt),B>0?z+=B:B<0&&(E+=B))}l=Math.max(z,l),h=Math.min(E,h)}}else for(var H=this.isDOE&&1==this.isDOE?this.data.y.vars.length:this.varIndices.length,g=0;g<H;g++){var V,p=this.varIndices[g];if(this.isTransformedData?(d=n.trans[g],V=!!n.tstdev&&n.tstdev[g]):("mean"==this.summaryType?d=n.mean[g]||n.mean[p]:"median"==this.summaryType?d=n.median[g]||n.median[p]:"sum"==this.summaryType?d=n.sum[g]||n.sum[p]:"max"==this.summaryType?d=n.max[g]||n.max[p]:"min"==this.summaryType?d=n.min[g]||n.min[p]:"count"==this.summaryType&&(d=n.count[g]||n.count[p]),V=!!n.stdev&&(n.stdev[g]||n.stdev[p])),d)for(var G=d.length,m=0;m<G;m++){var q,B=d[m];q=V?V[m]/2:Number.NaN,isNaN(B)||(isNaN(q)?i?B>0&&(h=Math.min(B,h),l=Math.max(B,l)):(h=Math.min(B,h),l=Math.max(B,l)):i?B>0&&(h=Math.min(B-q,h),l=Math.max(B+q,l)):(h=Math.min(B-q,h),l=Math.max(B+q,l)))}}else h=0,l=100;else if(this.layoutValid||this.checkKMPlot(),"y"==s)h=0,l=1;else{var j=this.layoutValid&&this.meta.data.p.l.length?this.meta.data.p.l:this.meta.data.p.g;if(this.layoutValid&&this.meta.data.p.l.length)for(var g=0;g<j.length;g++)for(var m=0;m<j[g].length;m++)h=Math.min(h,j[g][m].data.time[0]),l=Math.max(l,j[g][m].data.time[j[g][m].data.time.length-1]);else for(var g=0;g<j.length;g++)h=Math.min(h,j[g].data.time[0]),l=Math.max(l,j[g].data.time[j[g].data.time.length-1])}}if("Boxplot"==this.graphType&&this.showViolinBoxplot&&!this.violinTrim){var U=this.meta.data.d;if(this.isGroupedData)for(p=(U=U.g).length,g=0;g<p;g++)for(u=U[g].length,m=0;m<u;m++){(Y=U[g][m].density.xy).length&&(h=Math.min(h,Y[0][0]),l=Math.max(l,Y[Y.length-1][0]))}else for(p=(U=U.v).length,g=0;g<p;g++){var Y;(Y=U[g].density.xy).length&&(h=Math.min(h,Y[0][0]),l=Math.max(l,Y[Y.length-1][0]))}}else if("Scatter2D"==this.graphType&&"visium"==this.scatterType){var W=CanvasXpress.cacheImages[this.backgroundImageMD5||this.getFileName(this.backgroundImage)];h=0,l=s.match(/y/i)?W.height:W.width}this.minData=null!=this.setMin?this.setMin:h==Number.POSITIVE_INFINITY||h==Number.NEGATIVE_INFINITY?0:h,this.maxData=null!=this.setMax?this.setMax:l==Number.NEGATIVE_INFINITY||l==Number.POSITIVE_INFINITY?1:l,a&&"percentile"!=t&&(this.minDataStacked=minSt,this.maxDataStacked=maxSt)},this.setRangeDataObject=function(t){for(var e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY,a=this.varIndices.length,s=0;s<a;s++)for(var r=this.smpIndices.length,n=0;n<r;n++){var o=t[this.varIndices[s]][this.smpIndices[n]];isNaN(o)||(e=Math.min(o,e),i=Math.max(o,i))}return[e=e==Number.POSITIVE_INFINITY||e==Number.NEGATIVE_INFINITY?-1:e,i=i==Number.NEGATIVE_INFINITY||i==Number.POSITIVE_INFINITY?1:i]},this.checkObject=function(){var t=this.data.y;this.isGroupedData&&(this.data.w={},t=this.data.w);for(var e=["vars","smps","labs","glab","desc","data","mean","median","stdev","n","qtl1","qtl3","iqr1","iqr3","out","conf","nfac","trans","tstdev","cor","min","max","sum","count","grps","grpIdxs","factors"],i=e.length,a=0;a<i;a++)t[e[a]]||(t[e[a]]="factors"==e[a]?{}:[]);t.iqr=t.median},this.resetObject=function(t){var e=["mean","median","stdev","n","qtl1","qtl3","iqr1","iqr3","out","conf","nfac","cor","min","max","sum","count","grps","grpIdxs","factors"],i=e.length;if(this.isGroupedData){this.isTransformedData||(e.push("trans"),e.push("tstdev")),i=e.length;for(var a=0;a<i;a++)delete this.data.y[e[a]];delete this.data.w}else if(this.isTransformedData||(e.push("trans"),e.push("tstdev")),i=e.length,this.isRawData)for(a=0;a<i;a++)delete this.data.y[e[a]];t&&this.isRawData&&this.checkObject()},this.summarize=function(t,e){var i=this.isGroupedData?this.data.w:this.data.y,a=!this.isGroupedData;this.isGroupedData||this.checkObject();var s=["trans","tstdev","mean","median","stdev","qtl1","qtl3","iqr1","iqr3","out","conf","nfac","n","min","max","sum","count"],r=0,n=function(t,e){i[t][e]||(i[t][e]=[])};if("cor"==t)if(this.isBoxplotCalc=!1,"samples"==this.correlationAxis){this.isGroupedData&&0==i.cor.length&&this.ungroupSamples(!0,!0,!0);for(var o=this.isGroupedData?this.grpIndices:this.smpIndices,h=o.length,l=0;l<h;l++){var c=o[l],d=this.getDataForSmpGrpAtIndex(c);i.cor[c]||(i.cor[c]=[]);for(var p=o.length,g=l;g<p;g++){var u=o[g];i.cor[u]||(i.cor[u]=[]);var m=this.getDataForSmpGrpAtIndex(u);l==g?(this.isTransformedData&&(i.trans[c][u]=1),i.cor[c][u]=1):(i.cor[c][u]=this.correlation(d,m),i.cor[u][c]=i.cor[c][u],this.isTransformedData&&(i.trans[c][u]=i.cor[c][u],i.trans[u][c]=i.cor[u][c]))}}}else for(h=this.varIndices.length,l=0;l<h;l++){c=this.varIndices[l];i.cor[c]||(i.cor[c]=[]);for(p=this.varIndices.length,g=l;g<p;g++){u=this.varIndices[g];i.cor[u]||(i.cor[u]=[]),l==g?(i.cor[c][u]=1,this.isTransformedData&&(i.trans[c][u]=1)):(i.cor[c][u]=this.correlation(i.data[c],i.data[u],a),i.cor[u][c]=i.cor[c][u],this.isTransformedData&&(i.trans[c][u]=i.cor[c][u],i.trans[u][c]=i.cor[u][c]))}}else{this.isBoxplotCalc="iqr"==t;for(h=this.isDOE&&1==this.isDOE?this.data.y.vars.length:this.varIndices.length,l=0;l<h;l++){c=this.varIndices[l];var f,y=s.length;for(g=0;g<y;g++)n(s[g],c);if(this.isGroupedData)if(e)f=e[c];else{var x=this.isTransformedData?this.data.y.trans:this.data.y.data;f=[];var b=this.data.w.grps.length;for(g=0;g<b;g++){f[g]=[];for(var v=this.data.w.grps[g].length,A=0;A<v;A++){var w=this.data.w.grps[g][A];f[g].push(x[c][w])}}}else{i.grps=[],f=[];for(p=this.smpIndices.length,g=0;g<p;g++){u=this.smpIndices[g];i.grps[g]=[],i.grps[g].push(u),f[g]=[this.isTransformedData&&i.trans?i.trans[c][u]:i.data[c][u]]}}if("iqr"==t){if(this.summaryType="iqr",this.isRawData)if(this.isGroupedData)for(y=f.length,g=0;g<y;g++){var C=this.boxplot(f[g]);this.isTransformedData&&(i.trans[c][g]=C[1]),i.mean[c][g]=C[0],i.median[c][g]=C[2],i.qtl1[c][g]=C[1],i.qtl3[c][g]=C[3],i.iqr1[c][g]=C[4],i.iqr3[c][g]=C[5],i.out[c][g]=C[6],i.n[c][g]=C[7],i.conf[c][g]=C[8],r=Math.max(r,C[7])}else{p=this.smpIndices.length;for(var g=0;g<p;g++){u=this.smpIndices[g];this.isTransformedData&&(i.trans[c][g]=f[g][0]),i.mean[c][u]=f[g][0],i.median[c][u]=f[g][0],i.qtl1[c][u]=f[g][0],i.qtl3[c][u]=f[g][0],i.iqr1[c][u]=f[g][0],i.iqr3[c][u]=f[g][0],i.out[c][u]=[],i.n[c][u]=1,i.conf[c][u]=[],r=1}}i.iqr=i.median}else if("median"==t){if(this.summaryType="median",this.isRawData)for(y=f.length,g=0;g<y;g++){C=this.median(f[g],a);this.isTransformedData&&(i.trans[c][g]=C[1]),i.median[c][g]=C[0],i.n[c][g]=C[1]}}else if("mean"==t||"raw"==t){if(this.summaryType="mean",this.isRawData)for(y=f.length,g=0;g<y;g++){C=this.sumarizeErrorData(f[g],a);this.isTransformedData&&(i.trans[c][g]=C[0],i.tstdev[c][g]=C[1]),i.mean[c][g]=C[0],i.stdev[c][g]=C[1],i.n[c][g]=C[2]}}else if("sum"==t){if(this.summaryType="sum",this.isRawData)for(y=f.length,g=0;g<y;g++){var T=this.sum(f[g],a);this.isTransformedData&&(i.trans[c][g]=T),i.sum[c][g]=T,i.n[c][g]=f[g].length}}else if("max"==t){if(this.summaryType="max",this.isRawData)for(y=f.length,g=0;g<y;g++){var S=this.max(f[g],a);this.isTransformedData&&(i.trans[c][g]=S),i.max[c][g]=S,i.n[c][g]=f[g].length}}else if("min"==t){if(this.summaryType="min",this.isRawData)for(y=f.length,g=0;g<y;g++){var D=this.min(f[g],a);this.isTransformedData&&(i.trans[c][g]=D),i.min[c][g]=D,i.n[c][g]=f[g].length}}else if("count"==t&&(this.summaryType="count",this.isRawData))for(y=f.length,g=0;g<y;g++){var M=f[g].length;this.isTransformedData&&(i.trans[c][g]=M),i.count[c][g]=M,i.n[c][g]=M}}if("iqr"==t)for(l=0;l<i.n.length;l++)if(i.n[l])for(g=0;g<i.n[l].length;g++)i.nfac[l][g]=Math.sqrt(Math.log(i.n[l][g]))/Math.sqrt(Math.log(r))}},this.copySummarizedData=function(){for(var t,e=this.isGroupedData?this.data.w:this.data.y,i=0;i<this.varIndices.length;i++){var a=this.varIndices[i];if(e.data[a]=[],e.trans[a]=[],"mean"==this.summaryType)for(var s=0;s<e.mean[a].length;s++)e.data[a][s]=e.mean[a][s];else if("median"==this.summaryType||"iqr"==this.summaryType)for(s=0;s<e.median[a].length;s++)e.data[a][s]=e.median[a][s];else if("sum"==this.summaryType)for(s=0;s<e.sum[a].length;s++)e.data[a][s]=e.sum[a][s];else if("max"==this.summaryType)for(s=0;s<e.max[a].length;s++)e.data[a][s]=e.max[a][s];else if("min"==this.summaryType)for(s=0;s<e.min[a].length;s++)e.data[a][s]=e.min[a][s];else if("count"==this.summaryType)for(s=0;s<e.count[a].length;s++)e.data[a][s]=e.count[a][s];t||(t=a)}return t},this.transformValue=function(t,e,i){switch(t){case"log2":return i?Math.pow(2,e):Math.log(e)/Math.LN2;case"log10":return i?Math.pow(10,e):Math.log(e)/Math.LN10;case"exp2":return i?Math.log(e)/Math.LN2:Math.pow(2,e);case"exp10":return i?Math.log(e)/Math.LN10:Math.pow(10,e);default:return e}},this.transform=function(t,e,i,a){if(!this.isTransition()&&!this.graphType.match(/Area/)){this.isGroupedData||this.checkObject();var s=this.transformData;if(this.transformData=t,this.transformAxis=e,this.xAxisMaxStrLength=!1,this.xAxis2MaxStrLength=!1,this.yAxisMaxStrLength=!1,this.zAxisMaxStrLength=!1,"reset"==t||"undo"==t)this.transformReset(),this.transformData=!1,this.isTransformedData=!1,this.tempIndices&&(this.isGroupedData?this.grpIndices=this.tempIndices:this.smpIndices=this.tempIndices,this.tempIndices=!1);else if("save"==t)this.transformSave(),this.transformData=!1,this.isTransformedData=!1;else if("log2"==t||"log10"==t||"exp2"==t||"exp10"==t){if(!this.transformLogExp(t))return void(this.transformData=s);this.isTransformedData=t}else"ratio2"==t||"ratio10"==t?(this.transformRatio(t,i),this.isTransformedData=t):(this.transformRelative(t,e,!this.isRawData||this.isGroupedData?this.copySummarizedData():0),this.isTransformedData=t);delete this.meta.def.colorBrew,"Boxplot"==this.graphType&&(this.summarizeBoxplot=!0),this.resetCorrelation(),this.resetRange(),a||this.draw({func:"transform",par:[t,e,i,a]})}},this.transformReset=function(){for(var t=this.data.y,e=0;e<this.varIndices.length;e++)for(var i=this.varIndices[e],a=0;a<t.data[i].length;a++)t.trans&&t.trans[i]&&!isNaN(t.data[i][a])&&(t.trans[i][a]=t.data[i][a]);this.isGroupedData&&(this.isTransformedData=!1,this.groupSamples(this.groupingFactors,!1,!1,!1,!0))},this.transformSave=function(){var t=!!this.isGroupedData&&this.groupingFactors,e=this.data.y;if(e.trans&&e.trans.length>0){this.ungroupSamples();for(var i=0;i<this.varIndices.length;i++)for(var a=this.varIndices[i],s=0;s<e.data[a].length;s++)isNaN(e.data[a][s])||(e.data[a][s]=e.trans[a][s]);t&&(this.isTransformedData=!1,this.groupSamples(t,!1,!1,!1,!0))}},this.transformLogExp=function(t){var e=this.isGroupedData?this.data.y:this.dataStndBy&&!this.isDOE?this.dataStndBy.y:this.data.y,i=this.range2D(e.data);if(t.match(/log/)){if(i[0]<=0){if(!this.nanOmit)return alert("Cannot log transform values <= 0"),!1;console.log("Dropping values <= 0"),alert("Dropping values <= 0")}t="log2"==t?"log2":"log10"}else if(t.match(/exp/)){if(i[1]>=1e3)return alert("Cannot exp transform values > 1000"),!1;t="exp2"==t?"exp2":"exp10"}e.trans||(e.trans=[]),e.tstdev||(e.tstdev=[]);for(var a=this.motionBy||this.isGroupedData?this.data.y.vars.length:this.dataStndBy&&!this.isDOE?this.dataStndBy.y.vars.length:this.varIndices.length,s=0;s<a;s++){var r=this.motionBy||this.dataStndBy&&!this.isDOE?s:this.varIndices[s];e.trans[r]||(e.trans[r]=[]),e.tstdev[r]||(e.tstdev[r]=[]);for(var n=0;n<e.data[r].length;n++)isNaN(e.data[r][n])||("log2"==t?(this.transformBase=2,e.trans[r][n]=Math.log(e.data[r][n])/Math.LN2):"log10"==t?(this.transformBase=10,e.trans[r][n]=Math.log(e.data[r][n])/Math.LN10):"exp2"==t?(this.transformBase=2,e.trans[r][n]=Math.pow(2,e.data[r][n])):"exp10"==t&&(this.transformBase=10,e.trans[r][n]=Math.pow(10,e.data[r][n])))}return this.isGroupedData&&(this.isTransformedData=t,this.groupSamples(this.groupingFactors,!1,!1,!0,!0)),!0},this.transformRatio=function(){var t=[],e=this.data,i=this.isGroupedData&&!this.graphType.match(/dotplot|boxplot/i)?e.w:e.y;if(this.isGroupedData&&this.ratioGroupReference&&e.x.hasOwnProperty(this.ratioGroupReference)){if(!this.ratioLevelReference)for(var a=0;a<e.x[this.ratioGroupReference].length;a++)if(null!=e.x[this.ratioGroupReference][a]){this.ratioLevelReference=e.x[this.ratioGroupReference][a];break}if(1==this.groupingFactors.length)this.ratioReference=this.getSampleIndices(this.ratioLevelReference),this.ratioReference<0&&(this.ratioLevelReference=e.w.smps[0],this.ratioReference=0),t=[this.ratioReference];else{var s=[];for(a=0;a<this.groupingFactors.length;a++)this.groupingFactors[a]!=this.ratioGroupReference&&s.push(this.groupingFactors[a]);var r={},n=[],o=0;for(a=0;a<this.smpIndices.length;a++){for(var h,l=this.smpIndices[a],c=[],d=0;d<s.length;d++){var p=s[d];(h=e.x[p][l])||(h="NA"),c.push(h)}h=c.join(" - "),r.hasOwnProperty(h)?r[h].push(l):(e.w.smps.push(h),n[o]=h,r[h]=[],r[h].push(l),o++)}t=this.getSamplesByAnnotationLevel(this.ratioGroupReference,this.ratioLevelReference),this.ratioReference=[];for(a=0;a<e.w.grps.length;a++){var g=e.w.grps[a][0],u=!1;for(var m in r){for(d=0;d<r[m].length;d++)if(g==r[m][d]){u=this.getObjectArray(r[m]);break}if(u)break}for(d=0;d<t.length;d++)if(u.hasOwnProperty(t[d])){this.ratioReference.push(t[d]);break}}}}else{if(this.ratioSampleReference)this.isGroupedData&&this.graphType.match(/dotplot|boxplot/i)?(this.isGroupedData=!1,this.ratioReference=this.getSampleIndices(this.ratioSampleReference),this.isGroupedData=!0):this.ratioReference=this.getSampleIndices(this.ratioSampleReference);this.ratioReference<0&&(this.ratioSampleReference=e.y.smps[0],this.ratioReference=0),t=[this.ratioReference]}for(a=0;a<this.varIndices.length;a++){l=this.varIndices[a];i.trans||(i.trans=[]),i.stdev||(i.stdev=[]),i.trans[l]||(i.trans[l]=[]),i.stdev[l]||(i.stdev[l]=[]);for(d=0;d<i.data[l].length;d++){var f;if(f=this.isGroupedData&&this.ratioGroupReference&&e.x.hasOwnProperty(this.ratioGroupReference)?1==this.groupingFactors.length?e.w.mean[l][this.ratioReference]:e.w.mean[l][this.ratioReference[d]]:i.data[l][this.ratioReference],!isNaN(i.data[l][d])&&!isNaN(f)&&f>0){var y=2==this.transformBase?"ratio2":"ratio10",x=i.data[l][d]/f,b=i.stdev[l][d];"ratio2"==y?(i.trans[l][d]=Math.log(x)/Math.LN2,b&&b>0&&(i.tstdev[l][d]=Math.log(b)/Math.LN2)):"ratio10"==y&&(i.trans[l][d]=Math.log(x)/Math.LN10,b&&b>0&&(i.tstdev[l][d]=Math.log(b)/Math.LN10))}}}},this.transformRelative=function(t,e,i){var a,s=this.isGroupedData&&!this.graphType.match(/dotplot|boxplot/i)?this.data.w:this.data.y,r=!this.isGroupedData;if("samples"==(e=e||this.transformAxis))for(var n=0;n<s.data[i].length;n++){for(var o=[],h=0;h<this.varIndices.length;h++){var l=this.varIndices[h];o.push(s.data[l][n])}"percentile"==t?a=this.range(o):"zscore"==t&&(a=this.sumarizeErrorData(o,r));for(h=0;h<this.varIndices.length;h++){l=this.varIndices[h];s.trans||(s.trans=[]),s.trans[l]||(s.trans[l]=[]),isNaN(s.data[l][n])||("percentile"==t?s.trans[l][n]=this.percentile(a[0],a[1],s.data[l][n]):"zscore"==t&&(s.trans[l][n]=(s.data[l][n]-a[0])/a[1]))}}else for(n=0;n<this.varIndices.length;n++){var c=this.varIndices[n];s.trans||(s.trans=[]),s.trans[c]||(s.trans[c]=[]);o=s.data[c];"percentile"==t?a=this.range(o):"zscore"==t&&(a=this.sumarizeErrorData(o,r));for(h=0;h<o.length;h++)isNaN(s.data[c][h])||("percentile"==t?s.trans[c][h]=this.percentile(a[0],a[1],s.data[c][h]):"zscore"==t&&(s.trans[c][h]=(s.data[c][h]-a[0])/a[1]))}},this.groupSamples=function(t,e,i,a,s,r,n){if(!this.isTransition()&&this.isRawData){var o=this.data;if(!(t=this.isArray(t)?this.unique(t):[t])||t.length<1||!o.x)return this.ungroupSamples();for(var h=0;h<t.length;h++)if(!t||!o.x[t[h]])return this.ungroupSamples();if(!this.isDOE&&this.layoutComb&&!o.l.group)return o.l.group=t,void(s||this.draw({func:"groupSamples",par:[t,e,i,a,s,r,n]}));if(o.l&&o.l.group&&(o.l.group=t),this.isDOE&&this.layoutComb&&o.l.comp){this.varIndices=[];var l=o.l.comp.length;for(h=0;h<l;h++)for(var c=o.l.comp[h].length,d=0;d<c;d++)this.varIndices.push(o.l.comp[h][d])}var p={},g={},u=this.getObjectArray(this.smpOverlays),m=!(!o.w||!o.w.smps)&&o.w.smps,f=this.cloneObject(this.hiddenGrps);this.isDOE||a||this.resetIndices(!0),a||this.resetIndices(),this.isGroupedData=!0,this.groupingFactors=t,this.resetObject(!0),this.hiddenGrps=n?f:[],this.isGroupedData=!1;for(l=this.smpIndices.length,h=0;h<l;h++){var y,x=this.smpIndices[h],b=[],v=[];for(c=t.length,d=0;d<c;d++){var A=t[d];w=this.getMetadataValue(x,"x",A),"Numeric"==this.meta.data.x[A].type?null==w&&(w="NA"):!1===w?w="false":w||(w="NA"),b.push(w),u.hasOwnProperty(A)||v.push(w)}w=b.join(" :: "),y=v.length>0?v.join(" :: "):"",p.hasOwnProperty(w)||(o.w.smps.push(w),g[w]=y,p[w]=[]),p[w].push(x)}if(this.isGroupedData=!0,o.w.smps.length<1)return o.w.smps=m,void this.draw({func:"groupSamples",par:[t,e,i,a,s,r,n]});this.sortOnGrouping&&("descending"==this.sortOnGrouping?o.w.smps.sort().reverse():o.w.smps.sort());for(l=o.w.smps.length,h=0;h<l;h++){var w=o.w.smps[h];o.w.labs.push(g[w]),o.w.grps.push(p[w]),o.w.grpIdxs.push(h)}if(this.grpIndices=[],i)for(l=i.length,h=0;h<l;h++)this.grpIndices.push(i[h]),n||this.hiddenGrps.push(!1);else for(l=o.w.grps.length,h=0;h<l;h++)this.grpIndices.push(h),n||this.hiddenGrps.push(!1);for(l=this.varIndices.length,h=0;h<l;h++)o.w.vars.push(o.y.vars[this.varIndices[h]]);var C={};for(var w in o.x)C[w]="Numeric"==this.meta.data.x[w].type;for(l=o.w.grps.length,h=0;h<l;h++)for(var w in o.x){var T;if(o.w.factors.hasOwnProperty(w)||(o.w.factors[w]=[]),C[w]){T=[];for(c=o.w.grps[h].length,d=0;d<c;d++){var S=this.getMetadataValue(o.w.grps[h][d],"x",w,!0);isNaN(S)||T.push(S)}o.w.factors[w].push(this.mean(T))}else{T={};for(c=o.w.grps[h].length,d=0;d<c;d++){null!=(S=this.getMetadataValue(o.w.grps[h][d],"x",w,!0))&&""!==S&&(T[S]=!0)}var D=this.getKeys(T);o.w.factors[w].push(D.join(" + "))}}C=[];e?this.isArray(e)?C=e:C.push(e):(e="Boxplot"==this.graphType?"iqr":this.graphType.match(/Stacked/i)?"sum":this.summaryType?this.summaryType:"mean",C.push(e));for(var M=0;M<C.length;M++){var k=[],L=C[M],I=!0;this.isTransformedData&&(I=o.y.trans||this.dataStndBy),this.isTransformedData&&(o.y.trans||this.dataStndBy)?data=o.y.trans?o.y.trans:this.dataStndBy.y.trans:this.isRawData?data=o.y.data:"median"==this.summaryType||"iqr"==this.summaryType?data=o.y.median:"mean"==this.summaryType?data=o.y.mean:"cor"==this.summaryType?data=o.y.cor:"sum"==this.summaryType?data=o.y.sum:"max"==this.summaryType?data=o.y.max:"min"==this.summaryType?data=o.y.min:"count"==this.summaryType?data=o.y.count:data=o.y[this.summaryType];for(l=this.isDOE&&1==this.isDOE?this.data.y.vars.length:this.varIndices.length,h=0;h<l;h++){k[x=this.varIndices[h]]=[];for(c=o.w.grps.length,d=0;d<c;d++){k[x][d]=[];for(var B=o.w.grps[d].length,N=0;N<B;N++){var F=o.w.grps[d][N];k[x][d].push(data[x][F])}}}this.summarize(L,k)}this.setGroupLabels(),this.setOriginalIndices(!1,!1,!1,!this.layoutComb),r||(this.xAxisValues=[],this.xAxis2Values=[],this.yAxisValues=[],this.zAxisValues=[],this.layoutComb&&this.layoutAdjust||"function"==typeof this.setAxes&&this.setAxes()),I||this.transformLogExp(this.isTransformedData),s||this.draw({func:"groupSamples",par:[t,e,i,a,s,r,n]})}},this.ungroupSamples=function(t,e,i){if(!this.isTransition()&&(this.isGroupedData||this.groupingFactors.length)){this.resetIndices(!0),this.isGroupedData=!1;var a=this.data;a.l&&delete a.l.group,a.w&&!i&&delete a.w,this.groupingFactors=[],this.grpIndices=[],this.hiddenGrps=[],this.updateMetaData("w"),e||this.setOriginalIndices(!1,!1,!1,!0),t||this.draw({func:"ungroupSamples",par:[t,e,i]})}},this.regroupSamples=function(){this.isGroupedData=!1,this.groupSamples(this.groupingFactors,!1,!1,!1,!0)},this.removePivot=function(t){this.removeMenus();var e=this.rebuildDataTableFilter();this.isTransition()||(this.isPivot&&(this.switchData(!0,!0),(this.isPivotSegregateVars.length||this.isPivotSegregateSmps.length)&&this.desegregateVariablesSamples(!0),this.isPivotGroup&&this.groupSamples(this.isPivotGroup,!1,!1,!1,!0),this.isPivot=!1,(this.isPivotSegregateVars.length||this.isPivotSegregateSmps.length)&&this.segregateVariablesAndOrSamples(this.isPivotSegregateVars,this.isPivotSegregateSmps,!0),t||this.draw({func:"removePivot",par:[t]})),this.rebuildDataTableFilter(e))},this.pivot=function(t,e){if(!this.isTransition()){this.isPivot=!0,this.isPivotGroup=this.cloneObject(this.groupingFactors),this.isPivotSegregateVars=this.cloneObject(this.segregateVariablesBy),this.isPivotSegregateSmps=this.cloneObject(this.segregateSamplesBy),this.dataStndBy=this.data,this.configStndBy=this.getConfig(),this.removeMenus();var i=this.rebuildDataTableFilter(),a={y:{data:[],vars:[],smps:[]}};this.desegregateVariablesSamples(!0),this.isPivotGroup&&this.ungroupSamples(!0);for(var s=t.shift(),r=0;r<t.length;r++){a.y.vars.push(t[r][0]);for(var n=[],o=1;o<s.length;o++)n.push(t[r][o]);a.y.data.push(n)}s.shift(),a.y.smps=s,this.initializeData(a,!0),this.segregateVariablesAndOrSamples(this.isPivotSegregateVars,this.isPivotSegregateSmps,!0),this.resetObject(),e||this.draw({func:"pivot",par:[t,e]}),this.rebuildDataTableFilter(i)}},this.pivotX=function(t,e){if(!this.isTransition()){this.isPivot=!0,this.isPivotGroup=this.cloneObject(this.groupingFactors),this.isPivotSegregateVars=this.cloneObject(this.segregateVariablesBy),this.isPivotSegregateSmps=this.cloneObject(this.segregateSamplesBy),this.dataStndBy=this.data,this.configStndBy=this.getConfig(),this.removeMenus();var i={y:{vars:[],smps:[],data:[]}},a=function(e){for(var i=[],a=0;a<r.length;a++)r[a]!=t&&i.push(h.x[r[a]][e].toString().replace("\0",""));return i.length?i.join("\0"):"x"+e};this.desegregateVariablesSamples(!0);for(var s=this.rebuildDataTableFilter(),r=this.sortObject(this.data.x),n=!1,o=this.meta.data.x[t],h=this.data,l=o.levels.length,c=[],d={},p=1,g=0;g<l;g++){c[g]={};for(var u=0;u<h.y.smps.length;u++){if(h.x[t][u]==o.levels[g]){var m=a(u);c[g][m]||(c[g][m]=[]),c[g][m].push(u)}null!=m&&(d[m]=!0)}}for(var m in d){z=0;for(g=0;g<l;g++)c[g].hasOwnProperty(m)&&(z=Math.max(z,c[g][m].length));d[m]=z}for(g=0;g<l;g++)for(u=0;u<h.y.vars.length;u++)for(var m in i.y.data[g+u]=[],1==h.y.vars.length?i.y.vars.push(o.levels[g].replace("\0","")):i.y.vars.push(h.y.vars[u]+"::"+o.levels[g].replace("\0","")),d)for(var f=0;f<d[m];f++){if(0==g&&0==u){i.y.smps.push("Smp"+p++);for(var y=m.split("\0"),x=0,b=0;b<r.length;b++)r[b]!=t&&(i.x||(i.x={}),i.x.hasOwnProperty(r[b])||(i.x[r[b]]=[]),i.x[r[b]].push(y[x++]))}c[g].hasOwnProperty(m)&&null!=c[g][m][f]?i.y.data[g+u].push(h.y.data[u][c[g][m][f]]):i.y.data[g+u].push(null)}if(i.y.data.length!=i.y.vars.length||i.y.data[0].length!=i.y.smps.length)return this.isPivot=!1,this.isPivotGroup=!1,this.isPivotSegregateVars=!1,this.isPivotSegregateSmps=!1,this.dataStndBy=!1,this.configStndBy=!1,void alert("Invalid Pivoting");this.groupingFactors&&(this.modifyObjectArray([t],!0,"groupingFactors"),this.modifyObjectArray([t],!0,"isPivotSegregateVars"),this.modifyObjectArray([t],!0,"isPivotSegregateSmps"),n=this.groupingFactors,this.ungroupSamples(!0)),this.initializeData(i,!0),this.segregateVariablesAndOrSamples(this.isPivotSegregateVars,this.isPivotSegregateSmps,!0),this.resetObject(),n&&(this.groupingFactors=n),e||this.draw({func:"pivotX",par:[t,e]}),this.isPivotSegregateVars=this.cloneObject(this.segregateVariablesBy),this.isPivotSegregateSmps=this.cloneObject(this.segregateSamplesBy),this.rebuildDataTableFilter(s)}},this.pivotXX=function(t,e,i){for(var a=[],s=this.data,r=0;r<s.y.smps.length;r++)a.push([s.x[t][r],s.x[e][r],s.y.data[0][r]]);var n=this.pivotMatrix(a,0,1,2);return this.pivot(n,i)},this.pivotXY=function(t,e,i){var a,s=[],r=this.data;if(r.x.hasOwnProperty(t)){for(var n=0;n<r.y.smps.length;n++)s.push([r.x[t][n],r.y.data[0][n],r.y.data[1][n]]);r.y.vars[0]==e?a=this.pivotMatrix(s,0,1,2):r.y.vars[1]==e&&(a=this.pivotMatrix(s,0,2,1))}else if(r.x.hasOwnProperty(e)){for(n=0;n<r.y.smps.length;n++)s.push([r.x[e][n],r.y.data[0][n],r.y.data[1][n]]);r.y.vars[0]==t?a=this.pivotMatrix(s,1,0,2):r.y.vars[1]==t&&(a=this.pivotMatrix(s,2,0,1))}return this.pivot(a,i)},this.pivotYY=function(t,e,i){var a;t=this.getVariableIndices(t),e=this.getVariableIndices(e);for(var s=0;s<this.data.y.vars.length;s++)if(s!=t&&s!=e){a=s;break}return this.pivot(this.pivotMatrix(this.transposeDataMatrix(this.data.y.data),t,e,a),i)},this.transposeDataSet=function(t){var e=t.x,i=t.z;e?t.z=e:delete t.z,i?t.x=i:delete t.x;var a=t.y.smps;t.y.smps=t.y.vars,t.y.vars=a;var s=t.y.data;t.y.data=[];for(var r=t.y.vars.length,n=0;n<r;n++){t.y.data[n]=[];for(var o=t.y.smps.length,h=0;h<o;h++)t.y.data[n][h]=s[h][n]}return t},this.transpose=function(t,e,i){if(!this.isTransition())if(this.removeMenus(),this.graphType.match(/Gantt/))this.flashInfoSpan(100,100,"Data transpose not allowed for Gantt graphs",5e3);else if("Bar"!=this.graphType||"lollipop"!=this.barType||i){var a=this.rebuildDataTableFilter(),s=this.data,r=this.meta.data;if(t)return this.transposeDataMatrix(t);this.ungroupSamples(!0),this.transform("reset",!1,!1,!0),s.l&&delete s.l;for(var n=["varOverlays","varOverlayInfo","varOverlayProperties","varOverlaysStrLength","varOverlaysThicknessBottom","varOverlaysThicknessTop","varDendrogramNewick","colorVarDendrogramBy","heatmapVarSeparateBy","variablesClustered","segregateVariablesBy"],o=["smpOverlays","smpOverlayInfo","smpOverlayProperties","smpOverlaysStrLength","smpOverlaysThicknessBottom","smpOverlaysThicknessTop","smpDendrogramNewick","colorSmpDendrogramBy","heatmapSmpSeparateBy","samplesClustered","segregateSamplesBy"],h=0;h<n.length;h++)if(this[n[h]]||this[o[h]]){var l=this[n[h]],c=this[o[h]];this[n[h]]=c,this[o[h]]=l}var d=s.x,p=s.z;d?s.z=d:delete s.z,p?s.x=p:delete s.x;var g=r.x,u=r.z;for(var h in r.x=u,r.z=g,r.x)r.x[h].origin="x";for(var h in r.z)r.z[h].origin="z";var m=r.y.maxSmpChr,f=r.y.maxSmpLen,y=r.y.maxSmpStr;r.y.maxSmpChr=r.y.maxVarChr,r.y.maxSmpLen=r.y.maxVarLen,r.y.maxSmpStr=r.y.maxVarStr,r.y.maxVarChr=m,r.y.maxVarLen=f,r.y.maxVarStr=y;var x=s.y.smps;s.y.smps=s.y.vars,s.y.vars=x;var b=s.y.data;s.y.data=[];for(h=0;h<s.y.vars.length;h++){s.y.data[h]=[];for(var v=0;v<s.y.smps.length;v++)s.y.data[h][v]=b[v][h]}this.initializeData(this.data),this.resetObject(),this.setOriginalIndices(!1,!1,!1,!0),this.dataTableTransposed=!this.dataTableTransposed,e||this.draw({func:"transpose",par:[t,e]}),this.rebuildDataTableFilter(a)}else this.flashInfoSpan(100,100,"Data transpose not allowed for Lollipops",5e3)},this.chordifyData=function(){for(var t={},e=[],i=[],a=[],s=[],r=0;r<this.varIndices.length;r++){var n=this.varIndices[r],o=this.data.y.vars[n];e.push(o),t[o]={};for(var h=0;h<this.smpIndices.length;h++){var l=this.smpIndices[h],c=this.data.y.smps[l];e.push(c),t[o][c]=this.data.y.data[n][l]}}var d=(e=this.unique(e)).length,p=0;for(r=0;r<d;r++){i[r]=[],s.push(this.seq(0,d-1,1));var g=0;for(h=0;h<d;h++)i[r][h]=0,t[e[r]]&&t[e[r]][e[h]]&&(i[r][h]=t[e[r]][e[h]]),g+=i[r][h];a.push(g),p+=g}for(r=0;r<s.length;r++)s[r].sort((function(t,e){return i[r][e]-i[r][t]}));this.circularArc>360?this.circularArc=360:this.circularArc<90&&(this.circularArc=90);var u=(this.circularArc*(2*Math.PI)/360-this.radians(this.arcSegmentsSeparation)*(360==this.circularArc?d:d-1))/p,m=[],f=[],y=0;for(r=0;r<d;r++){var x=y;for(h=0;h<d;h++){var b=s[r][h],v=i[r][b],A=y,w=y+=v*u;m[b*d+r]={idx:r,sid:b,start:A,end:w,value:v,color:this.colors[b%this.colors.length]}}f[r]={name:e[r],idx:r,start:x,end:y,value:a[r],color:this.colors[r%this.colors.length]},y+=this.radians(this.arcSegmentsSeparation)}var C=[];for(r=0;r<d;r++)for(h=r;h<d;h++){var T=m[h*d+r],S=m[r*d+h];(T.value||S.value)&&C.push({source:T,target:S})}return{chords:C,segments:f,total:p,unit:u}},this.summarizeSwimmer=function(){if(this.isSwimmerSumarized&&this.isGroupedData!=this.isSwimmerSumarized.grouped&&delete this.isSwimmerSumarized,!this.isSwimmerSumarized){var t=this,e={high:[],cap:[],fill:[],color:{},shape:{},smps:{},grouped:this.isGroupedData},i=this.get1DIndices(),a=this.getVariableIndices(this.swimHigh),s=this.getVariableIndices(this.swimStart),r=this.getVariableIndices(this.swimEnd);this.swimStatus||(this.swimStatus="Status"),this.swimHighCap||(this.swimHighCap="HighCap");var n=!(!this.meta.data.x||!this.meta.data.x.hasOwnProperty(this.swimStatus))&&this.meta.data.x[this.swimStatus],o=!(!this.meta.data.x||!this.meta.data.x.hasOwnProperty(this.swimHighCap))&&this.meta.data.x[this.swimHighCap];if(this.isGroupedData){this.isGroupedData=!1;for(var h=0;h<i.length;h++)for(var l=0;l<this.data.w.grps[i[h]].length;l++){var c=this.data.w.grps[i[h]][l],d=this.getDataAtPos(a,c,!1,this.xAxisTransform,this.xAxisFloorValue,this.xAxisCeilValue),p=this.getDataAtPos(s,c,!1,this.xAxisTransform,this.xAxisFloorValue,this.xAxisCeilValue),g=this.getDataAtPos(r,c,!1,this.xAxisTransform,this.xAxisFloorValue,this.xAxisCeilValue);if(e.smps[this.data.w.smps[i[h]]]=h,e.fill[h]=this.getPropertyValue(i[h],c,"colorBy"),n){var u=this.getMetadataValue(c,"x",this.swimStatus);e[u]||(e[u]=[]),e[u][h]||(e[u][h]=[]),e[u][h].push([p,g]),e.color[u]=this.darkenLightenColor(this.meta.data.x[this.swimStatus].colors[this.meta.data.x[this.swimStatus].order[u]],-50)}else e.none||(e.none=[]),e.none[h]||(e.none[h]=[]),e.none[h].push([p,g]),e.color.none="green";if(e.high.push(d),o){var m=this.getMetadataValue(c,"x",this.swimHighCap);e.cap[h]=!(!m||!m.match(/arrow/i))}}this.isGroupedData=!0}else for(h=0;h<i.length;h++){d=this.getDataAtPos(a,i[h],!1,this.xAxisTransform,this.xAxisFloorValue,this.xAxisCeilValue),p=this.getDataAtPos(s,i[h],!1,this.xAxisTransform,this.xAxisFloorValue,this.xAxisCeilValue),g=this.getDataAtPos(r,i[h],!1,this.xAxisTransform,this.xAxisFloorValue,this.xAxisCeilValue);if(e.smps[this.data.y.smps[i[h]]]=h,e.fill[h]=this.getPropertyValue(d[h],i[h],"colorBy"),n){u=this.getMetadataValue(i[h],"x",this.swimStatus);e[u]||(e[u]=[]),e[u][h]||(e[u][h]=[]),e[u][h].push([p,g]),e.color[u]=this.darkenLightenColor(this.meta.data.x[this.swimStatus].colors[this.meta.data.x[this.swimStatus].order[u]],-50)}else e.none||(e.none=[]),e.none[h]||(e.none[h]=[]),e.none[h].push([p,g]),e.color.none="green";if(e.high.push(d),o){m=this.getMetadataValue(i[h],"x",this.swimHighCap);e.cap[h]=!(!m||!m.match(/arrow/i))}}this.isSwimmerSumarized=e,this.legend[0]=function(){var i={shape:[t.shapes[0],t.shapes[1]],shapeColor:["grey","grey"],size:[!1,!1],line:[!1,!1],lineColor:[!1,!1],lineStart:[!1,!1],lineEnd:[!1,!1],text:["Response Start","Response End"]};for(var a in e.color)i.shape.push(!1),i.shapeColor.push(!1),i.size.push(!1),i.line.push("solid"),i.lineColor.push(e.color[a]),i.lineStart.push(!1),i.lineEnd.push(!1),i.text.push(a);return i.shape.push("triangle"),i.shapeColor.push("grey"),i.size.push(!1),i.line.push(!1),i.lineColor.push(!1),i.lineStart.push(!1),i.lineEnd.push(!1),i.text.push("Continued Response"),i}()}},this.summarizeOncoprint=function(){if(this.isOncoprint&&!this.isOncoprintSumarized){var t=this,e=this.data,i=this.meta.data,a={cols:[],rows:[]};!function(){i[t.oncoprintCNA].levels.length;var e={},a=function(){for(var e=0;e<i[t.oncoprintCNA].levels.length;e++)if(i[t.oncoprintCNA].levels[e].match(/ampli/i))return e;return!1}(),s=function(){for(var e=0;e<i[t.oncoprintCNA].levels.length;e++)if(i[t.oncoprintCNA].levels[e].match(/delet/i))return e;return!1}(),r=[];null!=a&&(e[i[t.oncoprintCNA].levels[a]]="rgb(255,0,0)"),null!=s&&(e[i[t.oncoprintCNA].levels[s]]="rgb(0,0,255)");for(var n=0;n<i[t.oncoprintCNA].levels.length;n++){var o=i[t.oncoprintCNA].levels[n];e.hasOwnProperty(o)?r.push(e[o]):""==o?r.push("rgb(220,220,220)"):r.push(t.colors[n])}i[t.oncoprintCNA].colors=r}(),function(){if(t.oncoprintMUT){var e=i[t.oncoprintMUT].levels.length;if(CanvasXpress.colorSchemes.Greens[e])i[t.oncoprintMUT].colors=CanvasXpress.colorSchemes.Greens[e];else if(2==e){var a=CanvasXpress.colorSchemes.Greens[3];i[t.oncoprintMUT].colors=[green[1],a[2]]}else i[t.oncoprintMUT].colors=1==e?["rgb(0,153,0)"]:CanvasXpress.colorSchemes.Greens[9]}}();for(var s=0;s<e.y.vars.length;s++){a.rows[s]={CNA:{},MUT:{},TOT:0};for(var r=0;r<i[this.oncoprintCNA].levels.length;r++){var n=i[this.oncoprintCNA].levels[r];a.rows[s].CNA[n]=0}for(r=0;r<i[this.oncoprintMUT].levels.length;r++){var o=i[this.oncoprintMUT].levels[r];a.rows[s].MUT[o]=0}}for(s=0;s<e.y.smps.length;s++){a.cols[s]={CNA:{},MUT:{},TOT:0};for(r=0;r<i[this.oncoprintCNA].levels.length;r++){n=i[this.oncoprintCNA].levels[r];a.cols[s].CNA[n]=0}for(r=0;r<i[this.oncoprintMUT].levels.length;r++){o=i[this.oncoprintMUT].levels[r];a.cols[s].MUT[o]=0}}for(s=0;s<e.y.vars.length;s++)for(r=0;r<e.y.smps.length;r++){n=this.getDataAtPos(s,r,!1,!1,!1,!1,this.oncoprintCNA),o=this.getDataAtPos(s,r,!1,!1,!1,!1,this.oncoprintMUT);n&&(a.rows[s].CNA[n]++,a.cols[r].CNA[n]++),o&&(a.rows[s].MUT[o]++,a.cols[r].MUT[o]++),(n||o)&&(a.rows[s].TOT++,a.cols[r].TOT++)}e.z||(e.z={});for(s=0;s<i[this.oncoprintCNA].levels.length;s++){n=i[this.oncoprintCNA].levels[s];e.z[n]=[];for(r=0;r<e.y.vars.length;r++)e.z[n][r]=a.rows[r].CNA[n];this.updateMetaData("z",n,!1,!0),this.varOverlayProperties[n]={type:"Stacked",position:"top",thickness:80,color:i[this.oncoprintCNA].colors[s],showName:!1,showBox:!1},this.oncoprintColSummary&&this.varOverlays.push(n)}for(s=0;s<i[this.oncoprintMUT].levels.length;s++){o=i[this.oncoprintMUT].levels[s];e.z[o]=[];for(r=0;r<e.y.vars.length;r++)e.z[o][r]=a.rows[r].MUT[o];this.updateMetaData("z",o,!1,!0),this.varOverlayProperties[o]={type:"Stacked",position:"top",thickness:80,color:i[this.oncoprintMUT].colors[s],showName:!1,showBox:!1},this.oncoprintColSummary&&this.varOverlays.push(o)}e.z["Altered-Vars"]=[],e.z["% Altered-Vars"]=[];for(s=0;s<e.y.vars.length;s++)e.z["Altered-Vars"][s]=a.rows[s].TOT,e.z["% Altered-Vars"][s]=(a.rows[s].TOT/e.y.smps.length*100).toFixed(1)+"%";this.updateMetaData("z","Altered-Vars",!1,!0),this.updateMetaData("z","% Altered-Vars",!1,!0),this.varOverlayProperties["% Altered-Vars"]={type:"Text",position:"bottom",thickness:this.overlaysThickness+2,showName:!1},e.x||(e.x={});for(s=0;s<i[this.oncoprintCNA].levels.length;s++){n=i[this.oncoprintCNA].levels[s];e.x[n]=[];for(r=0;r<e.y.smps.length;r++)e.x[n][r]=a.cols[r].CNA[n];this.updateMetaData("x",n,!1,!0),this.smpOverlayProperties[n]={type:"Stacked",position:"right",thickness:80,color:i[this.oncoprintCNA].colors[s],showName:!1,showBox:!1},this.oncoprintRowSummary&&this.smpOverlays.push(n)}for(s=0;s<i[this.oncoprintMUT].levels.length;s++){o=i[this.oncoprintMUT].levels[s];e.x[o]=[];for(r=0;r<e.y.smps.length;r++)e.x[o][r]=a.cols[r].MUT[o];this.updateMetaData("x",o,!1,!0),this.smpOverlayProperties[o]={type:"Stacked",position:"right",thickness:80,color:i[this.oncoprintMUT].colors[s],showName:!1,showBox:!1},this.oncoprintRowSummary&&this.smpOverlays.push(o)}e.x["Altered-Smps"]=[],e.x["% Altered-Smps"]=[];for(s=0;s<e.y.smps.length;s++)e.x["Altered-Smps"][s]=a.cols[s].TOT,e.x["% Altered-Smps"][s]=(a.cols[s].TOT/e.y.vars.length*100).toFixed(1)+"%";this.updateMetaData("x","Altered-Smps",!1,!0),this.updateMetaData("x","% Altered-Smps",!1,!0),this.smpOverlayProperties["% Altered-Smps"]={type:"Text",position:"left",thickness:Math.ceil(i.x["% Altered-Smps"].maxLevLen),showName:!1,rotate:!0},this.oncoprintRowSummary&&this.smpOverlays.push("% Altered-Smps"),this.isOncoprintSumarized=!0,this.sortOncoprint()}},this.getDataAtPos=function(t,e,i,a,s,r,n,o){var h=Number.NaN,l=this.isGroupedData?this.data.w:this.data.y;if(n?h=this.data.y[n][t][e]:this.isGroupedData||!this.isRawData?this.isTransformedData?i?"stdev"==i?h=l.tstdev[t][e]:l.hasOwnProperty(i)&&(h=l[i][t][e]):h=l.trans[t][e]:(i=i||this.summaryType,h=l.hasOwnProperty(i)?l[i][t]?l[i][t][e]:NaN:0):i?l[i]&&l[i][t]?h=l[i][t][e]:"sum"!=i||this.isGroupedData||(h=l.data[t][e]):(h=this.isTransformedData&&l.trans&&l.trans.length?l.trans[t][e]:l.data[t][e],o&&(h=o-h)),"percentile"!=a&&(null!=s||null!=r)){if(null!=s&&0!=s&&null!=s)if("out"==i)for(var c=0;c<h.length;c++)h[c]=Math.max(s,h[c]);else h=Math.max(s,h);if(null!=r&&0!=r&&null!=r)if("out"==i)for(c=0;c<h.length;c++)h[c]=Math.min(r,h[c]);else h=Math.min(r,h)}return a&&(isNaN(h)||("log2"==a?h=Math.log(h)/Math.LN2:"log10"==a?h=Math.log(h)/Math.LN10:"exp2"==a?h=Math.pow(2,h):"exp10"==a?h=Math.pow(10,h):"percentile"==a&&(h=this.percentile(s,r,h)))),null==h?Number.NaN:h},this.getDataForSmpAtPosition=function(t){for(var e=[],i=this.data.y.data.length,a=0;a<i;a++)e.push(this.data.y.data[a][t]);return e},this.getDataForSmpGrpAtIndex=function(t,e,i,a){var s=[];if(e||(e=this.varIndices),this.isGroupedData||!this.isRawData){var r=this.isGroupedData?this.data.w:this.data.y;if(this.isTransformedData)r.trans[0]&&r.trans[0][t]&&s.push(r.trans[0][t]);else if(i="iqr"==this.summaryType?"median":this.summaryType,r.hasOwnProperty(i)&&r[i].length)for(var n=this.isDOE&&1==this.isDOE?this.data.y.vars.length:e.length,o=0;o<n;o++){var h=e[o];s.push(r[i][h][t])}}else{var l=i?this.data.y[i]:this.data.y.data;n=this.isDOE&&1==this.isDOE?this.data.y.vars.length:e.length;if(this.isTransformedData)for(o=0;o<n;o++){h=e[o];s.push(this.data.y.trans[h][t])}else if(a)for(o=0;o<n;o++){h=e[o];s.push(this.getDataAtPos(h,t,!1,a))}else for(o=0;o<n;o++){h=e[o];s.push(l[h][t])}}return s},this.getDataForVariableAtIndex=function(t){var e=[],i=this.smpIndices.length;if(this.isTransformedData)for(var a=0;a<i;a++){var s=this.smpIndices[a];e.push(this.data.y.trans[t][s])}else for(a=0;a<i;a++){s=this.smpIndices[a];e.push(this.data.y.data[t][s])}return e},this.getMetaDataForVariableAtIndex=function(t){var e={};if(this.data.z)for(var i in this.data.z)e[i]=this.getMetadataValue(t,"z",i);return e[name]=this.data.y.vars[t],e},this.getMetaDataForSampleAtIndex=function(t){return this.isGroupedData?this.getMetaDataForGrpAtIndex(t):this.getMetaDataForSmpAtIndex(t)},this.getMetaDataForSmpAtIndex=function(t){var e={};if(this.data.x)for(var a in this.data.x)e[a]=this.getMetadataValue(t,"x",a);else i=Math.min(Math.max(Math.floor(v*(m.vals.length+1)/m.vals[n])-1,0),n);return e.name=this.data.y.vars[t],e},this.getMetaDataForGrpAtIndex=function(t){for(var e=[],i=this.data.w.grps[t].length,a=0;a<i;a++){var s=this.data.w.grps[t][a];e.push(this.getMetaDataForSmpAtIndex[s])}return e},this.setOriginalIndices=function(t,e,i,a){var s=this.layoutComb&&this.layoutParams?this.layoutParams[t||0]:this;e||(e=s.varIndices),i||(i=this.isGroupedData?s.grpIndices:s.smpIndices),!a&&s.startingVarIndices&&0!=s.startingVarIndices.length||(s.startingVarIndices=this.cloneObject(e)),this.isGroupedData?!a&&s.startingGrpIndices&&0!=s.startingGrpIndices.length||(s.startingGrpIndices=this.cloneObject(i)):!a&&s.startingSmpIndices&&0!=s.startingSmpIndices.length||(s.startingSmpIndices=this.cloneObject(i))},this.getMeterSummaryValue=function(){var t;t=this.layoutValid&&this.segregateVariablesBy.length&&this.segregateSamplesBy.length?this.data.l.comp[this.layoutCurrent||0][0][0]:this.layoutValid&&this.segregateVariablesBy.length&&!this.segregateSamplesBy.length?this.layoutCurrent||0:this.layoutValid&&this.segregateSamplesBy.length?this.meterVar?this.getVariableIndices(this.meterVar):0:this.layoutValid?this.layoutCurrent||0:this.meterVar?this.getVariableIndices(this.meterVar):0,this.meterIndex=t>=0?t:0;var e=this.data.y.data[this.meterIndex];if(!e||!e.length)return 0;switch(this.summaryType){case"raw":case"mean":return Number(this.mean(e,!0)).toFixed(this.xAxisDecs);case"min":return this.min(e,!0);case"max":return this.max(e,!0);case"sum":return this.sum(e,!0);case"count":return this.cleanArray(e,!0).length}},this.getMeterVariable=function(){var t;return t=this.layoutValid&&this.segregateVariablesBy.length&&this.segregateSamplesBy.length?this.data.l.comp[this.layoutCurrent||0][0][0]:this.layoutValid&&this.segregateVariablesBy.length&&!this.segregateSamplesBy.length?this.layoutCurrent||0:this.layoutValid&&this.segregateSamplesBy.length?this.meterVar?this.getVariableIndices(this.meterVar):0:this.layoutValid?this.layoutCurrent||0:this.meterVar?this.getVariableIndices(this.meterVar):0,this.meterIndex=t>=0?t:0,this.data.y.vars[this.meterIndex]},this.validateNetworkPropertyValues=function(t){for(var e=["colorNodeBy","shapeNodeBy","sizeNodeBy","patternNodeBy"],i=["colorEdgeBy","SizeEdgeBy"],a=this.meta.data,s=0;s<e.length;s++){var r=this[e[s]];a.nodes.hasOwnProperty(r)||(this[e[s]]=!1)}for(s=0;s<i.length;s++){r=this[i[s]];a.edges.hasOwnProperty(r)||(this[i[s]]=!1)}if(this.decorations){var n=[];for(s=0;s<this.decorations.length;s++){var o=this.decorations[s];a.nodes.hasOwnProperty(o)&&n.push(o)}this.decorations=n}t&&this.setLegends()},this.validatePropertyValues=function(t){for(var e=["color","shape","size","line","pattern","outline","connect","motion","ellipse","ridge","stack"],i="",a=0;a<e.length;a++){var s=this[e[a]+"By"];this.isArray(s)&&(s=s[0]);var r=this[s+"Data"];if(s)if(this.isMultidimensionalData)r&&!this.data.y[r]&&(this[e[a]+"By"]=!1,this[s+"Data"]=!1);else{if("variable"==s)continue;if("data"==s&&this.ridgeBy)continue;if(this.data.x&&this.data.x.hasOwnProperty(s))continue;if(this.data.z&&this.data.z.hasOwnProperty(s)){e[a].match(/ellipse|ridge/)&&"Numeric"==this.meta.data.z[s].type&&(this[e[a]+"By"]=!1);continue}if(this.dataStndBy&&this.dataStndBy.x&&this.dataStndBy.x.hasOwnProperty(s))continue;if(this.dataStndBy&&this.dataStndBy.z&&this.dataStndBy.z.hasOwnProperty(s))continue;if(-1!=this.getSampleIndices(s)||-1!=this.getSampleIndices(s,!0))continue;this[e[a]+"By"]=!1}}if(this.treemapBy.length>0){var n=[],o=[];for(a=0;a<this.treemapBy.length;a++)"sample"==this.treemapBy[a]?o.push("sample"):this.data.x&&this.data.x.hasOwnProperty(this.treemapBy[a])?this.data.x&&this.data.x.hasOwnProperty(this.treemapBy[a])&&n.push(this.treemapBy[a]):o.push("sample");o.length,this.treemapBy=n}var h=this.graphType.match(/Boxplot|Dotplot|Gantt|Scatter|Map/)||"Tree"==this.graphType;!this.shapeBy||this.isMultidimensionalData||h?this.shapeBy&&this.groupingFactors.length>1&&!h?(i+="shapeBy changed to variable (multiple grouping factors not allowed)\n",this.shapeBy="variable"):this.shapeBy&&1==this.groupingFactors.length&&this.shapeBy!=this.groupingFactors[0]&&!h&&(i+="shapeBy changed to variable (grouping factor should the same as shapeBy)\n",this.shapeBy="variable"):(i+="shapeBy changed to false (shapeBy not support in"+this.graphType+")\n",this.shapeBy=!1),!this.sizeBy||this.isMultidimensionalData||h?this.sizeBy&&this.groupingFactors.length>1&&!h?(i+="sizeBy changed to variable (multiple grouping factors not allowed)\n",this.sizeBy="variable"):this.sizeBy&&1==this.groupingFactors.length&&this.sizeBy!=this.groupingFactors[0]&&!h&&(i+="sizeBy changed to variable (grouping factor should the same as sizeBy)\n",this.sizeBy="variable"):(i+="sizeBy changed to false (sizeBy not support in"+this.graphType+")\n",this.sizeBy=!1),this.colorBy&&"Heatmap"==this.graphType&&!this.isMultidimensionalData?(i+="colorBy changed to false (colorBy not support in"+this.graphType+")\n",this.colorBy=!1):this.colorBy&&this.groupingFactors.length>1&&!this.graphType.match(/Boxplot|Dotplot|Gantt|Scatter|Stacked|Treemap/)?(i+="colorBy changed to variable (multiple grouping factors not allowed)\n",this.colorBy="variable"):this.colorBy&&1==this.groupingFactors.length&&this.colorBy!=this.groupingFactors[0]&&!this.graphType.match(/Boxplot|Dotplot|Gantt|Scatter|Stacked|Treemap|Line/)&&"swimmer"!=this.barType&&(i+="colorBy changed to variable (grouping factor should the same as colorBy)\n",this.colorBy="variable"),!(this.shapeBy||this.sizeBy||this.patternBy||this.outlineBy)||this.colorBy||this.isMultidimensionalData||"Heatmap"!=!this.graphType?this.shapeBy||this.sizeBy||this.patternBy||"variable"!=this.colorBy||(this.colorBy=!1):this.colorBy="variable","variable"!=this.shapeBy||this.colorBy||this.graphType.match(/Scatter/)||(this.colorBy="variable"),"variable"!=this.sizeBy||this.colorBy||this.graphType.match(/Scatter/)||(this.colorBy="variable"),"variable"!=this.patternBy||this.colorBy||this.graphType.match(/Scatter/)||(this.colorBy="variable"),this.stackBy&&!this.colorBy?this.colorBy=this.stackBy:this.stackBy&&this.colorBy&&this.stackBy!=this.colorBy&&(i+="colorBy changed to stackBy (remove stackBy to color by different factor)\n",this.colorBy=this.stackBy),this.lineBy&&!this.colorBy&&this.isGroupedData||(this.lineBy&&this.colorBy&&this.lineBy!=this.colorBy&&this.isGroupedData?(i+="colorBy changed to lineBy (remove lineBy to color by different factor)\n",this.colorBy=this.lineBy):this.lineBy&&!this.isGroupedData&&"Scatter2D"!=this.graphType&&(i+="Data needs to be grouped",this.lineBy=!1)),""!=i&&this.flashInfoSpan(10,10,i,3e3),t&&this.setLegends()},this.getPropertyValueBin=function(t,e,i,a,s){var r,n=t.vals.length-1;if("shapes"==a[s]&&!this.shapeByContinuous||"sizes"==a[s]&&!this.sizeeByContinuous){for(var o=0;o<t.vals.length;o++)if(e<=t.vals[o]){r=o;break}}else r=Math.min(Math.max(Math.floor(e*(t.vals.length+1)/t.vals[n])-1,0),n);return i?r:parseInt(this[a[s]][r%this[a[s]].length])},this.getPropertyValueSize=function(t,e,i){var a=t.vals?t.vals.length-1:t.values.length-1;return parseFloat((e-t.min)/(t.max-t.min)*(this[i][a]-this[i][0]))+parseInt(this[i][0])},this.getMetadataValue=function(t,e,i,a){return this.isGroupedData&&!a&&"z"!=e?this.data.w&&this.data.w.factors.hasOwnProperty(i)?this.data.w.factors[i][t]:"NoCatFound":"x"==e&&this.data.x&&this.data.x.hasOwnProperty(i)?(this.meta.data.x[i].type,this.data.x[i][t]):"z"==e&&this.data.z&&this.data.z.hasOwnProperty(i)?(this.meta.data.z[i].type,this.data.z[i][t]):void 0},this.getNodeEdgePropertyValue=function(t,e,i){var a=t?this.meta.data.nodes:this.meta.data.edges,s=this[i],r={colorNodeBy:"colors",colorEdgeBy:"colors",shapeNodeBy:"shapes",sizeNodeBy:"sizes",sizeEdgeBy:"sizes",patternNodeBy:"patterns"};if(t)if(s&&a.hasOwnProperty(s)&&t.hasOwnProperty(s)&&null!=t[s])if("Numeric"==a[s].type&&"shapeNodeBy"!=i)switch(i){case"colorNodeBy":return null!=t[s]&&this.getColorForValue(a[s].colorBrew,Number(t[s]));case"shapeNodeBy":return 10==(o=parseInt(this.percentile(a[s].min,a[s].max,Number(t[s]))/10))?"circle":"pie"+o;case"sizeNodeBy":var n=a[s].max-a[s].min<=10?100:a[s].max-a[s].min<=100?50:20,o=parseInt(this.percentile(a[s].min,a[s].max,Number(t[s])))/n;return Math.pow(.5+o,2);case"patternNodeBy":return"closed"}else{if(r[i]){o=a[s].order[t[s]];return a[s][r[i]][o]}alert("Ooops")}else{if(i=i.replace("NodeBy",""),t.hasOwnProperty(i))return t[i];switch(i){case"color":return this.missingDataColor;case"shape":return"circle";case"size":return 1;case"pattern":return"closed"}}else if(s&&a.hasOwnProperty(s)&&e.hasOwnProperty(s))if("colorEdgeBy"==i){if("Numeric"==a[s].type)return this.getColorForValue(a[s].colorBrew,Number(e[s]));if(r[i]){o=a[s].order[e[s]];return a[s][r[i]][o]}alert("Ooops")}else if(i="sizeEdgeBy"){if("Numeric"==a[s].type){o=parseInt(3*this.percentile(a[s].min,a[s].max,Number(e.thickness)))/100;return.5+(isNaN(o)?.5:o)}if(r[i]){o=a[s].order[e[s]];return a[s][r[i]][o]}alert("Ooops")}else alert("Ooops. Not implemented yet!");else{if("colorEdgeBy"==i)return e.color||this.foreground;if(i="sizeEdgeBy")return e.thickness||this.edgeThickness;alert("Ooops. Not implemented yet!")}},this.getPropertyValue=function(t,e,i){var a,s,r,n,o=this,h=this[i],l=this.ungroupGroupedData(),c=this.groupingFactors&&1==this.groupingFactors.length,d=this.data,p=this.meta.data,g={colorVarDendrogramBy:"colors",colorSmpDendrogramBy:"colors",colorBy:"colors",outlineBy:"colors",outlineByData:"colors",markerBy:"colors",shapeBy:"shapes",shapeByData:"shapes",sizeBy:"sizes",sizeByData:"sizes",patternBy:"patterns",patternByData:"patterns",stackBy:"colors",lineBy:"colors"},u=function(){return o.patternBy?o[g[i]][0]:t>o.colors.length-1&&!o.colorBy?o[g[i]][Math.floor(t/o.colors.length)]:o[g[i]][0]},m=!!i&&this[g[i]].length;if(null!=t&&null!=e&&h&&d.y.hasOwnProperty(h))a=d.y[h][t][e],r=(s=p[h]).type;else if(null!=e&&h&&d.x&&d.x.hasOwnProperty(h)){if(s=p.x[h],!l&&this.isGroupedData)return c&&(this.groupingFactors[0]==h||function(){var t={},i=0;if(e>=0&&d.w.grps[e])for(var a=0;a<d.w.grps[e].length;a++){p.x[h].type;var s=d.x[h][d.w.grps[e][a]];if(t.hasOwnProperty(s)||(t[s]=!0,i++),i>1)return!1}return!0}())?(r=s.type,(a=!1!==e&&e>=0&&d.x[h][d.w.grps[e][0]])&&i.match(/color|patternBy/)?s[i]&&s[i].hasOwnProperty(a)?s[i][a]:s[g[i]]?s[g[i]][s.order[a]%m]:this[g[i]][s.order[a]%m]:s[g[i]]?s[g[i]][0]:i.match(/color/)?this[g[i]][0]:"patternBy"==i?u():this[g[i]][0]):null!=t&&i.match(/color/)?this[g[i]][t%m]:"patternBy"==i?u():this[g[i]][0];if(r=s.type,a="Gantt"==this.graphType?d.x[h][e]:this.isGroupedData?d.w.smps[e]:d.x[h][e],s[i]&&s[i].hasOwnProperty(a))return s[i][a];if("colorSmpDendrogramBy"==i&&s.colorBy&&s.colorBy.hasOwnProperty(a))return s.colorBy[a]}else if(null!=t&&h&&d.z&&d.z.hasOwnProperty(h)){if(r=(s=p.z[h]).type,a=d.z[h][t],s[i]&&s[i].hasOwnProperty(a))return s[i][a];if("colorVarDendrogramBy"==i&&s.colorBy&&s.colorBy.hasOwnProperty(a))return s.colorBy[a]}else if(null!=t&&null!=e&&i&&(this.isGroupedData&&p.w.smps.hasOwnProperty(i)||!this.isGroupedData&&p.y.range.hasOwnProperty(i)))a=d.y.data[t][e],s=p.y.range[i],r=p.y.type;else{if(null==t||this.isGroupedData||!p.y.range.hasOwnProperty(h))return null!=t?h||!h&&i.match(/color/)?this[g[i]][t%m]:"patternBy"==i?u():this[g[i]][0]:this[g[i]][0];if(r=(s=p.y.range[h]).type,n=null==e&&this.getSampleIndices(h),a=null!=e?d.y.data[t][e]:d.y.data[t]?d.y.data[t][n>=0?n:0]:0,p.modified&&p.modified.z&&p.modified.z[h])return this[g[i]][a%m];s.colorBrew||(s.colorBrew=this.getColorBrew(!1,s.min,s.max),s.vals=s.colorBrew.vals)}if("Numeric"==r){if(i.match(/color|outlineBy/))return isNaN(a)?this.missingDataColor:this.getColorForValue(s.colorBrew,Number(a));if(i.match(/shapeBy/))return isNaN(a)?"sphere":this.shapeByContinuous?"pie"+this.getPropertyValueBin(s,a,!0,g,i):this[g[i]][this.getPropertyValueBin(s,a,!0,g,i)];if(i.match(/sizeBy/))return isNaN(a)?this[g[i]][0]:this.sizeByContinuous?this.getPropertyValueSize(s,a,g[i]):this.getPropertyValueBin(s,a,!1,g,i);if(i.match(/patternBy/))return isNaN(a)?"closed":this.getPropertyValueBin(s,a,!1,g,i)}else if("String"==r)return s[g[i]]?"sizeBy"==i?parseInt(s[g[i]][s.order[a]%s[g[i]].length]):s[g[i]][s.order[a]%s[g[i]].length]:"sizeBy"==i?parseInt(this[g[i]][s.order[a]%this[g[i]].length]):this[g[i]][s.order[a]%this[g[i]].length]},this.resetMetaData=function(t){delete this.meta.data,this.initializeDataAttributes(!1,!1,!1,!0,t)},this.getMetadata=function(t,e){var i=this.meta.data;if(e){var a="x"==t?"z":"x";return t&&i[t]&&i[t].hasOwnProperty(e)?i[t][e]:i[a]&&i[a].hasOwnProperty(e)?i[a][e]:i.x&&i.x.hasOwnProperty(e)?i.x[e]:!(!i.z||!i.z.hasOwnProperty(e))&&i.z[e]}return t?"x"==t?i.x:"z"==t?i.z:!!i[t]&&i[t]:i},this.updateGenomeMetaData=function(t){t&&(this.meta.data={tracks:[]});for(var e=0;e<this.data.tracks.length;e++){var i=this.data.tracks[e],a={};if("dataframe"==i.type)for(var s in i.dataframe){var r=i.dataframe[s];if(this.isNumeric(r)){for(var n=this.range(r),o=this[this.axisAlgorithm](n[0],n[1],5,this.axisWilkinsonLoose),h=[],l=0;l<o.length;l++)h.push(o[l].toString());var c=this.getMaxText(h),d=this.measureText(c,this.axisTickFont),p=Math.min(n[0],o[0]),g=Math.max(n[1],o[o.length-1]),u=(i.height||this.featureTypeDefault)/(1.05*(g-p)),m=this.getColorBrew(i.colorSpectrum||this.colorSpectrum,p,g,i.colorSpectrumZeroValue||this.colorSpectrumZeroValue,i.colorSpectrumBreaks||this.colorSpectrumBreaks,!0);a[s]={type:"Numeric",range:n,values:o,valuesStr:h,maxValueStrLen:d,min:p,max:g,units:u,brew:m}}else{var f={};for(l=0;l<r.length;l++)f[r[l]]=!0;var y=this.sortObject(f),x={},b=0,v=0,A="";for(l=0;l<y.length;l++){x[y[l]]=l;var w=this.measureText(y[l],this.axisTickFont);w>b&&(b=w,v=y[l].length,A=y[l])}var C=[];for(l=0;l<y.length;l++)i.meta&&i.meta.hasOwnProperty(s)&&i.meta[s].hasOwnProperty("color")&&i.meta[s].color.hasOwnProperty(y[l])?C.push(i.meta[s].color[y[l]]):C.push(this.colors[l%this.colors.length]);var T=[];for(l=0;l<y.length;l++)i.meta&&i.meta.hasOwnProperty(s)&&i.meta[s].hasOwnProperty("shape")&&i.meta[s].shape.hasOwnProperty(y[l])?T.push(i.meta[s].shape[y[l]]):T.push(this.shapes[l%this.shapes.length]);a[s]={type:"String",levels:y,order:x,maxLevLen:b,maxLevChr:v,maxLevStr:A,colors:C,shapes:T,sizes:this.getBestSizes(y.length)}}}else if(i.type.match(/bar|heatmap/)){r=i.data;for(var S=[],D=0;D<r.length;D++)for(l=0;l<r[D].data.length;l++)S.push(r[D].data[l]);for(n=this.range(S),o=this[this.axisAlgorithm](n[0],n[1],5,this.axisWilkinsonLoose),h=[],D=0;D<o.length;D++)h.push(o[D].toString());c=this.getMaxText(h);a={range:n,values:o,valuesStr:h,maxValueStrLen:d=this.measureText(c,this.axisTickFont),min:p=Math.min(n[0],o[0]),max:g=Math.max(n[1],o[o.length-1]),units:u=(i.height||this.featureTypeDefault)/(1.05*(g-p)),brew:m=this.getColorBrew(i.colorSpectrum||this.colorSpectrum,p,g,i.colorSpectrumZeroValue||this.colorSpectrumZeroValue,i.colorSpectrumBreaks||this.colorSpectrumBreaks,!0)}}this.meta.data.tracks.push(a)}},this.updateNetworkMetaData=function(t,e,i){var a=this,s=this.meta.data,r=this.data,n=["nodes","edges"],o=this.nodeFont,h={x:!0,y:!0,z:!0,width:!0,height:!0,eventless:!0,color:!0,hideLabel:!0,imagePath:!0,size:!0,shape:!0,endArrow:!0,startArrow:!0,elbows:!0},l=function(t){for(var e={},i=0;i<a.data[t].length;i++){var s=a.data[t][i];for(var r in s)if(!h.hasOwnProperty(r)){var n=null!==s[r]&&s[r];if("object"!=typeof n)e.hasOwnProperty(r)?(e[r].o.hasOwnProperty(n)||(e[r].o[n]=!0),isNaN(n)&&(e[r].t="String")):(e[r]={o:{},t:isNaN(n)?"String":"Numeric"},e[r].o[n]=!0);else for(var o in e.hasOwnProperty(r)||(e[r]={o:{}}),e[r].t="Object",n)e[r].o[o]=!0}}return function(t){for(var e in t)if("Numeric"==t[e].t){var i=a.getKeys(t[e].o);(2==i.length&&t[e].o.hasOwnProperty("true")&&t[e].o.hasOwnProperty("false")||1==i.length&&(t[e].o.hasOwnProperty("true")||t[e].o.hasOwnProperty("false"))||1==i.length&&t[e].o.hasOwnProperty(""))&&(t[e].t="String")}return t}(e)};if(!t||"nodes"==t||"edges"==t){t&&i&&s[t][e]&&delete s[t][e];for(var c=0;c<n.length;c++){var d=n[c];if((!t||t==d)&&r[d]){var p=l(d);for(var g in p)if(!e||e==g){s[d][g]={},s[d][g].len=this.measureText(g,o);s[d][g].len,g.length;s[d][g].type=p[g].t;var u=0,m=0,f="";if("String"==s[d][g].type||"Object"==s[d][g].type){var y=this.sortObject(p[g].o);s[d][g].unique=this.isUnique(y),s[d][g].levels=y,s[d][g].order={};for(var x=0;x<y.length;x++){s[d][g].order[y[x]]=x,(D=this.measureText(y[x],o))>u&&(u=D,m=y[x].length,f=y[x])}s[d][g].maxLevLen=u,s[d][g].maxLevChr=m,s[d][g].maxLevStr=f,s[d][g].colors=[];var b=0;for(x=0;x<y.length;x++)s[d][g].colors.push(this.colors[b%this.colors.length]),b++;s[d][g].shapes=[];for(b=0,x=0;x<y.length;x++)s[d][g].shapes.push(this.shapes[b%this.shapes.length]),b++;s[d][g].sizes=this.getBestSizes(y.length,"edges"==d),s[d][g].patterns=[];for(b=0,x=0;x<y.length;x++)s[d][g].patterns.push(this.patterns[b%this.patterns.length]),b++}else{s[d][g].unique=!1;y=this.sortObject(p[g].o);var v=this.range(y);s[d][g].rmin=v[0],s[d][g].rmax=v[1],s[d][g].n=y.length;var A=this.colorSpectrum;s[d][g].colorBrew=this.getColorBrew(A,v[0],v[1],this.colorSpectrumZeroValue,this.colorSpectrumBreaks),s[d][g].min=s[d][g].colorBrew.min,s[d][g].max=s[d][g].colorBrew.max,s[d][g].zero=s[d][g].colorBrew.zero,s[d][g].vals=s[d][g].colorBrew.vals,s[d][g].incr=s[d][g].colorBrew.incr,s[d][g].decs=s[d][g].colorBrew.decs,s[d][g].levels=s[d][g].colorBrew.vals,s[d][g].order={};for(x=0;x<s[d][g].levels.length;x++){s[d][g].order[s[d][g].levels[x]]=x,(D=this.measureText(s[d][g].levels[x],o))>u&&(u=D,m=s[d][g].levels[x].toString().length,f=s[d][g].levels[x]),s[d][g].maxLevLen=u,s[d][g].maxLevChr=m,s[d][g].maxLevStr=f}s[d][g].shapes=this.shapes,s[d][g].sizes=this.sizes,s[d][g].patterns=this.patterns}}}}}if(this.decorations.length&&"heatmap"==this.decorationsType){var w=[];s.decorations={},s.decorations.unique=!1,s.decorations.type="Numeric",s.decorations.n=0;for(x=0;x<this.decorations.length;x++){g=this.decorations[x];if(s.nodes[g]&&"Numeric"==s.nodes[g].type)s.decorations.n+=s.nodes[g].n,w.push(s.nodes[g].rmin),w.push(s.nodes[g].rmax);else if(s.nodes[g]&&"Object"==s.nodes[g].type)for(var C=0;C<s.nodes[g].levels.length;C++)for(var T=s.nodes[g].levels[C],S=0;S<r.nodes.length;S++)r.nodes[S][g]&&r.nodes[S][g].hasOwnProperty(T)&&r.nodes[S][g][T]&&!isNaN(r.nodes[S][g][T])&&(s.decorations.n++,w.push(r.nodes[S][g][T]))}if(w.length){A=this.colorSpectrum,v=this.range(w);s.decorations.rmin=v[0],s.decorations.rmax=v[1],s.decorations.colorBrew=this.getColorBrew(A,v[0],v[1],this.colorSpectrumZeroValue,this.colorSpectrumBreaks),s.decorations.min=s.decorations.colorBrew.min,s.decorations.max=s.decorations.colorBrew.max,s.decorations.zero=s.decorations.colorBrew.zero,s.decorations.vals=s.decorations.colorBrew.vals,s.decorations.incr=s.decorations.colorBrew.incr,s.decorations.decs=s.decorations.colorBrew.decs,s.decorations.levels=s.decorations.colorBrew.vals,s.decorations.order={};for(x=0;x<s.decorations.levels.length;x++){var D;s.decorations.order[s.decorations.levels[x]]=x,(D=this.measureText(s.decorations.levels[x],o))>u&&(u=D,m=s.decorations.levels[x].toString().length,f=s.decorations.levels[x]),s.decorations.maxLevLen=u,s.decorations.maxLevChr=m,s.decorations.maxLevStr=f}}}},this.updateMetaDataColors=function(t,e){var i=this.meta.data,a=this.data,s="Network"==this.graphType?["nodes","edges"]:["x","z"];if(t&&e)e.colors=t,e.connects=t;else for(var r=0;r<s.length;r++){var n=s[r];if(a[n]||this.isCreateHistogram){if("Network"==this.graphType)return void(this.decorationsColors=[]);var o=a[n]||i[n];for(var h in o)if("String"==i[n][h].type){var l={};if(a[n])for(var c=0;c<o[h].length;c++)l[o[h][c]]=!0;else for(c=0;c<o[h].levels.length;c++)l[o[h].levels[c]]=!0;var d=(l=this.stringRangeSort(this.getKeys(l))).length;if(!this.colorKey&&"Map"!=this.graphType){i[n][h].colors=[];var p=0;if(d!=t.length&&this.colorScheme){var g=this.getCustomColorScheme(d,this.colorScheme);for(c=0;c<l.length;c++)i[n][h].colors.push(g[p%g.length]),p++}else for(c=0;c<l.length;c++)i[n][h].colors.push(t[p%t.length]),p++}}}}},this.updateMetaData=function(t,e,i,a,s){var r=this,n=this.meta.data,o=s&&this.dataStndBy?this.dataStndBy:this.data,h=["x","z","w"],l=this.font,c=function(t,e,i,a,s){var n={};if(r.legendOrder&&r.legendOrder[t]){for(var o=0;o<r.legendOrder[t].length;o++)n[r.legendOrder[t][o]]=o;var h=r.legendOrder[t].length;if(e)for(var o in e)n.hasOwnProperty(o)||(n[o]=h++);else for(o=0;o<i.length;o++)n.hasOwnProperty(i[o])||(n[o]=h++);return n}if(a){for(var o in i=[],e)n[o]=new Date(r.dateFormat(o)).getTime(),i.push(o);i=i.sort((function(t,e){return n[t]-n[e]}));var l={};for(h=0,o=0;o<i.length;o++)l.hasOwnProperty(i[o])||(l[i[o]]=h++);return l}if(s){i=(i=r.getKeys(e)).sort((function(t,e){return parseInt(CanvasXpress.dates[t])-parseInt(CanvasXpress.dates[e])}));for(l={},o=0;o<i.length;o++)l[i[o]]=o;return l}i=r.getKeys(e);for(o=0;o<i.length;o++)if(!i[o].match("\0"))return!1;i=i.sort((function(t,e){return Number(t.replace("\0",""))-Number(e.replace("\0",""))}));for(l={},o=0;o<i.length;o++)l[i[o]]=o;return l},d=function(t,e){if(r[t+"Key"]&&r[t+"Key"][b]){if(r.isObject(r[t+"Key"][b])){n[x][b][t+"By"]=r[t+"Key"][b];for(var i=0;i<I.length;i++)if(n[x][b][t+"By"].hasOwnProperty(I[i]))"color"==t&&(n[x][b][t+"By"][I[i]]=r.validateColor(n[x][b][t+"By"][I[i]]));else{var a=Number(I[i].replace("\0",""));n[x][b][t+"By"].hasOwnProperty(a)?n[x][b][t+"By"][I[i]]=n[x][b][t+"By"][a]:n[x][b][t+"By"][I[i]]=e[i%e.length]}n[x][b][t+"s"]=[];for(i=0;i<I.length;i++)n[x][b][t+"s"][i]=n[x][b][t+"By"][I[i]]}else if(r.isArray(r[t+"Key"][b]))n[x][b][t+"s"]=r[t+"Key"][b];else if("color"==t){var s=I.length;if(CanvasXpress.colorSchemes[r[t+"Key"][b]][s])n[x][b][t+"s"]=CanvasXpress.colorSchemes[r[t+"Key"][b]][s];else{if((h=r.getKeys(CanvasXpress.colorSchemes[r[t+"Key"][b]])).sort((function(t,e){return t-e})),s>h[h.length-1])for(s--;!CanvasXpress.colorSchemes[r[t+"Key"][b]][s];)s--;else if(s<h[h.length-1])for(s++;!CanvasXpress.colorSchemes[r[t+"Key"][b]][s];)s++;n[x][b][t+"s"]=CanvasXpress.colorSchemes[r[t+"Key"][b]][s]}for(i=0;i<s;i++)n[x][b][t+"s"][i]=r.validateColor(CanvasXpress.colorSchemes[r[t+"Key"][b]][s][i])}}else{n[x][b][t+"s"]=[];var o=0;if("color"==t&&I.length>e.length&&1==e.length&&"Map"==r.graphType){var h;s=I.length;if((h=r.getKeys(CanvasXpress.colorSchemes[r.colorScheme])).sort((function(t,e){return t-e})),s>h[h.length-1])for(s--;!CanvasXpress.colorSchemes[r.colorScheme][s];)s--;else if(s<h[h.length-1])for(s++;!CanvasXpress.colorSchemes[r.colorScheme][s];)s++;for(i=0;i<s;i++)n[x][b][t+"s"][i]=r.validateColor(CanvasXpress.colorSchemes[r.colorScheme][s][i])}else for(i=0;i<e.length;i++)"color"==t?n[x][b][t+"s"].push(r.validateColor(e[o%e.length])):n[x][b][t+"s"].push(e[o%e.length]),o++}},p=function(t,e){var i=r.colorSpectrum;if(r[t+"Key"]&&r[t+"Key"][b])if(r.isObject(r[t+"Key"][b])){n[x][b][t+"By"]=r[t+"Key"][b];for(var a=0;a<o[x][b].length;a++)n[x][b][t+"By"].hasOwnProperty(o[x][b][a].toString())||(n[x][b][t+"By"][o[x][b][a].toString()]=r[t+"s"][a%r[t+"s"].length]);n[x][b].orderS=c(b,!1,o[x][b])}else if("color"==t)if(r.isArray(r[t+"Key"][b]))i=r[t+"Key"][b];else{var s=r.getKeys(CanvasXpress.colorSchemes[r[t+"Key"][b]]);s.sort((function(t,e){return t-e})),i=CanvasXpress.colorSchemes[r[t+"Key"][b]].hasOwnProperty(8)?CanvasXpress.colorSchemes[r[t+"Key"][b]][8]:CanvasXpress.colorSchemes[r[t+"Key"][b]][s[0]]}if("color"==t){n[x][b].colorBrew=r.getColorBrew(i,B[0],B[1],r.colorSpectrumZeroValue,r.colorSpectrumBreaks,!0);var h=["min","max","zero","vals","incr","decs"];for(a=0;a<h.length;a++){var d=h[a];n[x][b][d]=n[x][b].colorBrew[d]}n[x][b].levels=n[x][b].colorBrew.vals,n[x][b].order={};for(a=0;a<n[x][b].levels.length;a++){n[x][b].order[n[x][b].levels[a]]=a;var p=r.measureText(n[x][b].levels[a],l);p>S&&(S=p,D=n[x][b].levels[a].toString().length,M=n[x][b].levels[a]),n[x][b].maxLevLen=S,n[x][b].maxLevChr=D,n[x][b].maxLevStr=M}}else n[x][b][t+"s"]="connect"==t?r.colors:r[t+"s"]};if(t&&"w"!=t&&"x"!=t&&"z"!=t)if(o.y[t]){n[t]={};S=0,D=0,M="";if(this.isNumeric2DArray(o.y[t])){for(v=0;v<o.y[t].length;v++)for(b=0;b<o.y[t][v].length;b++)null!=o.y[t][v][b]?o.y[t][v][b]=Number(o.y[t][v][b]):o.y[t][v][b]=Number.NaN;B=this.setRangeDataObject(o.y[t]);n[t].rmin=B[0],n[t].rmax=B[1],n[t].n=o.y[t].length*o.y[t][0].length,n[t].type="Numeric",n[t].colorBrew=this.getColorBrew(this.colorSpectrum,B[0],B[1],this.colorSpectrumZeroValue,this.colorSpectrumBreaks);var g=["min","max","zero","vals","incr","decs"];for(v=0;v<g.length;v++){var u=g[v];n[t][u]=n[t].colorBrew[u]}n[t].levels=n[t].colorBrew.vals,n[t].order={};for(v=0;v<n[t].levels.length;v++){n[t].order[n[t].levels[v]]=v,(O=this.measureText(n[t].levels[v],l))>S&&(S=O,D=n[t].levels[v].toString().length,M=n[t].levels[v]),n[t].maxLevLen=S,n[t].maxLevChr=D,n[t].maxLevStr=M}n[t].shapes=this.shapes,n[t].sizes=this.sizes,n[t].patterns=this.patterns}else{for(I={},v=0;v<o.y[t].length;v++)for(b=0;b<o.y[t][v].length;b++)null!=o.y[t][v][b]?I[o.y[t][v][b]]=!0:o.y[t][v][b]="";I=this.stringRangeSort(this.getKeys(I)),n[t].levels=I,n[t].order={};for(v=0;v<I.length;v++){n[t].order[I[v]]=v,(O=this.measureText(I[v],l))>S&&(S=O,D=I[v].length,M=I[v])}n[t].maxLevLen=S,n[t].maxLevChr=D,n[t].maxLevStr=M,n[t].type="String",n[t].colors=[];var m=0;for(v=0;v<I.length;v++)n[t].colors.push(this.colors[m%this.colors.length]),m++;n[t].shapes=[];for(m=0,v=0;v<I.length;v++)n[t].shapes.push(this.shapes[m%this.shapes.length]),m++;var f=this.getBestSizes(I.length);n[t].sizes=[];for(m=0,v=0;v<I.length;v++)n[t].sizes.push(f[m%f.length]),m++;n[t].patterns=[];for(m=0,v=0;v<I.length;v++)n[t].patterns.push(this.patterns[m%this.patterns.length]),m++}}else alert("Error while setting metadata. This may not work!");else{t&&i&&(e?n[t][e]&&delete n[t][e]:delete n[t]);for(var y=0;y<h.length;y++){var x=h[y];if(!t||t==x){if(l="z"==x?this.varLabelFont:this.smpLabelFont,o[x])for(var b in o[x])if(!e||e==b){if("w"==x){if("smps"!=b&&"grps"!=b)continue;if("grps"==b){n[x][b]=o[x][b],n[x].smps={};for(var v=0;v<o[x].smps.length;v++)n[x].smps[o[x].smps[v]]=v;continue}}n[x][b]={},n[x][b].origin=x,n[x][b].len=this.measureText(b,l);var A=n[x][b].len,w=b.length,C=b,T=this.isNumeric(o[x][b])&&!this.isEmpty(o[x][b])&&!this.isNull(o[x][b]);n[x][b].type=T?"Numeric":"String";var S=0,D=0,M="";if("String"==n[x][b].type){if(n[x][b].unique=this.isUnique(o[x][b]),n[x][b].boolean=this.isBoolean(o[x][b]),n[x][b].date=this.isDate(o[x][b]),n[x][b].monthDay=this.isMonthDay(o[x][b]),n[x][b].geo=this.isCountry(o[x][b])||this.isUsa(o[x][b]),n[x][b].boolean&&this.isR)for(var v=0;v<o[x][b].length;v++)null!=o[x][b][v]&&"string"==typeof o[x][b][v]&&("true"==o[x][b][v].toLowerCase()?o[x][b][v]=!0:"false"==o[x][b][v].toLowerCase()?o[x][b][v]=!1:o[x][b][v]=null);for(var k={},v=0;v<o[x][b].length;v++)k[o[x][b][v]]||(k[o[x][b][v]]=0),k[o[x][b][v]]++;var L=c(b,k,!1,n[x][b].date,n[x][b].monthDay),I=this.stringRangeSort(this.getKeys(k));n[x][b].levels=L?I.sort((function(t,e){return L[t]-L[e]})):I,n[x][b].n=[];for(var v=0;v<n[x][b].levels.length;v++)n[x][b].n.push(k[n[x][b].levels[v]]);n[x][b].order={};for(var v=0;v<I.length;v++){n[x][b].order[I[v]]=L?L[I[v]]:v,(O=this.measureText(I[v],l))>S&&(S=O,D=I[v].length,M=I[v])}n[x][b].maxLevLen=S,n[x][b].maxLevChr=D,n[x][b].maxLevStr=M,d("color",this.colors),d("shape",this.shapes),d("size",this.getBestSizes(I.length)),d("pattern",this.patterns),d("linePattern",this.linePatterns),d("connect",this.colors)}else{n[x][b].unique=!1,n[x][b].boolean=!1;for(var v=0;v<o[x][b].length;v++)null!=o[x][b][v]&&(o[x][b][v]=Number(o[x][b][v]));var B=this.range(o[x][b]);n[x][b].rmin=B[0],n[x][b].rmax=B[1],n[x][b].n=o[x][b].length,p("color",this.colors),p("shape",this.shapes),p("size",this.sizes),p("pattern",this.patterns),p("connect",this.colors)}n.m[x]||(n.m[x]={}),n.m[x].maxFacLen?A>n.m[x].maxFacLen&&(n.m[x].maxFacLen=A,n.m[x].maxFacChr=w,n.m[x].maxFacStr=C):(n.m[x].maxFacLen=A,n.m[x].maxFacChr=w,n.m[x].maxFacStr=C)}if(a)return;var N,F,P;"z"==x&&(N="y",F="vars",P="Var"),"x"!=x&&"q"!=x||(N="y",F="smps",P="Smp"),"w"==x&&(N="w",F="smps",P="Smp");var S=0,D=0,M="";if(o[N]){for(var v=0;v<o[N][F].length;v++){var R,O;if(o[N][F].length>this.fullTextMeasureCheck){if((R=o[N][F][v].toString().length)>D)(O=this.measureText(o[N][F][v],l))>S&&(S=O,D=R,M=o[N][F][v])}else if((R=o[N][F][v].toString().length)>=D)(O=this.measureText(o[N][F][v],l))>S&&(S=O,D=R,M=o[N][F][v])}if(n[N]["max"+P+"Len"]=S,n[N]["max"+P+"Chr"]=D,n[N]["max"+P+"Str"]=M,n[N].vars=this.isCountry(o.y.vars)?"World":this.isUsa(o.y.vars)?"USA":this.isDate(o.y.vars)?"Date":"String",n[N].smps=this.isCountry(o.y.smps)?"World":this.isUsa(o.y.smps)?"USA":this.isDate(o.y.smps)?"Date":"String","x"==x){n[N].range||(n[N].range={});for(var v=0;v<o.y.smps.length;v++){var B=this.range(this.getDataForSmpAtPosition(v));n[N].range[o.y.smps[v]]={},n[N].range[o.y.smps[v]].min=B[0],n[N].range[o.y.smps[v]].max=B[1],n[N].range[o.y.smps[v]].type="Numeric"}}if("z"==x){n[N].range||(n[N].range={});for(var v=0;v<o.y.data.length;v++){B=this.range(o.y.data[v]);n[N].range[o.y.vars[v]]={},n[N].range[o.y.vars[v]].min=B[0],n[N].range[o.y.vars[v]].max=B[1],n[N].range[o.y.vars[v]].type="Numeric"}}if("w"==x){n[N].range||(n[N].range={});var X=[],z=this.isGroupedData?this.data.w:this.data.y;if(this.layoutValid&&this.data.l&&this.data.l.smps)for(var v=0;v<this.data.l.smps.length;v++)X.push(v);else X=this.isGroupedData&&this.grpIndices?this.grpIndices:this.smpIndices;for(v=0;v<X.length;v++){B=this.range(this.getDataForSmpGrpAtIndex(v));n[N].range[z.smps[v]]={},n[N].range[z.smps[v]].min=B[0],n[N].range[z.smps[v]].max=B[1],n[N].range[z.smps[v]].type="Numeric"}}}}}this.setColorScheme(!(!t||!e)&&this.meta.data[t][e])}},this.setMetaData=function(t){if(!this.meta.data)if("Network"==this.graphType)this.meta.data={nodes:{},edges:{},decorations:{}},this.updateNetworkMetaData();else if("Genome"==this.graphType)this.meta.data={tracks:[]},this.updateGenomeMetaData();else if("Venn"==this.graphType);else{if(this.meta.data={w:{},x:{},y:{},z:{},m:{},p:{g:[],l:[],i:[]},l:[],q:{l:{},g:[],b:!1,o:!1},b:{l:[],g:!1,c:!1},c:{z:{},s:{},p:[]},d:{m:{},v:[],g:[],s:{},a:{},l:[],q:null,x:{},y:{},z:{},d:{}}},this.data.y){var e=this.data.y;if(this.isRawData)for(var i=0;i<e.data.length;i++)for(var a=0;a<e.data[i].length;a++)null!=e.data[i][a]?e.data[i][a]=e.data[i][a]==this.missingDataValue?Number.NaN:Number(e.data[i][a]):e.data[i][a]=Number.NaN;else{var s="iqr"==this.summaryType?["iqr1","iqr3","median","qtl1","qtl3","out"]:[this.summaryType];for(i=0;i<s.length;i++){var r=s[i];if(e.hasOwnProperty(r))for(a=0;a<e[r].length;a++)for(var n=0;n<e[r][a].length;n++)if("out"==r)for(var o=0;o<e[r][a][n].length;o++)null!=e[r][a][n][o]?e[r][a][n][o]=e[r][a][n][o]==this.missingDataValue?Number.NaN:Number(e[r][a][n][o]):e.data[i][a]=Number.NaN;else null!=e[r][a][n]?e[r][a][n]=e[r][a][n]==this.missingDataValue?Number.NaN:Number(e[r][a][n]):e[r][a][n]=Number.NaN;else{e[r]=[];var h="iqr"==this.summaryType?"median":this.summaryType;for(a=0;a<e[h].length;a++){e[r][a]=[];for(n=0;n<e[h][a].length;n++)e[r][a][n]=[]}}}r="iqr"==this.summaryType?"median":this.summaryType;e.data=[];for(i=0;i<e[r].length;i++)e.data.push(e[r][i])}}this.updateMetaData(!1,!1,!1,!1,t)}},this.setGroupLabels=function(){if(this.groupingFactors.length){var t=!0;if(this.colorBy&&this.groupingFactors.includes(this.colorBy)&&this.data.w&&this.groupingFactors.length>1){t=!1;for(var e=this.groupingFactors.indexOf(this.colorBy),i=0;i<this.data.w.smps.length;i++){if(this.data.w.smps[i].length)this.data.w.glab[i]||(this.data.w.glab[i]=this.cloneObject(this.data.w.smps[i])),(s=this.data.w.glab[i].split(" :: ")).splice(e,1).join(" :: "),this.showLegend&&(this.data.w.smps[i]=s)}}if(this.shapeBy&&this.groupingFactors.includes(this.shapeBy)&&this.data.w&&this.groupingFactors.length>1){t=!1;for(e=this.groupingFactors.indexOf(this.shapeBy),i=0;i<this.data.w.smps.length;i++){if(this.data.w.smps[i].length)this.data.w.glab[i]||(this.data.w.glab[i]=this.cloneObject(this.data.w.smps[i])),(s=this.data.w.glab[i].split(" :: ")).splice(e,1).join(" :: "),this.showLegend&&(this.data.w.smps[i]=s)}}t&&this.data.w&&this.data.w.glab.length==this.data.w.smps.length&&(this.data.w.smps=this.cloneObject(this.data.w.glab))}if(this.data.w&&this.data.w.smps&&this.groupingFactors.length)for(i=0;i<this.segregateSamplesBy.length;i++){e=this.groupingFactors.indexOf(this.segregateSamplesBy[i]);for(var a=0;a<this.data.w.smps.length;a++)if(this.data.w.smps[a].length){this.data.w.glab[a]||(this.data.w.glab[a]=this.cloneObject(this.data.w.smps[a]));var s=this.data.w.glab[a].split(" :: ");e>=0?s.splice(e,1).join(" :: "):s=s.join(" :: "),this.data.w.smps[a]=s}}this.data.w&&this.updateMetaData("w")},this.getIndices=function(t,e,i){if(null!=t&&e){i||(i=this.getObjectArrayOrder(e));var a=[];if(this.isArray(t)){if(this.isArray(e)){for(var s=t.length,r=0;r<s;r++)i.hasOwnProperty(t[r])&&a.push(i[t[r]]);return a}return i.hasOwnProperty(e)?i[e[r]]:-1}return e.indexOf(t)}},this.getLevelsByAnnotation=function(t,e,i,a,s){var r=[],n={},o=this.data[i],h=this.meta.data[i];if(o&&t&&o[t]){h=h[t];for(var l=0;l<e.length;l++){var c=e[l],d=this.getMetadataValue(c,i,t,a);n.hasOwnProperty(d)||r.push(d),n[d]=!0}h&&s&&(r=h.monthDay?r.sort((function(t,e){return parseInt(CanvasXpress.dates[t])-parseInt(CanvasXpress.dates[e])})):r.sort((function(t,e){return h.n[h.order[e]]-h.n[h.order[t]]||e>t})))}return r},this.getVariablesSamplesByAnnotationLevel=function(t,e,i,a,s){var r=[];if(o=this.data[a],o&&t&&o[t])if(e)for(var n=0;n<i.length;n++){var h=i[n];this.getMetadataValue(h,a,t)==e&&(s&&s[h],r.push(h))}else for(n=0;n<i.length;n++){h=i[n];this.getMetadataValue(h,a,t)||(s&&s[h],r.push(h))}return r},this.getVarSmpAnnotations=function(t,e,i,a,s){var r={},n=[],o=!1,h=this.data[s];if(e||(e="x"==s?this.smpIndices:this.varIndices),h&&h.hasOwnProperty(t)){for(var l=0;l<e.length;l++){var c=e[l],d=this.getMetadataValue(c,s,t);null!=d?(r[d]=!0,n.push(d)):o=!0}if(o&&n.push(""),a)return i?n.join("+"):n;for(var l in n=[],r)n.push(l);return o&&n.push(""),i?n.join("+"):n}},this.setAllSamplesVisible=function(t,e,i){var a=this.data;if(a.y){var s=a.y.smps;if(!s&&a.y.vars){a.y.data||alert("Missing data object"),s=[];for(var r=0;r<a.y.data[0].length;r++)s.push("smp"+(r+1));a.y.smps=s}var n=[],o=[];if(t)for(r=0;r<t.length;r++)n.push(t[r]),o.push(!1);else for(r=0;r<s.length;r++)n.push(r),o.push(!1);!e&&this.varIndices&&this.filterData(),this.smpIndices="descending"==this.sortDir?n.reverse():n,this.hiddenSmps="descending"==this.sortDir?o.reverse():o}if(this.data.w&&this.data.w.smps){n=[],o=[],this.hiddenGrps=[];for(r=0;r<this.data.w.smps.length;r++)n.push(r),o.push(!1);this.grpIndices="descending"==this.sortDir?n.reverse():n,this.hiddenGrps="descending"==this.sortDir?o.reverse():o}if(this.layoutComb&&this.layoutParams&&!i)for(r=0;r<this.layoutParams.length;r++){var h=this.layoutParams[r];h&&(h.startingSmpIndices&&(h.smpIndices=h.startingSmpIndices,h.smpIndicesStart=-1),this.isGroupedData&&h.startingGrpIndices&&(h.grpIndices=h.startingGrpIndices,h.grpIndicesStart=-1))}},this.getSampleIndices=function(t,e,i,a,s){return a||(a=this.isGroupedData&&!e?this.data.w.smps:i&&this.dataStndBy?this.dataStndBy.y.smps:this.data.y.smps,s=this.getObjectArrayOrder(a)),this.getIndices(t,a,s)},this.getSamplesByAxis=function(t){return this[t]||[]},this.getSamplesByAnnotationLevel=function(t,e,i){return this.getVariablesSamplesByAnnotationLevel(t,e,i||this.smpIndices,"x",this.hiddenSmps)},this.getSampleLevelsByAnnotation=function(t,e){return this.getLevelsByAnnotation(t,e||this.smpIndices,"x")},this.setSamplesVisible=function(t,e){if(this.isGroupedData){this.grpIndices=[];for(var i=0;i<t.length;i++)this.grpIndices.push(t[i])}else{this.smpIndices=[];for(i=0;i<t.length;i++)this.smpIndices.push(t[i])}if(status){var a=this.getObjectArray(t),s=this.isGroupedData?this.data.w:this.data.y,r=this.isGroupedData?this.hiddenGrps:this.hiddenSmps;for(i=0;i<s.smps.length;i++)a.hasOwnProperty(i)?r[i]=!1:r[i]=!0}},this.hideUnhideSmps=function(t){if(!this.isTransition()&&t){var e=this.isGroupedData?this.data.w:this.data.y,i=this.isGroupedData?this.hiddenGrps:this.hiddenSmps;if(this.isArray(t)){for(var a=0;a<t.length;a++)for(var s=0;s<e.smps.length;s++)if(e.smps[s]==t[a]){i[s]?i[s]=!1:i[s]=!0;break}}else for(a=0;a<e.smps.length;a++)if(e.smps[a]==t){i[a]?i[a]=!1:i[a]=!0;break}var r=[];for(a=0;a<e.smps.length;a++)i[a]||r.push(a);this.setSamplesVisible(r),this.draw({func:"hideUnhideSmps",par:[t]})}},this.getSamples=function(){for(var t=[],e=this.isGroupedData?this.data.w.smps:this.data.y.smps,i=(this.isGroupedData?this.data.w:this.data.y,this.isGroupedData?this.hiddenGrps:this.hiddenSmps),a=this.isGroupedData?this.grpIndices:this.smpIndices,s=0;s<e.length;s++){for(var r=-1,n=0;n<a.length;n++)if(a[n]==s){r=n;break}t.push({name:e[s],hidden:i[s],index:r})}return t},this.getSmpAnnotations=function(t,e,i,a){return this.getVarSmpAnnotations(t,e,i,a,"x")},this.setAllVariablesVisible=function(t,e){var i=this.data;if(i.y){var a=i.y.vars;if(!a&&i.y.data){a=[];for(var s=0;s<i.y.data.length;s++)a.push("var"+(s+1));i.y.vars=a}var r=[],n=[];if(!this.isDOE&&this.xAxis.length&&this.isOneDimensionalGraph())if(t=this.xAxis2.length?this.getVariableIndices(this.xAxis).concat(this.getVariableIndices(this.xAxis2)):this.getVariableIndices(this.xAxis),this.isArray(t)){if(!t.length)for(s=0;s<i.y.data.length;s++)t.push(s)}else t=t>=0&&[t];if(t)for(s=0;s<t.length;s++)r.push(t[s]),n.push(!1);else for(s=0;s<a.length;s++)r.push(s),n.push(!1);if(!e&&this.smpIndices&&this.filterData(),this.layoutComb&&this.layoutParams)for(s=0;s<this.layoutParams.length;s++){var o=this.layoutParams[s];o&&o.startingVarIndices&&(o.varIndices=o.startingVarIndices,o.varIndicesStart=-1)}this.varIndices=r,this.hiddenVars=n}},this.getVariableIndices=function(t,e,i,a){return i||(i=e&&this.dataStndBy?this.dataStndBy.y.vars:this.data.y.vars,a=this.getObjectArrayOrder(i)),this.getIndices(t,i,a)},this.setVariablesVisibleByAxis=function(t,e){var i=this[t+"VarIndices"];i=[];for(var a=0;a<e.length;a++)i.push(e[a])},this.getVariablesVisibleByAxis=function(t){return this[t+"VarIndices"]},this.getVariablesByAnnotationLevel=function(t,e,i){return this.getVariablesSamplesByAnnotationLevel(t,e,i||this.varIndices,"z",this.hiddenVars)},this.getVariableLevelsByAnnotation=function(t,e){return this.getLevelsByAnnotation(t,e||this.varIndices,"z")},this.setVariablesVisible=function(t){this.varIndices=[];for(var e=0;e<t.length;e++)this.varIndices.push(t[e])},this.hideUnhideVars=function(t){if(!this.isTransition()){var e=this.data.y,i=this.hiddenVars;if(t){if(this.isArray(t)){for(var a=0;a<t.length;a++)for(var s=0;s<e.vars.length;s++)if(e.vars[s]==t[a]){i[s]?i[s]=!1:i[s]=!0;break}}else for(a=0;a<e.vars.length;a++)if(e.vars[a]==t){i[a]?i[a]=!1:i[a]=!0;break}var r=[];for(a=0;a<e.vars.length;a++)i[a]||r.push(a);this.setVariablesVisible(r),this.draw({func:"hideUnhideVars",par:[t]})}}},this.getVariables=function(){for(var t=[],e=0;e<this.data.y.vars.length;e++){for(var i=-1,a=0;a<this.varIndices.length;a++)if(this.varIndices[a]==e){i=a;break}t.push({name:this.data.y.vars[e],hidden:this.hiddenVars[e],index:i})}return t},this.getVarAnnotations=function(t,e,i,a){return this.getVarSmpAnnotations(t,e,i,a,"z")},this.setNodeIndices=function(){for(var t=this.data.nodes,e={},i={},a={},s=0;s<t.length;s++){var r=t[s];e[r.id]=r,i[r.id]=s,a[r.id]=!1}this.nodes=e,this.data.nodeIndices=i,this.nodeInitialCache=a},this.setNodes=function(){if(this.data.nodeIndices){for(var t=this.data.nodeIndices,e=this.data.nodes,i={},a=0;a<e.length;a++){var s=e[a];i[s.id]=s}for(var a in e=[],t)e[t[a]]=i[a];this.data.nodes=e,this.nodes=i}else this.setNodeIndices()},this.setAllNodesVisible=function(t){this.nodes={},this.data.nodeIndices={};for(var e=this.data.nodes,i=0;i<e.length;i++){var a=e[i];a.hide=!1,this.nodes[a.id]=a,this.data.nodeIndices[a.id]=i}var s=this.data.edges;for(i=0;i<s.length;i++)s[i].hide=!1;t||this.filterData()},this.hideUnhideNodes=function(t,e){e=!!e,this.isHiddenNodes=e;var i=this.data.nodes,a=this.nodes;if(t){if(this.isArray(t))for(var s=0;s<t.length;s++){var r=t[s];(n=i[this.data.nodeIndices[r]]).hide=e,a&&null!=a[r]&&(a[r].hide=e)}}else{for(s=0;s<i.length;s++){var n;(n=i[s]).hide=e,a&&null!=a[n.id]&&(a[n.id].hide=e)}this.removeMenus(),this.draw({func:"hideUnhideNodes",par:[t,e]})}},this.setAllFeaturesVisible=function(){for(var t=this.data.tracks,e=0;e<t.length;e++){var i=t[e];i.hide=!1;for(var a=i.data,s=0;s<a.length;s++)a[s].hide=!1}},this.hideUnhideMapFeatures=function(t,e,i){var a=this.meta.map.geojson.features;if(i)for(var s=0;s<a.length;s++)a[s].hidden=i;for(s=0;s<t.length;s++)a[t[s]].hidden=e},this.setAllMapFeaturesVisible=function(){if(this.meta.map&&this.meta.map.geojson)for(var t=0;t<this.meta.map.geojson.features.length;t++)this.meta.map.geojson.features[t].hidden=!1},this.setIndices=function(t,e,i){"Network"==this.graphType?this.setNodes():"Genome"!=this.graphType&&"Venn"!=this.graphType&&(this.setAllVariablesVisible(t,i),this.setAllSamplesVisible(e,i))},this.resetIndices=function(t){if(this.isGroupedData&&this.grpIndices)if(t&&this.grpIndices.length){for(var e=[],i=0;i<this.grpIndices.length;i++){var a=this.data.w.grps[this.grpIndices[i]];a&&(e=e.concat(a))}this.smpIndices=e}else this.setIndices()},this.initializeDataAttributes=function(t,e,i,a,s){var r=this.graphType,n=["outlineByData","shapeByData","sizeByData","patternByData"];if(a||this.setIndices(t,e,i),"Network"==r||"Genome"==r)this.setMetaData(s);else if("Venn"!=r){this.setMetaData(s);for(var o=0;o<n.length;o++)this[n[o]]&&this.data.y.hasOwnProperty(this[n[o]])?this.updateMetaData(this[n[o]]):this[n[o]]=!1;this.oncoprintCNA&&this.data.y.hasOwnProperty(this.oncoprintCNA)&&(this.updateMetaData(this.oncoprintCNA),this.isOncoprint=!0),this.oncoprintMUT&&this.data.y.hasOwnProperty(this.oncoprintMUT)&&this.updateMetaData(this.oncoprintMUT)}},this.cleanData=function(t){for(var e=["sankey","tree","bubble","gantt","contour"],i=0;i<e.length;i++)delete t[e[i]];return t},this.setGanttData=function(){if(!this.isGanttDataFormated){this.data.gantt=[];for(var t=0;t<this.data.y.vars.length;t++){this.data.gantt[t]=[];for(var e=0;e<this.data.y.smps.length;e++){var i=null!=this.data.y.data[t][e]?this.parseDate(this.data.y.data[t][e]).getTime():null;this.data.gantt[t].push(i)}}this.isGanttDataFormated=!0}},this.setQQData=function(){this.isQQ||this.addQQPlot(!0)},this.setCDFData=function(){this.isCDF||this.addCDFPlot(!0)},this.setManhattanData=function(){if(!this.isManhattanDataFormated){var t=this,e=function(e,i){for(var a=0,s=0;s<e-1;s++)a+=t.chromosomeLengths[s];return a+i},i=this.manhattanMarkerChromosomeNumber?this.getSampleIndices(this.manhattanMarkerChromosomeNumber):-1,a=this.manhattanMarkerPosition?this.getSampleIndices(this.manhattanMarkerPosition):-1,s=this.manhattanMarkerLogPValue?this.getSampleIndices(this.manhattanMarkerLogPValue):-1;if(i<0)return this.scatterType=!1,void alert("Missing marker chromosome number");if(a<0)return this.scatterType=!1,void alert("Missing marker base postion");if(s<0)return this.scatterType=!1,void alert("Missing marker p-value");if(!this.chromosomeLengths.length){for(var r=[],n=0;n<this.data.y.vars.length;n++){var o=this.data.y.data[n][i],h=this.data.y.data[n][a];r[o]||(r[o]=[]),r[o].push(h)}for(n=0;n<r.length;n++)this.chromosomeLengths[n]=this.max(r[n]||[0])+1}var l=this.getSampleIndices("Manhattan");if(l>=0)for(n=0;n<this.data.y.vars.length;n++)this.data.y.data[n][l]=e(this.data.y.data[n][i],this.data.y.data[n][a]);else{this.data.y.smps.push("Manhattan");for(n=0;n<this.data.y.vars.length;n++)this.data.y.data[n].push(e(this.data.y.data[n][i],this.data.y.data[n][a]))}var c=this.meta.config.user;this.manhattanMarkerChromosomeNumberIndex=i,this.manhattanMarkerPositionIndex=a,this.manhattanMarkerLogPValueIndex=s,this.xAxis=["Manhattan"],this.xAxisTitle=c.xAxisTitle||"Chromosome",this.yAxis=[this.data.y.smps[s]],this.yAxisTitle=c.yAxisTitle||this.data.y.smps[s],this.xAxisMajorTicks=c.xAxisMajorTicks||!1,this.xAxisMinorTicks=c.xAxisMinorTicks||!1,this.xAxisRightMajorTick=c.xAxisRightMajorTick||!1,this.yAxisMinorTicks=c.yAxisMinorTicks||!1,this.yAxisTopMajorTick=c.yAxisTopMajorTick||!1,this.yAxisBottomMajorTick=c.yAxisBottomMajorTick||!1,this.plotBox=c.plotBox||!1,this.isManhattanDataFormated=!0}},this.setSankeyData=function(){if(this.sankeySource&&this.sankeyTarget){this.data.sankey={nodes:[],links:[]};for(var t={},e=0;e<this.smpIndices.length;e++){var i=this.smpIndices[e],a=this.getMetadataValue(i,"x",this.sankeySource),s=this.getMetadataValue(i,"x",this.sankeyTarget),r=this.getDataAtPos(this.hierarchyVarIndex,i,!1,this.xAxisTransform,this.xAxisFloorValue,this.xAxisCeilValue);this.data.sankey.links.push({source:a,target:s,value:r,id:i}),t[a]=!0,t[s]=!0}var n=0;for(var e in t)this.data.sankey.nodes.push({name:e,id:n++});var o={};this.data.sankey.nodes.forEach((function(t){o[t.name]=t})),this.data.sankey.links=this.data.sankey.links.map((function(t){return{source:o[t.source],target:o[t.target],value:t.value,id:t.id}}))}else this.data.sankey&&delete this.data.sankey},this.setHierarchyData=function(t){if("Sankey"==this.graphType||"Circular"==this.graphType&&("sunburst"==this.circularType||"bubble"==this.circularType)){var e=this.hierarchyVar?this.getVariableIndices(this.hierarchyVar):0;this.hierarchyVarIndex=e>=0?e:0}if(this.hierarchy.length>0){if(!this.data[t]){this.data[t]={},this.data[t].data={name:this.hierarchy[0],children:[]};for(e=0;e<this.smpIndices.length;e++)for(var i=this.smpIndices[e],a=this.data[t].data.children,s=0;s<this.hierarchy.length;s++){for(var r=this.hierarchy[s],n=-1,o=0;o<a.length;o++)this.getMetadataValue(i,"x",r)==a[o].name&&(n=o);if(-1==n){var h=this.getMetadataValue(i,"x",r);if(null==h){if(s==this.hierarchy.length-1){a.push({name:this.data.y.smps[i],size:this.data.y.data[this.hierarchyVarIndex][i],idx:i});continue}continue}a.push({name:h,children:[]}),n=a.length-1}a=a[n].children,s===this.hierarchy.length-1&&a.push({name:this.data.y.smps[i],size:this.data.y.data[this.hierarchyVarIndex][i],idx:i})}}}else{this.data[t]={},this.data[t].data={name:"Samples",children:[]};for(e=0;e<this.smpIndices.length;e++){i=this.smpIndices[e];(a=this.data[t].data.children).push({name:this.data.y.smps[i],size:this.data.y.data[this.hierarchyVarIndex][i],idx:i})}}},this.initializeData=function(t,e,i){if(this.data=t||this.getDataSet(),this.isExample=!t,this.isExample&&(this.$(this.target).style.display="none"),this.nodesData=!1,this.edgesData=!1,this.featuresData=!1,e&&delete this.meta.data,this.validGraphTypes=[],Array.isArray(t)&&Array.isArray(t[0])&&(this.data=this.arrayToCanvasXpress(t).data),this.data&&(this.data.y||this.data.venn||this.data.nodes||this.data.tracks||this.data.fx)){if(this.FunctionData(!!this.data.fx),this.data.venn&&("Venn"==this.graphType&&(this.summaryType="venn"),this.validGraphTypes.push("Venn")),this.data.nodes&&("Network"==this.graphType&&(this.summaryType="network"),this.validGraphTypes.push("Network")),this.data.tracks&&("Genome"==this.graphType&&(this.summaryType="genome"),this.validGraphTypes.push("Genome")),this.data.y){if(!(this.data.y||this.data.y.cor||this.data.y.close))return void alert("Dude! there is not a valid data structure");this.data.y.data?(this.isRawData=!0,this.summaryType=this.summaryType&&this.summaryType.match(/iqr|median|mean|cor|sum|max|min|count|gantt/)?this.summaryType:"raw","cor"==this.summaryType?this.graphType="Correlation":"iqr"==this.summaryType?this.graphType="Boxplot":"gantt"==this.summaryType?this.graphType="Gantt":this.data.y[this.summaryType]&&this.isSameObject(this.data.y[this.summaryType],this.data.y.data)&&(this.isRawData=!1),"Gantt"==this.graphType?((!this.ganttStart||this.getVariableIndices(this.ganttStart)<0)&&(this.ganttStart=this.data.y.vars[0]),(!this.ganttEnd||this.getVariableIndices(this.ganttEnd)<0)&&(this.ganttEnd=this.data.y.vars[1]||this.data.y.vars[0]),this.setGanttData()):"Scatter2D"==this.graphType&&"manhattan"==this.scatterType&&this.setManhattanData()):(this.isRawData=!1,this.data.y.iqr1&&this.data.y.qtl1&&this.data.y.median&&this.data.y.qtl3&&this.data.y.iqr3?this.summaryType="iqr":this.data.y.median?this.summaryType="median":this.data.y.mean?this.summaryType="mean":this.data.y.cor?this.summaryType="cor":this.data.y.sum?this.summaryType="sum":this.data.y.max?this.summaryType="max":this.data.y.min?this.summaryType="min":this.data.y.count?this.summaryType="count":this.summaryType=!1),this.validGraphTypes.push("Bar"),this.validGraphTypes.push("Line"),this.validGraphTypes.push("Area"),this.validGraphTypes.push("AreaLine"),this.validGraphTypes.push("BarLine"),this.validGraphTypes.push("Boxplot"),this.validGraphTypes.push("Dotplot"),this.validGraphTypes.push("DotLine"),this.validGraphTypes.push("Heatmap"),this.validGraphTypes.push("Stacked"),this.validGraphTypes.push("StackedLine"),this.validGraphTypes.push("StackedPercent"),this.validGraphTypes.push("StackedPercentLine"),this.validGraphTypes.push("Pie"),this.validGraphTypes.push("Correlation"),this.validGraphTypes.push("Circular"),(this.data.y.smps||this.isDOE)&&(this.data.y.smps.length>2||this.isDOE?(this.validGraphTypes.push("Scatter2D"),this.validGraphTypes.push("ScatterBubble2D"),this.validGraphTypes.push("Scatter3D")):(this.data.y.smps.length>1||this.isDOE)&&this.validGraphTypes.push("Scatter2D"))}this.validGraphTypes.sort(),this.initializeDataAttributes(!1,!1,i)}}},CanvasXpress.prototype.initDataUtils=function(){this.switchVarIdToAnnotation=function(){if(!this.isTransition()){var t=this.data,e=this.meta.data,i=function(){for(var i=0,a="Var-Name-"+i;t.z.hasOwnProperty(a)&&e.z[a];)a="Var-Name-"+ ++i;return a}();t.z[i]=[];for(var a=0;a<t.y.vars.length;a++)t.z[i].push("var"+(a+1));this.updateMetaData("z",i),this.switchVarAnnotationToId(i)}},this.switchVarAnnotationToId=function(t){if(!this.isTransition()){var e=this.data;this.meta.data;if(e.z.hasOwnProperty(t)&&this.isUnique(e.z[t])){var i=this.rebuildDataTableFilter(),a=this.groupingFactors,s=this.cloneObject(e.y.vars),r=this.cloneObject(e.z[t]),n=t.match(/^--/)?t.replace(/^--/,""):"--"+t;e.z[n]=s,e.y.vars=r,delete e.z[t],this.resetMetaData(),a&&a.length>0?(this.ungroupSamples(!0),this.groupSamples(a)):this.draw({func:"switchVarAnnotationToId",par:[t]}),this.removeMenus(),this.rebuildDataTableFilter(i,!0)}else alert("Annotation "+t+" is not unique!")}},this.switchAnnotationToVar=function(t,e){if(!this.isTransition()){var i=this.data,a=this.meta.data;if(i.hasOwnProperty("x")&&i.x.hasOwnProperty(t)){var s=this.rebuildDataTableFilter();a.modified||(a.modified={}),a.modified.z||(a.modified.z={}),a.modified.z[t]||(a.modified.z[t]={});var r=this.groupingFactors;if(this.isGroupedData=!1,i.y.vars.push(t),this.isNumeric(i.x[t]))i.y.data.push(i.x[t]);else{for(var n=[],o=0;o<i.y.smps.length;o++)n.push(a.x[t].order[i.x[t][o]]);i.y.data.push(n),a.modified.x||(a.modified.x={}),a.modified.x[t]||(a.modified.x[t]=this.cloneObject(a.x[t].levels))}if(delete i.x[t],(h=this.getKeys(i.x)).length<1&&delete i.x,i.z){var h=this.getKeys(i.z);for(o=0;o<h.length;o++)i.z[h[o]].push(a.modified.z[t][h[o]]||"")}var l=this.cloneObject(a.modified);this.updateMetaData("x",t,!0),this.updateData(i,!1,!0),this.updateDOE(t,!0),this.meta.data.modified=l,e||(r&&r.length>0?(this.ungroupSamples(!0),this.groupSamples(r)):this.draw({func:"switchAnnotationToVar",par:[t]})),this.removeMenus(),this.rebuildDataTableFilter(s,!0)}}},this.switchVarToAnnotationBulk=function(t){this.stack({func:"switchVarToAnnotationBulk",par:[t]}),this.skipStack=!0;for(var e=0;e<t.length;e++)this.resetAxes(!0),this.switchVarToAnnotation(t[e],e!=t.length-1);this.skipStack=!1},this.switchVarToAnnotation=function(t,e){if(!this.isTransition()){var i=this.getVariableIndices(t);if(i>=0){var a=this.data,s=this.meta.data,r=this.rebuildDataTableFilter();s.modified||(s.modified={}),s.modified.z||(s.modified.z={}),s.modified.z[t]||(s.modified.z[t]={});var n=this.groupingFactors;if(this.isGroupedData=!1,a.x||(a.x={}),s.modified&&s.modified.x&&s.modified.x[t]){for(var o=[],h=0;h<a.y.smps.length;h++)o.push(s.modified.x[t][a.y.data[i][h]]);a.x[t]=o}else a.x[t]=a.y.data[i];if(a.y.vars.splice(i,1),a.y.data.splice(i,1),a.z){var l=this.getKeys(a.z);for(h=0;h<l.length;h++){var c=a.z[l[h]].splice(i,1);s.modified.z[t][l[h]]=c[0]}}var d=this.cloneObject(s.modified);this.updateMetaData("x"),this.updateData(a,!1,!0),this.updateDOE(t),this.meta.data.modified=d,e||(n&&n.length>0?(this.ungroupSamples(!0),this.groupSamples(n)):this.draw({func:"switchVarToAnnotation",par:[t]})),this.removeMenus(),this.rebuildDataTableFilter(r,!0)}}},this.switchSmpIdToAnnotation=function(){if(!this.isTransition()){var t=this.data,e=this.meta.data,i=function(){for(var i=0,a="Smp-Name-"+i;t.x.hasOwnProperty(a)&&e.x[a];)a="Smp-Name-"+ ++i;return a}();t.x[i]=[];for(var a=0;a<t.y.smps.length;a++)t.x[i].push("smp"+(a+1));this.updateMetaData("x",i),this.switchSmpAnnotationToId(i)}},this.switchSmpAnnotationToId=function(t){if(!this.isTransition()){var e=this.data;this.meta.data;if(e.x.hasOwnProperty(t)&&this.isUnique(e.x[t])){var i=this.rebuildDataTableFilter(),a=this.groupingFactors,s=this.cloneObject(e.y.smps),r=this.cloneObject(e.x[t]),n=t.match(/^--/)?t.replace(/^--/,""):"--"+t;e.x[n]=s,e.y.smps=r,delete e.x[t],this.resetMetaData(),a&&a.length>0?(this.ungroupSamples(!0),this.groupSamples(a)):this.draw({func:"switchSmpAnnotationToId",par:[t]}),this.removeMenus(),this.rebuildDataTableFilter(i,!0)}else alert("Annotation "+t+" is not unique!")}},this.switchAnnotationToSmp=function(t,e){if(!this.isTransition()){var i=this.data,a=this.meta.data;if(i.z.hasOwnProperty(t)){var s=this.rebuildDataTableFilter();a.modified||(a.modified={}),a.modified.x||(a.modified.x={}),a.modified.x[t]||(a.modified.x[t]={});var r=this.groupingFactors;if(this.isGroupedData=!1,i.y.smps.push(t),this.isNumeric(i.z[t]))for(var n=0;n<i.y.vars.length;n++)i.y.data[n].push(i.z[t][n]);else{for(n=0;n<i.y.vars.length;n++)i.y.data[n].push(a.z[t].order[i.z[t][n]]);a.modified.z||(a.modified.z={}),a.modified.z[t]||(a.modified.z[t]=this.cloneObject(a.z[t].levels))}if(delete i.z[t],(o=this.getKeys(i.z)).length<1&&delete i.z,i.x)for(var o=this.getKeys(i.x),h=0;h<o.length;h++)i.x[o[h]].push(a.modified.x[t][o[h]]||"");var l=this.cloneObject(a.modified);this.updateMetaData("z",t,!0),this.updateData(i,!1,!0),this.resetAxes(),this.meta.data.modified=l,e||(r&&r.length>0?(this.ungroupSamples(!0),this.groupSamples(r)):this.draw({func:"switchAnnotationToSmp",par:[t]})),this.removeMenus(),this.rebuildDataTableFilter(s,!0)}}},this.switchSmpToAnnotationBulk=function(t){this.stack({func:"switchSmpToAnnotationBulk",par:[t]}),this.skipStack=!0;for(var e=0;e<t.length;e++)this.resetAxes(!0),this.switchSmpToAnnotation(t[e],e!=t.length-1);this.skipStack=!1},this.switchSmpToAnnotation=function(t,e){if(!this.isTransition()){var i=this.getSampleIndices(t,!0);if(i>=0){var a=this.data,s=this.meta.data,r=this.rebuildDataTableFilter();s.modified||(s.modified={}),s.modified.x||(s.modified.x={}),s.modified.x[t]||(s.modified.x[t]={});var n=this.groupingFactors;if(this.isGroupedData=!1,a.z||(a.z={}),a.y.smps.splice(i,1),a.z[t]=[],s.modified&&s.modified.z&&s.modified.z[t])for(var o=0;o<a.y.vars.length;o++){var h=a.y.data[o].splice(i,1);a.z[t].push(s.modified.z[t][h])}else for(o=0;o<a.y.vars.length;o++)a.z[t].push(a.y.data[o].splice(i,1));if(a.x){var l=this.getKeys(a.x);for(o=0;o<l.length;o++){var c=a.x[l[o]].splice(i,1);s.modified.x[t][l[o]]=c[0]}}var d=this.cloneObject(s.modified);this.updateMetaData("z"),this.updateData(a,!1,!0),this.resetAxes(),this.meta.data.modified=d,e||(n&&n.length>0?(this.ungroupSamples(!0),this.groupSamples(n)):this.draw({func:"switchSmpToAnnotation",par:[t]})),this.removeMenus(),this.rebuildDataTableFilter(r,!0)}}},this.switchNumericToString=function(t,e,i){if(!this.isTransition()){var a=e?"x":"z",s=e?"smps":"vars";if(t&&this.data[a]&&this.data[a][t]&&"Numeric"==this.meta.data[a][t].type){for(var r=this.rebuildDataTableFilter(),n=0;n<this.data.y[s].length;n++)this.data[a][t][n]=this.data[a][t][n]+"\0";e?this.updateMetaData("x",t):this.updateMetaData("z",t),this.rebuildDataTableFilter(r,!0),this.removeMenus(),i||this.draw({func:"switchNumericToString",par:[t,e]})}}},this.switchStringToNumeric=function(t,e,i){if(!this.isTransition()){var a=e?"x":"z",s=e?"smps":"vars";if(t&&this.data[a]&&this.data[a][t]&&"String"==this.meta.data[a][t].type){for(var r=this.rebuildDataTableFilter(),n=0;n<this.data.y[s].length;n++)this.data[a][t][n]=this.data[a][t][n].replace("\0","");e?this.updateMetaData("x",t):this.updateMetaData("z",t),this.rebuildDataTableFilter(r,!0),this.removeMenus(),i||this.draw({func:"switchStringToNumeric",par:[t,e]})}}},this.getSegregationObject=function(t){var e={lay:{},idx:[],ids:{},nme:[],n:0};this.isHistogramLayout()&&(e.axes=[]);var i="x"==t?"smps":"vars",a="x"==t?this.segregateSamplesBy[0]:this.segregateVariablesBy[0],s=this.isHistogramLayout(),r=!1;"variable"==a?(t="y",a="vars"):"sample"==a&&(t="y",a="smps");var n=!(!this.data.hasOwnProperty(t)||!this.data[t].hasOwnProperty(a))&&this.data;if(s&&!n&&this.dataStndBy&&this.dataStndBy.hasOwnProperty(t)&&this.dataStndBy[t].hasOwnProperty(a)?("z"==t&&(r=this.meta.data.z[a].levels,t="y",a="smps",i="smps"),n=!(!this.data.hasOwnProperty(t)||!this.data[t].hasOwnProperty(a))&&this.data):s&&this.colorBy&&this.segregateSamplesBy.length&&this.dataStndBy&&(r=this.dataStndBy.y.smps),n){for(var o=0;o<n[t][a].length;o++){var h=n[t][a][o];e.lay.hasOwnProperty(h)||(e.lay[h]=[],e.ids[h]=[],e.n++),e.lay[h].push(n.y[i][o]),e.ids[h].push(o)}for(var h in e.lay)e.nme.push(h),e.idx.push(e.lay[h]);if(s)if(this.segregateVariablesBy.length)if(r)for(o=0;o<r.length;o++){for(var l=[],c=0;c<e.nme.length;c++)(e.nme[c].match(":")&&e.nme[c].match(r[o])||!e.nme[c].match(":")&&e.nme[c]==r[o])&&l.push(e.nme[c]);l.length||(l=[this.dataStndBy.y.smps[o]]),e.axes.push({xAxis:["Bin"],yAxis:l})}else for(o=0;o<this.dataStndBy.y.smps.length;o++){for(l=[],c=0;c<e.nme.length;c++)e.nme[c].match(this.dataStndBy.y.smps[o])&&l.push(e.nme[c]);l.length||(l=[this.dataStndBy.y.smps[o]]),e.axes.push({xAxis:["Bin"],yAxis:l})}else if(r)for(o=0;o<r.length;o++){for(l=[],c=0;c<e.nme.length;c++)(e.nme[c].match(":")&&e.nme[c].match(r[o])||!e.nme[c].match(":")&&e.nme[c]==r[o])&&l.push(e.nme[c]);l.length||(l=[this.dataStndBy.y.smps[o]]),e.axes.push({xAxis:["Bin"],yAxis:l})}else for(o=1;o<e.nme.length;o++)e.axes.push({xAxis:["Bin"],yAxis:[e.nme[o]]});return e}return!1},this.segregate=function(t,e,i,a){if(this.isSegregatable()){var s=function(t,e,i){return i.indexOf(t)===e},r="segregate"+t+"By",n="desegregate"+t,o="Samples"==t?"segregateVariablesBy":"segregateSamplesBy",h="Samples"==t?"x":"z",l=this[r],c=this.cloneObject(this.grpIndices),d=!!this.data.w&&this.cloneObject(this.data.w);if(a){if(this.modifyObjectArray(e,!1,r,!0,!1),0==this[r].length)return void this[n](i)}else if(0==this[r].length&&(this.isArray(e)||(e=[e]),this[r]=e,!this.validateSegregation()))return void(this[r]=l);if(this.isArray(this[r])||(this[r]=[this[r]]),this.treemapBy.length&&this.segregateSamplesBy.length&&this.segregateVariablesBy.length)return this.removeMenus(),alert("Ooops. Operation not allowed!"),void(this[r]=[]);if(("sample"==e||this.segregateSamplesBy.includes("sample"))&&this.segregateSamplesBy.length+this.segregateVariablesBy.length>1)return this.removeMenus(),alert("Ooops. Operation not allowed!"),void("sample"==e||this.segregateSamplesBy.length>1?this.segregateSamplesBy.pop():this.segregateVariablesBy.pop());if(this.isGroupedData&&(this.groupingFactorsStdBy=this.groupingFactors,this.ungroupSamples(!0,!0)),this.resetLayout(),this.isCreateHistogram&&"Variables"==t&&this.isCreateHistogram.factor!=this[r][0]&&this.isCreateHistogram.factor!=this.colorBy&&this.isCreateHistogram.factor!=e&&(this.removeHistogram(!0),this.createHistogram(this[r][0]||this.colorBy||e,!0)),1==this[r].length){var p=this.getSegregationObject(h);if(this[o].length>0)this.segregateSamplesVariables(i,"segregateVariablesBy"==o,{func:"segregate",par:[t,e,i,a]}),i=!0;else{this.data.l={},"Samples"==t?this.data.l.smps=[]:this.data.l.vars=[],this.data.l.ids=[],this.data.l.weight=[],this.data.l.type=[],this.data.l.name=[],this.groupingFactorsStdBy&&(this.data.l.group=this.groupingFactorsStdBy,this.data.l.groupLayout=[]);for(var g in p.lay)"Samples"==t?this.data.l.smps.push(p.lay[g]):this.data.l.vars.push(p.lay[g]),this.data.l.ids.push(p.ids[g]),this.data.l.type.push(this.graphType),this.data.l.name.push(g);if(this.groupingFactorsStdBy&&d)for(var u=0;u<this.data.l.ids.length;u++){this.data.l.groupLayout[u]=[];for(var m=0;m<this.data.l.ids[u].length;m++)for(var f=0;f<d.grps.length;f++)if(d.grps[f].includes(this.data.l.ids[u][m])){this.data.l.groupLayout[u].push(f);break}this.data.l.groupLayout[u]=this.data.l.groupLayout[u].filter(s)}this.layoutComb="Circular"!=this.graphType,this.showAnimationTemp=this.showAnimation,this.showAnimation=!1;var y=this.isHistogram?p.axes.length:"Samples"==t?this.data.l.smps.length:this.data.l.vars.length,x=(g=Math.ceil(Math.sqrt(y)),"rows"==this.layoutType?y:"cols"==this.layoutType?1:g*(g-1)>=y?g-1:g),b="cols"==this.layoutType?y:"rows"==this.layoutType?1:x*(g-1)>=y?g-1:g;for(var g in this.layout=x+"X"+b,this.layoutTopologyCurrent&&Number(this.layoutTopologyCurrent[0])*Number(this.layoutTopologyCurrent[1])==y&&(this.layoutTopology=this.layoutTopologyCurrent[0]+"X"+this.layoutTopologyCurrent[1]),p.lay)this.data.l.weight.push([this.layoutTopology?1/this.layoutTopology.split(/X/i)[1]:1/b,this.layoutTopology?1/this.layoutTopology.split(/X/i)[0]:1/x]);this.graphType.match(/Scatter2D/)&&this.isCreateHistogram&&(this.data.l.axes=p.axes),this.isValidLayout()}}else{var v={},A={},w="Samples"==t?this.getSampleLevelsByAnnotation(this.segregateSamplesBy[0]):this.getVariableLevelsByAnnotation(this.segregateVariablesBy[0]),C="Samples"==t?this.getSampleLevelsByAnnotation(this.segregateSamplesBy[1]):this.getVariableLevelsByAnnotation(this.segregateVariablesBy[1]),T=w;"cols"==this.layoutType&&(w=C,C=T);var S=1/w.length,D=1/C.length;if(w.length&&C.length){for(u=0;u<w.length;u++){v[w[u]]={},A[w[u]]={};for(m=0;m<C.length;m++)if(v[w[u]][C[m]]=[],A[w[u]][C[m]]=[],"Samples"==t)for(f=0;f<this.data.y.smps.length;f++)this.data[h][this[r]["cols"==this.layoutType?1:0]][f]==w[u]&&this.data[h][this[r]["cols"==this.layoutType?0:1]][f]==C[m]&&(v[w[u]][C[m]].push(this.data.y.smps[f]),A[w[u]][C[m]].push(f));else for(f=0;f<this.data.y.vars.length;f++)this.data[h][this[r]["cols"==this.layoutType?1:0]][f]==w[u]&&this.data[h][this[r]["cols"==this.layoutType?0:1]][f]==C[m]&&(v[w[u]][C[m]].push(this.data.y.vars[f]),A[w[u]][C[m]].push(f))}this.data.l={},"Samples"==t?this.data.l.smps=[]:this.data.l.vars=[],this.data.l.ids=[],this.data.l.weight=[],this.data.l.type=[],this.data.l.name=[],this.groupingFactorsStdBy&&(this.data.l.group=this.groupingFactorsStdBy,this.data.l.groupLayout=[]);for(u=0;u<w.length;u++)for(m=0;m<C.length;m++)this.layoutRemoveEmpty&&"wrap"==this.layoutType&&v[w[u]][C[m]].length<1||(this.data.l.type.push(this.graphType),this.data.l.name.push([w[u],C[m]]),"Samples"==t?(this.data.l.smps.push(v[w[u]][C[m]]),this.data.l.ids.push(A[w[u]][C[m]])):(this.data.l.vars.push(v[w[u]][C[m]]),this.data.l.ids.push(A[w[u]][C[m]])));if(this.groupingFactorsStdBy&&d)for(u=0;u<this.data.l.ids.length;u++){this.data.l.groupLayout[u]=[];for(m=0;m<this.data.l.ids[u].length;m++)for(f=0;f<d.grps.length;f++)if(d.grps[f].includes(this.data.l.ids[u][m])){this.data.l.groupLayout[u].push(f);break}this.data.l.groupLayout[u]=this.data.l.groupLayout[u].filter(s)}var M=0;for(m=0;m<C.length;m++){var k=0;for(u=0;u<w.length;u++)v[w[u]][C[m]].length>0&&"wrap"==this.layoutType&&k++;M=Math.max(M,k)}var L=0;for(u=0;u<w.length;u++){var I=0;for(m=0;m<C.length;m++)v[w[u]][C[m]].length>0&&"wrap"==this.layoutType&&I++;L=Math.max(L,I)}y=this.data.l.name.length;this.layoutRemoveEmpty&&"wrap"==this.layoutType&&(L=(M=L*(M-1)>y?M-1:M)*(L-1)>y?L-1:L),w.length*C.length>y?w.length==y?(M=y,L=1):C.length==y?(M=1,L=y):M=(L=Math.ceil(Math.sqrt(y)))*(L-1)>=y?L-1:L:(M=w.length,L=C.length),S=1/M,D=1/L,this.layoutTopologyCurrent&&Number(this.layoutTopologyCurrent[0])*Number(this.layoutTopologyCurrent[1])==y&&(this.layoutTopology=this.layoutTopologyCurrent[0]+"X"+this.layoutTopologyCurrent[1]);for(u=0;u<y;u++)this.data.l.weight.push([this.layoutTopology?1/this.layoutTopology.split(/X/i)[1]:D,this.layoutTopology?1/this.layoutTopology.split(/X/i)[0]:S]);this.layoutComb="Circular"!=this.graphType,this.showAnimationTemp=this.showAnimation,this.showAnimation=!1,this.layout=this.layoutRemoveEmpty&&"wrap"==this.layoutType?M+"X"+L:w.length+"X"+C.length}else alert("Incompatible Segregation"),"Samples"==t?this.segregateSamplesBy.pop():this.segregateVariablesBy.pop(),this.removeMenus();this.isValidLayout()}this.setColorScheme(),this.resetCorrelation(),this.checkKMPlot(),this.grpIndices=c,d&&(this.data.w=d),i||this.draw({func:"segregate",par:[t,e,i,a]})}},this.segregateVariables=function(t,e,i){this.segregate("Variables",t,e,i)},this.segregateSamples=function(t,e,i){this.segregate("Samples",t,e,i)},this.segregateSamplesVariables=function(t,e,i){if(this.isSegregatable()){var a=this.getSegregationObject("x"),s=this.getSegregationObject("z"),r=a.idx,n=s.idx,o=a.nme,h=s.nme;this.isGroupedData&&(this.groupingFactorsStdBy=this.groupingFactors,this.ungroupSamples(!0,!0)),delete this.data.l,this.data.l={},this.data.l.smps=r,this.data.l.vars=n,this.data.l.weight=[],this.data.l.type=[],this.data.l.name=[],this.groupingFactorsStdBy&&(this.data.l.group=this.groupingFactorsStdBy),this.layoutTopologyCurrent&&Number(this.layoutTopologyCurrent[0])*Number(this.layoutTopologyCurrent[1])==n.length*r.length&&(this.layoutTopology=this.layoutTopologyCurrent[0]+"X"+this.layoutTopologyCurrent[1]);var l=this.layoutTopology?1/this.layoutTopology.split(/X/i)[0]:1/r.length,c=this.layoutTopology?1/this.layoutTopology.split(/X/i)[1]:1/n.length;if("cols"==this.layoutType&&e||"rows"==this.layoutType&&!e){for(var d=0;d<r.length;d++)for(var p=0;p<n.length;p++)this.data.l.weight.push([c,l]),this.data.l.type.push(this.graphType),this.data.l.name.push([o[d],h[p]]);this.layout=r.length+"X"+n.length}else{for(d=0;d<n.length;d++)for(p=0;p<r.length;p++)this.data.l.weight.push([l,c]),this.data.l.type.push(this.graphType),this.data.l.name.push([h[d],o[p]]);this.layout=n.length+"X"+r.length}this.layoutComb=!0,this.layoutTypeVariablesFirst=e,this.isValidLayout(),this.resetCorrelation(),t?this.groupingFactorsStdBy&&this.groupingFactorsStdBy.length&&this.groupSamples(this.groupingFactorsStdBy,!1,!1,!1,!0):this.draw({func:i.func,par:i.par})}},this.segregateVariablesAndOrSamples=function(t,e,i){e&&e.length&&this.segregate("Samples",e,i),t&&t.length&&this.segregate("Variables",t,i)},this.desegregate=function(t,e){if(this.isSegregatable()){this.showAnimation=this.showAnimationTemp,this.resetLayout();var i="Samples"==t?"segregateSamplesBy":"segregateVariablesBy",a="Samples"==t?"segregateSamples":"segregateVariables";if(this[i].length>0?this[a](this[i],e):this.isValidLayout(),this.groupingFactorsStdBy&&(this.groupSamples(this.groupingFactorsStdBy,!1,!1,!0,!0),this.groupingFactorsStdBy=!1),this.isHistogram&&!this.layoutValid){this.yAxis=this.cloneObject(this.data.y.smps),this.yAxis.shift(),this.yAxisIndices=this.getSampleIndices(this.yAxis);var s=this.isCreateHistogram.isAnnt;this.removeHistogram(!0),this[i]=[],this.createHistogram(s,!0)}else this.graphType.match(/Scatter/)&&(this.meta.data.d.a={},this.meta.data.d.s={},this.resetAxes());this.resetCorrelation(),e||(delete this.layoutConfig,this.draw({func:"desegregate",par:[t,e],prop:{segregateSamplesBy:this.segregateSamplesBy,segregateVariablesBy:this.segregateVariablesBy}}))}},this.desegregateVariables=function(t){this.isSegregatable()&&this.desegregate("Variables",t)},this.desegregateSamples=function(t){this.isSegregatable()&&this.desegregate("Samples",t)},this.desegregateVariablesSamples=function(t){this.isSegregatable()&&(this.segregateVariablesBy.length&&(this.segregateVariablesBy=[],this.desegregate("Variables",t)),this.segregateSamplesBy.length&&(this.segregateSamplesBy=[],this.desegregate("Samples",t)))},this.setScatterPlotMatrix=function(){if(this.graphType.match(/Scatter/)){var t,e,i,a,s,r=this,n=function(t){for(var e={y:{vars:[],smps:[],data:[]}},i=!(!r.data.z||!r.data.z.hasOwnProperty(r.scatterPlotMatrix))&&r.scatterPlotMatrix,a=!!i&&r.meta.data.z[r.scatterPlotMatrix].order,s=i?r.meta.data.z[r.scatterPlotMatrix].levels.length:1,n=r.getDataForSmpGrpAtIndex(t),o=0;o<n.length;o++)e.y.data.push([i?a[r.data.z[i][o]]:0,n[o]]),e.y.vars.push("Smp"+(o+1));return e.y.smps=[i||"Global",r.data.y.smps[t]],i&&(e.z={},e.z[i]=r.data.z[i]),{data:e,params:{xAxis:[i||"Global"],yAxis:[r.data.y.smps[t]],setMinX:-.5,setMaxX:s-.5,scatterType:"boxplot",graphOrientation:"vertical",scatterPlotMatrix:i||!0}}},o=this.scatterPlotMatrixType.match(/first/)?this.data.y.smps.length-1:this.data.y.smps.length,h=Math.ceil(Math.sqrt(o));if(this.data.l={},this.data.l.smps=[],this.data.l.weight=[],this.data.l.type=[],this.data.l.stype=[],this.data.l.data=[],this.data.l.group=!(!this.data.z||!this.data.z.hasOwnProperty(this.scatterPlotMatrix))&&this.scatterPlotMatrix,this.data.l.params=[],this.xAxisTemp=this.xAxisTemp||this.xAxis,this.xAxis=[],this.yAxisTemp=this.yAxisTemp||this.yAxis,this.yAxis=[],this.zAxisTemp=this.zAxisTemp||this.zAxis,this.zAxis=[],this.scatterPlotMatrixType.match(/first/)){t=1/(i=h),e=1/(a=h*(h-1)>=o?h-1:h),s=1;for(l=0;l<a;l++)for(c=0;c<i;c++){if(this.data.l.weight.push([t,e]),this.data.l.type.push(this.graphType),!this.data.y.smps[s]){this.data.l.smps.push({});break}this.data.l.smps.push({xAxis:[this.data.y.smps[0]],yAxis:[this.data.y.smps[s]]}),s++}}else{this.scatterPlotMatrixType.match(/all/)&&o++,t=1/(i=o),e=1/(a=o);for(var l=0;l<o;l++)for(var c=0;c<o;c++)if(this.data.l.weight.push([t,e]),this.data.l.type.push(this.scatterPlotMatrixType.match(/all/)&&l==o-1&&c!=o-1?"Boxplot":this.graphType),this.data.l.data.push(!1),this.data.l.params.push(!1),l==c)this.scatterPlotMatrixType.match(/all/)&&l==o-1?(this.data.l.smps.push({}),this.data.l.stype.push(!1)):this.scatterPlotMatrixType.match(/correlationHistogram/)?(this.data.l.smps.push({xAxis:[this.data.y.smps[c]],yAxis:[this.data.y.smps[l]]}),this.data.l.stype.push("Histogram")):this.scatterPlotMatrixType.match(/correlationDensity|all/)?(this.data.l.smps.push({xAxis:[this.data.y.smps[c]],yAxis:[this.data.y.smps[l]]}),this.data.l.stype.push("Density")):(this.data.l.smps.push({}),this.data.l.stype.push(!1));else if(this.scatterPlotMatrixType.match(/all/)&&l==o-1)this.data.l.smps.push({xAxis:[this.data.y.smps[c]],yAxis:[this.data.y.smps[l]]}),this.data.l.stype.push("Histogram");else if(this.scatterPlotMatrixType.match(/all/)&&c==o-1){this.data.l.smps.push(this.data.y.smps[l]),this.data.l.stype.push("Boxplot");var d=n(l);this.data.l.data[this.data.l.data.length-1]=d.data,this.data.l.params[this.data.l.params.length-1]=d.params}else this.scatterPlotMatrixType.match(/upper/)?c>l?(this.data.l.stype.push("Scatter2D"),this.data.l.smps.push({xAxis:[this.data.y.smps[c]],yAxis:[this.data.y.smps[l]]})):(this.data.l.stype.push(!1),this.data.l.smps.push({})):this.scatterPlotMatrixType.match(/lower/)?l>c?(this.data.l.stype.push("Scatter2D"),this.data.l.smps.push({xAxis:[this.data.y.smps[c]],yAxis:[this.data.y.smps[l]]})):(this.data.l.stype.push(!1),this.data.l.smps.push({})):this.scatterPlotMatrixType.match(/both/)?l!=c?(this.data.l.stype.push("Scatter2D"),this.data.l.smps.push({xAxis:[this.data.y.smps[c]],yAxis:[this.data.y.smps[l]]})):this.data.l.smps.push({}):c>l?(this.data.l.stype.push(!1),this.data.l.smps.push({})):(this.data.l.stype.push("Scatter2D"),this.data.l.smps.push({xAxis:[this.data.y.smps[c]],yAxis:[this.data.y.smps[l]]}))}this.layout=a+"X"+i,this.layoutComb=!0,this.showAnimationTemp=this.showAnimation,this.showAnimation=!1,this.isValidLayout()}},this.unsetScatterPlotMatrix=function(){if(this.graphType.match(/Scatter/)){if(this.xAxisTemp&&this.xAxisTemp.length>0&&(this.xAxis=this.xAxisTemp,this.xAxisTmp=[]),this.yAxisTemp&&this.yAxisTemp.length>0&&(this.yAxis=this.yAxisTemp,this.yAxisTmp=[]),this.zAxisTemp&&this.zAxisTemp.length>0&&(this.zAxis=this.zAxisTemp,this.zAxisTmp=[]),!this.xAxis||!this.yAxis){this.xAxis=[],this.yAxis=[],this.xAxisIndices=[],this.yAxisIndices=[],this.xAxis=[this.data.y.smps[0]];for(var t=1;t<this.data.y.smps.length;t++)this.yAxis.push(this.data.y.smps[t]);this.xAxisIndices=this.getSampleIndices(this.xAxis),this.yAxisIndices=this.getSampleIndices(this.yAxis),this.initializeAxis()}this.scatterPlotMatrix=!1,this.showAnimationTemp&&(this.showAnimation=this.showAnimationTemp),this.resetLayout(),this.isValidLayout()}},this.setMultiplePies=function(){if(this.graphType.match(/Pie/)){var t,e,i=this.xAxis.length;if(this.layout){var a=this.layout.split(/X/i);(t=parseInt(a[0]))*(e=parseInt(a[1]))<i&&(t=Math.ceil(Math.sqrt(i)),e=Math.floor(Math.sqrt(i)),this.layout=t+"X"+e)}else t=Math.ceil(Math.sqrt(i)),e=Math.floor(Math.sqrt(i)),this.layout=t+"X"+e;var s=1/t,r=1/e;delete this.layoutParams,delete this.data.l,this.data.l={},this.data.l.smps=[],this.data.l.weight=[],this.data.l.type=[];for(var n=0;n<i;n++)this.data.l.smps.push([this.xAxis[n]]),this.data.l.weight.push([r,s]),this.data.l.type.push(this.graphType);this.layoutComb=!0,this.showAnimationTemp=this.showAnimation,this.showAnimation=!1,this.isValidLayout()}},this.createPie=function(t,e){if(!this.isTransition()){var i=!!(this.groupingFactors&&this.groupingFactors.length>0)&&this.groupingFactors,a={data:{},smps:{}},s={y:{data:[],vars:[],smps:[],pie:[]}};if(CanvasXpress.cacheImagesReady){var r,n;i&&this.ungroupSamples(!0),this.isDOE?(r=this.dataStndBy.l.doe,n=this.isDOE>1?this.dataStndBy.z[t]:this.dataStndBy.x[t]):(r=this.smpIndices,n=this.data.x[t]);for(var o=0;o<r.length;o++){var h=n[r[o]];a.data[h]||(a.data[h]=0,a.smps[h]=[]),a.data[h]++,a.smps[h].push(r[o])}for(var o in s.y.smps.push(t),a.data)s.y.vars.push(o),s.y.data.push([a.data[o]]),s.y.pie.push(a.smps[o]);if(this.xAxis=!1,this.yAxis=!1,this.isDOE){if(this.graphType="Pie",e)return s;this.initializeData(s)}else this.dataStndBy=this.data,this.configStndBy=this.getConfig(),this.configStndBy.isPie=!1,this.data={},this.graphType="Pie",this.isPie=!0,this.isPieGroup=i,this.initializeData(s),this.removeMenus(),this.draw({func:"createPie",par:[t]})}else setTimeout((function(){that.createPie(t)}),200)}},this.removePie=function(t){if(!this.isTransition()){var e=this.isPieGroup;this.isPie=!1,this.isPieGroup=!1,this.removeMenus(),this.switchData(!1,!0),e?this.groupSamples(e,!1,!1,!1,t):t||this.draw({func:"removePie"})}},this.createBin2d=function(t){"bin2d"!=this.scatterType&&(this.scatterType="bin2d",this.removeMenus(),t||this.draw({func:"createBin2d"}))},this.removeBin2d=function(t){"bin2d"==this.scatterType&&(this.scatterType=!1,this.removeMenus(),this.meta.data.b={l:[],g:!1,c:!1},t||this.draw({func:"removeBin2d"}))},this.modifyContour=function(t,e){this.removeMenus(),this.isContour=t||!0,e||this.draw({func:"modifyContour",par:[t,e]})},this.isSkipContour=function(){if(this.layoutValid&&this.scatterPlotMatrix){var t=!!(this.dataStndBy&&this.dataStndBy.l&&this.dataStndBy.l.stype)&&this.dataStndBy.l.stype;if(null==this.layoutCurrent)return!0;if(t&&!t[this.layoutCurrent].toString().match(/Scatter2D/))return!0}return!1},this.getSetContour=function(){var t=this.meta.data.q;if(this.isContour){if(t.g.length&&t.g[0].stat!=this.contourStat&&(this.meta.data.q={l:{},g:[],b:!1},this.createContour(this.isContour,!0,!0),t=this.meta.data.q),!0!==this.isContour&&this.graphType.match(/Scatter/)){var e=[this.xAxisIndices[0],this.yAxisIndices[0],this.layoutCurrent].join(":");return this.layoutValid?(t.l.hasOwnProperty(e)||this.createContour(this.isContour,!0),t.l[e]):(t.l[this.isContour]||this.createContour(this.isContour,!0),t.l[this.isContour])}if(this.graphType.match(/Scatter/)){e=[this.xAxisIndices[0],this.yAxisIndices[0]].join(":");return this.layoutValid?(t.l.hasOwnProperty(e)||this.createContour(!1,!0),t.l[e]):(t.g.length||this.createContour(!1,!0),t.g)}if("Heatmap"==this.graphType){if(this.layoutValid){e=this.layoutCurrent.toString();return t.l.hasOwnProperty(e)||this.createContour(!1,!0),t.l[e]}return t.g.length||this.createContour(!1,!0),t.g}}return!1},this.createContour=function(t,e,i){var a=this;this.removeMenus(),this.isContour=t||!0;var s=this.meta.data.q,r=this.layoutValid&&!1===this.layoutCurrent||i,n=0,o=function(t,e){if("ndensity"!=a.contourStat&&a.layoutValid&&!1!==a.layoutCurrent&&!0!==a.isContour&&a.graphType.match(/Scatter/)&&s.g.length)return s.g[0].data.colorBrew;switch(a.contourStat){case"density":return a.getColorBrew(a.getCustomColorScheme(t.length,a.contourColorScheme),e[0],e[1],null,!1,!0);case"ndensity":return a.getColorBrew(a.getCustomColorScheme(t.length,a.contourColorScheme),0,1,null,!1,!0);case"count":return a.getColorBrew(a.getCustomColorScheme(t.length,a.contourColorScheme),0,e[1]*l(),null,!1,!0)}},h=function(t,e){var i=a.getAxisDataBySample([a[t+"AxisIndices"][0]],!1,e),s=t.toUpperCase();return a.setMinX||a.setMaxX||a.setMinY||a.setMaxY?(i.unshift(null!=a["setMin"+s]&&a["setMin"+s]<a[t+"AxisMin"]?a["setMin"+s]:a[t+"AxisMin"]),i.push(null!=a["setMax"+s]&&a["setMax"+s]>a[t+"AxisMax"]?a["setMax"+s]:a[t+"AxisMax"])):a.layoutValid&&(i.unshift(a[t+"AxisMin"]),i.push(a[t+"AxisMax"])),i},l=function(){return"ndensity"!=a.contourStat&&a.layoutValid&&!1!==a.layoutCurrent&&!0!==a.isContour&&a.graphType.match(/Scatter/)&&s.g.length?s.g[0].data.max:n},c=function(t){if("ndensity"!=a.contourStat&&a.layoutValid&&!1!==a.layoutCurrent&&!0!==a.isContour&&a.graphType.match(/Scatter/)&&s.g.length)return s.g[0].data.levels;var e=[];if(a.contourLevels.length)return a.contourLevels;var i=Number(a.contourLevelWidth),r=a[a.axisAlgorithm](t[0],t[1],a.contourLevelNumber),n=r[r.length-1],o=r[0];if(!i)return r.push(n+(r[1]-r[0])),r;for(;o<=n;)e.push(o),o+=i;return e.push(o+i),e},d=function(t,e,i,s){var r=[],n=t.length;e.length*n!=i.length&&(i=function(t){for(var e=[],i=h("x",t),s=h("y",t),r=h("z",t),n={},o=0;o<i.length;o++)n[i[o].toString()+":"+s[o].toString()]=r[o];i=a.unique(i).sort(),s=a.unique(s).sort();for(o=0;o<i.length;o++)for(var l=i[o].toString(),c=0;c<s.length;c++){var d=s[c].toString();n.hasOwnProperty(l+":"+d)?e.push(n[l+":"+d]):e.push(null)}return e}(s));for(var o=0;o<t.length;o++)for(var l=0;l<e.length;l++)r.push(i[o+l*n]);return r};if(!0!==this.isContour&&this.graphType.match(/Scatter/))for(var p=this.getLevelsByAnnotation(this.isContour,this.varIndices,"z"),g=0;g<p.length;g++){var u=this.getVariablesSamplesByAnnotationLevel(this.isContour,p[g],this.varIndices,"z");n=Math.max(n,u.length)}else n="Heatmap"==this.graphType?this.varIndices.length*this.smpIndices.length:this.varIndices.length;if(!0!==this.isContour&&this.graphType.match(/Scatter/)&&!r){if("Numeric"==this.meta.data.z[this.isContour].type)return this.isContour=!1,void alert("Contour by Numeric factor not allowed");var m=!!this.layoutValid&&[this.xAxisIndices[0],this.yAxisIndices[0],this.layoutCurrent].join(":");for(p=this.getLevelsByAnnotation(this.isContour,this.varIndices,"z"),g=0;g<p.length;g++){if(!((C=(u=this.getVariablesSamplesByAnnotationLevel(this.isContour,p[g],this.varIndices,"z")).length)<2))if("ScatterBubble2D"==this.graphType&&this.xAxisIndices&&this.yAxisIndices){var f=d(v=this.unique(h("x",u)).sort(),A=this.unique(h("y",u)).sort(),h("z",u),u),y=c(M=this.range(f)),x=this.filledContour(v,A,f,y),b=this.contour(v,A,f,y);(x||b)&&(m?(s.l.hasOwnProperty(m)||(s.l[m]=[]),s.l[m].push({name:p[g],data:{filled:x,lines:b,levels:y,colorBrew:o(y,M),range:M,n:C,max:l()}})):(s.l.hasOwnProperty(this.isContour)||(s.l[this.isContour]=[]),s.l[this.isContour].push({name:p[g],data:{filled:x,lines:b,levels:y,colorBrew:o(y,M),range:M,n:C,max:l()}})))}else if("Scatter2D"==this.graphType&&this.xAxisIndices&&this.yAxisIndices&&!this.isSkipContour()){var v=h("x",u),A=h("y",u),w=this.kde2d(v,A);y=c(M=this.range(w.z)),x=this.filledContour(w.x,w.y,w.z,y),b=this.contour(w.x,w.y,w.z,y);(x||b)&&(m?(s.l.hasOwnProperty(m)||(s.l[m]=[]),s.l[m].push({name:p[g],data:{filled:x,lines:b,kde2d:w,levels:y,colorBrew:o(y,M),range:M,n:C,max:l()}})):(s.l.hasOwnProperty(this.isContour)||(s.l[this.isContour]=[]),s.l[this.isContour].push({name:p[g],data:{filled:x,lines:b,kde2d:w,levels:y,colorBrew:o(y,M),range:M,n:C,max:l()}})))}}}else if("ScatterBubble2D"==this.graphType&&this.xAxisIndices&&this.yAxisIndices){m=!!this.layoutValid&&[this.xAxisIndices[0],this.yAxisIndices[0]].join(":"),f=d(v=this.unique(h("x")),A=this.unique(h("y")),h("z")),y=c(M=this.range(f)),x=this.filledContour(v,A,f,y),b=this.contour(v,A,f,y);var C=this.varIndices.length;(x||b)&&(m&&!r?(s.l.hasOwnProperty(m)||(s.l[m]=[]),s.l[m].push({name:this.data.y.smps[this.xAxisIndices[0]]+":"+this.data.y.smps[this.yAxisIndices[0]]+":"+this.data.y.smps[this.zAxisIndices[0]],data:{filled:x,lines:b,levels:y,colorBrew:o(y,M),range:M,n:C,max:l()}})):s.g.push({name:"Global",stat:this.contourStat,data:{filled:x,lines:b,levels:y,colorBrew:o(y,M),range:M,n:C,max:l()}}))}else if("Heatmap"==this.graphType){m=!!this.layoutValid&&this.layoutCurrent.toString(),v=this.varIndices,A=this.isGroupedData?this.grpIndices:this.smpIndices,C=this.varIndices.length*this.smpIndices.length;this.setRangeData();f=[];for(var T=0;T<A.length;T++)for(var S=0;S<v.length;S++)f.push(this.getDataAtPos(v[S],A[T])-this.minData);y=c(M=this.range(f)),x=this.filledContour(v,A,f,y),b=this.contour(v,A,f,y);(x||b)&&(m?(s.l.hasOwnProperty(m)||(s.l[m]=[]),s.l[m].push({name:m,data:{filled:x,lines:b,levels:y,colorBrew:o(y,M),range:M,n:C,max:l()}})):s.g.push({name:"Global",stat:this.contourStat,data:{filled:x,lines:b,levels:y,colorBrew:o(y,M),range:M,n:C,max:l()}}))}else if("Scatter2D"==this.graphType&&this.xAxisIndices&&this.yAxisIndices&&!this.isSkipContour()){m=!!this.layoutValid&&[this.xAxisIndices[0],this.yAxisIndices[0]].join(":"),v=h("x"),A=h("y"),w=this.kde2d(v,A),y=c(M=this.range(w.z)),x=this.filledContour(w.x,w.y,w.z,y),b=this.contour(w.x,w.y,w.z,y),C=this.varIndices.length;(x||b)&&(m&&!r?(s.l.hasOwnProperty(m)||(s.l[m]=[]),s.l[m].push({name:this.data.y.smps[this.xAxisIndices[0]]+":"+this.data.y.smps[this.yAxisIndices[0]],data:{filled:x,lines:b,kde2d:w,levels:y,colorBrew:o(y,M),range:M,n:C,max:l()}})):s.g.push({name:"Global",stat:this.contourStat,data:{filled:x,lines:b,kde2d:w,levels:y,colorBrew:o(y,M),range:M,n:C,max:l()}}))}if(s.l){var D=[];for(var m in s.l)for(g=s.l[m],T=0;T<g.length;T++){(b=g[T])&&b.data&&b.data.levels&&b.data.levels.length&&(D=D.concat(b.data.levels))}if(D.length){var M=a.range(D);s.b=this.contourColorScheme}}s.g.length&&(s.b=this.contourColorScheme),e||this.draw({func:"createContour",par:[t,e]})},this.removeContour=function(t){this.isContour&&(this.removeMenus(),this.isContour=!1,this.meta.data.q={l:{},g:[],b:!1},t||this.draw({func:"removeContour"}))},this.createHierarchy=function(t,e){var i=this,a=this.meta.data.x,s=this.colorBy&&a&&a.hasOwnProperty(this.colorBy),r=t&&a&&a.hasOwnProperty(t[0]),n=s?this.getCustomColorScheme(a[this.colorBy].colors.length):r?this.getCustomColorScheme(a[t[0]].colors.length):this.colors,o=s?a[this.colorBy].order:!!r&&a[t[0]].order;if(s&&(a[this.colorBy].colors=n),!e){var h=this.hierarchyVar?this.getVariableIndices(this.hierarchyVar):0;this.hierarchyVarIndex=h>=0?h:0,e=this.hierarchyVarIndex}var l=function(t,e){return o&&o.hasOwnProperty(t)?n[o[t]]:e||i.missingDataColor},c=function(a,s,r){if(a.length>0){if(t&&s+1<t.length){s++;for(var o=i.getSampleLevelsByAnnotation(t[s],a),h=[],p=0,g=0;g<o.length;g++){var u=l(o[g],r),m=i.getSamplesByAnnotationLevel(t[s],o[g],a),f=c(m,s,u);p+=f[1],h.push({name:o[g],idx:m,children:f[0],value:f[1],depth:s,color:u,tooltip:"<b>"+o[g]+"</b><br>"+i.formatNumber(f[1])+" ("+i.formatNumber(100*f[1]/d)+"%)"})}}else for(h=[],p=0,g=0;g<a.length;g++){var y=i.getDataAtPos(e,a[g]);p+=y,h.push({name:i.data.y.smps[a[g]],idx:[a[g]],value:y,depth:s+1,color:n[a[g]%n.length],tooltip:"<b>"+i.data.y.smps[a[g]]+"</b><br>"+i.formatNumber(y)+" ("+i.formatNumber(100*y/d)+"%)"})}return[h,p]}},d=this.sum(this.data.y.data[e],!0),p=c(this.smpIndices,-1);return[{name:"root",children:p[0],value:p[1],depth:-1,color:this.missingDataColor}]},this.createDOE=function(t,e,i){if(!this.isTransition()){var a,s,r,n,o,h,l=function(t,e){for(var i=[],a=0;a<A.length;a++)for(var s=0;s<A[a].length;s++)if(null==A[a][s]){for(var r=!1,n=a;n<a+e[0];n++)for(var o=s;o<s+e[1];o++)if(null!=A[n][o]||o>=y){r=!0;break}if(!r){i=[a,s];for(n=a;n<a+e[0];n++)for(o=s;o<s+e[1];o++)A[n][o]=t;return i}}return[0,0]},c=this.isHistogram?this.isCreateHistogram:!(!this.data.l||!this.data.l.histogram)&&this.data.l.histogram;this.data.l&&this.data.l.histogram||this.isHistogram&&this.removeHistogram(!0);var d=[],p=!!(this.groupingFactors&&this.groupingFactors.length>0)&&this.groupingFactors,g=this.plotByVariable?this.plotByVariable:!!this.configStndBy&&this.configStndBy.plotByVariable,u=this.initialGraphType||this.graphType,m="Map"==this.graphType&&this.configStndBy?this.configStndBy.colorBy:this.colorBy;p?this.ungroupSamples(!0,!1,!0):this.configStndBy&&this.configStndBy.groupingFactors&&(p=this.configStndBy.groupingFactors),this.resetFilters(),this.desegregateVariablesSamples(!0),u.match(/Scatter|Map/i)?(this.isDOE=2,a=this.varIndices,s=this.data.z,r=this.meta.data.z,n=this.data.y.smps):(this.data.x||this.extendedDOE)&&(this.isDOE=1,a=this.smpIndices,s=this.data.x,r=this.meta.data.x,n=this.data.y.vars);var f=Number(this.layout.split("X")[0]),y=Number(this.layout.split("X")[1]),x=f*y,b=this.getKeys(s);if(this.includeDOE.length<1){for(var v=0;v<b.length&&!(v>=this.maxDOENumber);v++)this.includeDOE.push(b[v]),d.push(-1);if(this.extendedDOE&&!c)for(v=0;v<n.length;v++)this.includeDOE.length<this.maxDOENumber&&(this.includeDOE.push(n[v]),d.push(v))}else for(v=0;v<this.includeDOE.length;v++)b.includes(this.includeDOE[v])?d.push(-1):1==this.isDOE?d.push(this.getVariableIndices(this.includeDOE[v])):2==this.isDOE&&d.push(this.getSampleIndices(this.includeDOE[v]));(1==x||e)&&(f=Math.ceil(Math.sqrt(this.includeDOE.length+1)),y=f*(f-1)>=this.includeDOE.length+1?f-1:f,this.layout=f+"X"+y);var A=[];for(v=0;v<f*y;v++){A[v]=[];for(var w=0;w<y;w++)A[v][w]=null}this.layoutTopology=this.layout,delete this.layoutParams,delete this.data.l,this.data.l={histogram:c},o=t&&t[0]&&t[0].size?t[0].size.split("X"):this.layoutConfig&&this.layoutConfig[0]&&this.layoutConfig[0].size?this.layoutConfig[0].size.split("X"):[1,1],o=[Number(o[0]),Number(o[1])],h=t&&t[0]&&t[0].graphType?t[0].graphType:this.layoutConfig&&this.layoutConfig[0]&&this.layoutConfig[0].graphType?this.layoutConfig[0].graphType:this.graphType,this.data.l.smps=[[a]],this.data.l.weight=[[o[1]/y,o[0]/f]],this.data.l.type=[h],this.data.l.doe=a,this.data.l.coords=[l(0,o)],this.data.l.extended=[-1];for(v=0;v<this.includeDOE.length;v++){var C=v+1;if(o=t&&t[C]&&t[C].size?t[C].size.split("X"):this.layoutConfig&&this.layoutConfig[C]&&this.layoutConfig[C].size?this.layoutConfig[C].size.split("X"):[1,1],o=[Number(o[0]),Number(o[1])],h=t&&t[C]&&t[C].graphType?t[C].graphType:!!(this.layoutConfig&&this.layoutConfig[C]&&this.layoutConfig[C].graphType)&&this.layoutConfig[C].graphType,this.data.l.coords[C]=l(C,o),this.data.l.smps.push([this.includeDOE[v]]),this.data.l.weight.push([o[1]/y,o[0]/f]),this.data.l.extended.push(d[v]),h)this.data.l.type.push(h);else if(d[v]>=0)this.data.l.type.push("Scatter2D");else if(r[this.includeDOE[v]]&&"Numeric"==r[this.includeDOE[v]].type)this.data.l.type.push("Scatter2D");else{var T=this.unique(s[this.includeDOE[v]]);this.data.l.type.push(T.length<this.maxPieSectors?"Pie":T.length<200?"Treemap":"Table")}}this.layoutComb=!0,this.plotByVariable=!1,this.isValidLayout(),this.dataStndBy=this.data,this.configStndBy=this.getConfig(),this.configStndBy.groupingFactors=p,this.configStndBy.plotByVariable=g,this.configStndBy.histogramStat=this.histogramStat,this.configStndBy.stackBy=this.stackBy,this.configStndBy.lineBy=this.lineBy,this.configStndBy.summaryType=this.summaryType,this.configStndBy.colorBy=m,this.histogramStat="count",this.useOpenShapes=!1,this.showAnimation=!1,this.initialGraphType||(this.initialGraphType=this.graphType),this.title="",this.subtitle="",this.removeToolbar(),i||(this.removeMenus(),this.draw({func:"createDOE",par:[t,e,i]}))}},this.removeDOE=function(t){if(!this.isTransition()){var e=!!this.configStndBy&&this.configStndBy.groupingFactors,i=!!this.data.l.histogram,a=!!this.data.l.histogram&&this.data.l.histogram.ridgeBy,s=!!this.data.l.histogram&&this.data.l.histogram.isAnnt;this.graphType=this.initialGraphType,this.isDOE=!1,this.isPie=!1,this.isPieGroup=!1,this.data.y.histogram||(this.isHistogram=!1,this.isCreateHistogram=!1),this.layoutValid=!1,this.removeMenus(),this.switchData(!1,!0),delete this.data.l,delete this.dataStndBy,delete this.configStndBy,this.layoutComb=!1,this.layoutModified=!1,this.isValidLayout(),this.removeToolbar(),i?(t||this.stack({func:"removeDOE",par:[t]}),this.ridgeBy=a,this.skipStack=!0,this.createHistogram(a||s),this.skipStack=!1):e?(t||this.stack({func:"removeDOE",par:[t]}),this.skipStack=!0,this.groupSamples(e,!1,!1,!1,t),this.skipStack=!1):t||this.draw({func:"removeDOE",par:[t]})}},this.updateDOE=function(t,e){if(this.isDOE)if(e){for(var i,a=1;a<this.data.l.smps.length;a++)if(this.data.l.smps[a][0]==t){i=a;break}this.data.l.smps.splice(i,1),this.data.l.comp.splice(i,1),this.data.l.type.splice(i,1),this.data.l.weight.splice(i,1),this.data.l.extended.splice(i,1),this.layoutConfig.splice(i,1)}else this.data.l.smps.push([t]),this.data.l.comp.push([]),this.data.l.type.push("Scatter2D"),this.data.l.weight.push(this.data.l.weight[0]),this.data.l.extended.push(t),this.layoutConfig.push({})},this.resetDOE=function(){if(!this.isTransition()){for(var t in this.configStndBy)this[t]=this.configStndBy[t];var e=this.isDOE>1?this.dataStndBy.y.vars.length:this.dataStndBy.y.smps.length,i=[];for(t=0;t<e;t++)i.push(t);this.dataStndBy.l.doe=i,delete this.dataStndBy.l.treemap,this.histogramStat="count",this.configStndBy.groupingFactors.length>0&&(this.layoutComb=!1,this.groupSamples(this.configStndBy.groupingFactors,!1,!1,!1,!0),this.layoutComb=!0),this.toDoFilter={},"Map"==this.graphType&&(this.setAllMapFeaturesVisible(),this.hideUnhideMapFeatures(this.hiddenMapFeatures,!0),this.hideUnhideMapFeatures(this.visibleMapFeatures,!1,this.visibleMapFeatures.length)),this.draw({func:"resetDOE"})}},this.createTreemap=function(t){if(!this.isTransition()){var e,i,a=!!(this.groupingFactors&&this.groupingFactors.length>0)&&this.groupingFactors,s={data:{},vars:{}},r={y:{data:[[]],vars:[],smps:[],treemap:[]}};a&&this.ungroupSamples(!0),this.isDOE?(e=this.dataStndBy.l.doe,i=this.isDOE>1?this.dataStndBy.z[t]:this.dataStndBy.x[t]):this.graphType.match(/Scatter/)?(e=this.varIndices,i=this.data.z[t]):(e=this.smpIndices,i=this.data.x[t]);for(var n=0;n<e.length;n++){var o=this.isDOE&&this.dataStndBy.l.treemap?this.dataStndBy.l.treemap:i[e[n]];s.data[o]||(s.data[o]=0,s.vars[o]=[]),s.data[o]++,s.vars[o].push(e[n])}for(var n in r.y.vars.push(t),s.data)r.y.smps.push(n),r.y.data[0].push(s.data[n]),r.y.treemap.push(s.vars[n]);this.isDOE?(this.graphType="Treemap",this.initializeData(r)):(this.dataStndBy=this.data,this.configStndBy=this.getConfig(),this.configStndBy.isTreemap=!1,this.data={},this.xAxis=!1,this.yAxis=!1,this.graphType="Treemap",this.isTreemap=!0,this.isTreemapGroup=a,this.initializeData(r),this.removeMenus(),this.draw({func:"createTreemap",par:[t]}))}},this.removeTreemap=function(t){if(!this.isTransition()){var e=this.isTreemapGroup;this.isTreemap=!1,this.isTreemapGroup=!1,this.removeMenus(),this.switchData(!1,!0),e?this.groupSamples(e,!1,!1,!1,t):t||this.draw({func:"removeTreemap"})}},this.createFish=function(){var t=function(e,i){return i>e.length&&alert("Cannot have a parent that does not exist in list. (p: "+e+", x: "+i+")"),i<0&&alert("Cannot have a value in parents of less than zero"),0==e[i-1]?0:t(e,e[i-1])+1},e=function(t,e){if(0==t)return 0;for(var i=[],r=0;r<a.length;r++)a[r]==t&&i.push(r);var n=0;for(r=0;r<i.length;r++)s[i[r]][e]>0&&n++;return n},i=this.fishTimepoints,a=this.fishParents,s=this.data.y.data;if(i.length)this.isNumeric(i)||alert("fishTimepoints must be array of numbers");else for(var r=0;r<this.data.y.smps.length;r++)i.push(r);var n=function(e){for(var i=[],a=1;a<=e.length;a++)i.push(t(e,a));return i}(a),o=function(t,e){for(var i=0;i<t[0].length;i++)for(var a=0;a<t.length;a++)for(var s=a+1;s<t.length;s++)e[s]==a+1&&(t[a][i]-=t[s][i]);return t}(this.cloneObject(s),a),h=function(t,e){for(var i=[],a=0;a<t[0].length;a++)i[a]=100;for(a=0;a<e.length;a++)if(0==e[a])for(var s=0;s<t[0].length;s++)i[s]-=t[a][s];return i}(this.cloneObject(s),a),l=[],c=[],d=[];!function(t,e){for(var i=0;i<t.length;i++){for(var a=0,s=0,r=0;r<t[i].length;r++)t[i][r]>0&&(0==a?a=r:s=r);if(a>0&s>0)for(r=a;r<=s;r++)0==t[i][r]&&(t[i][r]=Math.pow(.01,e[i]))}}(s,n);for(r=0;r<i.length;r++){for(var p=i[r],g=[],u=[],m=[],f=0;f<a.length;f++)g[f]=null,u[f]=null,m[f]=p;for(var y=[0];y.length>0;){var x=y[0],b=[];for(f=0;f<a.length;f++)a[f]==x&&b.push(f+1);y.shift();for(f=0;f<b.length;f++)y.push(b[f]);var v=0,A=h[r]/2;if(this.fishSeparateIndependentClones){A=0;var w=0;if(0==x){for(f=0;f<a.length;f++)0==a[f]&&w++;w>1&&h[r]>0&&(v=h[r]/(w+1))}}0!=x&&(A=u[x-1],v=o[x-1][r]/(e(x,r)+1));for(f=0;f<b.length;f++){var C=b[f]-1;0==s[C][r]?(m[C]=null,r>0&&s[C][r-1]>0&&(u[C]=A+v/2,g[C]=A+v/2,m[C]=p-.25)):(u[C]=A+v,A+=s[C][r],g[C]=A+v,A+=v)}}c.push(u),l.push(g),d.push(m)}c=this.transposeDataMatrix(c),l=this.transposeDataMatrix(l),d=this.transposeDataMatrix(d);for(r=0;r<c.length;r++)c[r]=c[r].filter((function(t){return null!==t})),l[r]=l[r].filter((function(t){return null!==t})),d[r]=d[r].filter((function(t){return null!==t}));return{nestLevel:n,innerSpace:o,outerSpace:h,ytop:l,ybtm:c,xpos:d}},this.createHistogram=function(t,e,i,a){if(!(this.isTransition()||this.dataStndBy&&this.isCreateHistogram&&!this.isDOE)){var s=function(e,i,a){var s=[],r=[],o=[],p=[],g=[],u=[],m={y:{data:[],vars:[],smps:[],histogram:[],cols:[],level:[],maxLevel:1,subLevel:[],values:[],density:[],global:!1}};if(e&&i&&null!=a){for(var f=e.histogram.count.length,y=e.histogram.size,x=e.histogram.breaks,b=e.histogram.fbreaks,v=x[0],A=x[x.length-1],w=i.length,C=0;C<f;C++){m.y.vars.push("Bin"+(C+1)+" ("+e.histogram.breaks[C]+" - "+e.histogram.breaks[C+1]+")"),m.y.data[C]=[],m.y.data[C][0]=x[C+1]-v,m.y.histogram[C]=[];for(var T=0;T<w;T++)m.y.histogram[C][T]=[]}m.y.smps.push("Bin"),m.y.maxLevel=i.length;var S=0;for(C=0;C<i.length;C++){var D=t?n.getVariablesSamplesByAnnotationLevel(t,i[C],n.varIndices,"z"):n.varIndices,M=0,k=0;u.push(a),g.push(C),m.y.smps.push(i[C]),s.push(i[C]);var L=[];for(T=0;T<f;T++)L[T]=0;for(T=0;T<D.length;T++){var I=n.getDataAtPos(D[T],n.smpIndices[a]);if(null!=I&&""!==I&&!isNaN(I)){var B=n.histBin(I,b);L[B]++,m.y.histogram[B][C].push(D[T]),M++}}r.push(M);for(T=0;T<f;T++)m.y.data[T][S+1]=L[T],k=Math.max(k,L[T]);m.y.cols.push(k),p.push(S),S++}for(C=0;C<r.length;C++)o.push(C);o.sort((function(t,e){return r[e]-r[t]}));var N={graphType:"Scatter2D",isHistogram:!0,isCreateHistogram:{min:v,max:A,rmin:v,rmax:A,size:y,transposed:d,groups:h,smpIndices:o,n:p,factor:t,colorBy:n.colorBy,ridgeBy:n.ridgeBy,isAnnt:c,transformed:l,level:g,maxLevel:i.length,subLevel:u},xAxis:["Bin"],yAxis:s,setMinX:null,setMaxX:null,setMinX2:null,setMaxX2:null,setMinY:null,setMaxY:null,setMinZ:null,setMaxZ:null,xAxisExact:!0,summaryType:"raw",histogramData:t,hideHistogram:!!n.scatterPlotMatrixType.match(/Density/),histogramType:"staggered",showHistogramDensity:!!n.scatterPlotMatrixType.match(/Density/),showFilledHistogramDensity:!0};return n.cloneObject({data:m,params:N})}return m};if(t){if(t&&"Scatter2D"==this.graphType&&this.meta.data&&this.meta.data.z&&this.meta.data.z[t]&&"Numeric"==this.meta.data.z[t].type&&!this.isDOE)return void this.flashInfoSpan(100,100,"Not allowed to create histograms with numerical factors",5e3);if(this.segregateVariablesBy.length+this.segregateSamplesBy.length>1)return void alert("Ooops!. Histograms on multiple levels of segregation not supported yet!");if(this.segregateVariablesBy.length&&this.segregateVariablesBy[0]!=t)return void alert("Ooops!. Histograms with a variable factor must match the corresponding segregation!");this.segregateSamplesBy.length&&this.segregateSamplesBy[0]}this.isDOE||(this.dataStndBy=this.data,this.configStndBy=this.getConfig(),this.configStndBy.isCreateHistogram=!1,this.configStndBy.isHistogram=!1);var r,n=this,o=0,h=this.groupingFactors,l=this.isTransformedData,c=t,d=this.smpIndices.length>this.varIndices.length&&!this.isDOE;if(d){var p=this.cloneObject(this.varIndices),g=this.cloneObject(this.smpIndices);this.transpose(!1,!0,!0),this.varIndices=g,this.smpIndices=p}if(!t&&this.segregateVariablesBy.length?t=this.segregateVariablesBy[0]:!t&&this.colorBy?t=this.colorBy:t||(t=!1),CanvasXpress.cacheImagesReady){if(!this.isDOE&&t&&this.data.x&&this.data.x.hasOwnProperty(t)&&alert("Not implemented.\nCreating Histogram by Sample!"),this.isDOE&&t){var u=this.dataStndBy.l.doe;if(i){var m=[];this.meta.data.d.z[t]={};for(var f=this.getLevelsByAnnotation(t,u,this.isDOE>1?"z":"x",!1,!0),y=0;y<f.length;y++)for(var x=this.getVariablesSamplesByAnnotationLevel(t,f[y],u,this.isDOE>1?"z":"x"),b=this.isDOE>1?this.data.y.smps:this.data.y.vars,v=0;v<b.length;v++){this.meta.data.d.z[t].hasOwnProperty(f[y])||(this.meta.data.d.z[t][f[y]]={});for(var A=[],w=0;w<x.length;w++){null==($=this.isDOE>1?this.getDataAtPos(x[w],v):this.getDataAtPos(v,x[w]))||""===$||isNaN($)||(A.push($),m.push($))}this.meta.data.d.z[t][f[y]][v.toString()]=this.density(A,t+" - "+f[y]+" - "+b[v]),o=Math.max(o,this.meta.data.d.z[t][f[y]][v.toString()].maxY)}for(y=0;y<f.length;y++)for(b=this.isDOE>1?this.data.y.smps:this.data.y.vars,v=0;v<b.length;v++)this.meta.data.d.z[t][f[y]][v.toString()].globalMaxY=o;r=this.density(m,"Global"),this.meta.data.d.m=r}else{var C;if(this.isDOE>1)if(this.dataStndBy.z&&this.dataStndBy.z.hasOwnProperty(t))C=this.dataStndBy.z[t];else{C=[];for(y=0;y<this.dataStndBy.y.vars.length;y++)C.push(this.dataStndBy.y.data[y][a])}else C=this.dataStndBy.x&&this.dataStndBy.x.hasOwnProperty(t)?this.dataStndBy.x[t]:this.dataStndBy.y.data[a];for(A=[],y=0;y<u.length;y++){null==($=C[u[y]])||""===$||isNaN($)||A.push($)}r=this.density(A,t),this.meta.data.d.d[t]=r}}else if(this.isDOE&&i){for(x=u=this.dataStndBy.l.doe,b=this.isDOE>1?this.data.y.smps:this.data.y.vars,m=[],y=0;y<b.length;y++){for(A=[],v=0;v<x.length;v++){null==($=this.isDOE>1?this.getDataAtPos(x[v],y):this.getDataAtPos(y,x[v]))||""===$||isNaN($)||(A.push($),m.push($))}r=this.density(A,b[y]),this.meta.data.d.s[y.toString()]=r,o=Math.max(o,this.meta.data.d.s[y.toString()].maxY)}for(y=0;y<b.length;y++)this.meta.data.d.s[y.toString()].globalMaxY=o;r=this.density(m,"Global"),this.meta.data.d.m=r}else{if(t&&this.data.z&&this.data.z.hasOwnProperty(t)){this.meta.data.d.z[t]={};f=this.getLevelsByAnnotation(t,this.varIndices,"z",!1,!0);if(this.scatterPlotMatrix)for(y=0;y<this.smpIndices.length;y++){m=[];this.meta.data.d.z[t][this.smpIndices[y].toString()]={};for(v=0;v<f.length;v++){for(x=this.getVariablesSamplesByAnnotationLevel(t,f[v],this.varIndices,"z"),A=[],w=0;w<x.length;w++){null==($=this.getDataAtPos(x[w],this.smpIndices[y]))||""===$||isNaN($)||(A.push($),m.push($))}this.meta.data.d.z[t][this.smpIndices[y].toString()][f[v]]=this.density(A,t+" - "+f[v]+" - "+this.data.y.smps[this.smpIndices[y]]),o=Math.max(o,this.meta.data.d.z[t][this.smpIndices[y].toString()][f[v]].maxY)}var T=s(r=this.density(m,t+this.data.y.smps[this.smpIndices[y]]),f,y);for(v=0;v<f.length;v++)T.data.y.density[v]=[t,this.smpIndices[y].toString(),f[v]],this.meta.data.d.z[t][this.smpIndices[y].toString()][f[v]].globalMaxY=o;r.data=T.data,r.params=T.params,this.meta.data.d.z[t][this.smpIndices[y].toString()][this.data.y.smps[this.smpIndices[y]]]=r}else{for(y=0;y<f.length;y++)for(x=this.getVariablesSamplesByAnnotationLevel(t,f[y],this.varIndices,"z"),v=0;v<this.smpIndices.length;v++){this.meta.data.d.z[t].hasOwnProperty(f[y])||(this.meta.data.d.z[t][f[y]]={});for(A=[],w=0;w<x.length;w++){null==($=this.getDataAtPos(x[w],this.smpIndices[v]))||""===$||isNaN($)||A.push($)}this.meta.data.d.z[t][f[y]][this.smpIndices[v].toString()]=this.density(A,t+" - "+f[y]+" - "+this.data.y.smps[this.smpIndices[v]]),o=Math.max(o,this.meta.data.d.z[t][f[y]][this.smpIndices[v].toString()].maxY)}for(y=0;y<f.length;y++)for(v=0;v<this.smpIndices.length;v++)this.meta.data.d.z[t][f[y]][this.smpIndices[v].toString()].globalMaxY=o}}else{for(y=0;y<this.smpIndices.length;y++){for(A=[],v=0;v<this.varIndices.length;v++){null==($=this.getDataAtPos(this.varIndices[v],this.smpIndices[y]))||""===$||isNaN($)||A.push($)}if(r=this.density(A,this.data.y.smps[y]),this.scatterPlotMatrix)(T=s(r,[this.data.y.smps[this.smpIndices[y]]],y)).data.y.density.push([this.smpIndices[y].toString()]),r.data=T.data,r.params=T.params;this.meta.data.d.s[this.smpIndices[y].toString()]=r,o=Math.max(o,this.meta.data.d.s[this.smpIndices[y].toString()].maxY)}for(y=0;y<this.smpIndices.length;y++)this.meta.data.d.s[this.smpIndices[y].toString()].globalMaxY=o}if(this.scatterPlotMatrix)return this.dataStndBy=this.data,this.configStndBy||(this.configStndBy=this.getConfig()),this.configStndBy.isCreateHistogram=!1,void(this.configStndBy.isHistogram=!1);for(A=[],y=0;y<this.smpIndices.length;y++)for(v=0;v<this.varIndices.length;v++){null==($=this.getDataAtPos(this.varIndices[v],this.smpIndices[y]))||""===$||isNaN($)||A.push($)}if(r=1!=this.smpIndices.length||t?this.density(A,"Global"):this.meta.data.d.s[this.smpIndices[0].toString()],this.meta.data.d.m=r,t&&this.data.z&&this.data.z.hasOwnProperty(t)&&f){this.meta.data.d.m.position={tot:[],max:0};for(y=0;y<r.xy.length;y++)this.meta.data.d.m.position.tot[y]=0;var S=[];for(y=0;y<f.length;y++){var D=f[y];for(v=0;v<this.smpIndices.length;v++){var M=this.approxStack(this.meta.data.d.z[t][D][this.smpIndices[v].toString()].xy,r.xy),k=[],L=[];for(w=0;w<r.xy.length;w++)k[w]=[r.xy[w][0],this.meta.data.d.m.position.tot[w]],this.meta.data.d.m.position.tot[w]+=M[w][1],L[w]=[r.xy[w][0],this.meta.data.d.m.position.tot[w]];this.meta.data.d.z[t][f[y]][this.smpIndices[v].toString()].stacked=L.concat(k.reverse()),S.push(this.cloneObject(M))}}var I=0;for(y=0;y<this.meta.data.d.m.position.tot.length;y++)I=Math.max(I,this.meta.data.d.m.position.tot[y]);this.meta.data.d.m.position.max=I,this.meta.data.d.m.position.factor=this.meta.data.d.m.histogram.maxY/I;var B=[];for(y=0;y<r.xy.length;y++)B[y]=0;for(y=0;y<f.length;y++)for(D=f[y],v=0;v<this.smpIndices.length;v++){for(M=S.shift(),k=[],L=[],w=0;w<r.xy.length;w++)k[w]=[r.xy[w][0],B[w]],B[w]+=this.meta.data.d.m.position.tot[w]>0?M[w][1]/this.meta.data.d.m.position.tot[w]:0,L[w]=[r.xy[w][0],B[w]];this.meta.data.d.z[t][f[y]][this.smpIndices[v].toString()].filled=L.concat(k.reverse()),this.meta.data.d.z[t][f[y]][this.smpIndices[v].toString()].position=this.meta.data.d.m.position}}}var N=[],F=[],P=[],R=[],O=[],X=[],z=r.histogram.count.length,E=r.histogram.size,_=r.histogram.breaks,H=r.histogram.fbreaks,V=_[0],G=_[_.length-1];b=this.isDOE&&t&&!i?1:this.isDOE&&t&&i?this.getLevelsByAnnotation(t,u,this.isDOE>1?"z":"x",!1,!0).length:f?f.length*this.smpIndices.length:this.smpIndices.length;(T=s()).y.global=r.histogram,T.y.position=r.position;for(y=0;y<z;y++){T.y.vars.push("Bin"+(y+1)+" ("+r.histogram.breaks[y]+" - "+r.histogram.breaks[y+1]+")"),T.y.data[y]=[],T.y.data[y][0]=_[y+1]-V,T.y.histogram[y]=[],T.y.values[y]=[];for(v=0;v<b;v++)T.y.histogram[y][v]=[],T.y.values[y][v]=[]}if(T.y.smps.push("Bin"),this.isDOE&&t){u=this.dataStndBy.l.doe;if(i){f=this.getLevelsByAnnotation(t,u,this.isDOE>1?"z":"x",!1,!0);T.y.maxLevel=f.length;var q=0;for(y=0;y<f.length;y++)for(x=this.getVariablesSamplesByAnnotationLevel(t,f[y],u,this.isDOE>1?"z":"x"),b=this.isDOE>1?this.data.y.smps:this.data.y.vars,v=0;v<b.length;v++){var j=1==b.length?f[y]:b[v]+":"+f[y],U=0,Y=0;T.y.smps.push(j),T.y.level.push(y),T.y.subLevel.push(v),O.push(y),X.push(v),N.push(j);var W=[];for(w=0;w<z;w++)W[w]=0;for(w=0;w<x.length;w++){if(null!=($=this.isDOE>1?this.getDataAtPos(x[w],v):this.getDataAtPos(v,x[w]))&&""!==$&&!isNaN($))W[Q=this.histBin($,H)]++,T.y.histogram[Q]&&T.y.histogram[Q][q]&&(T.y.histogram[Q][q].push(x[w]),T.y.values[Q][q].push($),U++)}F.push(U);for(w=0;w<z;w++)T.y.data[w][q+1]=W[w],Y=Math.max(Y,W[w]);T.y.cols.push(Y),T.y.density[q]=this.meta.data.d.z[t][f[y]][v.toString()],R.push(q),q++}}else{T.y.smps=["Bin",t],N=[t];for(y=0;y<z;y++)T.y.data[y][1]=r.histogram.count[y],T.y.histogram[y][0]=r.histogram.idxs[y];F=[1],R=[0],T.y.density[0]=r}}else if(this.isDOE&&i)for(x=u=this.dataStndBy.l.doe,b=this.isDOE>1?this.data.y.smps:this.data.y.vars,y=0;y<b.length;y++){U=0,Y=0;T.y.smps.push(b[y]),T.y.level.push(0),T.y.subLevel.push(y),O.push(0),X.push(y),N.push(b[y]);for(W=[],v=0;v<z;v++)W[v]=0;for(v=0;v<x.length;v++){if(null!=($=this.isDOE>1?this.getDataAtPos(x[v],y):this.getDataAtPos(y,x[v]))&&""!==$&&!isNaN($))W[Q=this.histBin($,H)]++,T.y.histogram[Q]&&T.y.histogram[Q][y]&&(T.y.histogram[Q][y].push(x[v]),T.y.values[Q][y].push($),U++)}F.push(U);for(v=0;v<z;v++)T.y.data[v][y+1]=W[v],Y=Math.max(Y,W[v]);T.y.cols.push(Y),T.y.density[y]=this.meta.data.d.s[y.toString()],R.push(y)}else if(f){T.y.maxLevel=f.length;for(q=0,y=0;y<f.length;y++){x=this.getVariablesSamplesByAnnotationLevel(t,f[y],this.varIndices,"z");for(v=0;v<this.smpIndices.length;v++){j=1==this.smpIndices.length?f[y]:this.data.y.smps[this.smpIndices[v]]+":"+f[y],U=0,Y=0;T.y.smps.push(j),T.y.level.push(y),T.y.subLevel.push(v),O.push(y),X.push(v),N.push(j);for(W=[],w=0;w<z;w++)W[w]=0;for(w=0;w<x.length;w++){if(null!=($=this.getDataAtPos(x[w],this.smpIndices[v]))&&""!==$&&!isNaN($))W[Q=this.histBin($,H)]++,T.y.histogram[Q]&&T.y.histogram[Q][q]&&(T.y.histogram[Q][q].push(x[w]),T.y.values[Q][q].push($),U++)}F.push(U);for(w=0;w<z;w++)T.y.data[w][q+1]=W[w],Y=Math.max(Y,W[w]);T.y.cols.push(Y),T.y.density[q]=this.meta.data.d.z[t][f[y]][this.smpIndices[v].toString()],R.push(q),q++}}}else{T.y.level.push(0),O.push(0);for(y=0;y<this.smpIndices.length;y++){U=0,Y=0;X.push(y),T.y.subLevel.push(y),T.y.smps.push(this.data.y.smps[this.smpIndices[y]]),N.push(this.data.y.smps[this.smpIndices[y]]);for(W=[],v=0;v<z;v++)W[v]=0;for(v=0;v<this.varIndices.length;v++){var $,Q;if(null!=($=this.getDataAtPos(this.varIndices[v],this.smpIndices[y]))&&""!==$&&!isNaN($))W[Q=this.histBin($,H)]++,T.y.histogram[Q]&&T.y.histogram[Q][y]&&(T.y.histogram[Q][y].push(this.varIndices[v]),T.y.values[Q][y].push($),U++)}F.push(U);for(v=0;v<z;v++)T.y.data[v][y+1]=W[v],Y=Math.max(Y,W[v]);T.y.cols.push(Y),T.y.density[y]=this.meta.data.d.s[this.smpIndices[y].toString()],R.push(y)}}for(y=0;y<F.length;y++)P.push(y);if(this.ridgeBy)if(this.showFilledHistogramDensity=!0,this.showHistogramDensity=!0,f.length!=P.length){var Z=this.cloneObject(T.y.smps);Z.shift(),P=P.sort((function(t,e){return Z[t].split(":")[1].localeCompare(Z[e].split(":")[1])||Z[e].split(":")[0].localeCompare(Z[t].split(":")[0])}))}else P.sort((function(t,e){return t-e}));(this.showHistogramDensity||"density"!=this.histogramStat)&&this.showHistogramDensity&&this.histogramStat;var K=!!i&&this.dataStndBy.l.histogram;this.data={},this.graphType="Scatter2D",this.isHistogram=!0,this.isCreateHistogram={min:V,max:G,rmin:V,rmax:G,size:E,transposed:K?K.transposed:d,groups:K?K.groups:h,smpIndices:P,n:R,factor:t,colorBy:this.colorBy,ridgeBy:K?K.ridgeBy:this.ridgeBy,isAnnt:c,transformed:K?K.transformed:l,level:O,maxLevel:f?f.length:1,subLevel:X,setMinX:null!=this.setMinX?this.setMinX-V:null,setMaxX:this.setMaxX,setMinY:this.setMinY,setMaxY:this.setMaxY},this.xAxis=["Bin"],this.xAxis2=[],this.yAxis=N,this.zAxis=[],this.resetRange(),this.xAxisExact=!0,this.initializeData(T),this.graphType="Scatter2D",this.isDOE||(this.removeMenus(),e||this.draw({func:"createHistogram",par:[t,e,i]}))}else setTimeout((function(){n.createHistogram(t)}),200)}},this.removeHistogram=function(t,e){if(!this.isTransition()){var i=this.isCreateHistogram.transposed,a=this.isCreateHistogram.groups,s=this.densityKernel,r=this.showHistogramDensity,n=this.hideHistogram,o=this.showHistogramPath,h=this.bandwidthAdjust,l=this.densityPosition,c=this.histogramBins,d=this.histogramBinWidth,p=this.histogramType,g=this.histogramStat,u=this.histogramDensityFillTransparency,m=this.histogramAsDotplot,f=this.histogramStackRatio,y=this.histogramStackDir,x=this.histogramRight,b=this.histogramLowest;this.removeMenus(),this.switchData(!1,!0,e),this.ridgeBy=!1;var v=this.segregateVariablesBy,A=this.segregateSamplesBy;this.densityKernel=s,this.showHistogramDensity=r,this.hideHistogram=n,this.showHistogramPath=o,this.bandwidthAdjust=h,this.densityPosition=l,this.histogramBins=c,this.histogramBinWidth=d,this.histogramType=p,this.histogramStat=g,this.histogramDensityFillTransparency=u,this.histogramAsDotplot=m,this.histogramStackRatio=f,this.histogramStackDir=y,this.histogramRight=x,this.histogramLowest=b,i&&this.transpose(!1,!0,!0),this.segregateVariablesAndOrSamples(v,A,!0),a&&a.length>0?this.groupSamples(a,!1,!1,!1,t):t||this.draw({func:"removeHistogram",par:[t]})}},this.createCorrelation=function(t){if(!this.isTransition()){var e=this.meta.data.c;if(this.scatterPlotMatrix)if(t&&this.data.z&&this.data.z.hasOwnProperty(t)){e.z[t]={};for(var i=this.getLevelsByAnnotation(t,this.varIndices,"z"),a=0;a<this.smpIndices.length;a++)for(var s=a+1;s<this.smpIndices.length;s++){var r=this.data.y.smps[this.smpIndices[a]]+"::"+this.data.y.smps[this.smpIndices[s]],n=this.data.y.smps[this.smpIndices[s]]+"::"+this.data.y.smps[this.smpIndices[a]];e.z[t][r]=[],e.z[t][n]=[];for(var o=0;o<i.length;o++){for(var h=this.getVariablesSamplesByAnnotationLevel(t,i[o],this.varIndices,"z"),l=!!(i[o]&&this.meta.data.z&&this.meta.data.z[t].colors)&&this.meta.data.z[t].order,c=l?this.meta.data.z[t].colors[l[i[o]]]:this.confidenceIntervalColor,d=[],p=[],g=0;g<h.length;g++){var u=this.data.y.data[h[g]][this.smpIndices[a]],m=this.data.y.data[h[g]][this.smpIndices[s]];null==u||""===u||isNaN(u)||null==m||""===m||isNaN(m)||(d.push(u),p.push(m))}var f={cor:this.correlation(d,p),lab:i[o],col:c,id:!!i[o]&&"Property:"+t+":"+i[o]+":z",n:d.length};e.z[t][r].push(f),e.z[t][n].push(f)}}}else for(a=0;a<this.smpIndices.length;a++)for(s=a+1;s<this.smpIndices.length;s++){for(r=this.data.y.smps[this.smpIndices[a]]+"::"+this.data.y.smps[this.smpIndices[s]],n=this.data.y.smps[this.smpIndices[s]]+"::"+this.data.y.smps[this.smpIndices[a]],d=[],p=[],o=0;o<this.varIndices.length;o++){u=this.data.y.data[this.varIndices[o]][this.smpIndices[a]],m=this.data.y.data[this.varIndices[o]][this.smpIndices[s]];null==u||""===u||isNaN(u)||null==m||""===m||isNaN(m)||(d.push(u),p.push(m))}f={cor:this.correlation(d,p),lab:"Correlation",col:this.foreground,id:!1,n:d.length};e.s[r]=[f],e.s[n]=[f]}}},this.correlateData=function(t,e,i,a){if(!this.isTransition()){if(this.graphType.match(/Scatter/i))this.isCorrelateS=!0,this.isCorrelateKeyS=e,this.isCorrelateColorS=i,this.addRegressionLine(e,i,a);else{this.dataStndBy=this.data,this.configStndBy=this.getConfig();var s=this.groupingFactors;e&&(t?this.switchAnnotationToVar(e):this.switchAnnotationToSmp(e));var r=t?this.data.y.vars:this.data.y.smps;this.graphType="Scatter2D",this.axesType="XY",s&&this.ungroupSamples(!0),t&&(this.transpose(!1,!0),this.graphType="Scatter2D"),this.xAxis=[r[0]],this.xAxisTitle=r[0],this.xAxisIndices=[0],this.yAxis=[r[1]||r[0]],this.yAxisTitle=r[1]||r[0],this.yAxisIndices=r[1]?[1]:[0],this.showAnimation=!1,this.addRegressionLine(!1,i,!0),this.isCorrelate=!0,this.isCorrelateTranspose=t,this.isCorrelateGroup=s,this.isCorrelateKey=e,this.isCorrelateColor=i,this.draw({noImages:!0,func:"correlateData",par:[t,e,i,a]})}this.removeMenus()}},this.removeCorrelation=function(t){if(this.removeMenus(),!this.isTransition())if(this.isCorrelate){this.decorations&&this.decorations.reg&&delete this.decorations.reg,this.data.l&&this.data.l.reg&&delete this.data.l.reg;var e=this.cloneObject(this.segregateVariablesBy),i=this.cloneObject(this.segregateSamplesBy),a=this.isCorrelateTranspose;this.switchData(!1,!0),this.isCorrelateTranspose&&this.transpose(!1,!1,!0),this.isCorrelateKey&&(this.isCorrelateTranspose?this.switchVarToAnnotation(this.isCorrelateKey):this.switchSmpToAnnotation(this.isCorrelateKey)),(e.length||i.length)&&(a?e.length?(this.segregateVariablesBy=i,this.segregate("Samples",e[0],!0)):(this.segregateSamplesBy=e,this.segregate("Variables",i[0],!0)):e.length?(this.segregateVariablesBy=e,this.segregate("Samples",i[0],!0)):(this.segregateSamplesBy=i,this.segregate("Variables",e[0],!0))),t||(this.isCorrelateGroup.length?this.groupSamples(this.isCorrelateGroup):this.draw({func:"removeCorrelation"})),this.isCorrelate=!1,this.isCorrelateTranspose=!1,this.isCorrelateGroup=!1,this.isCorrelateKey=!1,this.isCorrelateColor=!1}else this.isCorrelateS=!1,this.isCorrelateKeyS=!1,this.isCorrelateColorS=!1,this.decorations&&this.decorations.reg&&delete this.decorations.reg,this.data.l&&this.data.l.reg&&delete this.data.l.reg,t||this.draw({func:"removeCorrelation"})},this.resetCorrelation=function(){if(this.isCorrelateS){var t=this.isCorrelateKeyS,e=this.isCorrelateColorS;this.removeCorrelation(),this.correlateData(!1,t,e,!0)}else this.decorations&&this.decorations.reg&&this.updateCorrelation()},this.updateCorrelation=function(){if(!this.ridgeBy){var t=!1;this.decorations&&this.decorations.reg&&(t=this.decorations.reg[0].factor,delete this.decorations.reg),this.layoutValid||!this.meta.data.c.p.length?this.addRegressionLine(t,!1,!0):this.addRegressionLine(this.meta.data.c.p[0],this.meta.data.c.p[1],!0)}},this.addRegressionLine=function(t,e,i){if(!this.isTransition()&&!this.isCreateHistogram){var a,s,r,n,o,h,l,c,d,p,g,u=this;if(CanvasXpress.cacheImagesReady){if(this.graphType.match(/Scatter/)){if(this.isDOE);else{var m,f=[],y=[];if(t){y=this.getVarSmpAnnotations(t,this.varIndices,!1,!1,"z"),this.meta.data.z&&this.meta.data.z[t]&&this.meta.data.z[t].levels&&this.meta.data.z[t].levels.length==y.length&&(y=this.cloneObject(this.meta.data.z[t].levels));for(var x=0;x<y.length;x++)f.push(this.getVariablesSamplesByAnnotationLevel(t,y[x],this.varIndices,"z"))}else f=[this.varIndices];if(this.layoutValid)if(this.data.l.reg=[],this.data.l.smps)for(x=0;x<this.data.l.smps.length;x++)if(this.data.l.reg[x]=[],(d=this.data.l.smps[x]).xAxis&&d.yAxis){a=this.getSampleIndices(d.xAxis[0]),s=this.getSampleIndices(d.yAxis[0]),l=this.data.y.smps[a]+" vs "+this.data.y.smps[s];for(var b=0;b<f.length;b++)p=!!(y[b]&&this.meta.data.z&&this.meta.data.z[t].colors)&&this.meta.data.z[t].order,m=e||(p?this.meta.data.z[t].colors[p[y[b]]]:this.fitLineColor),c=e||(p?this.meta.data.z[t].colors[p[y[b]]]:this.confidenceIntervalColor),r=this.getDataForSmpGrpAtIndex(a,f[b]),n=this.getDataForSmpGrpAtIndex(s,f[b]),o=this.regression(r,n),h=this.correlation(r,n),this.data.l.reg[x][b]={reg:o,cor:h,lab:l,fit:m,col:c,id:!!y[b]&&"Property:"+t+":"+y[b]+":z",n:r.length,factor:t}}else this.data.l.reg[x]=!1;else for(x=0;x<this.data.l.comp.length;x++){this.data.l.reg[x]=[],a=this.xAxisIndices[0],s=this.yAxisIndices[0],l=this.data.y.smps[a]+" vs "+this.data.y.smps[s];for(b=0;b<f.length;b++){if(p=!!(y[b]&&this.meta.data.z&&this.meta.data.z[t].colors)&&this.meta.data.z[t].order,m=e||(p?this.meta.data.z[t].colors[p[y[b]]]:this.fitLineColor),c=e||(p?this.meta.data.z[t].colors[p[y[b]]]:this.confidenceIntervalColor),t){r=[],n=[];for(var v=0;v<this.data.l.comp[x].length;v++)g=this.data.l.comp[x][v],this.data.z[t][g]==y[b]&&(r.push(this.getDataAtPos(g,a)),n.push(this.getDataAtPos(g,s)))}else{r=[],n=[];for(v=0;v<this.data.l.comp[x].length;v++)g=this.data.l.comp[x][v],r.push(this.getDataAtPos(g,a)),n.push(this.getDataAtPos(g,s))}o=this.regression(r,n),h=this.correlation(r,n),this.data.l.reg[x][b]={reg:o,cor:h,lab:l,fit:m,col:c,id:!!y[b]&&"Property:"+t+":"+y[b]+":z",n:r.length,factor:t}}}else{this.meta.data.c.p=[t,e],this.xAxisIndices||(this.xAxisIndices=this.getSampleIndices(this.xAxis)),this.yAxisIndices||(this.yAxisIndices=this.getSampleIndices(this.yAxis));var A="Y"==this.axesType?[this.xAxisIndices[this.xAxisCurrent]]:this.xAxisIndices,w="X"==this.axesType?[this.yAxisIndices[this.yAxisCurrent]]:this.yAxisIndices,C=Math.max(A.length,w.length);for(x=0;x<f.length;x++){p=!!(y[x]&&this.meta.data.z&&this.meta.data.z[t].colors)&&this.meta.data.z[t].order;for(b=0;b<C;b++)m=e||(p?this.meta.data.z[t].colors[p[y[x]]]:this.fitLineColor),c=e||(p?this.meta.data.z[t].colors[p[y[x]]]:this.confidenceIntervalColor),a=A[b]?A[b]:A[0],s=w[b]?w[b]:w[0],l=y[x]?y[x]:this.data.y.smps[a]+" vs "+this.data.y.smps[s],r=this.getDataForSmpGrpAtIndex(a,f[x],!1,this.xAxisTransform),n=this.getDataForSmpGrpAtIndex(s,f[x],!1,this.yAxisTransform),o=this.regression(r,n),h=this.correlation(r,n),this.addRegressionDecoration(o,h,l,c,m,!!y[x]&&"Property:"+t+":"+y[x]+":z",r.length,t)}}}i||this.draw({func:"addRegressionLine",par:[t,e,i]}),this.removeMenus()}}else setTimeout((function(){u.addRegressionLine(t,e,i)}),100)}},this.addRegressionDecoration=function(t,e,i,a,s,r,n,o){this.showDecorations=!0,this.decorations||(this.decorations={}),this.decorations.reg||(this.decorations.reg=[]),this.decorations.reg.push({slope:t[0],intercept:t[1],cor:t[2],ci:t[3],label:i,color:a,fit:s,id:r,n:n,factor:o,r:e})},this.addNormalDistributionLine=function(t,e){if(!this.isTransition()){var i,a,s,r,n,o,h,l,c,d,p,g=this;if(CanvasXpress.cacheImagesReady){if(this.graphType.match(/Scatter/)){if("XYZ"==this.axesType)s="y"==t?this.yAxisIndices[this.yAxisCurrent]:this.xAxisIndices[this.xAxisCurrent],r="y"==t?this.xAxisIndices[this.xAxisCurrent]:this.yAxisIndices[this.yAxisCurrent],n=this.getDataForSmpGrpAtIndex(s),o=this.getDataForSmpGrpAtIndex(r),h=this.max(o),c=this.data.y.smps[s],l=this.meanStandardDeviationN(n),this.addNormalDistributionDecoration(l,h,c,this.foreground,t);else{i="y"==t?this.yAxisIndices:this.xAxisIndices,a="y"==t?this.xAxisIndices:this.yAxisIndices,p="y"==t?this.xAxisCurrent:this.yAxisCurrent;for(var u=0;u<i.length;u++)d=u%this.colors.length,s=i[u],r=a[u]?a[u]:a[p],n=this.getDataForSmpGrpAtIndex(s),o=this.getDataForSmpGrpAtIndex(r),h=this.max(o),c=this.data.y.smps[s],l=this.meanStandardDeviationN(n),this.addNormalDistributionDecoration(l,h,c,this.colors[d],t)}e||this.draw({func:"addNormalDistributionLine",par:[t,e]})}}else setTimeout((function(){g.addNormalDistributionLine(t)}),100)}},this.addNormalDistributionDecoration=function(t,e,i,a,s){this.showDecorations=!0,this.decorations||(this.decorations={}),this.decorations.nor||(this.decorations.nor=[]),s&&"y"==s?this.decorations.nor.push({mu:t[0],sigma:t[1],yAxis:!0,max:e,label:i,color:a}):this.decorations.nor.push({mu:t[0],sigma:t[1],max:e,label:i,color:a})},this.addQQPlot=function(t){if(!this.isTransition()){var e,i,a,s,r,n;this.isQQ=!0,this.scatterType="qq";var o={g:[],l:[],i:[]};if(this.colorBy){var h=this.getVariableLevelsByAnnotation(this.colorBy),l=this.meta.data.z[this.colorBy];if(this.layoutValid){var c=this.data.y.smps;for(p=0;p<c.length;p++){e=p;for(var d=0;d<h.length;d++)i=this.getVariablesByAnnotationLevel(this.colorBy,h[d]),a=l.colors[l.order[h[d]]],s=this.qqnorm(this.getDataForSmpGrpAtIndex(e,i)),r=c[e]+":"+h[d],n="Property:"+this.colorBy+":"+h[d]+":z",o.l[p]||(o.l[p]=[]),o.l[p].push({color:a,data:s,label:r,id:n}),o.i.push(r)}}else{e=this.yAxisIndices[0];for(var p=0;p<h.length;p++)i=this.getVariablesByAnnotationLevel(this.colorBy,h[p]),a=l.colors[l.order[h[p]]],s=this.qqnorm(this.getDataForSmpGrpAtIndex(e,i)),r=this.data.y.smps[e]+":"+h[p],n="Property:"+this.colorBy+":"+h[p]+":z",o.g.push({color:a,data:s,label:r,id:n}),o.i.push(r)}}else if(this.layoutValid)for(c=this.data.y.smps,p=0;p<c.length;p++)e=p,a=this.colors[0],s=this.qqnorm(this.getDataForSmpGrpAtIndex(e)),r=this.data.y.smps[e],n=this.data.y.smps[e],o.l[p]||(o.l[p]=[]),o.l[p].push({color:a,data:s,label:r,id:n}),o.i.push(r);else e=this.yAxisIndices[0],a=this.colors[0],s=this.qqnorm(this.getDataForSmpGrpAtIndex(e)),r=this.data.y.smps[e],n=this.data.y.smps[e],o.g.push({color:a,data:s,label:r,id:n}),o.i.push(r);this.meta.data.p=o,t||(this.removeMenus(),this.draw({func:"addQQPlot",par:[t]}))}},this.checkQQPlot=function(){if(this.isQQ){var t=[];if(this.colorBy){var e=this.getVariableLevelsByAnnotation(this.colorBy);if(this.layoutValid){var i=this.data.y.smps;for(r=0;r<i.length;r++){s=r;for(var a=0;a<e.length;a++)t.push(i[s]+":"+e[a])}}else for(var s=this.yAxisIndices[0],r=0;r<e.length;r++)t.push(this.data.y.smps[s]+":"+e[r])}else if(this.layoutValid)for(i=this.data.y.smps,r=0;r<i.length;r++)t.push(this.data.y.smps[r]);else t.push(this.data.y.smps[0]);this.isSameObject(t,this.meta.data.p.i)||this.addQQPlot(!0)}},this.removeQQPlot=function(t){this.isQQ=!1,this.scatterType=!1,t||(this.removeMenus(),this.draw({func:"removeQQPlot",par:[t]}))},this.addCDFPlot=function(t){if(!this.isTransition()){var e,i,a,s,r,n;this.isCDF=!0,this.scatterType="cdf";var o={g:[],l:[],i:[]};if(this.colorBy){var h=this.getVariableLevelsByAnnotation(this.colorBy),l=this.meta.data.z[this.colorBy];if(this.layoutValid){var c=this.data.y.smps;for(p=0;p<c.length;p++){e=p;for(var d=0;d<h.length;d++)i=this.getVariablesByAnnotationLevel(this.colorBy,h[d]),a=l.colors[l.order[h[d]]],s=this.cdf(this.getDataForSmpGrpAtIndex(e,i)),r=c[e]+":"+h[d],n="Property:"+this.colorBy+":"+h[d]+":z",o.l[p]||(o.l[p]=[]),o.l[p].push({color:a,data:s,label:r,id:n}),o.i.push(r)}}else{e=this.xAxisIndices[0];for(var p=0;p<h.length;p++)i=this.getVariablesByAnnotationLevel(this.colorBy,h[p]),a=l.colors[l.order[h[p]]],s=this.cdf(this.getDataForSmpGrpAtIndex(e,i)),r=this.data.y.smps[e]+":"+h[p],n="Property:"+this.colorBy+":"+h[p]+":z",o.g.push({color:a,data:s,label:r,id:n}),o.i.push(r)}}else if(this.layoutValid)for(c=this.data.y.smps,p=0;p<c.length;p++)e=p,a=this.colors[0],s=this.cdf(this.getDataForSmpGrpAtIndex(e)),r=this.data.y.smps[e],n=this.data.y.smps[e],o.l[p]||(o.l[p]=[]),o.l[p].push({color:a,data:s,label:r,id:n}),o.i.push(r);else e=this.xAxisIndices[0],a=this.colors[0],s=this.cdf(this.getDataForSmpGrpAtIndex(e)),r=this.data.y.smps[e],n=this.data.y.smps[e],o.g.push({color:a,data:s,label:r,id:n}),o.i.push(r);this.meta.data.p=o,t||(this.removeMenus(),this.draw({func:"addCDFPlot",par:[t]}))}},this.checkCDFPlot=function(){if(this.isCDF){var t=[];if(this.colorBy){var e=this.getVariableLevelsByAnnotation(this.colorBy);if(this.layoutValid){var i=this.data.y.smps;for(r=0;r<i.length;r++){s=r;for(var a=0;a<e.length;a++)t.push(i[s]+":"+e[a])}}else for(var s=this.xAxisIndices[0],r=0;r<e.length;r++)t.push(this.data.y.smps[s]+":"+e[r])}else if(this.layoutValid)for(i=this.data.y.smps,r=0;r<i.length;r++)t.push(this.data.y.smps[r]);else t.push(this.data.y.smps[0]);this.isSameObject(t,this.meta.data.p.i)||this.addCDFPlot(!0)}},this.removeCDFPlot=function(t){this.isCDF=!1,this.scatterType=!1,t||(this.removeMenus(),this.draw({func:"removeCDFPlot",par:[t]}))},this.addKMPlot=function(t){if(!this.isTransition()){var e,i,a,s,r,n,o;this.isKM=!0,this.scatterType="km";for(var h=":"+this.confidenceLevel+":"+this.confidenceIntervalType+":"+this.invertCensored+":"+this.showConfidenceIntervals,l=this.data.y.smps,c={g:[],l:[],i:[]},d=[],p=0;p<this.yAxisIndices.length;p++)this.xAxisIndices.length==this.yAxisIndices.length?d.push([this.xAxisIndices[p],this.yAxisIndices[p]]):d.push([this.xAxisIndices[0],this.yAxisIndices[p]]);var g=!!this.isDOE&&this.data.l.doe;if(this.colorBy){var u=this.getVariableLevelsByAnnotation(this.colorBy),m=this.meta.data.z[this.colorBy];if(!this.layoutValid||this.isDOE)for(p=0;p<d.length;p++){e=d[p][0],i=d[p][1];for(var f=0;f<u.length;f++)(a=this.getVariablesByAnnotationLevel(this.colorBy,u[f],g)).length&&(s=m.colors[m.order[u[f]]],r=this.kaplanMeier(this.getDataForSmpGrpAtIndex(e,a),this.getDataForSmpGrpAtIndex(i,a)),n=l[e]+":"+l[i]+":"+u[f]+h,o="Property:"+this.colorBy+":"+u[f]+":z",c.g.push({color:s,data:r,label:n,id:o})),c.i.push(n)}else for(p=0;p<d.length;p++){e=d[p][0],i=d[p][1];for(f=0;f<u.length;f++)(a=this.getVariablesByAnnotationLevel(this.colorBy,u[f])).length&&(s=m.colors[m.order[u[f]]],r=this.kaplanMeier(this.getDataForSmpGrpAtIndex(e,a),this.getDataForSmpGrpAtIndex(i,a)),n=l[e]+":"+l[i]+":"+u[f]+h,o="Property:"+this.colorBy+":"+u[f]+":z",c.l[p]||(c.l[p]=[]),c.l[p].push({color:s,data:r,label:n,id:o})),c.i.push(n)}}else if(!this.layoutValid||this.isDOE)for(p=0;p<d.length;p++)e=d[p][0],i=d[p][1],s=this.colors[p],r=this.kaplanMeier(this.getDataForSmpGrpAtIndex(e,g),this.getDataForSmpGrpAtIndex(i,g)),n=l[e]+":"+l[i]+":"+h,o="Series:"+d[p][0]+":"+d[p][1],c.g.push({color:s,data:r,label:n,id:o}),c.i.push(n);else for(p=0;p<d.length;p++)e=d[p][0],i=d[p][1],s=this.colors[p],r=this.kaplanMeier(this.getDataForSmpGrpAtIndex(e),this.getDataForSmpGrpAtIndex(i)),n=l[e]+":"+l[i]+":"+h,o="Series:"+d[p][0]+":"+d[p][1],c.l[p]||(c.l[p]=[]),c.l[p].push({color:s,data:r,label:n,id:o}),c.i.push(n);this.meta.data.p=c,t||(this.removeMenus(),this.draw({func:"addQQPlot",par:[t]}))}},this.checkKMPlot=function(){if(this.isKM){for(var t,e,i=[],a=":"+this.confidenceLevel+":"+this.confidenceIntervalType+":"+this.invertCensored+":"+this.showConfidenceIntervals,s=this.data.y.smps,r=!!(this.isDOE&&this.data.l.doe.length!=this.varIndices.length||!this.isDOE&&this.varIndices.length!=this.data.y.vars.length),n=[],o=0;o<this.yAxisIndices.length;o++)this.xAxisIndices.length==this.yAxisIndices.length?n.push([this.xAxisIndices[o],this.yAxisIndices[o]]):n.push([this.xAxisIndices[0],this.yAxisIndices[o]]);if(this.colorBy){var h=this.getVariableLevelsByAnnotation(this.colorBy);if(!this.layoutValid||this.isDOE)for(o=0;o<n.length;o++){t=n[o][0],e=n[o][1];for(var l=0;l<h.length;l++)i.push(s[t]+":"+s[e]+":"+h[l]+a)}else for(o=0;o<n.length;o++){t=n[o][0],e=n[o][1];for(l=0;l<h.length;l++)i.push(s[t]+":"+s[e]+":"+h[l]+a)}}else if(!this.layoutValid||this.isDOE)for(o=0;o<n.length;o++)t=n[o][0],e=n[o][1],i.push(s[t]+":"+s[e]+":"+a);else for(o=0;o<n.length;o++)t=n[o][0],e=n[o][1],i.push(s[t]+":"+s[e]+":"+a);if(!this.isSameObject(i,this.meta.data.p.i)||r)return this.addKMPlot(!0),!0}},this.removeKMPlot=function(t){this.isKM=!1,this.scatterType=!1,t||(this.removeMenus(),this.draw({func:"removeKMPlot",par:[t]}))},this.modifyKaplanMeier=function(){this.isKM?this.removeKMPlot():this.addKMPlot()},this.updateKaplanMeier=function(){this.isKM&&this.checkKMPlot()&&(this.removeMenus(),this.draw({func:"updateKaplanMeier",prop:{isKM:this.isKM}}))},this.addMeanLine=function(t,e,i,a){for(var s=0,r=0,n=0;n<this.varIndices.length;n++)for(var o=this.varIndices[n],h=0;h<this.smpIndices.length;h++){var l=this.smpIndices[h],c=this.data.y.data[o][l];isNaN(c)||(s+=c,r++)}this.addLineDecoration(!1,!1,!1,!1,t,e,s/r,"Mean",i,a),this.draw({func:"addMeanLine",par:[t,e,i]})},this.addLineDecoration=function(t,e,i,a,s,r,n,o,h,l){this.graphType.match(/Scatter|Network|Genome|Correlation|Venn|Circular/)?this.graphType.match(/Scatter/)&&this.decorations.line.push({x:t,y:e,x2:i,y2:a,type:s||"line",color:r||this.foreground,label:o||!1,align:h||"left",width:l||1}):(this.decorations||(this.decorations={}),this.decorations.lines||(this.decorations.line=[]),s&&"solid"==s&&(s="line"),this.decorations.line.push({type:s||"line",color:r||this.foreground,value:n||0,label:o||!1,align:h||"left",width:l||1}))},this.binDataByPercentile=function(t,e){var i=this.range(this.data.y.data[t]);this.data.x||(this.data.x={});var a=this.data.y.vars[t]+" Percentile"+(e?"":" Category");this.data.x[a]=[];for(var s=0;s<this.data.y.data[t].length;s++){var r=this.data.y.data[t][s];if(isNaN(r)||""===r||null==r)this.data.x[a][s]="";else{var n=this.parseInt(this.percentile(i[0],i[1],r)/10);10==n&&n--,this.data.x[a][s]=e?n+1:10*n+"-"+10*(n+1)+"%"}}this.isGroupedData&&this.ungroupSamples(!0),this.updateData(this.data,!1,!0),this.groupSamples([a]),this.sortSamplesByCategory([a]),this.removeMenus()},this.binDataByQuantile=function(t,e){var i=this.quantile(this.data.y.data[t],[.25,.5,.75]);this.data.x||(this.data.x={});var a=this.data.y.vars[t]+" Quantile"+(e?"":" Category");this.data.x[a]=[];for(var s=0;s<this.data.y.data[t].length;s++){var r=this.data.y.data[t][s];if(isNaN(r)||""===r||null==r)this.data.x[a][s]="";else{var n=this.quantileBin(i,r);this.data.x[a][s]=e?n+1:0==n?"1st Quantile":1==n?"2nd Quantile":2==n?"3rd Quantile":"4th Quantile"}}this.isGroupedData&&this.ungroupSamples(!0),this.updateData(this.data,!1,!0),this.groupSamples([a]),this.sortSamplesByCategory([a]),this.removeMenus()},this.binDataCustom=function(t,e){this.addBinConfigurator(t,e),this.removeMenus()},this.switchData=function(t,e,i){this.dataStndBy&&this.configStndBy&&(this.data=this.dataStndBy,this.scatterPlotMatrix||(i?i.push("colorScheme"):i=["colorScheme"],this.resetConfig(i)),this.updateConfig(this.configStndBy),this.setTheme(),this.updateData(this.data,t,e),this.layoutComb=this.isLayoutComb())},this.updateData=function(t,e,i,a){if(delete this.data.initialVarIndices,delete this.data.initialSmpIndices,a)for(var s in a)this.meta.config.user[s]=a[s],this[s]=a[s];if(this.isObject(t))if(-1==("string"==typeof t.data&&"URL"==this.isValidString(t.data).type||t.config&&"Map"==t.config.graphType?t.data:-1))this.initializeData(t,!this.scatterPlotMatrix);else{for(var r=this.$("container-"+this.target),n=1;!r;)r=this.$("container-"+this.target+"-"+n),n++;var o,h=r.id;if(h.match(/\d*$/)){var l=Number(h.split("-").pop())+1;o=h.replace(/\d*$/,l).replace("container-","")}else o=this.newId(h);this.target!=o&&(CanvasXpress.chain[this.target]=o);var c=r.parentNode,d=this.$cX("canvas",{id:o,width:this.originalWidth,height:this.originalHeight});this.castCanvasAttributes(d),c.appendChild(d),t&&t.data?n=new CanvasXpress({renderTo:o,data:t.data,config:a}):(t.renderTo=o,n=new CanvasXpress(t)),n.destroy(h.replace("container-",""))}else this.initializeData(t,!this.scatterPlotMatrix);i||this.initializeGraph(e)},this.appendMetaData=function(t,e){if(t.y){if(t.y.smps&&t.y.smps.length&&t.x){for(var i in t.x){this.data.x||(this.data.x={}),this.data.x.hasOwnProperty(i)||(this.data.x[i]=[]);for(var a=0;a<t.y.smps.length;a++){(s=this.getSampleIndices(t.y.smps[a]))>-1&&(this.data.x[i][s]=t.x[i][a])}}this.updateMetaData("x",!1,!1,!0)}if(t.y.vars&&t.y.vars.length&&t.z){for(var i in t.z){this.data.z||(this.data.z={}),this.data.z.hasOwnProperty(i)||(this.data.z[i]=[]);for(a=0;a<t.y.vars.length;a++){var s;(s=this.getVariableIndices(t.y.vars[a]))>-1&&(this.data.z[i][s]=t.z[i][a])}}this.updateMetaData("z",!1,!1,!0)}CanvasXpress.stack[this.target].data=this.parseJSON(this.stringifyJSON(this.data))}else if(e){for(var r=2;this.data.y.hasOwnProperty("data"+r);)r++;this.data.y["data"+r]=t,CanvasXpress.stack[this.target].data=this.parseJSON(this.stringifyJSON(this.data))}},this.modifyDOE=function(t,e){if(!this.isTransition()){var i=!0;if(e)this[t]=e,i=!1;else{var a=!1;if(this.getObjectArray(this.includeDOE).hasOwnProperty(t)){for(var s=[],r=0;r<this.includeDOE.length;r++)this.includeDOE[r]!=t&&s.push(this.includeDOE[r]);this.includeDOE=s}else this.includeDOE.push(t),a=!0;this.includeDOE.length>=this.maxDOENumber+1&&a?(this.layout="1X1",this.layoutTopology=!1,this.maxDOENumber++):this.includeDOE.length<this.maxDOENumber+1&&(this.layout="1X1",this.layoutTopology=!1,this.maxDOENumber--)}this.createDOE(!1,i,!0),this.draw({func:"modifyDOE",par:[t,e]})}},this.updateDOEGraphType=function(t){this.layoutConfig[this.layoutCurrent]||(this.layoutConfig[this.layoutCurrent]={}),this.layoutConfig[this.layoutCurrent].graphType=t,this.removeMenus(),this.draw({func:"updateDOEGraphType",par:[t],prop:{layoutCurrent:this.layoutCurrent}})},this.updateDOEAxis=function(t,e){var i=this.layoutCurrent;this.layoutConfig[i]||(this.layoutConfig[i]={}),this.layoutConfig[i][t+"Axis"]=e,"x"==t&&null==this.layoutConfig[i].yAxis?this.layoutConfig[i].yAxis=this.data.l.smps[i][0]:"y"==t&&null==this.layoutConfig[i].xAxis&&(this.layoutConfig[i].xAxis=this.data.l.smps[i][0]),this.removeMenus(),this.draw({func:"updateDOEAxis",par:[t,e],prop:{layoutCurrent:this.layoutCurrent}})},this.updateDOEGraphSize=function(t,e){if(e)for(var i in e)this[i]=e[i];var a=this.layoutCurrent||0;this.layoutConfig[a]||(this.layoutConfig[a]={}),this.layoutConfig[a].size=t,this.createDOE(!1,!1,!0),this.draw({func:"updateDOEGraphSize",par:[t],prop:{layoutCurrent:a}}),this.layoutCurrent=a},this.modifyHistogram=function(){if(this.isHistogram){var t=this.isCreateHistogram.factor;this.removeHistogram(!0),this.createHistogram(t)}},this.modifySampleSegregation=function(t){var e={},i=this.segregateSamplesBy,a=this.segregateVariablesBy;this.layoutTopology&&(this.layoutTopologyCurrent=this.layoutTopology.split(/X/i)),this.layoutTopology=!1;for(var s=0;s<this.segregateSamplesBy.length;s++)e[this.segregateSamplesBy[s]]=!0;e[t]?delete e[t]:e[t]=!0,this.segregateSamplesBy=this.getKeys(e),a.length&&this.segregateSamplesBy.length&&this.isHistogram?(this.removeMenus(),this.segregateSamplesBy=i,alert("Only one segregation factor is allowed while Histogram is set")):this.validateSegregation()?(e=this.segregateSamplesBy,this.segregateSamplesBy=[],this.segregateSamples(e,!1,!0)):this.segregateSamplesBy=i},this.modifyVariableSegregation=function(t){var e={},i=this.segregateVariablesBy,a=this.segregateSamplesBy;this.layoutValid&&!this.isDOE&&this.isOneDimensionalGraph()&&this.meta.config.user.graphType&&this.meta.config.user.graphType!=this.graphType&&(this.graphType=this.meta.config.user.graphType),this.layoutTopology&&(this.layoutTopologyCurrent=this.layoutTopology.split(/X/i)),this.layoutTopology=!1;for(var s=0;s<this.segregateVariablesBy.length;s++)e[this.segregateVariablesBy[s]]=!0;e[t]?delete e[t]:e[t]=!0,this.segregateVariablesBy=this.getKeys(e),a.length&&this.segregateVariablesBy&&this.isHistogram?(this.removeMenus(),this.segregateVariablesBy=i,alert("Only one segregation factor is allowed while Histogram is set")):this.validateSegregation()?(e=this.segregateVariablesBy,this.segregateVariablesBy=[],this.segregateVariables(e,!1,!0)):this.segregateVariablesBy=i},this.modifyLayoutType=function(t){var e=this.scatterPlotMatrix;this.removeMenus(),this.showScatterPlotMatrixLabels=!0,this.unsetScatterPlotMatrix(),this.scatterPlotMatrixType=t,this.scatterPlotMatrix=!0!==e?e:!this.colorBy||this.colorBy,this.draw({func:"modifyLayoutType",par:[t]})},this.modifySummaryType=function(t){if(this.summaryType!=t)if(this.isGroupedData){var e=this.groupingFactors;this.ungroupSamples(!0),this.summaryType=t,this.meta.config.user.summaryType=t,this.groupSamples(e)}else this.summaryType=t,this.draw({func:"modifySummaryType",par:[t]})},this.modifyTransform=function(e){v=e.shift(),t=e[0],this.transform(t)},this.modifyTransformRatio=function(t,e){"sample"==t?this.ratioSampleReference==e?(this.ratioSampleReference=!1,this.transform("reset")):(this.ratioSampleReference=e,this.transform("ratio")):"group"==t?(this.ratioGroupReference==e?(this.ratioLevelReference=!1,this.ratioGroupReference=!1,this.transform("reset")):(this.ratioGroupReference=e,this.ratioLevelReference=!1,this.transform("ratio")),this.removeMenus()):"level"==t&&(this.transform("reset"),this.ratioLevelReference==e?this.ratioLevelReference=!1:this.ratioLevelReference=e,this.transform("ratio"))},this.modifySampleGroups=function(t){var e={};if(this.data.x){for(var i=0;i<this.groupingFactors.length;i++)e[this.groupingFactors[i]]=!0;e[t]?delete e[t]:e[t]=!0,this.groupSamples(this.getKeys(e))}},this.modifyTreemapGroups=function(t){if(!this.isTransition()){for(var e={},i=0;i<this.treemapBy.length;i++)e[this.treemapBy[i]]=!0;e[t]?delete e[t]:e[t]=!0,this.treemapBy=this.getKeys(e),this.draw({func:"modifyTreemapGroups",par:[t]})}},this.modifyNetworkDecorations=function(t){var e={};if(this.meta.data.nodes){for(var i=0;i<this.decorations.length;i++)e[this.decorations[i]]=!0;e[t]?delete e[t]:e[t]=!0,e=this.getKeys(e).sort(),this.isSameObject(this.decorations,e)||(this.decorations=e,this.draw({func:"modifyNetworkDecorations",par:[t]}))}},this.modifyVariableOverlays=function(t){if(!this.isTransition()){var e={};if("Heatmap"==this.graphType&&this.data.z){for(var i=0;i<this.varOverlays.length;i++)e[this.varOverlays[i]]=!0;e[t]?delete e[t]:e[t]=!0,this.varOverlays=this.getKeys(e),this.draw({func:"modifyVariableOverlays",par:[t]})}}},this.modifySampleOverlays=function(t){if(!this.isTransition()){var e={};if(this.data.x){for(var i=0;i<this.smpOverlays.length;i++)e[this.smpOverlays[i]]=!0;e[t]?delete e[t]:e[t]=!0,this.smpOverlays=this.getKeys(e),this.draw({func:"modifySampleOverlays",par:[t]})}}},this.resetDendrograms=function(){delete this.varDendrogram,delete this.smpDendrogram},this.showHideDendrogram=function(t){this.isTransition()||(this[t]?this[t]=!1:this[t]=!0,this.draw({func:"showHideDendrogram",par:[t]}))},this.changeDendrogramPosition=function(t){"left"==this[t]?this[t]="right":"right"==this[t]?this[t]="left":"top"==this[t]?this[t]="bottom":"bottom"==this[t]&&(this[t]="top")},this.resetLegendPosition=function(t){this.isTransition()||(this.resetLegends(!0),t||this.draw({func:"resetLegendPosition",par:[t]}))},this.modifyColorScheme=function(){this.isTransition()||(this.setColorScheme(),this.resetMetaData(),this.draw({func:"modifyColorScheme",prop:{colorScheme:this.colorScheme}}))},this.modifyColorSpectrumZeroValue=function(t){this.isTransition()||(this.colorSpectrumZeroValue=parseFloat(t[0]),this.setColorBrew(!0),this.resetMetaData(),this.draw({func:"modifyColorSpectrumZeroValue",par:[t]}))},this.modifyColorSpectrum=function(t){if(this.removeMenus(),!this.isTransition()){if(this.colorSpectrum.includes(t)){if(2==this.colorSpectrum.length)return void alert("Ooops... Can't do... Need at least two colors!");this.colorSpectrum=this.removeFromArray(t,this.colorSpectrum)}else this.colorSpectrum.push(t);this.setColorBrew(!0),this.resetMetaData(),this.draw({func:"modifyColorSpectrum",par:[t]})}},this.modifyColorSpectrumByScheme=function(t){if(this.removeMenus(),!this.isTransition()){var e=this.colorSpectrumTarget;if(CanvasXpress.colorSchemes[t][e])this.colorSpectrum=CanvasXpress.colorSchemes[t][e];else{var i=this.getKeys(CanvasXpress.colorSchemes[t]);if(i.sort((function(t,e){return t-e})),e>i[i.length-1])for(e--;!CanvasXpress.colorSchemes[t][e];)e--;else for(e++;!CanvasXpress.colorSchemes[t][e];)e++;this.colorSpectrum=CanvasXpress.colorSchemes[t][e]}this.setColorBrew(!0),this.resetMetaData(),this.draw({func:"modifyColorSpectrumByScheme",par:[t]})}},this.changeTheme=function(t,e){this.isTransition()||t&&(CanvasXpress.themes.hasOwnProperty(t)||t.match(/lastAirBender|gameOfThrones/))&&(delete this.layoutRestore,t.match(/lastAirBender/)?(this.colorScheme=this.capitalize(t),this.updateTheme(CanvasXpress.themes.lastAirBender)):t.match(/gameOfThrones/)?(this.colorScheme=this.capitalize(t),this.updateTheme(CanvasXpress.themes.gameOfThrones)):this.updateTheme(CanvasXpress.themes[t]),this.theme=t,this.setColorScheme(),this.resetMetaData(!0),this.updateDecorationScheme(),e||this.draw({func:"changeTheme",par:[t,e]}))},this.updateDecorationScheme=function(){if(this.graphType.match(/Scatter/))if(this.layoutValid){if(this.data.l)if(this.data.l.reg)for(var t=0;t<this.data.l.reg.length;t++)for(var e=0;e<this.data.l.reg[t].length;e++){var i=(o=this.data.l.reg[t][e].id.split(":"))[1],a=o[2],s=o[3],r=this.meta.data[s][i].order,n=this.meta.data[s][i].colors[r[a]];this.data.l.reg[t][e].fit!=this.fitLineColor&&(this.data.l.reg[t][e].fit=n),this.data.l.reg[t][e].col!=this.confidenceIntervalColor&&(this.data.l.reg[t][e].col=n)}else if(this.decorations&&this.decorations.kaplanMeier)for(t=0;t<this.decorations.kaplanMeier.length;t++)this.decorations.kaplanMeier[t].color=this.colors[t%this.colors.length]}else if(this.decorations)if(this.decorations.reg){for(t=0;t<this.decorations.reg.length;t++)if(this.decorations.reg[t].id){var o;i=(o=this.decorations.reg[t].id.split(":"))[1],a=o[2],s=o[3],r=this.meta.data[s][i].order,n=this.meta.data[s][i].colors[r[a]];this.decorations.reg[t].fit!=this.fitLineColor&&(this.decorations.reg[t].fit=n),this.decorations.reg[t].color!=this.confidenceIntervalColor&&(this.decorations.reg[t].color=n)}}else if(this.decorations.kaplanMeier)for(t=0;t<this.decorations.kaplanMeier.length;t++)this.decorations.kaplanMeier[t].color=this.colors[t%this.colors.length]},this.modifyColorProperties=function(t,e,i,a){if(!this.isTransition()){this.modifyColorPropertiesOverlays(t,e,i);var s=this.meta.data[i][e];if("Numeric"==s.type){var r=s.colorBrew.spectrum;this.validateColor(t)&&r.push(t),s.colorBrew=this.getColorBrew(r,s.rmin,s.rmax)}else{var n=s.levels.length;if(CanvasXpress.colorSchemes[t][n])s.colors=CanvasXpress.colorSchemes[t][n];else{var o=this.getKeys(CanvasXpress.colorSchemes[t]);if(o.sort((function(t,e){return t-e})),n>o[o.length-1])for(n--;!CanvasXpress.colorSchemes[t][n];)n--;else for(n++;!CanvasXpress.colorSchemes[t][n];)n++;s.colors=CanvasXpress.colorSchemes[t][n]}}a||this.draw({func:"modifyColorProperties",par:[t,e,i,a]})}},this.modifyColorPropertiesOverlays=function(t,e,i){if(this.isOneDimensionalGraph()){var a=this.meta.data[i][e];if("Numeric"==a.type){var s=a.colorBrew.spectrum;this.validateColor(t)&&s.push(t),"x"==i?(this.smpOverlayProperties||(this.smpOverlayProperties={}),this.smpOverlayProperties.hasOwnProperty(e)||(this.smpOverlayProperties[e]={}),this.smpOverlayProperties[e].spectrum=s):"z"==i&&(this.varOverlayProperties||(this.varOverlayProperties={}),this.varOverlayProperties.hasOwnProperty(e)||(this.varOverlayProperties[e]={}),this.varOverlayProperties[e].spectrum=s)}else CanvasXpress.colorSchemes.hasOwnProperty(t)&&("x"==i?(this.smpOverlayProperties||(this.smpOverlayProperties={}),this.smpOverlayProperties.hasOwnProperty(e)||(this.smpOverlayProperties[e]={}),this.smpOverlayProperties[e].scheme=t):"z"==i&&(this.varOverlayProperties||(this.varOverlayProperties={}),this.varOverlayProperties.hasOwnProperty(e)||(this.varOverlayProperties[e]={}),this.varOverlayProperties[e].scheme=t))}},this.setFont=function(t){var e=this;t=this.isArray(t)?t:[t],CanvasXpress.loadFonts(t,(function(){e.fontName=t[0],e.draw({func:"setFont",par:[t],prop:{layoutCurrent:e.iSDOE?e.layoutCurrent:0}})}))},this.toggleAttribute=function(t,e,i,a){if(!this.isTransition()){if(this.isDOE)return this.layoutConfig[this.layoutCurrent][t]=!this[t],void(a||this.draw({func:"toggleAttribute",par:[t,e,i,a]}));this[t]=!this[t],this.layoutValid&&this.layoutRestore.hasOwnProperty(t)&&(this.layoutRestore[t]=this[t]),e?(this.stack({func:"toggleAttribute",par:[t]}),this[e](i)):this.draw({func:"toggleAttribute",par:[t,e,i,a]})}},this.changeAttributeNoDraw=function(t,e){t&&e&&(this[t]=e,this.noDraw({func:"changeAttributeNoDraw",par:[t,e]}))},this.changeAttribute=function(t,e,i,a,s,r){if(!this.isTransition()){var n=e;if(CanvasXpress.doc.P[t]&&"option"==CanvasXpress.doc.P[t].T&&"false"!=CanvasXpress.doc.P[t].O[0]?n=e:"boolean"==typeof e||this.hasOwnProperty(t)?n=!(this[t]&&this[t]==e&&!i)&&(this[t]&&this[t]==e&&i?i:e):t&&e&&(n=e),this.layoutValid&&"graphType"==t&&!this.isDOE)for(var o=0;o<this.data.l.type.length;o++)this.data.l.type[o]=n;if(this.layoutValid&&this.layoutRestore&&!this.isDOE&&delete this.layoutRestore,(this.layoutValid||{graphType:!0}.hasOwnProperty(t))&&this.removeMenus(),this.isDOE)return this.layoutConfig[this.layoutCurrent][t]=n,"sortType"==t&&(this.layoutConfig[this.layoutCurrent].sortDir?this.layoutConfig[this.layoutCurrent].sortDir="ascending"==this.layoutConfig[this.layoutCurrent].sortDir?"descending":"ascending":this.layoutConfig[this.layoutCurrent].sortDir=this.sortDir),void(r||this.draw({func:"changeAttribute",par:[t,e,i,a,s,r],prop:{layoutCurrent:this.iSDOE?this.layoutCurrent:0}}));if(t&&"fontName"==t&&!CanvasXpress.fonts.hasOwnProperty(e))return this.setFont(e);t&&"ridgeBy"==t&&this.resetRidgeBy(),this[t]=n,"summaryType"==t&&this.isGroupedData&&this.regroupSamples(),a?(this.stack({func:"changeAttribute",par:[t,e,i]}),this[a](s)):this.draw({func:"changeAttribute",par:[t,e,i,a,s,r],prop:{layoutCurrent:this.iSDOE?this.layoutCurrent:0}})}},this.changeTextColorAttribute=function(t,e){this.updateTextColorAttribute(t,this.$(e).value)},this.updateTextColorAttribute=function(t,e){if(!this.isTransition()){var i=t[0],a=t[1],s=t[2];i?CanvasXpress.doc.P[i]&&"integer"==CanvasXpress.doc.P[i].T?this[i]=""!==e?parseInt(e):null:CanvasXpress.doc.P[i]&&"float"==CanvasXpress.doc.P[i].T?this[i]=""!==e?parseFloat(e):null:"height"==t||"width"==t?(e=Number(e)+18,s||(s=[e])):(this[i]=e,i.match(/[xyz]AxisTitle$/)&&(this[i+"Dynamic"]=!1)):s.unshift(e),this.layoutValid&&this.layoutRestore.hasOwnProperty(i)&&(this.layoutRestore[i]=this[i]),a?this[a](s):(this.setColorBrew(!0),this.ridgeBy||this.isContour||this.resetMetaData(),this.draw({func:"updateTextColorAttribute",par:[t,e]}))}},this.setFontAttributeStyle=function(t,e){if(!this.isTransition()){var i=this[t];"bold"==e?this[t].match(e)?this[t]=this[t].replace("bold",""):this[t]="italic"==i?"bold italic":"bold":"italic"==e?this[t].match(e)?this[t]=this[t].replace("italic",""):this[t]="bold"==i?"bold italic":"italic":(this[t]=this[t].replace("bold italic",""),this[t]=this[t].replace("bold",""),this[t]=this[t].replace("italic","")),this.draw({func:"setFontAttributeStyle",par:[t,e]})}},this.setFontAttributeSize=function(t,e){this.isTransition()||(this[t]="increase"==e?1.1*this[t]:this[t]/1.1,this.draw({func:"setFontAttributeSize",par:[t,e]}))},this.changeVariableInAxis=function(t,e){if(!this.isTransition()){if(this.xAxis&&this.xAxis2){var i=this.getObjectArray(this.xAxis),a=this.getObjectArray(this.xAxis2);if("xAxis"==e)if(a[t]){if(!(this.xAxis2.length>1))return alert("Cannot remove "+t+" from X-Axis 2"),void this.removeMenus();this.removeVariablesFromAxis([t],"xAxis2"),this.addVariablesToAxis([t],e)}else if(i[t]){if(!(this.xAxis.length>1))return alert("Cannot remove "+t+" from X-Axis"),void this.removeMenus();this.removeVariablesFromAxis([t],e)}else this.addVariablesToAxis([t],e);else if("xAxis2"==e)if(i[t]){if(!(this.xAxis.length>1))return alert("Cannot remove "+t+" from X-Axis"),void this.removeMenus();this.removeVariablesFromAxis([t],"xAxis"),this.addVariablesToAxis([t],e)}else if(a[t]){if(!(this.xAxis2.length>1))return alert("Cannot remove "+t+" from X-Axis 2"),void this.removeMenus();this.removeVariablesFromAxis([t],e)}else this.addVariablesToAxis([t],e)}this.draw({func:"changeVariableInAxis",par:[t,e]})}},this.changeSampleInAxis=function(t,e,i){if(!this.isTransition()&&this.graphType.match(/Scatter/)){var a,s,r,n;if(a=this.getObjectArray(this.xAxis),s=this.getObjectArray(this.yAxis),"ScatterBubble2D"!=this.graphType&&"Scatter3D"!=this.graphType||(r=this.getObjectArray(this.zAxis),n=!0),"xAxis"==e)if(i)this.switchSampleInAxis([t],e);else if(s[t]&&!n){if(!(this.yAxis.length>1))return alert("Cannot remove "+t+" from Y-Axis"),void this.removeMenus();this.removeSamplesFromAxis([t],"yAxis"),this.addSamplesToAxis([t],e)}else if(r&&r[t]&&!n){if(!(this.zAxis.length>1))return alert("Cannot remove "+t+" from Z-Axis"),void this.removeMenus();this.removeSamplesFromAxis([t],"zAxis")}else if(a[t]&&!n){if(!(this.xAxis.length>1))return alert("Cannot remove "+t+" from X-Axis"),void this.removeMenus();this.removeSamplesFromAxis([t],e)}else n?(this[e]=[],this.addSamplesToAxis([t],e)):this.addSamplesToAxis([t],e);else if("yAxis"==e)if(i)this.switchSampleInAxis([t],e);else if(a[t]&&!n){if(!(this.xAxis.length>1))return alert("Cannot remove "+t+" from X-Axis"),void this.removeMenus();this.removeSamplesFromAxis([t],"xAxis"),this.addSamplesToAxis([t],e)}else if(r&&r[t]&&!n){if(!(this.zAxis.length>1))return alert("Cannot remove "+t+" from Z-Axis"),void this.removeMenus();this.removeSamplesFromAxis([t],"zAxis")}else if(s[t]&&!n){if(!(this.yAxis.length>1))return alert("Cannot remove "+t+" from Y-Axis"),void this.removeMenus();this.removeSamplesFromAxis([t],e)}else n?(this[e]=[],this.addSamplesToAxis([t],e)):this.addSamplesToAxis([t],e);else if("zAxis"==e)if(i)this.switchSampleInAxis([t],e);else if(a[t]&&!n){if(!(this.xAxis.length>1))return alert("Cannot remove "+t+" from X-Axis"),void this.removeMenus();this.removeSamplesFromAxis([t],"xAxis"),this.addSamplesToAxis([t],e)}else if(s[t]&&!n){if(!(this.yAxis.length>1))return alert("Cannot remove "+t+" from Y-Axis"),void this.removeMenus();this.removeSamplesFromAxis([t],"yAxis")}else if(r[t]&&!n){if(!(this.zAxis.length>1))return alert("Cannot remove "+t+" from Z-Axis"),void this.removeMenus();this.removeSamplesFromAxis([t],e)}else n?(this[e]=[],this.addSamplesToAxis([t],e)):this.addSamplesToAxis([t],e);this.draw({func:"changeSampleInAxis",par:[t,e,i]})}},this.modifyOncoprintNoAlterations=function(){this.oncoprintNoAlterations?(this.resetDataFilter(!1,!1,!1,this.oncoprintVarIndices,this.oncoprintSmpIndices),this.hideUnhideDataTable(!0),this.oncoprintVarIndices=!1,this.oncoprintSmpIndices=!1):(this.oncoprintVarIndices=this.cloneObject(this.varIndices),this.oncoprintSmpIndices=this.cloneObject(this.smpIndices),this.toDoFilter={sample:{"Altered-Smps":{min:1}},variable:{"Altered-Vars":{min:1}}},this.updateDataFilter(!0,!0))},this.modifySort=function(t,e,i,a,s,r){var n=this;if(this.isDOE&&!r)return this.layoutConfig[this.layoutCurrent].sortData=[[t,e,i]],void this.draw({func:"modifySort",par:[t,e,i,a,s,r]});var o="smp"==e?["sortingSampleCategories","sortingVariables"]:["sortingVariableCategories","sortingSamples"];o="cat"==t?[o[0]]:[o[1]],this.sortingSampleCategories||(this.sortingSampleCategories=[]),this.sortingVariableCategories||(this.sortingVariableCategories=[]);var h=function(t){for(var e=[],a=0;a<n[t].length;a++)n[t][a]!=i&&e.push(n[t][a]);n[t]=e},l=function(t){n[t].length<3?n[t].push(i):(n.removeMenus(),alert("Maximum of three sorting levels reached"))};if("samples"!=i&&"variables"!=i&&"both"!=t)for(var c=0;c<o.length;c++){this[o[c]]||(this[o[c]]=[]);var d=this.getObjectArray(this[o[c]]);"sortingVariables"==o[c]?this.getVariableIndices(i):"sortingSamples"==o[c]&&this.getSampleIndices(i),d.hasOwnProperty(i)?h(o[c]):l(o[c])}"both"==t?this.sortingSampleCategories&&this.sortingSampleCategories.length&&this.sortingVariableCategories&&this.sortingVariableCategories.length?(this.sortSamplesByCategory(this.sortingSampleCategories,!0),this.sortVariablesByCategory(this.sortingVariableCategories,a)):this.sortingSampleCategories&&this.sortingSampleCategories.length?this.sortSamplesByCategory(this.sortingSampleCategories,!1,a):this.sortingVariableCategories&&this.sortingVariableCategories.length?this.sortVariablesByCategory(this.sortingVariableCategories,a):(this.sortSamples(!1,!1,!1,!1,!0),this.sortVariables(!1,!1,!1,!1,a)):"smp"==e?"cat"==t?this.sortSamplesByCategory(this.sortingSampleCategories,a):"var"==t?this.sortSamplesByVariable(this.sortingVariables,!1,a):"samples"==i&&this.sortSamples(!1,!1,!1,!1,a):"var"==e?"cat"==t?this.sortVariablesByCategory(this.sortingVariableCategories,a):"smp"==t?this.sortVariablesBySample(this.sortingSamples,a):"variables"==i&&this.sortVariables(!1,!1,!1,!1,a):"varIndex"!=t[0]&&"smpIndex"!=t[0]&&"grpIndex"!=t[0]||(this.sortDir="ascending"==this.sortDir?"descending":"ascending","varIndex"==t?this.sortVariables(this.sortDir,!1,!1,t[0],a):this.sortSamples(this.sortDir,!1,!1,t[0],a));s&&this.resortData()},this.sortSamples=function(t,e,i,a,s){this.isTransition()||(this.sortIndices("smps",t,e,!1,i,a),this.setOriginalIndices(!1,!1,!1,!0),s||this.draw({func:"sortSamples",par:[t,e,i,a,s],prop:{sortDir:this.sortDir}}))},this.sortSamplesByCategory=function(t,e){this.isTransition()||(this.sortIndices("smps",!1,t),this.setOriginalIndices(!1,!1,!1,!0),e||this.draw({func:"sortSamplesByCategory",par:[t,e],prop:{sortDir:this.sortDir}}))},this.sortSamplesByVariable=function(t,e,i){if(!this.isTransition()){var a=parseInt(this.getVariableIndices(t));this.sortIndices("smps",!1,!1,!1,a+1,e),this.setOriginalIndices(!1,!1,!1,!0),i||this.draw({func:"sortSamplesByVariable",par:[t,e,i],prop:{sortDir:this.sortDir}})}},this.sortVariables=function(t,e,i,a,s){this.isTransition()||(this.sortIndices("vars",t,e,i,!1,a,s),this.setOriginalIndices(!1,!1,!1,!0),s||this.draw({func:"sortVariables",par:[t,e,i,a,s],prop:{sortDir:this.sortDir}}))},this.sortVariablesByCategory=function(t,e){this.isTransition()||(this.sortIndices("vars",!1,t),this.setOriginalIndices(!1,!1,!1,!0),e||this.draw({func:"sortVariablesByCategory",par:[t,e],prop:{sortDir:this.sortDir}}))},this.sortVariablesBySample=function(t,e){if(!this.isTransition()){var i=parseInt(this.getSampleIndices(t));this.sortIndices("vars",!1,!1,i+1),this.setOriginalIndices(!1,!1,!1,!0),e||this.draw({func:"sortVariablesBySample",par:[t,e],prop:{sortDir:this.sortDir}})}},this.showConfiguratorCategory=function(t,e){this.removeMenus(),this.addConfigurator(t),this.clickSearch(t),this.changeCategory(t,!1,e),this.hideCategories()},this.rebuildDataTableFilter=function(t,e){if(!this.graphType.match(/Scatter/)||!this.showLoessFit&&!this.isContour){if(!t){o=this;var i=this.$(this.target+"-cX-DataFilter"),a=!(!i||"block"!=i.style.display),s=(this.$(this.target+"-cX-DataTable"),this.dataTableLastState),r=!!this.$(this.target+"-cX-DataExplorer"),n=this.appLayout;return n?this.clickLayout():(a&&this.hideDataFilter(),s&&this.hideTable()),setTimeout((function(){s&&o.rebuildDataTable(),a&&o.rebuildDataFilter()}),500),[n,a,s,r]}var o=this;t[3]&&!e&&o.resetDataExplorer(),setTimeout((function(){t[0]?o.clickLayout(!1,(function(){o.activeAccordion=!1,o.activateAccordion(!1,o.$(o.target+"-cX-DataFilterVariableHeader"))})):(t[1]&&o.clickDataFilters(),t[2]&&o.clickDataTable())}),2e3)}}},CanvasXpress.prototype.initRandom=function(){this.round=function(t,e){return Number(Math.round(t+"e"+e)+"e-"+e)},this.createRandomData=function(t,e){var i=this,a={},s={},r=[],n=[],o=[],h=[];if("Network"==this.graphType)a=this.createRandomNetwork();else if("Venn"==this.graphType)a=this.createRandomVenn();else if("Genome"==this.graphType)a=this.createRandomGenome();else{var l=function(t,e){var n=[];if(t){for(var o=0;o<t;o++)n.push(i.randomBetween(i.randomDataMin,i.randomDataMax));return n}switch(i.randomDataDistribution){case"biased":for(o=0;o<i.randomDataVariables;o++)for(var h=a.z?a.z.Annt1[o].split(":")[1]-1:0,l=0;l<i.randomDataSamples;l++){var c=a.x?a.x.Factor1[l].split(":")[1]-1:0,d=r[s[h+":"+c]];e?n.push(i.randomIntBetween(d[0],d[1])):n.push(i.round(i.randomBetween(d[0],d[1]),2))}return n;case"range":for(o=0;o<i.randomDataVariables;o++)for(l=0;l<i.randomDataSamples;l++)e?n.push(i.randomIntBetween(i.randomDataMin,i.randomDataMax)):n.push(i.round(i.randomBetween(i.randomDataMin,i.randomDataMax),2));return n;case"normal":return i.rnorm(i.randomDataVariables*i.randomDataSamples,i.randomDataMean,i.randomDataSigma);case"uniform":for(o=0;o<i.randomDataVariables;o++)for(l=0;l<i.randomDataSamples;l++)n.push(100);return n;case"symmetrical":for(o=0;o<i.randomDataVariables;o++)for(l=0;l<i.randomDataSamples;l++)n.push(10*o+5*(l+1));return n}};!function(){for(var t=(i.randomDataMax-i.randomDataMin)/4,e=[],a=0,n=0;n<4;n++)e.push(n*t),r.push([i.round(Math.max(i.randomDataMin,a-.15*t),0),i.round(Math.min(a+1.15*t,i.randomDataMax),0)]),a+=t;var o=0;for(n=0;n<2;n++)for(var h=0;h<2;h++)s[n+":"+h]=o,o++}(),this.randomDataVariableAnnotations>0&&(a.z={});for(var c=0;c<this.randomDataVariableAnnotations;c++){var d=l(this.randomDataVariables,c%2);a.z["Annt"+(c+1)]=[],a.z["VCov"+(c+1)]=[];for(var p=0;p<this.randomDataVariables;p++)a.z["Annt"+(c+1)][p]="Desc:"+this.randomIntBetween(1,c+2),a.z["VCov"+(c+1)][p]=d[p]}this.randomDataSampleAnnotations>0&&(a.x={});for(c=0;c<this.randomDataSampleAnnotations;c++){d=l(this.randomDataSamples,c%2);a.x["Factor"+(c+1)]=[],a.x["SCovar"+(c+1)]=[];for(p=0;p<this.randomDataSamples;p++)a.x["Factor"+(c+1)][p]="Lev:"+this.randomIntBetween(1,c+2),a.x["SCovar"+(c+1)][p]=d[p]}a.y={},a.y.data=[],a.y.vars=[],a.y.smps=[];for(c=0;c<this.randomDataSamples;c++)this.randomDataTime?a.y.smps[c]=new Date(this.meta.time.start+c*this.times.day):a.y.smps[c]="S"+(c+1);var g=l(),u=!!t&&l(),m=["A","B","C","D","E","F"],f=0;for(c=0;c<this.randomDataVariables;c++){a.y.data[c]=[],a.y.vars[c]="V"+(c+1),n[c]=[],o[c]=[],h[c]=[];for(p=0;p<this.randomDataSamples;p++)a.y.data[c][p]=this.round(g[f],2),t&&(n[c][p]=this.round(u[f],2),o[c][p]=m[parseInt(5*this.random())],h[c][p]=m[parseInt(2*this.random())]),f++}if(t&&(a.y.data2=n,a.y.data3=o,a.y.data4=h),this.randomMissingDataPercentage>0&&this.randomMissingDataPercentage<1)for(var y=0,x=this.randomDataVariables*this.randomDataSamples*this.randomMissingDataPercentage;y<x;){c=Math.floor(this.random()*this.randomDataVariables),p=Math.floor(this.random()*this.randomDataSamples);null!=a.y.data[c][p]&&(a.y.data[c][p]=null,y++)}}if(e)return a;"Network"==this.graphType&&(this.calculateLayout=!0,this.isLayoutDone=!1),this.randomData=!0,this.data&&!this.dataStndBy&&(this.dataStndBy=this.data,this.configStndBy=this.getConfig(),this.data={}),a&&(this.resetConfig(["graphType"]),this.updateData(a,!0))},this.restoreRandomData=function(){this.switchData(!0)},this.createRandomFunction=function(){return{fx:"sin(2y) * cos(3x) / sec(xy)"}},this.createRandomSankey=function(){return{y:{vars:["Weight"],smps:["S1","S2","S3","S4","S5","S6"],data:[[5,7,6,2,9,4]]},x:{Source:["A","A","A","B","B","B"],Target:["X","Y","Z","X","Y","Z"],Source2:["B","A","A","A","B","B"],Target2:["Y","Y","Z","X","X","Z"],Weight:[1,2,3,4,5,6]}}},this.createRandomCircular=function(t){var e=this.getDataSet(t.replace(/RandomCircular2/,"Random").replace(/RandomCircular/,"Random"));e.z||(e.z={}),e.z.Ring=[];for(var i=0;i<e.y.vars.length;i++)e.z.Ring.push(this.randomIntBetween(1,3));if(t.match(/RandomCircular2/)){e.z.Ring.push(-1),e.y.vars.push("Number");var a=[];for(i=0;i<e.y.smps.length;i++)a.push(i+1);e.y.data.push(a)}return e},this.createRandomChord=function(){return{y:{vars:["A","B","C","D"],smps:["A","B","C","D"],data:[[11975,5871,8916,2868],[1951,10048,2060,6171],[8010,16145,8090,8045],[1013,990,940,6907]]}}},this.createRandomIdeogram=function(t){var e=CanvasXpress.chromosomes.hg19,i=t?this.getDataSet(t.replace(/RandomIdeogram/,"Random")):this.getDataSet("Random:200:10:4:4");i.z||(i.z={}),i.z.chr=[],i.z.pos=[];for(var a=0;a<e.order.length;a++)for(var s=e.order[a],r=e.data[s][e.data[s].length-1][1],n=(t=Math.ceil(r/2e7),0);n<t&&i.z.chr.length<i.y.vars.length;n++)i.z.chr.push(s),i.z.pos.push(this.randomIntBetween(1,r));for(;i.z.chr.length<i.y.vars.length;){s=e.order[this.randomIntBetween(0,23)],r=e.data[s][e.data[s].length-1][1];i.z.chr.push(s),i.z.pos.push(this.randomIntBetween(1,r))}return i},this.createRandomNonLinearFit=function(){return{y:{vars:["S1","S2","S3","S4","S5","S6","S7","S8","S9","S10","S11","S12"],smps:["Concentration","V1"],data:[[9e-4,172],[.0018,177],[.0037,160],[.0073,166],[.0146,211],[.0293,248],[.0586,269],[.117,283],[.234,298],[.469,314],[.938,328],[1.88,316]]}}},this.createRandomKaplanMeier=function(){return{y:{vars:["p1","p2","p3","p4","p5","p6","p7","p8","p9","p10","p11","p12","p13","p14","p15","p16","p17","p18","p19","p20"],smps:["Time","Censored-1","Censored-2"],data:[[1,0,1],[2,0,1],[3,0,1],[3,0,1],[1,1,1],[2,1,1],[2,1,2],[3,1,1],[3,1,1],[4,0,0],[5,0,0],[6,0,0],[6,0,0],[7,1,0],[8,0,1],[9,0,0],[9,0],[9,0],[10,1],[11,1]]},z:{grp:["A","B","A","B","A","B","A","B","A","B","A","B","A","B","A","B","A","B","A","B"],cls:["A","A","A","A","A","A","A","A","A","B","B","B","B","B","B","B","B","B","B","B"]}}},this.createRandomVenn=function(){return{venn:{data:{A:340,B:562,C:620,D:592,AB:639,AC:456,AD:257,BC:915,BD:354,CD:143,ABC:552,ABD:578,ACD:298,BCD:613,ABCD:148},legend:{A:"List1",B:"List2",C:"List3",D:"List4"}}}},this.createRandomNetwork=function(){for(var t=this,e=function(){for(var e=0;e<t.randomNetworkNodes;e++){var i=Math.floor(t.random()*t.randomNetworkNodeEdgesMax);if(r.hasOwnProperty(e)||(r[e]=0),r[e]>3||!t.randomNetworkReduce)for(;r[e]<i;){var a=Math.floor(t.random()*t.randomNetworkNodes);a==e||n[a+":"+e]||n[e+":"+a]||(r.hasOwnProperty(a)||(r[a]=0),h.push([a,e]),r.hasOwnProperty(a)||(r[a]=0),r.hasOwnProperty(e)||(r[e]=0),r[a]++,r[e]++,n[a+":"+e]=!0,n[e+":"+a]=!0)}}},i=function(e,i){var a=t.randomNetworkAll&&!f?Math.floor(t.random()*t.shapes.length):0;"image"==t.shapes[a]&&(a=0),e.shape=t.shapes[a],e.color=t.randomNetworkAll&&!f?t.colors[Math.floor(t.random()*t.colors.length)]:"lightblue",e.size=1,f?i&&(e.label=i):(e.type="Type"+Math.ceil(3*t.random()),e.D1=Math.floor(4*t.random()),e.D2=Math.floor(6*t.random()),e.D3=Math.floor(8*t.random()),e.D4={Da:Math.floor(1*t.random()),Db:Math.floor(5*t.random()),Dc:Math.floor(10*t.random())},e.D5={Da:Math.floor(10*t.random()),Db:Math.floor(1*t.random()),Dc:Math.floor(5*t.random())})},a=function(e){if(e.color=t.randomNetworkAll&&!f?t.colors[Math.floor(t.random()*t.colors.length)]:"black",e.width=1,e.type="line",f||(e.kind="Type"+Math.ceil(3*t.random())),t.randomNetworkAll&&!f){e.type=t.lines[Math.floor(t.random()*t.lines.length)];var i=Math.floor(6*t.random()),a=Math.floor(6*t.random());i<3&&(e.startArrow=t.arrows[i]),a<3&&(e.endArrow=t.arrows[a])}},s={nodes:[],edges:[]},r={},n={},o=[],h=[],l=["Myriel","Napoleon","MlleBaptistine","MmeMagloire","CountessDeLo","Geborand","Champtercier","Cravatte","Count","OldMan","Labarre","Valjean","Marguerite","MmeDeR","Isabeau","Gervais","Tholomyes","Listolier","Fameuil","Blacheville","Favourite","Dahlia","Zephine","Fantine","MmeThenardier","Thenardier","Cosette","Javert","Fauchelevent","Bamatabois","Perpetue","Simplice","Scaufflaire","Woman1","Judge","Champmathieu","Brevet","Chenildieu","Cochepaille","Pontmercy","Boulatruelle","Eponine","Anzelma","Woman2","MotherInnocent","Gribier","Jondrette","MmeBurgon","Gavroche","Gillenormand","Magnon","MlleGillenormand","MmePontmercy","MlleVaubois","LtGillenormand","Marius","BaronessT","Mabeuf","Enjolras","Combeferre","Prouvaire","Feuilly","Courfeyrac","Bahorel","Bossuet","Joly","Grantaire","MotherPlutarch","Gueulemer","Babet","Claquesous","Montparnasse","Toussaint","Child1","Child2","Brujon","MmeHucheloup"],c={duo:[],trio:[0],pentagon:[0,0,0,0],hexagon:[0,0,0,0,0],octagon:[0,0,0,0,0,0],star:[1,0,2,0,3,0,4,0,5],small:[3,3,3,4],medium:[0,1,0,2,2,4],large:[3,2,3,4,5,6,2,2,5,5,5,1,4,1,0,7,7],huge:[0,1,4,1,1,1,5,0,6,7,9,9,2,2,15,5,5,11,14,1,0,7,7,1,1,3,5,8,18,7,6,11,10,3,1,18,10,8,8,6]},d=Math.ceil(Math.sqrt(this.randomNetworkNodes))+1,p=d,g=d;(g-1)*p>=this.randomNetworkNodes;)g--;var u=this.x/p,m=this.y/g,f=!1;if("lesmiserables"==this.randomNetworkLayout?(f=!0,h=[[1,0],[2,0],[3,0],[3,2],[4,0],[5,0],[6,0],[7,0],[8,0],[9,0],[11,10],[11,3],[11,2],[11,0],[12,11],[13,11],[14,11],[15,11],[17,16],[18,16],[18,17],[19,16],[19,17],[19,18],[20,16],[20,17],[20,18],[20,19],[21,16],[21,17],[21,18],[21,19],[21,20],[22,16],[22,17],[22,18],[22,19],[22,20],[22,21],[23,16],[23,17],[23,18],[23,19],[23,20],[23,21],[23,22],[23,12],[23,11],[24,23],[24,11],[25,24],[25,23],[25,11],[26,24],[26,11],[26,16],[26,25],[27,11],[27,23],[27,25],[27,24],[27,26],[28,11],[28,27],[29,23],[29,27],[29,11],[30,23],[31,30],[31,11],[31,23],[31,27],[32,11],[33,11],[33,27],[34,11],[34,29],[35,11],[35,34],[35,29],[36,34],[36,35],[36,11],[36,29],[37,34],[37,35],[37,36],[37,11],[37,29],[38,34],[38,35],[38,36],[38,37],[38,11],[38,29],[39,25],[40,25],[41,24],[41,25],[42,41],[42,25],[42,24],[43,11],[43,26],[43,27],[44,28],[44,11],[45,28],[47,46],[48,47],[48,25],[48,27],[48,11],[49,26],[49,11],[50,49],[50,24],[51,49],[51,26],[51,11],[52,51],[52,39],[53,51],[54,51],[54,49],[54,26],[55,51],[55,49],[55,39],[55,54],[55,26],[55,11],[55,16],[55,25],[55,41],[55,48],[56,49],[56,55],[57,55],[57,41],[57,48],[58,55],[58,48],[58,27],[58,57],[58,11],[59,58],[59,55],[59,48],[59,57],[60,48],[60,58],[60,59],[61,48],[61,58],[61,60],[61,59],[61,57],[61,55],[62,55],[62,58],[62,59],[62,48],[62,57],[62,41],[62,61],[62,60],[63,59],[63,48],[63,62],[63,57],[63,58],[63,61],[63,60],[63,55],[64,55],[64,62],[64,48],[64,63],[64,58],[64,61],[64,60],[64,59],[64,57],[64,11],[65,63],[65,64],[65,48],[65,62],[65,58],[65,61],[65,60],[65,59],[65,57],[65,55],[66,64],[66,58],[66,59],[66,62],[66,65],[66,48],[66,63],[66,61],[66,60],[67,57],[68,25],[68,11],[68,24],[68,27],[68,48],[68,41],[69,25],[69,68],[69,11],[69,24],[69,27],[69,48],[69,41],[70,25],[70,69],[70,68],[70,11],[70,24],[70,27],[70,41],[70,58],[71,27],[71,69],[71,68],[71,70],[71,11],[71,48],[71,41],[71,25],[72,26],[72,27],[72,11],[73,48],[74,48],[74,73],[75,69],[75,68],[75,25],[75,48],[75,41],[75,70],[75,71],[76,64],[76,65],[76,66],[76,63],[76,62],[76,48],[76,58]]):"karate"==this.randomNetworkLayout&&(f=!0,h=[[1,0],[2,0],[2,1],[3,0],[3,1],[3,2],[4,0],[5,0],[6,0],[6,4],[6,5],[7,0],[7,1],[7,2],[7,3],[8,0],[8,2],[9,2],[10,0],[10,4],[10,5],[11,0],[12,0],[12,3],[13,0],[13,1],[13,2],[13,3],[16,5],[16,6],[17,0],[17,1],[19,0],[19,1],[21,0],[21,1],[25,23],[25,24],[27,2],[27,23],[27,24],[28,2],[29,23],[29,26],[30,1],[30,8],[31,0],[31,24],[31,25],[31,28],[32,2],[32,8],[32,14],[32,15],[32,18],[32,20],[32,22],[32,23],[32,29],[32,30],[32,31],[33,8],[33,9],[33,13],[33,14],[33,15],[33,18],[33,19],[33,20],[33,22],[33,23],[33,26],[33,27],[33,28],[33,29],[33,30],[33,31],[33,32]]),this.randomNetworkReduce||f){if(!f)if(c.hasOwnProperty(this.randomNetworkLayout))h=this.prufer(c[this.randomNetworkLayout]);else{for(var y=this.randomNetworkNodes-2,x=0;x<y;x++)h.push(Math.floor(this.random()*(y-x)));h=this.prufer(h)}for(x=0;x<h.length;x++)r.hasOwnProperty(h[x][0])||(r[h[x][0]]=0),r.hasOwnProperty(h[x][1])||(r[h[x][1]]=0),r[h[x][0]]++,r[h[x][1]]++,n[h[x][0]+":"+h[x][1]]=!0,n[h[x][1]+":"+h[x][0]]=!0;c.hasOwnProperty(this.randomNetworkLayout)||"radial"==this.randomNetworkLayout||f||e(),o=this.sortObject(r)}else{for(y=Math.ceil(this.random()*this.randomNetworkNodes),x=0;x<y;x++)o.push(x);e()}o=o.sort((function(t,e){return r[e]-r[t]}));for(x=0;x<o.length;x++){var b=o[x],v=parseInt(x/p)+1,A=parseInt(x%p)+1,w="lesmiserables"==this.randomNetworkLayout&&l[b],C={id:"ND"+b,x:10*parseInt(A*u),y:10*parseInt(v*m),z:(parseInt(A*u)+parseInt(v*m))/2,n:r[b]};if(1==r[b])for(var T in n){var S=T.split(":");if(S[0]==b){C.parentNode="ND"+S[1];break}}i(C,w),s.nodes.push(C)}for(x=0;x<h.length;x++){var D={id1:"ND"+h[x][0],id2:"ND"+h[x][1]};a(D),s.edges.push(D)}return s},this.createRandomGenome=function(){return{tracks:[{name:"Affymetrix Probes",type:"box",connect:!0,data:[{id:"123456_at",fill:"rgb(255,255,51)",outline:"rgb(0,0,0)",dir:"right",data:[[10,20],[30,40],[50,60],[70,80],[90,100],[110,120]],sequences:["GTTTTACGTAC","TACGTACGTAC","GGTTTACGTAC","GGTTTACGTAC","GGTTTACGTAC","GGTTTACGTAC"]},{id:"345678_at",fill:"rgb(255,255,51)",outline:"rgb(0,0,0)",dir:"right",data:[[100,110],[120,130],[140,150],[160,170],[180,190]]}]},{name:"Sanger Sequencing (Multiple sequeneces)",highlight:[{offset:80,width:1,color:"rgb(120,120,180)"},{offset:185,width:1,color:"rgb(180,20,180)"}],subtype:"DNA",type:"sequence",data:[{id:"Reference Sequence",fill:"rgb(51,255,255)",outline:"rgb(0,0,0)",dir:"right",offset:1,sequence:"AAAACCCGGGTTTTACGTACGTACGTACGTACGTACGTACGTAAACCCGGGTTTACGTACGTAAACCCGGGTTTACGTACGTAAACCCGGGTTTACGTACGTAAACCCGGGTTTACGTACGTAAACCCGGGTTTACGTACGTAAACCCGGGTTTACGTACGTAAACCCGGGTTTACGTACGTAAACCCGGGTTTAAACC",translate:[-3,-2,-1,1,2,3]},{id:"R1-0000-1234",fill:"rgb(255,255,51)",outline:"rgb(0,0,0)",dir:"right",offset:1,gaps:[[18,1],[22,1]],sequence:"AAAACCCGGGTTTTACGTCGTAGTACGTACGTACGTACGTAAACCCGGGTTTACGTACGTAAACCCGGGTTTACGTACGTAA",coordinate:50,trace:{A:[57,127,237,371,486,531,486,371,237,127,57,54,117,217,339,442,484,442,339,217,117,54,10,24,60,130,240,375,490,535,490,375,240,130,60,24,10,56,121,222,346,452,494,452,346,222,121,56,7,14,27,48,74,95,104,95,74,48,27,14,7,6,8,14,27,46,69,90,98,90,69,46,27,14,8,6,4,5,7,14,27,47,72,93,101,93,72,47,27,14,7,5,4,5,11,23,42,65,85,92,85,65,42,23,11,5,7,14,27,48,74,95,104,95,74,48,27,14,7,1,2,4,10,22,42,65,85,93,85,65,42,22,10,4,2,1,5,12,24,44,68,88,97,88,68,44,24,12,5,4,5,7,14,27,47,72,94,102,94,72,47,27,14,7,5,4,2,4,10,22,41,64,83,91,83,64,41,22,10,4,2,12,24,43,67,87,95,87,67,43,24,12,21,52,113,210,328,429,469,429,328,210,113,52,21,4,6,13,26,47,72,93,102,93,72,47,26,13,6,4,4,6,13,26,46,71,92,100,92,71,46,26,13,6,4,6,8,14,27,46,69,89,97,89,69,46,27,14,8,6,4,5,8,14,28,49,76,98,107,98,76,49,28,14,8,5,4,7,13,25,45,68,88,96,88,68,45,25,13,7,5,11,24,43,67,88,96,88,67,43,24,11,5,22,54,118,219,342,447,489,447,342,219,118,54,22,5,12,25,46,71,93,102,93,71,46,25,12,5,5,12,24,44,68,89,97,89,68,44,24,12,5,20,54,121,226,355,465,508,465,355,226,121,54,20,3,4,6,13,25,45,70,91,99,91,70,45,25,13,6,4,3,6,8,15,27,47,71,91,99,91,71,47,27,15,8,6,1,2,4,11,24,44,69,90,98,90,69,44,24,11,4,2,1,6,11,25,60,128,237,369,482,527,482,369,237,128,60,25,11,6,2,5,12,25,47,74,97,106,97,74,47,25,12,5,2,5,8,15,29,51,78,101,110,101,78,51,29,15,8,5,5,12,26,48,75,98,107,98,75,48,26,12,5,6,18,48,107,201,315,412,451,412,315,201,107,48,18,6,9,16,31,53,81,105,114,105,81,53,31,16,9,6,8,15,28,48,73,94,103,94,73,48,28,15,8,6,11,23,42,65,85,92,85,65,42,23,11,19,51,113,212,332,434,475,434,332,212,113,51,19,8,15,28,49,74,95,104,95,74,49,28,15,8,12,26,49,76,99,109,99,76,49,26,12,12,24,43,67,86,94,86,67,43,24,12,22,54,118,218,341,445,487,445,341,218,118,54,22,21,52,112,208,324,423,462,423,324,208,112,52,21,10,23,54,115,212,330,430,471,430,330,212,115,54,23,10,2,3,5,12,25,45,69,91,99,91,69,45,25,12,5,3,2,2,3,5,12,24,44,68,88,97,88,68,44,24,12,5,3,2,8,15,28,50,77,100,109,100,77,50,28,15,8,12,26,48,74,96,105,96,74,48,26,12,13,27,48,74,96,105,96,74,48,27,13,13,25,45,70,91,99,91,70,45,25,13,7,14,28,49,75,97,105,97,75,49,28,14,7,2,5,12,26,48,74,97,106,97,74,48,26,12,5,2,16,30,53,80,103,113,103,80,53,30,16,25,61,133,246,384,501,548,501,384,246,133,61,25,6,13,25,45,69,90,98,90,69,45,25,13,6,5,6,9,15,29,50,77,99,108,99,77,50,29,15,9,6,5,10,23,42,65,86,94,86,65,42,23,10,9,23,55,120,223,348,454,497,454,348,223,120,55,23,9,2,4,11,23,43,67,88,96,88,67,43,23,11,4,2,2,3,6,12,26,48,74,96,105,96,74,48,26,12,6,3,2,15,28,49,74,96,104,96,74,49,28,15,22,55,120,223,348,455,498,455,348,223,120,55,22,22,53,115,213,332,434,474,434,332,213,115,53,22,7,20,53,118,221,346,454,496,454,346,221,118,53,20,7,2,3,5,11,24,44,67,88,96,88,67,44,24,11,5,3,2,15,28,50,75,97,106,97,75,50,28,15,1,2,5,12,25,47,74,96,105,96,74,47,25,12,5,2,1,6,8,15,28,49,74,96,104,96,74,49,28,15,8,6,5,12,26,47,72,94,103,94,72,47,26,12,5,8,15,27,47,71,92,100,92,71,47,27,15,8,3,5,11,23,42,65,84,92,84,65,42,23,11,5,3,5,12,25,45,70,91,100,91,70,45,25,12,5,1,2,4,10,22,41,64,84,92,84,64,41,22,10,4,2,1,7,20,51,113,212,331,433,474,433,331,212,113,51,20,7,2,3,5,12,25,46,72,94,102,94,72,46,25,12,5,3,2,2,4,11,25,46,72,94,102,94,72,46,25,11,4,2,2,3,6,12,26,48,74,97,106,97,74,48,26,12,6,3,2,10,25,61,133,247,386,504,551,504,386,247,133,61,25,10,15,27,47,71,92,100,92,71,47,27,15,5,8,15,28,50,76,99,108,99,76,50,28,15,8,5,2,3,6,13,26,48,75,98,107,98,75,48,26,13,6,3,2,8,22,57,127,238,372,487,532,487,372,238,127,57,22,8,60,129,237,370,483,528,483,370,237,129,60],C:[6,13,23,34,45,49,45,34,23,13,6,9,16,28,41,53,58,53,41,28,16,9,4,5,9,15,26,39,49,54,49,39,26,15,9,5,4,10,17,28,41,52,57,52,41,28,17,10,21,51,111,206,321,419,459,419,321,206,111,51,21,11,26,62,134,248,387,505,552,505,387,248,134,62,26,11,5,10,24,58,126,233,364,475,520,475,364,233,126,58,24,10,5,3,7,13,23,35,46,50,46,35,23,13,7,3,6,9,16,27,41,52,57,52,41,27,16,9,6,1,1,3,6,13,24,38,49,54,49,38,24,13,6,3,1,1,3,6,13,22,34,45,49,45,34,22,13,6,3,4,4,5,8,14,24,36,46,50,46,36,24,14,8,5,4,4,1,2,6,12,23,36,47,51,47,36,23,12,6,2,1,7,13,23,34,44,48,44,34,23,13,7,5,8,15,27,41,52,57,52,41,27,15,8,5,8,21,52,113,211,329,431,471,431,329,211,113,52,21,8,3,4,8,14,24,37,47,51,47,37,24,14,8,4,3,5,6,10,16,27,39,50,54,50,39,27,16,10,6,5,5,9,22,52,114,210,328,428,468,428,328,210,114,52,22,9,5,6,9,16,27,41,53,57,53,41,27,16,9,6,3,7,13,24,36,47,51,47,36,24,13,7,3,4,8,15,25,38,49,54,49,38,25,15,8,4,4,7,14,25,38,49,54,49,38,25,14,7,4,3,7,14,24,37,48,52,48,37,24,14,7,3,2,6,13,23,36,47,51,47,36,23,13,6,2,4,8,21,52,114,212,331,433,474,433,331,212,114,52,21,8,4,5,6,10,16,27,39,50,54,50,39,27,16,10,6,5,1,1,3,6,13,24,38,49,54,49,38,24,13,6,3,1,1,5,5,7,10,17,29,43,54,59,54,43,29,17,10,7,5,5,6,18,49,109,203,319,417,457,417,319,203,109,49,18,6,4,6,9,16,27,41,52,57,52,41,27,16,9,6,4,2,5,12,21,33,43,47,43,33,21,12,5,2,1,2,6,12,22,34,45,49,45,34,22,12,6,2,1,25,61,131,242,376,492,538,492,376,242,131,61,25,5,6,9,15,25,36,46,50,46,36,25,15,9,6,5,7,14,26,39,51,56,51,39,26,14,7,3,6,13,24,38,50,54,50,38,24,13,6,3,24,56,121,224,348,454,497,454,348,224,121,56,24,6,12,22,35,45,49,45,35,22,12,6,8,14,24,36,47,51,47,36,24,14,8,5,9,15,25,38,48,53,48,38,25,15,9,5,5,9,15,25,37,47,51,47,37,25,15,9,5,5,7,10,17,29,42,54,59,54,42,29,17,10,7,5,3,7,20,52,116,217,339,443,485,443,339,217,116,52,20,7,3,3,8,22,55,123,229,358,469,513,469,358,229,123,55,22,8,3,22,52,114,210,328,428,468,428,328,210,114,52,22,7,14,25,38,49,54,49,38,25,14,7,7,13,23,35,45,49,45,35,23,13,7,8,14,24,36,47,51,47,36,24,14,8,6,9,16,27,41,52,57,52,41,27,16,9,6,1,2,6,12,22,34,45,49,45,34,22,12,6,2,1,10,16,26,39,49,54,49,39,26,16,10,5,8,14,24,36,46,49,46,36,24,14,8,5,22,54,119,222,346,453,495,453,346,222,119,54,22,5,5,6,10,16,26,38,49,53,49,38,26,16,10,6,5,5,6,13,24,37,48,53,48,37,24,13,6,4,5,9,15,26,38,49,53,49,38,26,15,9,5,4,7,20,53,119,223,349,457,500,457,349,223,119,53,20,7,2,2,4,7,14,25,38,50,54,50,38,25,14,7,4,2,2,10,16,27,39,50,55,50,39,27,16,10,5,8,15,27,41,52,57,52,41,27,15,8,5,6,9,16,27,40,51,56,51,40,27,16,9,6,1,2,6,12,22,35,45,49,45,35,22,12,6,2,1,3,8,22,56,124,232,362,474,519,474,362,232,124,56,22,8,3,56,120,221,345,450,492,450,345,221,120,56,2,7,21,55,122,229,358,469,513,469,358,229,122,55,21,7,2,5,7,10,17,27,40,51,56,51,40,27,17,10,7,5,3,7,13,23,35,45,50,45,35,23,13,7,3,6,9,15,25,36,46,50,46,36,25,15,9,6,2,3,7,13,24,37,48,52,48,37,24,13,7,3,2,4,7,14,25,39,50,55,50,39,25,14,7,4,1,1,2,6,12,22,34,44,49,44,34,22,12,6,2,1,1,2,3,7,13,23,35,46,50,46,35,23,13,7,3,2,3,8,23,58,129,240,376,492,539,492,376,240,129,58,23,8,3,1,2,6,13,23,36,47,51,47,36,23,13,6,2,1,2,2,3,6,12,22,34,44,48,44,34,22,12,6,3,2,2,4,5,8,14,24,36,46,50,46,36,24,14,8,5,4,57,122,225,350,457,500,457,350,225,122,57,4,6,9,16,27,41,52,57,52,41,27,16,9,6,4,2,2,3,6,13,22,34,45,49,45,34,22,13,6,3,2,2,2,3,7,13,24,36,47,51,47,36,24,13,7,3,2,10,16,26,38,48,52,48,38,26,16,10],G:[4,8,14,20,26,29,26,20,14,8,4,6,9,14,20,26,28,26,20,14,9,6,4,5,6,10,15,22,27,29,27,22,15,10,6,5,4,7,10,15,20,25,27,25,20,15,10,7,4,6,9,14,20,25,27,25,20,14,9,6,4,5,5,7,10,16,22,27,30,27,22,16,10,7,5,5,4,4,5,6,10,15,22,28,30,28,22,15,10,6,5,4,4,22,57,127,237,370,485,530,485,370,237,127,57,22,24,60,130,242,377,493,539,493,377,242,130,60,24,2,7,21,55,123,230,361,472,517,472,361,230,123,55,21,7,2,2,4,7,12,18,23,25,23,18,12,7,4,2,4,4,4,6,9,14,20,25,27,25,20,14,9,6,4,4,4,1,2,3,7,12,19,25,27,25,19,12,7,3,2,1,5,8,13,19,24,26,24,19,13,8,5,3,5,8,13,19,24,26,24,19,13,8,5,3,3,3,5,8,14,20,25,28,25,20,14,8,5,3,3,9,22,55,120,224,349,457,499,457,349,224,120,55,22,9,5,6,7,11,17,24,30,32,30,24,17,11,7,6,5,4,4,4,6,9,14,20,25,27,25,20,14,9,6,4,4,4,22,54,116,215,335,438,479,438,335,215,116,54,22,2,4,7,12,18,23,25,23,18,12,7,4,2,3,5,8,14,20,25,27,25,20,14,8,5,3,22,57,127,237,371,485,530,485,371,237,127,57,22,3,4,8,13,20,26,28,26,20,13,8,4,3,2,3,7,12,18,24,26,24,18,12,7,3,2,3,3,3,5,8,13,20,25,27,25,20,13,8,5,3,3,3,11,25,59,127,234,364,476,520,476,364,234,127,59,25,11,1,1,1,3,6,11,17,22,24,22,17,11,6,3,1,1,1,5,5,5,7,11,16,22,28,30,28,22,16,11,7,5,5,5,1,1,3,6,11,17,22,24,22,17,11,6,3,1,1,10,23,56,121,223,348,455,498,455,348,223,121,56,23,10,1,3,6,12,18,23,25,23,18,12,6,3,1,1,1,3,6,11,16,21,23,21,16,11,6,3,1,1,5,7,10,15,21,26,28,26,21,15,10,7,5,11,25,61,131,243,378,494,540,494,378,243,131,61,25,11,4,8,14,20,26,29,26,20,14,8,4,1,3,6,11,16,21,23,21,16,11,6,3,1,5,7,10,15,20,25,27,25,20,15,10,7,5,50,112,211,330,432,473,432,330,211,112,50,5,8,13,20,25,27,25,20,13,8,5,5,6,10,16,22,28,31,28,22,16,10,6,5,4,6,9,14,19,24,26,24,19,14,9,6,4,5,5,7,11,16,22,28,30,28,22,16,11,7,5,5,2,2,2,4,7,12,17,22,24,22,17,12,7,4,2,2,2,2,2,3,4,8,13,20,25,27,25,20,13,8,4,3,2,2,5,6,10,15,22,28,30,28,22,15,10,6,5,59,130,243,381,498,545,498,381,243,130,59,54,118,218,341,446,488,446,341,218,118,54,57,126,234,365,477,522,477,365,234,126,57,4,6,9,14,21,26,28,26,21,14,9,6,4,1,1,3,6,11,17,22,24,22,17,11,6,3,1,1,7,10,15,21,26,28,26,21,15,10,7,4,6,10,15,21,27,29,27,21,15,10,6,4,4,5,9,14,21,27,29,27,21,14,9,5,4,6,10,24,56,121,223,347,453,495,453,347,223,121,56,24,10,6,3,6,12,18,23,25,23,18,12,6,3,4,4,6,9,14,20,25,27,25,20,14,9,6,4,4,1,2,3,7,12,18,24,26,24,18,12,7,3,2,1,3,8,23,59,131,244,382,500,547,500,382,244,131,59,23,8,3,7,11,16,22,28,30,28,22,16,11,7,3,5,8,13,19,24,27,24,19,13,8,5,3,5,6,10,15,21,27,29,27,21,15,10,6,5,1,2,3,7,13,20,25,28,25,20,13,7,3,2,1,2,2,2,4,7,12,18,23,25,23,18,12,7,4,2,2,2,7,10,16,22,27,30,27,22,16,10,7,1,1,1,3,6,11,17,22,24,22,17,11,6,3,1,1,1,11,24,57,122,225,350,457,500,457,350,225,122,57,24,11,23,58,129,241,377,494,540,494,377,241,129,58,23,26,62,133,246,384,501,548,501,384,246,133,62,26,2,2,4,7,12,18,23,25,23,18,12,7,4,2,2,2,4,7,12,18,23,25,23,18,12,7,4,2,1,1,1,3,6,11,17,22,24,22,17,11,6,3,1,1,1,2,2,4,7,12,18,23,25,23,18,12,7,4,2,2,2,2,2,4,8,13,19,25,27,25,19,13,8,4,2,2,2,7,20,54,120,224,351,460,503,460,351,224,120,54,20,7,2,2,3,4,8,13,20,26,28,26,20,13,8,4,3,2,2,4,5,6,10,16,22,28,31,28,22,16,10,6,5,4,7,10,16,22,27,29,27,22,16,10,7,10,23,57,124,230,359,469,513,469,359,230,124,57,23,10,2,2,3,4,8,14,21,27,29,27,21,14,8,4,3,2,2,2,2,4,7,12,19,24,26,24,19,12,7,4,2,2,7,11,17,24,29,32,29,24,17,11,7],T:[3,4,6,8,10,11,10,8,6,4,3,5,6,8,11,13,14,13,11,8,6,5,4,4,5,6,8,11,13,14,13,11,8,6,5,4,4,5,7,9,11,13,14,13,11,9,7,5,4,5,6,8,11,13,14,13,11,8,6,5,4,5,5,6,7,9,12,14,15,14,12,9,7,6,5,5,4,4,4,5,6,8,10,13,14,13,10,8,6,5,4,4,4,2,3,4,6,8,11,11,11,8,6,4,3,2,4,5,6,8,10,12,13,12,10,8,6,5,4,1,1,1,2,3,5,7,9,10,9,7,5,3,2,1,1,1,23,59,131,244,382,501,548,501,382,244,131,59,23,5,10,24,59,129,239,373,488,534,488,373,239,129,59,24,10,5,6,19,50,112,210,329,431,472,431,329,210,112,50,19,6,54,118,219,342,447,488,447,342,219,118,54,3,4,5,7,9,11,12,11,9,7,5,4,3,3,3,4,5,7,10,12,13,12,10,7,5,4,3,3,3,3,4,5,7,10,12,13,12,10,7,5,4,3,3,10,23,54,115,213,331,433,473,433,331,213,115,54,23,10,4,4,4,5,6,8,11,13,14,13,11,8,6,5,4,4,4,4,4,6,8,10,12,13,12,10,8,6,4,4,21,54,119,223,348,456,498,456,348,223,119,54,21,3,3,5,7,9,11,12,11,9,7,5,3,3,2,3,4,6,8,11,12,11,8,6,4,3,2,23,58,129,242,378,495,541,495,378,242,129,58,23,1,2,3,5,8,10,11,10,8,5,3,2,1,3,3,3,4,5,7,10,12,13,12,10,7,5,4,3,3,3,5,5,5,7,9,11,13,14,13,11,9,7,5,5,5,2,6,19,51,113,212,332,435,476,435,332,212,113,51,19,6,2,5,5,5,6,7,9,12,14,15,14,12,9,7,6,5,5,5,1,1,2,3,5,8,10,11,10,8,5,3,2,1,1,4,4,4,6,8,10,12,13,12,10,8,6,4,4,4,20,53,119,222,349,456,499,456,349,222,119,53,20,1,1,1,3,5,7,9,10,9,7,5,3,1,1,1,5,6,7,9,12,15,15,15,12,9,7,6,5,5,5,6,7,9,12,14,15,14,12,9,7,6,5,5,57,126,235,367,481,526,481,367,235,126,57,1,2,3,5,8,10,11,10,8,5,3,2,1,5,6,7,9,12,14,15,14,12,9,7,6,5,2,3,5,7,9,10,9,7,5,3,2,58,128,237,371,485,530,485,371,237,128,58,4,4,6,8,10,12,13,12,10,8,6,4,4,4,4,6,8,10,12,13,12,10,8,6,4,4,5,5,6,7,9,11,14,15,14,11,9,7,6,5,5,2,2,2,2,4,6,8,10,11,10,8,6,4,2,2,2,2,2,2,2,3,4,6,9,11,12,11,9,6,4,3,2,2,2,4,5,6,8,11,13,14,13,11,8,6,5,4,2,4,6,8,10,11,10,8,6,4,2,4,5,7,9,12,12,12,9,7,5,4,4,5,7,10,12,13,12,10,7,5,4,23,55,119,221,345,451,493,451,345,221,119,55,23,7,22,58,130,243,381,499,546,499,381,243,130,58,22,7,61,133,245,381,498,545,498,381,245,133,61,4,4,6,8,10,12,13,12,10,8,6,4,4,3,4,5,7,10,12,13,12,10,7,5,4,3,5,5,5,6,7,9,12,14,15,14,12,9,7,6,5,5,5,50,111,207,325,426,466,426,325,207,111,50,4,4,5,6,8,11,13,14,13,11,8,6,5,4,4,1,1,2,3,5,8,10,11,10,8,5,3,2,1,1,2,2,2,2,4,6,8,10,11,10,8,6,4,2,2,2,2,56,119,220,342,447,489,447,342,220,119,56,3,4,5,7,9,11,12,11,9,7,5,4,3,4,5,6,8,11,14,14,14,11,8,6,5,4,1,1,2,3,5,8,10,11,10,8,5,3,2,1,1,2,2,2,3,4,6,8,10,11,10,8,6,4,3,2,2,2,5,7,9,11,13,14,13,11,9,7,5,1,1,1,2,3,5,8,10,11,10,8,5,3,2,1,1,1,5,5,6,7,9,12,14,15,14,12,9,7,6,5,5,2,2,4,6,8,10,11,10,8,6,4,2,2,5,6,7,9,12,14,15,14,12,9,7,6,5,7,21,53,117,219,343,449,491,449,343,219,117,53,21,7,21,55,122,228,356,466,510,466,356,228,122,55,21,2,6,18,48,108,202,316,414,452,414,316,202,108,48,18,6,2,2,2,2,4,6,8,10,11,10,8,6,4,2,2,2,2,2,2,3,4,6,8,10,11,10,8,6,4,3,2,2,2,1,1,1,3,5,7,9,10,9,7,5,3,1,1,1,3,8,23,59,132,246,385,504,551,504,385,246,132,59,23,8,3,4,4,5,6,8,10,12,13,12,10,8,6,5,4,4,6,7,9,11,13,14,13,11,9,7,6,4,4,5,6,8,10,12,13,12,10,8,6,5,4,4,3,7,21,53,117,219,343,448,491,448,343,219,117,53,21,7,3,2,2,2,4,6,8,10,11,10,8,6,4,2,2,2,5,7,9,11,13,14,13,11,9,7,5],peak:[5,16,29,42,54,68,84,99,112,127,142,157,173,186,198,212,227,242,258,273,286,299,312,325,338,353,369,385,402,418,433,447,461,475,489,502,514,527,539,550,562,575,589,605,622,637,649,660,671,683,697,710,722,735,750,764,777,792,808,822,834,847,861,877,891,905,921,935,948,962,976,991,1007,1023,1039,1055,1071,1084,1097,1113,1129,1142]}}]},{name:"Copy Number Variation",type:"heatmap",autowidth:!0,height:20,data:[{id:"Cell Line-123",offset:10,data:[7,5,5,5,6,7,9,8,8,8,8,5,7,9,15,15,16,9,9,7,8,10,9,21,22,22,24,20,24,26,24,25,24,31,29,33,33,33,33,33,20,17,19,18,18,18,27,23,31,26,31,31,31,34,32,31,30,30,30,30,30,24,24,20,21,17,17,27,29,25,31,31,31]}]},{name:"Tissue Distribution (Heart, Liver, Kidney)",type:"heatmap",height:20,data:[{id:"123456_at",offset:100,data:[25,35,46]},{id:"345678_at",offset:181,data:[65,46,29]}]},{name:"Another CNV",type:"line",autowidth:!0,height:20,fill:["rgb(255,0,0)","rgb(0,255,0)"],outline:["rgb(255,0,0)","rgb(0,255,0)"],data:[{id:"Cell Line-124",offset:10,data:[30,31,31,33,29,29,30,31,32,33,33,31,31,29,30,30,27,32,31,31,28,31,31,29,31,31,31,26,25,29,26,26,21,26,21,31,31,28,28,23,25,28,28,31,33,33,32,31,31,31,24,28,28,28,31,32,32,31,31,28,24,28,24,29,31,29,31]}]},{type:"bar",height:20,fill:["rgb(255,0,0)","rgb(0,0,255)","rgb(255,255,0)"],outline:["rgb(255,0,0)","rgb(0,0,255)","rgb(255,255,0)"],data:[{id:"123456_at",offset:100,data:[25,35,46]},{id:"345678_at",offset:181,data:[65,46,29]}]},{name:"Clones",type:"box",data:[{id:"clone-1234567",fill:"rgb(255,255,51)",outline:"rgb(0,0,0)",dir:"left",data:[[121,196]]},{id:"clone-2345678",fill:"rgb(255,255,51)",outline:"rgb(0,0,0)",dir:"right",data:[[371,400]],landmarks:[{offset:157,text:"Gap "},{offset:137,text:"Insertion "}]}]},{name:"SNP Location",type:"triangle",data:[{id:"SNP123",fill:"rgb(100,0,0)",outline:"rgb(0,0,0)",offset:23},{id:"SNP789",fill:"rgb(100,0,0)",outline:"rgb(0,0,0)",offset:195}]},{name:"SNP Sequences",type:"sequence",subtype:"DNA",data:[{id:"SNP123",offset:19,sequence:"CACA[AT]GCACCTTGTA"},{id:"SNP234",offset:41,sequence:"ATCG[TG]AATA"},{id:"SNP789",offset:116,sequence:"GCCC[CT]AGGG"}]}]}},this.createMesh=function(){for(var t={nodes:[],edges:[]},e=this,i=0;i<49;i++){var a={},s=Math.floor(this.random()*this.shapes.length),r=Math.floor(this.random()*this.colors.length);a.id="ND"+i,a.shape=this.shapes[s],a.color=this.colors[r],a.size=1,t.nodes.push(a)}var n=function(i,a){var s={},r=Math.floor(e.random()*e.lines.length),n=Math.floor(e.random()*e.colors.length);return s.id1=t.nodes[i].id,s.id2=t.nodes[a].id,s.width=1,s.type=e.lines[r],s.color=e.colors[n],s};for(i=0;i<t.nodes.length;i++)0!=Math.floor(7*this.random())&&(i+1<t.nodes.length&&(i+1)%7!=0&&t.edges.push(n(i,i+1)),i+7<t.nodes.length&&t.edges.push(n(i,i+7)));return t}},CanvasXpress.prototype.FunctionData=function(t){this.add=function(t,e){return new Number(e)+new Number(t)},this.sub=function(t,e){return e-t},this.mul=function(t,e){return e*t},this.div=function(t,e){return e/t},this.sin=function(t){return Math.sin(t)},this.cos=function(t){return Math.cos(t)},this.tan=function(t){return Math.tan(t)},this.sec=function(t){return 1/Math.cos(t)},this.csc=function(t){return 1/Math.sin(t)},this.cot=function(t){return 1/Math.tan(t)},this.asin=function(t){return Math.asin(t)},this.acos=function(t){return Math.acos(t)},this.atan=function(t){return Math.atan(t)},this.asec=function(t){return Math.acos(1/t)},this.acsc=function(t){return Math.asin(1/t)},this.acot=function(t){return Math.atan(1/t)},this.sinh=function(t){return.5*(Math.exp(t)-Math.exp(-t))},this.cosh=function(t){return.5*(Math.exp(t)+Math.exp(-t))},this.tanh=function(t){return(Math.exp(t)-Math.exp(-t))/(Math.exp(t)+Math.exp(-t))},this.sech=function(t){return 1/cosh(t)},this.csch=function(t){return 1/sinh(t)},this.coth=function(t){return 1/tanh(t)},this.asinh=function(t){return Math.log(t+Math.sqrt(t*t+1))},this.acosh=function(t){return Math.log(t+Math.sqrt(t*t-1))},this.atanh=function(t){return.5*Math.log((1+t)/(1-t))},this.asech=function(t){return acosh(1/t)},this.acsch=function(t){return asinh(1/t)},this.acoth=function(t){return atanh(1/t)},this.exp=function(t){return Math.exp(t)},this.ln=function(t){return Math.log(t)},this.log=function(t){return Math.log(t)/Math.LN10},this.logb=function(t,e){return Math.log(e)/Math.log(t)},this.pow=function(t,e){return Math.pow(e,t)},this.pow10=function(t){return Math.pow(10,t)},this.sq=function(t){return t*t},this.sqrt=function(t){return Math.sqrt(t)},this.abs=function(t){return t>=0?t:-t},this.sgn=function(t){return 0==t?0:t>0?1:-1},this.chs=function(t){return-t},this.neg=function(t){return-t},this.floor=function(t){return Math.floor(t)},this.ceil=function(t){return Math.ceil(t)},this.ip=function(t){return parseInt(t)},this.fp=function(t){return abs(t)-ip(abs(t))},this.inv=function(t){return 1/t},this.idiv=function(t,e){return parseInt(e/t)},this.mod=function(t,e){return e%t},this.and=function(t,e){return e&t},this.or=function(t,e){return e|t},this.xor=function(t,e){return e^t},this.not=function(t){return~t},this.lt=function(t,e){return e<t?1:0},this.le=function(t,e){return e<=t?1:0},this.eq=function(t,e){return e==t?1:0},this.ne=function(t,e){return e!=t?1:0},this.ge=function(t,e){return e>=t?1:0},this.gt=function(t,e){return e>t?1:0},this.Min=function(t,e){return Math.min(e,t)},this.Max=function(t,e){return Math.max(e,t)},this.pc=function(t,e){return e*t/100},this.pcch=function(t,e){return 100*t/e},this.gammaLn=function(t){var e=new Array(76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18),i=new Number(t),a=new Number(t+5.5),s=new Number(1.000000000190015);for(var r in a-=(t+.5)*Math.log(a),e)s+=e[r]/++i;return Math.log(2.5066282746310007*s/t)-a},this.gammaLn2=function(t){var e,i,a,s=0,r=[76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18],n=1.000000000190015;for(a=(i=e=t)+5.5,a-=(e+.5)*Math.log(a);s<6;s++)n+=r[s]/++i;return Math.log(2.5066282746310007*n/e)-a},this.betaCf=function(t,e,i){var a,s,r,n,o=1e-30,h=1,l=e+i,c=e+1,d=e-1,p=1,g=1-l*t/c;for(Math.abs(g)<o&&(g=o),n=g=1/g;h<=100&&(g=1+(s=h*(i-h)*t/((d+(a=2*h))*(e+a)))*g,Math.abs(g)<o&&(g=o),p=1+s/p,Math.abs(p)<o&&(p=o),n*=(g=1/g)*p,g=1+(s=-(e+h)*(l+h)*t/((e+a)*(c+a)))*g,Math.abs(g)<o&&(g=o),p=1+s/p,Math.abs(p)<o&&(p=o),n*=r=(g=1/g)*p,!(Math.abs(r-1)<3e-7));h++);return n},this.beta=function(t,e,i){var a=0===t||1===t?0:Math.exp(this.gammaLn2(e+i)-this.gammaLn2(e)-this.gammaLn2(i)+e*Math.log(t)+i*Math.log(1-t));return!(t<0||t>1)&&(t<(e+1)/(e+i+2)?a*this.betaCf(t,e,i)/e:1-a*this.betaCf(1-t,i,e)/i)},this.betaInv=function(t,e,i){var a,s,r,n,o,h,l,c,d,p,g=e-1,u=i-1,m=0;if(t<=0)return 0;if(t>=1)return 1;for(e>=1&&i>=1?(r=t<.5?t:1-t,h=(2.30753+.27061*(n=Math.sqrt(-2*Math.log(r))))/(1+n*(.99229+.04481*n))-n,t<.5&&(h=-h),l=(h*h-3)/6,c=2/(1/(2*e-1)+1/(2*i-1)),d=h*Math.sqrt(l+c)/c-(1/(2*i-1)-1/(2*e-1))*(l+5/6-2/(3*c)),h=e/(e+i*Math.exp(2*d))):(a=Math.log(e/(e+i)),s=Math.log(i/(e+i)),h=t<(n=Math.exp(e*a)/e)/(d=n+(o=Math.exp(i*s)/i))?Math.pow(e*d*t,1/e):1-Math.pow(i*d*(1-t),1/i)),p=-this.gammaLn2(e)-this.gammaLn2(i)+this.gammaLn2(e+i);m<10;m++){if(0===h||1===h)return h;if((h-=n=(o=(this.beta(h,e,i)-t)/(n=Math.exp(g*Math.log(h)+u*Math.log(1-h)+p)))/(1-.5*Math.min(1,o*(g/h-u/(1-h)))))<=0&&(h=.5*(h+n)),h>=1&&(h=.5*(h+n+1)),Math.abs(n)<1e-8*h&&m>0)break}return h},this.lowRegGamma=function(t,e){var i,a=this.gammaLn(t),s=t,r=1/t,n=r,o=e+1-t,h=1/1e-30,l=1/o,c=l,d=1,p=-~(8.5*Math.log(t>=1?t:1/t)+.4*t+17);if(e<0||t<=0)return Number.NaN;if(e<t+1){for(;d<=p;d++)r+=n*=e/++s;return r*Math.exp(-e+t*Math.log(e)-a)}for(;d<=p;d++)c*=(l=1/(l=(i=-d*(d-t))*l+(o+=2)))*(h=o+i/h);return 1-c*Math.exp(-e+t*Math.log(e)-a)},this.gammaPinv=function(t,e){var i,a,s,r,n,o,h=0,l=e-1,c=this.gammaLn(e);if(t>=1)return Math.max(100,e+100*Math.sqrt(e));if(t<=0)return 0;for(e>1?(n=Math.log(l),o=Math.exp(l*(n-1)-c),r=t<.5?t:1-t,i=(2.30753+.27061*(a=Math.sqrt(-2*Math.log(r))))/(1+a*(.99229+.04481*a))-a,t<.5&&(i=-i),i=Math.max(.001,e*Math.pow(1-1/(9*e)-i/(3*Math.sqrt(e)),3))):i=t<(a=1-e*(.253+.12*e))?Math.pow(t/a,1/e):1-Math.log(1-(t-a)/(1-a));h<12;h++){if(i<=0)return 0;if((i-=a=(s=(this.lowRegGamma(e,i)-t)/(a=e>1?o*Math.exp(-(i-l)+l*(Math.log(i)-n)):Math.exp(-i+l*Math.log(i)-c)))/(1-.5*Math.min(1,s*((e-1)/i-1))))<=0&&(i=.5*(i+a)),Math.abs(a)<1e-8*i)break}return i},this.tinv=function(t,e,i){i&&(t/=2);var a=this.betaInv(2*Math.min(t,1-t),.5*e,.5);return a=Math.sqrt(e*(1-a)/a),t>.5?a:-a},this.gamma=function(t){return Math.exp(this.gammaLn(t))},this.fact=function(t){var e=new Number(t);if(t<=1)return 1;if(t>100||t%1)return Math.exp(this.gammaLn(t+1));for(;--t;)e*=t;return e},this.comb=function(t,e){return Math.floor(.5+Math.exp(this.gammaLn(e+1)-this.gammaLn(t+1)-this.gammaLn(e-t+1)))},this.perm=function(t,e){return Math.floor(.5+Math.exp(this.gammaLn(e+1)-this.gammaLn(e-t+1)))},this.gcd=function(t,e){return 0==t?e||1:e?this.gcd(e,t%e):t},this.lcm=function(t,e){return t/this.gcd(t,e)*e},this.prime=function(t){var e=new Number(5),i=new Number(4),a=parseInt(t/e);if(2==t||3==t||5==t)return 1;if(t<5||0==(1&t)||t%3==0)return 0;for(;e*a<t&&e<a;)a=parseInt(t/(e+=i=6-i));return e*a==t?0:1},this.implied=function(t){return"neg"!=t&&/^(\d+\.\d+|\d+\.?|\.\d+)(e[-+]?\d+)?|\w+$/.test(t)},this.tokenize=function(t){var e,i=[],a=new String(""),s=/(\d+\.\d+|\d+\.?|\.\d+)(e[-+]?\d+)?|[xy]|[a-z]+|[-+*\/(),^]|<=?|>=?|==|!=|&&|\|\|/g;for(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.toLowerCase()).replace(/\s/g,"")).replace(/\+\+/g,"+")).replace(/\+-/g,"-")).replace(/-\+/g,"-")).replace(/--/g,"+")).replace(/^\+/,"")).replace(/([(*\/&\|<>=])\+/g,"$1")).replace(/^-/,"neg ")).replace(/([(*\/&\|<>=])-/g,"$1neg ")).replace(/\)(\(|\w)/g,")*$1")).replace(/(\d)\(/g,"$1*(");e=s.exec(t);)this.implied(a)&&this.implied(e[0].toString())&&i.push("*"),i.push(a=e[0]);return i},this.isValidEnd=function(t){return/^(\d+\.\d+|\d+\.?|\.\d+)(e[-+]?\d+)?|[)xye]|pi|rand$/.test(t)},this.toPostFx=function(t){for(var e={sin:16,cos:16,tan:16,sec:16,csc:16,cot:16,asin:16,acos:16,atan:16,asec:16,acsc:16,acot:16,sinh:16,cosh:16,tanh:16,sech:16,csch:16,coth:16,asinh:16,acosh:16,atanh:16,asech:16,acsch:16,acoth:16,exp:16,ln:16,log:16,logb:16,pow:16,sq:16,sqrt:16,abs:16,sgn:16,chs:16,floor:16,ceil:16,ip:16,fp:16,inv:16,min:16,max:16,gamma:16,fact:16,comb:16,perm:16,rand:16,gcd:16,lcm:16,prime:16,and:16,or:16,xor:16,x:16,y:16,pi:16,e:16,neg:15,not:15,"^":14,"*":13,"/":13,mod:13,div:13,"+":12,"-":12,"<":10,"<=":10,"==":10,"!=":10,">=":10,">":10,"&&":5,"||":4,",":1},i=new String,a=new String(""),s=new Array,r=new Array;i=t.shift();){if("("==i)s.push(i);else if(e[i]){for(;s.length&&"("!=s[s.length-1]&&e[s[s.length-1]]>=e[i];)r.push(s.pop());","!=i||this.isValidEnd(a)||r.push("Unexpected: "+a),","!=i&&s.push(i)}else if(")"==i){for(this.isValidEnd(a)||r.push("Unexpected: "+a);s.length&&"("!=s[s.length-1];)r.push(s.pop());0==s.length&&r.push("Unmatched: )"),s.pop()}else/^[-+]?(\d+\.?|\d*\.\d+)(e[-+]?\d+)?$/.test(i)?r.push(i):r.push("Unknown: "+i);a=i}for(this.isValidEnd(a)||r.push("Unexpected: "+a);i=s.pop();)"("==i&&r.push("Unmatched: ("),r.push(i);return r},this.syntaxCheck=function(t){for(var e={sin:1,cos:1,tan:1,sec:1,csc:1,cot:1,asin:1,acos:1,atan:1,asec:1,acsc:1,acot:1,sinh:1,cosh:1,tanh:1,sech:1,csch:1,coth:1,asinh:1,acosh:1,atanh:1,asech:1,acsch:1,acoth:1,exp:1,ln:1,log:1,logb:2,pow:2,sq:1,sqrt:1,abs:1,sgn:1,chs:1,floor:1,ceil:1,ip:1,fp:1,inv:1,min:2,max:2,gamma:1,fact:1,comb:2,perm:2,gcd:2,lcm:2,prime:1,and:2,or:2,xor:2,neg:1,not:1,"^":2,"*":2,"/":2,mod:2,div:2,"+":2,"-":2,"<":2,"<=":2,"==":2,"!=":2,">=":2,">":2,"&&":2,"||":2},i=new Number(0),a=new String,s=0;s<t.length;s++,i++){if(/^Un(matched|known|expected).*/.test(a=t[s]))return a;if(e[a]){if(i<e[a])return"Invalid use of: "+a;i-=e[a]}}return 1!=i&&(t.length?"Unused arguments":"No function")},this.evaluate=function(t,e,i){alias={"+":"add","-":"sub","*":"mul","/":"div","!":"fact","x^y":"pow","^":"pow","10^":"pow10",div:"idiv","<":"lt","<=":"le","==":"eq","!=":"ne",">=":"ge",">":"gt","%":"pc","%ch":"pcch"};for(var a=new Array,s=new String,r=0;r<t.length;r++)if("x"==(s=t[r])?a.push(e):"y"==s?a.push(i):"pi"==s?a.push(Math.PI):"e"==s?a.push(Math.E):"rand"==s?a.push(Math.random()):this[alias[s]||s]?a.push(this[alias[s]||s](a.pop(),this[alias[s]||s].length>1?a.pop():0)):a.push(s),isNaN(a[a.length-1]))return Number.NaN;return parseFloat(a.pop())},this.set2DPlot=function(t,e){var i={vars:[],smps:["X","Y"],data:[]},a=256,s=this.setMinX?this.setMinX:-1,r=this.setMaxX?this.setMaxX:1,n=this.setMinY?this.setMinY:-1,o=(r-s)/a,h=((this.setMaxY?this.setMaxY:1)-n)/a,l=1;if(1==e)for(var c=s,d=0;d<a;d++){var p=this.evaluate(t,c,0);isNaN(p)&&(p=""),c+=o,i.vars.push("v"+l),i.data.push([c,p]),l++}else for(p=n,d=0;d<a;d++){c=this.evaluate(t,0,p);isNaN(c)&&(c=""),p+=h,i.vars.push("v"+l),i.data.push([c,p]),l++}return i},this.set3DPlot=function(t){for(var e={vars:[],smps:["X","Y","Z"],data:[]},i=[],a=[],s=[],r=this.setMinX?this.setMinX:-Math.PI/2,n=this.setMaxX?this.setMaxX:Math.PI/2,o=this.setMinY?this.setMinY:-Math.PI/2,h=this.setMaxY?this.setMaxY:Math.PI/2,l=1,c=0;c<=25;c++)for(var d=o+(h-o)*c/25,p=0;p<=25;p++){var g=r+(n-r)*p/25,u=this.evaluate(t,g,d);isFinite(u)||(u=0),e.vars.push("v"+l),e.data.push([g,u,d]),i.push(g),a.push(d),s.push(u),l++}return e},this.initializeFunctionData=function(){var t=this.toPostFx(this.tokenize(this.data.fx)),e=this.syntaxCheck(t);if(e)alert(e);else{var i=0;for(var a in t)"x"==t[a]?i|=1:"y"==t[a]&&(i|=2);0==i&&(i=1),3==i?(this.data.y=this.set3DPlot(t),this.graphType="Scatter3D"):(this.data.y=this.set2DPlot(t,i),this.graphType="Scatter2D",this.lineType="spline"),this.scatterType="function"}},t&&this.initializeFunctionData()},CanvasXpress.prototype.initRemote=function(){this.ajaxRequest=function(url,params,callback,format,method){var http=this.getHttpRequest(),pars="";for(var p in params)pars+=p+"="+escape(params[p])+"&";pars+="uid="+(new Date).getTime(),method="POST"==method?"POST":"GET",http&&url&&("GET"==method?(url.match(/\?/)?url+="&"+pars:url+="?"+pars,http.open(method,url,!0),http.overrideMimeType&&http.overrideMimeType("text/xml"),"blob"==format?http.responseType="blob":"arraybuffer"==format&&(http.responseType="arraybuffer"),pars=null):(http.open(method,url,!0),http.setRequestHeader("Content-type","application/x-www-form-urlencoded")),http.onreadystatechange=function(){if(4==http.readyState&&(200==http.status||0==http.status&&http.responseURL.match(/^file:/))){var result="";format&&""!=format&&"text"!=format&&"json"!=format||!http.responseText||(result=http.responseText),"json"==format?(result=result.replace(/[\n\r]/g,""),result=eval("("+result+")")):("blob"==format||"arraybuffer"==format)&&(result=http.response),callback&&callback(result)}},http.send(pars))},this.getHttpRequest=function(){var t;if(window.XMLHttpRequest)try{t=new XMLHttpRequest}catch(e){t=!1}else if("undefined"!=typeof ActiveXObject)try{t=new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{t=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){t=!1}}return t},this.requestRemoteData=function(t){var e=this.cloneObject(this.remoteParams);e.index=this.remoteDataIndex,e.dir=this.remoteDirection,t&&(e.records=!0),"file"==this.remoteServiceType?this.ajaxRequest(this.remoteData[this.remoteDataIndex][1],e,this.updateRemoteData,"json","GET"):this.ajaxRequest(this.remoteService,e,this.updateRemoteData,"json","GET")},this.updateGenomeData=function(t,e,i){var a=this;this.ajaxRequest(t,e,(function(t){e.gene&&(a.setMinX=null,a.setMaxX=null),a.updateData(t),a.hideMask(),i&&i()}),"json","GET")},this.getGeneFromGenomeObject=function(t){return!!(t&&t[0]&&t[0].data&&t[0].data[0]&&t[0].data[0].id)&&t[0].data[0].id},this.saveRemote=function(t,e,i){var a=this.cloneObject(this.remoteParams);a.index=this.remoteDataIndex,a.save=t,e&&(a.name=this.stringifyJSON(e));var s=i||this.getConfig();"Network"==this.graphType&&(s.calculateLayout=!1),a.params=this.stringifyJSON(s),a.afterRender=this.stringifyJSON(CanvasXpress.stack[this.target].afterRender),a.cxdata=this.stringifyJSON(this.cloneObject(this.data)),this.ajaxRequest(this.remoteService,a,(function(){alert("CanvasXpress data saved "+t+" in the server")}),"json","POST")},this.clearRemote=function(){params.clear=!0,this.ajaxRequest(this.remoteService,params,(function(){alert("CanvasXpress data parameters clear from the server")}),"json","POST")},this.castRemoteParameters=function(t){for(var e in t.remoteParentId=this.remoteParentId,t.remoteService=this.remoteService,t.remoteDirection=this.remoteDirection,t.remoteDataIndex=this.remoteDataIndex,t.remoteAutoPlay=this.remoteAutoPlay,t.remoteAutoPlayDelay=this.remoteAutoPlayDelay,t.remoteData=this.remoteData,t.remoteIds=this.remoteIds,t.remoteServiceType=this.remoteServiceType,this.remoteTransitionEffect=t.remoteTransitionEffect,this.remoteParams)t.remoteParams[e]=this.remoteParams[e];t.addRemoveNavigationListeners("addEvtListener")},this.getOriginalDimensions=function(){var t=this.$(this.target);return[parseInt(t.width),parseInt(t.height)]},this.fitCanvasToCurrent=function(t){if(this.remoteAutoSize){for(var e=["resizable","responsive","aspectratio"],i=!1,a=0;a<e.length;a++){var s=this.meta.canvas.ctx.canvas.getAttribute(e[a]);s&&(t.meta.canvas.ctx.canvas.setAttribute(e[a],s),i=!0)}(i||t.width!=this.width||t.height!=this.height)&&(t.setDimensions(this.width,this.height),t.resizable=this.resizable,t.resizableX=this.resizableX,t.resizableY=this.resizableY)}},this.updateRemoteData=function(t){return function(e,i){if(e&&e.data||e&&e.config&&e.config.graphType&&"Map"==e.config.graphType||e&&e.config&&e.config.graphType&&"Genome"==e.config.graphType&&e.tracks){var a;if("file"==t.remoteServiceType){(a=e.config?e:e.data).renderTo=e.renderTo||t.remoteData[t.remoteDataIndex][0];for(var s=a.renderTo,r=0,n=t.$(a.renderTo);n;)a.renderTo.match(/-\d*$/)?(r=Number(a.renderTo.split("-").pop())+1,a.renderTo=a.renderTo.replace(/\d*$/,r)):(r++,a.renderTo=s+"-"+r),n=t.$(a.renderTo);s!=a.renderTo&&(CanvasXpress.chain[s]=a.renderTo)}else a=t.appendUserConfig(e.data);var o=!a.uploadFile&&!e.uploadFile&&"next"==t.remoteDirection,h=t.$("container-"+t.target);if(h){var l=h.parentNode,c=t.getOriginalDimensions(),d=t.target,p=[],g=e.config||e.data&&e.data.config,u=a.renderTo||t.newId("-cX-data-"),m=a.config&&a.config.width?a.config.width:c[0],f=a.config&&a.config.height?a.config.height:c[1];if(t.insertTarget(u,h,m,f,o),a.hidden=!a.uploadFile,t.isUpdateRemoteData=!0,a.config.skipRender=t.isOneTimeFunctionInConfig(a.config),a.uploadFile&&(h.style.display="none"),e.afterRender){for(var y=0;y<e.afterRender.length;y++)"segregate"==e.afterRender[y][0]?"Variables"==e.afterRender[y][1][0]?p.push(["segregateVariables",e.afterRender[y][1][1]]):"Samples"==e.afterRender[y][1][0]&&p.push(["segregateSamples",e.afterRender[y][1][1]]):p.push(t.cloneObject(e.afterRender[y]));delete a.afterRender}a.data&&t.cleanData(a.data),a.data&&(delete a.data.l,delete a.data.w);var x=new CanvasXpress(a);if(x.isUpdateRemoteData=!0,x.target0=t.target0?t.target0:t.target,t.castRemoteParameters(x),t.addSelectOptionsRemoteData(e.ids),t.resetInfoSpan(!1,!0),"Map"==x.graphType&&x.mapId&&!t.isObject(window[x.mapId]))return t.destroy(t.target),void(p.length&&(CanvasXpress.stack[x.target].afterRender=p));if(t.animateTransition(l,d,a.uploadFile,t.isExample),g&&!x.dataURL){if(x.imagesToLoad.length)return void x.loadImages(x.imagesToLoad,p);x.afterRender(p),x.skipRender=!1,t.fitCanvasToCurrent(x)}else if(e.postprocess){for(y=0;y<e.postprocess.length;y++){var b=e.postprocess[y].func,v=e.postprocess[y].param;if(b){if("groupSamples"==b&&x.isGroupedData)continue;v?x[b].apply(x,v):x[b]()}}t.fitCanvasToCurrent(x)}e.info&&x.updateInfoDiv(e.info),t.showCode&&x.updateCodeDiv(),i&&i(x),t.userEvents.remoteupdate&&t.userEvents.remoteupdate.call(x,x)}}else t.remoteDataIndex="next"==t.remoteDirection?Math.max(0,t.remoteDataIndex-1):Number(t.remoteDataIndex)+1,t.remoteUpdating=!1}}(this),this.appendUserConfig=function(t){if(t.config)for(var e in this.meta.config.user)e.match(/decrease|remote|^calculateLayout$|layoutComb/)||t.config[e]||(t.config[e]=this.meta.config.user[e]);return t},this.updateCurrentRemoteData=function(){var t=this.$(this.remoteParentId+"-canvasXpressRemoteWindowBarSelect");if(t){if(t.selectedIndex=this.remoteDataIndex,0==this.remoteIds.length)for(var e=0;e<t.childNodes.length;e++)this.remoteIds.push(t.childNodes[e].text);this.resetSelectOptionsRemoteData()}},this.resetSelectOptionsRemoteData=function(){var t=this.$(this.remoteParentId+"-canvasXpressRemoteWindowBarSelect");if(t){if(0==this.remoteIds.length)for(var e=0;e<t.childNodes.length;e++)this.remoteIds.push(t.childNodes[e].text);this.clearSelectOptionsRemoteData(),this.addSelectOptionsRemoteData(this.remoteIds)}},this.clearSelectOptionsRemoteData=function(){var t=this.$(this.remoteParentId+"-canvasXpressRemoteWindowBarSelect"),e=this.$(this.remoteParentId+"-canvasXpressRemoteWindowBarDotsDiv");if(t&&t.hasChildNodes()&&e){for(;t.childNodes.length>=1;)t.removeChild(t.firstChild);for(;e.childNodes.length>=1;)e.removeChild(e.firstChild)}},this.addSelectOptionsRemoteData=function(t){if(t&&t.length>0){this.remoteIds=t;var e=this.$(this.remoteParentId+"-canvasXpressRemoteWindowBarDiv"),i=this.$(this.remoteParentId+"-canvasXpressRemoteWindowBarSelect"),a=this.$(this.remoteParentId+"-canvasXpressRemoteWindowBarDotsDiv"),s=this.$(this.remoteParentId+"-canvasXpressRemoteWindowBarButtonsDiv"),r=this.meta.canvas.canvasPixelRatio;if(e&&i&&a&&s){this.clearSelectOptionsRemoteData();for(var n=0;n<this.remoteIds.length;n++){var o=this.$cX("option",{text:this.remoteIds[n],value:n});this.remoteDataIndex==n&&(o.selected="selected",i.selectedIndex=this.remoteDataIndex);try{i.add(o,null)}catch(t){i.add(o)}}var h=Math.min(this.remoteIds.length,8),l=Number(this.remoteDataIndex);for(n=0;n<h;n++){var c=(l+n)%this.remoteIds.length,d=this.$cX("div",{id:this.remoteParentId+"-canvasXpressRemoteWindowBarDotsIndex"+n,className:"CanvasXpressSlider CanvasXpressSliderDots",alt:this.remoteIds[c],title:this.remoteIds[c]},{cssFloat:"left",position:"relative",border:"1px solid rgba(35, 82, 124, 0.5)"});d.dataset.index=c,a.appendChild(d)}this.remoteIds.length<=8&&(s.style.display="none"),1==this.remoteIds.length?this.hideNavigation():this.showNavigation();var p=(this.meta.canvas.ctx.canvas.width/r-a.clientWidth)/2+16;e.style.left=p+"px"}}else if(!this.remoteIds||1==this.remoteIds.length){var g=this.$(this.remoteParentId+"-canvasXpressRemoteWindow");g&&(g.style.height=this.meta.canvas.ctx.canvas.height/r+"px")}},this.updateRemoteDots=function(){if(this.$(this.remoteParentId+"-canvasXpressRemoteWindowBarDotsDiv"))for(var t=Math.min(this.remoteIds.length,8),e=this.remoteDataIndex,i=0;i<t;i++){var a=(e+i)%this.remoteIds.length,s=this.$(this.remoteParentId+"-canvasXpressRemoteWindowBarDotsIndex"+i);s&&(s.dataIndex=a,s.alt=this.remoteIds[a],s.title=this.remoteIds[a])}},this.animateTransition=function(t,e,i,a){if(t){for(var s=t.childNodes,r=[],n=0;n<s.length;n++)"DIV"==s[n].nodeName.toUpperCase()&&(r[n]=s[n]);var o=r[r.length-2];o.className="CanvasXpressContainerNT";var h=r[r.length-1];if(h.className="CanvasXpressContainerNT",t.id.match("canvasXpressRemoteWindowBuffer")){var l=this,c=this.transitionStep,d=0,p=o.clientWidth?o.clientWidth:t.clientWidth,g=o.clientHeight?o.clientHeight:t.clientHeight;if(t.parentNode.style.overflow="hidden",a&&(o.style.display="none"),"fade"==this.remoteTransitionEffect){var u="next"!=this.remoteDirection||i?0:1,m="next"!=this.remoteDirection||i?1:0;o.style.opacity=u,o.style.filter="alpha(opacity = "+100*u+")",o.style.position="absolute",o.style.display="block",h.style.opacity=m,h.style.filter="alpha(opacity = "+100*m+")",h.style.position="absolute",h.style.display="block",function(){var t=1/c;this.update=function(){var s,r;if("next"!=l.remoteDirection||i?(r=1-t*d,s=0+t*d):(s=1-t*d,r=0+t*d),d>=c){clearInterval(a);var n=o.id.replace("container-",""),p=h.id.replace("container-","");l.destroy(e);var g=CanvasXpress.$(n)||CanvasXpress.$(p);o.style.position="",h.style.position="",l.remoteUpdating=!1,l.updateCurrentRemoteData(),l.isUpdateRemoteData=!1,l.triggerDataLoaded("animateTransition",g)}else o.style.opacity=s,o.style.filter="alpha(opacity = "+100*s+")",h.style.opacity=r,h.style.filter="alpha(opacity = "+100*r+")";d++};var a=l.setInterval(this.update,100)}.call()}else{(function(){this.update=function(){t.style.width=2*p+"px",t.style.height=Math.max(o.clientHeight,h.clientHeight)+"px";var s="slide"==l.remoteTransitionEffect?.5*Math.atan(d/c*10-5)/Math.atan(5)+.5:1,r=p*s;if(d>=c){clearInterval(a);var n=o.id.replace("container-",""),u=h.id.replace("container-","");l.destroy(e);var m=CanvasXpress.$(n)||CanvasXpress.$(u);return"next"!=l.remoteDirection||i?o.style.left="0px":h.style.left="0px",t.parentNode.style.overflow="visible",t.style.width=p+"px",t.style.height=g+"px",l.remoteUpdating=!1,l.updateCurrentRemoteData(),l.isUpdateRemoteData=!1,void l.triggerDataLoaded("animateTransition",m)}"next"!=l.remoteDirection||i?(o.style.left=-p+r+"px",h.style.left=-p+r+"px"):(o.style.left=-1*r+"px",h.style.left=-1*r+"px"),o.style.display="block",h.style.display="block",d++};var a=l.setInterval(this.update,100)}).call()}}else i?t.removeChild(h):t.removeChild(o),this.remoteUpdating=!1}},this.handleRemoteSelect=function(t){return function(e){var i=t.getTargetEvent(e),a=i.children[i.selectedIndex].value,s=t.$(t.remoteParentId+"-canvasXpressRemoteWindowBarCurrent"),r=t.$(t.remoteParentId+"-canvasXpressRemoteWindowBarSelectContainerDiv");t.remoteDirection=a>Number(t.remoteDataIndex)?"next":"previous",t.remoteDataIndex=Number(a),s&&i&&r&&(t.resetSelectOptionsRemoteData(),s.value="",r.style.display="none"),t.requestRemoteData()}}(this),this.swapRemotePlayStop=function(t){var e=this.$(this.remoteParentId+"-canvasXpressRemoteWindowBarPlayDiv"),i=this.$(this.remoteParentId+"-canvasXpressRemoteWindowBarStopDiv");e&&i&&(e.style.display=t?"block":"none",i.style.display=t?"none":"block")},this.handleRemoteClickStop=function(t){return function(e){t.remoteStop=!0,t.swapRemotePlayStop(!0)}}(this),this.handleRemoteClickDot=function(t){return function(e){var i=t.getTargetEvent(e);i.hasAttribute("data-index")&&(t.remoteDirection=t.remoteDirection>Number(i.dataset.index)?"next":"previous",t.remoteDataIndex=Number(i.dataset.index),t.requestRemoteData())}}(this),this.handleRemoteClickPlay=function(t){return function(e){var i=t.getTargetEvent(e).parentNode.parentNode.parentNode.parentNode.lastChild.firstChild.lastChild;t.remoteDirection="next",t.remoteStop=!1,t.handleRemoteClickDown(e,!0),t.playRemoteData(i),t.swapRemotePlayStop()}}(this),this.playRemoteData=function(t){var e=function(t){for(var e=0;e<CanvasXpress.instances.length;e++)if(t==CanvasXpress.instances[e].target0)return CanvasXpress.instances[e];for(e=0;e<CanvasXpress.instances.length;e++)if(t==CanvasXpress.instances[e].target)return CanvasXpress.instances[e];return CanvasXpress.instances[0]},i=this.target0||this.target;(function(){var a=e(i);a&&(a.remoteUpdating||a.remoteStop||(a.remoteUpdating=!0,a.showInfoSpan(!1,"Updating ...",!0),t&&t.tagName.match(/select/i)&&Number(a.remoteDataIndex)>=t.length-1?a.remoteDataIndex=0:a.remoteDataIndex++,a.requestRemoteData())),this.update=function(){var a=e(i);a?(a.remoteUpdating||a.remoteStop||(a.remoteUpdating=!0,a.showInfoSpan(!1,"Updating ...",!0),t&&t.tagName.match(/select/i)&&Number(a.remoteDataIndex)>=t.length-1?a.remoteDataIndex=0:a.remoteDataIndex++,a.requestRemoteData()),a.remoteStop&&clearInterval(s)):clearInterval(s)};var s=a.setInterval(this.update,a.remoteAutoPlayDelay)}).call()},this.handleRemoteClickPrev=function(t){return function(e){t.remoteUpdating||(t.remoteUpdating=!0,t.showInfoSpan(!1,"Updating ...",!0),t.remoteDirection="previous",0==t.remoteDataIndex?t.remoteDataIndex=t.remoteIds.length-1:t.remoteDataIndex--,t.requestRemoteData())}}(this),this.handleRemoteClickNext=function(t){return function(e){t.remoteUpdating||(t.remoteUpdating=!0,t.showInfoSpan(!1,"Updating ...",!0),t.remoteDirection="next",t.remoteDataIndex==t.remoteIds.length-1?t.remoteDataIndex=0:t.remoteDataIndex++,t.requestRemoteData())}}(this),this.handleRemoteClickDown=function(t){return function(e,i){if(!t.remoteUpdating){var a=t.$(t.remoteParentId+"-canvasXpressRemoteWindowBarSelectContainerDiv"),s=t.$(t.remoteParentId+"-canvasXpressRemoteWindowBarSelect");a&&s&&("none"!=a.style.display||i?t.transitionMagic(a,"holeOut",(function(){a.style.display="none"}),1e3):(s.options[s.selectedIndex].selected=!0,a.style.display="block",t.transitionMagic(a,"holeIn")),i||t.handleRemoteClickStop(e))}}}(this),this.addRemoteNavigation=function(t){var e=this.meta.canvas.ctx.canvas.height/2-25,i=this.$cX("div",{id:this.remoteParentId+"-canvasXpressRemoteWindowBar"},{width:this.meta.canvas.ctx.canvas.width+"px",position:"absolute",zIndex:2147483647,display:"none"}),a=this.$cX("div",{id:this.remoteParentId+"-canvasXpressRemoteWindowBarPrevDiv",className:"CanvasXpressSliderRemote CanvasXpressSliderLeft"},{top:e+"px"}),s=this.$cXI("v_previous",{id:this.remoteParentId+"-canvasXpressRemoteWindowBarPrev",src:"v_previous",title:"Previous graph"});a.appendChild(s),i.appendChild(a);var r=this.$cX("div",{id:this.remoteParentId+"-canvasXpressRemoteWindowBarDiv"},{height:"36px",top:this.meta.canvas.ctx.canvas.height+8+"px",position:"absolute"}),n=this.$cX("div",{id:this.remoteParentId+"-canvasXpressRemoteWindowBarDotsDiv",className:"CanvasXpressSliderDotsContainer"},{cssFloat:"left",position:"relative"});r.appendChild(n);var o=this.$cX("div",{id:this.remoteParentId+"-canvasXpressRemoteWindowBarButtonsDiv"},{cssFloat:"left",position:"relative"}),h=this.$cX("div",{id:this.remoteParentId+"-canvasXpressRemoteWindowBarPlayDiv",className:"CanvasXpressSliderRemote"},{cssFloat:"left",position:"relative",width:"24px",height:"24px",marginLeft:"5px"}),l=this.$cXI("v_play",{id:this.remoteParentId+"-canvasXpressRemoteWindowBarPlay",src:"v_play",title:"Iterate over graphs"},{margin:"2px 5px",width:"16px"});h.appendChild(l),o.appendChild(h);var c=this.$cX("div",{id:this.remoteParentId+"-canvasXpressRemoteWindowBarStopDiv",className:"CanvasXpressSliderRemote"},{cssFloat:"left",position:"relative",width:"24px",height:"24px",marginLeft:"5px",display:"none"}),d=this.$cXI("v_pause",{id:this.remoteParentId+"-canvasXpressRemoteWindowBarStop",src:"v_pause",title:"Stop iteration"},{margin:"3px",width:"16px"});c.appendChild(d),o.appendChild(c);var p=this.$cX("div",{id:this.remoteParentId+"-canvasXpressRemoteWindowBarSearchDiv",className:"CanvasXpressSliderRemote"},{cssFloat:"left",position:"relative",width:"24px",height:"24px"}),g=this.$cXI("z_zoom",{id:this.remoteParentId+"-canvasXpressRemoteWindowBarSearch",src:"z_zoom",title:"Search datasets"},{margin:"3px",width:"16px"});p.appendChild(g),o.appendChild(p),r.appendChild(o),i.appendChild(r);var u=this.$cX("div",{id:this.remoteParentId+"-canvasXpressRemoteWindowBarNextDiv",className:"CanvasXpressSliderRemote CanvasXpressSliderRight"},{top:e+"px"}),m=this.$cXI("v_next",{id:this.remoteParentId+"-canvasXpressRemoteWindowBarNext",src:"v_next",title:"Next graph"});u.appendChild(m),i.appendChild(u);var f=.85*this.meta.canvas.ctx.canvas.width,y=(this.meta.canvas.ctx.canvas.width-f)/2,x=this.$cX("div",{id:this.remoteParentId+"-canvasXpressRemoteWindowBarSelectContainerDiv"},{width:f+"px",top:e+"px",left:y+"px",position:"absolute",border:"1px solid rgb(51,122,183)",borderRadius:"5px",padding:"5px",background:"rgba(245, 245, 245, 0.95)",display:"none"}),b=this.$cX("div",{id:this.remoteParentId+"-canvasXpressRemoteWindowBarSelectDiv"},{border:"1px solid rgb(51,122,183)",borderRadius:"5px",background:"rgba(245, 245, 245, 0.95)"}),v=this.$cX("input",{id:this.remoteParentId+"-canvasXpressRemoteWindowBarCurrent",className:"CanvasXpressSlider",type:"text",autocomplete:"off",placeholder:"Search"});b.appendChild(v);var A=this.$cX("select",{id:this.remoteParentId+"-canvasXpressRemoteWindowBarSelect",className:"CanvasXpressSlider",size:4},{border:"none"});return b.appendChild(A),x.appendChild(b),i.appendChild(x),i},this.addRemoveNavigationListeners=function(t){var e=this.$(this.remoteParentId+"-canvasXpressRemoteWindowBarPrev"),i=this.$(this.remoteParentId+"-canvasXpressRemoteWindowBarPlay"),a=this.$(this.remoteParentId+"-canvasXpressRemoteWindowBarStop"),s=this.$(this.remoteParentId+"-canvasXpressRemoteWindowBarNext"),r=this.$(this.remoteParentId+"-canvasXpressRemoteWindowBarSearch"),n=this.$(this.remoteParentId+"-canvasXpressRemoteWindowBarSelect"),o=this.$(this.remoteParentId+"-canvasXpressRemoteWindowBarDotsDiv");e&&this[t](e,"click",this.handleRemoteClickPrev,!1),i&&this[t](i,"click",this.handleRemoteClickPlay,!1),a&&this[t](a,"click",this.handleRemoteClickStop,!1),s&&this[t](s,"click",this.handleRemoteClickNext,!1),r&&this[t](r,"click",this.handleRemoteClickDown,!1),n&&this[t](n,"change",this.handleRemoteSelect,!1),o&&this[t](o,"click",this.handleRemoteClickDot,!1)},this.selectDataSet=function(t){var e=window.document.activeElement;if(e.id==this.remoteParentId+"-canvasXpressRemoteWindowBarCurrent"){var i=this.$(this.remoteParentId+"-canvasXpressRemoteWindowBarSelect"),a=[];if(i&&e.value.length>0){if(0==this.remoteIds.length)for(var s=0;s<i.childNodes.length;s++)this.remoteIds.push(i.childNodes[s].text);this.clearSelectOptionsRemoteData();for(s=0;s<this.remoteIds.length;s++)this.remoteIds[s].toLowerCase().indexOf(e.value.toLowerCase())>=0&&a.push(s);for(s=0;s<a.length;s++){var r=this.$cX("option",{text:this.remoteIds[a[s]],value:a[s]});try{i.add(r,null)}catch(t){i.add(r)}}}}},this.updateRemoteNavigationWindow=function(t){var e=this.$(this.target),i=this.$(this.remoteParentId+"-canvasXpressRemoteWindowBuffer");e&&i&&(this.updateRemoteNavigationWindowBar(),i.style.width=2*parseInt(e.parentNode.parentNode.clientWidth)+"px",t&&t())},this.updateRemoteNavigationWindowBar=function(){var t=this.meta.canvas.ctx.canvas.height/2-25,e=.85*this.meta.canvas.ctx.canvas.width,i=(this.meta.canvas.ctx.canvas.width-e)/2,a=this.$(this.remoteParentId+"-canvasXpressRemoteWindowBar"),s=this.$(this.remoteParentId+"-canvasXpressRemoteWindowBarPrevDiv"),r=this.$(this.remoteParentId+"-canvasXpressRemoteWindowBarDiv"),n=this.$(this.remoteParentId+"-canvasXpressRemoteWindowBarDotsDiv"),o=this.$(this.remoteParentId+"-canvasXpressRemoteWindowBarNextDiv"),h=this.$(this.remoteParentId+"-canvasXpressRemoteWindowBarSelectContainerDiv");a&&s&&r&&n&&o&&h&&(a.style.width=this.meta.canvas.ctx.canvas.width+"px",s.style.top=t+"px",r.style.top=this.meta.canvas.ctx.canvas.height+8+"px",r.style.left=(this.meta.canvas.ctx.canvas.width-n.clientWidth)/2+16+"px",o.style.left=this.meta.canvas.ctx.canvas.width+10+"px",o.style.top=t+"px",h.style.width=e+"px",h.style.top=t+"px",h.style.left=i+"px")},this.addRemoteWindow=function(){var t=this.$("container-"+this.target),e=this.$(this.target),i=t.parentNode,a=this.topoJSONURL?0:44;if(i.id&&!i.id.match(/canvasXpressRemoteWindow/)){this.remoteParentId=i.id+(i.id.match("-"+this.target)?"":"-"+this.target);var s=this.$cX("div",{id:this.remoteParentId+"-canvasXpressRemoteWindow"},{height:a+e.height+"px",width:e.width+"px",position:"relative"}),r=this.addRemoteNavigation(),n=this.$cX("div",{id:this.remoteParentId+"-canvasXpressRemoteWindowBuffer"},{position:"absolute"});s.appendChild(r),s.appendChild(n),i.insertBefore(s,t),n.appendChild(t.parentNode.appendChild(t)),this.addRemoveNavigationListeners("addEvtListener"),this.requestRemoteData(!0),this.initialRemoteDataRequest=!0,this.remoteAutoPlay&&(this.remoteUpdating=!0,this.remoteDirection="next",this.remoteStop=!1,this.playRemoteData(r.lastChild))}else this.initialRemoteDataRequest=!1},this.hideNavigation=function(t){var e=this.$(this.remoteParentId+"-canvasXpressRemoteWindowBar");e&&(e.style.display="none")},this.showNavigation=function(){var t=this.$(this.remoteParentId+"-canvasXpressRemoteWindowBar");t&&(t.style.display="block")},this.initializeRemote=function(){(this.remoteService||this.dataURL||this.dataString||this.topoJSONURL)&&this.addRemoteWindow()}},CanvasXpress.prototype.initGraph=function(){this.draw=function(t){var e=!(!t||!t.width)&&t.width,i=!(!t||!t.height)&&t.height,a=!(!t||!t.network)&&t.network,s=!(!t||!t.noImages)&&t.noImages;this.meta.time.start=(new Date).getTime(),this.removeDOETables(),this.setUserEvents(),this.validateUserColors(),this.stack(t),this.initializeGraph(!0,e,i,!1,a,s,!1,t),this.meta.time.end=(new Date).getTime(),this.meta.time.elapsed=this.meta.time.end-this.meta.time.start,this.hideMask()},this.redraw=function(t){t&&(t.shiftKey||t.ctrlKey||t.altKey||t.metaKey)&&this.resetRender(!1,!0);var e=!!this.isCorrelate&&{transpose:this.isCorrelateTranspose,key:this.isCorrelateKey,color:this.isCorrelateColor};e&&this.removeCorrelation(!0);var i=!!this.isHistogram&&{histogram:this.isCreateHistogram,xAxis:this.xAxis,yAxis:this.yAxis},a=this.cloneObject(this.varIndices),s=this.cloneObject(this.smpIndices),r=this.cloneObject(this.grpIndices),n=this.getConfig(["widthFactor"]);this.hardReset(t),this.sorting&&(this.varIndices=a,this.smpIndices=s,this.grpIndices=r),this.isCxplot&&this.setConfig(n),(this.isQQ||this.isCDF)&&(this.setMinX=null,this.setMaxX=null,this.setMinY=null,this.setMaxY=null),i&&(this.graphType="Scatter2D",this.isHistogram=!0,this.isCreateHistogram=i.histogram,this.xAxis=i.xAxis,this.yAxis=i.yAxis),e&&this.correlateData(e.transpose,e.key,e.color,!0),(this.data.y&&this.data.y.pie||"Pie"==this.graphType)&&(this.xAxis=!1,this.yAxis=!1,this.graphType="Pie"),this.data.y&&this.data.y.treemap&&(this.xAxis=!1,this.yAxis=!1,this.graphType="Treemap"),this.draw({func:"redraw",par:[t]})},this.noDraw=function(t){this.stack(t)},this.isValidGraphType=function(t){switch(t){case"Bar":case"Line":case"Area":case"AreaLine":case"Dotplot":case"Heatmap":case"Stacked":case"StackedPercent":case"Boxplot":case"Correlation":case"Treemap":case"TagCloud":case"ParallelCoordinates":case"Sankey":case"Tree":case"Pie":case"Circular":case"Map":case"BarLine":case"DotLine":case"StackedLine":case"StackedPercentLine":return!!this.data.y;case"Scatter2D":return!!(this.data.y&&this.data.y.smps&&this.data.y.smps.length>1);case"ScatterBubble2D":case"Scatter3D":return!!(this.data.y&&this.data.y.smps&&this.data.y.smps.length>2);case"Venn":return!!this.data.venn;case"Network":return!!this.data.nodes;case"Genome":return!!this.data.tracks}return!1},this.reinitializeGraph=function(t){if("Tree"==this.graphType)this.setHierarchyData("tree");else if("Circular"==this.graphType&&"bubble"==this.circularType)this.setHierarchyData("bubble");else if("Sankey"!=this.graphType||this.moveSankeyId)this.aes.weight&&!this.data.y.vars.includes(this.aes.weight)?(this.switchAnnotationToVar(this.aes.weight,!0),this.switchVarToAnnotation("counts",!0)):this.isCxplot&&(this.stringSampleFactors.length||this.stringVariableFactors.length)?(this.switchNumericToString(this.stringSampleFactors[0],!0,!0),this.switchNumericToString(this.stringVariableFactors[0],!1,!0),this.stringSampleFactors=[],this.stringVariableFactors=[]):this.isCxplot&&t&&t.par&&(t.par.stringSampleFactors||t.par.stringVariableFactors)?(t.par.stringSampleFactors.length&&this.switchNumericToString(t.par.stringSampleFactors[0],!0,!0),t.par.stringVariableFactors.length&&this.switchNumericToString(t.par.stringVariableFactors[0],!1,!0)):this.graphType.match(/Scatter/)&&this.scatterPlotMatrix&&!this.isDOE?this.data.l||this.setScatterPlotMatrix():this.graphType.match(/Pie/)&&this.xAxis.length>1&&!this.isDOE&&this.setMultiplePies();else{if((!this.sankeySource||!this.sankeyTarget)&&this.data.x){!this.sankeySource&&this.data.x.hasOwnProperty("Source")&&(this.sankeySource="Source"),!this.sankeyTarget&&this.data.x.hasOwnProperty("Target")&&(this.sankeyTarget="Target");for(var e=this.meta.data.x,i=this.sortObject(this.data.x),a=[],s=0;s<i.length;s++)"String"==e[i[s]].type&&a.push(i[s]);a.length>0&&(this.sankeySource||(this.sankeySource=a.shift()),this.sankeyTarget||(a.length>0?this.sankeyTarget=a.shift():this.sankeyTarget=this.sankeySource))}s=this.hierarchyVar?this.getVariableIndices(this.hierarchyVar):0;this.hierarchyVarIndex=s>=0?s:0,this.setSankeyData()}},this.getNetworkImages=function(){var t=[];if("Network"==this.graphType)for(var e=0;e<this.data.nodes.length;e++){var i=this.data.nodes[e];i.imagePath&&t.push(i.imagePath)}return t},this.loadImages=function(t,e){for(var i=this,a=this.imageTimeOut/this.imageMaxTries,s=function(t,e){var a=e?i.backgroundImageMD5:i.getFileName(t);return!!CanvasXpress.images[a]||CanvasXpress.cacheImages.hasOwnProperty(a)&&"object"==typeof CanvasXpress.cacheImages[a]},r=0;r<t.length;r++)if(!s(t[r],t[r]==this.backgroundImageMD5)&&this.imageTries<this.imageMaxTries)return this.imageTries++,void setTimeout((function(){i.loadImages(t,e)}),a);this.afterRender(e)},this.initializeGraph=function(t,e,i,a,s,r,n,o){var h=this,l=0,c=[],d=[],p=this.imageTimeOut/this.imageMaxTries,g=function(t,e){var i=e?h.backgroundImageMD5:h.getFileName(t);return!!CanvasXpress.images[i]||CanvasXpress.cacheImages.hasOwnProperty(i)&&"object"==typeof CanvasXpress.cacheImages[i]},u=function(t,e){var i,a=h.$(t.split("//")[1]);a?("IMG"!=a.tagName.toUpperCase()&&(a=a.getElementsByTagName("img")[0]),a?a.src?((i=new Image).id=t,CanvasXpress.stack[h.target].config.backgroundImageSrc=btoa(a.src.replace("data:image/png;base64,","")),i.onload=e,i.src=a.src):h.imageTries>h.imageMaxTries?((i=new Image).id=t,i.onload=e,i.src=CanvasXpress.png):(h.imageTries++,setTimeout((function(){u(t,e)}),p)):h.imageTries<h.imageMaxTries?(h.imageTries++,setTimeout((function(){u(t,e)}),p)):((i=new Image).id=t,i.onload=e,i.src=CanvasXpress.png)):e&&("Scatter2D"==h.graphType&&"visium"==h.scatterType&&(h.scatterType=!1,h.backgroundType="solid"),e())};if(this.showMask(),this.createPatterns(),"Network"==this.graphType&&(c=this.getNetworkImages()),this.images.length)for(var m=0;m<this.images.length;m++)c.push(this.images[m]);if(this.backgroundImage&&(Array.isArray(this.backgroundImage)?(this.backgroundImageMD5=this.md5(this.backgroundImage),c.push(this.backgroundImageMD5)):c.push(this.backgroundImage)),c.length>0?"Network"==this.graphType?this.Network(!0):"Scatter3D"==this.graphType?this.Scatter3D(!0):"Scatter2D"!=this.graphType&&"ScatterBubble2D"!=this.graphType||this.Scatter2D(!0):CanvasXpress.cacheImagesReady=!0,this.imagesToLoad=this.cloneObject(c),c.length>0&&!function(){for(var t=0;t<c.length;t++)if(!CanvasXpress.images[c[t]]&&!g(c[t],c[t]==h.backgroundImageMD5))return!1;return!0}()&&!r){for(m=0;m<c.length;m++)g(c[m],c[m]==this.backgroundImageMD5)||d.push(c[m]);for(m=0;m<c.length;m++)if(!g(c[m],c[m]==this.backgroundImageMD5)){var f=new Image;f.id=c[m],c[m]==this.backgroundImageMD5&&Array.isArray(this.backgroundImage)?(f.onload=function(){CanvasXpress.cacheImages[h.backgroundImageMD5]=this,l++,CanvasXpress.cacheImagesReady=l==d.length,CanvasXpress.cacheImagesReady&&(n||(h.renderGraph(t,e,i,a,s,o),h.triggerDataLoaded("initializeGraph")))},(CanvasXpress.system.isR&&!CanvasXpress.system.isInIframe||!CanvasXpress.system.isR)&&(f.crossOrigin="anonymous"),f.src=this.createImage(this.backgroundImage)):(f.onload=function(){if(this.src){if(h.backgroundImage&&this.id==h.backgroundImage&&(h.backgroundImage=this.src),CanvasXpress.cacheImages[h.getFileName(this.src)]=this,l++,CanvasXpress.cacheImagesReady=l==d.length,"Kegg"==h.networkVendor&&(h.networkFreeze=!1),"Scatter2D"==h.graphType&&"visium"==h.scatterType&&!h.visiumFlip&&!h.visiumSetMinMaxYFlip){var r=h.setMaxY;null!=h.setMinY&&(h.setMaxY=this.height-h.setMinY),null!=h.setMaxY&&(h.setMinY=this.height-r)}CanvasXpress.cacheImagesReady&&(n||(h.renderGraph(t,e,i,a,s,o),h.triggerDataLoaded("initializeGraph")))}else n||(h.renderGraph(t,e,i,a,s,o),h.triggerDataLoaded("initializeGraph"))},(CanvasXpress.system.isR&&!CanvasXpress.system.isInIframe||!CanvasXpress.system.isR)&&(f.crossOrigin="anonymous"),c[m].match(/^javascript:\/\//)?u(c[m],f.onload):f.src=c[m])}}else n||this.renderGraph(t,e,i,a,s,o)},this.renderGraph=function(t,e,i,a,s,r){if(this.data){if(this.skipRender&&"Map"!=this.graphType)return;if(this.meta.time.draw.push((new Date).getTime()),this.debug&&(this.showTransition=!1),this.initialRemoteDataRequest)return;if("Map"==this.graphType&&this.mapId&&!this.isObject(window[this.mapId]))return;this.setColorScheme(),this.reinitializeGraph(r),a||"Network"==this.graphType||(this.reproducing?this.initializeAxis(e,i,!0):this.motionOn||this.initializeAxis(e,i,!0),this.setColorBrew(!this.isContour,t)),this.resizeCanvas(t,e,i),r&&r.preRender&&this.afterRender(r.preRender,!0),this.setAspectRatioProperties();var n=!!this.layoutComb;switch(this.graphType){case"Bar":case"Dotplot":this.isBoxplotCalc&&this.isGroupedData&&this.groupSamples(this.groupingFactors,!1,!1,!1,!0),this.is3DPlot?(this.showTransition=!1,this.Scatter3D()):this.oneDPlot();break;case"Line":case"Area":case"AreaLine":case"BarLine":case"DotLine":case"Heatmap":case"Treemap":case"ParallelCoordinates":case"Stacked":case"StackedLine":case"StackedPercent":case"StackedPercentLine":this.isBoxplotCalc&&this.isGroupedData&&this.groupSamples(this.groupingFactors,!1,!1,!1,!0),this.oneDPlot();break;case"Boxplot":this.isBoxplotCalc||!this.isGroupedData&&!this.groupingFactors.length||this.groupSamples(this.groupingFactors,!1,!1,!1,!0),this.oneDPlot();break;case"TagCloud":case"Sankey":case"Tree":case"Gantt":case"Meter":this.oneDPlot();break;case"Scatter2D":case"ScatterBubble2D":case"Fish":this.Scatter2D();break;case"Scatter3D":this.showTransition=!1,this.Scatter3D();break;case"Correlation":this.Correlation();break;case"Venn":this.Venn();break;case"Pie":this.Pie();break;case"Circular":this.Circular();break;case"Network":if(this.showTransition=!1,s){var o=this.calculateLayout;n=this.randomNetwork;this.calculateLayout=!1,this.randomNetwork=!1,this.Network(),this.calculateLayout=o,this.randomNetwork=n}else this.Network();break;case"Genome":this.showTransition=!1,this.Genome();break;case"Map":this.showTransition=!1,this.Map()}this.drawCanvasBox(),this.showCode&&this.updateCodeDiv(),this.showDataTable?this.updateDataTable():this.dataTableLastState||this.hideUnhideDataTable(!0),"Network"!=this.graphType&&this.drawCitation(),window.navigator.onLine&&!this.Rdatasets&&this.loadRDatasets&&this.getRDatasets(),this.resetAspectRatioProperties(),this.resetGradientTransparencyShadow(),"Network"!=this.graphType&&this.render(),this.debug&&this.drawArea(),this.userEvents.enddraw&&this.userEvents.enddraw.call(this,this),this.logConsole("canvasXpress render ready"),this.monitorInstances(),this.showTransition&&!this.skipTransition&&this.transition(),this.meta.vals.histogram=!(!this.data.y||!this.data.y.histogram)&&this.cloneObject(this.data.y.histogram),this.layoutValid?this.meta.vals.layout={l:this.cloneObject(this.data.l),g:!!this.data.w&&this.cloneObject(this.data.w.grps),v:this.cloneObject(this.segregateVariablesBy),s:this.cloneObject(this.segregateSamplesBy)}:this.meta.vals.layout=!1}}},CanvasXpress.prototype.initAxes=function(){this.getValidAxes=function(t){var e=[];if("Scatter2D"==this.graphType)e.push("xAxis"),e.push("yAxis");else if("ScatterBubble2D"==this.graphType||"Scatter3D"==this.graphType)e.push("xAxis"),e.push("yAxis"),e.push("zAxis");else if(this.graphType.match(/Network|Genome|Correlation|Venn|Heatmap|Pie/)){if(!t)return!1;e.push("xAxis")}else this.graphType.match(/BarLine|DotLine|AreaLine|StackedLine|StackedPercentLine/)?(e.push("xAxis"),e.push("xAxis2")):"Circular"==this.graphType?(e.push("xAxis"),e.push("rAxis")):e.push("xAxis");return e},this.addRemoveSamplesInAxis=function(t,e,i){return"Scatter2D"==this.graphType||"ScatterBubble2D"==this.graphType?i?this.removeSamplesFromAxis(t,e):this.addSamplesToAxis(t,e):"Scatter3D"==this.graphType||"Pie"==this.graphType?this.switchSampleInAxis(t,e):void 0},this.addSamplesToAxis=function(t,e){if(this[e]){if(this.isArray(t))for(var i=this.getObjectArray(this[e]),a=0;a<t.length;a++)i.hasOwnProperty(t[a])||this[e].push(t[a]);else this[e].push(t);return!1}return"Not a valid axis"},this.removeSamplesFromAxis=function(t,e){if(this[e]){if(this[e].length>1){var i={},a=[];if(this.isArray(t))for(var s=0;s<t.length;s++)i[t[s]]=1;else i[t]=1;for(s=0;s<this[e].length;s++)i.hasOwnProperty(this[e][s])||a.push(this[e][s]);return this[e]=a,!1}return e+" cannot be null"}return"Not a valid axis"},this.switchSampleInAxis=function(t,e){return this[e]?(this[e][0]=this.isArray(t)?t[0]:t,!1):"Not a valid axis"},this.addRemoveVariablesInAxis=function(t,e,i){return i?this.removeVariablesFromAxis(t,e):this.addVariablesToAxis(t,e)},this.addVariablesToAxis=function(t,e){if(this[e])if(this.isArray(t))for(var i=0;i<t.length;i++)this[e].push(t[i]);else this[e].push(t);return!1},this.removeVariablesFromAxis=function(t,e){if(!this[e])return"Not a valid axis";var i={},a=[];if(this.isArray(t))for(var s=0;s<t.length;s++)i[t[s]]=1;else i[t]=1;for(s=0;s<this[e].length;s++)i.hasOwnProperty(this[e][s])||a.push(this[e][s]);return this[e]=a,!1},this.formatAxisValue=function(val,axis){var s="yAxis"==this.axis&&this.isCreateHistogram;if(this[axis+"TickFormat"]&&!s){var frmt=this[axis+"TickFormat"];return this.isArray(this[axis+"TickFormat"])&&(frmt=this[axis+"TickFormat"][0],val=eval(val+this[axis+"TickFormat"][1])),val?this.sprintf(frmt,val):val.toString()}var d=Math.min(this[axis+"Decs"],20);return this.formatNumber(val,d)},this.getAxisDataBySample=function(t,e,i){var a=[],s=!1,r=!1,n=!1;if(e&&(s=this[e+"AxisTransform"],n=this[e+"AxisFloorValue"],r=this[e+"AxisCeilValue"]),i||(i=this.varIndices),this.isArray(t))for(var o=0;o<i.length;o++)for(var h=i[o],l=0;l<t.length;l++)a.push(this.getDataAtPos(h,t[l],!1,s,r,n));else for(o=0;o<i.length;o++){h=i[o];a.push(this.getDataAtPos(h,t,!1,s,r,n))}return a},this.getAxisRangeBySample=function(t){return this.range(this.getAxisDataBySample(t))},this.getAxisIncrements=function(t,e,i,a,s){var r,n,o=0;if(t==e)return.1;if(a){for(r=parseFloat(this.formatNumber((e-t)/i,o));0==r;)o++,r=parseFloat(this.formatNumber((e-t)/i,o));return r}if(e-t<=Number.MIN_VALUE)return.1;var h=((s||e)-t)*this.axisExtension,l=(s||e)+h-(t-h),c=-Math.floor(Math.log(l/i)/Math.LN10),d=Math.pow(10,-c),p=(o=this.getNumberDecimals(d),l/i/d);return p<1.5?r=d:p<2?r=2*d:p<2.5?r=2.5*d:p<5?(r=5*d,n=2.5*d):p<7.5?r=7.5*d:(r=10*d,n=5*d),this.getAxisMin(t,r)+r*i<e?this.getAxisIncrements(t,e,i,a,(s||e)+r):n&&this.getAxisMin(t,n)+n*i>=e?n:r},this.getAxisMin=function(t,e){var i=e*Math.floor(t/e);return isNaN(i)||i<0&&this.minData>=0?0:i},this.setAxis=function(t,e){var i=this.isGroupedData?this.data.w:this.data.y,a=e?this.getVariableIndices(this[t]):this.getSampleIndices(this[t]);if((this.isArray(a)&&0==a.length||!this.isArray(a)&&-1==a)&&(this[t]=[]),"manhattan"==this.scatterType)"xAxis"==t?this[t]=["Manhattan"]:"yAxis"==t&&(this[t]=[this.manhattanMarkerLogPValue]);else if(0==this[t].length)if(this.isQQ||this.isCDF)for(var s=0;s<this.smpIndices.length;s++)this[t].push(this.data.y.smps[this.smpIndices[s]]);else if(this.isKM)"xAxis"==t?this[t].push(this.data.y.smps[this.smpIndices[0]]):this[t].push(this.data.y.smps[this.smpIndices[1]]);else if("xAxis"==t)if(e)for(s=0;s<this.varIndices.length;s++)this[t].push(this.data.y.vars[this.varIndices[s]]);else this[t].push(i.smps[this.smpIndices[0]]);else"xAxis2"==t?this[t].push(this.data.y.vars[this.varIndices[this.varIndices.length-1]]):"yAxis"==t?i.smps.length>1?this.isHistogram?(this[t]=this.cloneObject(this.data.y.smps),this[t].shift()):this[t].push(i.smps[this.smpIndices[1]]):this[t].push(i.smps[this.smpIndices[0]]):"zAxis"==t&&(i.smps.length>2?this[t].push(i.smps[this.smpIndices[2]]):i.smps.length>1?this[t].push(i.smps[this.smpIndices[1]]):this[t].push(i.smps[this.smpIndices[0]]));else"Scatter3D"==this.graphType&&this[t].length>1?this[t]=[this[t][0]]:this.isHistogram&&"yAxis"==t&&"Bin"==this[t][0]&&this[t].shift()},this.setAxisValues=function(t,e){var i,a,s,r,n,o,h={},l=t+"MinorValues",c=t+"Values",d=t+"ValuesRaw",p=t+"Ticks",g=t+"TickFormat",u=t+"Incr",m=t+"Decs",f=t+"Min",y=t+"Max",x=t+"Transform",b=t+"MaxStrLength";if("Gantt"==this.graphType){this[m]=0,this[c]=[],this[d]=[],this[l]=[],s=this[u]/5,i=this[f]-this[u];for(var v=0;v<5;v++)o=i+s*v,this[l].push(new Date(o));i=this[f];for(var A=0;A<=this[p]+1;A++){for(v=0;v<5;v++)o=i+s*v,this[l].push(new Date(o));if(i>this[y])break;this[c].push(new Date(i)),this[d].push(i),i+=this[u]}}else if("percentile"==this[x]){this[m]=0,this[c]=[],this[d]=[],this[l]=[];var w=[0,25,50,75,100];for(A=0;A<w.length;A++)this[c].push(w[A]),this[d].push(w[A]);for(A=5;A<100;A+=5)this[l].push(A)}else{this[c]=[],this[l]=[],this[d]=[],s=this[u]/5,i=this[f]-this[u];for(v=0;v<5;v++)o=i+s*v,this[l].push(o);i=this[f];for(A=0;A<=(e?e.length+1:this[p]+1);A++){for(v=0;v<5;v++)o=i+s*v,this[l].push(o);0==this[m]&&i.toString().match(/\.5$/)&&(this[m]=1),a=this.formatAxisValue(i,t),h.hasOwnProperty(a)&&!this[g]?r=!0:h[a]=1,this[y],this[c].push(a),this[d].push(i),i+=this[u]}}if(r&&this[m]<20)if(this[m]++,this[c]=[],this[l]=[],this[d]=[],this[m]>10){this[m]=0,s=this[u]/5,i=this[f]-this[u];for(v=0;v<5;v++)o=i+s*v,this[l].push(o);i=this[f];for(A=0;A<=this[p]+1;A++){for(v=0;v<5;v++)o=i+s*v,this[l].push(o);if(i>this[y])break;this[c].push(i.toString()),this[d].push(i),this[m]=Math.max(this[m],i.toString().split(".").length-1),i+=this[u]}}else this.setAxisValues(t,e);else if(n=this.getMaxText(this[c]),this[g]?this[b]=n:this[b]=this.formatNumber(n,this[m]),this[l].unshift(this[l][0]-s),this.layoutValid&&this.layoutParams&&this.layoutParams[this.layoutCurrent]){var C=t+"MaxStrTick";this.layoutParams[this.layoutCurrent][C]=n,this.layoutParams[this.layoutCurrent][C+"Length"]=this.measureText(n,this.axisTickFont),this[t+"LayoutMaxTickStrLength"]?this.layoutParams[this.layoutCurrent][C+"Length"]>this[t+"LayoutMaxTickStrLength"]&&(this[t+"LayoutMaxTickStr"]=n,this[t+"LayoutMaxTickStrLength"]=this.layoutParams[this.layoutCurrent][C+"Length"]):(this[t+"LayoutMaxTickStr"]=n,this[t+"LayoutMaxTickStrLength"]=this.layoutParams[this.layoutCurrent][C+"Length"])}},this.setAxisAttributes=function(t,e,i,a,s,r){var n=this,o=!(!a||!a.match(/log/)),h=t+"Ticks",l=t+"Incr",c=t+"AbsMin",d=t+"AbsMax",p=t+"Min",g=t+"Max",u=t+"FloorValue",m=t+"CeilValue",f=t+"Range",y=t+"Decs",x=t+"ExtensionMin",b=t+"ExtensionMax";this.setRangeData(e,i,o,s,"fish"==e?t:"qq"==e||"cdf"==e||"km"==e?t.replace("Axis",""):t);this.minData==this.maxData&&(this.minData-=Math.abs(.1*this.minData),this.maxData+=Math.abs(.1*this.maxData)),a&&("log2"==a?(this.minData=Math.log(this.minData)/Math.LN2,this.maxData=Math.log(this.maxData)/Math.LN2):"log10"==a?(this.minData=Math.log(this.minData)/Math.LN10,this.maxData=Math.log(this.maxData)/Math.LN10):"exp2"==a?(this.minData=Math.pow(2,this.minData),this.maxData=Math.pow(2,this.maxData)):"exp10"==a?(this.minData=Math.pow(10,this.minData),this.maxData=Math.pow(10,this.maxData)):"percentile"==a&&(this.minData=this.minData<0?-100:0,this.maxData=100)),this[u]&&(this.minData=Math.max(this.minData,this[u])),this[m]&&(this.maxData=Math.min(this.maxData,this[m])),this.isHistogram&&!this.isOneDimensionalGraph()&&(this.histogramAsDotplot&&"yAxis"==t?(this.histogramStackDir,this.minData=-.5,this.maxData=.5):this.minData=0),this.isCreateHistogram&&!this.ridgeBy&&("xAxis"==t?(this.isCreateHistogram.setMinX&&(this.minData=this.isCreateHistogram.setMinX),this.isCreateHistogram.setMaxX&&(this.maxData=this.isCreateHistogram.setMaxX)):"yAxis"==t&&(this.isCreateHistogram.setMinY&&(this.minData=this.isCreateHistogram.setMinY),this.isCreateHistogram.setMaxY&&(this.maxData=this.isCreateHistogram.setMaxY))),this.setMin&&(this.minData=this.setMin),this.setMax&&(this.maxData=this.setMax),this[c]=null==this.setMin?this.minData:this[c],this[d]=null==this.setMax?this.maxData:this[d];var v=!!(this.isHistogram||this.graphType.match(/Stacked|Area/)||a&&"percentile"==a||r||this.stackBy),A=this[this.axisAlgorithm](this.minData,this.maxData,this[h],this.axisWilkinsonLoose),w=(this.maxData-this.minData)*this.axisExtension*(this.isContour,1),C=function(){if(n.graphType.match(/Scatter|Dot/i)){var e=n.dataPointSize*this.dataPointSizeScaleFactor,i=("x"==t.substring(0,1)?n.width:n.height)/(n.maxData-n.minData);return n.layoutComb?Math.ceil(e/i/n.layoutRows):e/i}return 0}(),T=!this.isOneDimensionalGraph()&&this.isHistogram&&"xAxis"==t;this[l]=A[1]-A[0],this[y]=this.getNumberDecimals(this[l]),this[p]="Scatter2D"==this.graphType&&"visium"==this.scatterType?this.minData:A[0],"Scatter2D"==this.graphType&&"manhattan"==this.scatterType?this[g]=this.maxData*("xAxis"==t?1.025:1.05):"Scatter2D"==this.graphType&&"visium"==this.scatterType?this[g]=this.maxData:this[g]=T?Math.min(this.isCreateHistogram.max-this.isCreateHistogram.min,A[A.length-1]):A[A.length-1],this.setAxisValues(t,A),"Scatter2D"==this.graphType&&"visium"==this.scatterType||(this[x]=!1,A[0]<this.minData-C||v?this[p]=A[0]:("Scatter2D"==this.graphType&&"manhattan"==this.scatterType&&"yAxis"==t||(this[p]=this.minData-("Meter"==this.graphType?0:"Scatter2D"==this.graphType&&"manhattan"==this.scatterType?w/3:w)),this[x]=!0),this[x]||(this.isHistogram&&!this.isOneDimensionalGraph()&&"yAxis"==t||this.scatterMatrixPlot&&this.scatterMatrixPlotType.match(/Histogram|Density|all/)?this.histogramAsDotplot&&"yAxis"==t&&"down"!=this.histogramStackDir?this[p]=this.minData-this.axisExtension/1.2:this[p]=0-(this.maxData-this.minData)*this.axisExtension/3:(this.isHistogram&&!this.isOneDimensionalGraph()&&"xAxis"==t||this.scatterMatrixPlot&&this.scatterMatrixPlotType.match(/Histogram|Density|all/))&&(this[p]-=this.maxData*this.axisExtension/(this.ridgeBy?.5:3))),this[b]=!1,A[A.length-1]>this.maxData+C||v?"Scatter2D"!=this.graphType&&(this[g]="Scatter2D"!=this.graphType||"manhattan"!=this.scatterType||this.layoutValid?T?Math.max(this.isCreateHistogram.max-this.isCreateHistogram.min,A[A.length-1]):A[A.length-1]:this.maxData):(this[g]=this.maxData+("Meter"==this.graphType?0:w),this[b]=!0),this[b]||(this.isHistogram&&!this.isOneDimensionalGraph()||this.scatterMatrixPlot&&this.scatterMatrixPlotType.match(/Histogram|Density|all/)||"Scatter2D"==this.graphType&&"manhattan"==this.scatterType&&!this.layoutValid)&&(this.histogramAsDotplot&&"yAxis"==t&&"down"!=this.histogramStackDir?this[g]=this.maxData+this.axisExtension/1.2:this[g]+=this.maxData*this.axisExtension/(this.ridgeBy&&"xAxis"==t?.5:3)),this.layoutComb&&this.isOneDimensionalGraph()&&"percentile"!=a&&!this.graphType.match(/Percent/)&&this.maxData>this[g]-.2*this[l]&&(this[g]+=this[l]),null!=this.setMin&&(this[p]=this.setMin),null!=this.setMax&&(this[g]=this.setMax),this.ridgeBy&&"yAxis"===t&&(this[g]=this.maxData)),this[f]=this[g]-this[p]},this.setAxesType=function(){"Scatter2D"==this.graphType&&"km"==this.scatterType?this.axesType="KM":"Scatter2D"==this.graphType&&"cdf"==this.scatterType?this.axesType="CDF":"Scatter2D"==this.graphType&&"qq"==this.scatterType?this.axesType="QQ":"ScatterBubble2D"==this.graphType&&this.xAxisIndices.length>1&&this.xAxisIndices.length==this.yAxisIndices.length&&this.xAxisIndices.length==this.zAxisIndices.length?this.axesType="XYZ":this.xAxisIndices.length>1&&this.xAxisIndices.length==this.yAxisIndices.length?this.axesType="XY":this.xAxisIndices.length>this.yAxisIndices.length?this.axesType="X":this.axesType="Y"},this.getMarkerVariableIndices=function(){var t=[];if(this.decorations&&this.decorations.marker)for(var e=this.decorations.marker,i=0;i<e.length;i++)if(e[i].variable){var a=this.getVariableIndices(e[i].variable);a>=0&&(t[a]=!0)}return t},this.getScatterVisibleVariables=function(){if(null==this.setMinX||null==this.setMaxX||null==this.setMinY||null==this.setMaxY||this.xAxisHistogramShow||this.yAxisHistogramShow)return this.varIndices;for(var t={},e="XYZ"==this.axesType?1:Math.max(this.xAxisIndices.length,this.yAxisIndices.length),i=0;i<e;i++)for(var a="Y"==this.axesType||"XYZ"==this.axesType?this.xAxisIndices[this.xAxisCurrent]:this.xAxisIndices[i],s="X"==this.axesType||"XYZ"==this.axesType?this.yAxisIndices[this.yAxisCurrent]:this.yAxisIndices[i],r=0;r<this.varIndices.length;r++){var n=this.getDataAtPos(this.varIndices[r],a,!1,this.xAxisTransform,this.xAxisFloorValue,this.xAxisCeilValue),o=this.getDataAtPos(this.varIndices[r],s,!1,this.yAxisTransform,this.yAxisFloorValue,this.yAxisCeilValue);n>=this.setMinX&&n<=this.setMaxX&&o>=this.setMinY&&o<=this.setMaxY&&(t[this.varIndices[r]]=!0)}return this.getKeys(t).sort((function(t,e){return t-e}))},this.setAxesDensityScatterLayout=function(t,e){this.setAxesType();for(var i,a=this,s=this.meta.data.d,r=this.getMarkerVariableIndices(),n=this.data.l&&this.data.l.comp?this.data.l.comp.length:0,o=parseInt(Math.min(1e3,Math.max(10,(t||this.width)*(e||this.height)*this.densityPixels*("visium"==this.scatterType?100:1)/(1e6*Math.min(this.layoutRows,this.layoutCols)*2)))),h=o/this.xAxisRange,l=o/this.yAxisRange,c={},d=!1,p=!1,g=0;g<n;g++){var u=[],m=[],f=[],y=[];if(i=g,a.segregateVariablesBy.length&&a.segregateSamplesBy.length?(f=a.data.l.comp[i][0],y=a.data.l.comp[i][1]):a.data.l.smps&&a.data.l.smps[i].xAxis&&a.data.l.smps[i].yAxis?(f=a.varIndices,y=[a.getSampleIndices(a.data.l.smps[i].xAxis[0]),a.getSampleIndices(a.data.l.smps[i].yAxis[0])]):!a.scatterPlotMatrix&&a.data.l.smps&&a.data.l.smps[i]?(f=a.varIndices,y=[a.data.l.smps[i][0],a.data.l.smps[i][1]||a.data.l.smps[i][0]]):a.data.l.vars&&a.data.l.vars[i]?(d||(d=a.data.y.vars,p=a.getObjectArrayOrder(d)),f=a.getVariableIndices(a.data.l.vars[i],!1,d,p),y=a.smpIndices):(f=[],y=[]),f.length&&y.length){if(!("visium"==this.scatterType||this.varIndices.length<500)){var x="manhattan"==this.scatterType?this.getSampleIndices("Manhattan"):y[0],b="manhattan"==this.scatterType?this.manhattanMarkerLogPValueIndex:y[1]||y[0],v=x+":"+b;if(this.showHistogramDensity||this.xAxisHistogramShow||this.yAxisHistogramShow){if(!s.s.hasOwnProperty(x.toString())&&s.l[g]&&this.xAxisHistogramShow){for(var A=[],w=0;w<f.length;w++)A.push(this.getDataAtPos(f[w],x,!1,this.xAxisTransform,this.xAxisFloorValue,this.xAxisCeilValue));u.push(A),s.s[x.toString()]=this.density(A,this.data.y.smps[x])}if(!s.s.hasOwnProperty(b.toString())&&s.a.hasOwnProperty(v)&&this.yAxisHistogramShow){for(A=[],w=0;w<f.length;w++)A.push(this.getDataAtPos(f[w],b,!1,this.yAxisTransform,this.yAxisFloorValue,this.yAxisCeilValue));m.push(A),s.s[b.toString()]=this.density(A,this.data.y.smps[b])}}if(!s.l[g]){s.l[g]={vars:[],skip:{},density:{},max:1,n:0,colorBrew:!1};var C={},T=[],S=[];for(w=0;w<f.length;w++){var D=this.getDataAtPos(f[w],x,!1,this.xAxisTransform,this.xAxisFloorValue,this.xAxisCeilValue),M=this.getDataAtPos(f[w],b,!1,this.yAxisTransform,this.yAxisFloorValue,this.yAxisCeilValue),k=parseInt((D-this.xAxisMin)*h),L=parseInt((M-this.yAxisMin)*l),I=k+":"+L+":0";this.isNumeric([k,L])&&(C.hasOwnProperty(I)||(C[I]=[]),C[I].push(f[w]),r[f[w]]&&(c[I]=!0)),T.push(D),S.push(M)}(this.showHistogramDensity||this.xAxisHistogramShow||this.yAxisHistogramShow)&&(!s.s.hasOwnProperty(x.toString())&&T.length>0&&this.xAxisHistogramShow&&(s.s[x.toString()]=this.density(T,this.data.y.smps[x]),u.push(T)),!s.s.hasOwnProperty(b.toString())&&S.length>0&&this.yAxisHistogramShow&&(s.s[b.toString()]=this.density(S,this.data.y.smps[b]),m.push(S)));var B=this.getKeys(C).sort((function(t,e){return C[t].length-C[e].length||C[t][0]-C[e][0]}));for(w=0;w<B.length;w++){I=B[w];var N=C[I].pop();if(s.l[g].vars.push(N),C[I].length>0&&!c[I]){s.l[g].max=Math.max(s.l[g].max,C[I].length+1),s.l[g].density[N.toString()]=C[I].length+1,s.l[g].n++;for(var F=0;F<C[I].length;F++)!this.lineBy&&f.length>500&&(s.l[g].skip[C[I][F].toString()]=N)}}s.l[g].colorBrew=this.getColorBrew(!1,1,s.l[g].max)}}}else s.l[g]={vars:[],skip:{},density:{},max:1,n:0,colorBrew:!1}}},this.setAxesDensityScatter=function(t,e){this.setAxesType();var i=this.meta.data.d,a=this.getMarkerVariableIndices(),s=this.getScatterVisibleVariables(),r=s.length>5e4?.5:1,n=null!=this.setMinX&&null!=this.setMaxX&&null!=this.setMinY&&null!=this.setMaxY,o=n?t||this.width:t?Math.min(t,this.width):this.width,h=n?e||this.height:e?Math.min(e,this.height):this.height,l="XYZ"==this.axesType?1:Math.max(this.xAxisIndices.length,this.yAxisIndices.length),c=parseInt(Math.min(1e3,Math.max(10,o*h*this.densityPixels*r/1e6)));null==i.q||n||(c=i.q);var d=c/this.xAxisRange,p=c/this.yAxisRange,g=[],u=[],m={};null==i.q&&(i.q=c),i.a={},i.s={};for(var f=0;f<l;f++){var y="Y"==this.axesType||"XYZ"==this.axesType?this.xAxisIndices[this.xAxisCurrent]:this.xAxisIndices[f],x="X"==this.axesType||"XYZ"==this.axesType?this.yAxisIndices[this.yAxisCurrent]:this.yAxisIndices[f],b=("ScatterBubble2D"==this.graphType&&!this.sizeBy&&this.zAxisIndices.length>0||"XYZ"==this.axesType)&&this.zAxisIndices[this.zAxisCurrent],v=!1!==b?y+":"+x+":"+b:y+":"+x;if(this.showHistogramDensity||this.xAxisHistogramShow||this.yAxisHistogramShow){if(!i.s.hasOwnProperty(y.toString())&&i.a.hasOwnProperty(v)&&this.xAxisHistogramShow){for(var A=[],w=0;w<s.length;w++)A.push(this.getDataAtPos(s[w],y,!1,this.xAxisTransform,this.xAxisFloorValue,this.xAxisCeilValue));g.push(A),i.s[y.toString()]=this.density(A,this.data.y.smps[y])}if(!i.s.hasOwnProperty(x.toString())&&i.a.hasOwnProperty(v)&&this.yAxisHistogramShow){for(A=[],w=0;w<s.length;w++)A.push(this.getDataAtPos(s[w],x,!1,this.yAxisTransform,this.yAxisFloorValue,this.yAxisCeilValue));u.push(A),i.s[x.toString()]=this.density(A,this.data.y.smps[x])}}if(!i.a.hasOwnProperty(v)){if(i.a[v]={vars:[],skip:{},density:{},max:1,n:0,colorBrew:!1},"visium"==this.scatterType)continue;var C={},T=[],S=[];for(w=0;w<s.length;w++){var D=this.getDataAtPos(s[w],y,!1,this.xAxisTransform,this.xAxisFloorValue,this.xAxisCeilValue),M=this.getDataAtPos(s[w],x,!1,this.yAxisTransform,this.yAxisFloorValue,this.yAxisCeilValue),k=!1!==b?this.getDataAtPos(s[w],b,!1,this.zAxisTransform,this.zAxisFloorValue,this.zAxisCeilValue):null,L=parseInt((D-this.xAxisMin)*d),I=parseInt((M-this.yAxisMin)*p),B=this.sizeBy?parseInt(this.getPropertyValue(s[w],null,"sizeBy")):!1!==b?this.sizes[Math.floor(this.percentile(this.zAxisMin,this.zAxisMax,k)/10)+1]:this.dataPointSize*this.dataPointSizeScaleFactor,N=L+":"+I+":"+parseInt(B);this.isNumeric([L,I,B])&&(C.hasOwnProperty(N)||(C[N]=[]),C[N].push(s[w]),a[s[w]]&&(m[N]=!0)),T.push(D),S.push(M)}(this.showHistogramDensity||this.xAxisHistogramShow||this.yAxisHistogramShow)&&(!i.s.hasOwnProperty(y.toString())&&T.length>0&&this.xAxisHistogramShow&&(i.s[y.toString()]=this.density(T,this.data.y.smps[y]),g.push(T)),!i.s.hasOwnProperty(x.toString())&&S.length>0&&this.yAxisHistogramShow&&(i.s[x.toString()]=this.density(S,this.data.y.smps[x]),u.push(S)));var F=this.getKeys(C).sort((function(t,e){return C[t].length-C[e].length||C[t][0]-C[e][0]}));for(w=0;w<F.length;w++){N=F[w];var P=C[N].pop();if(i.a[v].vars.push(P),C[N].length>0&&!m[N]&&(i.a[v].max=Math.max(i.a[v].max,C[N].length+1),i.a[v].density[P.toString()]=C[N].length+1,i.a[v].n++,this.varIndices.length>500))for(var R=0;R<C[N].length;R++)this.lineBy||(i.a[v].skip[C[N][R].toString()]=P)}i.a[v].colorBrew=this.getColorBrew(!1,1,i.a[v].max)}}(this.showHistogramDensity||this.xAxisHistogramShow||this.yAxisHistogramShow)&&(g.length>0&&this.xAxisHistogramShow&&(i.x=this.histN(g,this.xAxisIndices,"xAxis")),u.length>0&&this.yAxisHistogramShow&&(i.y=this.histN(u,this.yAxisIndices,"yAxis")))},this.setAxesDensity1DGraphs=function(){var t=this.showViolinBoxplot&&"Boxplot"==this.graphType,e=this.binned&&("Boxplot"==this.graphType||"Dotplot"==this.graphType),i=this.segregateSamplesBy.length&&this.isGroupedData&&this.groupingFactors.includes(this.segregateSamplesBy[0]);if(t||e)for(var a=this.isGroupedData?this.grpIndices:this.smpIndices,s=this.meta.data.d,r=0;r<this.varIndices.length;r++){for(var n=[],o=[],h=0;h<a.length;h++)if(this.isGroupedData)for(var l=this.isTransformedData&&this.data.y.trans||this.showBoxplotOriginalData&&this.data.y.trans?this.data.y.trans:this.data.y.data,c=0;c<this.data.w.grps[a[h]].length;c++)n.push(l[this.varIndices[r]][this.data.w.grps[a[h]][c]]),o.push(this.data.w.grps[a[h]][c]);else n.push(this.getDataAtPos(this.varIndices[r],a[h],!1,this.xAxisTransform,this.xAxisFloorValue,this.xAxisCeilValue)),o.push(a[h]);var d=this.density(n,this.data.y.vars[this.varIndices[r]]),p=[];for(s.v[this.varIndices[r]]={density:d,area:d.sumY,scale:d.maxY,indices:o,max:d.maxY},h=0;h<d.histogram.idxs.length;h++)for(c=0;c<d.histogram.idxs[h].length;c++){p[y=d.histogram.idxs[h][c]]=d.histogram.mids[h]}if(s.v[this.varIndices[r]].mids=p,this.isGroupedData){s.g[this.varIndices[r]]=[];var g=0,u=0,m=0;if(!this.layoutValid||this.isDOE||i||this.segregateVariablesBy.length||!this.data.l){var f=0;for(h=0;h<a.length;h++){for(n=[],b=[],c=0;c<this.data.w.grps[a[h]].length;c++){var y=this.data.w.grps[a[h]][c];n.push(l[this.varIndices[r]][y]),b.push(p[f++])}A=this.density(n,this.data.w.labs[a[h]]);s.g[this.varIndices[r]][a[h]]={density:A,indices:this.data.w.grps[a[h]],global:b},g=Math.max(g,A.sumY),u=Math.max(u,A.maxY),m=Math.max(m,A.n)}for(h=0;h<a.length;h++)s.g[this.varIndices[r]][a[h]].area=g,s.g[this.varIndices[r]][a[h]].scale=u,s.g[this.varIndices[r]][a[h]].max=m,s.g[this.varIndices[r]][a[h]].total=d.n}else{for(var h=0;h<this.data.l.comp.length;h++)for(var c=0;c<this.data.w.grps.length;c++){var x=this.intersectArray(this.data.l.comp[h],this.data.w.grps[c]);if(x.length){for(var n=[],b=[],v=0;v<x.length;v++)n.push(l[this.varIndices[r]][x[v]]),b.push(p[x[v]]);var A=this.density(n,[this.data.l.name[h],this.data.w.glab[c]].join("::"));s.g[this.varIndices[r]].push({density:A,indices:x,global:b}),g=Math.max(g,A.sumY),u=Math.max(u,A.maxY),m=Math.max(m,A.n)}}for(var h=0;h<s.g[this.varIndices[r]].length;h++)s.g[this.varIndices[r]][h].area=g,s.g[this.varIndices[r]][h].scale=u,s.g[this.varIndices[r]][h].max=m,s.g[this.varIndices[r]][h].total=d.n}}}},this.setAxes=function(t,e,i,a,s){if(!(this.smpIndices&&this.smpIndices.length<1||this.graphType.match(/Venn|Network|Sankey|Tree/)))if(this.graphType.match(/Correlation/)){var r=this.isGroupedData?this.data.w:this.data.y;this.setMin=null,this.setMax=null,this.correlationAnchorLegend&&this.setAxisAttributes("xAxis"),r.cor&&0!=r.cor.length||this.summarize("cor"),this.summaryType="cor",this.setRangeData("cor"),this.yAxisTitle||(this.yAxisTitle="Correlation")}else if(this.graphType.match(/Gantt/))this.summaryType="gantt",this.setAxisAttributes("xAxis","gantt");else if(this.graphType.match(/Fish/))this.summaryType="fish",this.setAxisAttributes("xAxis","fish"),this.setAxisAttributes("yAxis","fish");else if(this.graphType.match(/Scatter|Pie/)){var n=this.smpIndices,o=[],h=["xAxis"],l=["X"];if(this.graphType.match(/Scatter/)&&(h.push("yAxis"),l.push("Y")),this.graphType.match(/ScatterBubble2D|Scatter3D/)&&(h.push("zAxis"),l.push("Z")),"Scatter3D"==this.graphType&&(this.xAxisTicks=10,this.yAxisTicks=10,this.zAxisTicks=10),this.scatterAxesEqual)for(var c=0;c<h.length;c++)this.setAxis(h[c]),o=o.concat(this.getSampleIndices(this[h[c]]));for(c=0;c<h.length;c++){var d=h[c]+"Indices",p="setMin"+l[c],g="setMax"+l[c];this.setMin=null,this.setMax=null,this.setAxis(h[c]),this[d]=this.toArray(this.getSampleIndices(this[h[c]])),this.scatterAxesEqual?this.setSamplesVisible(o):this.setSamplesVisible(this[d]),null!=this[p]&&(this.setMin=this[p]),null!=this[g]&&(this.setMax=this[g]),this.isQQ||this.isCDF||this.isKM?this.setAxisAttributes(h[c],t):this.isHistogram&&("density"==this.histogramStat||"stacked"==this.histogramType||"normal"!=this.densityPosition||this.histogramAsDotplot)?this.setAxisAttributes(h[c],c>0&&"density"):this.setAxisAttributes(h[c],c>0&&t,!1,this[h[c]+"Transform"]),this.setSamplesVisible(n)}this.isQQ||this.isCDF||this.isKM||this.scatterPlotMatrix||(this.xAxisTitleDynamic&&!this.ridgeBy||!this.xAxisTitle?this.xAxisTitle=(this.layoutValid&&this.graphType.match(/Scatter/)&&1==this.xAxis.length||1==this.xAxis.length)&&this.xAxis[0]:this.ridgeBy,this.graphType.match(/Scatter/)&&(!this.yAxisTitleDynamic&&this.yAxisTitle||(this.yAxisTitle=(this.layoutValid&&1==this.xAxis.length||1==this.yAxis.length)&&this.yAxis[0]),this.graphType.match(/ScatterBubble2D|Scatter3D/)&&this.zAxisTitleDynamic&&(this.zAxisTitle=1==this.zAxis.length&&this.zAxis[0]))),this.graphType.match(/Scatter/)&&(this.layoutValid&&!this.isDOE?this.scattterPlotMatrix||this.isHistogram||this.setAxesDensityScatterLayout(a,s):this.setAxesDensityScatter(a,s))}else if(this.graphType.match(/Genome/))this.setMax=null!=this.setMaxX?this.setMaxX:null,this.setMin=null!=this.setMinX?this.setMinX:null,this.setRangeData("genome"),this.xAxisExact=!0,this.xAxisTransform=!1,this.xAxisAbsMin=this.minData,this.xAxisAbsMax=this.maxData,this.xAxisMin=this.minData-1,this.xAxisMax=this.maxData+1,this.xAxisDecs=0,this.xAxisRange=this.xAxisMax-this.xAxisMin,this.xAxisTicks=this.genomeTicks,this.xAxisIncr=this.xAxisRange/this.xAxisTicks,this.setAxisValues("xAxis");else if("ParallelCoordinates"==this.graphType){this.parallelCoordinates=[];r=this.isGroupedData?this.data.w:this.data.y;var u=this.isGroupedData?this.grpIndices:this.smpIndices;for(c=0;c<u.length;c++){for(var m=u[c],f=this.measureText(r.smps[m],this.smpLabelFont),y=this.range(this.getDataForSmpGrpAtIndex(m)),x=this[this.axisAlgorithm](y[0],y[1],this.xAxisTicks,this.axisWilkinsonLoose),b=[],v=0;v<x.length;v++)x[v]>=y[0]&&x[v]<=y[1]&&b.push(x[v]);var A=this.getMaxText(b),w=this.measureText(A,this.axisTickFont),C={smp:r.smps[m],lenSmp:f,range:y,min:y[0],max:y[1],vals:b,maxText:A,len:w};if(this.meta.data.modified&&this.meta.data.modified.z&&this.meta.data.modified.z[r.smps[m]]){var T=this.meta.data.modified.z[r.smps[m]],S=this.getMaxText(T),D=this.measureText(S,this.axisTickFont);C.levs=T,C.maxTextLev=S,C.lenLev=D,C.type="String"}else C.type="Numeric";this.parallelCoordinates.push(C)}}else{if(this.graphType.match(/Heatmap|Correlation/)&&this.minData&&this.maxData&&!this.heatmapAutoAdjust)return;var M=this,k=!1,L=this.smpIndices,I=this.varIndices,B=this.grpIndices,N=this.varIndices,F=!(!("Dotplot"==this.graphType||"DotLine"==this.graphType||"Line"==this.graphType&&this.lineBy)||!this.isGroupedData),P=this.graphType.match(/Percent/)||this.graphType.match(/Area/)&&this.areaType.match(/percent/)?"percentile":this.xAxisTransform,R=!!("Stacked"==M.graphType||M.graphType.match(/Stacked/)&&!M.segregateVariablesBy.length||M.graphType.match(/Area/)&&M.areaType.match(/stacked/)&&!M.segregateVariablesBy.length||i||M.stackBy)||!(!M.layoutValid||!M.graphType.match(/Stacked/)),O=P||!1,X=this.graphType.match(/BarLine|DotLine|AreaLine|StackedLine|StackedPercentLine/);this.is3DPlot||(this.setAxis("xAxis",!0),this.xAxisVarIndices=this.getVariableIndices(this.xAxis),X&&(this.setAxis("xAxis2",!0),this.xAxis2VarIndices=this.getVariableIndices(this.xAxis2),k=this.cloneObject(this.xAxisVarIndices).concat(this.cloneObject(this.xAxis2VarIndices)))),this.varIndicesStart>-1||this.smpIndicesStart>-1||this.grpIndicesStart>-1?"Heatmap"==this.graphType&&(this.graphOrientation="horizontal"):"StackedPercent"==this.graphType||"StackedPercentLine"==this.graphType||this.graphType.match(/Area/)&&this.areaType.match(/percent/)?(this.setMinX=null,this.setMaxX=null,this.xAxisExact=!0):("Boxplot"==this.graphType&&!this.isGroupedData&&0==this.groupingFactors.length||this.summarizeBoxplot)&&(this.summarize("iqr"),delete this.summarizeBoxplot),this.xAxis2Ticks=this.xAxisTicks,X&&this.setVariablesVisible(this.axisCoordinate?k:this.getVariablesVisibleByAxis("xAxis")),"Meter"==this.graphType?(null!=this.meterMin?this.setMin=this.meterMin:this.setMin=null,null!=this.meterMax?this.setMax=this.meterMax:this.setMax=null):(this.setMax=null!=this.setMaxX?this.setMaxX:null,this.setMin=null!=this.setMinX?this.setMinX:null),this.setAxesDensity1DGraphs(),this.setAxisAttributes("xAxis",O,F,P,R,e),X&&(O=!1,X&&this.setVariablesVisible(this.axisCoordinate?k:this.getVariablesVisibleByAxis("xAxis2")),this.setMax=null!=this.setMaxX2?this.setMaxX2:null,this.setMin=null!=this.setMinX2?this.setMinX2:null,this.setAxisAttributes("xAxis2",O,F,P,R)),this.setMax=null!=this.setMaxR?this.setMaxR:this.setMax,this.setMin=null!=this.setMinR?this.setMinR:this.setMin,"Circular"!=this.graphType||!this.rAxis&&"chord"!=this.circularType||this.setAxisAttributes("rAxis","circular",F,P,!1,!0),this.setVariablesVisible(N),this.smpIndices=L,this.varIndices=I,this.grpIndices=B}},this.resetAxes=function(t){this.xAxis=this.meta.config.user&&this.meta.config.user.xAxis&&!t?this.meta.config.user.xAxis:[],this.yAxis=this.meta.config.user&&this.meta.config.user.yAxis&&!t?this.meta.config.user.yAxis:[],this.zAxis=this.meta.config.user&&this.meta.config.user.zAxis&&!t?this.meta.config.user.zAxis:[],t&&(this.varIndices=[],this.smpIndices=[]),this.setAxes()},this.setAxisUnits=function(t,e){var i=t+"Unit",a=t+"Range",s=e||t.substring(0,1);this[i]=this[s]/this[a]},this.setAxisFont=function(t,e){this.autoScaleFont?(this.setPropertyFontSize(e,"decorationFont"),this.setPropertyFontSize(e,"axisTickFont"),this.setPropertyFontSize(e,"axisTitleFont"),this.adjustFont(t,"axisTitleFont",e)):(this.decorationFont=this.decorationFontStyle+" "+parseInt(this.decorationFontSize)+"px "+this.fontName,this.axisTickFont=this.axisTickFontStyle+" "+parseInt(this.axisTickFontSize)+"px "+this.fontName,this.axisTitleFont=this.axisTitleFontStyle+" "+parseInt(this.axisTitleFontSize)+"px "+this.fontName)},this.initializeAxis=function(t,e,i){this.graphType.match(/Venn|Network/)||(this.setAxes(!1,!1,!1,t,e),i||this.setColorBrew())}},cxplot=function(t,e,i,a){return new CanvasXpress(t,e,{aes:i||{},remoteTransitionEffect:"none",theme:"GGPlot",widthFactor:2,isCxplot:!0},a)},aes=function(){for(var t=arguments,e={},i=["x","y","z","fill","color","shape","size"],a=0;a<t.length;a++)if(Array.isArray(t[a])&&Array.isArray(t[a][0]))e.data=t[a];else if(t[a]instanceof Object)for(var s in t[a])e[s]=t[a][s],"factor"==s?(e.stringSampleFactors||(e.stringSampleFactors=[]),e.stringVariableFactors||(e.stringVariableFactors=[]),e.asSampleFactors||(e.asSampleFactors=[]),e.asVariableFactors||(e.asVariableFactors=[]),e.stringSampleFactors.push(t[a][s]),e.stringVariableFactors.push(t[a][s]),e.asSampleFactors.push(t[a][s]),e.asVariableFactors.push(t[a][s]),t.length>1&&(0==a?e.x=t[a][s]:1==a?e.y=t[a][s]:2==a&&(e.z=t[a][s]))):i.includes(s)?t[a][s]instanceof Object&&t[a][s].factor&&(e.stringSampleFactors||(e.stringSampleFactors=[]),e.stringVariableFactors||(e.stringVariableFactors=[]),e.asSampleFactors||(e.asSampleFactors=[]),e.asVariableFactors||(e.asVariableFactors=[]),e.stringSampleFactors.push(t[a][s].factor),e.stringVariableFactors.push(t[a][s].factor),e.asSampleFactors.push(t[a][s].factor),e.asVariableFactors.push(t[a][s].factor),e[s]=t[a][s].factor):"sample"==s&&(e.x=t[a][s]);else 0==a?e.x=t[a]:1==a?e.y=t[a]:2==a&&(e.z=t[a]),e[t[a]]=t[a];return e},CanvasXpress.prototype.initCxplot=function(){this.aes_data=function(t,e){for(var i=null,a=[],s=0;s<t[0].length;s++)if(t[0][s]==e){i=s;for(var r=1;r<t.length;r++)a.push(t[r][i]);return a}if(null==i)for(s=0;s<t.length;s++)if(t[s][0]==e){for(r=1;r<t[s].length;r++)a.push(t[s][r]);return a}return a},this.geom_transpose=function(t){var e=this.meta.config.user.aes,i={};if(t){var a="xz"==t?"xz":"x"==t?"z":"x";if(!this.data[t]&&this.data[a]){if(this.transpose(!1,!0),e.stringSampleFactors&&e.stringSampleFactors.length){var s=e.stringSampleFactors[0];"z"==t?"String"!=this.meta.data.z[s].type&&this.switchNumericToString(s,!1,!0):"String"!=this.meta.data.x[s].type&&this.switchNumericToString(s,!0,!0)}}else if("xz"==t&&!this.aes.x)return this.geom_transpose()}else e.x?this.data.y.vars.includes(e.x)&&this.transpose(!1,!0):e.y&&this.data.y.vars.includes(e.y)&&this.transpose(!1,!0);return e.x&&(i.xAxis=[e.x]),e.y&&(i.yAxis=[e.y]),e.z&&(i.zAxis=[e.z]),i},this.geom_attrs=function(t,e){var i=Object.keys(e.meta.data.x).length?e.meta.data.x:Object.keys(e.meta.data.z).length?e.meta.data.z:{},a=!1,s=!1,r=!1,n=!1,o=!1,h=!1,l=!1,c=!1;t&&t.color&&(s=(a=t.color)&&i[a]),t&&t.fill&&(n=(r=t.fill)&&i[r]),t&&t.shape&&(h=(o=t.shape)&&i[o]),t&&t.size&&!(c=(l=t.size)&&i[l])&&e.data.y.smps.includes(l)&&(c=l),a&&!r?s?(e.colorBy=a,e.useOpenShapes=!1):(e.boxplotColor=a,e.violinColor=a):!a&&r?n?(e.colorBy=r,e.useOpenShapes=!1):(e.boxplotColor=r,e.violinColor=r):a&&r&&(e.useOpenShapes=!1,s&&n?e.colorBy=r:s&&!n?(e.colorBy=a,e.boxplotColor=r,e.violinColor=r,e.useOpenShapes=!0):!s&&n?(e.colorBy=r,e.boxplotBorderColor=a,e.violinBorderColor=a):(e.boxplotColor=r,e.violinColor=r,e.boxplotBorderColor=a,e.violinBorderColor=a)),o&&(h?e.shapeBy=o:e.shapes.unshift(o)),l&&(c?e.sizeBy=l:e.sizes.unshift(l))},this.geom_group=function(t,e,i,a){var s,r=e.meta.data.x,n=a?["x","y","color","fill"]:["x","y"];if(r){t=Object.assign(e.aes,t);for(var o=0;o<n.length;o++){var h=n[o];(t&&t[h]&&r[t[h]]||e.aes[h]&&r[e.aes[h]])&&((s=t&&t[h]&&r[t[h]]?t[h]:!!e.aes[h]&&e.aes[h])&&(e.groupingFactors.includes(s)||e.groupingFactors.push(s),t&&t.stringSampleFactors&&(t&&t[h]&&r[t[h]]&&"Numeric"==r[t[h]].type||t&&e.aes[h]&&r[e.aes[h]]&&"Numeric"==r[e.aes[h]].type)&&(e.stringSampleFactors.includes(s)||e.stringSampleFactors.push(s))),e.graphOrientation="x"==h?"vertical":"y"==h?"horizontal":e.graphOrientation)}}e.smpLabelRotate="vertical"==e.graphOrientation?90:0,e.sortOnGrouping="ascending",i&&(e.summaryType=i)},this.geom_factor=function(t,e){var i,a=e.meta.data.z,s=["color","fill","shape","size"];if(a)for(var r=0;r<s.length;r++){var n=s[r];(t&&t[n]&&a[t[n]]||e.aes[n]&&a[e.aes[n]])&&(i=t&&t[n]&&a[t[n]]?t[n]:!!e.aes[n]&&e.aes[n])&&t&&t.stringVariableFactors&&(t&&t[n]&&a[t[n]]&&"Numeric"==a[t[n]].type||t&&e.aes[n]&&a[e.aes[n]]&&"Numeric"==a[e.aes[n]].type)&&(e.stringVariableFactors.includes(i)||e.stringVariableFactors.push(i))}},this.geom_plot=function(t,e){var i=this;if(i.blocked)setTimeout((function(){i.geom_plot(t,e)}),30);else if(i.blocked=!0,i.dataURL&&!CanvasXpress.chain.hasOwnProperty(i.target)){var a=i.imageTimeOut/i.imageMaxTries,s=function(){i.imageTries<i.imageMaxTries&&(i.imageTries++,setTimeout((function(){CanvasXpress.chain.hasOwnProperty(i.target)?(i=CanvasXpress.getObject(CanvasXpress.chain[i.target]),t.call(i,i,i.geom_transpose(e))):s()}),a))};s()}else i.dataURL&&CanvasXpress.chain.hasOwnProperty(i.target)?(i=CanvasXpress.getObject(CanvasXpress.chain[i.target]),t.call(i,i,i.geom_transpose(e))):t.call(i,i,i.geom_transpose(e))},this.geom_decs=function(t,e,i){if(e&&e.data)switch(t){case"point":for(var a=null,s=null,r=0;r<e.data[0].length;r++)"x"==e.data[0][r]?a=r:"y"==e.data[0][r]&&(s=r);if(null!=a&&null!=s){i.decorations||(i.decorations={});var n=i.decorations;n.point||(n.point=[]);for(r=1;r<e.data.length;r++)n.point.push({x:e.data[r][a],y:e.data[r][s]})}}},this.geom_xline=function(t,e,i){var a=this;this.geom_plot((function(s){var r=s.decorations||{},n=!1;"GeomAbline"==i?r.reg||(r.reg=[]):r.line||(r.line=[]);var o="GeomHline"==i?t.yintercept:"GeomVline"==i?t.xintercept:!!t.intercept&&t.intercept,h="GeomAbline"==i&&s.isArray(t.slope)?t.slope:"GeomAbline"==i&&[t.slope],l=[],c=[];t.data?(o&&(c=this.aes_data(t.data,o)),h&&(h=this.aes_data(t.data,h))):c=s.isArray(o)?o:[o],s.meta.data.l.includes("FacetWrap")&&t.data&&(n=s.segregateSamplesBy.length?s.segregateSamplesBy[0]:s.segregateVariablesBy[0],l=this.aes_data(t.data,n));for(var d=0;d<c.length;d++)switch(i){case"GeomHline":r.line.push({y:c[d],color:t.color||"black",width:t.size||1,scope:!!l.length&&l[d],data:t.data,column:n});break;case"GeomVline":r.line.push({x:c[d],color:t.color||"black",width:t.size||1,scope:!!l.length&&l[d],data:t.data,column:n});break;case"GeomAbline":r.reg.push({intercept:c[d],slope:h[d],color:t.color||"black",width:t.size||1,scope:!!l.length&&l[d],data:t.data})}s.decorations=r,s.meta.data.l.push(i),s.draw({func:"geom_xline",par:[t,e,i]}),s.blocked=!1,a.blocked=!1}))},this.geom_abline=function(t){this.geom_xline(t,"geom_abline","GeomAbline")},this.geom_hline=function(t){this.geom_xline(t,"geom_hline","GeomHline")},this.geom_vline=function(t){this.geom_xline(t,"geom_vline","GeomVline")},this.geom_bar=function(t,e,i){var a=this;this.geom_plot((function(s,r){for(var n in s.graphOrientation=t&&t.y||s.aes.y||e?"horizontal":"vertical",s.smpLabelRotate="vertical"==s.graphOrientation?90:0,r)s[n]=r[n];t&&t.weight&&(s.aes.weight=t.weight),a.geom_group(t,s,s.aes.weight?"sum":!s.data.y.vars.includes(s.aes.x)&&"count"),t&&(t.fill||t.fill)&&(s.stackBy=t.fill||t.fill),t&&(t.color||t.color)&&(s.stackBy=t.color||t.color),s.graphType="Bar",s.meta.data.l.push(i||"GeomBar"),s.draw({func:"geom_bar",par:[t,e,i]}),s.blocked=!1,a.blocked=!1}),"x")},this.geom_col=function(t){this.geom_bar(t,"geom_col","GeomCol")},this.stat_count=this.geom_bar,this.geom_bin_2d=function(t,e,i){var a=this;this.geom_plot((function(s,r){s.graphType="Scatter2D",s.scatterType="bin2d",t&&t.bins&&(s.binplotBins=t.bins),t&&t.binwidth&&(s.binplotBinWidth=t.binwidth),s.binplotShape=i?"hexagon":"rectangle",s.meta.data.l.push(i||"GeomBin2d"),s.draw({func:"geom_bin_2d",par:[t,e,i]}),s.blocked=!1,a.blocked=!1}),"z")},this.geom_boxplot=function(t,e,i){var a=this,s=!!(t&&t.hasOwnProperty("group")&&t.group.hasOwnProperty("cut_width"))&&Object.keys(t.group.cut_width);this.geom_plot((function(r,n){var o=r.meta.data.l;for(var h in a.geom_group(t,r,!1,!0),a.geom_attrs(t,r),o.includes("GeomPoint")&&(r.showBoxplotOriginalData=!0),t&&t.notch&&(r.boxplotNotched=t.notch),n)r[h]=n[h];r.graphType="Boxplot",s&&(r.groupingFactors=s[0],r.groupingFactorWindow=t.group.cut_width[s[0]],r.boxplotVarWidth=!0,r.boxplotWhiskersType="single",r.graphType="Scatter2D",r.scatterType="boxplot"),r.meta.data.l.push(i||"GeomBoxplot"),r.draw({func:"geom_boxplot",par:[t,e,i]}),r.blocked=!1,a.blocked=!1}),s?"z":"x")},this.stat_boxplot=this.geom_boxplot,this.geom_contour=function(t,e,i){var a=this;this.geom_plot((function(s,r){var n=s.meta.data.z,o=s.meta.data.l;this.geom_factor(t,s),s.graphType=!i||i&&"GeomContourFilled"==i?"ScatterBubble2D":"Scatter2D",s.legendColumns=1,s.contourFilled=!(!i||"GeomContourFilled"!=i&&"GeomDensity2dFilled"!=i);var h={bins:"contourLevelNumber",binwidth:"contourLevelWidth",breaks:"contourLevels",contour_var:"contourStat"};for(var l in t)h.hasOwnProperty(l)?s[h[l]]=t[l]:s[l]=t[l];i&&"GeomRaster"==i?(s.showContourBands=!1,s.contourType="raster"):o.includes("GeomPoint")&&(s.showContourDataPoints=!0),!i||"GeomContourFilled"!=i&&"GeomDensity2dFilled"!=i||(s.showContourBands=!1);var c=!1;for(var l in t&&(t.fill||t.fill)?t.fill&&n.hasOwnProperty(t.fill)||t.fill&&n.hasOwnProperty(t.fill)?c=t.fill:s.contourBandsColor=t.fill||t.fill:t&&(t.color||t.color)?t.color&&n.hasOwnProperty(t.color)||t.color&&n.hasOwnProperty(t.color)?c=t.color:s.contourBandsColor=t.color||t.color:o.includes("FacetWrap")&&(c=s.segregateSamplesBy.length?s.segregateSamplesBy[0]:s.segregateVariablesBy[0]),t&&t.alpha&&(s.contourFilledTransparency=t.alpha),r)s[l]=r[l];s.isContour=c||!0,s.meta.data.l.push(i||"GeomContour"),s.draw({func:"geom_contour",par:[t,e,i]}),s.blocked=!1,a.blocked=!1}))},this.stat_contour=this.geom_contour,this.geom_contour_filled=function(t){this.geom_contour(t,"geom_contour_filled","GeomContourFilled")},this.stat_contour_filled=this.geom_contour_filled,this.geom_density=function(t){var e=this;this.geom_plot((function(i,a){var s=i.meta.data.z;this.geom_factor(t,i),i.hideHistogram=!0,i.showHistogramDensity=!0,i.histogramStat=t&&t.after_stat?t.after_stat:i.aes.after_stat?i.aes.after_stat:"density",i.showFilledHistogramDensity=!!(t&&t.fill||i.aes.fill);var r={alpha:"histogramDensityFillTransparency",bw:"bandwidthRule",adjust:"bandwidthAdjust",kernel:"densityKernel",position:"densityPosition"};for(var n in t)r.hasOwnProperty(n)?i[r[n]]=t[n]+("position"==n?"ed":""):i[n]=t[n];var o=!0;for(var n in t&&t.color?t.color&&s.hasOwnProperty(t.color)&&(o=t.color):i.aes.color&&(o=i.aes.color),t&&(t.fill||i.aes.fill)&&1==o&&(t&&t.fill?t.fill&&s.hasOwnProperty(t.fill)&&(o=t.fill):i.aes.fill&&(o=i.aes.fill)),a)i[n]=a[n];i.histogramData=o,i.graphType="Scatter2D",i.legendColumns=1,i.meta.data.l.push("GeomDensity"),i.draw({func:"geom_density",par:[t]}),i.blocked=!1,e.blocked=!1}))},this.stat_density=this.geom_density,this.geom_density_2d=function(t){this.geom_contour(t,"geom_density_2d","GeomDensity2d")},this.stat_density_2d=this.geom_density_2d,this.geom_density_2d_filled=function(t){this.geom_contour(t,"geom_density_2d_filled","GeomDensity2dFilled")},this.stat_density_2d_filled=this.geom_density_2d_filled,this.geom_dotplot=function(t){var e=this;this.geom_plot((function(i,a){var s={stackdir:"histogramStackDir",stackratio:"histogramStackRatio",binwidth:"histogramBinWidth",bins:"histogramBins"},r=(a=!1,[]);for(var n in t)s.hasOwnProperty(n)?i[s[n]]=t[n]:i[n]=t[n];(i.aes.color||i.aes.fill)&&(i.colorBy=i.aes.color||i.aes.fill),i.aes.x&&i.aes.y?(i.graphType="Dotplot",i.aes.asSampleFactors&&i.aes.asSampleFactors.includes(i.aes.x)&&(r.push(i.aes.x),i.graphOrientation="vertical",i.smpLabelRotate=90,i.widthFactor=1,i.binned=!0,i.binAlignment=t.stackdir||"center"),i.colorBy&&r.push(i.colorBy),r.length&&(i.groupingFactors=r,a=[["sortSamplesByCategory",[r]]])):(i.graphType="Scatter2D",i.histogramAsDotplot=!0,i.histogramData=!0),i.histogramRight=!1,i.histogramBins||(i.histogramBins=30),i.meta.data.l.push("GeomDotplot"),i.draw({func:"geom_dotplot",par:[t],preRender:a}),i.blocked=!1,e.blocked=!1}),"xz")},this.geom_hex=function(t){this.geom_bin_2d(t,"geom_hex","GeomHex")},this.geom_histogram=function(t,e,i){var a=this;this.geom_plot((function(s,r){var n=s.meta.data.z;this.geom_factor(t,s),s.hideHistogram=!!(i||t&&(t.color||t.color)||s.aes.color),s.showHistogramPath=!!(i||t&&(t.color||t.color)||s.aes.color),s.showHistogramDensity=!1,s.histogramType=i?"dodged":"stacked",s.histogramStat=t&&t.after_stat?t.after_stat:s.aes.after_stat?s.aes.after_stat:"count";var o={bw:"bandwidthRule",adjust:"bandwidthAdjust",kernel:"densityKernel",bins:"histogramBins",binwidth:"histogramBinWidth"};for(var h in t)o.hasOwnProperty(h)?s[o[h]]=t[h]:s[h]=t[h];var l=!0;for(var h in t&&(t.fill||t.fill)?(t.fill&&n.hasOwnProperty(t.fill)||t.fill&&n.hasOwnProperty(t.fill))&&(l=t.fill):t&&(t.color||t.color)?(t.color&&n.hasOwnProperty(t.color)||t.color&&n.hasOwnProperty(t.color))&&(l=t.color):(s.aes.fill||s.aes.color)&&(l=s.aes.fill||s.aes.color),r)s[h]=r[h];s.histogramRight=!1,s.histogramBins||(s.histogramBins=30),s.histogramData=l,s.graphType="Scatter2D",s.legendColumns=1,s.meta.data.l.push(i||"GeomHistogram"),s.draw({func:"geom_histogram",par:[t,e,i]}),s.blocked=!1,a.blocked=!1}))},this.stat_bin=this.geom_histogram,this.geom_line=function(t){var e=this;this.geom_plot((function(i,a){var s=i.meta.data.x;for(var r in t&&t.linetype&&(i.patternBy=t.linetype),a)i[r]=a[r];if(t&&t.linetype){var n=t.linetype;s&&s.hasOwnProperty(n)&&(i.lineBy=n)}i.graphType="Line",i.meta.data.l.push("GeomLine"),i.draw({func:"geom_line",par:[t]}),i.blocked=!1,e.blocked=!1}))},this.geom_path=function(t){this.geom_histogram(t,"geom_path","GeomPath")},this.geom_jitter=function(t){this.geom_point(t,"geom_jiter","GeomJitter")},this.geom_point=function(t,e,i){var a=this;this.geom_plot((function(s,r){var n=s.meta.config.user.aes,o=s.meta.data.x,h=s.meta.data.l;for(var l in h.includes("GeomBoxplot")||h.includes("GeomViolin")||i&&"GeomJitter"==i?s.showBoxplotOriginalData=!0:(h.includes("GeomContour")||h.includes("GeomContourFilled")||h.includes("GeomDensity2d")||h.includes("GeomDensity2dFilled"))&&(s.showContourDataPoints=!t||!t.data),s.graphOrientation="vertical",r)s[l]=r[l];i&&"GeomJitter"==i&&(s.jitter=!0,t&&t.width&&(s.jitterFactor=t.width)),this.geom_factor(t,s),a.geom_group(t,s,!1,!0),a.geom_attrs(t,s),a.geom_decs("point",t,s),i&&"GeomJitter"==i||(s.graphType=h.includes("GeomBoxplot")||h.includes("GeomViolin")?"Boxplot":n.x&&n.y?"Scatter2D":"Dotplot",o&&(o.hasOwnProperty(n.x)&&"String"==o[n.x].type||o.hasOwnProperty(n.y)&&"String"==o[n.y].type)&&(s.graphType="Dotplot")),"Scatter2D"==s.graphType&&(s.legendColumns=1),s.meta.data.l.push(i||"GeomPoint"),s.draw({func:"geom_point",par:[t,e,i]}),s.blocked=!1,a.blocked=!1}))},this.geom_qq=function(t,e,i){var a=this;this.geom_plot((function(s,r){s.meta.data.l.includes("GeomQQ")&&!t||(s.graphType="Scatter2D",s.scatterType="qq",s.aes&&s.aes.hasOwnProperty("color")&&(s.colorBy=s.aes.color),s.meta.data.l.push(i||"GeomQQ"),s.draw({func:"geom_qq",par:[t,e,i]}),s.blocked=!1,a.blocked=!1)}),"z")},this.geom_qq_line=function(t){this.geom_qq(t,"geom_qq_line","GeomQQLine")},this.geom_quantile=function(t){var e=this;this.geom_plot((function(i,a){this.geom_factor(t,i),i.showQuantileRegressionFit=!0;var s={quantiles:"quantiles",color:"fitLineColor",alpha:"fitLineTransparency"};for(var r in t)s.hasOwnProperty(r)?i[s[r]]=t[r]:i[r]=t[r];for(var r in t&&t.size&&(i.fitLineWidth=2*t.size),a)i[r]=a[r];i.graphType="Scatter2D",i.legendColumns=1,i.meta.data.l.push("GeomQuantile"),i.draw({func:"geom_quantile",par:[t]}),i.blocked=!1,e.blocked=!1}))},this.stat_quantile=this.geom_quantile,this.geom_rug=function(t){var e=this;this.geom_plot((function(i,a){this.geom_factor(t,i);var s=t&&t.sides?t.sides:"bl",r=s.match("b"),n=s.match("t"),o=s.match("l"),h=s.match("r");for(var l in r&&n?(i.xAxisRugShow=!0,i.xAxisRugPosition="both"):r?(i.xAxisRugShow=!0,i.xAxisRugPosition="bottom"):n&&(i.xAxisRugShow=!0,i.xAxisRugPosition="top"),o&&h?(i.yAxisRugShow=!0,i.yAxisRugPosition="both"):o?(i.yAxisRugShow=!0,i.yAxisRugPosition="left"):h&&(i.yAxisRugShow=!0,i.yAxisRugPosition="right"),a)i[l]=a[l];i.graphType="Scatter2D",i.legendColumns=1,i.meta.data.l.push("GeomRug"),i.draw({func:"geom_rug",par:[t]}),i.blocked=!1,e.blocked=!1}))},this.geom_smooth=function(t){var e=this;this.geom_plot((function(i,a){for(var s in this.geom_factor(t,i),a)i[s]=a[s];i.showLoessFit=!0,i.graphType="Scatter2D",i.legendColumns=1,i.meta.data.l.push("GeomSmooth"),i.draw({func:"geom_smooth",par:[t]}),i.blocked=!1,e.blocked=!1}))},this.stat_smooth=this.geom_smooth,this.geom_violin=function(t){var e=this;this.geom_plot((function(i,a){var s=i.meta.data.l;s.includes("GeomPoint")&&(i.showBoxplotOriginalData=!0),i.showBoxplotIfViolin=!!s.includes("GeomBoxplot");var r={bw:"bandwidthRule",adjust:"bandwidthAdjust",kernel:"densityKernel",scale:"violinScale",trim:"violinTrim"};for(var n in t)r.hasOwnProperty(n)?i[r[n]]=t[n]:i[n]=t[n];for(var n in a)i[n]=a[n];e.geom_group(t,i,!1,!0),e.geom_attrs(t,i),t&&t.draw_quantiles&&(i.showViolinQuantiles=!0,i.quantiles=t.draw_quantiles),i.graphType="Boxplot",i.showViolinBoxplot=!0,i.widthFactor=1,i.meta.data.l.push("GeomViolin"),i.draw({func:"geom_violin",par:[t]}),i.blocked=!1,e.blocked=!1}),"x")},this.stat_ydensity=this.geom_violin,this.geom_raster=function(t){this.geom_contour(t,"geom_raster","GeomRaster")},this.geom_text=function(t){var e=this;this.geom_plot((function(i,a){for(var s in a)i[s]=a[s];i.showDataValues=!0,i.meta.data.l.push("GeomText"),i.draw({func:"geom_text",par:[t]}),i.blocked=!1,e.blocked=!1}))},this.stat_ecdf=function(t){var e=this;this.geom_plot((function(i,a){for(var s in a)i[s]=a[s];i.graphType="Scatter2D",i.scatterType="cdf",i.aes&&i.aes.hasOwnProperty("color")&&(i.colorBy=i.aes.color),i.meta.data.l.push("StatEcdf"),i.draw({func:"stat_ecdf",par:[t]}),i.blocked=!1,e.blocked=!1}),"z")},this.stat_ellipse=function(t){var e=this;this.geom_plot((function(i,a){for(var s in a)i[s]=a[s];i.graphType="Scatter2D",i.aes&&i.aes.hasOwnProperty("color")&&(i.ellipseBy=i.aes.color),i.meta.data.l.push("StatEllipse"),i.draw({func:"stat_ellipse",par:[t]}),i.blocked=!1,e.blocked=!1}),"z")},this.facet_wrap=function(t){var e=this;this.geom_plot((function(i){var a;if("Scatter2D"==i.graphType?(a=i.unique(i.data.z[t]),i.segregateVariablesBy.push(t)):(a=i.unique(i.data.x[t]),i.segregateSamplesBy.push(t)),a.length<=3&&(i.layoutTopology="1X"+a.length),i.meta.data.l.push("FacetWrap"),i.meta.data.l.includes("GeomVline")||i.meta.data.l.includes("GeomHline"))for(var s=0;s<i.decorations.line.length;s++){var r=i.decorations.line[s];if(r.data){var n=this.aes_data(r.data,t);if(n)for(var o=0;o<n.length;o++)n[s]==n[o]&&(r.scope=n[s])}}i.draw({func:"facet_wrap",par:[t]}),i.blocked=!1,e.blocked=!1}))},this.xlim=function(t,e){var i=this;this.geom_plot((function(a){a.setMinX=t,a.setMaxX=e,a.blocked=!1,i.blocked=!1}))},this.ylim=function(t,e){var i=this;this.geom_plot((function(a){a.setMinY=t,a.setMaxY=e,a.blocked=!1,i.blocked=!1}))}},CanvasXpress.prototype.Pie=function(t){this.setVarPie=function(){var t=[],e=this.smpIndices[0];if(this.varIndices.length>=this.maxPieSectors-1){var i=this;this.varIndices.sort((function(t,a){return i.data.y.data[a][e]-i.data.y.data[t][e]}))}for(var a=0;a<this.varIndices.length;a++){var s=this.varIndices[a];t.push(this.getDataAtPos(s,e))}this.varPie=this.setPieData(t,!0)},this.setPieFont=function(){if(this.autoScaleFont){var t=this.layoutComb&&this.isDOE?this.layoutWidth:this.width,e=this.layoutComb&&this.isDOE?this.layoutHeight:this.height,i=Math.min(t,e)*(1-this.percentAspectRatioPlotArea);this.setAxisFont("Pie",i)}},this.setPieXYDimensions=function(){this.showLegend&&("right"==this.legendPosition?this.right=this.layoutComb&&!this.isDOE?this.layoutRight:this.layoutComb?Math.min(this.layoutWidth/3,this.legendVariableWidth):Math.min(this.width/3,this.legendVariableWidth):"left"==this.legendPosition?this.left=this.layoutComb&&!this.isDOE?this.layoutRight:this.layoutComb?Math.min(this.layoutWidth/3,this.legendVariableWidth):Math.min(this.width/3,this.legendVariableWidth):"top"==this.legendPosition?this.top+=this.layoutComb&&!this.isDOE?this.layoutBottom:this.layoutComb?Math.min(this.layoutHeight/3,this.legendVariableHeight):Math.min(this.height/3,this.legendVariableHeight):"bottom"==this.legendPosition&&(this.bottom=this.layoutComb&&!this.isDOE?this.layoutBottom:this.layoutComb?Math.min(this.layoutHeight/3,this.legendVariableHeight):Math.min(this.height/3,this.legendVariableHeight))),this.x=this.layoutComb&&!this.isDOE?this.layoutWidth:this.layoutComb?this.layoutWidth-(this.left+this.right):this.width-(this.marginLeft+this.left+this.right+this.marginRight),this.y=this.layoutComb&&!this.isDOE?this.layoutHeight:this.layoutComb?this.layoutHeight-(this.top+this.bottom):this.height-(this.marginTop+this.top+this.bottom+this.marginBottom)},this.drawPieDataPoints=function(){this.isDOE||this.toRender({p:["setClipArea",this.setClipBoundaries()],t:"Data"});var t=Math.min(this.x,this.y),e=(t-t/5)/2,i=this.marginLeft+this.offsetX+this.left+this.x/2,a=this.marginTop+this.offsetY+this.top+this.y/2;this.setVarPie(),this.drawPie(this.varPie,i,a,e,!0),this.isDOE||this.toRender({p:["resetClipArea"],t:"Data"})},this.drawPiePlot=function(){this.setPieFont(),this.setLegends(),this.setPieXYDimensions(),this.drawPieDataPoints(),this.drawLegend(),this.drawTitle()},this.initializePiePlot=function(){!this.data.y.pie&&this.xAxisMin<0?alert("Dude you can't draw a pie chart with negative numbers!"):(this.setPropertyFontSize(Math.min(this.width,this.height),"smpLabelFont"),this.layoutValid?this.drawLayoutCompartments(this.drawPiePlot):this.drawPiePlot())},t||this.initializePiePlot()},CanvasXpress.prototype.Venn=function(){this.setVennXYDimensions=function(){if(this.vennMarginLeft=0,this.vennMarginTop=0,this.setAxisFont("Venn",this.width),this.showLegend&&(this.bottom=this.legendHeight),this.width<=this.height?this.x=this.width-(this.marginLeft+this.left+this.right+this.marginRight):this.x=this.height-(this.marginTop+this.top+this.bottom+this.marginBottom),this.y=4==this.vennGroups?.8*this.x:3==this.vennGroups?.95*this.x:2==this.vennGroups?.65*this.x:this.x,this.vennMarginTop=(this.height-(this.marginTop+this.top+this.y+this.bottom+this.marginBottom))/2,this.vennMarginLeft=(this.width-(this.marginLeft+this.left+this.x+this.right+this.marginRight))/2,this.x<400){var t=this.getFontPt(this.axisTickFont)-2;this.x<200&&(t-=1),this.axisTickFont=t+"px "+this.fontName}this.resizeCanvas()},this.drawVennBubble=function(t,e,i,a,s,r){var n=this.marginLeft+this.left+this.x/2,o=this.marginTop+this.top+this.y/2;this.toRender({p:["drawShape",i,t,e,a,a,this.getFillColor(s),this.getOutlineColor(s),"closed",r],b:[n,o,0,0],t:"Data"})},this.drawVennLayoutBubbles=function(){var t,e,i,a,s=[];for(var r in this.data.venn.legend)s.push(r);this.toRender({p:["rectangleClear",0,0,this.width,this.height],t:"Data"}),this.toRender({p:["setGlobalCompositionOperation","lighter"],t:"Data"}),4==this.vennGroups?(t=this.vennMarginLeft+this.marginLeft+this.margin,e=this.vennMarginTop+this.marginTop+this.top,this.drawVennBubble(t+this.x/4.94,e+this.x/13,"ellipse2",this.x/1.4,this.vennColors.length>0&&this.validateColor(this.vennColors[0])?this.validateColor(this.vennColors[0]):"rgb(255,0,0)",Math.PI/4),this.drawVennBubble(t+this.x/2.72,e+this.x/-40.31,"ellipse2",this.x/1.4,this.vennColors.length>1&&this.validateColor(this.vennColors[1])?this.validateColor(this.vennColors[1]):"rgb(0,153,51)",Math.PI/4),this.drawVennBubble(t+this.x/3.43,e+this.x/1.72,"ellipse2",this.x/1.4,this.vennColors.length>2&&this.validateColor(this.vennColors[2])?this.validateColor(this.vennColors[2]):"rgb(0,0,255)",-Math.PI/4),this.drawVennBubble(t+this.x/7.96,e+this.x/2.07,"ellipse2",this.x/1.4,this.vennColors.length>3&&this.validateColor(this.vennColors[3])?this.validateColor(this.vennColors[3]):"rgb(153,204,0)",-Math.PI/4),i=[11.2,3.05,1.46,1.08],a=[7,42,42,7]):3==this.vennGroups?(t=this.vennMarginLeft+this.marginLeft+this.left+this.x/2,e=this.vennMarginTop+this.marginTop+this.top+this.x/2.86,this.drawVennBubble(t,e,"circle",this.x/2,this.vennColors.length>0&&this.validateColor(this.vennColors[0])?this.validateColor(this.vennColors[0]):"rgb(255,0,0)"),e+=this.x/3.33,t=this.vennMarginLeft+this.marginLeft+this.left+this.x/3,this.drawVennBubble(t,e,"circle",this.x/2,this.vennColors.length>1&&this.validateColor(this.vennColors[1])?this.validateColor(this.vennColors[1]):"rgb(0,255,0)"),t=this.vennMarginLeft+this.marginLeft+this.left+this.x/1.5,this.drawVennBubble(t,e,"circle",this.x/2,this.vennColors.length>2&&this.validateColor(this.vennColors[2])?this.validateColor(this.vennColors[2]):"rgb(0,0,255)"),i=[2,8.66,1.13],a=[20,2.3,2.3]):2==this.vennGroups?(t=this.vennMarginLeft+this.marginLeft+this.left+this.x/3,e=this.vennMarginTop+this.marginTop+this.top+this.x/2.67,this.drawVennBubble(t,e,"circle",this.x/2,this.vennColors.length>0&&this.validateColor(this.vennColors[0])?this.validateColor(this.vennColors[0]):"rgb(0,0,255)"),t=this.vennMarginLeft+this.marginLeft+this.left+this.x/1.5,e=this.vennMarginTop+this.marginTop+this.top+this.x/2.67,this.drawVennBubble(t,e,"circle",this.x/2,this.vennColors.length>1&&this.validateColor(this.vennColors[1])?this.validateColor(this.vennColors[1]):"rgb(255,0,0)"),i=[3,1.5],a=[16,16]):1==this.vennGroups&&(t=this.vennMarginLeft+this.marginLeft+this.left+this.x/2,e=this.vennMarginTop+this.marginTop+this.top+this.x/2,this.toRender({p:["drawShape","circle",t,e,this.x,this.x,this.vennColors.length>0&&this.validateColor(this.vennColors[0])?this.validateColor(this.vennColors[0]):"rgb(255,0,0)",this.foreground,"closed"],t:"Data"}),i=[100],a=[100]),this.toRender({p:["setGlobalCompositionOperation","source-over"],t:"Data"}),this.drawVennLayout(i,a,s)},this.drawVennLayout=function(t,e,i){if(!this.vennLegendColors)for(var a=0;a<this.vennGroups;a++){var s=this.vennMarginLeft+this.marginLeft+this.left+this.x/t[a],r=this.vennMarginTop+this.marginTop+this.top+this.x/e[a];this.toRender({p:["drawText",i[a],s,r,this.axisTickFont,this.axisTickColor,"center","middle"],t:"Labels"})}},this.drawVennDataPoints=function(){var t,e,i;this.vennCompartments=this.vennCompartments.sort(),4==this.vennGroups?(i=[0,8,1,12,5,9,2,14,7,11,13,4,6,10,3],t=[5.6,2.94,3.5,1.54,3.29,2,2.59,1.212,2,1.442,1.4,1.757,2.31,1.624,2],e=[2.94,7,3.92,7,1.89,4.06,2.66,2.94,1.54,1.89,3.92,1.729,1.729,2.66,2.03],this.y=1.1*this.x/1.4):3==this.vennGroups?(i=[0,4,1,6,3,5,2],t=[2,3.5,2.55,1.4,1.6,2,2],e=[3.6,1.54,2.07,1.54,2.07,1.54,1.83],this.y=.95*this.x):2==this.vennGroups?(i=[0,2,1],t=[3.5,1.4,2],e=[2.66,2.66,2.66],this.y=.65*this.x):1==this.vennGroups&&(i=[0],t=[2],e=[2]);for(var a=0;a<i.length;a++){var s=this.vennMarginLeft+this.marginLeft+this.left+this.x/t[a],r=this.vennMarginTop+this.marginTop+this.top+this.x/e[a],n=(this.getFontPt(this.axisTickFont),this.data.venn.data[this.vennCompartments[i[a]]]?this.data.venn.data[this.vennCompartments[i[a]]]:0);this.isArray(n)&&(n=n[0]),this.toRender({p:["drawText",n,s,r,this.axisTickFont,this.axisTickColor,"center","middle"],i:[i[a]],t:"Labels"})}},this.validateVennCompartments=function(){var t="";4==this.vennGroups&&15!=this.vennCompartments.length?(this.vennCompartments=["A","B","AB","C","AC","BC","ABC","D","AD","BD","CD","ABD","ACD","BCD","ABCD"],t="Unless there are exactly 15 vennCompartments the Venn data should be mapped to 'A', 'B', 'AB', 'C', 'AC', 'BC', 'ABC', 'D', 'AD', 'BD', 'CD', 'ABD', 'ACD', 'BCD', 'ABCD'"):3==this.vennGroups&&7!=this.vennCompartments.length?(this.vennCompartments=["A","B","AB","C","AC","BC","ABC"],t="Unless there are exactly 7 vennCompartments the Venn data should be mapped to 'A', 'B', 'AB', 'C', 'AC', 'BC', 'ABC'"):2==this.vennGroups&&3!=this.vennCompartments.length?(this.vennCompartments=["A","B","AB"],t="Unless there are exactly 3 vennCompartments the Venn data should be mapped to 'A', 'B', 'AB'"):1==this.vennGroups&&1!=this.vennCompartments.length&&(this.vennCompartments=["A"],t="Unless there are exactly 1 vennCompartments the Venn data should be mapped to 'A'  ");for(var e=0;e<this.vennCompartments.length;e++)if(!this.data.venn.data.hasOwnProperty(this.vennCompartments[e])){alert("Data for Venn diagram do not conform to specifications. "+t);break}},this.drawVennPlot=function(){this.validateVennCompartments(),this.setLegends(),this.setVennXYDimensions(),this.showShadow=!1,this.drawVennLayoutBubbles(),this.showShadow=this.tmpshowShadow,this.drawVennDataPoints(),this.drawLegend(),this.drawTitle()},this.initializeVennPlot=function(){this.transparency=null,this.tmpshowShadow=this.showShadow,this.background="rgb(255,255,255)",this.foreground="rgb(0,0,0)",this.drawVennPlot()},this.initializeVennPlot()},CanvasXpress.prototype.Correlation=function(){this.setCorrelationVarSmpLabelFont=function(t){this.setPropertyFontSize(.5*Math.min(this.width,this.height),"varLabelFont"),this.setPropertyFontSize(.5*Math.min(this.width,this.height),"smpLabelFont")},this.getCorrelationLabelsHeight=function(){var t=0;return"samples"==this.correlationAxis?this.meta.data.y.maxSmpChr>this.maxSmpStringLen?t+=this.measureText(this.meta.data.y.maxSmpStr.substring(0,this.maxSmpStringLen),this.smpLabelFont):t+=this.measureText(this.meta.data.y.maxSmpStr,this.smpLabelFont):this.meta.data.y.maxVarChr>this.maxVarStringLen?t+=this.measureText(this.meta.data.y.maxVarStr.substring(0,this.maxVarStringLen),this.varLabelFont):t+=this.measureText(this.meta.data.y.maxVarStr,this.varLabelFont),this.correlationAnchorLegend&&(t+=this.correlationAnchorLegendAlignWidth+this.margin),t},this.setCorrelationXYDimensions=function(){this.corMarginLeft=0,this.corMarginTop=0,this.yAxisShow&&(this.setAxisFont(this.yAxisTitle,Math.min(this.width,this.height)),this.left=this.margin+this.getFontPt(this.axisTitleFont)+this.margin),this.width<=this.height?this.x=this.width-(this.marginLeft+this.left+this.right+this.marginRight):this.x=this.height-(this.marginTop+this.top+this.bottom+this.marginBottom);var t="variables"==this.correlationAxis?this.varIndices.length:this.isGroupedData?this.grpIndices.length:this.smpIndices.length;"circle"!=this.correlationType&&(this.correlationType="diamond"),this.diamondSize=this.x/t,this.diamondScale=1,"circle"==this.correlationType&&(this.diamondScale=.6),this.setCorrelationVarSmpLabelFont(t),this.setLegendFont(),this.y=this.x/2+this.diamondSize/2,this.xAxisShow&&(this.top+=this.margin+this.getCorrelationLabelsHeight()+this.margin),this.autoAdjust?(this.height=this.marginTop+this.top+this.y+this.bottom+this.marginBottom,this.width=this.marginLeft+this.left+this.x+this.right+this.marginRight):(this.corMarginTop=(this.height-(this.marginTop+this.top+this.y+this.bottom+this.marginBottom))/2,this.corMarginLeft=(this.width-(this.marginLeft+this.left+this.x+this.right+this.marginRight))/2),this.resizeCanvas()},this.drawCorrelationLayout=function(){if(this.yAxisShow&&this.toRender({p:["drawText",this.yAxisTitle,this.corMarginLeft+this.marginLeft+this.left/2,this.marginTop+this.top+this.y/2,this.axisTitleFont,this.axisTitleColor,"center","middle",-Math.PI/2],t:"Labels"}),this.xAxisShow){var t,e,i,a=this.corMarginLeft+this.marginLeft+this.left+this.diamondSize/2,s=this.corMarginTop+this.marginTop+this.top-this.margin,r=this.corMarginTop+this.marginTop+this.top-(this.getCorrelationLabelsHeight()+this.margin),n=r+this.correlationAnchorLegendAlignWidth,o=this.isGroupedData?this.data.w:this.data.y,h=(this.diamondSize,this.diamondScale,"variables"==this.correlationAxis?this.varIndices:this.isGroupedData?this.grpIndices:this.smpIndices),l="samples"==this.correlationAxis?this.maxSmpStringLen:this.maxVarStringLen;this.correlationAnchorLegend&&(i="samples"==this.correlationAxis?o.data[0]:this.getDataForSmpAtPosition(0),(this.smpIndicesStart<0&&"samples"==this.correlationAxis||this.varIndicesStart<0&&"variables"==this.correlationAxis)&&h.sort((function(t,e){return i[t]-i[e]})),this.setAxisUnits("xAxis")),"samples"==this.correlationAxis?(t=o.smps,e=this.smpLabelFont):(t=o.vars,e=this.varLabelFont);for(var c=0;c<h.length;c++){var d=h[c],p=this.shortenText(t[d],l),g="samples"==this.correlationAxis?this.getSmpColor(t[d]):this.getVarColor(t[d]),u=c/this.correlationLabelInterval;if(parseInt(u)==parseFloat(u)&&this.toRender({p:["drawText",p,a,s,e,g,"left","middle",-Math.PI/2],t:"Labels"}),this.correlationAnchorLegend){var m;m=this.smpIndicesStart<0&&"samples"==this.correlationAxis||this.varIndicesStart<0&&"variables"==this.correlationAxis?i[d]:i[c];var f=this.corMarginLeft+this.marginLeft+this.left+(m-this.xAxisMin)*this.xAxisUnit;this.toRender({p:["drawLine","line",f,r-this.margin,f,r,g],t:"Labels"}),this.toRender({p:["drawLine","line",f,r,a,n,g],t:"Labels"})}a+=this.diamondSize}}a=this.corMarginLeft+this.marginLeft+this.left,s=this.marginTop+this.top+this.y-2*this.heatmapIndicatorHeight,this.correlationAnchorLegend&&this.setRangeData("cor"),null!=this.minData&&null!=this.maxData||this.setRangeData("cor"),this.showLegend&&this.drawColorIndicator(a,s,this.getDefaultMetaDataObject(),"Correlation",!0)},this.drawCorrelationDataPoints=function(){for(var t,e,i=this.diamondSize/2,a=this.isGroupedData?this.data.w.cor:this.data.y.cor,s=this.diamondSize*this.diamondScale,r="variables"==this.correlationAxis?this.varIndices:this.isGroupedData?this.grpIndices:this.smpIndices,n=this.corMarginLeft+this.marginLeft+this.left+i,o=this.corMarginTop+this.marginTop+this.top+i,h=[this.corMarginLeft+this.marginLeft+this.left+this.x/2,this.corMarginTop+this.marginTop+this.top+this.y],l=0;l<Math.ceil(r.length/2);l++){var c=r[l];t=n+this.diamondSize*l,e=o;for(var d=l;d<r.length-l;d++){var p=r[d],g=a[c][p],u=this.getFillColor(this.getColorForValue(!1,g)),m="circle"==this.correlationType?Math.round(Math.abs(g)*s*10)/10:s;isNaN(g)?this.toRender({p:["drawShape",this.correlationType,t,e,s,s,this.getFillColor(this.missingDataColor),this.getFillColor(this.missingDataColor),"closed"],a:this.getShapeArea(this.correlationType,t,e,s,s,this.getFillColor(this.missingDataColor),this.getFillColor(this.missingDataColor),"closed"),i:[c,p],b:h,t:"Data"}):this.toRender({p:["drawShape",this.correlationType,t,e,m,m,u,u,"closed"],a:this.getShapeArea(this.correlationType,t,e,m,m,u,u,"closed"),i:[c,p],b:h,t:"Data"}),t+=i,e+=i}e-=this.diamondSize;for(var f=d-2;f>=l;f--){var y=r[r.length-f-1];g=a[y][p],u=this.getFillColor(this.getColorForValue(!1,g)),m="circle"==this.correlationType?Math.round(Math.abs(g)*s*10)/10:s;isNaN(g)?this.toRender({p:["drawShape",this.correlationType,t,e,s,s,this.getFillColor(this.missingDataColor),this.getFillColor(this.missingDataColor),"closed"],a:this.getShapeArea(this.correlationType,t,e,s,s,this.getFillColor(this.missingDataColor),this.getFillColor(this.missingDataColor),"closed"),i:[y,p],b:h,t:"Data"}):this.toRender({p:["drawShape",this.correlationType,t,e,m,m,u,u,"closed"],a:this.getShapeArea(this.correlationType,t,e,m,m,u,u,"closed"),i:[y,p],b:h,t:"Data"}),t+=i,e-=i}}if(!(s<8)){this.toRender({p:["drawLine","line",this.corMarginLeft+this.marginLeft+this.left,this.corMarginTop+this.marginTop+this.top+i,this.corMarginLeft+this.marginLeft+this.left+this.x/2,this.corMarginTop+this.marginTop+this.top+this.y,this.foreground,!1,"butt"],s:!0,t:"Data"}),this.toRender({p:["drawLine","line",this.corMarginLeft+this.marginLeft+this.left+this.x,this.corMarginTop+this.marginTop+this.top+i,this.corMarginLeft+this.marginLeft+this.left+this.x/2,this.corMarginTop+this.marginTop+this.top+this.y,this.foreground,!1,"butt"],s:!0,t:"Data"}),n=this.corMarginLeft+this.marginLeft+this.left+i,o=this.corMarginTop+this.marginTop+this.top,t=n+this.x/2,e=this.corMarginTop+this.marginTop+this.top+this.y-i;for(l=0;l<r.length;l++)this.toRender({p:["drawLine","line",n,o,t,e,this.foreground,!1,"butt"],s:!0,t:"Data"}),n+=this.diamondSize,t+=i,e-=i;n=this.corMarginLeft+this.marginLeft+this.left+this.x-i,o=this.corMarginTop+this.marginTop+this.top,t=this.corMarginLeft+this.marginLeft+this.left+this.x/2-i,e=this.corMarginTop+this.marginTop+this.top+this.y-i;for(l=0;l<r.length;l++)this.toRender({p:["drawLine","line",n,o,t,e,this.foreground,!1,"butt"],s:!0,t:"Data"}),n-=this.diamondSize,t-=i,e-=i}},this.drawCorrelationPlot=function(){this.setCorrelationXYDimensions(),this.drawCorrelationLayout(),this.drawTitle(),this.drawCorrelationDataPoints()},this.initializeCorrelationPlot=function(){this.drawCorrelationPlot()},this.initializeCorrelationPlot()},CanvasXpress.prototype.Scatter2D=function(t){this.get2DYAxisWidth=function(t){var e;return!this.scatterPlotMatrix||this.layoutAdjust&&"axis"!=this.layoutAdjust&&!this.scatterPlotMatrixType.match(/correlation|all/)?(this.layoutValid&&this.layoutAdjust&&this.yAxisLayoutMaxTickStrLength?e=this.yAxisLayoutMaxTickStrLength:this.ridgeBy&&this.isCreateHistogram?(e=this.getMaxText(this.data.y.smps),e=this.measureText(e,this.axisTickFont)+2*this.margin):(e="y"==this.isGraphTime?this.dateFormat(new Date(this.yAxisMax),this.timeFormat):this.yAxisMaxStrLength,e=this.measureText(this.formatAxisValue(parseFloat(e),"yAxis"),this.axisTickFont)+this.margin*(this.isContour?0:3)),this.yAxisTitle||this.yAxis2Title?this.yAxisShow||t?this.getFontPt(this.axisTitleFont)+e+this.margin*(this.isContour,5):this.margin:this.yAxisShow||t?e+this.margin*(this.isContour?0:3):this.margin):this.yAxisShow||t?this.measureText(this.yAxisMaxStrLength,this.axisTickFont):this.margin},this.get2DXAxisHeight=function(t){return!this.scatterPlotMatrix||this.layoutAdjust&&"axis"!=this.layoutAdjust&&!this.scatterPlotMatrixType.match(/correlation|all/)?this.xAxisTitle||this.xAxis2Title?this.xAxisShow?this.getFontPt(this.axisTickFont)+this.getFontPt(this.axisTitleFont)+5*this.margin:this.margin:this.xAxisShow?this.getFontPt(this.axisTickFont)+3*this.margin:this.margin:this.xAxisShow||t?this.getFontPt(this.axisTickFont)+3*this.margin:this.margin},this.set2DFont=function(){var t=this.yAxisTitle||"",e=this.yAxis2Title||"",i=this.xAxisTitle||"",a=t.length>e.length?t:e,s=i.length>a.length?i:a,r=Math.min(this.layoutComb&&this.isDOE?this.layoutWidth:this.width,this.layoutComb&&this.isDOE?this.layoutHeight:this.height)*(1-this.percentAspectRatioPlotArea)*(this.scatterPlotMatrix?.5:1);this.setAxisFont(s,r),this.setPropertyFontSize(this.layoutComb&&this.isDOE?this.layoutWidth:this.width,"motionCurrentFont",80)},this.reRangeData=function(){this.isValidQQ()?this.setAxes("qq"):this.isValidCDF()?this.setAxes("cdf"):this.isValidKaplanMeier()&&this.setAxes("km")},this.set2DXYDimensions=function(){var t=this.isValidKaplanMeier()||this.isValidQQ()||this.isValidCDF(),e=this.xAxisMajorTicks||this.xAxisMinorTicks||this.xAxisShow,i=this.yAxisMajorTicks||this.yAxisMinorTicks||this.yAxisShow;this.setLegends(),t&&this.reRangeData();var a=this.measureText(this.yAxisValues[this.yAxisValues.length-1],this.axisTickFont)/2;this.right=this.isDOE||"Fish"==this.graphType?5*this.margin:this.layoutComb||"visium"==this.scatterType&&!e?0:this.yAxis2Show?this.get2DYAxisWidth(!0):Math.max(a,this.margin),this.layoutComb||(this.legendInside||(this.showLegend&&"right"==this.legendPosition&&this.legendWidth>0&&(this.right+=this.legendWidth+this.margin),this.showDecorations&&this.showDecorationsLegend&&"right"==this.decorationsPosition&&this.legendDecorationWidth>0&&(this.right+=this.legendDecorationWidth+this.margin)),!this.yAxisHistogramShow||this.layoutComb||this.isCreateHistogram||"Fish"==this.graphType||t||(this.right+=this.yAxisHistogramHeight+2*this.margin),"ScatterBubble2D"==this.graphType&&this.zAxisShow?this.right+=this.getFontPt(this.axisTitleFont)+this.margin:this.right+=this.margin,"visium"==this.scatterType&&(this.right+=3*this.margin));a=this.measureText(this.yAxisValues[0],this.axisTickFont)/2;this.left="Fish"==this.graphType?5*this.margin:this.isDOE?this.get2DYAxisWidth()+1*this.margin:"visium"!=this.scatterType||e?!this.layoutComb||this.layoutAdjust&&"axis"!=this.layoutAdjust&&!this.scatterPlotMatrixType.match(/correlation|all/)?Math.max(a,this.get2DYAxisWidth()):this.margin:0,(this.segregateVariablesBy.length||this.segregateSamplesBy.length||this.scatterPlotMatrix)&&this.layoutCollapse&&"Fish"!=this.graphType&&(this.left-=this.margin),this.legendInside||this.showLegend&&"left"==this.legendPosition&&this.legendWidth>0&&!t&&(this.left+=this.legendWidth+this.margin),this.top=this.isDOE||"Fish"==this.graphType?5*this.margin:this.layoutValid&&this.layoutCollapse?0:this.layoutValid?this.margin:this.marginTop+this.margin,this.legendInside||this.layoutComb||t||this.showLegend&&"top"==this.legendPosition&&this.legendHeight>0&&(this.top+=this.legendHeight+this.margin),this.layoutComb?this.scatterPlotMatrix&&this.scatterPlotMatrixType.match(/first/)?this.top+=this.layoutLabelBoxThickness:this.layoutValid&&"wrap"==this.layoutType&&(this.segregateVariablesBy.length||this.segregateSamplesBy.length)&&(this.top+=this.layoutLabelBoxThickness*(this.segregateVariablesBy.length+this.segregateSamplesBy.length)-this.margin):(this.top+=this.getTitleSubtitleHeight(),!this.xAxisHistogramShow||this.layoutComb||this.isCreateHistogram||"Fish"==this.graphType||t?"Fish"==this.graphType&&(this.top+=this.get2DXAxisHeight()):this.top+=this.xAxisHistogramHeight+2*this.margin),this.bottom="Fish"==this.graphType?5*this.margin:this.isDOE?this.get2DXAxisHeight()+3*this.margin:"visium"!=this.scatterType||i?this.layoutComb&&(!this.layoutAdjust||"axis"==this.layoutAdjust||this.scatterPlotMatrixType.match(/correlation|all/)||this.segregateVariablesBy.length||this.segregateSamplesBy.length)?0:this.get2DXAxisHeight()+this.margin:0,this.legendInside||this.layoutComb||this.isValidQQ()||this.isValidCDF()||(this.showLegend&&"bottom"==this.legendPosition&&this.legendHeight>0&&(this.bottom+=this.legendHeight+this.margin),this.showDecorations&&this.showDecorationsLegend&&"bottom"==this.decorationsPosition&&this.legendDecorationHeight>0&&(this.bottom+=this.legendDecorationHeight+this.margin)),this.layoutValid&&"Fish"!=this.graphType&&(this.segregateVariablesBy.length||this.segregateSamplesBy.length)&&!this.layoutCollapse&&"wrap"==this.layoutType&&(this.bottom+=this.margin),this.citation&&!this.layoutValid&&(this.bottom+=this.getCitationHeight());var s=this.width,r=this.motionBy&&"Fish"!=this.graphType?this.height-40:this.height;this.x=this.layoutComb?this.layoutWidth-(this.left+this.right):s-(this.marginLeft+this.left+this.right+this.marginRight),this.y=this.layoutComb?this.layoutHeight-(this.top+this.bottom):r-(this.marginTop+this.top+this.bottom+this.marginBottom);var n=!1;if(this.fixedAspectRatio||"visium"==this.scatterType&&this.visiumFixedAspectRatio){var o="visium"==this.scatterType&&CanvasXpress.cacheImages[this.backgroundImageMD5||this.getFileName(this.backgroundImage)],h="visium"==this.scatterType?o.height/o.width:Math.abs(this.fixedAspectRatio);if(n=(this.y-this.x*h)/2<=0,"visium"==this.scatterType)if(this.x>this.y){var l=(this.x-this.y/h)/2;this.left+=3*l,this.right+=3*l,this.x-=6*l}else if(n){l=(this.x-this.y/h)/2;this.top+=3*l,this.bottom+=3*l,this.y-=6*l}else{l=(this.y-this.x*h)/2;this.top+=3*l,this.bottom+=3*l,this.y-=6*l}else if(this.fixedAspectRatio)if(this.x>this.y){l=(this.x-this.y/h)/2;this.left+=l,this.right+=l,this.x-=2*l}else{l=(this.y-this.x*h)/2;this.top+=l,this.bottom+=l,this.y-=2*l}}this.layoutComb&&!this.isDOE||this.reRangeData(),this.motionBy&&!this.reproducing&&this.addMotionDiv(),"visium"==this.scatterType?(this.setAxes(),this.setAxisunitsVisium(),this.checkVisium()):(this.setAxisUnits("xAxis"),this.setAxisUnits("yAxis"))},this.setAxisunitsVisium=function(t){var e=CanvasXpress.cacheImages[this.backgroundImageMD5||this.getFileName(this.backgroundImage)],i=e.height/e.width,a=this.setMinX||0,s=(this.setMaxX||e.width)-a,r=this.setMinY||0,n=(this.setMaxY||e.height)-r;if(s*this.height/i*i>n*this.width*i||t){this.setAxisUnits("xAxis"),this.yAxisUnit=this.xAxisUnit*i;var o=n*this.yAxisUnit,h=this.y-o;this.y-=h,this.top+=h/2,this.bottom+=h/2}else{this.setAxisUnits("yAxis"),this.xAxisUnit=this.yAxisUnit/i;var l=s*this.xAxisUnit;h=this.x-l;this.x-=h,this.left+=h/2,this.right+=h/2}},this.set2DWireFrame=function(){var t=this.xAxisMajorTicks||this.xAxisMinorTicks||this.xAxisShow,e=this.yAxisMajorTicks||this.yAxisMinorTicks||this.yAxisShow,i=this.marginLeft+this.offsetX+this.left,a=i+this.x,s=this.marginTop+this.offsetY+this.top,r=s+this.y;(t||e)&&("Fish"!=this.graphType&&e&&this.set2DWireFrameY(i,a),t&&this.set2DWireFrameX(s,r))},this.set2DWireFrameY=function(t,e,i){this.toRender({p:["disableGradientTransparencyShadow"],t:"Axes2"});var a="dotted"==this.yAxisTickStyle?"dottedLine":"line";if(this.ridgeBy&&this.isCreateHistogram)for(var s=this.marginTop+this.offsetY+this.top+this.y+this.yAxisMin*this.yAxisUnit,r=this.ridgelineScale-1,n=Math.max(this.data.y.maxLevel,this.ridgelineScale),o=this.y/(this.ridgelineScale>1?n+r:n+.1),h=0;h<this.data.y.maxLevel;h++){var l=s-o*h;this.toRender({p:["drawLine",a,t,l,e,l,this.yAxisTickColor,this.axisTickThickness/3,"butt"],a:this.getLineArea(a,t,l,e,l,this.yAxisTickColor,this.axisTickThickness/3,"butt"),i:["Ym"+this.layoutCurrent+h],t:"Axes2"})}else{if(this.yAxisMinorTicks)for(h=0;h<this.yAxisMinorValues.length;h++){if((c=this.yAxisMinorValues[h])>=this.yAxisMin&&c<=this.yAxisMax){l=this.marginTop+this.offsetY+this.top+this.y-(c-this.yAxisMin)*this.yAxisUnit;this.toRender({p:["drawLine",a,t,l,e,l,this.yAxisTickColor,this.axisTickThickness/3,"butt"],a:this.getLineArea(a,t,l,e,l,this.yAxisTickColor,this.axisTickThickness/3,"butt"),i:["Ym"+this.layoutCurrent+h],t:"Axes2"})}}for(h=0;h<this.yAxisValuesRaw.length;h++){var c;if((c=this.yAxisValuesRaw[h])>=this.yAxisMin&&c<=this.yAxisMax){l=this.marginTop+this.offsetY+this.top+this.y-(c-this.yAxisMin)*this.yAxisUnit;if(this.yAxisMajorTicks&&"manhattan"!=this.scatterType){if(this.toRender({p:["drawLine",a,t,l,e,l,this.yAxisTickColor,this.axisTickThickness,"butt"],a:this.getLineArea(a,t,l,e,l,this.yAxisTickColor,this.axisTickThickness,"butt"),i:["YM"+this.layoutCurrent+h],t:"Axes2"}),this.yAxisShow)this.toRender({p:["drawLine","line",t-this.margin,l,t,l,this.yAxisTopBottomTickColor,1,"butt"],a:this.getLineArea("line",t-this.margin,l,t,l,this.yAxisTopBottomTickColor,1,"butt"),i:["YMt"+this.layoutCurrent+h],t:"Axes2"});else if(this.yAxisS2Show)if(this.layoutValid&&(this.scatterPlotMatrix&&this.showScatterPlotMatrixLabels&&"first"!=this.scatterPlotMatrixType||"rows"==this.layoutType||"cols"==this.layoutType&&this.segregateVariablesBy.length+this.segregateSamplesBy.length>1)){var d=e+this.layoutLabelBoxThickness;this.toRender({p:["drawLine","line",d,l,d+this.margin,l,this.yAxisTopBottomTickColor,1,"butt"],a:this.getLineArea("line",d,l,d+this.margin,l,this.yAxisTopBottomTickColor,1,"butt"),i:["YMt"+this.layoutCurrent+h],t:"Axes2"})}else this.toRender({p:["drawLine","line",e,l,e+this.margin,l,this.yAxisTopBottomTickColor,1,"butt"],a:this.getLineArea("line",e,l,e+this.margin,l,this.yAxisTopBottomTickColor,1,"butt"),i:["YMt"+this.layoutCurrent+h],t:"Axes2"})}else this.yAxisShow&&this.toRender({p:["drawLine",a,t-this.margin,l,t,l,this.yAxisTickColor,this.axisTickThickness,"butt"],a:this.getLineArea(a,t-this.margin,l,t,l,this.yAxisTickColor,this.axisTickThickness,"butt"),i:["Y"+this.layoutCurrent+h],t:"Axes2"}),(this.yAxisS2Show||"manhattan"==this.scatterType&&this.yAxis2Show)&&this.toRender({p:["drawLine",a,e,l,e+this.margin,l,this.yAxisTickColor,this.axisTickThickness,"butt"],a:this.getLineArea(a,e,l,e+this.margin,l,this.yAxisTickColor,this.axisTickThickness,"butt"),i:["Y"+this.layoutCurrent+h],t:"Axes2"})}}}if(i){t=t-this.axisMinMaxTickThickness/2,e=e-.5;var p=(l=this.marginTop+this.offsetY+this.top)+this.y;this.xAxisLeftMajorTick&&this.toRender({p:["drawLine","line",t,l,e,l,this.yAxisTopBottomTickColor,this.axisMinMaxTickThickness,"butt"],t:"Axes2"}),this.xAxisRightMajorTick&&this.toRender({p:["drawLine","line",t,p,e,p,this.yAxisTopBottomTickColor,this.axisMinMaxTickThickness,"butt"],t:"Axes2"}),this.yAxisTopMajorTick&&this.toRender({p:["drawLine","line",e,l,e,p,this.yAxisTopBottomTickColor,this.axisMinMaxTickThickness,"butt"],t:"Axes2"}),this.yAxisBottomMajorTick&&this.toRender({p:["drawLine","line",t,l,t,p,this.yAxisTopBottomTickColor,this.axisMinMaxTickThickness,"butt"],t:"Axes2"})}else{if(this.yAxisTopMajorTick){l=this.marginTop+this.offsetY+this.top;this.toRender({p:["drawLine","line",t-this.axisMinMaxTickThickness/2,l,e+.5,l,this.yAxisTopBottomTickColor,this.axisMinMaxTickThickness,"butt"],a:this.getLineArea("line",t-this.axisMinMaxTickThickness/2,l,e+.5,l,this.yAxisTopBottomTickColor,this.axisMinMaxTickThickness,"butt"),i:["YT"+this.layoutCurrent],t:"Axes2"})}if(this.yAxisBottomMajorTick){l=this.marginTop+this.offsetY+this.top+this.y;this.toRender({p:["drawLine","line",t-this.axisMinMaxTickThickness/2,l,e+.5,l,this.yAxisTopBottomTickColor,this.axisMinMaxTickThickness,"butt"],a:this.getLineArea("line",t-this.axisMinMaxTickThickness/2,l,e+.5,l,this.yAxisTopBottomTickColor,this.axisMinMaxTickThickness,"butt"),i:["YB"+this.layoutCurrent],t:"Axes2"})}}this.toRender({p:["enableGradientTransparencyShadow"],t:"Axes2"})},this.set2DWireFrameX=function(t,e,i){this.toRender({p:["disableGradientTransparencyShadow"],t:"Axes"});var a=this.setClipBoundaries();"manhattan"==this.scatterType&&this.toRender({p:["setClipArea",a],t:"Axes"});var s="dotted"==this.xAxisTickStyle?"dottedLine":"line";if("Fish"==this.graphType){for(var r=this.fishAxis.length?this.fishAxis:this.fishTimepoints,n=0;n<r.length;n++)if(r[n]>=this.fishTimepoints[0]&&r[n]<=this.fishTimepoints[this.fishTimepoints.length-1]){var o=this.marginLeft+this.offsetX+this.left+(r[n]-this.xAxisMin)*this.xAxisUnit;this.toRender({p:["drawLine",s,o,t,o,e,this.xAxisTickColor,this.axisTickThickness,"butt"],a:this.getLineArea(s,o,t,o,e,this.xAxisTickColor,this.axisTickThickness,"butt"),i:["Xm"+this.layoutCurrent+n],t:"Axes"})}}else{if(this.xAxisMinorTicks)for(n=0;n<this.xAxisMinorValues.length;n++){if((l=this.xAxisMinorValues[n])>=this.xAxisMin&&l<=this.xAxisMax){o=this.marginLeft+this.offsetX+this.left+(l-this.xAxisMin)*this.xAxisUnit;this.toRender({p:["drawLine",s,o,t,o,e,this.xAxisTickColor,this.axisTickThickness/3,"butt"],a:this.getLineArea(s,o,t,o,e,this.xAxisTickColor,this.axisTickThickness/3,"butt"),i:["Xm"+this.layoutCurrent+n],t:"Axes"})}}if("manhattan"==this.scatterType){var h=0;for(n=0;n<this.chromosomeLengths.length;n++){var l=this.chromosomeLengths[n]/2,c=(o=this.marginLeft+this.offsetX+this.left+(l+h-this.xAxisMin)*this.xAxisUnit,this.chromosomeLengths[n]*this.xAxisUnit),d=(this.layoutValid?this.layoutLabelBoxThickness:0)+this.axisTickThickness+this.margin;this.xAxisShow&&this.toRender({p:["drawLine","line",o,e+this.axisTickThickness,o,e+this.axisTickThickness+this.margin,this.xAxisTickColor,1,"butt"],a:this.getLineArea("line",o,e+this.axisTickThickness,o,e+this.axisTickThickness+this.margin,this.xAxisTickColor,1,"butt"),i:["X"+this.layoutCurrent+n],t:"Axes"}),this.xAxisS2Show&&this.toRender({p:["drawLine","line",o,t-d,o,t-this.layoutLabelBoxThickness,this.xAxisTickColor,1,"butt"],a:this.getLineArea("line",o,t-d,o,t-this.layoutLabelBoxThickness,this.xAxisTickColor,1,"butt"),i:["X"+this.layoutCurrent+n],t:"Axes"}),this.colorBy&&n%2&&this.toRender({p:["drawShape","rectangle",o,e-this.y/2,c,this.y,this.manhattanContrastColor,this.manhattanContrastColor],t:"Axes"}),h+=this.chromosomeLengths[n]}}else for(n=0;n<this.xAxisValuesRaw.length;n++){if((l=this.xAxisValuesRaw[n])>=this.xAxisMin&&l<=this.xAxisMax){o=this.marginLeft+this.offsetX+this.left+(l-this.xAxisMin)*this.xAxisUnit;if(this.xAxisMajorTicks)if(this.xAxisShow&&"boxplot"!=this.scatterType)this.toRender({p:["drawLine",s,o,t,o,e,this.xAxisTickColor,this.axisTickThickness,"butt"],a:this.getLineArea(s,o,t,o,e,this.xAxisTickColor,this.axisTickThickness,"butt"),i:["XM"+this.layoutCurrent+n],t:"Axes"}),this.toRender({p:["drawLine","line",o,e+this.axisTickThickness/1,o,e+this.axisTickThickness/1+this.margin,this.xAxisLeftRightTickColor,1,"butt"],a:this.getLineArea("line",o,e+this.axisTickThickness/1,o,e+this.axisTickThickness/1+this.margin,this.xAxisLeftRightTickColor,1,"butt"),i:["XMt"+this.layoutCurrent+n],t:"Axes"});else if(this.xAxisS2Show)if(this.scatterPlotMatrix&&this.scatterPlotMatrixType.match(/first/)){d=this.layoutLabelBoxThickness;this.toRender({p:["drawLine",s,o,t,o,e,this.xAxisTickColor,this.axisTickThickness,"butt"],a:this.getLineArea(s,o,t,o,e,this.xAxisTickColor,this.axisTickThickness,"butt"),i:["XM"+this.layoutCurrent+n],t:"Axes"}),this.toRender({p:["drawLine","line",o,t-(d+this.margin),o,t-d,this.xAxisLeftRightTickColor,1,"butt"],a:this.getLineArea("line",o,t-(d+this.margin),o,t-d,this.xAxisLeftRightTickColor,1,"butt"),i:["XMt"+this.layoutCurrent+n],t:"Axes"})}else if(this.segregateVariablesBy.length||this.segregateSamplesBy.length){if("wrap"!=this.layoutType&&this.segregateVariablesBy.length+this.segregateSamplesBy.length>0){d=this.layoutLabelBoxThickness;this.toRender({p:["drawLine",s,o,t,o,e,this.xAxisTickColor,this.axisTickThickness,"butt"],a:this.getLineArea(s,o,t,o,e,this.xAxisTickColor,this.axisTickThickness,"butt"),i:["XM"+this.layoutCurrent+n],t:"Axes"}),this.toRender({p:["drawLine","line",o,t-(d+this.margin),o,t-d,this.xAxisLeftRightTickColor,1,"butt"],a:this.getLineArea("line",o,t-(d+this.margin),o,t-d,this.xAxisLeftRightTickColor,1,"butt"),i:["XMt"+this.layoutCurrent+n],t:"Axes"})}else if("wrap"==this.layoutType){d=this.layoutLabelBoxThickness*(this.segregateVariablesBy.length+this.segregateSamplesBy.length);this.toRender({p:["drawLine",s,o,t,o,e,this.xAxisTickColor,this.axisTickThickness,"butt"],a:this.getLineArea(s,o,t,o,e,this.xAxisTickColor,this.axisTickThickness,"butt"),i:["XM"+this.layoutCurrent+n],t:"Axes"}),this.toRender({p:["drawLine","line",o,t-(d+this.margin),o,t-d,this.xAxisLeftRightTickColor,1,"butt"],a:this.getLineArea("line",o,t-(d+this.margin),o,t-d,this.xAxisLeftRightTickColor,1,"butt"),i:["XMt"+this.layoutCurrent+n],t:"Axes"})}}else if(this.toRender({p:["drawLine",s,o,t,o,e,this.xAxisTickColor,this.axisTickThickness,"butt"],a:this.getLineArea(s,o,t,o,e,this.xAxisTickColor,this.axisTickThickness,"butt"),i:["XM"+this.layoutCurrent+n],t:"Axes"}),this.scatterPlotMatrix&&this.showScatterPlotMatrixLabels){d=t-this.layoutLabelBoxThickness;this.toRender({p:["drawLine","line",o,d-this.margin,o,d,this.xAxisLeftRightTickColor,1,"butt"],a:this.getLineArea("line",o,d-this.margin,o,d,this.xAxisLeftRightTickColor,1,"butt"),i:["XMt"+this.layoutCurrent+n],t:"Axes"})}else this.toRender({p:["drawLine","line",o,t-this.margin,o,t,this.xAxisLeftRightTickColor,1,"butt"],a:this.getLineArea("line",o,t-this.margin,o,t,this.xAxisLeftRightTickColor,1,"butt"),i:["XMt"+this.layoutCurrent+n],t:"Axes"});else this.toRender({p:["drawLine",s,o,t,o,e,this.xAxisTickColor,this.axisTickThickness,"butt"],a:this.getLineArea(s,o,t,o,e,this.xAxisTickColor,this.axisTickThickness,"butt"),i:["XM"+this.layoutCurrent+n],t:"Axes"});else this.toRender({p:["drawLine","line",o,e+this.axisTickThickness/1,o,e+this.axisTickThickness/1+this.margin,this.xAxisTickColor,1,"butt"],a:this.getLineArea("line",o,e+this.axisTickThickness/1,o,e+this.axisTickThickness/1+this.margin,this.xAxisTickColor,1,"butt"),i:["X"+this.layoutCurrent+n],t:"Axes"})}}if(i){c=(o=this.marginLeft+this.offsetX+this.left)+this.x,t=t-1,e=e+this.axisMinMaxTickThickness/2;this.xAxisLeftMajorTick&&this.toRender({p:["drawLine","line",o,t,o,e,this.yAxisTopBottomTickColor,this.axisMinMaxTickThickness,"butt"],t:"Axes"}),this.xAxisRightMajorTick&&this.toRender({p:["drawLine","line",c,t,c,e,this.yAxisTopBottomTickColor,this.axisMinMaxTickThickness,"butt"],t:"Axes"}),this.yAxisTopMajorTick&&this.toRender({p:["drawLine","line",o,t,c,t,this.yAxisTopBottomTickColor,this.axisMinMaxTickThickness,"butt"],t:"Axes"}),this.yAxisBottomMajorTick&&this.toRender({p:["drawLine","line",o,e,c,e,this.yAxisTopBottomTickColor,this.axisMinMaxTickThickness,"butt"],t:"Axes"})}else if("manhattan"==this.scatterType){var p=this;if(t=this.marginTop+this.offsetY+this.top+this.y-function(){for(var t=1;p.yAxisValuesRaw[p.yAxisValuesRaw.length-t]>p.yAxisMax;)t++;return(p.yAxisValuesRaw[p.yAxisValuesRaw.length-t]-p.yAxisMin)*p.yAxisUnit}(),this.yAxisShow){o=this.marginLeft+this.offsetX+this.left;this.toRender({p:["drawLine","line",o,t-.5,o,e+this.axisMinMaxTickThickness/2,this.xAxisLeftRightTickColor,this.axisMinMaxTickThickness,"butt"],a:this.getLineArea("line",o,t-.5,o,e+this.axisMinMaxTickThickness/2,this.xAxisLeftRightTickColor,this.axisMinMaxTickThickness,"butt"),i:["XL"+this.layoutCurrent],t:"Axes"})}if(this.yAxisS2Show||"manhattan"==this.scatterType&&this.yAxis2Show){o=this.marginLeft+this.offsetX+this.left+this.x;this.toRender({p:["drawLine","line",o,t-.5,o,e+this.axisMinMaxTickThickness/2,this.xAxisLeftRightTickColor,this.axisMinMaxTickThickness,"butt"],a:this.getLineArea("line",o,t-.5,o,e+this.axisMinMaxTickThickness/2,this.xAxisLeftRightTickColor,this.axisMinMaxTickThickness,"butt"),i:["XR"+this.layoutCurrent],t:"Axes"})}}else{if(this.xAxisLeftMajorTick){o=this.marginLeft+this.offsetX+this.left;this.toRender({p:["drawLine","line",o,t-.5,o,e+this.axisMinMaxTickThickness/2,this.xAxisLeftRightTickColor,this.axisMinMaxTickThickness,"butt"],a:this.getLineArea("line",o,t-.5,o,e+this.axisMinMaxTickThickness/2,this.xAxisLeftRightTickColor,this.axisMinMaxTickThickness,"butt"),i:["XL"+this.layoutCurrent],t:"Axes"})}if(this.xAxisRightMajorTick){o=this.marginLeft+this.offsetX+this.left+this.x;this.toRender({p:["drawLine","line",o,t-.5,o,e+this.axisMinMaxTickThickness/2,this.xAxisLeftRightTickColor,this.axisMinMaxTickThickness,"butt"],a:this.getLineArea("line",o,t-.5,o,e+this.axisMinMaxTickThickness/2,this.xAxisLeftRightTickColor,this.axisMinMaxTickThickness,"butt"),i:["XR"+this.layoutCurrent],t:"Axes"})}}}"manhattan"==this.scatterType&&this.toRender({p:["resetClipArea"],t:"Axes"}),this.toRender({p:["enableGradientTransparencyShadow"],t:"Axes"})},this.render2DLayoutTicks=function(){if(this.scatterPlotMatrix)switch(this.scatterPlotMatrixType){case"all":return this.layoutCurrentR==this.layoutCurrentC||this.layoutCurrentR==Number(this.layoutRows)-1;case"correlation":case"correlationDensity":case"correlationHistogram":return this.layoutCurrentR==this.layoutCurrentC||this.layoutCurrentR==Number(this.layoutRows)-1&&this.layoutCurrentC>0}return!1},this.set2DLayout=function(){if("Fish"==this.graphType){for(var t=this.marginTop+this.offsetY+this.top-(this.margin+this.margin+this.getFontPt(this.axisTickFont)/2),e=this.fishAxis.length?this.fishAxis:this.fishTimepoints,i=0;i<e.length;i++)if(e[i]>=this.fishTimepoints[0]&&e[i]<=this.fishTimepoints[this.fishTimepoints.length-1]){var a=this.marginLeft+this.offsetX+this.left+(e[i]-this.xAxisMin)*this.xAxisUnit,s=this.fishAxisLabels.length&&null!=this.fishAxisLabels[i]?this.fishAxisLabels[i]:e[i];this.toRender({p:["drawText",s,a,t,this.axisTickFont,this.axisTickColor,"center","middle"],t:"Axes"})}}else{var r="visium"==this.scatterType&&!this.visiumFlip&&CanvasXpress.cacheImages[this.backgroundImageMD5||this.getFileName(this.backgroundImage)],n=(a=this.marginLeft+this.offsetX+this.left+(this.margin+this.margin+this.getFontPt(this.axisTitleFont)/2)-this.get2DYAxisWidth(),this.width-(this.margin+this.margin+this.getFontPt(this.axisTitleFont)/2));t=this.marginTop+this.offsetY+this.top+this.y/2;if(this.yAxisTitle&&this.yAxisShow&&!this.scatterPlotMatrix?this.toRender({p:["drawText",this.yAxisTitle,a,t,this.axisTitleFont,this.axisTitleColor,"center","middle",-Math.PI/2],t:"Axes"}):this.yAxis2Title&&this.yAxisS2Show&&!this.scatterPlotMatrix&&this.yAxis2Title&&this.toRender({p:["drawText",this.yAxis2Title,n,t,this.axisTitleFont,this.axisTitleColor,"center","middle",-Math.PI/2],t:"Axes"}),a=this.marginLeft+this.offsetX+this.left-2*this.margin,n=this.marginLeft+this.offsetX+this.left+this.x+this.margin+this.margin,this.yAxisTransform&&this.yAxisTransform.match(/log/)&&!this.yAxisTransformTicks&&(this.yAxisDecs=parseInt(Math.abs(this.yAxisMin))),this.ridgeBy&&this.isCreateHistogram){if(!this.layoutValid){var o=this.marginTop+this.offsetY+this.top+this.y+this.yAxisMin*this.yAxisUnit,h=this.ridgelineScale-1,l=Math.max(this.data.y.maxLevel,this.ridgelineScale),c=this.y/(this.ridgelineScale>1?l+h:l+.1);for(i=1;i<=this.data.y.maxLevel;i++){t=o-c*(this.data.y.maxLevel-i);var d=this.isCreateHistogram.maxLevel==this.isCreateHistogram.level.length?this.data.y.smps[i]:this.meta.data.z[this.ridgeBy].levels[i-1];this.toRender({p:["drawText",d,a,t,this.axisTickFont,this.axisTickColor,"right","middle"],t:"Axes"})}}}else if(!this.render2DLayoutTicks())for(i=0;i<this.yAxisValuesRaw.length;i++){if((f=this.yAxisValuesRaw[i])>=this.yAxisMin&&f<=this.yAxisMax){var p=this.yAxisTransform&&!this.yAxisTransformTicks?this.formatAxisValue(this.transformValue(this.yAxisTransform,f,!0),"yAxis"):"y"==this.isGraphTime?this.dateFormat(new Date(this.yAxisMin+f),this.timeFormat):this.formatAxisValue("visium"!=this.scatterType||this.visiumFlip?f:r.height-f,"yAxis");if(t=this.marginTop+this.offsetY+this.top+this.y-(f-this.yAxisMin)*this.yAxisUnit,this.yAxisShow&&(this.layoutValid&&"manhattan"==this.scatterType&&this.layoutCurrent%this.layoutCols||this.toRender({p:["drawText",p,a,t,this.axisTickFont,this.axisTickColor,"right","middle"],t:"Axes"})),this.yAxisS2Show||"manhattan"==this.scatterType&&this.yAxis2Show)if(this.layoutValid&&(this.scatterPlotMatrix&&this.showScatterPlotMatrixLabels&&"first"!=this.scatterPlotMatrixType||"rows"==this.layoutType||"cols"==this.layoutType&&this.segregateVariablesBy.length+this.segregateSamplesBy.length>1)){var g=n+this.layoutLabelBoxThickness;this.toRender({p:["drawText",p,g,t,this.axisTickFont,this.axisTickColor,"left","middle"],t:"Axes"})}else this.toRender({p:["drawText",p,n,t,this.axisTickFont,this.axisTickColor,"left","middle"],t:"Axes"})}}a=this.marginLeft+this.offsetX+this.left+this.x/2,t=this.marginTop+this.offsetY+this.top+this.y+this.margin+this.margin+this.getFontPt(this.axisTickFont)+this.margin+this.margin+this.getFontPt(this.axisTitleFont)/2,this.xAxisTitle&&this.xAxisShow&&!this.scatterPlotMatrix&&this.toRender({p:["drawText",this.xAxisTitle,a,t,this.axisTitleFont,this.axisTitleColor,"center","middle"],t:"Axes"}),t=this.marginTop+this.offsetY+this.top+this.y+this.margin+this.margin+this.getFontPt(this.axisTickFont)/2;var u=this.marginTop+this.offsetY+this.top-(this.margin+this.getFontPt(this.axisTickFont)/2);if(this.layoutValid&&(this.scatterPlotMatrix&&this.scatterPlotMatrixType.match(/first/)||this.scatterPlotMatrix&&this.showScatterPlotMatrixLabels||"rows"==this.layoutType&&this.segregateVariablesBy.length+this.segregateSamplesBy.length>0||"cols"==this.layoutType&&this.segregateVariablesBy.length+this.segregateSamplesBy.length>0?u-=this.layoutLabelBoxThickness:"wrap"==this.layoutType&&(u-=this.layoutLabelBoxThickness*(this.segregateVariablesBy.length+this.segregateSamplesBy.length))),this.xAxisTransform&&this.xAxisTransform.match(/log/)&&!this.xAxisTransformTicks&&(this.xAxisDecs=parseInt(Math.abs(this.xAxisMin))),"manhattan"==this.scatterType){var m=0;for(g=(n=this.marginLeft+this.offsetX+this.left)+this.x,i=0;i<this.chromosomeLengths.length;i++){var f=this.chromosomeLengths[i]/2;p=i+1;(a=this.marginLeft+this.offsetX+this.left+(f+m-this.xAxisMin)*this.xAxisUnit)-n>this.measureText(p,this.axisTickFont)&&a<g&&(this.xAxisShow&&this.toRender({p:["drawText",p,a,t,this.axisTickFont,this.axisTickColor,"center","middle"],t:"Axes"}),this.xAxisS2Show&&this.toRender({p:["drawText",p,a,u,this.axisTickFont,this.axisTickColor,"center","middle"],t:"Axes"}),n=a),m+=this.chromosomeLengths[i]}}else for(i=0;i<this.xAxisValuesRaw.length;i++){f=this.xAxisValuesRaw[i];var y=this.scatterPlotMatrix&&"boxplot"==this.scatterType;if(f>=this.xAxisMin&&f<=this.xAxisMax&&!y)p=this.isCreateHistogram?this.formatAxisValue(f+this.isCreateHistogram.min,"xAxis"):this.xAxisTransform&&!this.xAxisTransformTicks?this.formatAxisValue(this.transformValue(this.xAxisTransform,f,!0),"xAxis"):"x"==this.isGraphTime?this.dateFormat(new Date(this.xAxisMin+f),this.timeFormat):this.formatAxisValue(f,"xAxis"),a=this.marginLeft+this.offsetX+this.left+(f-this.xAxisMin)*this.xAxisUnit,this.xAxisShow&&this.toRender({p:["drawText",p,a,t,this.axisTickFont,this.axisTickColor,"center","middle"],t:"Axes"}),this.xAxisS2Show&&this.toRender({p:["drawText",p,a,u,this.axisTickFont,this.axisTickColor,"center","middle"],t:"Axes"})}"ScatterBubble2D"==this.graphType&&this.zAxisTitle&&this.zAxisShow&&!this.layoutValid&&(a=this.marginLeft+this.offsetX+this.left+this.x+this.margin,t=this.marginTop+this.offsetY+this.top+this.y/2,this.toRender({p:["drawText",this.zAxisTitle,a,t,this.axisTitleFont,this.axisTitleColor,"center","bottom",Math.PI/2],t:"Axes"}))}this.plotBox&&(this.toRender({p:["disableGradientTransparencyShadow"],t:"Axes"}),this.toRender({p:["drawShape","rectangle",this.marginLeft+this.offsetX+this.left+this.x/2,this.marginTop+this.offsetY+this.top+this.y/2,this.x,this.y,this.plotBoxColor,this.plotBoxColor,"open",!1,this.outlineWidth],t:"Axes"}),this.toRender({p:["enableGradientTransparencyShadow"],t:"Axes"}))},this.isIn2DViewport=function(t,e,i){return e>t[0]&&e<t[0]+t[2]&&i>t[1]&&i<t[1]+t[3]},this.get2DVariables=function(t,e,i){var a=!1!==i?t+":"+e+":"+i:t+":"+e,s=this.layoutValid&&this.meta.data.d.l[this.layoutCurrent]?this.meta.data.d.l[this.layoutCurrent]:this.meta.data.d.a[a],r=[];if(s)if(this.showScatterDensity)r=s.vars;else for(var n=0;n<this.varIndices.length;n++){var o=this.varIndices[n];if(s.skip.hasOwnProperty(o.toString())){if(!s.skip.hasOwnProperty(s.skip[o.toString()]))continue;r.push(o)}else r.push(o)}else r=this.varIndices;return r},this.get2DColor=function(t,e,i){var a,s=this,r=.3,n=!1;if(this.isCreateHistogram){var o,h=this.segregateVariablesBy.length||!this.segregateSamplesBy.length;if(this.isCreateHistogram.factor){o=s.isDOE&&!s.layoutCurrent?s.data.y.smps[e+1]:s.segregateVariablesBy.length||s.isCreateHistogram.factor?!s.layoutValid||s.segregateVariablesBy.length&&s.segregateVariablesBy[0]==s.isCreateHistogram.factor||s.scatterPlotMatrix?s.layoutValid&&s.segregateVariablesBy[0]==s.isCreateHistogram.factor&&!s.scatterPlotMatrix?(a=s.data.y.smps[e+1].toString().split(":"))[0]:s.data.y.smps[e+1]:(a=s.data.y.smps[e+1].toString().split(":"))[1]||a[0]:s.data.y.smps[e+1],this.cacheColors[this.colorScheme].hasOwnProperty(o)?n=this.cacheColors[this.colorScheme][o]:t.hasOwnProperty("z")&&(this.segregateVariablesBy.length||this.segregateSamplesBy.length)&&t.z.hasOwnProperty(this.isCreateHistogram.factor)&&t.z[this.isCreateHistogram.factor].order.hasOwnProperty(o)?(n=(t=t.z[this.isCreateHistogram.factor]).colors[t.order[o]],"staggered"==this.histogramType&&(n=this.addColorTransparency(n,r,!0))):t.hasOwnProperty("x")&&t.x.hasOwnProperty(this.isCreateHistogram.factor)&&t.x[this.isCreateHistogram.factor].order.hasOwnProperty(o)?(n=(t=t.x[this.isCreateHistogram.factor]).colors[t.order[o]],"staggered"==this.histogramType&&(n=this.addColorTransparency(n,r,!0))):(t=t.hasOwnProperty("z")&&t.z[this.isCreateHistogram.factor]?t.z[this.isCreateHistogram.factor]:!(!t.hasOwnProperty("x")||!t.x[this.isCreateHistogram.factor])&&t.x[this.isCreateHistogram.factor])&&t.colors&&t.colors[e]&&!h?(n=t.colors[e],"staggered"==this.histogramType&&(n=this.addColorTransparency(n,r,!0))):n=1==this.varIndices.length||"staggered"!=this.histogramType||this.scatterPlotMatrix?this.colors[e%this.colors.length]:this.addColorTransparency(this.colors[e%this.colors.length],r,!0)}else o=this.data.y.smps[e+1],n=this.cacheColors[this.colorScheme].hasOwnProperty(o)?this.cacheColors[this.colorScheme][o]:1==this.varIndices.length||"staggered"!=this.histogramType||this.scatterPlotMatrix?this.colors[e%this.colors.length]:this.addColorTransparency(this.colors[e%this.colors.length],r,!0);this.cacheColors[this.colorScheme][o]=n,this.isCreateHistogram.colors.push(n)}else if("manhattan"==this.scatterType)n=this.colorBy?this.getPropertyValue(e,null,"colorBy"):this.manhattanColors[this.data.y.data[e][this.manhattanMarkerChromosomeNumberIndex]%this.manhattanColors.length];else if(this.showScatterDensity){var l=t.density.hasOwnProperty(e.toString())?t.density[e.toString()]:1;n=this.getColorForValue(t.colorBrew,l)}else n=this.colorBy?this.getPropertyValue(e,null,"colorBy"):this.isContour?this.contourDataPointsColor:this.colors[i%this.colors.length];return n},this.draw2DBoxplotData=function(){if("boxplot"==this.scatterType){var t=[],e=!(!this.data.z||!this.data.z.hasOwnProperty(this.scatterPlotMatrix))&&this.scatterPlotMatrix;if(e){for(var i=this.data.y.smps[1],a=this.getLevelsByAnnotation(e,this.varIndices,"z"),s=0;s<a.length;s++){for(var r=this.getVariablesSamplesByAnnotationLevel(e,a[s],this.varIndices,"z"),n=[],o=0;o<r.length;o++)n.push(this.getDataAtPos(r[o],1));var h=this.boxplot(n),l="<b>"+i+" - "+a[s]+"</b><br>";l+="<table>",l+="<tr><th>1st IQR </th><td> : </td><td>"+this.formatNumber(h[4])+"</td></tr>",l+="<tr><th>1st Qtl </th><td> : </td><td>"+this.formatNumber(h[1])+"</td></tr>",l+="<tr><th>Median </th><td> : </td><td>"+this.formatNumber(h[2])+"</td></tr>",l+="<tr><th>3rd Qtl </th><td> : </td><td>"+this.formatNumber(h[5])+"</td></tr>",l+="<tr><th>3rd IQR </th><td> : </td><td>"+this.formatNumber(h[3])+"</td></tr>",l+="<tr><th>Outliers </th><td> : </td><td>"+h[6].length+"</td></tr>",l+="<tr><th>N-Data</th><td> : </td><td>"+h[7]+"</td></tr>",l+="</table>",t.push({data:n,boxplot:[h[4],h[5],h[1],h[3],h[2],h[6],h[0],h[8]],tooltip:l})}var c=this.marginLeft+this.offsetX+this.left+.4*this.xAxisUnit,d=this.marginTop+this.offsetY+this.top+this.y;for(s=0;s<t.length;s++){var p=this.colors[s%this.colors.length],g=e?"Property:"+e+":"+a[s]+":z":"Property:"+i+":NA:y";this.drawBoxPlot([t[s].boxplot],c,d,.5*this.xAxisUnit,.5*this.xAxisUnit,this.yAxisUnit,this.yAxisMin,"vertical",[p],[["open"]],[["ScatterBoxplot:::"+t[s].tooltip,g]]),c+=this.xAxisUnit}}else{n=[],i=[];var u=[],m=[],f=this.getDataForSmpGrpAtIndex(this.yAxisIndices[0]),y=this.getDataForSmpGrpAtIndex(this.xAxisIndices[0]),x=this.range(y),b=this.groupingFactors.length?this.groupingFactorWindow||Math.ceil((x[1]-x[0])/5):x[1]-x[0];if(this.groupingFactors.length){var v=this.groupingFactorWindow?-.5*b:x[0],A=0,w=0;for(x[1]++;v<x[1];){n[A]=[];var C=v+b;for(s=0;s<f.length;s++)y[s]>=v&&y[s]<C&&n[A].push(f[s]);w=Math.max(w,n[A].length),i.push(this.data.y.smps[this.xAxisIndices[0]]+" "+this.formatNumber(v)+" - "+this.formatNumber(C)),u.push(v-this.xAxisMin+.5*b),m.push(b),v+=b,A++}if(this.boxplotVarWidth)for(s=0;s<n.length;s++){var T=Math.sqrt(Math.log(n[s].length))/Math.sqrt(Math.log(w));m[s]*=T,u[s]+=(b-m[s])/2}}else i.push(this.data.y.smps[this.yAxisIndices[0]]),n.push(f),u.push(b/2-this.xAxisMin),m.push(b);for(s=0;s<n.length;s++){h=this.boxplot(n[s]),l="<b>"+i[s]+"</b><br>";l+="<table>",l+="<tr><th>1st IQR </th><td> : </td><td>"+this.formatNumber(h[4])+"</td></tr>",l+="<tr><th>1st Qtl </th><td> : </td><td>"+this.formatNumber(h[1])+"</td></tr>",l+="<tr><th>Median </th><td> : </td><td>"+this.formatNumber(h[2])+"</td></tr>",l+="<tr><th>3rd Qtl </th><td> : </td><td>"+this.formatNumber(h[5])+"</td></tr>",l+="<tr><th>3rd IQR </th><td> : </td><td>"+this.formatNumber(h[3])+"</td></tr>",l+="<tr><th>Outliers </th><td> : </td><td>"+h[6].length+"</td></tr>",l+="<tr><th>N-Data</th><td> : </td><td>"+h[7]+"</td></tr>",l+="</table>",t.push({data:n,boxplot:[h[4],h[5],h[1],h[3],h[2],h[6],h[0],h[8]],tooltip:l})}for(c=this.marginLeft+this.offsetX+this.left-.5*b*this.xAxisUnit,d=this.marginTop+this.offsetY+this.top+this.y,p=this.colors[0],s=0;s<t.length;s++){g=e?"Property:"+e+"::z":"Property:"+i+":NA:y";this.drawBoxPlot([t[s].boxplot],c+this.xAxisUnit*u[s],d,this.xAxisUnit*m[s],this.xAxisUnit*m[s],this.yAxisUnit,this.yAxisMin,"vertical",[p],[["open"]],[["ScatterBoxplot:::"+t[s].tooltip,g]])}}}},this.draw2DDataPoints=function(){var t,e,i,a,s,r,n,o,h,l,c,d,p,g,u,m,f,y,x=[],b=[],v=this.marginLeft+this.offsetX+this.left,A=this.marginTop+this.offsetY+this.top+this.y,w=this.setClipBoundaries();if(this.toRender({p:["setClipArea",w],t:"Data"}),this.isContour&&!this.showContourDataPoints);else if("boxplot"==this.scatterType)this.draw2DBoxplotData();else if("qq"==this.scatterType)this.draw2DQQPlot(v,A);else if("cdf"==this.scatterType)this.draw2DCDFPlot(v,A);else if("km"==this.scatterType&&(!this.isDOE||this.isDOE&&0==this.layoutCurrent))this.draw2DKMPlot(v,A);else if("bin2d"==this.scatterType)this.draw2DBin(v,A,this.xAxisIndices[this.xAxisCurrent],this.yAxisIndices[this.yAxisCurrent]);else if(this.isHistogram)this.set2DDensityData();else{for(var C="XYZ"==this.axesType?1:Math.max(this.xAxisIndices.length,this.yAxisIndices.length),T={},S=0;S<C;S++){for(var D="Y"==this.axesType||"XYZ"==this.axesType?this.xAxisIndices[this.xAxisCurrent]:this.xAxisIndices[S],M="X"==this.axesType||"XYZ"==this.axesType?this.yAxisIndices[this.yAxisCurrent]:this.yAxisIndices[S],k=("ScatterBubble2D"==this.graphType&&!this.sizeBy&&this.zAxisIndices.length>0||"XYZ"==this.axesType)&&this.zAxisIndices[this.zAxisCurrent],L=this.get2DVariables(D,M,k),I=(this.isHistogram,{}),B=this.meta.data.d.a[!1!==k?D+":"+M+":"+k:D+":"+M],N="ScatterBubble2D"==this.graphType?"Series:"+D+":"+M+":"+k:"Series:"+D+":"+M,F="visium"==this.scatterType&&CanvasXpress.cacheImages[this.backgroundImageMD5||this.getFileName(this.backgroundImage)],P=!!this.jitter&&this.jitterData(this.rep(0,L.length),!1,this.jitterFactor*this.xAxisUnit*.5),R=0;R<L.length;R++){"percentile"==this.xAxisTransform&&(this.axesType.match(/Y|Z/)&&0==R||"X"==this.axesType)&&(n="XYZ"==this.axesType||"percentile"!=this.xAxisTransform?this.getAxisDataBySample(this.xAxisIndices):this.getAxisDataBySample(D),l=(o=this.range(n))[0],h=o[1]),"percentile"==this.yAxisTransform&&(this.axesType.match(/X|Z/)&&0==R||"Y"==this.axesType)&&(c="XYZ"==this.axesType||"percentile"!=this.yAxisTransform?this.getAxisDataBySample(this.yAxisIndices):this.getAxisDataBySample(M),g=(d=this.range(c))[0],p=d[1]),!1!==k&&0==R&&(u="XYZ"==this.axesType?this.getAxisDataBySample(this.zAxisIndices,"z"):this.getAxisDataBySample(k,"z"),y=(m=this.range(u))[0],f=m[1]);var O=L[R],X=this.getDataAtPos(O,D,!1,this.xAxisTransform,null!=this.xAxisFloorValue?this.xAxisFloorValue:l,null!=this.xAxisCeilValue?this.xAxisCeilValue:h),z=this.getDataAtPos(O,M,!1,this.yAxisTransform,null!=this.yAxisFloorValue?this.yAxisFloorValue:g,null!=this.yAxisCeilValue?this.yAxisCeilValue:p,!1,!(!F||this.visiumFlip)&&F.height),E=!1!==k?this.getDataAtPos(O,k,!1,this.zAxisTransform,null!=this.zAxisFloorValue?this.zAxisFloorValue:y,null!=this.zAxisCeilValue?this.zAxisCeilValue:f):null,_=this.getDataAtPos(O,D,"stdev"),H=this.getDataAtPos(O,M,"stdev"),V=this.scatterType&&this.scatterType.match(/functio/)?this.functionColor:this.getFillColor(this.get2DColor(B,O,S),[O,D,M]),G=this.getOutlineColor(V,[O,D,M]),q=this.getPropertyValue(O,null,"shapeBy"),j="visium"==this.scatterType?this.dataPointSize:this.sizeBy?parseInt(this.getPropertyValue(O,null,"sizeBy")):!1!==k?this.sizes[Math.round(this.percentile(y,f,E)/10)]:"manhattan"==this.scatterType||this.isContour?this.dataPointSize*this.dataPointSizeScaleFactor*.5:this.dataPointSize*this.dataPointSizeScaleFactor,U=this.patternBy?this.getPropertyValue(O,null,"patternBy"):this.getPropertyValue(S,null,"patternBy"),Y=!(!this.scatterType||!this.scatterType.match(/image/i))&&this.images[R],W=Y?"image":q,$=this.ellipseBy&&this.data.z&&this.data.z.hasOwnProperty(this.ellipseBy)?this.data.z[this.ellipseBy][O]:!(!this.ellipseBy||"variable"!=this.ellipseBy)&&"variable",Q=!!(this.lineBy&&this.data.z&&this.data.z.hasOwnProperty(this.lineBy))&&this.data.z[this.lineBy][O],Z=this.isHidden(O)||this.isHidden(!1,!1,N),K="manhattan"==this.scatterType?[O,this.manhattanMarkerChromosomeNumberIndex,this.manhattanMarkerPositionIndex,this.manhattanMarkerLogPValueIndex]:[O,D,M,k];if(this.varIndices.length>this.scatterOutlineThreshold&&(G=V),t=v+(X-this.xAxisMin)*this.xAxisUnit+(this.jitter?P[R]:0),e=A-(z-this.yAxisMin)*this.yAxisUnit,s=v+(0-this.xAxisMin)*this.xAxisUnit,r=A-(0-this.yAxisMin)*this.yAxisUnit,this.ellipseBy&&$&&(I.hasOwnProperty($)||(I[$]=[[],[]]),I[$][0].push(X),I[$][1].push(z)),this.scatterType&&"bar"==this.scatterType&&"XYZ"!=this.axesType){var J=this.histogramBarWidth;a=this.marginTop+this.offsetY+this.top+this.y-e,z>0&&(this.toRender({p:["drawShape","rectangle",t,e+a/2,2*J,a,V,G,U],a:this.getShapeArea("rectangle",t,e+a/2,2*J,a,V,G,U),i:[O,D,M],t:"Data",h:Z}),this.drawSelectedLabel([O,D,M],t,e))}else{if(!this.scatterType||!this.scatterType.match(/functio|lineStep/)){if(!this.isIn2DViewport(w,t,e))continue;_&&!isNaN(_)&&(i=_/2*this.xAxisUnit,this.toRender({p:["drawLine","error",t,e,t+i,e,V,this.margin],t:"Data",h:Z}),this.toRender({p:["drawLine","error",t,e,t-i,e,V,this.margin],t:"Data",h:Z})),H&&!isNaN(H)&&(a=H/2*this.yAxisUnit,this.toRender({p:["drawLine","error",t,e,t,e+a,V,-this.margin],t:"Data",h:Z}),this.toRender({p:["drawLine","error",t,e,t,e-a,V,-this.margin],t:"Data",h:Z})),this.toRender({p:["drawShape",W,t,e,j,j,V,G,U,!1,!1,!1,!1,!1,Y],a:this.getShapeArea(W,t,e,j,j,V,G,U,!1,!1,!1,!1,!1,Y),i:K,b:[s,r,0,0],t:"Data",h:Z}),Q&&(T.hasOwnProperty(Q)||(T[Q]={data:[],color:V}),T[Q].data.push([t,e])),this.drawSelectedLabel([O,D,M],t,e),this.xAxisRugShow&&(this.xAxisRugPosition.match(/top|both/)&&this.toRender({p:["drawLine","line",t,A-this.y,t,A-this.y+this.xAxisRugHeight,V],t:"Data",h:Z}),this.xAxisRugPosition.match(/bottom|both/)&&this.toRender({p:["drawLine","line",t,A-this.xAxisRugHeight,t,A,V],t:"Data",h:Z})),this.yAxisRugShow&&(this.yAxisRugPosition.match(/left|both/)&&this.toRender({p:["drawLine","line",v,e,v+this.yAxisRugHeight,e,V],t:"Data",h:Z}),this.yAxisRugPosition.match(/right|both/)&&this.toRender({p:["drawLine","line",v+this.x-this.yAxisRugHeight,e,v+this.x,e,V],t:"Data",h:Z}))}this.scatterType&&this.scatterType.match(/line|functio/i)&&R<this.varIndices.length-1&&(O=this.varIndices[R+1],X=this.getDataAtPos(O,D,!1,this.xAxisTransform,null!=this.xAxisFloorValue?this.xAxisFloorValue:l,null!=this.xAxisCeilValue?this.xAxisCeilValue:h),z=this.getDataAtPos(O,M,!1,this.yAxisTransform,null!=this.yAxisFloorValue?this.yAxisFloorValue:g,null!=this.yAxisCeilValue?this.yAxisCeilValue:p),i=v+(X-this.xAxisMin)*this.xAxisUnit,a=A-(z-this.yAxisMin)*this.yAxisUnit,"lineStep"==this.scatterType?(this.toRender({p:["drawLine","line",t,e,i,e,V],t:"Data",h:Z}),this.toRender({p:["drawLine","line",i,e,i,a,V],t:"Data",h:Z})):"spline"==this.lineType?(x.push(t),b.push(e)):this.toRender({p:["drawLine","line",t,e,i,a,V],t:"Data",h:Z}))}}if(this.draw2DLoess(v,A,D,M),this.draw2DQuantileRegression(v,A,D,M),this.scatterType&&this.scatterType.match(/line|functio/i)&&"spline"==this.lineType&&(x.push(i),b.push(a),this.toRender({p:["drawLine","spline",x,b,!1,!1,V],t:"Data"}),x=[],b=[]),this.ellipseBy){var tt=!!(this.ellipseBy&&this.data.z&&this.data.z.hasOwnProperty(this.ellipseBy))&&this.meta.data.z[this.ellipseBy];for(var $ in I){var et=this.errorEllipse(I[$][0],I[$][1]),it=(V=tt&&tt.colors?tt.colors[tt.order[$]]:this.colors[S%this.colors.length],v+(et.cx-this.xAxisMin)*this.xAxisUnit),at=A-(et.cy-this.yAxisMin)*this.yAxisUnit,st=2*et.rx*this.xAxisUnit,rt=2*et.ry*this.yAxisUnit;this.toRender({p:["drawShape","oval",it,at,st,rt,!1,V,"open",et.rot],t:"Data"})}}if(this.lineBy&&this.data.z&&this.data.z.hasOwnProperty(this.lineBy))for(var Q in T)for(var nt=1;nt<T[Q].data.length;nt++)this.toRender({p:["drawLine","line",T[Q].data[nt-1][0],T[Q].data[nt-1][1],T[Q].data[nt][0],T[Q].data[nt][1],T[Q].color,2],b:[s,r],t:"Data"})}this.decorations&&this.decorations.marker&&this.drawMarkers(),this.motionBy&&(t=this.left+this.x,e=this.top+this.y+2*this.margin,this.toRender({p:["drawText",this.motionObject.current,t,e,this.motionCurrentFont,this.motionCurrentColor,"right","bottom"],t:"Data"}))}this.toRender({p:["resetClipArea"],t:"Data"})},this.draw2DLoess=function(t,e,i,a){if(this.showLoessFit){if(this.isTransformedData&&this.isTransformedData.match(/exp/))return alert("Loess not shown for exp transformed data"),void(this.showLoessFit=!1);var s,r,n,o,h,l,c,d=this.getAxisDataBySample(i,"x"),p=this.getAxisDataBySample(a,"y"),g=1==this.fitLineTransparency?this.fitLineColor:this.addColorTransparency(this.fitLineColor,this.fitLineTransparency);if(!(d.length>5))return alert("Loess not shown for data sets that have less than 5 x,y pair values."),void(this.showLoessFit=!1);try{c=this.loess([d,p],[i,a])}catch(t){return alert("Loess not available for dataset!"),void(this.showLoessFit=!1)}if(c){var u=(0-this.xAxisMin)*this.xAxisUnit,m=(0-this.yAxisMin)*this.yAxisUnit,f=[[],[]],y=[[],[]];d=c.x,p=c.y,l=c.confidence;for(var x=0;x<d.length-0;x++)s=t+(d[x]-this.xAxisMin)*this.xAxisUnit,n=e-(p[x]-this.yAxisMin)*this.yAxisUnit,r=t+(d[x+1]-this.xAxisMin)*this.xAxisUnit,o=e-(p[x+1]-this.yAxisMin)*this.yAxisUnit,f[0].push(s),f[1].push(n),h=l[x]*this.yAxisUnit,y[0].push([s,s]),y[1].push([n+h,n-h]),s==r&&n==o||(x0=s,y0=n);if(this.showConfidenceIntervals){var b=this.addColorTransparency(this.confidenceIntervalColor,.3,!0);this.toRender({p:["drawShape","confidence",y[0],y[1],!1,!1,b,b,"closed"],a:this.getShapeArea("confidence",y[0],y[1],!1,!1,b,b,"closed"),i:["LoessConf-"+x,c.summary],t:"Decorations"})}this.toRender({p:["drawLine","spline",f[0],f[1],!1,!1,g,this.fitLineWidth],a:this.getLineArea("spline",f[0],f[1],!1,!1,g,this.fitLineWidth),i:["Loess-"+x,c.summary],b:[u,m],t:"Decorations"})}}},this.draw2DQuantileRegression=function(t,e,i,a){if(this.showQuantileRegressionFit){var s,r=this.getAxisDataBySample(i,"x"),n=this.getAxisDataBySample(a,"y");if(!(r.length>5))return alert("Quantile Regression not shown for data sets that have less than 5 x,y pair values."),void(this.showQuantileRegressionFit=!1);try{s=this.setRqfnb(r,n,this.quantiles)}catch(t){return alert("Quantile Regression not available for dataset!"),void(this.showQuantileRegressionFit=!1)}if(!this.isObject(s))return alert("Quantile Regression not available for dataset!"),void(this.showQuantileRegressionFit=!1);for(var o=(0-this.xAxisMin)*this.xAxisUnit,h=(0-this.yAxisMin)*this.yAxisUnit,l=1==this.fitLineTransparency?this.fitLineColor:this.addColorTransparency(this.fitLineColor,this.fitLineTransparency),c=this.range(r),d=c[0],p=c[c.length-1],g=0;g<s.length;g++){var u=s[g].slope,m=s[g].intercept,f="<b>Quantile: </b> "+s[g].tau+"<br><b>Slope: </b>"+this.formatNumber(u,4)+"<br><b>Intercept: </b>"+this.formatNumber(m,4),y=t+d*this.xAxisUnit-this.xAxisMin*this.xAxisUnit,x=e-(u*d+m)*this.yAxisUnit+this.yAxisMin*this.yAxisUnit,b=t+p*this.xAxisUnit-this.xAxisMin*this.xAxisUnit,v=e-(u*p+m)*this.yAxisUnit+this.yAxisMin*this.yAxisUnit;this.toRender({p:["drawLine",this.fitLineStyle,y,x,b,v,l,this.fitLineWidth],a:this.getLineArea(this.fitLineStyle,y,x,b,v,l,this.fitLineWidth),i:["QuantileRegression:"+g,f],b:[o,h],t:"Decorations"})}}},this.draw2DBin=function(t,e,i,a){var s=this.meta.data.b,r=this.getAxisDataBySample(i,"x"),n=this.getAxisDataBySample(a,"y"),o=this.hist2d(r,n,!0),h=o.x*this.xAxisUnit*("hexagon"==this.binplotShape?2:1),l=o.y*this.yAxisUnit*("hexagon"==this.binplotShape?2:1);for(var c in this.layoutValid?s.l[this.layoutCurrent]=o:(s.g=o,s.c=o.brew),o.data){var d="<b>"+c+"</b><br>"+o.data[c].idx.length,p=t+(o.data[c].x-this.xAxisMin)*this.xAxisUnit,g=e-(o.data[c].y-this.yAxisMin)*this.yAxisUnit,u=this.layoutValid?this.getColorForValue(s.c,o.data[c].idx.length):o.data[c].color;this.toRender({p:["drawShape",this.binplotShape,p,g,h,l,u,this.foreground],a:this.getShapeArea(this.binplotShape,p,g,h,l,u,this.foreground),i:["Bin2d:"+c,d],b:[p,g],t:"Data"})}},this.draw2DQQPlot=function(t,e){for(var i,a,s,r,n,o,h,l=this.layoutValid&&!this.isDOE?this.meta.data.p.l[this.layoutCurrent]:this.meta.data.p.g,c=0;c<l.length;c++){i=l[c].data,a=l[c].color,s=l[c].id,r=Number(i.l.slope),n=Number(i.l.intercept),o=.5*this.dataPointSize,h="y ~ "+this.formatNumber(r)+"x + "+this.formatNumber(n);for(var d=0;d<i.x.length;d++){var p=t+i.x[d]*this.xAxisUnit-this.xAxisMin*this.xAxisUnit,g=e-i.y[d]*this.yAxisUnit+this.yAxisMin*this.yAxisUnit;this.toRender({p:["drawShape","circle",p,g,o,o,!1,a,"open"],a:this.getShapeArea("circle",p,g,o,o,!1,a,"open"),i:["QQ-"+c+"-"+d],t:"Decorations",h:this.isHidden(!1,!1,s)})}g=r*(p=i.x[0])+n;var u=i.x[i.x.length-1],m=r*u+n;p=t+p*this.xAxisUnit-this.xAxisMin*this.xAxisUnit,g=e-g*this.yAxisUnit+this.yAxisMin*this.yAxisUnit,u=t+u*this.xAxisUnit-this.xAxisMin*this.xAxisUnit,m=e-m*this.yAxisUnit+this.yAxisMin*this.yAxisUnit,this.toRender({p:["drawLine","line",p,g,u,m,a,2],a:this.getLineArea("line",p,g,u,m,a,2),i:[h+":QQ-Line"+c],t:"Decorations",h:this.isHidden(!1,!1,s)})}},this.draw2DCDFPlot=function(t,e){for(var i,a,s,r,n=this.layoutValid?this.meta.data.p.l[this.layoutCurrent]:this.meta.data.p.g,o=0;o<n.length;o++){i=n[o].data,a=n[o].color,s=n[o].id,r=.5*this.dataPointSize;for(var h=0;h<i.x.length;h++){var l=t+i.x[h]*this.xAxisUnit-this.xAxisMin*this.xAxisUnit,c=e-i.y[h]*this.yAxisUnit+this.yAxisMin*this.yAxisUnit;this.toRender({p:["drawShape","circle",l,c,r,r,!1,a,"open"],a:this.getShapeArea("circle",l,c,r,r,!1,a,"open"),i:["CDF-"+o+"-"+h],t:"Decorations",h:this.isHidden(!1,!1,s)})}}},this.draw2DKMPlot=function(t,e){var i,a,s,r,n,o,h,l,c,d,p,g,u,m,f,y,x,b=this.layoutValid?this.meta.data.p.l[this.layoutCurrent]:this.meta.data.p.g;this.layoutValid&&!b&&(b=this.isDOE&&this.colorBy?this.meta.data.p.g:[this.meta.data.p.g[this.layoutCurrent]]);for(var v=0;v<b.length;v++){var A=[[],[]],w=[[],[]],C=[[],[]];u=b[v].color,m=this.addColorTransparency(u,.3,!0),f=b[v].data,y=b[v].id,i=t,a=e-this.yAxisUnit+this.yAxisMin*this.yAxisUnit,s=t+Number(f.time[0])*this.xAxisUnit-this.xAxisMin*this.xAxisUnit,r=e-f.kaplanMeier[1]*this.yAxisUnit+this.yAxisMin*this.yAxisUnit,o=e-f.upperLimit[0]*this.yAxisUnit+this.yAxisMin*this.yAxisUnit,l=e-f.lowerLimit[0]*this.yAxisUnit+this.yAxisMin*this.yAxisUnit,c=i,d=a,p=r-this.margin,g=r+this.margin,x=this.toRender({p:["drawLine","line",i,a,s,a,u],a:this.getLineArea("line",i,a,s,a,u),i:["Decor-KM-h-0-"+v],b:[c,d,c,d],t:"Decorations",h:this.isHidden(!1,!1,y)}),this.toRender({p:["drawShape","circle",s,r,1,1,u],a:this.getShapeArea("circle",s,r,1,1,u),i:["Decor-KM-x-0-"+v],g:x,b:[c,d],t:"Decorations",h:this.isHidden(!1,!1,y)}),this.toRender({p:["drawLine","line",s,a,s,r,u],a:this.getLineArea("line",s,a,s,r,u),i:["Decor-KM-v-0-"+v],g:x,b:[c,d,c,d],t:"Decorations",h:this.isHidden(!1,!1,y)}),f.nCensored[0]&&this.toRender({p:["drawLine","line",s,p,s,g,u,2],a:this.getLineArea("line",s,p,s,g,u,2),i:["Decor-KM-c-0-"+v],g:x,b:[c,d,c,d],t:"Decorations",h:this.isHidden(!1,!1,y)}),A[0].push(i,s),A[1].push(o,o),w[0].push(i,s),w[1].push(l,l);for(var T=1;T<f.time.length-1;T++)i=t+Number(f.time[T-1])*this.xAxisUnit-this.xAxisMin*this.xAxisUnit,a=e-f.kaplanMeier[T]*this.yAxisUnit+this.yAxisMin*this.yAxisUnit,n=e-f.upperLimit[T]*this.yAxisUnit+this.yAxisMin*this.yAxisUnit,h=e-f.lowerLimit[T]*this.yAxisUnit+this.yAxisMin*this.yAxisUnit,s=t+Number(f.time[T])*this.xAxisUnit-this.xAxisMin*this.xAxisUnit,r=e-f.kaplanMeier[T+1]*this.yAxisUnit+this.yAxisMin*this.yAxisUnit,o=e-f.upperLimit[T+1]*this.yAxisUnit+this.yAxisMin*this.yAxisUnit,l=e-f.lowerLimit[T+1]*this.yAxisUnit+this.yAxisMin*this.yAxisUnit,p=r-this.margin,g=r+this.margin,this.toRender({p:["drawLine","line",i,a,s,a,u],a:this.getLineArea("line",i,a,s,a,u),i:["Decor-KM-h-"+T+"-"+v],g:x,b:[c,d,c,d],t:"Decorations",h:this.isHidden(!1,!1,y)}),this.toRender({p:["drawShape","circle",s,r,1,1,u],a:this.getShapeArea("circle",s,r,1,1,u),i:["Decor-KM-x-"+T+"-"+v],g:x,b:[c,d],t:"Decorations",h:this.isHidden(!1,!1,y)}),this.toRender({p:["drawLine","line",s,a,s,r,u],a:this.getLineArea("line",s,a,s,r,u),i:["Decor-KM-v-"+T+"-"+v],g:x,b:[c,d,c,d],t:"Decorations",h:this.isHidden(!1,!1,y)}),f.nCensored[T]&&this.toRender({p:["drawLine","line",s,p,s,g,u,2],a:this.getLineArea("line",s,p,s,g,u,2),i:["Decor-KM-c-"+T+"-"+v],g:x,b:[c,d,c,d],t:"Decorations",h:this.isHidden(!1,!1,y)}),A[0].push(i,s,s),A[1].push(n,n,o),w[0].push(i,s,s),w[1].push(h,h,l);i=s,s=t+Number(f.time[T])*this.xAxisUnit-this.xAxisMin*this.xAxisUnit,this.toRender({p:["drawLine","line",i,r,s,r,u],a:this.getLineArea("line",i,r,s,r,u),i:["Decor-KM-h-"+T+"-"+v],g:x,b:[c,d,c,d],t:"Decorations",h:this.isHidden(!1,!1,y)}),A[0].push(s,s),A[1].push(o,o),w[0].push(s,s),w[1].push(l,l),this.showConfidenceIntervals&&(C[0]=A[0].concat(w[0].reverse()),C[1]=A[1].concat(w[1].reverse()),this.toRender({p:["drawShape","polygon",C[0],C[1],!1,!1,m,m,"closed"],a:this.getShapeArea("polygon",C[0],C[1],!1,!1,m,m,"closed"),i:["Decor-KM-Conf"+v],t:"Decorations",h:this.isHidden(!1,!1,y)}))}},this.draw2DContour=function(){if(!this.isSkipContour()){this.toRender({p:["setClipArea",this.setClipBoundaries()],t:"Data"});var t=this.marginLeft+this.offsetX+this.left,e=this.marginTop+this.offsetY+this.top+this.y,i=this.getSetContour();if(i&&i.length)for(var a=0;a<i.length;a++){var s=i[a];if(this.contourFilled&&s&&s.data&&s.data.filled&&s.data.filled.length&&"normal"==this.contourType)for(var r=s.data.filled,n=0;n<r.length;n++)for(var o=null,h=s.data.colorBrew,l="density"==this.contourStat?r[n].value:"ndensity"==this.contourStat?r[n].value/s.data.range[1]:r[n].value*s.data.n,c=this.contourFilledTransparency<1?this.addColorTransparency(this.getColorForValue(h,l),this.contourFilledTransparency):this.getColorForValue(h,l),d=0;d<r[n].coordinates.length;d++)for(var p=0;p<r[n].coordinates[d].length;p++){for(var g=[],u=[],m=0;m<r[n].coordinates[d][p].length;m++){var f=this.xAxisTransform?this.transformValue(this.xAxisTransform,r[n].coordinates[d][p][m][0]):r[n].coordinates[d][p][m][0],y=this.yAxisTransform?this.transformValue(this.yAxisTransform,r[n].coordinates[d][p][m][1]):r[n].coordinates[d][p][m][1];g.push(t+(f-this.xAxisMin)*this.xAxisUnit),u.push(e-(y-this.yAxisMin)*this.yAxisUnit)}var x=[n,d,p].join("-"),b=this.toRender({p:["drawShape","spline"==this.lineType?"spline":"path",g,u,!1,!1,c,c,"close"],a:this.getShapeArea("spline"==this.lineType?"spline":"path",g,u,!1,!1,c,c,"close"),g:o,i:["Contour:"+x,[s.name,r[n].value]],t:"Data"});null==o&&(o=b)}else if(s&&s.data&&s.data.kde2d&&("raster"==this.contourType||"point"==this.contourType)){r=s.data.kde2d,h=s.data.colorBrew;var v=(r.x[1]-r.x[0])*this.xAxisUnit*("raster"==this.contourType?1.1:1),A=(r.y[1]-r.y[0])*this.yAxisUnit*("raster"==this.contourType?1.1:1),w=Math.min(v,A);for(n=0;n<r.x.length;n++)for(f=t+((this.xAxisTransform?this.transformValue(this.xAxisTransform,r.x[n]):r.x[n])-this.xAxisMin)*this.xAxisUnit,d=0;d<r.y.length;d++){y=e-((this.yAxisTransform?this.transformValue(this.yAxisTransform,r.y[d]):r.y[d])-this.yAxisMin)*this.yAxisUnit,l="density"==this.contourStat?r.z[n+d*r.x.length]:"ndensity"==this.contourStat?r.z[n+d*r.x.length]/s.data.range[1]:r.z[n+d*r.x.length]*s.data.n,c="point"==this.contourType?this.foreground:this.contourFilledTransparency<1?this.addColorTransparency(this.getColorForValue(h,l),this.contourFilledTransparency):this.getColorForValue(h,l);var C=Math.max(2,Math.ceil(l*w/h.rmax));x=n+d*r.x.length;"point"==this.contourType?this.toRender({p:["drawShape","circle",f,y,C,C,c,c],a:this.getShapeArea("circle",f,y,C,C,c,c),i:["Contour:"+x,[this.formatNumber(r.x[n],2),this.formatNumber(r.y[d],2),this.formatNumber(l,2)]],t:"Data"}):this.toRender({p:["drawShape","rectangle",f,y,v,A,c,c],a:this.getShapeArea("rectangle",f,y,v,A,c,c),i:["Contour:"+x,[this.formatNumber(r.x[n],2),this.formatNumber(r.y[d],2),this.formatNumber(l,2)]],t:"Data"})}}if(s&&s.data&&s.data.lines&&s.data.lines.length&&(this.showContourBands||this.showContourLevel))for(r=s.data.lines,n=0;n<r.length;n++)for(o=null,c=!0===this.isContour?this.contourBandsColor:this.meta.data.z[this.isContour].colors[this.meta.data.z[this.isContour].order[s.name]],d=0;d<r[n].coordinates.length;d++)for(p=0;p<r[n].coordinates[d].length;p++){for(g=[],u=[],m=0;m<r[n].coordinates[d][p].length;m++){f=this.xAxisTransform?this.transformValue(this.xAxisTransform,r[n].coordinates[d][p][m][0]):r[n].coordinates[d][p][m][0],y=this.yAxisTransform?this.transformValue(this.yAxisTransform,r[n].coordinates[d][p][m][1]):r[n].coordinates[d][p][m][1];g.push(t+(f-this.xAxisMin)*this.xAxisUnit),u.push(e-(y-this.yAxisMin)*this.yAxisUnit)}x=[n,d,p,0].join("-");if(this.showContourBands){b=this.toRender({p:["drawShape","spline"==this.lineType?"spline":"path",g,u,!1,!1,!1,c,"open"],a:this.getShapeArea("spline"==this.lineType?"spline":"path",g,u,!1,!1,!1,c,"open"),g:o,i:["Contour:"+x,[s.name,r[n].value]],t:"Data"});null==o&&(o=b)}if(this.showContourLevel)for(var T=[.1,.2,.3,.4,.5,.6,.7,.8,.9],S=!1,D=0;!S&&D<18;){g[m=parseInt(g.length*T[Math.round(this.randomBetween(0,9))])]>t&&g[m]<t+this.x&&u[m]>e-this.y&&u[m]<e&&(this.toRender({p:["drawText",r[n].value,g[m],u[m],this.legendFont],t:"Data"}),S=!0),D++}}}this.toRender({p:["resetClipArea"],t:"Data"})}},this.drawFishData=function(){var t=this.setClipBoundaries();this.toRender({p:["setClipArea",t],t:"Data"});for(var e=this.createFish(),i=this.marginLeft+this.offsetX+this.left,a=this.marginTop+this.offsetY+this.top+this.y,s=(this.fishTimepoints[this.fishTimepoints.length-1]-this.fishTimepoints[0])/5,r=0;r<this.data.y.vars.length;r++){var n="polygon"==this.fishShape?"violin":"fish",o=a-((e.ytop[r][0]+e.ybtm[r][0])/2-this.yAxisMin)*this.yAxisUnit,h=i+(e.xpos[r][0]-(0==r?s:e.nestLevel[r]<=1?.3*s:.1*s)-this.xAxisMin)*this.xAxisUnit,l=i+((e.xpos[r][0]-(0==r?s:e.nestLevel[r]<=1?.3*s:.1*s))/2-this.xAxisMin)*this.xAxisUnit,c=[h],d=[o],p=[o];"polygon"==this.fishShape&&(c.push(l),d.push(a-(e.ytop[r][0]-this.yAxisMin)*this.yAxisUnit),p.push(a-(e.ybtm[r][0]-this.yAxisMin)*this.yAxisUnit));for(var g=0;g<e.xpos[r].length;g++)c.push(i+(e.xpos[r][g]-this.xAxisMin)*this.xAxisUnit),d.push(a-(e.ytop[r][g]-this.yAxisMin)*this.yAxisUnit),p.push(a-(e.ybtm[r][g]-this.yAxisMin)*this.yAxisUnit);var u=this.isHidden(r),m=this.toRender({p:["drawShape",n,[c,c],[d,p],!1,!1,this.colors[r],this.colors[r]],a:this.getShapeArea(n,[c,c],[d,p],!1,!1,this.colors[r],this.colors[r]),i:["fish-"+r],b:[h,o],t:"Data",h:u});this.fishCloneLabels.length&&this.fishCloneLabels[r]&&""!=this.fishCloneLabels[r]&&this.toRender({p:["drawText",this.fishCloneLabels[r],h,o,this.varLabelFont,this.varLabelFontColor,"left","bottom",this.varLabelRotate],a:this.getTextArea(this.fishCloneLabels[r],h,o,this.varLabelFont,this.varLabelFontColor,"left","bottom",this.varLabelRotate),i:["fish-Label-"+r],g:m,t:"Labels",h:u})}this.toRender({p:["resetClipArea"],t:"Data"})},this.setHistogram=function(t){var e=t+"AxisHistogram",i=this.meta.data.d[t],a="count"==this.histogramStat?this.max(i.cols):i.density[0].globalMaxY;this[e]=i,this[e].min=i.global.breaks[0],this[e].size=i.global.size,this[e].len=i.density.length,this[e].axis=this[this.axisAlgorithm](0,a,4,this.axisWilkinsonLoose),this[e].axisMin=this[e].axis[0],this[e].axisMax=this[e].axis[this[e].axis.length-1],this[e].cntx=[]},this.set2DDensityData=function(){this.setCacheColors(),this.isCreateHistogram.colors=[];var t={n:[],m:[]},e=!(!this.data.y.global||!this.data.y.global.count)&&[];if(e)for(var i=0;i<this.data.y.global.count.length;i++)e[i]=0;if(this.layoutValid&&this.data.l&&this.data.l.axes){if(!this.data.l.axes[this.layoutCurrent])return;var a=this.getSampleIndices(this.data.l.axes[this.layoutCurrent].yAxis);for(i=0;i<a.length;i++)t.n.push([this.isCreateHistogram.smpIndices[a[i]-1]]),t.m.push([this.isCreateHistogram.n[a[i]-1]])}else if("filled"==this.densityPosition)for(i=this.isCreateHistogram.smpIndices.length-1;i>=0;i--)t.n.push([this.isCreateHistogram.smpIndices[i]]),t.m.push([this.isCreateHistogram.n[i]]);else for(i=0;i<this.isCreateHistogram.smpIndices.length;i++)t.n.push([this.isCreateHistogram.smpIndices[i]]),t.m.push([this.isCreateHistogram.n[i]]);var s=this.isCreateHistogram.smpIndices.length;for(i=0;i<t.n.length;i++)for(var r=0;r<t.n[i].length;r++)this.draw2DDensityData(t.n[i][r],this.isCreateHistogram.level[s-1],e,t.n.length,i,this.isCreateHistogram.subLevel[s-1]),s--},this.draw2DDensityData=function(t,e,i,a,s,r){this.histogramBarWidth=this.isCreateHistogram.size*this.xAxisUnit-3;var n=this,o=this.marginLeft+this.offsetX+this.left,h=this.marginTop+this.offsetY+this.top+this.y+this.yAxisMin*this.yAxisUnit,l=this.data,c=!!l.y.density&&function(e){if(n.scatterPlotMatrix){var i=[];if(3==e.y.density.length)for(var a=0;a<e.y.density.length;a++)i.push(n.meta.data.d.z[e.y.density[t][0]][e.y.density[t][1]][e.y.density[t][2]]);else i=[n.meta.data.d.s[e.y.density[t]]];return i}return e.y.density}(l),d=this.get2DColor(this.meta.data,this.ridgeBy&&!this.colorBy?r:t),p=this.darkenLightenColor(d,50),g=l.y.cols[t],u=this.histogramType.match(/staggered|stacked/)?Math.floor(this.histogramBarWidth):Math.floor(this.histogramBarWidth/(this.ridgeBy&&this.isCreateHistogram?1:a)),m=this.isCreateHistogram.min,f=this.isCreateHistogram.rmin,y=[];if(c&&c[t]&&this.histogramAsDotplot){u=this.histogramBarWidth;if(this.colorBy)for(var x=this.meta.data.z[this.colorBy],b=0;b<this.data.y.histogram.length;b++){y[b]=[];for(var v=0;v<this.data.y.histogram[b].length;v++){y[b][v]=[];for(var A=[],w=0;w<this.data.y.histogram[b][v].length;w++){var C=this.data.y.histogram[b][v][w],T=this.dataStndBy.z[this.colorBy][C];A.push(x.order[T])}A.sort((function(t,e){return t-e}));for(w=0;w<A.length;w++)y[b][v].push(x.colors[A[w]])}}for(b=0;b<this.varIndices.length;b++){v=this.varIndices[b];var S=this.getDataAtPos(v,0)-this.xAxisMin+(f-m),D=this.getDataAtPos(v,t+1),M=Math.floor(o+S*this.xAxisUnit+u*s-this.histogramBarWidth),k=this.getFillColor(d,[v,t+1,0]),L=this.getOutlineColor(d,[v,t+1,0]);for(C=0;C<D;C++){var I=[v,t+1,C],B=this.isHidden(!1,I[1]),N="down"==this.histogramStackDir?0:"center"==this.histogramStackDir?.5*D*u*this.histogramStackRatio:Math.floor(.5*D)*u*this.histogramStackRatio-.5*u+(D>1?0:u),F=h-C*u*this.histogramStackRatio+N;this.colorBy?this.useOpenShapes?(L=y[b][0][C],this.toRender({p:["drawShape","circle",M+u/2,F-u/2,u,u,!1,L,"open"],a:this.getShapeArea("circle",M+u/2,F-u/4,u/2,u/2,!1,L,"open"),i:I,b:[M+u/2,h,u],t:"Data",h:B})):(k=y[b][0][C],this.toRender({p:["drawShape","circle",M+u/2,F-u/2,u,u,k,L],a:this.getShapeArea("circle",M+u/2,F-u/4,u/2,u/2,k,L),i:I,b:[M+u/2,h,u],t:"Data",h:B})):this.toRender({p:["drawShape","circle",M+u/2,F-u/2,u,u,k,L],a:this.getShapeArea("circle",M+u/2,F-u/4,u/2,u/2,k,L),i:I,b:[M+u/2,h,u],t:"Data",h:B})}}}else if(c&&c[t]&&(this.showHistogramDensity||this.showHistogramMedian||!this.hideHistogram||this.showHistogramPath||this.xAxisRugShow||this.showHistogramDataPoints||this.showHistogramQuantiles)){var P=this.yAxisUnit;if(this.ridgeBy&&this.isCreateHistogram){var R=this.ridgelineScale-1,O=Math.max(this.data.y.maxLevel,this.ridgelineScale),X=this.y/(this.ridgelineScale>1?O+R:O+.1);P/=(this.ridgelineScale>1?O+R+.16:O+.16)/this.ridgelineScale,h-=X*(this.layoutValid&&!this.isDOE?this.data.l.axes.length-1-this.layoutCurrent:e)}if(this.showHistogramDensity||this.showHistogramDataPoints||this.showHistogramQuantiles){for(var z="normal"!=this.densityPosition&&"count"==this.histogramStat?c[t].position.factor*("stacked"==this.densityPosition?1:c[t].position.max):"count"==this.histogramStat?g/c[t].maxY:1,E=[],_=[],H=(C="stacked"==this.densityPosition?c[t].stacked:"filled"==this.densityPosition?c[t].filled:c[t].xy,0);H<C.length;H++){S=C[H][0],D=this.ridgeBy&&this.isCreateHistogram?Math.max(0,C[H][1]*z):C[H][1]*z;E.push(o+(S-this.xAxisMin-m)*this.xAxisUnit),_.push(h-D*P)}I=this.scatterPlotMatrix&&!0!==this.scatterPlotMatrix&&this.scatterPlotMatrix.match(/\w/)?["Density:"+c[t].name+":"+(t+1),"Property:"+this.scatterPlotMatrix+":"+this.data.y.smps[t+1]+":z"]:["Density:"+c[t].name+":"+(t+1)],B=this.ridgeBy?this.isHidden(!1,!1,"Series:0:"+r):this.scatterPlotMatrix&&!0!==this.scatterPlotMatrix&&this.scatterPlotMatrix.match(/\w/)?this.isHidden(!1,!1,I[1]):this.isHidden(I[0]);if(this.showFilledHistogramDensity)if(this.ridgeBy&&this.isCreateHistogram&&"data"==this.colorBy){var V=this.mean(E),G=this.getLinearGradient(o-V,0,o+this.x-V,0);this.toRender({p:["drawShape","spline",E,_,!1,!1,G],a:this.getShapeArea("spline",E,_,!1,!1,G),i:I,t:"Data",h:B})}else this.toRender({p:["drawShape","spline",E,_,!1,!1,this.addColorTransparency(p,this.histogramDensityFillTransparency,!0),p],a:this.getShapeArea("spline",E,_,!1,!1,this.addColorTransparency(p,this.histogramDensityFillTransparency,!0),p),i:I,t:"Data",h:B||this.isHidden(!1,t+1)});else this.showHistogramDensity&&this.toRender({p:["drawLine","spline",E,_,!1,!1,p,2,!1,!1,!1,!0],a:this.getLineArea("spline",E,_,!1,!1,p,2,!1,!1,!1,!0),i:I,t:"Data",h:B||this.isHidden(!1,t+1)});if(this.showHistogramDataPoints){var q=this.data.y.values,j=h;for(b=0;b<q.length;b++)for(v=0;v<q[b][t].length;v++){M=o+((S=q[b][t][v]-this.xAxisMin)-m)*this.xAxisUnit;for(var U=0;U<E.length;U++){F=_[U];if(E[U]>M){F=this.randomBetween(j,F);var Y=this.ridgeBy&&this.isCreateHistogram&&"data"==this.colorBy;this.toRender({p:["drawShape","sphere",M,F,u/4,u/4,!Y&&p,this.foreground,Y?"open":"closed"],t:"Decorations"});break}}}}if(this.showHistogramQuantiles){q=this.data.y.values;var W=[];for(b=0;b<q.length;b++)for(v=0;v<q[b][t].length;v++)W.push(q[b][t][v]);j=h;var $=o+(c[t].quantilesX[1]-this.xAxisMin-m)*this.xAxisUnit,Q=o+(c[t].quantilesX[2]-this.xAxisMin-m)*this.xAxisUnit,Z=o+(c[t].quantilesX[3]-this.xAxisMin-m)*this.xAxisUnit;for(U=0;U<E.length;U++){F=_[U];if(E[U]>$){this.toRender({p:["drawLine","line",$,j,$,F,p,2],t:"Decorations"});break}}for(U=0;U<E.length;U++){F=_[U];if(E[U]>Q){this.toRender({p:["drawLine","line",Q,j,Q,F,p,2],t:"Decorations"});break}}for(U=0;U<E.length;U++){F=_[U];if(E[U]>Z){this.toRender({p:["drawLine","line",Z,j,Z,F,p,2],t:"Decorations"});break}}}}if(!this.hideHistogram||this.showHistogramPath){z="density"==this.histogramStat?c[t].maxY/g:1;var K=[[o-this.xAxisMin*this.xAxisUnit],[h]];for(b=0;b<this.varIndices.length;b++){v=this.varIndices[b],S=this.getDataAtPos(v,0)-this.xAxisMin+(f-m),D=this.getDataAtPos(v,t+1)*z,M=Math.floor(o+S*this.xAxisUnit+(this.histogramType.match(/staggered|stacked/)?0:this.ridgeBy&&this.isCreateHistogram?u-this.histogramBarWidth:u*s)-this.histogramBarWidth);var J="stacked"==this.histogramType&&i?i[v]:0,tt=h-((F=h-(D*P+J))+J);k=this.getFillColor(d,[v,t+1,0]),L=this.getOutlineColor(d,[v,t+1,0]),I=this.scatterPlotMatrix&&!0!==this.scatterPlotMatrix&&this.scatterPlotMatrix.match(/\w/)?[v,t+1,0,"Property:"+this.scatterPlotMatrix+":"+this.data.y.smps[t+1]+":z"]:[v,t+1,0],B=this.scatterPlotMatrix&&!0!==this.scatterPlotMatrix&&this.scatterPlotMatrix.match(/\w/)?this.isHidden(!1,!1,I[3]):this.isHidden(!1,I[1]);this.hideHistogram||D>0&&tt>.5&&(this.toRender({p:["drawShape","rectangle",M+u/2,F+tt/2,u,tt,k,L],a:this.getShapeArea("rectangle",M+u/2,F+tt/2,u,tt,k,L),i:I,b:[M+u/2,h,u,0],t:"Data",h:B}),this.drawSelectedLabel([v,t+1],M,F)),K[0].push(M+u/2),K[1].push(h-(tt+J)),i&&(i[v]+=D*P)}if(this.showHistogramPath){I=this.scatterPlotMatrix&&!0!==this.scatterPlotMatrix&&this.scatterPlotMatrix.match(/\w/)?["Path:"+c[t].name+":"+(t+1),"Property:"+this.scatterPlotMatrix+":"+this.data.y.smps[t+1]+":z"]:["Path:"+c[t].name+":"+(t+1)],B=this.ridgeBy?this.isHidden(!1,!1,"Series:0:"+r):this.scatterPlotMatrix&&!0!==this.scatterPlotMatrix&&this.scatterPlotMatrix.match(/\w/)?this.isHidden(!1,!1,I[1]):this.isHidden(I[0]);this.toRender({p:["drawShape","path",K[0],K[1],!1,!1,p,p,"open",!1,2],a:this.getShapeArea("path",K[0],K[1],!1,!1,p,p,"open",!1,2),i:I,t:"Data",h:B||this.isHidden(!1,t+1)})}}if(this.showHistogramMedian){z="count"==this.histogramStat?g/c[t].maxY:1,S=o+(c[t].median[0]-this.xAxisMin-m)*this.xAxisUnit,D=c[t].maxY*z,tt=h;var et=h+this.fontSize-(D-this.yAxisMin)*P,it=h-this.y;this.toRender({p:["drawLine",this.histogramMedianLineStyle,S,tt,S,it,p,2,!1],a:this.getLineArea(this.histogramMedianLineStyle,S,tt,S,it,p,2,!1),i:["DensityMedian:"+c[t].name+":"+(t+1)],t:"Decorations",h:this.isHidden(!1,t+1)}),this.toRender({p:["drawText",this.formatNumber(c[t].median[0],this.xAxisDecs),S,et,!1,this.foreground],a:this.getTextArea(this.formatNumber(c[t].median[0],this.xAxisDecs),S,et,!1,this.foreground),i:["DensityMedianValue:"+c[t].name+":"+(t+1)],t:"Decorations",h:this.isHidden(!1,t+1)})}if(this.xAxisRugShow&&!this.isDOE){V={},q=this.data.y.values;var at=this.xAxisUnit/10;for(b=0;b<q.length;b++)for(C=0;C<q[b][t].length;C++){E=(S=q[b][t][C]-this.xAxisMin).toFixed(1).toString();V.hasOwnProperty(E)||(V[E]=0),V[E]++;M=o+(S-this.isCreateHistogram.min)*this.xAxisUnit;V[E]>1&&(M=this.randomBetween(M-at,M+at));F=h-this.yAxisMin*P;this.xAxisRugPosition.match(/top|both/)&&this.toRender({p:["drawLine","line",M,F-this.y,M,F-this.y+this.xAxisRugHeight,d],t:"Decorations",h:this.isHidden(!1,t+1)}),this.xAxisRugPosition.match(/bottom|both/)&&this.toRender({p:["drawLine","line",M,F-this.xAxisRugHeight,M,F,d],t:"Decorations",h:this.isHidden(!1,t+1)})}}}},this.set2DHistograms=function(){if(!this.layoutComb&&(this.xAxisHistogramShow||this.yAxisHistogramShow)&&!this.isCreateHistogram&&!this.isValidQQ()&&!this.isValidCDF()){this.xAxisHistogramShow&&this.setHistogram("x"),this.yAxisHistogramShow&&this.setHistogram("y");for(var t="XYZ"==this.axesType?1:Math.max(this.xAxisIndices.length,this.yAxisIndices.length),e=0;e<t;e++){var i="Y"==this.axesType||"XYZ"==this.axesType?this.xAxisIndices[this.xAxisCurrent]:this.xAxisIndices[e],a="X"==this.axesType||"XYZ"==this.axesType?this.yAxisIndices[this.yAxisCurrent]:this.yAxisIndices[e];this.xAxisHistogramShow&&this.xAxisHistogram.cntx.push([i,a]),this.yAxisHistogramShow&&this.yAxisHistogram.cntx.push([i,a])}}},this.draw2DHistogramsWireFrame=function(){var t,e,i=["x","y"];this.toRender({p:["disableGradientTransparencyShadow"],t:"Axes"});for(var a=0;a<i.length;a++)if(this[i[a]+"AxisHistogramShow"]){var s="x"==i[a]?this.marginLeft+this.offsetX+this.left:this.marginLeft+this.offsetX+this.left+this.x+2*this.margin,r="x"==i[a]?this.marginTop+this.offsetY+this.top-2*this.margin:this.marginTop+this.offsetY+this.top+this.y,n="x"==i[a]?[s,r-this.xAxisHistogramHeight,this.x,this.xAxisHistogramHeight]:[s,r-this.y,this.yAxisHistogramHeight,this.y];if("image"==this.backgroundType||"windowImage"==this.backgroundType)this.drawImage(CanvasXpress.cacheImages[this.getFileName(this.backgroundImage)],n[0],n[1],n[2],n[3]);else if("solid"==this.backgroundType);else if("window"==this.backgroundType||"windowSolidGradient"==this.backgroundType)this.toRender({p:["drawShape","rectangle",n[0]+n[2]/2,n[1]+n[3]/2,n[2],n[3],this.backgroundWindow,this.backgroundWindow],t:"Axes"});else{var o=this.getLinearGradient(n[0],n[1],n[2],n[3]);this.toRender({p:["drawShape","rectangle",n[0]+n[2]/2,n[1]+n[3]/2,n[2],n[3],o,this.foreground],t:"Axes"})}if("x"==i[a]){this.xAxisHistogram.axisUnit=this.xAxisHistogramHeight/(this.xAxisHistogram.axisMax-this.xAxisHistogram.axisMin);for(var h=0;h<this.xAxisHistogram.axis.length;h++)e=r-this.xAxisHistogram.axis[h]*this.xAxisHistogram.axisUnit,this.toRender({p:["drawLine","line",s,e,s+this.x+this.margin,e,this.xAxisTickColor,!1,"butt"],t:"Axes"}),this.toRender({p:["drawText",this.xAxisHistogram.axis[h],s+this.x+this.margin+1,e,this.axisTickFont,this.axisTickColor,"left","middle"],t:"Axes"});this.set2DWireFrameX(r-this.xAxisHistogramHeight,r,!0)}else{this.yAxisHistogram.axisUnit=this.yAxisHistogramHeight/(this.yAxisHistogram.axisMax-this.yAxisHistogram.axisMin);for(h=0;h<this.yAxisHistogram.axis.length;h++)t=s+this.yAxisHistogram.axis[h]*this.yAxisHistogram.axisUnit,this.toRender({p:["drawLine","line",t,r-this.y,t,r+this.margin,this.xAxisTickColor,!1,"butt"],t:"Axes"}),this.toRender({p:["drawText",this.yAxisHistogram.axis[h],t,r+this.margin+1,this.axisTickFont,this.axisTickColor,"left","middle",Math.PI/2],t:"Axes"});this.set2DWireFrameY(s,s+this.xAxisHistogramHeight,!0)}this.plotBox&&this.toRender({p:["drawShape","rectangle",n[0]+n[2]/2,n[1]+n[3]/2,n[2],n[3],!1,this.plotBoxColor,"open"],t:"Axes"})}this.toRender({p:["enableGradientTransparencyShadow"],t:"Axes"})},this.draw2DHistogramsData=function(){for(var t,e,i=["x","y"],a=0;a<i.length;a++)if(this[i[a]+"AxisHistogramShow"]){var s="x"==i[a]?this.xAxisHistogram:this.yAxisHistogram,r="x"==i[a]?this.marginLeft+this.offsetX+this.left:this.marginLeft+this.offsetX+this.left+this.x+2*this.margin,n="x"==i[a]?this.marginTop+this.offsetY+this.top-2*this.margin:this.marginTop+this.offsetY+this.top+this.y,o="x"==i[a]?Math.floor(s.size*this.xAxisUnit):Math.floor(s.size*this.yAxisUnit),h=this.histogramType.match(/staggered|stacked/)?Math.floor(o):Math.floor(o/s.len),l="x"==i[a]?[r,n-this.xAxisHistogramHeight,this.x+1,this.xAxisHistogramHeight+1]:[r,n-this.y,this.yAxisHistogramHeight+1,this.y+1],c=this[i[a]+"AxisIndices"];if(this.toRender({p:["setClipArea",l],t:"Decorations"}),this.showHistogramDensity)for(var d=0;d<c.length;d++){for(var p=s.density[d],g="count"==this.histogramStat?s.cols[d]/p.maxY:1,u=this.addColorTransparency(this.colors[d%this.colors.length],.3,!0),m="x"==i[a]?this.xAxisHistogram.axisUnit:this.yAxisHistogram.axisUnit,f=[],y=[],x=0;x<p.xy.length;x++){var b=p.xy[x][0],v=p.xy[x][1]*g;"x"==i[a]?(f.push(r+(b-this.xAxisMin)*this.xAxisUnit),y.push(n-v*m)):(f.push(r+v*m),y.push(n-(b-this.yAxisMin)*this.yAxisUnit))}this.showFilledHistogramDensity?this.toRender({p:["drawShape","spline",f,y,!1,!1,this.addColorTransparency(u,this.histogramDensityFillTransparency,!0),u],a:this.getShapeArea("spline",f,y,!1,!1,this.addColorTransparency(u,this.histogramDensityFillTransparency,!0),u),i:["Density:"+i[a].toUpperCase()+":"+c[d]],t:"Decorations"}):this.toRender({p:["drawLine","spline",f,y,!1,!1,u,2,!1,!1,!1,!0],a:this.getLineArea("spline",f,y,!1,!1,u,2,!1,!1,!1,!0),i:["Density:"+i[a].toUpperCase()+":"+c[d]],t:"Decorations"})}if(!this.hideHistogram)for(d=0;d<s.vars.length;d++){if("staggered"==this.histogramType){var A=[],w=[];for(x=0;x<s.len;x++)A.push(s.data[d][x+1]),w.push(x);w.sort((function(t,e){return A[e]-A[t]}))}for(x=0;x<s.len;x++){var C="staggered"==this.histogramType?w[x]:x,T="x"==i[a]?[i[a]+"AxisHistogram-"+d+"-"+(C+1)+"-"+x,"DensityHistogram:X:"+C]:[i[a]+"AxisHistogram-"+d+"-"+(C+1)+"-"+x,"DensityHistogram:Y:"+C],S=this.getFillColor(this.colors[C%this.colors.length],T),D=this.getOutlineColor(S,T),M=this.getPropertyValue(x,!1,"patternBy"),k=(g="density"==this.histogramStat?s.density[C].maxY/s.cols[C]:1,b=s.data[d][0],v=s.data[d][C+1]*g,this[i[a]+"AxisMin"]-s.min);v&&("x"==i[a]?(t="staggered"==this.histogramType?Math.floor(r+(b-k)*this.xAxisUnit-o):Math.floor(r+(b-k)*this.xAxisUnit+h*C-o),e=v*this.xAxisHistogram.axisUnit,this.toRender({p:["drawShape","rectangle",t+(h-2.5)/2,n-e/2,h-2.5,e,S,D,M],a:this.getShapeArea("rectangle",t+(h-2.5)/2,n-e/2,h-2.5,e,S,D,M),i:T,t:"Decorations"})):(t=v*this.yAxisHistogram.axisUnit,e="staggered"==this.histogramType?Math.floor(n-(b-k)*this.yAxisUnit):Math.floor(n-(b-k)*this.yAxisUnit+h*C),this.toRender({p:["drawShape","rectangle",r+t/2,e+(h-2.5)/2,t,h-2.5,S,D,M],a:this.getShapeArea("rectangle",r+t/2,e+(h-2.5)/2,t,h-2.5,S,D,M),i:T,t:"Decorations"})))}}if(this.showHistogramMedian)for(d=0;d<c.length;d++){p=s.density[d],g="count"==this.histogramStat?s.cols[d]/p.maxY:1,u=this.addColorTransparency(this.colors[d%this.colors.length],.7,!0),m="x"==i[a]?this.xAxisHistogram.axisUnit:this.yAxisHistogram.axisUnit;if("x"==i[a]){b=r+(p.median[0]-this.xAxisMin)*this.xAxisUnit;var L=n,I=n-p.maxY*m*g,B=n-this.xAxisHistogramHeight;this.toRender({p:["drawLine",this.histogramMedianLineStyle,b,L,b,B,u,2,!1],a:this.getLineArea(this.histogramMedianLineStyle,b,L,b,B,u,2,!1),i:["DensityMedian:X:"+c[d]],t:"Decorations"}),this.toRender({p:["drawText",this.formatNumber(p.median[0],this[i[a]+"AxisDecs"]),b,I],a:this.getTextArea(this.formatNumber(p.median[0],this[i[a]+"AxisDecs"]),b,I),i:["DensityMedianValue:X:"+c[d]],t:"Decorations"})}else{v=n-(p.median[0]-this.yAxisMin)*this.yAxisUnit;var N=r,F=r+p.maxY*m*g,P=r+this.yAxisHistogramHeight;this.toRender({p:["drawLine",this.histogramMedianLineStyle,N,v,P,v,u,2,!1],a:this.getLineArea(this.histogramMedianLineStyle,N,v,P,v,u,2,!1),i:["DensityMedian:Y:"+c[d]],t:"Decorations"}),this.toRender({p:["drawText",this.formatNumber(p.median[0],this[i[a]+"AxisDecs"]),F,v],a:this.getTextArea(this.formatNumber(p.median[0],this[i[a]+"AxisDecs"]),F,v),i:["DensityMedianValue:Y:"+c[d]],t:"Decorations"})}}this.toRender({p:["resetClipArea"],t:"Decorations"})}},this.set2DprivateParams=function(){this.set2DFont()},this.resetRidgeBy=function(){this.ridgeBy?(this.hideHistogram=this.hideHistogramRidgeBy,this.showFilledHistogramDensity=this.showFilledHistogramDensityRidgeBy,this.showHistogramDensity=this.showHistogramDensityRidgeBy,this.isCreateHistogramRidge?this.factorRidgeBy||(this.removeHistogram(!0),this.createHistogram(!1,!0)):this.removeHistogram(!0)):(this.hideHistogramRidgeBy=this.hideHistogram,this.showFilledHistogramDensityRidgeBy=this.showFilledHistogramDensity,this.showHistogramDensityRidgeBy=this.showHistogramDensity,this.isCreateHistogram?(this.factorRidgeBy=this.isCreateHistogram.factor,this.isCreateHistogramRidge=!0):this.isCreateHistogramRidge=!1)},this.isValidKaplanMeier=function(){return"km"==this.scatterType},this.isValidQQ=function(){return"qq"==this.scatterType},this.isValidCDF=function(){return"cdf"==this.scatterType},this.checkRidgeEllipse=function(){this.ridgeBy&&this.meta.data.z&&this.meta.data.z[this.ridgeBy]&&"Numeric"==this.meta.data.z[this.ridgeBy].type&&(this.ridgeBy=!1,this.flashInfoSpan(100,100,"Not allowed to ridge by a numeric value",5e3)),this.ellipseBy&&this.meta.data.z&&this.meta.data.z[this.ellipseBy]&&"Numeric"==this.meta.data.z[this.ellipseBy].type&&(this.ellipseBy=!1,this.flashInfoSpan(100,100,"Not allowed to ellipse by a numeric value",5e3))},this.checkHistogram=function(){if(this.histogramData&&!this.isCreateHistogram){var t=this.histogramData;this.histogramData=!1,this.removeCorrelation(!0),this.desegregateVariablesSamples(!0),this.createHistogram(t,!0),this.initializeAxis()}else if(this.ridgeBy&&!this.isCreateHistogram)this.removeCorrelation(!0),this.desegregateVariablesSamples(!0),this.createHistogram(this.ridgeBy,!0),this.initializeAxis();else if(this.ridgeBy&&this.isCreateHistogram&&this.isCreateHistogram.factor!=this.ridgeBy){var e=this.ridgeBy;this.removeHistogram(!0,["ridgeBy"]),this.ridgeBy=e,this.checkHistogram()}else if(this.isCreateHistogram){var i=this.isCreateHistogram.transformed!=this.isTransformedData,a=this.segregateVariablesBy.length&&this.isCreateHistogram.factor!=this.segregateVariablesBy[0],s=this.isCreateHistogram.colorBy!=this.colorBy&&!this.histogramAsDotplot,r=this.isCreateHistogram.isAnnt;if(i||a||s){t=!a&&(s?this.colorBy:this.ridgeBy&&this.isCreateHistogram?this.ridgeBy:i?this.isCreateHistogram.factor:r||!1);var n=this.isTransformedData,o=this.colorBy,h=this.segregateVariablesBy,l=this.segregateSamplesBy,c=this.ridgeBy;this.removeHistogram(!0,["colorBy"]),this.isTransformedData=n,this.colorBy=o,this.segregateVariablesBy=h,this.segregateSamplesBy=l,this.ridgeBy=c,this.createHistogram(t||c,!0),this.initializeAxis()}this.densityPosition.match(/stacked|filled/)&&(this.showHistogramDensity=!0,this.showFilledHistogramDensity=!0,this.hideHistogram=!0,this.showHistogramDataPoints=!1,this.showHistogramQuantiles=!1,this.showHistogramMedian=!1)}},this.checkQQCDF=function(){"qq"==this.scatterType?this.setQQData():"cdf"==this.scatterType&&this.setCDFData()},this.checkContour=function(){this.isContour&&(this.xAxisIndices.length>1||this.yAxisIndices.length>1)&&(this.isContour=!1,alert("Contour not implemented for multiple data series in Scatter plots"))},this.checkScatterMatrix=function(){if(this.scatterPlotMatrix){this.histogramStat="count";var t=!(!this.data.z||!this.data.z.hasOwnProperty(this.scatterPlotMatrix))&&this.scatterPlotMatrix;this.scatterPlotMatrixType.match(/both|upper|lower/)?this.showScatterPlotMatrixLabels=!1:this.scatterPlotMatrixType.match(/correlation|all/)&&(this.showScatterPlotMatrixLabels="correlation"!=this.scatterPlotMatrixType,this.layoutAdjust=this.layoutAdjust||"global",this.data.l.reg||this.createCorrelation(t),this.scatterPlotMatrixType.match(/Histogram|Density|all/)&&this.createHistogram(t))}},this.checkVisium=function(){if("visium"==this.scatterType){var t=this.xAxisRange,e=this.yAxisRange;this.dataPointSize=5*Math.max(this.x,this.y)/Math.max(t,e)*this.dataPointSizeScaleFactor}},this.validate2DPropertyDefaults=function(){this.checkRidgeEllipse(),this.checkHistogram(),this.checkSegregation(),this.checkScatterMatrix(),this.checkQQCDF(),this.checkContour()},this.draw2DHistograms=function(){this.layoutComb||this.isCreateHistogram||this.isValidQQ()||this.isValidCDF()||(this.draw2DHistogramsWireFrame(),this.draw2DHistogramsData())},this.draw2DXYPlot=function(){this.draw2DContour(),this.drawDecorationData(),this.draw2DDataPoints(),this.draw2DHistograms()},this.draw2DPlot=function(){this.xAxis&&this.yAxis&&this.validatePropertyValues(),this.set2DprivateParams(),this.set2DXYDimensions(),this.xAxis&&this.yAxis&&(this.drawPlotWindow(),"Fish"==this.graphType&&this.drawFishData(),this.set2DWireFrame(),this.set2DLayout(),"Fish"!=this.graphType&&(this.set2DHistograms(),this.draw2DXYPlot()),this.drawLegend(),this.drawTitle())},this.initializeScatter2D=function(){this.validate2DPropertyDefaults(),this.layoutValid&&(this.scatterPlotMatrix||this.isDOE||this.segregateVariablesBy.length>0||this.segregateSamplesBy.length>0)?this.drawLayoutCompartments(this.draw2DPlot):(this.scatterPlotMatrix||this.unsetScatterPlotMatrix(),this.draw2DPlot())},t||this.initializeScatter2D()},CanvasXpress.prototype.Scatter3D=function(t){this.set3DText=function(){this.setAxisFont(!1,this.x)},this.set3DXYDimensions=function(){var t=this.width-(this.marginLeft+this.marginRight),e=this.height-(this.marginTop+this.marginBottom);this.showLegend&&(this.setLegends(),!this.legendInside&&this.legendLayout.length>0&&("right"==this.legendPosition&&(t-=this.legendWidth),"bottom"==this.legendPosition&&(e-=this.legendHeight)));var i=Math.min(t,e),a=0;t>e?(a=t-e,this.left=a/2,this.right=a/2,this.top=0,this.bottom=0,this.funcX=a/2,this.funcY=0):(a=e-t,this.left=0,this.right=0,this.top=a/2,this.bottom=a/2,this.funcX=0,this.funcY=a/2),this.x=i,this.y=i},this.draw3DLayout=function(t,e,i,a,s,r,n,o){var h,l,c,d,p,g=this.marginLeft+this.left+this.offsetX,u=this.marginTop+this.top+this.offsetY;if(this.show3DGrid){this.toRender({p:["disableGradientTransparencyShadow"],t:"Axes"});for(var m=0;m<t.length;m++)h=(p=this.get3DTransfrom(t[m],e[m],i[m]))[0]+g,l=p[1]+u,c=(p=this.get3DTransfrom(a[m],s[m],r[m]))[0]+g,d=p[1]+u,"dotted"==o?this.toRender({p:["drawLine","dottedLine",h,l,c,d,n[m],!1,"butt"],t:"Axes"}):this.toRender({p:["drawLine","line",h,l,c,d,n[m],!1,"butt"],t:"Axes"});this.toRender({p:["enableGradientTransparencyShadow"],t:"Axes"})}},this.draw3DBar=function(t,e,i,a,s){for(var r=this.marginLeft+this.left+this.offsetX,n=this.marginTop+this.top+this.offsetY,o=(this.x,this.y,.25*this.dataPointSize*this.dataPointSizeScaleFactor*this.widthFactor/this.xAxisUnit),h=.25*this.dataPointSize*this.dataPointSizeScaleFactor*this.widthFactor/this.zAxisUnit,l=this.yAxisMin<0?0:this.yAxisMin,c=[[[t-o,e,i-h],[t+o,e,i-h],[t+o,l,i-h],[t-o,l,i-h]],[[t+o,e,i-h],[t+o,e,i+h],[t+o,l,i+h],[t+o,l,i-h]],[[t-o,e,i+h],[t+o,e,i+h],[t+o,l,i+h],[t-o,l,i+h]],[[t-o,e,i-h],[t-o,e,i+h],[t-o,l,i+h],[t-o,l,i-h]],[[t-o,e,i-h],[t+o,e,i-h],[t+o,e,i+h],[t-o,e,i+h]]],d=[],p=[],g=[],u=0;u<c.length;u++){d[u]=[];for(var m=0;m<c[u].length;m++){var f=this.xAxisMin<0?0:this.xAxisMin,y=this.yAxisMin<0?0:this.yAxisMin,x=this.zAxisMin<0?0:this.zAxisMin,b=(c[u][m][0]-f)*this.xAxisUnit-this.xAxisOffset,v=this.yAxisOffset-(c[u][m][1]-y)*this.yAxisUnit,A=(c[u][m][2]-x)*this.zAxisUnit-this.zAxisOffset;d[u].push(this.get3DTransfrom(b,v,A))}g.push(u),p.push(this.euclidianDistance([(d[u][0][0]+d[u][2][0])/2,(d[u][0][1]+d[u][2][1])/2,(d[u][0][2]+d[u][2][2])/2],[this.zero3DPoint[0],this.zero3DPoint[1],-this.x]))}g.sort((function(t,e){return p[e]-p[t]}));for(var w=1;w<d.length;w++){u=g[w];var C=w<3?this.darkenLightenColor(a,15*-w):a,T=[],S=[];for(m=0;m<d[u].length;m++)T.push(d[u][m][0]+r),S.push(d[u][m][1]+n);this.toRender({p:["drawShape","polygon",T,S,!1,!1,C,this.getOutlineColor(C),"closed"],a:this.getShapeArea("polygon",T,S,!1,!1,C,this.getOutlineColor(C),"closed"),i:s,t:"Data",h:this.isHidden(s[0])})}},this.set3DXLayout=function(){var t,e,i,a,s,r,n,o,h=[],l=[],c=[],d=[],p=[],g=[],u=[],m=this.lenX/15,f=15*-m+m,y=this.xAxisTitle?this.xAxisTitle:this.is3DPlot&&0==this.xAxis.length?"Samples":this.xAxisIndex?this.data.y.smps[this.xAxisIndex]:this.xAxis[0],x=this.marginLeft+this.left+this.offsetX,b=this.marginTop+this.top+this.offsetY;if(this.show3DGrid){for(i=f,t=0,e=0;i<this.lenX;)(t+1)%3&&("continuous"==this.xAxisType&&(h[e]=i,l[e]=-this.lenY,c[e]=this.lenZ,d[e]=i,p[e]=this.lenY,g[e]=this.lenZ,u.push(this.xAxisTickColor),e++),h[e]=-this.lenX,l[e]=i*this.lenY/this.lenX,c[e]=this.lenZ,d[e]=this.lenX,p[e]=i*this.lenY/this.lenX,g[e]=this.lenZ,u.push(this.xAxisTickColor),e++),i+=m,t++;for(this.draw3DLayout(h,l,c,d,p,g,u,this.xAxisTickStyle),h=[],l=[],c=[],d=[],p=[],g=[],u=[],i=f,t=0,e=0,s=this.xAxisIncr;i<this.lenX;)(t+1)%3||("continuous"==this.xAxisType&&(h[e]=i,l[e]=-this.lenY,c[e]=this.lenZ,d[e]=i,p[e]=this.lenY,g[e]=this.lenZ,u.push(this.foreground),e++),h[e]=-this.lenX,l[e]=i*this.lenY/this.lenX,c[e]=this.lenZ,d[e]=this.lenX,p[e]=i*this.lenY/this.lenX,g[e]=this.lenZ,u.push(this.foreground),n=(a=this.get3DTransfrom(i,this.lenY,-this.lenZ))[0]+x,o=a[1]+b,r=this.xAxisTime?this.dateFormat(new Date(this.xAxisMin+s),this.timeFormat):this.formatAxisValue(this.xAxisMin+s,"xAxis"),s+=this.xAxisIncr,this.xAxisShow&&"continuous"==this.xAxisType&&this.toRender({p:["drawText",r,n,o+5,this.axisTickFont,this.axisTickColor,"right",!1,-Math.PI/2],t:"Axes"}),e++),i+=m,t++;this.draw3DLayout(h,l,c,d,p,g,u,this.xAxisTickStyle)}this.xAxisShow&&!this.is3DPlot&&this.show3DGrid&&this.draw3DAxisTitle(f-2*m,this.lenX+m,this.lenY+4*m,this.lenY+4*m,-this.lenZ-4*m,-this.lenZ-4*m,y,"x"),h=[-this.lenX,-this.lenX,this.lenX,-this.lenX],l=[-this.lenY,-this.lenY,-this.lenY,this.lenY],c=[this.lenZ,this.lenZ,this.lenZ,this.lenZ],d=[-this.lenX,this.lenX,this.lenX,this.lenX],p=[this.lenY,-this.lenY,this.lenY,this.lenY],g=[this.lenZ,this.lenZ,this.lenZ,this.lenZ],u=[this.foreground,this.foreground,this.foreground,this.foreground],this.draw3DLayout(h,l,c,d,p,g,u,this.xAxisTickStyle)},this.set3DYLayout=function(){var t,e,i,a,s,r,n,o,h=[],l=[],c=[],d=[],p=[],g=[],u=[],m=this.lenY/15,f=15*-m+m,y=this.yAxisTitle?this.yAxisTitle:this.is3DPlot&&0==this.yAxis.length?"Value":this.yAxisIndex?this.data.y.smps[this.yAxisIndex]:this.yAxis[0],x=this.marginLeft+this.left+this.offsetX,b=this.marginTop+this.top+this.offsetY;if(this.show3DGrid){for(i=f,t=0,e=0;i<this.lenY;)(t+1)%3&&("continuous"==this.zAxisType&&(h[e]=-this.lenX,l[e]=-this.lenY,c[e]=i*this.lenZ/this.lenY,d[e]=-this.lenX,p[e]=this.lenY,g[e]=i*this.lenZ/this.lenY,u.push(this.yAxisTickColor),e++),h[e]=-this.lenX,l[e]=i,c[e]=-this.lenZ,d[e]=-this.lenX,p[e]=i,g[e]=this.lenZ,u.push(this.yAxisTickColor),e++),i+=m,t++;for(this.draw3DLayout(h,l,c,d,p,g,u,this.yAxisTickStyle),h=[],l=[],c=[],d=[],p=[],g=[],u=[],i=f,t=0,e=0,s=9*this.yAxisIncr;i<this.lenY;)(t+1)%3||("continuous"==this.zAxisType&&(h[e]=-this.lenX,l[e]=-this.lenY,c[e]=i*this.lenZ/this.lenY,d[e]=-this.lenX,p[e]=this.lenY,g[e]=i*this.lenZ/this.lenY,u.push(this.foreground),e++),h[e]=-this.lenX,l[e]=i,c[e]=-this.lenZ,d[e]=-this.lenX,p[e]=i,g[e]=this.lenZ,u.push(this.foreground),n=(a=this.get3DTransfrom(-this.lenX,i,-this.lenZ))[0]+x,o=a[1]+b,r=this.formatAxisValue(this.yAxisMin+s,"yAxis"),s-=this.yAxisIncr,this.yAxisShow&&(this.yRotate>=45&&this.xRotate>=45?this.toRender({p:["drawText",r,n,o+5,this.axisTickFont,this.axisTickColor,"right",!1,-Math.PI/2],t:"Axes2"}):this.toRender({p:["drawText",r,n-5,o,this.axisTickFont,this.axisTickColor,"right"],t:"Axes2"})),e++),i+=m,t++;this.draw3DLayout(h,l,c,d,p,g,u,this.yAxisTickStyle)}this.yAxisShow&&this.show3DGrid&&this.draw3DAxisTitle(-this.lenX-4*m,-this.lenX-4*m,f-2*m,this.lenY+m,-this.lenZ-4*m,-this.lenZ-4*m,y,"y"),h=[-this.lenX,-this.lenX,-this.lenX,-this.lenX],l=[-this.lenY,-this.lenY,-this.lenY,this.lenY],c=[-this.lenZ,this.lenZ,this.lenZ,this.lenZ],d=[-this.lenX,-this.lenX,-this.lenX,-this.lenX],p=[this.lenY,-this.lenY,this.lenY,this.lenY],g=[-this.lenZ,-this.lenZ,this.lenZ,-this.lenZ],u=[this.foreground,this.foreground,this.foreground,this.foreground],this.draw3DLayout(h,l,c,d,p,g,u,this.yAxisTickStyle)},this.set3DZLayout=function(){var t,e,i,a,s,r,n,o,h,l,c,d,p,g,u,m=this,f=[],y=[],x=[],b=[],v=[],A=[],w=[],C=this.zAxisTitle?this.zAxisTitle:this.is3DPlot&&0==this.zAxis.length?"Variables":this.zAxisIndex?this.data.y.smps[this.zAxisIndex]:this.zAxis[0],T=this.marginLeft+this.left+this.offsetX,S=this.marginTop+this.top+this.offsetY,D=function(t){var e=t/m.varLabelInterval;if(parseInt(e)==parseFloat(e)){var a=m.get3DTransfrom(m.lenX,m.lenY,i-l/2),s=a[0]+T,r=a[1]+S,n=0==m.zAxis.length?m.data.y.vars[m.varIndices[t]]:p[t];m.xRotate>=45?m.yRotate>=45?m.toRender({p:["drawText",n,s+5,r,m.axisTickFont,m.axisTickColor,"left"],t:"Axes3"}):m.toRender({p:["drawText",n,s,r+5,m.axisTickFont,m.axisTickColor,"right",!1,-Math.PI/2],t:"Axes3"}):m.toRender({p:["drawText",n,s+5,r,m.axisTickFont,m.axisTickColor,"left"],t:"Axes3"})}},M=function(t,e){var i=t/m.smpLabelInterval;if(parseInt(i)==parseFloat(i)){var a=m.get3DTransfrom(e*m.lenX/m.lenZ-c/2*m.x3DRatio,m.lenY,-m.lenZ),s=a[0]+T,r=a[1]+S,n=0==m.xAxis.length?m.isGroupedData&&"dot"==m.scatterType?m.data.w.smps[m.grpIndices[t]]:m.data.y.smps[m.smpIndices[t]]:d[t];m.toRender({p:["drawText",n,s,r+5,m.axisTickFont,m.axisTickColor,"right",!1,-Math.PI/2],t:"Axes3"})}};if(this.is3DPlot?(this.zAxis.length>0?"continuous"==this.zAxisType?g=15*-(l=this.lenZ/15)+l:(p=this.getVariableLevelsByAnnotation(this.zAxis[0]),l=this.lenZ/(.5*p.length),g=.5*p.length*-l+l):(l=this.lenZ/(.5*this.varIndices.length),g=.5*this.varIndices.length*-l+l),this.xAxis.length>0?"continuous"==this.xAxisType?u=15*-(c=this.lenX/15)+c:(d=this.getVariableLevelsByAnnotation(this.xAxis[0]),c=this.lenX/(.5*d.length),u=.5*d.length*-c+c):this.isGroupedData&&"dot"==this.scatterType?(c=this.lenZ/(.5*this.grpIndices.length),u=.5*this.grpIndices.length*-c+c):(c=this.lenZ/(.5*this.smpIndices.length),u=.5*this.smpIndices.length*-c+c)):(l=this.lenZ/15,c=!1,g=15*-l+l,u=!1),this.show3DGrid){if("continuous"==this.zAxisType){for(f=[],y=[],x=[],b=[],v=[],A=[],w=[],i=g,t=0,e=0;i<this.lenZ;)(t+1)%3&&(f[e]=-this.lenX,y[e]=this.lenY,x[e]=i,b[e]=this.lenX,v[e]=this.lenY,A[e]=i,w.push(this.zAxisTickColor),e++),i+=l,t++;this.draw3DLayout(f,y,x,b,v,A,w,this.zAxisTickStyle)}if("continuous"==this.xAxisType){for(f=[],y=[],x=[],b=[],v=[],A=[],w=[],i=u||g,t=0,e=0;i<this.lenZ;)(t+1)%3&&(f[e]=i*this.lenX/this.lenZ,y[e]=this.lenY,x[e]=-this.lenZ,b[e]=i*this.lenX/this.lenZ,v[e]=this.lenY,A[e]=this.lenZ,w.push(this.zAxisTickColor),e++),i+=c||l,t++;this.draw3DLayout(f,y,x,b,v,A,w,this.zAxisTickStyle)}if("continuous"==this.zAxisType){for(f=[],y=[],x=[],b=[],v=[],A=[],w=[],i=g,t=0,e=0,r=this.zAxisIncr;i<this.lenZ;)(t+1)%3||(f[e]=-this.lenX,y[e]=this.lenY,x[e]=i,b[e]=this.lenX,v[e]=this.lenY,A[e]=i,w.push(this.foreground),e++),i+=l,t++;this.draw3DLayout(f,y,x,b,v,A,w,this.zAxisTickStyle)}if("continuous"==this.xAxisType||"continuous"==this.zAxisType){for(f=[],y=[],x=[],b=[],v=[],A=[],w=[],i="continuous"==this.xAxisType&&u||g,t=0,e=0,r=this.zAxisIncr;i<this.lenZ;)(t+1)%3||(f[e]=i*this.lenX/this.lenZ,y[e]=this.lenY,x[e]=-this.lenZ,b[e]=i*this.lenX/this.lenZ,v[e]=this.lenY,A[e]=this.lenZ,w.push(this.foreground),e++,o=(s=this.get3DTransfrom(this.lenX,this.lenY,i))[0]+T,h=s[1]+S,n=this.zAxisTime?this.dateFormat(new Date(this.zAxisMin+r),this.timeFormat):this.formatAxisValue(this.zAxisMin+r,"zAxis"),r+=this.zAxisIncr,this.zAxisShow&&"continuous"==this.zAxisType&&(this.xRotate>=45?this.yRotate>=45?this.toRender({p:["drawText",n,o+5,h,this.axisTickFont,this.axisTickColor,"left"],t:"Axes3"}):this.toRender({p:["drawText",n,o,h+5,this.axisTickFont,this.axisTickColor,"right",!1,-Math.PI/2],t:"Axes3"}):this.toRender({p:["drawText",n,o+5,h,this.axisTickFont,this.axisTickColor,"left"],t:"Axes3"}))),"continuous"==this.xAxisType?i+=c||l:i+=l,t++;"continuous"==this.xAxisType&&this.draw3DLayout(f,y,x,b,v,A,w,this.zAxisTickStyle)}if("categorical"==this.zAxisType){for(i=g,t=0,e=0;i<this.lenZ;)f[e]=-this.lenX,y[e]=this.lenY,x[e]=i,b[e]=this.lenX,v[e]=this.lenY,A[e]=i,w.push(this.zAxisTickColor),D(t),e++,t++,i+=l;this.draw3DLayout(f,y,x,b,v,A,w,this.zAxisTickStyle),D(t)}if("categorical"==this.xAxisType){for(t=0,a=u;a<this.lenZ;)f[e]=a*this.lenX/this.lenZ,y[e]=this.lenY,x[e]=-this.lenZ,b[e]=a*this.lenX/this.lenZ,v[e]=this.lenY,A[e]=this.lenZ,w.push(this.zAxisTickColor),M(t,a),e++,t++,a+=c;this.draw3DLayout(f,y,x,b,v,A,w,this.zAxisTickStyle),M(t,a)}}this.zAxisShow&&!this.is3DPlot&&this.show3DGrid&&this.draw3DAxisTitle(this.lenX+6*l,this.lenX+6*l,this.lenY+6*l,this.lenY+6*l,g-2*l,this.lenZ+l,C,"z"),f=[-this.lenX,-this.lenX,this.lenX,-this.lenX],y=[this.lenY,this.lenY,this.lenY,this.lenY],x=[-this.lenZ,this.lenZ,-this.lenZ,-this.lenZ],b=[-this.lenX,this.lenX,this.lenX,this.lenX],v=[this.lenY,this.lenY,this.lenY,this.lenY],A=[this.lenZ,this.lenZ,this.lenZ,-this.lenZ],w=[this.foreground,this.foreground,this.foreground,this.foreground],this.draw3DLayout(f,y,x,b,v,A,w,this.zAxisTickStyle)},this.draw3DAxisTitle=function(t,e,i,a,s,r,n,o){var h=this.measureText(n),l=h/2,c=n.split(""),d=(t+e)/2,p=(i+a)/2,g=(s+r)/2,u=this.marginLeft+this.left+this.offsetX,m=this.marginTop+this.top+this.offsetY,f=this.xRotate>=45||this.yRotate>=45?4:0;if((this.xRotate>=45||this.yRotate>=45)&&(l=(h+=4*c.length)/2),"x"==o){d-=l;for(var y=0;y<c.length;y++){var x=this.get3DTransfrom(d,p,g);this.toRender({p:["drawText",c[y],u+x[0],m+x[1],this.axisTitleFont,this.axisTitleColor,"left","top"],t:"AxesTitle"}),d+=this.measureText(c[y])+f}}else if("y"==o){p+=l;for(y=0;y<c.length;y++){x=this.get3DTransfrom(d,p,g);this.toRender({p:["drawText",c[y],u+x[0],m+x[1],this.axisTitleFont,this.axisTitleColor,"left","bottom",-Math.PI/2],t:"AxesTitle"}),p-=this.measureText(c[y])+f}}else if("z"==o){g-=l;for(y=0;y<c.length;y++){x=this.get3DTransfrom(d,p,g);this.toRender({p:["drawText",c[y],u+x[0],m+x[1],this.axisTitleFont,this.axisTitleColor,"left","bottom"],t:"AxesTitle"}),g+=this.measureText(c[y])+f}}},this.set3DLayout=function(t){t&&(this.layoutSet={x:!1,y:!1,z:!1});for(var e=0;e<this.layoutOrder.ord.length;e++){var i=this.layoutOrder.ord[e],a=t&&this.layoutOrder[i],s=!t&&!this.layoutOrder[i],r=t&&this.layoutOrder[i+"1"];this.layoutSet[i]||(a||s||!a&&!s&&r)&&(this["set3D"+i.toUpperCase()+"Layout"](),this.layoutSet[i]=!0)}t||delete this.layoutSet},this.set3DAxes=function(){var t=["x","y","z"];if(this.setMin=null,this.setMax=null,this.is3DPlot){if(0==this.yAxis.length){if(this.xAxisTitle){var e=this.yAxisTitle;this.yAxisTitle=this.xAxisTitle,this.xAxisTitle=e}this.yAxisMin=this.xAxisMin,this.yAxisMax=this.xAxisMax,this.yAxisIncr=this.getAxisIncrements(this.yAxisMin,this.yAxisMax,10,this.yAxisExact),this.yAxisDecs=this.getNumberDecimals(this.yAxisIncr),this.yAxisRange=this.xAxisRange}else{var i=this.smpIndices;this.yAxisIndex=this.getSampleIndices([this.yAxis[0]]),this.setSamplesVisible([this.yAxisIndex]),this.setRangeData(),this.yAxisMin=null!=this.setMinY?this.setMinY:this.minData,this.yAxisMax=null!=this.setMaxY?this.setMaxY:this.maxData,this.yAxisIncr=this.getAxisIncrements(this.yAxisMin,this.yAxisMax,10,this.yAxisExact),this.yAxisDecs=this.getNumberDecimals(this.yAxisIncr),this.yAxisExact||(this.yAxisMin=this.getAxisMin(this.yAxisMin,this.yAxisIncr),this.yAxisMax=this.yAxisMin+10*this.yAxisIncr),this.yAxisRange=this.yAxisMax-this.yAxisMin,this.yAxisUnit=2*this.lenY/this.yAxisRange,this.yAxisOffset=Math.min(this.lenY,(this.yAxisMin+this.yAxisRange/2)*this.yAxisUnit),this.AxisType="continuous",this.setSamplesVisible(i)}if(this.yAxisUnit=2*this.lenY/(10*this.yAxisIncr),this.yAxisOffset=Math.min(this.lenY,(this.yAxisMin+10*this.yAxisIncr/2)*this.yAxisUnit),this.yAxisType="continuous",this.xAxis.length>0){if(this.data.z&&this.data.z.hasOwnProperty(this.xAxis[0])&&!this.isNumeric(this.data.z[this.xAxis[0]])){var a=this.getVariableLevelsByAnnotation(this.xAxis[0]);this.xAxisMin=0,this.xAxisMax=10,this.xAxisIncr=10/a.length,this.xAxisDecs=0,this.xAxisRange=this.xAxisMax-this.xAxisMin,this.xAxisUnit=2*this.lenX/this.xAxisRange,this.xAxisOffset=Math.min(this.lenX,(this.xAxisMin+this.xAxisRange/2)*this.xAxisUnit),this.xAxisType="categorical"}else if(this.getSampleIndices(this.xAxis[0])>=0){i=this.smpIndices;this.xAxisIndex=this.getSampleIndices([this.xAxis[0]]),this.setSamplesVisible([this.xAxisIndex]),this.setRangeData(),this.xAxisMin=null!=this.setMinX?this.setMinX:this.minData,this.xAxisMax=null!=this.setMaxX?this.setMaxX:this.maxData,this.xAxisIncr=this.getAxisIncrements(this.xAxisMin,this.xAxisMax,10,this.xAxisExact),this.xAxisDecs=this.getNumberDecimals(this.xAxisIncr),this.xAxisExact||(this.xAxisMin=this.getAxisMin(this.xAxisMin,this.xAxisIncr),this.xAxisMax=this.xAxisMin+10*this.xAxisIncr),this.xAxisRange=this.xAxisMax-this.xAxisMin,this.xAxisUnit=2*this.lenX/this.xAxisRange,this.xAxisOffset=Math.min(this.lenX,(this.xAxisMin+this.xAxisRange/2)*this.xAxisUnit),this.xAxisType="continuous",this.setSamplesVisible(i)}}else this.xAxisMin=0,this.xAxisMax=10,this.xAxisIncr=this.isGroupedData?10/this.grpIndices.length:10/this.smpIndices.length,this.xAxisDecs=0,this.xAxisRange=this.xAxisMax-this.xAxisMin,this.xAxisUnit=2*this.lenX/this.xAxisRange,this.xAxisOffset=Math.min(this.lenX,(this.xAxisMin+this.xAxisRange/2)*this.xAxisUnit),this.xAxisType="categorical";if(this.zAxis.length>0){if(this.data.z&&this.data.z.hasOwnProperty(this.zAxis[0])&&!this.isNumeric(this.data.z[this.zAxis[0]])){a=this.getVariableLevelsByAnnotation(this.zAxis[0]);this.zAxisMin=0,this.zAxisMax=10,this.zAxisIncr=10/a.length,this.zAxisDecs=0,this.zAxisRange=this.zAxisMax-this.zAxisMin,this.zAxisUnit=2*this.lenZ/this.zAxisRange,this.zAxisOffset=Math.min(this.lenZ,(this.zAxisMin+this.zAxisRange/2)*this.zAxisUnit),this.zAxisType="categorical"}else if(this.getSampleIndices(this.zAxis[0])>=0){i=this.smpIndices;this.zAxisIndex=this.getSampleIndices([this.zAxis[0]]),this.setSamplesVisible([this.zAxisIndex]),this.setRangeData(),this.zAxisMin=null!=this.setMinZ?this.setMinZ:this.minData,this.zAxisMax=null!=this.setMaxZ?this.setMaxZ:this.maxData,this.zAxisIncr=this.getAxisIncrements(this.zAxisMin,this.zAxisMax,10,this.zAxisExact),this.zAxisDecs=this.getNumberDecimals(this.zAxisIncr),this.zAxisExact||(this.zAxisMin=this.getAxisMin(this.zAxisMin,this.zAxisIncr),this.zAxisMax=this.zAxisMin+10*this.zAxisIncr),this.zAxisRange=this.zAxisMax-this.zAxisMin,this.zAxisUnit=2*this.lenZ/this.zAxisRange,this.zAxisOffset=Math.min(this.lenZ,(this.zAxisMin+this.zAxisRange/2)*this.zAxisUnit),this.zAxisType="continuous",this.setSamplesVisible(i)}}else this.zAxisMin=0,this.zAxisMax=10,this.zAxisIncr=10/this.varIndices.length,this.zAxisDecs=0,this.zAxisRange=this.zAxisMax-this.zAxisMin,this.zAxisUnit=2*this.lenZ/this.zAxisRange,this.zAxisOffset=Math.min(this.lenZ,(this.zAxisMin+this.zAxisRange/2)*this.zAxisUnit),this.zAxisType="categorical"}else for(var s=0;s<t.length;s++){i=this.smpIndices;var r=t[s].toUpperCase();this[t[s]+"AxisIndex"]=this.getSampleIndices(this[t[s]+"Axis"])[0],this.setSamplesVisible([this[t[s]+"AxisIndex"]]),this.setRangeData(),this.minData==this.maxData&&(this.maxData+=.5),this[t[s]+"AxisMin"]=null!=this["setMin"+r]?this["setMin"+r]:this.minData,this[t[s]+"AxisMax"]=null!=this["setMax"+r]?this["setMax"+r]:this.maxData,this[t[s]+"AxisIncr"]=this.getAxisIncrements(this[t[s]+"AxisMin"],this[t[s]+"AxisMax"],10,this[t[s]+"AxisExact"]),this[t[s]+"AxisDecs"]=this.getNumberDecimals(this[t[s]+"AxisIncr"]),this[t[s]+"AxisExact"]||(this[t[s]+"AxisMin"]=this.getAxisMin(this[t[s]+"AxisMin"],this[t[s]+"AxisIncr"]),this[t[s]+"AxisMax"]=this[t[s]+"AxisMin"]+10*this[t[s]+"AxisIncr"]),this[t[s]+"AxisRange"]=this[t[s]+"AxisMax"]-this[t[s]+"AxisMin"],this[t[s]+"AxisUnit"]=2*this["len"+r]/this[t[s]+"AxisRange"],this[t[s]+"AxisOffset"]=Math.min(this["len"+r],(this[t[s]+"AxisMin"]+this[t[s]+"AxisRange"]/2)*this[t[s]+"AxisUnit"]),this[t[s]+"AxisType"]="continuous",this[t[s]+"AxisTime"]=this.isGraphTime==t[s],this.setSamplesVisible(i)}this.set3DCenter()},this.set3DCenter=function(){var t=this.xAxisMin<0?0:this.xAxisMin,e=this.yAxisMin<0?0:this.yAxisMin,i=this.zAxisMin<0?0:this.zAxisMin,a=((this.xAxisMin+this.xAxisMax)/2-t)*this.xAxisUnit-this.xAxisOffset,s=this.yAxisOffset-((this.yAxisMin+this.yAxisMax)/2-e)*this.yAxisUnit,r=((this.zAxisMin+this.zAxisMax)/2-i)*this.zAxisUnit-this.zAxisOffset;this.zero3DPoint=this.get3DTransfrom(a,s,r);var n=this.get3DTransfrom((this.xAxisMin-t)*this.xAxisUnit-this.xAxisOffset,s,r),o=this.get3DTransfrom((this.xAxisMax-t)*this.xAxisUnit-this.xAxisOffset,s,r),h=this.get3DTransfrom(a,this.yAxisOffset-(this.yAxisMin-e)*this.yAxisUnit,r),l=this.get3DTransfrom(a,this.yAxisOffset-(this.yAxisMax-e)*this.yAxisUnit,r),c=this.get3DTransfrom(a,s,(this.zAxisMax-i)*this.zAxisUnit-this.zAxisOffset),d=this.get3DTransfrom(a,s,(this.zAxisMin-i)*this.zAxisUnit-this.zAxisOffset),p=this.euclidianDistance([n[0],n[1],n[2]],[this.zero3DPoint[0],this.zero3DPoint[1],-this.x]),g=this.euclidianDistance([o[0],o[1],o[2]],[this.zero3DPoint[0],this.zero3DPoint[1],-this.x]),u=this.euclidianDistance([h[0],h[1],h[2]],[this.zero3DPoint[0],this.zero3DPoint[1],-this.x]),m=this.euclidianDistance([l[0],l[1],l[2]],[this.zero3DPoint[0],this.zero3DPoint[1],-this.x]),f=this.euclidianDistance([c[0],c[1],c[2]],[this.zero3DPoint[0],this.zero3DPoint[1],-this.x]),y=this.euclidianDistance([d[0],d[1],d[2]],[this.zero3DPoint[0],this.zero3DPoint[1],-this.x]),x=this.euclidianDistance([this.zero3DPoint[0],this.zero3DPoint[1],this.zero3DPoint[2]],[this.zero3DPoint[0],this.zero3DPoint[1],-this.x]),b=[Math.min(p,g),Math.min(u,m),Math.min(f,y)],v={0:"x",1:"y",2:"z"},A=[0,1,2];A=A.sort((function(t,e){return b[t]-b[e]}));for(var w=[],C=0;C<A.length;C++)w.push(v[A[C]]);this.layoutOrder={x0:f,x1:y,y0:p,y1:g,z0:u,z1:m,md:x,x:f>=y,y:p>=g,z:u>=m,x1:Math.min(f,y)>x,y1:Math.min(p,g)>x,z1:Math.min(u,m)>x,ord:w}},this.is3DVisibleDataPoint=function(t,e,i){return t>=this.xAxisMin&&t<=this.xAxisMax&&e>=this.yAxisMin&&e<=this.yAxisMax&&i>=this.zAxisMin&&i<=this.zAxisMax},this.draw3DDataPoints=function(){var t=this.marginLeft+this.left+this.offsetX,e=this.marginTop+this.top+this.offsetY,i=(this.xAxisIndex,this.yAxisIndex,this.zAxisIndex,{data:{},ellp:{},sphr:{}}),a=[],s=[],r=[],n=[],o=[],h=[],l=[],c=[];if(this.connectByData={},this.is3DPlot)if(this.xAxis.length>0&&this.yAxis.length>0&&this.zAxis.length>0){var d,p,g,u={},m={},f=this.getSampleIndices(this.yAxis[0]);if(this.data.z&&this.data.z.hasOwnProperty(this.xAxis[0])&&!this.isNumeric(this.data.z[this.xAxis[0]])){d=this.getVariableLevelsByAnnotation(this.xAxis[0]);for(var y=0;y<d.length;y++)u[d[y]]=y;p=!1}else p=this.getSampleIndices(this.xAxis[0]);if(this.data.z&&this.data.z.hasOwnProperty(this.zAxis[0])&&!this.isNumeric(this.data.z[this.zAxis[0]])){d=this.getVariableLevelsByAnnotation(this.zAxis[0]);for(y=0;y<d.length;y++)m[d[y]]=y;g=!1}else g=this.getSampleIndices(this.zAxis[0]);L=0;for(y=0;y<this.varIndices.length;y++){var x=this.varIndices[y],b=!1===p?u[this.data.z[this.xAxis[0]][x]]*this.xAxisIncr+this.xAxisIncr/2:this.getDataAtPos(x,p),v=this.getDataAtPos(x,f),A=!1===g?m[this.data.z[this.zAxis[0]][x]]*this.zAxisIncr+this.zAxisIncr/2:this.getDataAtPos(x,g),w=this.xAxisMin<0?0:this.xAxisMin,C=this.yAxisMin<0?0:this.yAxisMin,T=this.zAxisMin<0?0:this.zAxisMin,S=(b-w)*this.xAxisUnit-this.xAxisOffset,D=this.yAxisOffset-(v-C)*this.yAxisUnit,M=(A-T)*this.zAxisUnit-this.zAxisOffset;l.push(!0),a.push([b,v,A]);var k=this.get3DTransfrom(S,D,M);s.push(k),r.push(k[2]),h.push(this.euclidianDistance([s[L][0],s[L][1],s[L][2]],[this.zero3DPoint[0],this.zero3DPoint[1],-this.x])),c.push([x,f]),o.push(L++)}}else if(this.isGroupedData&&"dot"==this.scatterType){this.isGroupedData=!1;var L=0;for(y=0;y<this.varIndices.length;y++){x=this.varIndices[y];for(var I=0;I<this.grpIndices.length;I++)for(var B=0;B<this.data.w.grps[this.grpIndices[I]].length;B++){var N=this.data.w.grps[this.grpIndices[I]][B];b=I*this.xAxisIncr+this.xAxisIncr/2,v=this.getDataAtPos(x,N),A=y*this.zAxisIncr+this.zAxisIncr/2,w=0,C=this.yAxisMin<0?0:this.yAxisMin,T=0,S=(b-w)*this.xAxisUnit-this.xAxisOffset,D=this.yAxisOffset-(v-C)*this.yAxisUnit,M=(A-T)*this.zAxisUnit-this.zAxisOffset;l.push(!0),a.push([b,v,A]);k=this.get3DTransfrom(S,D,M);s.push(k),r.push(k[2]),h.push(this.euclidianDistance([s[L][0],s[L][1],s[L][2]],[this.zero3DPoint[0],this.zero3DPoint[1],-this.x])),c.push([x,this.grpIndices[I]]),o.push(L++)}}this.isGroupedData=!0}else for(L=0,y=0;y<this.varIndices.length;y++)for(x=this.varIndices[y],I=0;I<this.smpIndices.length;I++){N=this.smpIndices[I],b=I*this.xAxisIncr+this.xAxisIncr/2,v=this.getDataAtPos(x,N),A=y*this.zAxisIncr+this.zAxisIncr/2,w=0,C=this.yAxisMin<0?0:this.yAxisMin,T=0,S=(b-w)*this.xAxisUnit-this.xAxisOffset,D=this.scatterType&&this.scatterType.match(/bar/)?0:this.yAxisOffset-(v-C)*this.yAxisUnit,M=(A-T)*this.zAxisUnit-this.zAxisOffset;l.push(!0),a.push([b,v,A]);k=this.get3DTransfrom(S,D,M);s.push(k),r.push(k[2]),h.push(this.euclidianDistance([s[L][0],s[L][1],s[L][2]],[this.zero3DPoint[0],this.zero3DPoint[1],-this.x])),c.push([x,N]),o.push(L++)}else{for(y=0;y<this.varIndices.length;y++){x=this.varIndices[y],b=this.getDataAtPos(x,this.xAxisIndex),v=this.getDataAtPos(x,this.yAxisIndex),A=this.getDataAtPos(x,this.zAxisIndex),w=this.xAxisMin<0?0:this.xAxisMin,C=this.yAxisMin<0?0:this.yAxisMin,T=this.zAxisMin<0?0:this.zAxisMin,S=(b-w)*this.xAxisUnit-this.xAxisOffset,D=this.scatterType&&this.scatterType.match(/bar/)?0:this.yAxisOffset-(v-C)*this.yAxisUnit,M=(A-T)*this.zAxisUnit-this.zAxisOffset;var F=this.ellipseBy&&this.data.z&&this.data.z.hasOwnProperty(this.ellipseBy)?this.getMetadataValue(x,"z",this.ellipseBy):!(!this.ellipseBy||"variable"!=this.ellipseBy)&&"variable";l.push(this.is3DVisibleDataPoint(b,v,A)),a.push([b,v,A]);k=this.get3DTransfrom(S,D,M);s.push(k),r.push(k[2]),"function"!=this.scatterType&&(o.push(y),h.push(this.euclidianDistance([s[y][0],s[y][1],s[y][2]],[this.zero3DPoint[0],this.zero3DPoint[1],-this.x]))),this.ellipseBy&&F&&(i.data.hasOwnProperty(F)||(i.data[F]=[[],[],[]]),i.data[F][0].push(b),i.data[F][1].push(v),i.data[F][2].push(A))}if(this.ellipseBy){!!(this.ellipseBy&&this.data.z&&this.data.z.hasOwnProperty(this.ellipseBy))&&this.meta.data.z[this.ellipseBy],y=this.varIndices.length;for(var F in i.data){i.ellp[F]=this.errorEllipse(i.data[F][0],i.data[F][1],i.data[F][2]);var P=i.ellp[F];if(P){i.sphr[F]=this.sphere(P.cx,P.cy,P.cz,P.rx[0],P.ry[0],P.rz[0],P.rot[0],P.rot[1],P.rot[2]);for(I=0;I<i.sphr[F].length;I++)S=(i.sphr[F][I][0]-w)*this.xAxisUnit-this.xAxisOffset,D=this.yAxisOffset-(i.sphr[F][I][1]-C)*this.yAxisUnit,M=(i.sphr[F][I][2]-T)*this.zAxisUnit-this.zAxisOffset,k=this.get3DTransfrom(S,D,M),s.push(k),r.push(k[2]),o.push(y+I),h.push(this.euclidianDistance([s[y+I][0],s[y+I][1],s[y+I][2]],[this.zero3DPoint[0],this.zero3DPoint[1],-this.x]));y+=i.sphr[F].length}}}}var R=this.range(r);if(this.showLoessFit)if(this.varIndices.length>18){b=this.getAxisDataBySample(this.xAxisIndex),v=this.getAxisDataBySample(this.yAxisIndex),A=this.getAxisDataBySample(this.zAxisIndex);var O=this.loess([A,v,b],[this.xAxisIndex,this.yAxisIndex,this.zAxisIndex]),X=[];for(w=this.xAxisMin<0?0:this.xAxisMin,C=this.yAxisMin<0?0:this.yAxisMin,T=this.zAxisMin,y=0;y<O.x.length;y++)for(I=0;I<O.y.length;I++){S=(O.x[y]-T)*this.zAxisUnit-this.zAxisOffset,D=this.yAxisOffset-(O.z[y][I]-C)*this.yAxisUnit,M=(O.y[I]-w)*this.xAxisUnit-this.xAxisOffset,k=this.get3DTransfrom(S,D,M);X.push(k)}var z=O.x.length,E=[],_=[],H=[];for(y=1;y<z;y++)for(I=0;I<z-1;I++){var V=y*z+I,G=(y-1)*z+I+1,q=y*z+I+1,j=[X[J=(y-1)*z+I][0]+t,X[V][0]+t,X[q][0]+t,X[G][0]+t],U=[X[J][1]+e,X[V][1]+e,X[q][1]+e,X[G][1]+e],Y=[X[J][2],X[V][2],X[q][2],X[G][2]];E.push(x++),_.push(this.euclidianDistance([this.mean(j),this.mean(U),this.mean(Y)],[this.zero3DPoint[0],this.zero3DPoint[1],-this.x])),H.push([j,U])}E.sort((function(t,e){return _[e]-_[t]}));var W=this.addColorTransparency("black",.1,!0),$=this.addColorTransparency(this.confidenceIntervalColor,.3,!0);for(x=0;x<H.length;x++){(y=E[x])<H.length&&this.toRender({p:["drawShape","polygon",H[y][0],H[y][1],!1,!1,$,W,"closed"],t:"Decorations"})}}else this.showLoessFit=!1,alert("Minimum 18 variables to show Loess Fit");if(this.scatterType&&"function"==this.scatterType){z=Math.sqrt(s.length),x=0;var Q=[],Z=!!this.colorBy&&this.meta.data.y.range[this.colorBy],K=!!this.colorBy&&this.getColorBrew(this.colorSpectrum,Z.min,Z.max,this.colorSpectrumZeroValue,this.colorSpectrumBreaks);for(y=1;y<z;y++)for(I=0;I<z-1;I++){V=y*z+I,G=(y-1)*z+I+1,q=y*z+I+1,j=[s[J=(y-1)*z+I][0]+this.funcX,s[V][0]+this.funcX,s[q][0]+this.funcX,s[G][0]+this.funcX],U=[s[J][1]+this.funcY,s[V][1]+this.funcY,s[q][1]+this.funcY,s[G][1]+this.funcY],Y=[s[J][2],s[V][2],s[q][2],s[G][2]];var J,tt=!!this.colorBy&&this.getColorForValue(K,this.mean([a[J][1],a[V][1],a[q][1],a[G][1]]));o.push(x++),h.push(this.euclidianDistance([this.mean(j),this.mean(U),this.mean(Y)],[this.zero3DPoint[0],this.zero3DPoint[1],-this.x])),Q.push([j,U,tt])}o.sort((function(t,e){return h[e]-h[t]}));for(x=0;x<Q.length;x++){if(l[y=o[x]]){var et=[y,this.xAxisIndex,this.yAxisIndex,this.zAxisIndex];if(this.colorBy)this.toRender({p:["drawShape","polygon",Q[y][0],Q[y][1],!1,!1,Q[y][2],this.outlineColor3D,"closed"],a:this.getShapeArea("polygon",Q[y][0],Q[y][1],!1,!1,Q[y][2],this.outlineColor3D,"closed"),i:et,t:"Data",h:this.isHidden(et[0])});else{var it="rgba(0,0,0,0)"==this.outlineColor3D?this.foreground:this.outlineColor3D;this.toRender({p:["drawShape","polygon",Q[y][0],Q[y][1],!1,!1,!1,it,"open"],a:this.getShapeArea("polygon",Q[y][0],Q[y][1],!1,!1,!1,it,"open"),i:et,t:"Data",h:this.isHidden(et[0])})}}}}else{"Firefox"==CanvasXpress.system.browser?o=this.radixSort(o):o.sort((function(t,e){return h[e]-h[t]}));for(x=0;x<s.length;x++){y=o[x];if(this.ellipseBy&&y>=this.varIndices.length){var at=y+1,st=y+25,rt=(dt=y-this.varIndices.length)%25,nt=parseInt(dt/350),ot=350*nt+175,ht=ot-24,lt=["Property:"+this.ellipseBy+":"+this.meta.data.z[this.ellipseBy].levels[nt]+":z"],ct=this.isHidden(!1,!1,lt[0]);!rt&&y+1<s.length?this.toRender({p:["drawLine","line",t+s[y][0],e+s[y][1],t+s[y+1][0],e+s[y+1][1],this.colors[nt%this.colors.length]],a:this.getLineArea("line",t+s[y][0],e+s[y][1],t+s[y+1][0],e+s[y+1][1],this.colors[nt%this.colors.length]),i:lt,t:"Data",h:ct}):parseInt(dt/25)==parseInt((dt-1)/25)&&parseInt(dt/350)==parseInt((dt+1)/350)&&at<s.length&&(this.toRender({p:["drawLine","line",t+s[y][0],e+s[y][1],t+s[at][0],e+s[at][1],this.colors[nt%this.colors.length]],a:this.getLineArea("line",t+s[y][0],e+s[y][1],t+s[at][0],e+s[at][1],this.colors[nt%this.colors.length]),i:lt,t:"Data",h:ct}),parseInt(dt/350)==parseInt((dt+25)/350)&&st<s.length&&(dt<ht||dt>ot)&&this.toRender({p:["drawLine","line",t+s[y][0],e+s[y][1],t+s[st][0],e+s[st][1],this.colors[nt%this.colors.length]],a:this.getLineArea("line",t+s[y][0],e+s[y][1],t+s[st][0],e+s[st][1],this.colors[nt%this.colors.length]),i:lt,t:"Data",h:ct}))}else{var dt=this.is3DPlot?c[y][0]:y,pt=(et=this.is3DPlot?[c[y][0],c[y][1]]:[this.varIndices[y],this.xAxisIndex,this.yAxisIndex,this.zAxisIndex],this.getFillColor(this.colorBy?this.getPropertyValue(this.varIndices[dt],null,"colorBy"):this.is3DPlot?this.colors[dt%this.colors.length]:this.colors[0],et)),gt=s.length>this.scatterOutlineThreshold?pt:this.scatterType&&this.scatterType.match(/dot/)?this.getOutlineColor(this.foreground,et):this.getOutlineColor(pt,et),ut=this.getPropertyValue(this.varIndices[dt],null,"shapeBy"),mt=this.getPropertyValue(this.varIndices[dt],null,"sizeBy"),ft=(L=this.patternBy?this.getPropertyValue(this.varIndices[dt],null,"patternBy"):this.patterns[0],!(!this.scatterType||!this.scatterType.match(/image/i))&&this.images[y]);if(l[y])if(this.scatterType&&this.scatterType.match(/bar/))this.draw3DBar(a[y][0],a[y][1],a[y][2],pt,et);else if(this.scatterType&&this.scatterType.match(/dot/)){var yt=ft?"image":ut;b=t+s[y][0],v=e+s[y][1],A=Math.floor(this.percentile(R[0],R[1],s[y][2]));this.toRender({p:["drawShape",yt,b,v,mt,mt,pt,gt,L,!1,!1,!1,!1,!1,!1,ft],a:this.getShapeArea(yt,b,v,mt,mt,pt,gt,L,!1,!1,!1,!1,!1,!1,ft),i:et,t:"Data",h:this.isHidden(et[0])}),this.drawSelectedLabel([et[1]],b,v)}else{yt=ft?"image":ut,b=t+s[y][0],v=e+s[y][1],A=Math.floor(this.percentile(R[0],R[1],s[y][2]));this.toRender({p:["drawShape",yt,b,v,mt,mt,pt,gt,L,!1,!1,!1,!1,!1,!1,ft],a:this.getShapeArea(yt,b,v,mt,mt,pt,gt,L,!1,!1,!1,!1,!1,!1,ft),i:et,t:"Data",h:this.isHidden(et[0])}),this.drawSelectedLabel([this.varIndices[y]],b,v),this.scatterType&&this.scatterType.match(/line/)?n[y]=[s[y][0],s[y][1]]:this.connectBy&&(this.connectByData[this.data.z[this.connectBy][y]]||(this.connectByData[this.data.z[this.connectBy][y]]=[]),this.connectByData[this.data.z[this.connectBy][y]].push([s[y][0],s[y][1]]))}}}if(this.scatterType&&this.scatterType.match(/line/)&&n.length>0){for(y=0;y<n.length-1;y++)if(l[y]&&l[y+1]){var xt=t+n[y][0],bt=e+n[y][1],vt=t+n[y+1][0],At=e+n[y+1][1];this.toRender({p:["drawLine","line",xt,bt,vt,At,this.colors[0]],t:"Data"})}}else if(this.connectBy)for(x in this.connectByData)if(this.connectByData[x].length>1)for(y=0;y<this.connectByData[x].length-1;y++){xt=t+this.connectByData[x][y][0],bt=e+this.connectByData[x][y][1],vt=t+this.connectByData[x][y+1][0],At=e+this.connectByData[x][y+1][1];this.toRender({p:["drawLine","line",xt,bt,vt,At,this.connectByColor,this.connectByWidth],t:"Data"})}this.decorations&&this.decorations.marker&&this.drawMarkers()}},this.set3DprivateParams=function(){this.set3DText(),this.set3DParams()},this.draw3DPlot=function(){this.validatePropertyValues(),this.set3DXYDimensions(),this.set3DprivateParams(),this.set3DRotation(),this.set3DAxes(),this.set3DLayout(!0),this.draw3DDataPoints(),this.set3DLayout(),this.drawLegend(),this.drawTitle()},this.initializeScatter3D=function(){this.layoutValid?this.drawLayoutCompartments(this.draw3DPlot):this.draw3DPlot()},t||this.initializeScatter3D()},CanvasXpress.prototype.oneDPlot=function(t){this.get1DLeft=function(t){var e=this.marginLeft+this.offsetX+this.left;return this.isOncoprint&&this.showHeatmapOncoprint&&t&&this.oncoprintHeatmapPosition.match(/right|left/)&&(e+=this.x/2+1*this.margin),e},this.get1DTop=function(t){var e=this.marginTop+this.offsetY+this.top;return this.isOncoprint&&this.showHeatmapOncoprint&&t&&this.oncoprintHeatmapPosition.match(/top|bottom/)&&(e+=this.y/2+1*this.margin),e},this.get1DIndices=function(){return this.isGraphTime?this.timeValueIndices:this.isGroupedData?this.grpIndices:this.smpIndices},this.get1DSamples=function(){return this.isGraphTime?this.timeValues:this.isGroupedData?this.data.w.smps:this.data.y.smps},this.get1DLabels=function(){return this.isGraphTime?this.timeValues:!!this.isGroupedData&&this.data.w.smps},this.get1DCompBlockMax=function(){if("BarLine"==this.graphType||"DotLine"==this.graphType){var t=this.getVariablesVisibleByAxis("xAxis"),e=this.getVariablesVisibleByAxis("xAxis2");return Math.max(t.length,e.length)}return this.graphType.match(/Stacked|Line|Area|ParallelCoordinates|Gantt/)?1:this.plotByVariable?this.get1DIndices().length:this.varIndices.length},this.setVariableBlock=function(){this.variableBlock=this.varIndices.length},this.setRowColBlocks=function(){this.setVariableBlock();var t=this.isGraphTime?this.timeValueIndices.length:this.isGroupedData&&this.grpIndices?this.grpIndices.length:this.smpIndices.length,e=0,i=0;"Meter"==this.graphType?(e=1,i=1):this.isOncoprint&&this.showHeatmapOncoprint?(e=t*(this.oncoprintHeatmapPosition.match(/top|bottom/)?2:1),i=this.varIndices.length*(this.oncoprintHeatmapPosition.match(/right|left/)?2:1)):["Area","AreaLine","Heatmap","Line","ParallelCoordinates","Sankey","Stacked","StackedLine","StackedPercent","StackedPercentLine","Tree"].includes(this.graphType)?(e=t,i="Heatmap"==this.graphType?this.varIndices.length:1):"BarLine"==this.graphType||"DotLine"==this.graphType?(e=Math.max(this.xAxis.length,this.xAxis2.length)*t,i=1):"Treemap"==this.graphType||"TagCloud"==this.graphType?(e=1,i=1):"Gantt"==this.graphType?(e=t,i=1):(e=this.varIndices.length*t,i=1),this.rowBlocks=e,this.colBlocks=i},this.set1DFont=function(){if(this.autoScaleFont){var t=1-this.percentAspectRatioPlotArea,e=this.layoutComb&&this.isDOE?this.layoutWidth*t:this.width*t,i=this.layoutComb&&this.isDOE?this.layoutHeight*t:this.height*t,a="Heatmap"==this.graphType?Math.ceil(this.width/this.colBlocks):this.maxTextSize,s="Heatmap"==this.graphType?Math.ceil(this.height/this.rowBlocks):Math.ceil(this.width/this.colBlocks),r=this.getAxisDescription(),n=this.getAxisDescription(!0);this.setAxisFont(r.length>n.length?r:n,"vertical"==this.graphOrientation?i:e),this.setPropertyFontSize("Heatmap"==this.graphType?i:e,"varTitleFont"),this.setPropertyFontSize("Heatmap"==this.graphType?i:e,"varLabelFont",a),this.setPropertyFontSize("Heatmap"==this.graphType||"vertical"==this.graphOrientation?e:i,"smpTitleFont"),this.setPropertyFontSize("Heatmap"==this.graphType||"vertical"==this.graphOrientation?e:i,"smpLabelFont",s),this.setPropertyFontSize((1-this.percentAspectRatioPlotArea)*("vertical"==this.graphOrientation?this.width:this.height),"overlayFont",this.overlaysThickness),"Tree"==this.graphType&&(this.smpLabelFont=this.smpLabelFontStyle+" "+parseInt(Math.min(this.treeNodeSize+3,this.smpLabelFontSize)*this.smpLabelScaleFontFactor)+"px "+this.fontName)}},this.setOverlays=function(t){var e=this,i={},a=this[t+"Overlays"],s=this[t+"OverlayProperties"],r="smp"==t?this.data.x:this.data.z,n="smp"==t?this.meta.data.x:this.meta.data.z,o="var"==t||"smp"==t&&"vertical"==this.graphOrientation?["Bottom","Top"]:["Left","Right"];this.isDOE||(function(){for(var i=0;i<a.length;i++)"-"!=a[i]&&r.hasOwnProperty(a[i])&&(s[a[i]]||(s[a[i]]={}),s[a[i]].type||(s[a[i]].type=n[a[i]].boolean?"Boolean":"Default"),s[a[i]].color||(s[a[i]].color=e.colors[i]),s[a[i]].spectrum||(s[a[i]].spectrum=e.colorSpectrum),"Numeric"!=n[a[i]].type||e.isSameObject(s[a[i]].spectrum,n[a[i]].colorBrew.spectrum)||(n[a[i]].colorBrew=e.getColorBrew(s[a[i]].spectrum,n[a[i]].rmin,n[a[i]].rmax)),s[a[i]].scheme||(s[a[i]].scheme=e.colorScheme),s[a[i]].hasOwnProperty("showLegend")||(s[a[i]].showLegend=!0),s[a[i]].hasOwnProperty("showName")||(s[a[i]].showName=!0),s[a[i]].hasOwnProperty("showBox")||(s[a[i]].showBox=!0),s[a[i]].hasOwnProperty("rotate")||(s[a[i]].rotate=!1),s[a[i]].scheme!=e.colorScheme&&CanvasXpress.colorSchemes.hasOwnProperty(s[a[i]].scheme)&&e.modifyColorProperties(s[a[i]].scheme,a[i],"smp"==t?"x":"z",!0),s[a[i]].position?"var"==t||"smp"==t&&"vertical"==e.graphOrientation?s[a[i]].position.match(/top|bottom/)||(s[a[i]].position="rigth"==s[a[i]].position?"top":"bottom"):s[a[i]].position.match(/left|right/)||(s[a[i]].position="top"==s[a[i]].position?"right":"left"):"Heatmap"==e.graphType||"horizontal"==e.graphOrientation?s[a[i]].position="smp"==t?"left":"bottom":s[a[i]].position="bottom")}(),function(){for(var i=[],r=[],n={},o=!1,h=!1,l=0;l<a.length;l++)"-"!=a[l]&&(o=a[l],h||(h=a[l])),"-"==a[l]&&o&&(n.hasOwnProperty(o)||(n[o]=[]),n[o].push(a[l]));for(l=0;l<a.length;l++)"-"!=a[l]&&s[a[l]].position.match(/left|bottom/)&&i.push(a[l]);for(l=0;l<a.length;l++)"-"!=a[l]&&s[a[l]].position.match(/right|top/)&&i.push(a[l]);for(l=0;l<i.length;l++)if(o=i[l],r.push(o),n.hasOwnProperty(o))for(var c=0;c<n[o].length;c++)r.push(n[o][c]);if("-"==(o=a.shift()))for(l=0;l<r.length;l++)if(r[l]==h){for(;"-"==o;)r.splice(l,0,o),o=a.shift();break}a=r,e[t+"Overlays"]=r}()),this[t+"OverlaysStrLength"]=0;for(var h=0;h<o.length;h++){var l=o[h].toLowerCase(),c=!1;if(this[t+"OverlaysThickness"+o[h]]=0,this.showOverlays&&a.length>0){if("smp"==t){if("Treemap"==this.graphType||"TagCloud"==this.graphType)continue}else{if("var"!=t)continue;if("Heatmap"!=this.graphType)continue}for(var d=0;d<a.length;d++)if("-"==a[d])d>0&&c==l&&(this[t+"OverlaysThickness"+o[h]]+=this.margin);else if(!i.hasOwnProperty(a[d])&&(c=s[a[d]].position)==l){var p=this.getOverlaysForTypePosition(t,s[a[d]].type,l,a[d]);this[t+"OverlaysThickness"+o[h]]+=s[a[d]].thickness||this.overlaysThickness;for(var g=0;g<p.length;g++)this[t+"OverlaysStrLength"]=Math.max(this[t+"OverlaysStrLength"],this.measureText(this.shortenText(p[g],this.maxOverlayStringLen),this.overlayFont)+this.margin),i[p[g]]=!0}this[t+"OverlaysThickness"+o[h]]>0&&(this[t+"OverlaysThickness"+o[h]]+=this.margin)}}},this.getOverlaysForTypePosition=function(t,e,i,a){for(var s=[],r="smp"==t?this.smpOverlayProperties:this.varOverlayProperties,n="smp"==t?this.smpOverlays:this.varOverlays,o=0;o<n.length;o++){var h=n[o];if("-"!=h&&r.hasOwnProperty(h)){var l=r[h].type,c=r[h].position;if(i.match(/left|bottom/)&&!c.match(/left|bottom/))continue;if(i.match(/top|right/)&&!c.match(/top|right/))continue;if(e.match(/Area|AreaLine/)&&l.match(/Area|AreaLine/))s.push(h);else if(e.match(/Bar|BarLine/)&&l.match(/Bar|BarLine/))s.push(h);else if(e.match(/Dotplot|DotLine/)&&l.match(/Dotplot|DotLine/))s.push(h);else if("Line"==e&&"Line"==l)s.push(h);else{if(e.match(/Heatmap|Default|Text|Boolean/))return[a];"Pie"==e&&"Pie"==l||"Treemap"==e&&"Treemap"==l?s.push(h):("StackedPercent"!=e&&"StackedPercentLine"!=e||"StackedPercent"!=l&&"StackedPercentLine"!=l)&&("Stacked"!=e&&"StackedLine"!=e||"Stacked"!=l&&"StackedLine"!=l)||s.push(h)}}}return s},this.getVariableTitleHeight=function(){return this.varTitle&&"Treemap"!=this.graphType&&"TagCloud"!=this.graphType?this.varTitleFontSize+this.margin:0},this.getVariableLabelLength=function(){if(this.showVariableNames&&"Treemap"!=this.graphType&&"TagCloud"!=this.graphType){if(this.varLabelRotate){if(90==Math.abs(this.varLabelRotate))return this.varLabelFontSize+this.margin;var t=this.measureText(this.shortenText(this.meta.data.y.maxVarStr,this.maxVarStringLen),this.varLabelFont)+this.margin;return Math.cos(this.radians(this.varLabelRotate))*t}return this.isOncoprint&&this.varLabelFontSize<5?0:this.measureText(this.shortenText(this.meta.data.y.maxVarStr,this.maxVarStringLen),this.varLabelFont)+this.margin}return 0},this.getSampleTitleHeight=function(){return this.smpTitle&&"Treemap"!=this.graphType&&"TagCloud"!=this.graphType&&"Sankey"!=this.graphType&&"Tree"!=this.graphType?this.smpTitleFontSize+this.margin:0},this.getSampleLabelLength=function(){var t=this;if(this.showSampleNames&&"Treemap"!=this.graphType&&"TagCloud"!=this.graphType&&"Sankey"!=this.graphType){var e;return this.smpLabelRotate&&90==Math.abs(this.smpLabelRotate)?this.isGroupedData?(e=this.isArray(this.meta.data.w.maxSmpStr)?this.meta.data.w.maxSmpStr.toString()[0].split(" :: ").length:this.meta.data.w.maxSmpStr.toString().split(" :: ").length)*(this.smpLabelFontSize+this.margin):this.smpLabelFontSize+this.margin:(e=(e=this.layoutValid&&!this.layoutAdjust?this.isGroupedData&&this.meta.data.g?this.getMaxText(this.meta.data.g.smps):this.meta.data.y.maxSmpStr:this.isGraphTime?this.getMaxText(this.timeValues):this.isGroupedData?this.meta.data.w.maxSmpStr:this.meta.data.y.maxSmpStr).length>this.maxSmpStringLen?this.measureText(e.substring(0,this.maxSmpStringLen),this.smpLabelFont)+2*this.margin:this.measureText(e,this.smpLabelFont)+2*this.margin,(e=this.smpLabelRotate?e*Math.cos(this.radians(this.smpLabelRotate))*(t.smpLabelScaleFontFactor<=1.5?1:t.smpLabelScaleFontFactor<=2.5?1.2:t.smpLabelScaleFontFactor<=4.5?1.5:1.6):e)+this.margin+(this.smpLabelRotate?this.smpLabelFontSize:0))}return 0},this.getAxisTitleLayoutLength=function(t){var e=t?"xAxis2Title":"xAxisTitle";return this.layoutConfig&&this.layoutConfig[this.layoutCurrent]&&this.layoutConfig[this.layoutCurrent][e]?this.axisTitleFontSize:0},this.getAxisTitleTickLength=function(t,e){if("Treemap"==this.graphType||"TagCloud"==this.graphType||"Sankey"==this.graphType||"Tree"==this.graphType)return 0;if("vertical"==this.graphOrientation){var i,a,s,r;if((this.xAxisTransform&&this.xAxisTransform.match(/log|exp/)||this.isTransformedData&&this.isTransformedData.match(/log|exp/))&&!this.xAxisTransformTicks){for(var n=this.xAxisValues,o=this.xAxis2Values,h=[],l=0;l<n.length;l++){var c=n[l];h.push(this.formatNumber(this.transformValue(this.xAxisTransform||this.isTransformedData,c,!0)))}s=this.getMaxText(h);var d=[];for(l=0;l<o.length;l++){c=o[l];d.push(this.transformValue(this.xAxis2Transform||this.isTransformedData,c,!0))}r=this.getMaxText(d)}else s=this.xAxisMaxStrLength,r=this.xAxis2MaxStrLength;return this.layoutValid&&(this.xAxisLayoutMaxTickStr&&(s=this.xAxisLayoutMaxTickStr),this.xAxis2LayoutMaxTickStrLength&&(r=this.xAxis2LayoutMaxTickStr)),i="ParallelCoordinates"==this.graphType?this.smpLabelRotate?90==this.smpLabelRotate?Math.max(this.parallelCoordinates[0].len,this.parallelCoordinates[0].lenSmp/2):Math.max(this.parallelCoordinates[0].len,this.parallelCoordinates[0].lenSmp*Math.sin(this.radians(this.smpLabelRotate))):this.parallelCoordinates[0].len:("BarLine"==this.graphType||"DotLine"==this.graphType)&&t?this.measureText(r,this.axisTickFont):this.measureText(s,this.axisTickFont),a=t?this.getAxisDescription(!0):this.getAxisDescription(),a=this.layoutValid?this.getAxisTitleLayoutLength(t):""!=a?this.axisTitleFontSize:0,e&&(a=0),t?"ParallelCoordinates"==this.graphType?this.smpLabelRotate&&90==this.smpLabelRotate?this.parallelCoordinates[this.parallelCoordinates.length-1].lenSmp/2:0:this.xAxis2Show?a+i+4*this.margin:0:"ParallelCoordinates"==this.graphType?a+i+this.margin*(this.isDOE?0:4):this.xAxisShow?a+i+4*this.margin:0}return a=t?this.getAxisDescription(!0):this.getAxisDescription(),a=this.layoutValid?this.getAxisTitleLayoutLength(t):""!=a?this.axisTitleFontSize:0,e&&(a=0),t?this.xAxis2Show?a+(this.axisTickFontSize+4*this.margin*("Gantt"==this.graphType?2:1)):0:this.xAxisShow?a+(this.axisTickFontSize+4*this.margin*("Gantt"==this.graphType?2:1)):0},this.getHeatmapIndicatorWidth=function(){if(this.showHeatmapIndicator){var t=this.getDefaultMetaDataObject(),e=this.xAxisTitle?this.measureText(this.xAxisTitle,this.legendFont):0;return"right"==this.heatmapIndicatorPosition?Math.max(e,this.heatmapIndicatorHeight+2*this.margin+t.maxLevLen):Math.max(e,this.heatmapIndicatorWidth+t.maxLevLen)}return 0},this.getHeatmapIndicatorHeight=function(t){if(this.showHeatmapIndicator){var e=2*this.margin+this.getFontPt(this.legendFont),i=this.xAxisTitle?2*this.margin+this.getFontPt(this.legendFont):0;return t&&this.isMultidimensionalData&&"bottom"==this.heatmapIndicatorPosition&&this.legendInside?0:this.heatmapIndicatorHeight+i+e}return 0},this.getLegendHeight=function(t){var e=this.isOncoprint?this.legendOncoprintHeight:0,i=this.showLegend&&this.legendPosition==t&&!this.legendInside,a=(this.showVarOverlaysLegend||this.showSmpOverlaysLegend)&&this.overlaysLegendPosition.match(/bottom/i);return"Heatmap"!=this.graphType||this.isMultidimensionalData||this.isAttributedGraph()?this.isMultidimensionalData||this.isAttributedGraph()&&CanvasXpress.graphTypes.AttGraphs.includes(this.graphType)?(i&&(e+=this.legendHeight),a&&(e+=this.legendOverlaysHeight)):"Treemap"==this.graphType||(i&&(e+=this.legendVariableHeight+this.margin),a&&(e+=this.legendOverlaysHeight)):(i&&(e+=this.legendHeight),a&&(e+=this.legendOverlaysHeight)),e},this.getLegendWidth=function(t){var e=0,i=this.showLegend&&this.legendPosition==t&&!this.legendInside,a=(this.showVarOverlaysLegend||this.showSmpOverlaysLegend)&&this.overlaysLegendPosition.toLowerCase().match(t?t.toLowerCase():"");return"Heatmap"!=this.graphType||this.isMultidimensionalData||this.isAttributedGraph()?this.isMultidimensionalData||this.isAttributedGraph()&&CanvasXpress.graphTypes.AttGraphs.includes(this.graphType)?(i&&(e+=this.legendWidth),a&&(e+=this.legendOverlaysWidth)):"Treemap"==this.graphType||(i&&(e+=this.legendVariableWidth+this.margin),a&&(e+=this.legendOverlaysWidth)):(i&&(e+=this.legendWidth),a&&(e+=this.legendOverlaysWidth)),e},this.getVarTreeHeight=function(){var t=0;return"Heatmap"==this.graphType&&this.showVarDendrogram&&this.varDendrogram&&(t=this.dendrogramHeight+this.margin),t},this.getSmpTreeWidthHeight=function(){var t=0;return this.showSmpDendrogram&&this.smpDendrogram&&!this.isGroupedData&&"Treemap"!=this.graphType&&"TagCloud"!=this.graphType&&(t=this.dendrogramHeight+this.margin),t},this.getOverlaysTickLabelsLength=function(){var t=0;if(this.smpOverlays.length>0&&!this.isDOE){for(var e=this.meta.data.x,i=[],a=0;a<this.smpOverlays.length;a++){var s=this.smpOverlays[a];if("-"!=s){var r=this.smpOverlayProperties[s].position,n=this.smpOverlayProperties[s].type;r.match(/left|right/i)&&!n.match(/text|default|increase|decrease/i)&&(i.push(e[s].min),i.push(e[s].max))}}t=this.measureText(this.getMaxText(i),this.overlayFont)}return t?t+3*this.margin:0},this.getTreeRootLabelLength=function(){return this.measureText(this.hierarchy[0],this.smpLabelFont)},this.set1DXYDimensionsLeft=function(){var t=0;"vertical"==this.graphOrientation?(t=this.getAxisTitleTickLength(!1,this.layoutValid),this.isDOE):(this.smpOverlaysThicknessLeft&&(t+=this.smpOverlaysThicknessLeft),"left"==this.smpTitleLabelPosition&&(t+=this.getSampleTitleHeight()+this.getSampleLabelLength()),"left"==this.smpDendrogramPosition&&(t+=this.getSmpTreeWidthHeight())),t+=this.margin+this.getLegendWidth("left"),this.layoutValid&&this.layoutCollapse&&(t-=this.margin),this.left=Math.max(t,this.getOverlaysTickLabelsLength())},this.set1DXYDimensionsRight=function(){var t=0;"vertical"==this.graphOrientation?(t=this.getAxisTitleTickLength(!0,this.layoutValid),this.isDOE):this.isDOE||(this.smpOverlaysThicknessRight&&(t+=this.smpOverlaysThicknessRight),"Tree"!=this.graphType&&"right"!=this.smpTitleLabelPosition||(t+=this.getSampleTitleHeight()+this.getSampleLabelLength()),"right"==this.smpDendrogramPosition&&(t+=this.getSmpTreeWidthHeight())),this.isDOE||(t+=this.margin+this.getLegendWidth("right")),this.layoutValid&&this.layoutCollapse&&(t-=this.margin),"Heatmap"!=this.graphType||"right"!=this.heatmapIndicatorPosition||this.isDOE||(t+=this.getHeatmapIndicatorWidth()),"Heatmap"==this.graphType&&this.showOverlays&&this.varOverlays.length&&!this.isOncoprint?t=Math.max(t,this.varOverlaysStrLength):"vertical"==this.graphOrientation&&this.smpOverlays.length&&this.showOverlays&&(t=Math.max(t,this.smpOverlaysStrLength)),this.right=t},this.set1DXYDimensionsTop=function(){var t=this.getTitleSubtitleHeight();if(t+=this.margin+this.getLegendHeight("top"),this.isDOE?t+=5*this.margin:this.layoutValid&&"wrap"==this.layoutType&&(t+=this.layoutLabelBoxThickness*(this.segregateVariablesBy.length+this.segregateSamplesBy.length)-this.margin),"vertical"==this.graphOrientation)t+=this.smpOverlaysThicknessTop,"top"!=this.smpDendrogramPosition&&"left"!=this.smpDendrogramPosition||(t+=this.getSmpTreeWidthHeight()),"Tree"==this.graphType&&(t+=this.smpLabelFontSize);else if("Heatmap"==this.graphType){var e=this.layoutValid?this.margin:this.getHeatmapIndicatorHeight(),i=this.varOverlaysThicknessTop;"top"==this.varTitleLabelPosition&&(i+=this.getVariableTitleHeight()+this.getVariableLabelLength()),"top"==this.varDendrogramPosition&&(i+=this.getVarTreeHeight()),this.heatmapIndicatorY=t+i,this.isOncoprint||("right"==this.heatmapIndicatorPosition?t+=i:"top"==this.heatmapIndicatorPosition?t+=i+e:"topLeft"==this.heatmapIndicatorPosition?this.left>this.heatmapIndicatorWidth+6*this.margin?t+=i:(this.heatmapIndicatorY=i+e,t+=i+e):"topRight"==this.heatmapIndicatorPosition&&(this.right>this.heatmapIndicatorWidth+6*this.margin?t+=i:(this.heatmapIndicatorY=i,t+=i+e)))}else t+=this.getAxisTitleTickLength();this.layoutValid&&this.layoutCollapse&&"wrap"!=this.layoutType&&(t-=1*this.margin),this.top=Math.max(t,this.getOverlaysTickLabelsLength())},this.set1DXYDimensionsBottom=function(){var t=0;this.isDOE&&(t+=3*this.margin),"vertical"==this.graphOrientation?(t+=this.getSampleTitleHeight()+this.getSampleLabelLength()+this.smpOverlaysThicknessBottom,"bottom"==this.smpDendrogramPosition&&(t+=this.getSmpTreeWidthHeight())):"Heatmap"==this.graphType?(t+=this.varOverlaysThicknessBottom,"bottom"==this.varTitleLabelPosition&&(t+=this.getVariableLabelLength()+this.getVariableTitleHeight()),"bottom"==this.varDendrogramPosition&&(t+=this.getVarTreeHeight())):t+=this.getAxisTitleTickLength(!0)+this.getLegendHeight("bottom"),t+=this.margin+this.getLegendHeight("bottom"),this.layoutValid&&this.layoutCollapse&&(t-=this.margin),"horizontal"==this.graphOrientation&&this.showOverlays&&this.smpOverlays.length&&(t=Math.max(t,this.smpOverlaysStrLength)),!this.layoutValid&&this.citation&&(t+=this.getCitationHeight()),this.bottom=t},this.adjustLegendFontSize=function(){var t=this.meta.config.orig;!t.legendFontSize&&this.adjustAspectRatio&&(t.legendFontSize=this.legendFontSize),this.legendFontSize>3&&(this.legendFontSize-=2)},this.adjustSmpFontSize=function(){if(this.adjustAspectRatio){var t=this.meta.config.orig;this.smpLabelFontSize=parseInt(.8*this.smpLabelFontSize);var e=Math.min(Math.max(parseInt(this.smpLabelFontSize*this.smpLabelScaleFontFactor),this.minTextSize),this.maxTextSize);this.smpLabelFontSize<this.minTextSize&&("Heatmap"==this.graphType?this.rowBlockSize&&e>this.rowBlockSize&&(t.showSampleNames||(t.showSampleNames=this.showSampleNames,this.showSampleNames=!1)):t.showSampleNames||(t.showSampleNames=this.showSampleNames,this.showSampleNames=!1)),this.smpLabelFont=this.smpLabelFontStyle+" "+e+"px "+this.fontName}},this.adjustVarFontSize=function(){if(this.adjustAspectRatio){var t=this.meta.config.orig;this.varLabelFontSize=parseInt(.8*this.varLabelFontSize),this.varLabelFontSize<this.minTextSize&&(t.showVariableNames||(t.showVariableNames=this.showVariableNames,this.showVariableNames=!1)),this.varLabelFont=this.varLabelFontStyle+" "+Math.min(Math.max(parseInt(this.varLabelFontSize*this.varLabelScaleFontFactor),this.minTextSize),this.maxTextSize)+"px "+this.fontName}},this.adjust1DYDimension=function(){for(var t=this.layoutComb?this.layoutHeight*this.percentAspectRatioPlotArea:this.height*this.percentAspectRatioPlotArea,e=this.meta.config.orig;this.adjustAspectRatioYTries<=this.adjustAspectRatioMax&&this.y<t;)this.adjustLegendFontSize(),this.layoutComb||this.setLegends(),this.adjustVarFontSize(),"Heatmap"!=this.graphType&&this.adjustSmpFontSize(),this.set1DXYDimensionsTop(),this.set1DXYDimensionsBottom(),this.y=this.layoutComb?this.layoutHeight-(this.top+this.bottom):this.height-(this.marginTop+this.top+this.bottom+this.marginBottom),this.adjustAspectRatioYTries==this.adjustAspectRatioMax&&this.y<t&&(!this.showLegend||"top"!=this.legendPosition&&"bottom"!=this.legendPosition||this.legendInside||(e.showLegend=this.showLegend,this.showLegend=!1,this.set1DFont()),this.set1DXYDimensionsTop(),this.set1DXYDimensionsBottom(),this.y=this.layoutComb?this.layoutHeight-(this.top+this.bottom):this.height-(this.marginTop+this.top+this.bottom+this.marginBottom),this.y<t&&this.errors.push("The text size doesn't fit in the graph. Either make it smaller or make the graph bigger!\nYou can also reduce the maximum length for the text string!")),this.adjustAspectRatioYTries++},this.adjust1DXDimension=function(){for(var t=this.layoutComb?this.layoutWidth*this.percentAspectRatioPlotArea:this.width*this.percentAspectRatioPlotArea,e=this.meta.config.orig;this.adjustAspectRatioXTries<=this.adjustAspectRatioMax&&this.x<t;)this.adjustLegendFontSize(),this.layoutComb||this.setLegends(),"Heatmap"!=this.graphType&&this.adjustVarFontSize(),this.adjustSmpFontSize(),this.set1DXYDimensionsLeft(),this.set1DXYDimensionsRight(),this.x=this.layoutComb?this.layoutWidth-(this.left+this.right):this.width-(this.marginLeft+this.left+this.right+this.marginRight),this.adjustAspectRatioXTries==this.adjustAspectRatioMax&&this.x<t&&(!this.showLegend||"right"!=this.legendPosition&&"left"!=this.legendPosition||this.legendInside||(e.showLegend=this.showLegend,this.showLegend=!1,this.set1DFont()),this.set1DXYDimensionsLeft(),this.set1DXYDimensionsRight(),this.x=this.layoutComb?this.layoutWidth-(this.left+this.right):this.width-(this.marginLeft+this.left+this.right+this.marginRight),this.x<t&&this.errors.push("The text size doesn't fit in the graph. Either make it smaller or make the graph bigger!\nYou can also reduce the maximum length for the text string!")),this.adjustAspectRatioXTries++},this.set1DXYDimensions=function(){var t=this.layoutComb?this.layoutWidth*this.percentAspectRatioPlotArea:this.width*this.percentAspectRatioPlotArea,e=this.layoutComb?this.layoutHeight*this.percentAspectRatioPlotArea:this.height*this.percentAspectRatioPlotArea;if(this.isGraphTime&&this.setTimeAxis(),this.layoutComb||this.setLegends(),this.setRowColBlocks(),this.set1DFont(),"Meter"==this.graphType){var i=this.getAxisTitleTickLength()+2*this.margin,a=(this.layoutComb?this.layoutHeight:this.width)-(2*i+this.meterThickness),s="state"==this.meterType?4*this.meterThickness:a;switch(this.top=this.layoutValid?(this.segregateVariablesBy.length+this.segregateSamplesBy.length)*this.layoutLabelBoxThickness+2*this.margin:this.getTitleSubtitleHeight()+2*this.margin,this.bottom=2*this.margin,this.meterType){case"gauge":case"speedometer":this.left=i,this.right=i;break;case"horizontal":this.left=2*this.margin*6,this.right=2*this.margin*6,this.top*=24,this.bottom=this.top;break;case"vertical":this.left=a/2,this.right=a/2,this.top+=2*this.margin*6,this.bottom+=2*this.margin*6;break;case"state":this.left=a/2,this.right=a/2,this.top+=s/4,this.bottom+=s/4;break;case"digital":this.left=2*this.margin,this.right=2*this.margin;break;case"number":this.left=this.margin,this.right=this.margin}this.y=this.layoutComb?this.layoutHeight-(this.top+this.bottom):this.height-(this.marginTop+this.top+this.bottom+this.marginBottom),this.x=this.layoutComb?this.layoutWidth-(this.left+this.right):this.width-(this.marginLeft+this.left+this.right+this.marginRight)}else"vertical"==this.graphOrientation?(this.set1DXYDimensionsTop(),this.set1DXYDimensionsBottom(),this.adjustAspectRatio&&(this.y=this.layoutComb?this.layoutHeight-(this.top+this.bottom):this.height-(this.marginTop+this.top+this.bottom+this.marginBottom),this.y<e&&this.adjust1DYDimension()),this.set1DXYDimensionsLeft(),this.set1DXYDimensionsRight(),this.adjustAspectRatio&&(this.x=this.layoutComb?this.layoutWidth-(this.left+this.right):this.width-(this.marginLeft+this.left+this.right+this.marginRight),this.x<t&&this.adjust1DXDimension())):(this.set1DXYDimensionsLeft(),this.set1DXYDimensionsRight(),this.adjustAspectRatio&&(this.x=this.layoutComb?this.layoutWidth-(this.left+this.right):this.width-(this.marginLeft+this.left+this.right+this.marginRight),this.x<t&&this.adjust1DXDimension()),this.set1DXYDimensionsTop(),this.set1DXYDimensionsBottom(),this.adjustAspectRatio&&(this.y=this.layoutComb?this.layoutHeight-(this.top+this.bottom):this.height-(this.marginTop+this.top+this.bottom+this.marginBottom),this.y<e&&this.adjust1DYDimension()))},this.set1DPrivateParamsManual=function(){var t=this.isGraphTime?this.timeValueIndices.length:this.isGroupedData?this.grpIndices.length:this.smpIndices.length;this.rowBlockSize=("Boxplot"==this.graphType?1:this.widthFactor)*(this.scaleTextToSize(this.rowBlocks)+this.scaleTextConstantAdd),"Heatmap"==this.graphType?(this.colBlocks<20?this.colBlockSize=this.scaleTextToSize(this.colBlocks)+4*this.scaleTextConstantAdd:this.colBlockSize=parseInt(1/Math.sqrt(this.colBlocks)*this.scaleTextConstantMult)+1,this.colBlockSize*="Boxplot"==this.graphType?1:this.widthFactor,this.blockSeparation=this.rowBlockSize/2,this.y=this.rowBlockSize*this.rowBlocks+(this.isOncoprint&&this.showHeatmapOncoprint&&this.oncoprintHeatmapPosition.match(/top|bottom/)?3*this.margin:0),this.x=this.colBlockSize*this.colBlocks+(this.isOncoprint&&this.showHeatmapOncoprint&&this.oncoprintHeatmapPosition.match(/right|left/)?3*this.margin:0)):(this.blockSeparation=this.rowBlockSize*this.sampleSpaceFactor,"vertical"==this.graphOrientation?(this.graphType.match(/Area|ParallelCoordinates/)?this.x=this.rowBlockSize*(this.rowBlocks-1)+this.blockSeparation*(t-1):this.plotByVariable?this.x=this.rowBlockSize*this.rowBlocks+this.blockSeparation*this.variableBlock+this.blockSeparation:this.x=this.rowBlockSize*this.rowBlocks+this.blockSeparation*t+this.blockSeparation,this.y=this.height-(this.marginTop+this.top+this.bottom+this.marginBottom)):(this.graphType.match(/Area|ParallelCoordinates/)?this.y=this.rowBlockSize*(this.rowBlocks-1)+this.blockSeparation*(t-1):this.plotByVariable?this.y=this.rowBlockSize*this.rowBlocks+this.blockSeparation*this.varIndices.length+this.blockSeparation:this.y=this.rowBlockSize*this.rowBlocks+this.blockSeparation*t+this.blockSeparation,this.x=this.width-(this.marginLeft+this.left+this.right+this.marginRight)),this.colBlockSize=1),this.width=this.marginLeft+(this.left+this.x+this.right)*this.layoutCols+this.marginRight,this.height=this.marginTop+(this.top+this.y+this.bottom)*this.layoutRows+this.marginBottom,this.resizeCanvas()},this.set1DPrivateParamsAuto=function(){var t=this.isGraphTime?this.timeValueIndices.length:this.isGroupedData&&this.grpIndices?this.grpIndices.length:this.smpIndices.length;if("Heatmap"==this.graphType){var e=this.margin;this.isOncoprint&&this.showHeatmapOncoprint&&this.oncoprintHeatmapPosition.match(/right|left/)&&(e=6*this.margin);var i=this.margin;this.isOncoprint&&this.showHeatmapOncoprint&&this.oncoprintHeatmapPosition.match(/top|bottom/)&&(i=6*this.margin),this.rowBlockSize=(this.y-i)/this.rowBlocks,this.blockSeparation=this.rowBlockSize,this.colBlockSize=(this.x-e)/this.colBlocks}else{this.graphType.match(/Area|ParallelCoordinates/)?this.rowBlockSize="vertical"==this.graphOrientation?this.x/(this.rowBlocks+t-2):this.y/(this.rowBlocks+t-2):this.plotByVariable?this.rowBlockSize="vertical"==this.graphOrientation?this.x/(this.rowBlocks+this.varIndices.length):this.y/(this.rowBlocks+this.varIndices.length):this.rowBlockSize="vertical"==this.graphOrientation?this.x/(this.rowBlocks+t):this.y/(this.rowBlocks+t);var a="Boxplot"==this.graphType?1:this.widthFactor,s=a+this.sampleSpaceFactor,r=this.graphType.match(/Stacked|Gantt/)?1:this.varIndices.length;a>this.sampleSpaceFactor?(this.blockSeparation=this.rowBlockSize*(this.sampleSpaceFactor/s),this.rowBlockSize*=1+a/(s*r)):this.sampleSpaceFactor>a?(this.blockSeparation=this.rowBlockSize*(1+this.sampleSpaceFactor/s),this.rowBlockSize-=(this.blockSeparation-this.rowBlockSize)/r):this.blockSeparation=this.rowBlockSize,this.colBlockSize=1}},this.set1DPrivateParams=function(){var t=100;this.adjustAspectRatio?this.set1DPrivateParamsAuto():this.set1DPrivateParamsManual(),this.rowBlockSize=Math.max(1,Math.floor(this.rowBlockSize*t))/t,this.colBlockSize=Math.max(1,Math.floor(this.colBlockSize*t))/t,this.blockSeparation=Math.floor(this.blockSeparation*t)/t},this.getTreemapOverlay=function(t,e,i,a,s,r){var n=[];for(var o in t)n.push({area:t[o],index:-1,label:o,color:"Numeric"==e.type?this.getColorForValue(e.colorBrew,t[o]):e.colors[e.order[o]]});return this.processTreemap(n,{width:i,height:a,left:s,top:r})},this.getTreemapVariable=function(t,e){var i,a,s=this,r=function(e,n,o,h){if(e.length>1)if(n+1<s.treemapBy.length){n++,a=s.getSampleLevelsByAnnotation(s.treemapBy[n],e);for(var l=0;l<a.length;l++){i=l;var c=s.getSamplesByAnnotationLevel(s.treemapBy[n],a[i],e),d=r(c,n,o,[]);o+=isNaN(d[1])?0:d[1],h.push({area:o,index:-1,label:a[i],outline:2,children:d[0]})}}else for(l=0;l<e.length;l++){var p=e[l],g=s.getDataAtPos(t,p,"sum",s.xAxisTransform,s.xAxisFloorValue,s.xAxisCeilValue),u=s.data.y.smps[p];o+=g=isNaN(g)?0:g,h.push({area:g,color:s.getPropertyValue(t,p,"colorBy"),pattern:s.getPropertyValue(t,p,"patternBy"),label:u,index:[t,p]})}else{p=e[0],g=s.getDataAtPos(t,p,"sum",s.xAxisTransform,s.xAxisFloorValue,s.xAxisCeilValue);o+=g=isNaN(g)?0:g,h.push({area:g,color:s.getPropertyValue(t,p,"colorBy"),pattern:s.getPropertyValue(t,p,"patternBy"),label:s.data.y.smps[p],index:[t,p]})}return[h,o]},n=[];this.isGroupedData=!1;var o=this.groupingFactors;this.groupingFactors=[];for(var h=this.getSampleLevelsByAnnotation(this.treemapBy[0],e),l=0;l<h.length;l++){0,i=l;var c=s.getSamplesByAnnotationLevel(s.treemapBy[0],h[i],e),d=r(c,0,0,[]);n.push({area:d[1],index:-1,label:s.treemapBy[0]+":"+h[l],children:d[0]})}return this.isGroupedData=!0,this.groupingFactors=o,n},this.getTreemap=function(){var t,e,i=this,a=function(){var a=i.isDOE&&i.layoutCurrent>0,s=[];if(n)for(var r=0;r<i.data.w.grps[e].length;r++){var o=i.data.w.grps[e][r],h=i.getDataAtPos(t,o);s.push({area:isNaN(h)?0:h,label:i.data.y.smps[o],color:i.colorBy&&!a?i.getPropertyValue(t,o,"colorBy"):i.colors[o%i.colors.length],index:[t,o]})}else for(r=0;r<i.smpIndices.length;r++){o=i.smpIndices[r],h=i.getDataAtPos(t,o);s.push({area:isNaN(h)?0:h,label:i.data.y.smps[o],color:i.colorBy&&!a?i.getPropertyValue(t,o,"colorBy"):i.colors[o%i.colors.length],index:[t,o]})}return s},s=[],r=[],n=!!(this.isGroupedData&&this.groupingFactors&&this.groupingFactors.length>0)&&this.groupingFactors;this.isGroupedData=!1;for(var o=0;o<this.varIndices.length;o++)if(t=this.varIndices[o],n)for(var h=0;h<this.data.w.grps.length;h++){for(var l=0,c=0;c<this.data.w.grps[h].length;c++){var d=this.data.w.grps[h][c],p=this.getDataAtPos(t,d);l+=isNaN(p)?0:p}r.push(l)}else{for(l=0,h=0;h<this.smpIndices.length;h++){d=this.smpIndices[o],p=this.getDataAtPos(t,d);l+=isNaN(p)?0:p}r.push(l)}for(o=0;o<this.varIndices.length;o++)if(t=this.varIndices[o],n){var g=0;for(h=0;h<this.data.w.grps.length;h++)e=h,s.push({area:r[g++],title:this.varIndices.length>1?this.data.y.vars[t]+":"+this.data.w.smps[h]:this.data.w.smps[h],index:-1,children:a()})}else s.push({area:r[o],title:this.data.y.vars[t],index:-1,children:a()});return n&&(this.isGroupedData=!0),this.isDOE?this.processTreemap(s,{width:this.x-20,height:this.y-20,left:10,top:10}):this.processTreemap(s,{width:this.x,height:this.y,left:0,top:0})},this.set1DXAxis=function(){if("Sankey"!=this.graphType&&"Tree"!=this.graphType)if("ParallelCoordinates"==this.graphType)for(var t="vertical"==this.graphOrientation?this.y-.5:this.x-.5,e=this.get1DIndices(),i=0;i<e.length;i++){var a=this.parallelCoordinates[i];a.units=t/(a.max-a.min)}else{t="vertical"==this.graphOrientation?"y":"x";this.setAxisUnits("xAxis",t),["BarLine","DotLine","AreaLine","StackedLine","StackedPercentLine"].includes(this.graphType)&&this.setAxisUnits("xAxis2",t)}},this.draw1DWireFrame=function(){"Treemap"!=this.graphType&&"TagCloud"!=this.graphType&&"Sankey"!=this.graphType&&"Tree"!=this.graphType&&(this.toRender({p:["disableGradientTransparencyShadow"],t:"Axes"}),"Heatmap"==this.graphType?this.draw1DWireFrameHeatmap():"ParallelCoordinates"==this.graphType?this.draw1DWireFrameParallelCoordinates():this.isGraphTime?(this.draw1DWireFrameGraphTime(),this.draw1DAxisScale()):(this.plotByVariable||this.draw1DWireFrameOther(),this.draw1DAxisScale()),this.toRender({p:["enableGradientTransparencyShadow"],t:"Axes"}))},this.draw1DWireFrameHeatmap=function(){if(this.guides&&this.isMultidimensionalData&&!this.isGraphTime){for(var t=this.get1DLeft(),e=this.get1DTop(),i="dotted"==this.guides?"dottedLine":"line",a=t,s=t+this.x,r=e+this.blockSeparation/2,n=e+this.y,o=this.get1DIndices(),h=0;h<o.length;h++){var l=h/this.smpLabelInterval;parseInt(l)==parseFloat(l)&&this.toRender({p:["drawLine",i,a,r,s,r,this.guidesColor,this.guidesWidth,"butt"],b:n,t:"Axes"}),r+=this.rowBlockSize}a=t+this.colBlockSize/2,r=e,n=e+this.y;for(h=0;h<this.varIndices.length;h++){l=h/this.varLabelInterval;parseInt(l)==parseFloat(l)&&this.toRender({p:["drawLine",i,a,r,a,n,this.guidesColor,this.guidesWidth,"butt"],b:t,t:"Axes"}),a+=this.colBlockSize}}},this.draw1DWireFrameParallelCoordinates=function(){var t=this.get1DLeft(),e=this.get1DTop(),i=this.get1DIndices();if("vertical"==this.graphOrientation)for(var a=t,s=t,r=e,n=this.y,o=0;o<i.length;o++){this.toRender({p:["drawLine","line",a,r,a,r+n,this.xAxisTickColor],t:"Axes"}),this.toRender({p:["drawLine","line",a-this.margin,r,a,r,this.xAxisTickColor],t:"Axes"}),this.toRender({p:["drawLine","line",a-this.margin,r+n,a,r+n,this.xAxisTickColor],t:"Axes"});for(var h=this.parallelCoordinates[o],l=0;l<h.vals.length;l++){var c=r+n-(h.vals[l]-h.min)*h.units;this.toRender({p:["drawLine","line",a-this.margin,c,a,c,this.xAxisTickColor],t:"Axes"}),this.toRender({p:["drawText",h.vals[l],a-2*this.margin,c,this.axisTickFont,this.axisTickColor,"right","middle"],t:"Axes"})}a+=this.blockSeparation+this.rowBlockSize}else for(a=t,s=this.x,r=e,n=e,c=e+this.blockSeparation+this.rowBlockSize,o=0;o<i.length;o++){this.toRender({p:["drawLine","line",a,r,t+s,r,this.xAxisTickColor],t:"Axes"}),this.toRender({p:["drawLine","line",a,r-this.margin,a,r,this.xAxisTickColor],t:"Axes"}),this.toRender({p:["drawLine","line",t+s,r-this.margin,t+s,r,this.xAxisTickColor],t:"Axes"});for(h=this.parallelCoordinates[o],l=0;l<h.vals.length;l++){var d=a+(h.vals[l]-h.min)*h.units;this.toRender({p:["drawLine","line",d,r-this.margin,d,r,this.xAxisTickColor],t:"Axes"}),this.toRender({p:["drawText",h.vals[l],d,r-2*this.margin,this.axisTickFont,this.axisTickColor,"center","bottom"],t:"Axes"})}r+=this.blockSeparation+this.rowBlockSize}},this.draw1DWireFrameGraphTime=function(){var t,e=this.get1DLeft(),i=this.get1DTop(),a="dotted"==this.guides?"dottedLine":"line";if("BarLine"!=this.graphType&&"DotLine"!=this.graphType||!this.xAxis2Title)t=this.graphType.match(/Stacked|Line|Area|Gantt/)?1:this.varIndices.length;else{var s=this.getVariablesVisibleByAxis("xAxis"),r=this.getVariablesVisibleByAxis("xAxis2");t=Math.max(s.length,r.length)}var n=t*this.rowBlockSize,o=this.get1DIndices();if("vertical"==this.graphOrientation)for(var h=this.x/o.length,l=this.graphType.match(/Area/)?0:e+(this.blockSeparation+n)/2,c=i,d=i+this.y,p=0;p<this.timeValueIndices.length;p++){var g=p*h+l;this.guides&&this.toRender({p:["drawLine",a,g,c,g,d,this.guidesColor,this.guidesWidth,"butt"],b:d,t:"Axes"})}else{h=this.y/o.length,l=this.graphType.match(/Area/)?0:i+(this.blockSeparation+n)/2,g=e;var u=this.x;for(p=0;p<this.timeValueIndices.length;p++){c=p*h+l;this.guides&&this.toRender({p:["drawLine",a,g,c,u,c,this.guidesColor,this.guidesWidth,"butt"],b:e,t:"Axes"})}}},this.draw1DWireFrameOther=function(){var t,e=this.get1DLeft(),i=this.get1DTop(),a="dotted"==this.guides?"dottedLine":"line";if("BarLine"!=this.graphType&&"DotLine"!=this.graphType||!this.xAxis2Title)t=this.graphType.match(/Stacked|Line|Area|Gantt|Meter/)?1:this.varIndices.length;else{var s=this.getVariablesVisibleByAxis("xAxis"),r=this.getVariablesVisibleByAxis("xAxis2");t=Math.max(s.length,r.length)}var n=t*this.rowBlockSize,o=(this.blockSeparation+n)/2,h=this.get1DIndices();if("vertical"==this.graphOrientation)for(var l=this.graphType.match(/Area/)?e:e+this.blockSeparation+n,c=e,d=this.blockSeparation+n,p=i,g=this.y,u=0;u<h.length;u++){if(this.blockContrast){var m=u%2?this.evenColor:this.oddColor;this.toRender({p:["drawShape","rectangle",c+o,p+g/2,d,g,m,m],t:"Axes"}),c+=d}if(this.guides){if(this.graphType.match(/Area/)&&(0==u||u==h.length-1)){l+=this.blockSeparation+n;continue}this.toRender({p:["drawLine",a,l-o,p,l-o,p+g,this.guidesColor,this.guidesWidth,"butt"],t:"Axes"})}l+=this.blockSeparation+n}else if(h){l=e,c=this.x,p=this.graphType.match(/Area/)?i:i+this.blockSeparation+n,g=i;var f=this.blockSeparation+n;for(u=0;u<h.length;u++){if(this.blockContrast){m=u%2?this.evenColor:this.oddColor;this.toRender({p:["drawShape","rectangle",l+c/2,g+o,c,f,m,m],t:"Axes"}),g+=f}if(this.guides){if(this.graphType.match(/Area/)&&(0==u||u==h.length-1)){p+=this.blockSeparation+n;continue}this.toRender({p:["drawLine",a,l,p-o,e+c,p-o,this.guidesColor,this.guidesWidth,"butt"],t:"Axes"})}p+=this.blockSeparation+n}}},this.draw1DAxisScale=function(){var t=this.get1DLeft(),e=this.get1DTop(),i="dotted"==this.xAxisTickStyle||"dotted"==this.yAxisTickStyle?"dottedLine":"line";if("Meter"==this.graphType){var a=Math.min(this.x,this.y)*("digital"==this.meterType&&this.layoutValid?.7:"digital"==this.meterType?.9:"gauge"==this.meterType?1:1.1),s=(S=a*("gauge"==this.meterType?.15:.1))*("speedometer"==this.meterType?.5:.55),r=a-S,n=r/2,o=this.getMeterSummaryValue(),h=this.meterType.match(/gauge|speedometer/)?this.scaleTextToFont(o.toString(),r/8,r/4):this.scaleTextToFont(o.toString(),r/2.4,r/1.2),l=Math.PI*("gauge"==this.meterType?1:"speedometer"==this.meterType?1.5:2)/this.xAxisRange,c="gauge"==this.meterType?Math.PI:"speedometer"==this.meterType?1.25*Math.PI:Math.PI/2,d=this.getMeterVariable();if(this.meterType.match(/gauge|speedometer/)){for(var p=t+this.x/2,g=e+this.y/2+("gauge"==this.meterType?this.y/6:"speedometer"==this.meterType?this.y/24:0),u=this.meterSegments.length?this.meterSegments:this.xAxisValuesRaw,m=0;m<u.length;m++){var f=this.meterColors[m]||this.colors[m%this.colors.length],y=m>0?u[m-1]:0,x=m<u.length-1?u[m]:this.xAxisMax;this.toRender({p:["drawLine","arc",p,g,n,n,f,S,!1,y*l-c,x*l-c],t:"Axes"})}if(this.xAxisMinorTicks)for(m=0;m<this.xAxisMinorValues.length-1;m++)if(this.xAxisMinorValues[m]>this.xAxisMin&&this.xAxisMinorValues[m]<=this.xAxisMax){x=this.xAxisMinorValues[m]*l-c;var b=n*Math.cos(x)+p,v=n*Math.sin(x)+g,A=(n+s)*Math.cos(x)+p,w=(n+s)*Math.sin(x)+g;this.toRender({p:["drawLine","line",b,v,A,w,this.xAxisTickColor],t:"Axes"})}for(m=0;m<this.xAxisValuesRaw.length-1;m++)if(this.xAxisValuesRaw[m]<=this.xAxisMax){x=this.xAxisValuesRaw[m]*l-c,f="gauge"==this.meterType?this.background:this.xAxisTickColor,b=(n-(s+("gauge"==this.meterType?0:2*this.margin)))*Math.cos(x)+p,v=(n-(s+("gauge"==this.meterType?0:2*this.margin)))*Math.sin(x)+g,A=(n+s)*Math.cos(x)+p,w=(n+s)*Math.sin(x)+g;var C="gauge"==this.meterType?(n+(s+4*this.margin))*Math.cos(x)+p:(n-(s+6*this.margin))*Math.cos(x)+p,T="gauge"==this.meterType?(n+(s+4*this.margin))*Math.sin(x)+g:(n-(s+6*this.margin))*Math.sin(x)+g;this.toRender({p:["drawLine","line",b,v,A,w,f,"gauge"==this.meterType&&this.margin],t:"Axes"}),this.toRender({p:["drawText",this.xAxisValuesRaw[m],C,T,this.axisTickFont,this.axisTickColor,"center","middle"],t:"Axes"})}this.toRender({p:["drawText",d,p,g-2*this.getFontPt(h),this.smpTitleFont,this.smpTitleFontColor,"center","middle"],t:"Axes"})}else if("state"==this.meterType){d=(s=(S=Math.min(this.x,this.y))/1.4)/1.5;this.toRender({p:["drawShape","roundrect",t+this.x/2,e+this.y/2,S,2.5*S,"black","black"],t:"Axes"}),this.toRender({p:["drawShape","pie4",t+this.x/2,e+this.y/2-(s+S/2),S/2,S/2,"black","black",!1,Math.PI],t:"Axes"}),this.toRender({p:["drawShape","pie4",t+this.x/2-d,e+this.y/2-(s+S/4),S/1.5,S/1.5,"black","black"],t:"Axes"}),this.toRender({p:["drawShape","pie4",t+this.x/2+d,e+this.y/2-(s+S/4),S/1.5,S/1.5,"black","black"],t:"Axes"}),this.toRender({p:["drawShape","circle",t+this.x/2,e+this.y/2-s,S/2,S/2,this.meterBackgroundColor,this.meterBackgroundColor],t:"Axes"}),this.toRender({p:["drawShape","pie4",t+this.x/2-d,e+this.y/2-(0+S/4),S/1.5,S/1.5,"black","black"],t:"Axes"}),this.toRender({p:["drawShape","pie4",t+this.x/2+d,e+this.y/2-(0+S/4),S/1.5,S/1.5,"black","black"],t:"Axes"}),this.toRender({p:["drawShape","circle",t+this.x/2,e+this.y/2,S/2,S/2,this.meterBackgroundColor,this.meterBackgroundColor],t:"Axes"}),this.toRender({p:["drawShape","pie4",t+this.x/2-d,e+this.y/2-(S/4-s),S/1.5,S/1.5,"black","black"],t:"Axes"}),this.toRender({p:["drawShape","pie4",t+this.x/2+d,e+this.y/2-(S/4-s),S/1.5,S/1.5,"black","black"],t:"Axes"}),this.toRender({p:["drawShape","circle",t+this.x/2,e+this.y/2+s,S/2,S/2,this.meterBackgroundColor,this.meterBackgroundColor],t:"Axes"}),this.toRender({p:["drawShape","rectangle",t+this.x/2,e+this.y/2+(s+S/2),S/2,S/2,"black","black"],t:"Axes"})}else if("digital"==this.meterType){p=t+this.x/2,g=e+this.y/2,u=this.meterSegments.length?this.meterSegments:this.xAxisValuesRaw;this.toRender({p:["drawLine","arc",p,g,n,n,this.meterBackgroundColor,S,!1,0,2*Math.PI],t:"Axes"});for(m=0;m<u.length;m++){f=this.meterColors[m]||this.colors[m%this.colors.length],y=m>0?u[m-1]:0,x=m<u.length-1?Math.min(o,u[m]):Math.min(o,this.xAxisMax);y>o||this.toRender({p:["drawLine","arc",p,g,n,n,f,S,!1,y*l-c,x*l-c],t:"Axes"})}for(m=0;m<this.xAxisValuesRaw.length-1;m++)if(this.xAxisValuesRaw[m]<this.xAxisMax){x=this.xAxisValuesRaw[m]*l-c,b=(n-s)*Math.cos(x)+p,v=(n-s)*Math.sin(x)+g,A=(n+s)*Math.cos(x)+p,w=(n+s)*Math.sin(x)+g,C=(n+s+4*this.margin)*Math.cos(x)+p,T=(n+s+4*this.margin)*Math.sin(x)+g;this.toRender({p:["drawLine","line",b,v,A,w,this.background,.3*S],t:"Axes"}),this.toRender({p:["drawText",this.xAxisValuesRaw[m],C,T,this.axisTickFont,this.axisTickColor,"center","middle"],t:"Axes"})}this.toRender({p:["drawText",d,p,g+10+this.getFontPt(h)/2,this.smpTitleFont,this.smpTitleFontColor,"center","middle"],t:"Axes"})}else if("number"==this.meterType){p=t+this.x/2,g=e+this.y/2;this.toRender({p:["drawText",d,p,g+10+this.getFontPt(h)/2,this.smpTitleFont,this.smpTitleFontColor,"center","middle"],t:"Axes"})}else{var S=Math.min(this.x,this.y);l=("horizontal"==this.meterType?this.x:this.y)/this.xAxisRange,u=this.meterSegments.length?this.meterSegments:this.xAxisValuesRaw;this.toRender({p:["drawShape","rectangle",t+this.x/2,e+this.y/2,this.x,this.y,this.meterBackgroundColor,this.meterBackgroundColor],t:"Axes"});for(c=0,m=0;m<u.length;m++){f=this.meterColors[m]||this.colors[m%this.colors.length],y=(m>0?u[m-1]:0)*l;var D=(x=(m<u.length-1?Math.min(o,u[m]):Math.min(o,this.xAxisMax))*l)-y;y/l>o||("horizontal"==this.meterType?this.toRender({p:["drawShape","rectangle",t+D/2+c,e+this.y/2,D,this.y,f,f],t:"Axes"}):this.toRender({p:["drawShape","rectangle",t+this.x/2,e+this.y-(D/2+c),this.x,D,f,f],t:"Axes"}),c+=D)}"vertical"==this.meterType?this.toRender({p:["drawText",d,t-this.x/2,e+this.y/2,this.smpTitleFont,this.smpTitleFontColor,"center","middle",-Math.PI/2],t:"Axes"}):this.toRender({p:["drawText",d,t+this.x/2,e-this.y/4,this.smpTitleFont,this.smpTitleFontColor,"center","middle"],t:"Axes"})}if(!this.meterType.match(this.graphOrientation))return}if("vertical"==this.graphOrientation){var M=this.xAxisMin<0?e+this.y-(0-this.xAxisMin)*this.xAxisUnit:e+this.y;if(this.xAxisMinorTicks)for(m=0;m<this.xAxisMinorValues.length;m++){if((B=this.xAxisMinorValues[m])>=this.xAxisMin&&B<=this.xAxisMax){var k=this.get1DTop()+this.y-(B-this.xAxisMin)*this.xAxisUnit;this.toRender({p:["drawLine",i,t,k,t+("Meter"==this.graphType?this.margin:this.x),k,this.xAxisTickColor,this.outlineWidth/3,"butt"],b:M,t:"Axes"})}}var L=this.get1DLeft()-2*this.margin;for(b=t,A=t+("Meter"==this.graphType?this.margin:this.x),m=0;m<this.xAxisValuesRaw.length;m++){if((B=this.xAxisValuesRaw[m])>=this.xAxisMin&&B<=this.xAxisMax){k=this.get1DTop()+this.y-(B-this.xAxisMin)*this.xAxisUnit;this.xAxisMajorTicks&&this.toRender({p:["drawLine",i,b,k,A,k,this.xAxisTickColor,this.outlineWidth/2,"butt"],b:M,t:"Axes"}),(this.xAxisShow||this.xAxisShowLayout)&&this.toRender({p:["drawLine",i,b-this.margin,k,b,k,this.xAxisTickColor,this.outlineWidth/2,"butt"],b:M,t:"Axes"}),(this.xAxis2Show||this.xAxis2ShowLayout)&&this.toRender({p:["drawLine",i,A,k,A+this.margin,k,this.xAxisTickColor,this.outlineWidth/2,"butt"],b:M,t:"Axes"})}}}else{M=this.xAxisMin<0?t+this.x-(0-this.xAxisMin)*this.xAxisUnit:t;if(this.xAxisMinorTicks)for(m=0;m<this.xAxisMinorValues.length;m++){if((B=this.xAxisMinorValues[m])>=this.xAxisMin&&B<=this.xAxisMax){L=this.graphInverted?t+this.x-(B-this.xAxisMin)*this.xAxisUnit:t+(B-this.xAxisMin)*this.xAxisUnit;this.toRender({p:["drawLine",i,L,e,L,e+("Meter"==this.graphType?this.margin:this.y),this.xAxisTickColor,this.outlineWidth/3,"butt"],b:M,t:"Axes"})}}k=this.get1DTop()-(2*this.margin+this.axisTickFontSize/2),v=e,w=e+("Meter"==this.graphType?this.margin:this.y),T=v-((this.layoutValid&&"wrap"==this.layoutType?(this.segregateVariablesBy.length+this.segregateSamplesBy.length)*this.layoutLabelBoxThickness:0)+this.margin);var I="vertical"!=this.graphOrientation&&("cols"==this.layoutType||"rows"==this.layoutType&&this.segregateVariablesBy.length+this.segregateSamplesBy.length>1);for(m=0;m<this.xAxisValuesRaw.length;m++){var B;if((B=this.xAxisValuesRaw[m])>=this.xAxisMin&&B<=this.xAxisMax){L=this.graphInverted?t+this.x-(B-this.xAxisMin)*this.xAxisUnit:t+(B-this.xAxisMin)*this.xAxisUnit;this.xAxisMajorTicks&&this.toRender({p:["drawLine",i,L,v,L,w,this.xAxisTickColor,this.outlineWidth/2,"butt"],b:t,t:"Axes"}),(this.xAxisShow||this.xAxisShowLayout)&&(this.layoutValid?this.layoutAdjust?this.toRender({p:["drawLine",i,L,v-this.margin,L,v,this.xAxisTickColor,this.outlineWidth/2,"butt"],b:M,t:"Axes"}):I||this.toRender({p:["drawLine",i,L,T,L,T+this.margin,this.xAxisTickColor,this.outlineWidth/2,"butt"],b:M,t:"Axes"}):this.toRender({p:["drawLine",i,L,v-this.margin,L,v,this.xAxisTickColor,this.outlineWidth/2,"butt"],b:M,t:"Axes"})),(this.xAxis2Show||this.xAxis2ShowLayout)&&this.toRender({p:["drawLine",i,L,w,L,w+this.margin,this.xAxisTickColor,this.outlineWidth/2,"butt"],b:M,t:"Axes"})}}}},this.drawDendrograms=function(){if("Treemap"!=this.graphType&&"TagCloud"!=this.graphType&&"Sankey"!=this.graphType&&"Tree"!=this.graphType&&"Meter"!=this.graphType&&!this.isGroupedData){if(this.showSmpDendrogram){var t=!1;this.isOncoprint&&this.showHeatmapOncoprint&&"bottom"==this.oncoprintHeatmapPosition&&(t=!0),this.drawDendrogram("smpDendrogram",t)}if("Heatmap"==this.graphType&&this.showVarDendrogram){t=!1;this.isOncoprint&&this.showHeatmapOncoprint&&"right"==this.oncoprintHeatmapPosition&&(t=!0),this.drawDendrogram("varDendrogram",t)}}},this.getDendrogramClipArea=function(t){var e=this.get1DLeft(),i=this.get1DTop();return"varDendrogram"==t?"bottom"==this.varDendrogramPosition?[e,i+this.y,e+this.x+1,i+this.y+this.bottom]:[e,0,e+this.x+1,i]:"vertical"==this.graphOrientation?"bottom"==this.smpDendrogramPosition?[e,i+this.y,e+this.x+1,i+this.y+this.bottom]:"top"==this.smpDendrogramPosition?[e,this.margin,e+this.x+1,i]:[e,this.marginTop+this.offsetY,e+this.x+1,i]:"right"==this.smpDendrogramPosition?[e+this.x,i,e+this.x+this.right,i+this.y+1]:"left"==this.smpDendrogramPosition?[this.margin,i,e,i+this.y+1]:[this.marginLeft+this.offsetX,i,e,i+this.y+1]},this.getDendrogramBlockSize=function(t){if("Heatmap"!=this.graphType){var e;if("BarLine"!=this.graphType&&"DotLine"!=this.graphType||!this.xAxis2Title)e=this.graphType.match(/Stacked|Line|Area/)?1:this.varIndices.length;else{t=this.getVariablesVisibleByAxis("xAxis");var i=this.getVariablesVisibleByAxis("xAxis2");e=Math.max(t.length,i.length)}return e*this.rowBlockSize+this.blockSeparation}return"varDendrogram"==t?this.colBlockSize:this.rowBlockSize},this.getDendrogramTopOffset=function(t,e){var i=this.get1DTop(e),a="varDendrogram"==t?"showVarDendrogram":"showSmpDendrogram",s=0,r=this.getDendrogramBlockSize(t),n=this.getDendrogramInverse(t);return this[a]&&this[t]&&("varDendrogram"==t?"bottom"==this.varDendrogramPosition?(s=i+this.y+this.bottom-(this.dendrogramHeight+this.margin),"bottom"==this.varTitleLabelPosition&&(s-=this.getVariableTitleHeight()),this.isOncoprint&&(s-=this.legendOncoprintHeight),this.legendInside||"bottom"!=this.legendPosition||(s-=this.legendHeight),s=n<0?s+this.dendrogramHeight:s):(s="bottom"!=this.varTitleLabelPosition?i-(this.varOverlaysThicknessTop+this.getVariableLabelLength()+this.getVarTreeHeight()):i-(this.margin+this.varOverlaysThicknessTop+this.getVarTreeHeight()),this.legendInside||"top"!=this.legendPosition||(s+=this.legendHeight)):"vertical"==this.graphOrientation?(s="bottom"==this.smpDendrogramPosition?i+this.y+this.bottom-(this.getSampleTitleHeight()+this.getLegendHeight("bottom")+this.getSmpTreeWidthHeight()):i-(this.getSmpTreeWidthHeight()+this.smpOverlaysThicknessTop),s=n<0?s+this.dendrogramHeight:s):(s=this.graphType.match(/Area/)?i:i+r/2,this.isGroupedData?this.grpIndicesStart>-1&&(s-=r*this.grpIndicesStart):this.smpIndicesStart>-1&&(s-=r*this.smpIndicesStart))),s},this.getDendrogramLeftOffset=function(t,e){var i=this.get1DLeft(e),a="varDendrogram"==t?"showVarDendrogram":"showSmpDendrogram",s=0,r=this.getDendrogramBlockSize(t),n=this.getDendrogramInverse(t);return this[a]&&this[t]&&("varDendrogram"==t?(s=i+r/2,this.varIndicesStart>-1&&(s-=r*this.varIndicesStart)):"vertical"==this.graphOrientation?(s=this.graphType.match(/Area/)?i:i+r/2,this.isGroupedData?this.grpIndicesStart>-1&&(s-=r*this.grpIndicesStart):this.smpIndicesStart>-1&&(s-=r*this.smpIndicesStart)):"right"==this.smpDendrogramPosition?(s=i+this.x+this.smpOverlaysThicknessRight+("right"==this.smpTitleLabelPosition?this.getSampleLabelLength():0)+this.margin,s=n<0?s+this.dendrogramHeight:s):s=this.marginLeft+this.offsetX+this.margin+this.getSampleTitleHeight()),s},this.getDendrogramInverse=function(t){return"varDendrogram"==t?"top"==this.varDendrogramPosition?1:-1:"vertical"==this.graphOrientation?(this.smpDendrogramPosition.match(/top|bottom/)||(this.smpDendrogramPosition="top"),"top"==this.smpDendrogramPosition?1:-1):(this.smpDendrogramPosition.match(/left|right/)||(this.smpDendrogramPosition="left"),"left"==this.smpDendrogramPosition?1:-1)},this.drawDendrogram=function(t,e){if("TagCloud"!=this.graphType&&"Sankey"!=this.graphType&&"Tree"!=this.graphType&&"Meter"!=this.graphType&&this[t]){var i=this,a=this[t],s=this.getDendrogramBlockSize(t),r=this.getDendrogramInverse(t),n=this.getDendrogramClipArea(t),o=this.getDendrogramTopOffset(t,e),h=this.getDendrogramLeftOffset(t,e),l=a.useHeight?this.dendrogramHeight/a.height:this.dendrogramHeight/a.max,c="varDendrogram"!=t&&"vertical"!=this.graphOrientation,d=0,p=function(e){if(e.children)for(var n=0;n<e.children.length;n++)p(e.children[n]),e.children[n].children&&(e.children[n].color=e.children[n].children[0].color);else e.color="varDendrogram"==t?i.getDendrogramColor(e.name):i.getDendrogramColor(!1,e.name);var d;null!=e.mid&&(d=a.useHeight?e.height?l*(a.height-e.height)*r:i.dendrogramHeight*r:l*e.depth*r,c?(e.x=h+d,e.y=o+s*e.mid):(e.x=h+s*e.mid,e.y=o+d))},g=function(e){if(e.children){for(var s=e.x,r=e.y,l=(e.color,0);l<e.children.length;l++){var c,p=e.children[l].x,u=e.children[l].y,m=e.children[l].color;"vertical"==i.graphOrientation||"varDendrogram"==t?(c=i.toRender({p:["drawLine","line",s,r,p,r,m,!1,"butt",!1,!1,!0,n],a:i.getLineArea("line",s,r,p,r,m,!1,"butt",!1,!1,!0,n),i:[t+":"+d+++":"+e.nodeId],b:[s,o,p,o],t:t}),i.toRender({p:["drawLine","line",p,r,p,u,m,!1,"butt",!1,!1,!0,n],a:i.getLineArea("line",p,r,p,u,m,!1,"butt",!1,!1,!0,n),i:[t+":"+d+++":"+e.nodeId],g:c,b:[p,o,p,o],t:t})):(c=i.toRender({p:["drawLine","line",s,r,s,u,m,!1,"butt",!1,!1,!0,n],a:i.getLineArea("line",s,r,s,u,m,!1,"butt",!1,!1,!0,n),i:[t+":"+d+++":"+e.nodeId],b:[h,r,h,u],t:t}),i.toRender({p:["drawLine","line",s,u,p,u,m,!1,"butt",!1,!1,!0,n],a:i.getLineArea("line",s,u,p,u,m,!1,"butt",!1,!1,!0,n),i:[t+":"+d+++":"+e.nodeId],b:[h,u,h,u],t:t})),g(e.children[l])}if(null!=e.nodeId&&e.children.length>1){var f=e.name?e.name:"",y=a.useHeight?e.height:e.depth;i.toRender({p:["drawShape","circle",e.x,e.y,2*i.margin,2*i.margin,"rgba(0,0,0,0)","rgba(0,0,0,0)"],a:i.getShapeArea("circle",e.x,e.y,2*i.margin,2*i.margin,"rgba(0,0,0,0)","rgba(0,0,0,0)"),i:[e.nodeId+"-"+y+"-"+t+"-"+f],t:t})}}};this.toRender({p:["disableGradientTransparencyShadow"],t:t}),p(a),g(a),this.toRender({p:["enableGradientTransparencyShadow"],t:t})}},this.draw1DYLayout=function(){this.smpInfo=[],this.varInfo=[],"Treemap"!=this.graphType&&"TagCloud"!=this.graphType&&"Sankey"!=this.graphType&&"Tree"!=this.graphType&&"Meter"!=this.graphType&&(this.smpTitle&&this.draw1DYLayoutSampleTitle(),"Heatmap"==this.graphType?(this.draw1DYLayoutHeatmap(),this.isOncoprint&&this.showHeatmapOncoprint&&this.draw1DYLayoutHeatmap(!0),this.varTitle&&this.draw1DYLayoutVariableTitle()):this.draw1DYLayoutNoHeatmap())},this.draw1DYLayoutSampleTitle=function(){var t,e,i=this.get1DLeft()+this.margin,a=this.get1DTop();"vertical"==this.graphOrientation?(a-=this.margin,t=i+this.x/2,e=this.segregateVariablesBy.length>0?a+this.y+this.bottom+this.getSampleLabelLength()+2*this.margin-(this.margin+this.smpTitleFontSize/2):a+this.y+this.bottom-(this.smpTitleFontSize/2-this.margin/2),e-=this.getLegendHeight("bottom"),this.toRender({p:["drawText",this.smpTitle,t,e,this.smpTitleFont,this.smpTitleFontColor,"center","middle"],t:"Axes"})):(t=this.segregateVariablesBy.length>1?this.marginLeft+this.getFontHeight()+2*this.margin+this.smpTitleFontSize/2:this.segregateVariablesBy.length>0?this.marginLeft+this.margin*(this.segregateSamplesBy.length>0?5:0)+this.smpTitleFontSize/2:this.marginLeft+this.offsetX+this.smpTitleFontSize/2-this.margin/2,e=a+this.y/2,this.toRender({p:["drawText",this.smpTitle,t,e,this.smpTitleFont,this.smpTitleFontColor,"center","middle",-Math.PI/2],t:"Axes"}))},this.draw1DYLayoutVariableTitle=function(){var t,e,i=this.get1DLeft()+this.margin,a=this.get1DTop();t=i+this.x/2,"bottom"!=this.varTitleLabelPosition?(e=this.offsetY+2*this.margin+this.top,e-=this.getVariableLabelLength(),e-=this.varOverlaysThicknessTop,"top"==this.varDendrogramPosition&&(e-=this.getVarTreeHeight())):e=a+this.y+this.bottom,this.toRender({p:["drawText",this.varTitle,t,e,this.varTitleFont,this.varTitleFontColor,"center","bottom"],t:"Axes"})},this.draw1DYLayoutHeatmap=function(t){var e,i,a=this.get1DLeft(t)+this.margin,s=this.get1DTop(t),r=this.get1DIndices(),n=this.get1DSamples(),o=this.get1DLabels(),h=this.adjustAspectRatio?0:.3*this.rowBlockSize;if(this.showSampleNames&&(!t||t&&this.oncoprintHeatmapPosition.match(/top|bottom/))){var l=90==Math.abs(this.smpLabelRotate)?"center":"right";if(this.isGraphTime){var c=this.y/r.length,d=s+(b=c/2);e=a-2*this.margin,a+this.x+this.margin,s+this.y;for(var p=0;p<this.timeValueIndices.length;p++)i=p*c+d+h,this.smpInfo[p]=i,this.smpLabelRotate?this.toRender({p:["drawText",this.timeValues[p],e-this.margin,i+h,this.smpLabelFont,x,l,"middle",this.smpLabelRotate*Math.PI/180],a:this.getTextArea(this.timeValues[p],e-this.margin,i+h,this.smpLabelFont,x,l,"middle",this.smpLabelRotate*Math.PI/180),i:["Smp-"+p],t:"Labels",h:this.isHidden(!1,p)}):this.toRender({p:["drawText",this.timeValues[p],e,i+h,this.smpLabelFont,x,"right","middle"],a:this.getTextArea(this.timeValues[p],e,i+h,this.smpLabelFont,x,"right","middle"),i:["Smp-"+p],t:"Labels",h:this.isHidden(!1,p)})}else{e=a+("right"==this.smpTitleLabelPosition?this.x:0),a+this.x+this.margin,i=s+this.blockSeparation/2,s+this.y;var g="right"==this.smpTitleLabelPosition?this.smpOverlaysThicknessRight:this.smpOverlaysThicknessLeft;for(p=0;p<r.length;p++){var u=p/this.smpLabelInterval;if(parseInt(u)==parseFloat(u)){var m=r[p],f=this.shortenText(o?o[m]:n[m],this.maxSmpStringLen),y=(2*this.margin+g)*("right"==this.smpTitleLabelPosition?-1:1),x=this.getSmpColor(n[m]);this.smpInfo[p]=i,this.smpLabelImage||(this.smpLabelRotate?this.toRender({p:["drawText",f,e-(y+this.margin),i+h,this.smpLabelFont,x,l,"middle",this.smpLabelRotate*Math.PI/180],a:this.getTextArea(f,e-(y+this.margin),i+h,this.smpLabelFont,x,l,"middle",this.smpLabelRotate*Math.PI/180),i:["Smp-"+m],t:"Labels",h:this.isHidden(!1,m)}):this.toRender({p:["drawText",f,e-y,i+h,this.smpLabelFont,x,"right"==this.smpTitleLabelPosition?"left":"right","middle"],a:this.getTextArea(f,e-y,i+h,this.smpLabelFont,x,"right"==this.smpTitleLabelPosition?"left":"right","middle"),i:["Smp-"+m],t:"Labels",h:this.isHidden(!1,m)}))}i+=this.rowBlockSize}}}if(this.showVariableNames&&(!t||t&&this.oncoprintHeatmapPosition.match(/right|left/))){var b=this.colBlockSize/2,v=90==Math.abs(this.varLabelRotate)?"center":"bottom"!=this.varTitleLabelPosition?"left":"right",A="bottom"!=this.varTitleLabelPosition?"left":"right";this.varTitleLabelPosition;a-=this.margin,i="bottom"!=this.varTitleLabelPosition?s-(this.margin+this.varOverlaysThicknessTop):i=s+this.y+this.margin,"top"!=this.varTitleLabelPosition&&this.varOverlays.length>0&&this.showOverlays&&"Heatmap"==this.graphType&&(i+=this.varOverlaysThicknessBottom),"bottom"!=this.varTitleLabelPosition?s+this.y+this.margin:s-this.margin;for(p=0;p<this.varIndices.length;p++){e=a+p*this.colBlockSize+b;u=p/this.varLabelInterval;if(parseInt(u)==parseFloat(u)){m=this.varIndices[p];var w=this.shortenText(this.data.y.vars[m],this.maxVarStringLen);x=this.getVarColor(this.data.y.vars[m]);this.varInfo[p]=e,this.varLabelRotate?this.toRender({p:["drawText",w,e,i,this.varLabelFont,x,v,"middle",-Math.PI/2+this.varLabelRotate*Math.PI/180],a:this.getTextArea(w,e,i,this.varLabelFont,x,v,"middle",-Math.PI/2+this.varLabelRotate*Math.PI/180),i:["Var-"+m],t:"Labels",h:this.isHidden(m)}):this.toRender({p:["drawText",w,e,i,this.varLabelFont,x,A,"middle",-Math.PI/2],a:this.getTextArea(w,e,i,this.varLabelFont,x,A,"middle",-Math.PI/2),i:["Var-"+m],t:"Labels",h:this.isHidden(m)})}}}},this.draw1DYLayoutNoHeatmap=function(){var t,e,i,a,s,r=this.get1DLeft()+this.margin,n=this.get1DTop(),o=this.get1DIndices(),h=this.get1DSamples(),l=this.get1DLabels(),c={},d=this,p=function(t,e,i,a,s){var r=t+1,n=i,c=l?l[o[t]]:h[o[t]],p=l?l[o[r]]:h[o[r]],u=0;if(90!=d.smpLabelRotate&&d.isGroupedData)return i+d.margin;for(c&&(c=d.isArray(c)?c:c.toString().split(" :: ")[e]),p&&(p=d.isArray(p)?p:p.toString().split(" :: ")[e]);d.isSameObject(c,p);)u+=d.blockSeparation+g,n+=d.blockSeparation+g,r++,(p=l?l[o[r]]:h[o[r]])&&(p=d.isArray(p)?p:p.toString().split(" :: ")[e]);return i==n?i:("vertical"==d.graphOrientation?d.toRender({p:["drawLine","line",i,a-d.margin,i+u,a-d.margin,s],t:"Labels"}):d.toRender({p:["drawLine","line",a+d.margin,i,a+d.margin,i+u,s],t:"Labels"}),i+u/2)};if(this.showSampleNames){var g=this.get1DCompBlockMax()*this.rowBlockSize;if("Gantt"==this.graphType&&function(){var t=o.length;o=[];for(var e=0;e<t;e++)o.push(e)}(),"vertical"==this.graphOrientation){var u=this.smpLabelRotate>0?-2:2,m=90==Math.abs(this.smpLabelRotate)?"center":u>0?"left":"right";if(this.isGraphTime){var f=this.plotByVariable?this.x/this.varIndices.length/(o.length+1):this.x/o.length,y=this.graphType.match(/Area/)?0:this.plotByVariable?r-this.margin:r+(this.blockSeparation+g)/2;if(e=n+this.y+this.smpOverlaysThicknessBottom+1.5*this.margin,this.plotByVariable)for(var x=0;x<this.varIndices.length;x++){for(var b=0;b<this.timeValueIndices.length;b++){var v=b/this.smpLabelInterval;parseInt(v)==parseFloat(v)&&(t=b*f+y+f,this.smpInfo[b]=t,this.smpLabelRotate?this.toRender({p:["drawText",this.timeValues[b],t,e+this.smpLabelFontSize/2,this.smpLabelFont,C,m,"middle",Math.PI/u+this.smpLabelRotate*Math.PI/180],a:this.getTextArea(this.timeValues[b],t,e+this.smpLabelFontSize/2,this.smpLabelFont,C,m,"middle",Math.PI/u+this.smpLabelRotate*Math.PI/180),i:["Smp-"+b],t:"Labels"}):this.toRender({p:["drawText",this.timeValues[b],t,e,this.smpLabelFont,C,"right","middle",-Math.PI/2],a:this.getTextArea(this.timeValues[b],t,e,this.smpLabelFont,C,"right","middle",-Math.PI/2),i:["Smp-"+b],t:"Labels"}))}y+=this.blockSeparation+g}else for(x=0;x<this.timeValueIndices.length;x++){v=x/this.smpLabelInterval;t=x*f+y,this.smpInfo[x]=t,parseInt(v)==parseFloat(v)&&(this.smpLabelRotate?this.toRender({p:["drawText",this.timeValues[x],t,e+this.smpLabelFontSize/2,this.smpLabelFont,C,m,"middle",Math.PI/u+this.smpLabelRotate*Math.PI/180],a:this.getTextArea(this.timeValues[x],t,e+this.smpLabelFontSize/2,this.smpLabelFont,C,m,"middle",Math.PI/u+this.smpLabelRotate*Math.PI/180),i:["Smp-"+x],t:"Labels"}):this.toRender({p:["drawText",this.timeValues[x],t,e,this.smpLabelFont,C,"right","middle",-Math.PI/2],a:this.getTextArea(this.timeValues[x],t,e,this.smpLabelFont,C,"right","middle",-Math.PI/2),i:["Smp-"+x],t:"Labels"}))}}else if(t=this.plotByVariable?r+(this.blockSeparation+this.rowBlockSize)/2:this.graphType.match(/Area|ParallelCoordinates/)?r:r+(this.blockSeparation+g)/2-(this.margin*(!this.smpLabelRotate||90==this.smpLabelRotate)?1:4),e=n,s=(i=n+this.y)+this.smpOverlaysThicknessBottom+.5*this.margin+this.margin*(this.layoutValid?1:2),this.plotByVariable)for(x=0;x<this.varIndices.length;x++){for(b=0;b<o.length;b++){v=b/this.smpLabelInterval;if(parseInt(v)==parseFloat(v)){var A=o[b],w=this.shortenText(h[A],this.maxSmpStringLen),C=this.getSmpColor(h[A]);this.smpInfo[b]=t,this.smpLabelImage&&CanvasXpress.cacheImages.hasOwnProperty(h[A]+".png")||(this.smpLabelRotate?this.toRender({p:["drawText",w,t,s+this.smpLabelFontSize/2,this.smpLabelFont,C,m,"middle",Math.PI/u+this.smpLabelRotate*Math.PI/180],a:this.getTextArea(w,t,s+this.smpLabelFontSize/2,this.smpLabelFont,C,m,"middle",Math.PI/u+this.smpLabelRotate*Math.PI/180),i:["Smp-"+A],t:"Labels"}):this.toRender({p:["drawText",w,t-this.margin,s,this.smpLabelFont,C,"right","middle",-Math.PI/2],a:this.getTextArea(w,t-this.margin,s,this.smpLabelFont,C,"right","middle",-Math.PI/2),i:["Smp-"+A],t:"Labels"}))}t+=this.rowBlockSize}t+=this.blockSeparation}else{var T=0;for(x=0;x<o.length;x++){var S=o[x];v=x/this.smpLabelInterval,w=l?l[S]:h[S],C=this.getSmpColor(h[S]);if(parseInt(v)==parseFloat(v)){this.smpInfo[x]=t;var D=l?l[o[T]]:h[o[T]],M=this.isArray(D)?D:D.toString().split(" :: ");if(x>0&&this.parseInt(this.smpInfo[x])<this.parseInt(this.smpInfo[T]+this.smpLabelFontSize)){if(this.isGroupedData&&90==this.smpLabelRotate){w=this.isArray(w)?w:w.toString().split(" :: ");for(b=0;b<w.length;b++)p(x,b,t,s+b*(this.smpLabelFontSize+this.margin),C)}t+=this.blockSeparation+g;continue}if(this.isGroupedData&&90==this.smpLabelRotate){var k=this.isArray(w)?w:w.toString().split(" :: ");for(b=0;b<k.length;b++){x>0&&M[b]!=k[b]&&delete c[k[b]];var L=k[b],I=p(x,b,t,B=s+b*(this.smpLabelFontSize+this.margin),C);c.hasOwnProperty(L)||(this.toRender({p:["drawText",L,I,B+this.smpLabelFontSize/2,this.smpLabelFont,C,m,"middle",Math.PI/u+this.smpLabelRotate*Math.PI/180],a:this.getTextArea(L,I,B+this.smpLabelFontSize/2,this.smpLabelFont,C,m,"middle",Math.PI/u+this.smpLabelRotate*Math.PI/180),i:["Smp-"+S],t:"Labels"}),this.toRender({p:["drawLine","line",I,i,I,i+this.margin,this.xAxisTickColor],t:"Labels"}),c[L]=!0)}}else{w=this.shortenText(w,this.maxSmpStringLen),x>0&&D!=w&&(c={});I=p(x,0,t,s,C);if(!c.hasOwnProperty(w)){if(this.smpLabelImage&&CanvasXpress.cacheImages.hasOwnProperty(w+".png")){var B,N=s+(B=this.getSampleLabelLength())/2-this.margin;this.toRender({p:["drawShape","image",I-this.smpLabelFontSize/2,N,B,B,!1,!1,this.smpLabelImageRound,!1,!1,!1,!1,!1,!1,w+".png"],a:this.getShapeArea("image",I-this.smpLabelFontSize/2,N,B,B,!1,!1,this.smpLabelImageRound,!1,!1,!1,!1,!1,!1,w+".png"),i:["Smp-"+S],t:"Labels"})}else this.smpLabelRotate?this.toRender({p:["drawText",w,I,s+this.smpLabelFontSize/2,this.smpLabelFont,C,m,"middle",Math.PI/u+this.smpLabelRotate*Math.PI/180],a:this.getTextArea(w,I,s+this.smpLabelFontSize/2,this.smpLabelFont,C,m,"middle",Math.PI/u+this.smpLabelRotate*Math.PI/180),i:["Smp-"+S],t:"Labels"}):this.toRender({p:["drawText",w,I-this.margin,s,this.smpLabelFont,C,"right","middle",-Math.PI/2],a:this.getTextArea(w,I-this.margin,s,this.smpLabelFont,C,"right","middle",-Math.PI/2),i:["Smp-"+S],t:"Labels"});this.toRender({p:["drawLine","line",I-this.margin,i,I-this.margin,i+this.margin,this.xAxisTickColor],t:"Labels"}),c[w]=!0}}T=x}t+=this.blockSeparation+g}}}else{m=90==Math.abs(this.smpLabelRotate)?"center":"right";if(this.isGraphTime){f=this.plotByVariable?this.y/this.varIndices.length/(o.length+1):this.y/o.length,y=this.graphType.match(/Area/)?0:this.plotByVariable?n:n+(this.blockSeparation+g)/2;if(t=r-2*this.margin,this.plotByVariable)for(x=0;x<this.varIndices.length;x++){for(b=0;b<this.timeValueIndices.length;b++){v=b/this.smpLabelInterval;parseInt(v)==parseFloat(v)&&(e=b*f+y+f,this.smpInfo[b]=e,this.smpLabelRotate?this.toRender({p:["drawText",this.timeValues[b],t-this.smpLabelFontSize/2,e,this.smpLabelFont,C,m,"middle",this.smpLabelRotate*Math.PI/180],a:this.getTextArea(this.timeValues[b],t-this.smpLabelFontSize/2,e,this.smpLabelFont,C,m,"middle",this.smpLabelRotate*Math.PI/180),i:["Smp-"+b],t:"Labels"}):this.toRender({p:["drawText",this.timeValues[b],t,e,this.smpLabelFont,C,"right","middle"],a:this.getTextArea(this.timeValues[b],t,e,this.smpLabelFont,C,"right","middle"),i:["Smp-"+b],t:"Labels"}))}y+=this.blockSeparation+g}else for(x=0;x<this.timeValueIndices.length;x++){v=x/this.smpLabelInterval;e=x*f+y,this.smpInfo[x]=e,parseInt(v)==parseFloat(v)&&(this.smpLabelRotate?this.toRender({p:["drawText",this.timeValues[x],t-this.smpLabelFontSize/2,e,this.smpLabelFont,C,m,"middle",this.smpLabelRotate*Math.PI/180],a:this.getTextArea(this.timeValues[x],t-this.smpLabelFontSize/2,e,this.smpLabelFont,C,m,"middle",this.smpLabelRotate*Math.PI/180),i:["Smp-"+x],t:"Labels"}):this.toRender({p:["drawText",this.timeValues[x],t,e,this.smpLabelFont,C,"right","middle"],a:this.getTextArea(this.timeValues[x],t,e,this.smpLabelFont,C,"right","middle"),i:["Smp-"+x],t:"Labels"}))}}else if(e=this.plotByVariable?n+(this.blockSeparation+this.rowBlockSize)/2:this.graphType.match(/Area|ParallelCoordinates/)?n:n+(this.blockSeparation+g)/2,t=r,r+this.x,a=t-(this.smpOverlaysThicknessLeft+2*this.margin)+this.margin*(this.layoutValid?-1:-2),this.plotByVariable)for(x=0;x<this.varIndices.length;x++){for(b=0;b<o.length;b++){v=b/this.smpLabelInterval;if(parseInt(v)==parseFloat(v)){A=o[b],w=this.shortenText(h[A],this.maxSmpStringLen),C=this.getSmpColor(h[A]);this.smpInfo[b]=e,this.smpLabelImage&&CanvasXpress.cacheImages.hasOwnProperty(h[A]+".png")||(this.smpLabelRotate?this.toRender({p:["drawText",w,a-this.smpLabelFontSize/2,e,this.smpLabelFont,C,m,"middle",this.smpLabelRotate*Math.PI/180],a:this.getTextArea(w,a-this.smpLabelFontSize/2,e,this.smpLabelFont,C,m,"middle",this.smpLabelRotate*Math.PI/180),i:["Smp-"+S],t:"Labels"}):this.toRender({p:["drawText",w,a,e,this.smpLabelFont,C,"right","middle"],a:this.getTextArea(w,a,e,this.smpLabelFont,C,"right","middle"),i:["Smp-"+S],t:"Labels"}))}e+=this.rowBlockSize}e+=this.blockSeparation}else if(o)for(T=0,x=0;x<o.length;x++){S=o[x],v=x/this.smpLabelInterval,w=l?l[S]:h[S],C=this.getSmpColor(h[S]);if(parseInt(v)==parseFloat(v)){this.smpInfo[x]=e;D=l?l[o[T]]:h[o[T]],M=this.isArray(D)?D:D.toString().split(" :: ");if(x>0&&this.parseInt(this.smpInfo[x])<this.parseInt(this.smpInfo[T]+this.smpLabelFontSize)){if(this.isGroupedData&&90==this.smpLabelRotate){w=this.isArray(w)?w:w.toString().split(" :: ");for(b=0;b<w.length;b++)p(x,b,e,a-b*(this.smpLabelFontSize+this.margin),C)}e+=this.blockSeparation+g;continue}if(this.isGroupedData&&90==this.smpLabelRotate)for(k=this.isArray(w)?w:w.toString().split(" :: "),b=0;b<k.length;b++){x>0&&M[b]!=k[b]&&delete c[k[b]];L=k[b];var F=p(x,b,e,P=a-b*(this.smpLabelFontSize+this.margin),C);c.hasOwnProperty(L)||(this.toRender({p:["drawText",L,P-this.smpLabelFontSize/2,F,this.smpLabelFont,C,m,"middle",this.smpLabelRotate*Math.PI/180],a:this.getTextArea(L,P-this.smpLabelFontSize/2,F,this.smpLabelFont,C,m,"middle",this.smpLabelRotate*Math.PI/180),i:["Smp-"+S],t:"Labels"}),this.toRender({p:["drawLine","line",t-2*this.margin,F,t-this.margin,F,this.xAxisTickColor],t:"Labels"}),c[L]=!0)}else{w=this.shortenText(w,this.maxSmpStringLen),x>0&&D!=w&&(c={});F=p(x,0,e,a,C);if(!c.hasOwnProperty(w)){if(this.smpLabelImage&&CanvasXpress.cacheImages.hasOwnProperty(w+".png")){var P=this.getSampleLabelLength(),R=a+this.margin-P/2;this.toRender({p:["drawShape","image",R,F-this.smpLabelFontSize/2,P,P,!1,!1,this.smpLabelImageRound,!1,!1,!1,!1,!1,!1,w+".png"],a:this.getShapeArea("image",R,F-this.smpLabelFontSize/2,P,P,!1,!1,this.smpLabelImageRound,!1,!1,!1,!1,!1,!1,w+".png"),i:["Smp-"+S],t:"Labels"})}else this.smpLabelRotate?this.toRender({p:["drawText",w,a-this.smpLabelFontSize/2,F,this.smpLabelFont,C,m,"middle",this.smpLabelRotate*Math.PI/180],a:this.getTextArea(w,a-this.smpLabelFontSize/2,F,this.smpLabelFont,C,m,"middle",this.smpLabelRotate*Math.PI/180),i:["Smp-"+S],t:"Labels"}):this.toRender({p:["drawText",w,a,F,this.smpLabelFont,C,"right","middle"],a:this.getTextArea(w,a,F,this.smpLabelFont,C,"right","middle"),i:["Smp-"+S],t:"Labels"});this.toRender({p:["drawLine","line",t-2*this.margin,F-this.margin,t-this.margin,F-this.margin,this.xAxisTickColor],t:"Labels"}),c[w]=!0}}T=x}e+=this.blockSeparation+g}}}},this.draw1DOverlaysDataPoints=function(t,e,i,a,s,r,n,o,h,l,c,d,p,g,u,m){for(var f,y,x,b,v,A,w,C,T=c,S=d,D=[],M=[],k=[],L={},I=h>=10?Math.min(.2*h,2*this.margin):h>=5?1:0,B=2*I,N=0,F=0;F<n.length;F++)L[n[F]]=N,N++;if("vertical"==l?this.toRender({p:["setClipArea",[c,d-o,this.x,o]],t:"Overlays"}):this.toRender({p:["setClipArea",[c,d,o,this.y]],t:"Overlays"}),"Pie"!=s){if(!g){g=[];var P=[];if(s.match(/Stacked/)){for(var R=!1,O=0;O<a.length;O++){var X=0,z=0;for(F=0;F<e.length;F++){var E=this.getMetadataValue(a[O],"smp"==t?"x":"z",e[F]);r[e[F]].type.match(/Line/)?D.push(E):E>0?X+=E:E<0&&(R=!0,z+=E)}g.push(X),P.push(z)}s.match(/StackedPercent/)?g=R?[-100,100]:[0,100]:(R?g=g.concat(P):g.push(0),D.length>0&&(C=(f=this.range(D))[1]))}else for(F=0;F<e.length;F++)for(O=0;O<a.length;O++){E=this.getMetadataValue(a[O],"smp"==t?"x":"z",e[F]);g.push(E)}}if("Treemap"!=s)if(C>(f=this.range(g))[1]&&(f[1]=C),y=this[this.axisAlgorithm](f[0],f[1],3,this.axisWilkinsonLoose),x=Math.min(f[0],y[0]),v=(o-2)/((b=Math.max(f[1],y[y.length-1]))-x),A=x<0?Math.abs(x)*v:0,u)w=h/u;else{N=0;for(F=0;F<e.length;F++)"Line"!=r[e[F]].type?r[e[F]].type==s&&N++:N++;w=h/N}}var _=w>=10?Math.min(.2*w,2*this.margin):w>=5?1:0,H=2*_;switch(s){case"Area":case"AreaLine":var V=[],G=[],q=[],j=[];for(F=0;F<e.length;F++)if(r[e[F]].type.match(/Line/))M.push(e[F]);else{var U=[];for(O=0;O<a.length;O++){E=this.getMetadataValue(a[O],"smp"==t?"x":"z",e[F]);U.push(E)}V.push(U),G.push(r[e[F]].color),q.push("closed"),j.push([this.capitalize(t)+"Ovr-"+L[e[F]]])}"vertical"==l?this.drawAreaPlot(V,c+h/2,d,this.x-h,o,h,!1,!1,v,x,b,l,!1,G,q,j,!1,p,!1,!0):"Area"==this.graphType?this.drawAreaPlot(V,c,d,o,(a.length-1)*h,h,!1,!1,v,x,b,l,!1,G,q,j,!1,p,!1,!0):this.drawAreaPlot(V,c,d+h/2,o,(a.length-1)*h,h,!1,!1,v,x,b,l,!1,G,q,j,!1,p,!1,!0),M.length>0&&this.draw1DOverlaysDataPoints(t,M,i,a,"Line",r,n,o,h,l,T,S,p,g,M.length,m);break;case"Bar":case"BarLine":case"Dotplot":case"DotLine":case"Line":var Y=this.jitter;this.jitter=!1;for(F=0;F<e.length;F++)if(r[e[F]].type.match(/BarLine|DotLine/)&&"Line"!=s)M.push(e[F]);else{V=[],G=[];var W=[],$=(j=[],[]);q=[];if("Dotplot"==s)for(O=0;O<a.length;O++){E=this.getMetadataValue(a[O],"smp"==t?"x":"z",e[F]);V.push([E]),G.push([r[e[F]].color]),W.push([!1]),j.push([[this.capitalize(t)+"Ovr-"+a[O]+"-"+L[e[F]]]]),$.push([this.margin]),q.push(["circle"])}else for(O=0;O<a.length;O++){E=this.getMetadataValue(a[O],"smp"==t?"x":"z",e[F]);V.push(E),G.push(r[e[F]].color),W.push(!1),j.push([this.capitalize(t)+"Ovr-"+a[O]+"-"+L[e[F]]])}if("Bar"==s)"vertical"==l?this.drawBarPlot(V,!1,c+_,d-A,w-H,h,v,A,x,l,G,W,j,!1,!1,p,!1,!0):this.drawBarPlot(V,!1,c,d+_,w-H,h,v,A,x,l,G,W,j,!1,!1,p,!1,!0);else if("Line"==s)"vertical"==l?this.drawLinePlot(V,!1,c+h/2,d,w,h,v,x,l,G[0],W,!1,j,!1,!1,p,e[F],!0):this.drawLinePlot(V,!1,c,d+h/2,w,h,v,x,l,G[0],W,!1,j,!1,!1,p,e[F],!0);else if("Dotplot"==s){var Q=this.graphType;this.graphType="Dotplot","vertical"==l?this.drawDotPlot(V,!1,c+h/2,d,w,h,v,x,$,l,G,W,q,j,!1,!1,p,e[F],!1,!0):this.drawDotPlot(V,!1,c,d+h/2,w,h,v,x,$,l,G,W,q,j,!1,!1,p,e[F],!1,!0),this.graphType=Q}"vertical"==l&&"Line"!=s&&"Dotplot"!=s?c+=w:"horizontal"==l&&"Line"!=s&&"Dotplot"!=s&&(d+=w)}M.length>0&&this.draw1DOverlaysDataPoints(t,M,i,a,"Line",r,n,o,h,l,T,S,p,g,M.length,m),this.jitter=Y;break;case"Pie":this.showPieValues=!1;for(O=0;O<a.length;O++){this.pieColors=[];for(V=[],j=[],F=0;F<e.length;F++){E=this.getMetadataValue(a[O],"smp"==t?"x":"z",e[F]);this.pieColors.push(r[e[F]].color),V.push(E),j.push([this.capitalize(t)+"Ovr-"+a[O]+"-"+L[e[F]]])}q=this.setPieData(V);"vertical"==l?(this.drawPie(q,c+h/2,d-o/2,Math.min(o/2,h/2)-2,j),c+=h):"horizontal"==l&&(this.drawPie(q,c+o/2,d+h/2,Math.min(o/2,h/2)-2,j),d+=h)}break;case"Stacked":case"StackedLine":case"StackedPercent":case"StackedPercentLine":for(F=0;F<e.length;F++)r[e[F]].type.match(/Line/)?M.push(e[F]):k.push(e[F]);for(O=0;O<a.length;O++){for(V=[],G=[],j=[],q=[],X=0,z=0,F=0;F<k.length;F++){(E=this.getMetadataValue(a[O],"smp"==t?"x":"z",k[F]))>0?X+=E:z+=E}for(F=0;F<k.length;F++){E=this.getMetadataValue(a[O],"smp"==t?"x":"z",k[F]);V.push(E),G.push(r[k[F]].color),q.push(!1),j.push([this.capitalize(t)+"Ovr-"+a[O]+"-"+L[e[F]]])}this.drawStackedPlot(V,c+("vertical"==l?I:0),d+("horizontal"==l?I:0),h-B,!1,!!s.match(/Percent/),[X,z],v,x<0?-x*v:0,l,G,q,j,!1,p,!1,!0),"vertical"==l?c+=h:"horizontal"==l&&(d+=h)}if(M.length>0)if(s.match(/Percent/)){var Z={};for(F=0;F<M.length;F++){E=this.getMetadataValue(a[O],"smp"==t?"x":"z",M[F]);Z[M[F]]=[],f=this.range(i[M[F]]);for(O=0;O<a.length;O++)Z[M[F]][a[O]]=this.percentile(f[0],f[1],E)}this.draw1DOverlaysDataPoints(t,M,Z,a,"Line",r,n,o,h,l,T,S,p,g,M.length,m)}else this.draw1DOverlaysDataPoints(t,M,i,a,"Line",r,n,o,h,l,T,S,p,g,M.length,m);break;case"Treemap":Z={};var K,J=this.meta.data["smp"==t?"x":"z"][e[0]];if("String"==J.type)for(F=0;F<g.length;F++)Z.hasOwnProperty(g[F])?Z[g[F]]++:Z[g[F]]=1;else{var tt=this.isGroupedData?this.data.w:this.data.y;for(F=0;F<a.length;F++)Z[tt.smps[a[F]]]=g[F]}"vertical"==l?(K=this.getTreemapOverlay(Z,J,this.x,o,c,d-o),this.drawTreemap(K,0,0)):"horizontal"==l&&(K=this.getTreemapOverlay(Z,J,o,this.y,c,d),this.drawTreemap(K,0,0))}if(this.toRender({p:["resetClipArea"],t:"Overlays"}),"Pie"!=s&&"Treemap"!=s){if(this.disableGradientTransparencyShadow(),"vertical"!=l||u){if("horizontal"==l&&!u){for(at=S-1.5*this.margin,F=0;F<y.length;F++){it=(y[F]-x)*v,et=p?T+p-it:T+it;this.toRender({p:["drawLine","line",et,S-this.margin,et,S,this.xAxisTickColor],t:"Overlays"}),this.toRender({p:["drawText",y[F].toString(),et,at,this.overlayFont,this.overlayFontColor,p?"left":"right","middle",p?-Math.PI/2:Math.PI/2],t:"Overlays"})}m?this.toRender({p:["drawShape","rectangle",T+o/2,S+this.y/2,o,this.y,!1,this.xAxisTickColor,"open",!1,this.outlineWidth],t:"Overlays"}):this.toRender({p:["drawLine","line",T,S,T+o,S,this.xAxisTickColor],t:"Overlays"})}}else{for(var et=T-1.5*this.margin,F=0;F<y.length;F++){var it,at=S-(it=(y[F]-x)*v);this.toRender({p:["drawLine","line",T-this.margin,at,T,at,this.xAxisTickColor],t:"Overlays"}),this.toRender({p:["drawText",y[F].toString(),et,at,this.overlayFont,this.overlayFontColor,"right","middle"],t:"Overlays"})}m?this.toRender({p:["drawShape","rectangle",T+this.x/2,S-o/2,this.x,o,!1,this.xAxisTickColor,"open",!1,this.outlineWidth],t:"Overlays"}):this.toRender({p:["drawLine","line",T,S-o,T,S,this.xAxisTickColor],t:"Overlays"})}this.enableGradientTransparencyShadow()}},this.getOverlayClipArea=function(t){var e=this.get1DLeft(),i=this.get1DTop();switch(t){case"top":return[e,this.marginTop+this.offsetY,e+this.x+1,i];case"bottom":return[e,i+this.y,e+this.x+1,i+this.y+this.bottom];case"right":return[e+this.x,i,e+this.x+this.right,i+this.y+1];case"left":return[this.marginLeft+this.offsetX,i,e,i+this.y+1];default:return!1}},this.isDrawOverlayNames=function(){return!this.layoutValid},this.draw1DOverlays=function(){var t,e,i,a,s,r,n,o,h,l,c,d,p={},g={},u=this.get1DLeft(),m=this.get1DTop(),f=this.get1DIndices(),y=this.meta.data;this.smpOverlayInfo={},this.varOverlayInfo={};var x=this,b=function(t,e){return"Numeric"==t.type?x.getColorForValue(t.colorBrew,e):t.colorBy?t.colorBy[e]:t.colors?t.colors[t.order[e]]:void 0};if("Treemap"!=this.graphType&&"TagCloud"!=this.graphType&&"Sankey"!=this.graphType&&"Tree"!=this.graphType&&"Meter"!=this.graphType){if("BarLine"!=this.graphType&&"DotLine"!=this.graphType||!this.xAxis2Title)o=this.graphType.match(/Stacked|Line|Area|Heatmap/)?1:this.plotByVariable?f.length:this.variableBlock;else{var v=this.getVariablesVisibleByAxis("xAxis"),A=this.getVariablesVisibleByAxis("xAxis2");o=Math.max(v.length,A.length)}if(this.showOverlays){if(this.smpOverlays.length>0){l=0;for(var w=0;w<this.smpOverlays.length;w++)g[this.smpOverlays[w]]=l,l++;if(n=o*this.rowBlockSize*("BarLine"==this.graphType||"DotLine"==this.graphType?2:1),h=this.isGroupedData?this.data.w.factors:this.data.x,"vertical"==this.graphOrientation){e=m+this.y+this.margin;for(w=0;w<this.smpOverlays.length;w++){var C=this.smpOverlays[w],T=this.shortenText(C,this.maxOverlayStringLen);if("-"!=C){if(d=this.getOverlayClipArea(this.smpOverlayProperties[C].position),"top"!=this.smpOverlayProperties[C].position||c||(e=m-this.smpOverlaysThicknessTop,c=!0),t=this.graphType.match(/Area/)?u-(n+this.blockSeparation)/2:u,i=n+this.blockSeparation,s=0,a=this.smpOverlayProperties[C].thickness||this.overlaysThickness,this.smpOverlayProperties[C].type.match(/Heatmap|Text|Default|Increase|Decrease|Boolean/)){N=this.smpOverlayProperties[C].type,R=this.smpOverlayProperties[C].showName;var S=this.smpOverlayProperties[C].rotate;for(z=0;z<f.length;z++){var D=null!=(_=this.getMetadataValue(f[z],this.isGroupedData?"w":"x",C))?b(y.x[C],_):this.missingDataColor,M=!1;if(z<f.length-1&&(M=this.getMetadataValue(f[z+1],this.isGroupedData?"w":"x",C)),_!==M||"Text"==N||"Boolean"==N){if("Text"!=N&&"Boolean"!=N){var k=t,L=t+i+s,I=e,B=e+a;"Increase"==N?this.toRender({p:["drawShape","path",[k,L,L,k],[B,I,B,B],!1,!1,this.colors[2],!1,!1,!1,!1,!0,d],a:this.getShapeArea("path",[k,L,L,k],[B,I,B,B],!1,!1,this.colors[2],!1,!1,!1,!1,!0,d),i:["SmpOvr-"+f[z]+"-"+w],h:this.isHidden(!1,!1,"Property:"+C+":"+_+":x"),t:"Overlays"}):"Decrease"==N?this.toRender({p:["drawShape","path",[k,L,k,k],[I,B,B,I],!1,!1,this.colors[2],!1,!1,!1,!1,!0,d],a:this.getShapeArea("path",[k,L,k,k],[I,B,B,I],!1,!1,this.colors[2],!1,!1,!1,!1,!0,d),i:["SmpOvr-"+f[z]+"-"+w],h:this.isHidden(!1,!1,"Property:"+C+":"+_+":x"),t:"Overlays"}):this.toRender({p:["drawShape","rectangle",t+(i+s)/2,e+a/2,i+s,a,D,!1,!1,!1,!1,!0,d],a:this.getShapeArea("rectangle",t+(i+s)/2,e+a/2,i+s,a,D,!1,!1,!1,!1,!0,d),i:["SmpOvr-"+f[z]+"-"+w],h:this.isHidden(!1,!1,"Property:"+C+":"+_+":x"),t:"Overlays"})}!this.showLevelOverlays&&"Text"!=N||"Boolean"==N||("Increase"==N?this.toRender({p:["drawText",this.shortenText(_,this.overlayFontSize,i+s),t+3*this.margin,e+3*this.margin,this.overlayFont,this.overlayFontColor,"left","middle",!1,i+s-2],t:"Overlays"}):"Decrease"==N?this.toRender({p:["drawText",this.shortenText(_,this.overlayFontSize,i+s),t+i+s-3*this.margin,e+3*this.margin,this.overlayFont,this.overlayFontColor,"right","middle",!1,i+s-2],t:"Overlays"}):i+s>a&&!S?this.toRender({p:["drawText",this.shortenText(_,this.overlayFontSize,i+s),t+(i+s)/2,e+a/2,this.overlayFont,this.overlayFontColor,"center","middle",!1,i+s-2],t:"Overlays"}):this.overlayFontSize<i+s&&this.toRender({p:["drawText",this.shortenText(_,this.overlayFontSize,a),t+(i+s)/2,e+a/2,this.overlayFont,this.overlayFontColor,"center","middle",-Math.PI/2,a-2],t:"Overlays"})),"Boolean"==N&&_&&this.toRender({p:["drawShape","rectangle",t+(i+s)/2,e+a/2,a/2,a/2,"black",!1,!1,!1,!1,!0,d],a:this.getShapeArea("rectangle",t+(i+s)/2,e+a/2,a/2,a/2,"black",!1,!1,!1,!1,!0,d),i:["SmpOvr-"+f[z]+"-"+w],h:this.isHidden(!1,!1,"Property:"+C+":"+_+":x"),t:"Overlays"}),t+=i+s,s=0}else s+=i}this.isDrawOverlayNames()&&(t=this.graphType.match(/Area/)?u+this.x+this.margin+(n+this.blockSeparation)/2:u+this.x+this.margin,this.smpOverlayInfo[C]=e+a/2,R&&this.toRender({p:["drawText",T,t,e+a/2,this.overlayFont,this.overlayFontColor,"left","middle",!1,this.measureText(T,this.overlayFont)],a:this.getTextArea(T,t,e+a/2,this.overlayFont,this.overlayFontColor,"left","middle",!1,this.measureText(T,this.overlayFont)),i:["SmpOverlay-"+w],t:"Overlays"}))}else{if(p.hasOwnProperty(C))continue;for(var N=this.smpOverlayProperties[C].type,F=this.smpOverlayProperties[C].position,P=this.getOverlaysForTypePosition("smp",N,F),R=this.smpOverlayProperties[C].showName,O=this.smpOverlayProperties[C].showBox,X=[],z=0;z<P.length;z++)X.unshift(P[z]);if(this.draw1DOverlaysDataPoints("smp",P,h,f,N,this.smpOverlayProperties,this.smpOverlays,a,i,"vertical",t,e+a,!1,!1,!1,O),this.isDrawOverlayNames()){t=this.graphType.match(/Area/)?u+this.x+this.margin+(n+this.blockSeparation)/2:u+this.x+this.margin,r=a/(P.length+1);for(var z=0;z<P.length;z++){p[V=X[z]]=!0,this.smpOverlayInfo[V]=e+r*(z+1),R&&this.toRender({p:["drawText",T,t,e+r*(z+1),this.overlayFont,this.smpOverlayProperties[V].color,"left","middle",!1,this.measureText(T,this.overlayFont)],a:this.getTextArea(T,t,e+r*(z+1),this.overlayFont,this.smpOverlayProperties[V].color,"left","middle",!1,this.measureText(T,this.overlayFont)),i:["SmpOverlay-"+g[V]],t:"Overlays"})}}}e+=a}else"-"==C&&(e+=this.margin)}}else{t=u-this.smpOverlaysThicknessLeft;for(w=0;w<this.smpOverlays.length;w++){C=this.smpOverlays[w],T=this.shortenText(C,this.maxOverlayStringLen);if("-"!=C){if(d=this.getOverlayClipArea(this.smpOverlayProperties[C].position),"right"!=this.smpOverlayProperties[C].position||c||(t=u+this.x+this.margin,c=!0),i=this.smpOverlayProperties[C].thickness||this.overlaysThickness,e=this.graphType.match(/Area/)?m-(n+this.blockSeparation)/2:m,a="Heatmap"!=this.graphType?n+this.blockSeparation:n,r=0,this.smpOverlayProperties[C].type.match(/Heatmap|Text|Default|Increase|Decrease|Boolean/)){for(N=this.smpOverlayProperties[C].type,F=this.smpOverlayProperties[C].position,R=this.smpOverlayProperties[C].showName,S=this.smpOverlayProperties[C].rotate,z=0;z<f.length;z++){D=null!=(_=this.getMetadataValue(f[z],this.isGroupedData?"w":"x",C))?b(y.x[C],_):this.missingDataColor,M=!1;if(z<f.length-1&&(M=this.getMetadataValue(f[z+1],this.isGroupedData?"w":"x",C)),_!==M||"Text"==N||"Boolean"==N){if("Text"!=N&&"Boolean"!=N){k="left"==F?t:t+i,L="left"==F?t+i:t,I=e,B=e+a+r;"Increase"==N?this.toRender({p:["drawShape","path",[L,L,k,L],[I,B,B,I],!1,!1,D,!1,!1,!1,!1,!0,d],a:this.getShapeArea("path",[L,L,k,L],[I,B,B,I],!1,!1,D,!1,!1,!1,!1,!0,d),i:["SmpOvr-"+f[z]+"-"+w],h:this.isHidden(!1,!1,"Property:"+C+":"+_+":x"),t:"Overlays"}):"Decrease"==N?this.toRender({p:["drawShape","path",[k,L,L,k],[I,I,B,I],!1,!1,D,!1,!1,!1,!1,!0,d],a:this.getShapeArea("path",[k,L,L,k],[I,I,B,I],!1,!1,D,!1,!1,!1,!1,!0,d),i:["SmpOvr-"+f[z]+"-"+w],h:this.isHidden(!1,!1,"Property:"+C+":"+_+":x"),t:"Overlays"}):this.toRender({p:["drawShape","rectangle",t+i/2,e+(a+r)/2,i,a+r,D,!1,!1,!1,!1,!0,d],a:this.getShapeArea("rectangle",t+i/2,e+(a+r)/2,i,a+r,D,!1,!1,!1,!1,!0,d),i:["SmpOvr-"+f[z]+"-"+w],h:this.isHidden(!1,!1,"Property:"+C+":"+_+":x"),t:"Overlays"})}if("Heatmap"==this.graphType&&this.heatmapSmpSeparateBy&&this.heatmapSmpSeparateBy==C){var E=(I=e+a+r)-(this.heatmapSeparatorThickness-this.heatmapCellBoxWidth);I+(this.heatmapSeparatorThickness-this.heatmapCellBoxWidth)<m+this.y-this.margin&&this.toRender({p:["drawShape","rectangle",u-1+(this.x+1)/2,E+this.heatmapSeparatorThickness/2,this.x+1,this.heatmapSeparatorThickness,this.background,this.background],t:"Overlays"})}!this.showLevelOverlays&&"Text"!=N||"Boolean"==N||("Increase"==N?this.toRender({p:["drawText",this.shortenText(_,this.overlayFontSize,a+r),t+("left"==F?0:i)+3*this.margin*("left"==F?1:-1),e+3*this.margin,this.overlayFont,this.overlayFontColor,"left","middle","left"==F?-Math.PI/2:Math.PI/2,a+r-2],t:"Overlays"}):"Decrease"==N?this.toRender({p:["drawText",this.shortenText(_,this.overlayFontSize,a+r),t+("left"==F?0:i)+3*this.margin*("left"==F?1:-1),e+a+r-3*this.margin,this.overlayFont,this.overlayFontColor,"right","middle","left"==F?-Math.PI/2:Math.PI/2,a+r-2],t:"Overlays"}):a+r>i&&!S?this.toRender({p:["drawText",this.shortenText(_,this.overlayFontSize,a+r),t+i/2,e+(a+r)/2,this.overlayFont,this.overlayFontColor,"center","middle","left"==F?-Math.PI/2:Math.PI/2,a+r-2],t:"Overlays"}):this.overlayFontSize<a+r&&this.toRender({p:["drawText",this.shortenText(_,this.overlayFontSize,i),t+i/2,e+(a+r)/2,this.overlayFont,this.overlayFontColor,"center","middle",!1,i-2],t:"Overlays"})),"Boolean"==N&&_&&this.toRender({p:["drawShape","rectangle",t+i/2,e+(a+r)/2,i/2,i/2,"black",!1,!1,!1,!1,!0,d],a:this.getShapeArea("rectangle",t+i/2,e+(a+r)/2,i/2,i/2,"black",!1,!1,!1,!1,!0,d),i:["SmpOvr-"+f[z]+"-"+w],h:this.isHidden(!1,!1,"Property:"+C+":"+_+":x"),t:"Overlays"}),e+=a+r,r=0}else r+=a}this.isDrawOverlayNames()&&(e=this.graphType.match(/Area/)?m+this.y+this.margin+(n+this.blockSeparation)/2:m+this.y+this.margin,this.smpOverlayInfo[C]=t+i/2,R&&this.toRender({p:["drawText",T,t+i/2,e,this.overlayFont,this.overlayFontColor,"left"==F?"right":"left","middle","left"==F?-Math.PI/2:Math.PI/2],a:this.getTextArea(T,t+i/2,e,this.overlayFont,this.overlayFontColor,"left"==F?"right":"left","middle","left"==F?-Math.PI/2:Math.PI/2),i:["SmpOverlay-"+g[T]],t:"Overlays"}))}else{if(p.hasOwnProperty(C))continue;var N=this.smpOverlayProperties[C].type,F=this.smpOverlayProperties[C].position,R=(P=this.getOverlaysForTypePosition("smp",N,F),this.smpOverlayProperties[C].showName);for(O=this.smpOverlayProperties[C].showBox,X=[],z=0;z<P.length;z++)X.unshift(P[z]);if(this.draw1DOverlaysDataPoints("smp",P,h,f,N,this.smpOverlayProperties,this.smpOverlays,i,a,"horizontal",t,e,"left"==F&&i,!1,!1,O),this.isDrawOverlayNames()){e=this.graphType.match(/Area/)?m+this.y+this.margin+(n+this.blockSeparation)/2:m+this.y+this.margin,s=i/(P.length+1);for(z=0;z<P.length;z++){p[V=X[z]]=!0,this.smpOverlayInfo[V]=t+s*(z+1),R&&this.toRender({p:["drawText",this.shortenText(V,this.maxOverlayStringLen),t+s*(z+1),e,this.overlayFont,this.smpOverlayProperties[V].color,"left"==F?"right":"left","middle","left"==F?-Math.PI/2:Math.PI/2],a:this.getTextArea(this.shortenText(V,this.maxOverlayStringLen),t+s*(z+1),e,this.overlayFont,this.smpOverlayProperties[V].color,"left"==F?"right":"left","middle","left"==F?-Math.PI/2:Math.PI/2),i:["SmpOverlay-"+g[V]],t:"Overlays"})}}}t+=i}else"-"==C&&(t+=this.margin)}}}if(p={},c=!1,this.varOverlays.length>0&&"Heatmap"==this.graphType){l=0;for(w=0;w<this.varOverlays.length;w++)g[this.varOverlays[w]]=l,l++;e=m+this.y+this.margin;for(w=0;w<this.varOverlays.length;w++){C=this.varOverlays[w],T=this.shortenText(C,this.maxOverlayStringLen);if("-"!=C){if(d=this.getOverlayClipArea(this.varOverlayProperties[C].position),"top"!=this.varOverlayProperties[C].position||c||(e=m-this.varOverlaysThicknessTop,c=!0),t=u+this.colBlockSize/2,i=0,a=this.varOverlayProperties[C].thickness||this.overlaysThickness,this.varOverlayProperties[C].type.match(/Heatmap|Text|Default|Increase|Decrease|Boolean/)){for(N=this.varOverlayProperties[C].type,R=this.varOverlayProperties[C].showName,S=this.varOverlayProperties[C].rotate,z=0;z<this.varIndices.length;z++){var _;D=null!=(_=this.getMetadataValue(this.varIndices[z],"z",C))?b(y.z[C],_):this.missingDataColor;if(_!=(M=z<this.varIndices.length-1&&this.getMetadataValue(this.varIndices[z+1],"z",C))||"Text"==N||"Boolean"==N){if("Text"!=N&&"Boolean"!=N){L=(k=t-this.colBlockSize/2)+this.colBlockSize+i,I=e,B=e+a;"Increase"==N?this.toRender({p:["drawShape","path",[k,L,L,k],[B,I,B,B],!1,!1,D,!1,!1,!1,!1,!0,d],a:this.getShapeArea("path",[k,L,L,k],[B,I,B,B],!1,!1,D,!1,!1,!1,!1,!0,d),i:["VarOvr-"+this.varIndices[z]+"-"+w],h:this.isHidden(!1,!1,"Property:"+C+":"+_+":z"),t:"Overlays"}):"Decrease"==N?this.toRender({p:["drawShape","path",[k,L,k,k],[I,B,B,I],!1,!1,D,!1,!1,!1,!1,!0,d],a:this.getShapeArea("path",[k,L,k,k],[I,B,B,I],!1,!1,D,!1,!1,!1,!1,!0,d),i:["VarOvr-"+this.varIndices[z]+"-"+w],h:this.isHidden(!1,!1,"Property:"+C+":"+_+":z"),t:"Overlays"}):this.toRender({p:["drawShape","rectangle",t-this.colBlockSize/2+(this.colBlockSize+i)/2,e+a/2,this.colBlockSize+i,a,D,!1,!1,!1,!1,!0,d],a:this.getShapeArea("rectangle",t-this.colBlockSize/2+(this.colBlockSize+i)/2,e+a/2,this.colBlockSize+i,a,D,!1,!1,!1,!1,!0,d),i:["VarOvr-"+this.varIndices[z]+"-"+w],h:this.isHidden(!1,!1,"Property:"+C+":"+_+":z"),t:"Overlays"})}if("Heatmap"==this.graphType&&this.heatmapVarSeparateBy&&this.heatmapVarSeparateBy==C){var H=(k=t-this.colBlockSize/2+this.colBlockSize+i)-(this.heatmapSeparatorThickness-this.heatmapCellBoxWidth);k+(this.heatmapSeparatorThickness-this.heatmapCellBoxWidth)<u+this.x-this.margin&&this.toRender({p:["drawShape","rectangle",H+this.heatmapSeparatorThickness/2,m-1+(this.y+1)/2,this.heatmapSeparatorThickness,this.y+1,this.background,this.background],t:"Overlays"})}!this.showLevelOverlays&&"Text"!=N||"Boolean"==N||("Increase"==N?this.toRender({p:["drawText",this.shortenText(_,this.overlayFontSize,this.colBlockSize+i),t+this.margin,e+this.margin,this.overlayFont,this.overlayFontColor,"left","middle",!1,this.colBlockSize+i-2],t:"Overlays"}):"Decrease"==N?this.toRender({p:["drawText",this.shortenText(_,this.overlayFontSize,this.colBlockSize+i),t+i-this.margin,e+this.margin,this.overlayFont,this.overlayFontColor,"right","middle",!1,this.colBlockSize+i-2],t:"Overlays"}):this.colBlockSize+i>a&&!S?this.toRender({p:["drawText",this.shortenText(_,this.overlayFontSize,this.colBlockSize+i),t+i/2,e+a/2,this.overlayFont,this.overlayFontColor,"center","middle",!1,this.colBlockSize+i-2],t:"Overlays"}):this.overlayFontSize<this.colBlockSize+i&&this.toRender({p:["drawText",this.shortenText(_,this.overlayFontSize,a),t+i/2,e+a/2,this.overlayFont,this.overlayFontColor,"center","middle",-Math.PI/2,a-2],t:"Overlays"})),"Boolean"==N&&_&&this.toRender({p:["drawShape","rectangle",t-this.colBlockSize/2+(this.colBlockSize+i)/2,e+a/2,a/2,a/2,"black",!1,!1,!1,!1,!0,d],a:this.getShapeArea("rectangle",t-this.colBlockSize/2+(this.colBlockSize+i)/2,e+a/2,a/2,a/2,"black",!1,!1,!1,!1,!0,d),i:["VarOvr-"+this.varIndices[z]+"-"+w],h:this.isHidden(!1,!1,"Property:"+C+":"+_+":z"),t:"Overlays"}),t+=this.colBlockSize+i,i=0}else i+=this.colBlockSize}t=u+this.colBlockSize*this.varIndices.length+this.margin,this.varOverlayInfo[C]=e+a/2,R&&this.toRender({p:["drawText",T,t,e+a/2,this.overlayFont,this.overlayFontColor,"left","middle",!1,this.measureText(T,this.overlayFont)],a:this.getTextArea(T,t,e+a/2,this.overlayFont,this.overlayFontColor,"left","middle",!1,this.measureText(T,this.overlayFont)),i:["VarOverlay-"+g[T]],t:"Overlays"})}else{if(p.hasOwnProperty(C))continue;for(N=this.varOverlayProperties[C].type,F=this.varOverlayProperties[C].position,P=this.getOverlaysForTypePosition("var",N,F),R=this.varOverlayProperties[C].showName,O=this.varOverlayProperties[C].showBox,X=[],z=0;z<P.length;z++)X.unshift(P[z]);this.draw1DOverlaysDataPoints("var",P,this.data.z,this.varIndices,N,this.varOverlayProperties,this.varOverlays,a,this.colBlockSize,"vertical",t-this.colBlockSize/2,e+a,!1,!1,!1,O),t=u+this.colBlockSize*this.varIndices.length+this.margin,r=a/(P.length+1);for(z=0;z<P.length;z++){var V=X[z];T=this.shortenText(V,this.maxOverlayStringLen);p[V]=!0,this.varOverlayInfo[V]=e+r*(z+1),R&&this.toRender({p:["drawText",T,t,e+r*(z+1),this.overlayFont,this.varOverlayProperties[V].color,"left","middle",!1,this.measureText(T,this.overlayFont)],a:this.getTextArea(T,t,e+r*(z+1),this.overlayFont,this.varOverlayProperties[V].color,"left","middle",!1,this.measureText(T,this.overlayFont)),i:["VarOverlay-"+g[V]],t:"Overlays"})}}e+=a}else"-"==C&&(e+=this.margin)}}}}},this.getAxisDescription=function(t,e){var i,a={standardDeviation:"Std Dev.",standardErrorMean:"Std Error of Mean",confidenceInterval95:"95% CI"},s="Boxplot"!=this.graphType&&!this.graphType.match(/stacked/i)&&"Treemap"!=this.graphType;if(t){if(this.getLayoutConfig("xAxis2Title")&&!e)return this.getLayoutConfig("xAxis2Title");this.graphType.match(/BarLine|DotLine|AreaLine|StackedLine|StackedPercentLine/)&&this.xAxis2Values.length>0&&"swimmer"!=this.barType||e?(i=this.xAxis2Title?this.xAxis2Title+" (Lines)":e?"":"(Lines)",this.showErrorBars&&this.isGroupedData&&s&&(i=""!=i?i+"; Error bars are the "+a[this.errorBarsType]:"Error bars are the "+a[this.errorBarsType])):i=this.xAxis2Title?this.xAxis2Title:""}else{if(this.getLayoutConfig("xAxisTitle")&&!e)return this.getLayoutConfig("xAxisTitle");i=this.xAxisTitle?this.xAxisTitle:"",this.graphType.match(/BarLine|DotLine|AreaLine|StackedLine|StackedPercentLine/)&&this.xAxisValues.length>0&&"swimmer"!=this.barType&&(this.graphType.match(/BarLine|StackedLine|StackedPercentLine/)?i+=" (Bars)":this.graphType.match(/DotLine/)?i+=" (Dots)":"AreaLine"==this.graphType&&(i+=" (Area)")),this.showErrorBars&&(this.isGroupedData||this.layoutValid&&this.data.l&&this.data.l.group&&s)&&s&&"swimmer"!=this.barType&&(i=""!=i?i+"; Error bars are the "+a[this.errorBarsType]:"Error bars are the "+a[this.errorBarsType])}return this.transformData?this.transformData+" "+i:i},this.draw1DXLayout=function(){var t,e,i,a,s,r,n,o=this.get1DLeft(),h=this.get1DTop(),l="Gantt"==this.graphType?1:(this.layoutComb,0),c="Gantt"==this.graphType||this.layoutComb?1:0,d=this,p=function(t,e){return"Gantt"==d.graphType?d.dateFormat(t,":yyyy:mmm dd").replace(/:/g,"\n"):d.xAxisTransform&&d.xAxisTransform.match(/log|exp/)&&!d.xAxisTransformTicks?d.formatAxisValue(d.transformValue(d.xAxisTransform,t,!0),e||"xAxis"):d.isTransformedData&&d.isTransformedData.match(/log|exp/)&&!d.xAxisTransformTicks?d.formatAxisValue(d.transformValue(d.isTransformedData,t,!0),e||"xAxis"):d.formatAxisValue(i,e||"xAxis")};if("Treemap"!=this.graphType&&"TagCloud"!=this.graphType&&"ParallelCoordinates"!=this.graphType&&"Sankey"!=this.graphType&&"Tree"!=this.graphType&&("Meter"!=this.graphType||this.meterType.match(this.graphOrientation)))if(this.layoutValid||(this.layoutAxis=3),"Heatmap"==this.graphType){this.getHeatmapIndicatorHeight();if(this.showHeatmapIndicator&&(this.layoutValid?(s=this.width/2-this.heatmapIndicatorWidth/2,r=this.height-this.layoutBottom):("right"==this.heatmapIndicatorPosition?(this.heatmapIndicatorY=h,s=this.width-(this.marginRight+this.getHeatmapIndicatorWidth())):s="top"==this.heatmapIndicatorPosition?o+this.x/2-this.heatmapIndicatorWidth/2:"topLeft"==this.heatmapIndicatorPosition?this.left>this.heatmapIndicatorWidth+6*this.margin?o-(this.heatmapIndicatorWidth+4*this.margin):this.marginLeft+this.offsetX+6*this.margin:this.right>this.heatmapIndicatorWidth+6*this.margin?o+this.x+2*this.margin:this.width-(this.marginRight+(this.heatmapIndicatorWidth+6*this.margin)),r=this.heatmapIndicatorY),this.layoutValid||"right"==this.heatmapIndicatorPosition||("top"==this.varDendrogramPosition&&(r-=this.getVarTreeHeight()),r-=this.varOverlaysThicknessTop,"bottom"!=this.varTitleLabelPosition&&(r-=this.getVariableTitleHeight(),r-=this.getVariableLabelLength()),r-=this.margin),!this.isOncoprint)){var g=this.colorBy,u=this.outlineBy;this.colorBy=!1,this.outlineBy=!1,this.drawColorIndicator(s,r,this.getDefaultMetaDataObject(),!!this.xAxisTitle&&this.xAxisTitle,!0),this.colorBy=g,this.outlineBy=u}}else{if((this.xAxisTransform&&this.xAxisTransform.match(/log/)&&!this.xAxisTransformTicks||this.isTransformedData&&this.isTransformedData.match(/log|exp/)&&!this.xAxisTransformTicks)&&(this.xAxisDecs=parseInt(Math.abs(this.xAxisMin))),"vertical"==this.graphOrientation){if(n=this.xAxisMin<0?h+this.y-(0-this.xAxisMin)*this.xAxisUnit:h+this.y,this.xAxisShow&&(1==this.layoutAxis||3==this.layoutAxis)){this.xAxisTitle&&""!=this.xAxisTitle&&(s=o+this.axisTitleFontSize/2-this.getAxisTitleTickLength(),r=h+this.y/2,t=this.getAxisDescription(),this.toRender({p:["drawText",t,s,r,this.axisTitleFont,this.axisTitleColor,"center","middle",-Math.PI/2],t:"Axes"})),"right",e=this.xAxisValuesRaw,s=o-2*this.margin;for(var m=l;m<e.length-c;m++)(i=this.xAxisValuesRaw[m])>=this.xAxisMin&&("Meter"==this.graphType?i<=this.xAxisMax:i<this.xAxisMax)&&(a=p(i),r=h+this.y-(i-this.xAxisMin)*this.xAxisUnit,this.toRender({p:["drawText",a,s,r,this.axisTickFont,this.axisTickColor,"right","middle"],b:n,t:"Axes"}))}if(this.xAxis2Show&&(2==this.layoutAxis||3==this.layoutAxis)&&"Meter"!=this.graphType){if("left",s=o+this.x+2*this.margin,this.graphType.match(/BarLine|DotLine|AreaLine|StackedLine|StackedPercentLine/)&&this.xAxis2Values.length>0){n=this.xAxis2Min<0?h+this.y-(0-this.xAxis2Min)*this.xAxis2Unit:h+this.y;for(m=l;m<this.xAxis2Values.length-c;m++)(i=this.xAxis2ValuesRaw[m])>=this.xAxis2Min&&i<this.xAxis2Max&&(a=p(i,"xAxis2"),r=h+this.y-(i-this.xAxis2Min)*this.xAxis2Unit,this.toRender({p:["drawText",a,s,r,this.axisTickFont,this.axisTickColor,"left","middle"],b:n,t:"Axes"}))}else{n=this.xAxisMin<0?h+this.y-(0-this.xAxisMin)*this.xAxisUnit:h+this.y,e=this.xAxisValuesRaw;for(m=l;m<e.length-c;m++)(i=e[m])>=this.xAxisMin&&i<this.xAxisMax&&(a=p(i),r=h+this.y-(i-this.xAxisMin)*this.xAxisUnit,this.toRender({p:["drawText",a,s,r,this.axisTickFont,this.axisTickColor,"left","middle"],b:n,t:"Axes"}))}""!=this.xAxis2Title&&(s=o+this.x+this.getAxisTitleTickLength(!0)-this.axisTitleFontSize/2,r=h+this.y/2,t=this.getAxisDescription(!0),this.toRender({p:["drawText",t,s,r,this.axisTitleFont,this.axisTitleColor,"center","middle",-Math.PI/2],t:"Axes"}))}}else{if(n=this.xAxisMin<0?o+this.x-(0-this.xAxisMin)*this.xAxisUnit:o,this.xAxisShow&&(1==this.layoutAxis||3==this.layoutAxis)){this.xAxisTitle&&""!=this.xAxisTitle&&(s=o+this.x/2,r=h-(4*this.margin+this.axisTickFontSize+this.axisTitleFontSize/2),t=this.getAxisDescription(),this.toRender({p:["drawText",t,s,r,this.axisTitleFont,this.axisTitleColor,"center","middle"],t:"Axes"})),e=this.xAxisValuesRaw,r=h-(2*this.margin+this.axisTickFontSize/2),this.layoutValid&&"wrap"==this.layoutType&&(r-=(this.segregateVariablesBy.length+this.segregateSamplesBy.length)*this.layoutLabelBoxThickness);for(m=l;m<e.length-c;m++)(i=e[m])>=this.xAxisMin&&("Meter"==this.graphType?i<=this.xAxisMax:i<this.xAxisMax)&&(a=p(i),s=this.invertGraph?o+this.x-(i-this.xAxisMin)*this.xAxisUnit:o+(i-this.xAxisMin)*this.xAxisUnit,this.toRender({p:["drawText",a,s,r,this.axisTickFont,this.axisTickColor,"center","middle"],b:n,t:"Axes"}))}if(this.xAxis2Show&&(2==this.layoutAxis||3==this.layoutAxis)&&"Meter"!=this.graphType){if(r=h+this.y+2*this.margin+this.axisTickFontSize/2,this.graphType.match(/BarLine|DotLine|AreaLine|StackedLine|StackedPercentLine/)&&this.xAxis2Values.length>0){n=this.xAxis2Min<0?o+this.x-(0-this.xAxis2Min)*this.xAxis2Unit:o;for(m=l;m<this.xAxis2Values.length-c;m++)(i=this.xAxis2ValuesRaw[m])>=this.xAxis2Min&&i<this.xAxis2Max&&(a=p(i,"xAxis2"),s=this.invertGraph?o+this.x-(i-this.xAxis2Min)*this.xAxis2Unit:o+(i-this.xAxis2Min)*this.xAxis2Unit,this.toRender({p:["drawText",a,s,r,this.axisTickFont,this.axisTickColor,"center","middle"],b:n,t:"Axes"}))}else{n=this.xAxisMin<0?o+this.x-(0-this.xAxisMin)*this.xAxisUnit:o,e=this.xAxisValuesRaw;for(m=l;m<e.length-c;m++)(i=e[m])>=this.xAxisMin&&i<this.xAxisMax&&(a=p(i),s=this.invertGraph?o+this.x-(i-this.xAxisMin)*this.xAxisUnit:o+(i-this.xAxisMin)*this.xAxisUnit,this.toRender({p:["drawText",a,s,r,this.axisTickFont,this.axisTickColor,"center","middle"],b:n,t:"Axes"}))}""!=this.xAxis2Title&&(s=o+this.x/2,r=h+this.y+3*this.margin+this.axisTickFontSize+this.axisTitleFontSize/2,t=this.getAxisDescription(!0),this.toRender({p:["drawText",t,s,r,this.axisTitleFont,this.axisTitleColor,"center","middle"],t:"Axes"}))}}this.plotBox&&(this.disableGradientTransparencyShadow(),this.toRender({p:["drawShape","rectangle",o+this.x/2,h+this.y/2,this.x,this.y,this.plotBoxColor,this.plotBoxColor,"open",!1,this.outlineWidth],t:"Axes"}),this.enableGradientTransparencyShadow())}},this.draw1DDataPoints=function(){if(!(this.smpIndices&&this.smpIndices.length<1)){switch(this.currentErrorBarsType||(this.currentErrorBarsType=this.errorBarsType),this.currentErrorBarsType!=this.errorBarsType&&this.isGroupedData&&(this.regroupSamples(),this.currentErrorBarsType=this.errorBarsType),this.toRender({p:["setClipArea",this.setClipBoundaries()],t:"Data"}),this.graphType){case"Bar":this.stackBy?this.draw1DStackedDataPoints():(this.draw1DBarDataPoints(this.varIndices,"xAxis",this.varIndices.length),"lollipop"==this.barType&&this.draw1DDotplotDataPoints(!1,!1,this.varIndices.length));break;case"Line":case"ParallelCoordinates":this.draw1DLineDataPoints(this.varIndices,"xAxis");break;case"BarLine":this.draw1DBarDataPoints(this.xAxisVarIndices,"xAxis",Math.max(this.xAxisVarIndices.length,this.xAxis2VarIndices.length)),this.draw1DLineDataPoints(this.xAxis2VarIndices,"xAxis2",Math.max(this.xAxisVarIndices.length,this.xAxis2VarIndices.length));break;case"Stacked":case"StackedPercent":this.draw1DStackedDataPoints();break;case"StackedLine":case"StackedPercentLine":this.draw1DStackedDataPoints(),this.draw1DLineDataPoints(this.xAxis2VarIndices,"xAxis2");break;case"Area":this.draw1DAreaDataPoints(this.varIndices,"xAxis");break;case"AreaLine":this.draw1DAreaDataPoints(this.xAxisVarIndices,"xAxis"),this.draw1DAreaDataPoints(this.xAxis2VarIndices,"xAxis2",!0);break;case"Boxplot":this.showBoxplotOriginalData?(this.draw1DBoxplotDataPoints(!0,!1),this.draw1DDotplotDataPoints(!0,!0,this.varIndices.length)):this.showViolinBoxplot?(this.draw1DDotplotDataPoints(!0,!0,this.varIndices.length),this.draw1DBoxplotDataPoints(!0)):this.draw1DBoxplotDataPoints();break;case"Gantt":this.draw1DGanttDataPoints();break;case"Meter":this.draw1DMeterDataPoints();break;case"Dotplot":this.draw1DDotplotDataPoints(!1,!1,this.varIndices.length);break;case"DotLine":this.draw1DDotplotDataPoints(!1,!1,Math.max(this.xAxisVarIndices.length,this.xAxis2VarIndices.length)),this.draw1DLineDataPoints(this.xAxis2VarIndices,"xAxis2",Math.max(this.xAxisVarIndices.length,this.xAxis2VarIndices.length));break;case"Heatmap":if(this.isContour)this.draw1DHeatmapDataPoints(),this.draw1DContour();else if(this.isOncoprint&&this.showHeatmapOncoprint)switch(this.oncoprintHeatmapPosition){case"top":this.draw1DHeatmapDataPoints(!0),this.draw1DHeatmapDataPoints(!1,!0);break;case"right":case"bottom":this.draw1DHeatmapDataPoints(),this.draw1DHeatmapDataPoints(!0,!0);break;case"left":this.draw1DHeatmapDataPoints(!0),this.draw1DHeatmapDataPoints(!1,!0)}else this.draw1DHeatmapDataPoints();break;case"Treemap":this.draw1DTreemapDataPoints();break;case"TagCloud":this.draw1DTagCloudDataPoints();break;case"Sankey":this.draw1DSankeyDataPoints();break;case"Tree":this.draw1DTreeDataPoints()}return this.toRender({p:["resetClipArea"],t:"Data"}),!0}},this.draw1DBarDataPoints=function(t,e,i){var a=this,s=this.get1DIndices(),r=function(t){if(a.graphType.match(/Line/)){for(var e=[],i=0;i<t.length;i++)a.varIndices.includes(t[i])&&e.push(t[i]);return e}return t}(t),n=s.length,o=this.xAxisMin<0?Math.abs(this.xAxisMin)*this.xAxisUnit:0,h=this.get1DLeft(),l=this.get1DTop(),c=this.plotByVariable?this.rowBlockSize:this.blockSeparation+this.rowBlockSize*i,d="swimmer"==this.barType?this.rowBlockSize*(r.length-1):this.rowBlockSize;this.xAxisTransform&&"percentile"==this.xAxisTransform&&this.setRangeData(this.summaryType),"vertical"==this.graphOrientation?(h+=this.blockSeparation/2+("swimmer"==this.barType?this.rowBlockSize/2:0),l=l+this.y-o):(h+=o,l+=this.blockSeparation/2+("swimmer"==this.barType?this.rowBlockSize/2:0));for(var p=0;p<r.length;p++){for(var g=[],u=[],m=[],f=[],y=[],x=0;x<n;x++)m.push(this.getPropertyValue(r[p],s[x],"colorBy")),y.push(this.getPropertyValue(r[p],s[x],"patternBy")),g.push(this.getDataAtPos(r[p],s[x],!1,this.xAxisTransform,this.xAxisFloorValue,this.xAxisCeilValue)),(this.isGroupedData||this.data.y.hasOwnProperty("stdev"))&&"swimmer"!=this.barType&&u.push(this.getDataAtPos(r[p],s[x],"stdev",this.xAxisTransform,this.xAxisFloorValue,this.xAxisCeilValue)),f.push([r[p],s[x]]);if(this.drawBarPlot(g,u,h,l,d,c,this[e+"Unit"],o,this[e+"Min"],this.graphOrientation,m,y,f,!1,!1,!!this.invertGraph&&this.x-o,this.isSwimmerSumarized),"vertical"==this.graphOrientation?h=this.plotByVariable?h+(this.blockSeparation+this.rowBlockSize*n):h+this.rowBlockSize:l=this.plotByVariable?l+(this.blockSeparation+this.rowBlockSize*n):l+this.rowBlockSize,"swimmer"==this.barType)return}},this.draw1DLineDataPoints=function(t,e,i){var a=this,s=function(e){return a.layoutValid?a.linePatterns[t[e]%a.linePatterns.length]:a.linePatterns[e%a.linePatterns.length]},r=function(e){if(a.layoutValid&&a.graphType.match(/Bar|Stacked|Dot/))for(x=0;x<t.length;x++)if(t[x]==h[e])return a.colors[x%a.colors.length];return a.colors[e%a.colors.length]},n=function(t,e){for(var i=[],s=0;s<e.length;s++)i.push(a.getDataAtPos(t,e[s],!1,a.xAxisTransform,a.xAxisFloorValue,a.xAxisCeilValue));return i.length>1?a.meanStandardDeviationN(i):[i[0],NaN,1]},o=this.get1DIndices(),h=function(){if(a.graphType.match(/Bar|Stacked|Dot/)){for(var e=[],i=0;i<t.length;i++)a.varIndices.includes(t[i])&&e.push(t[i]);return e}return t}(),l=o.length,c=this.get1DLeft(),d=this.get1DTop(),p="BarLine"==this.graphType||"DotLine"==this.graphType,g=p?this.blockSeparation+i*this.rowBlockSize:this.blockSeparation+this.rowBlockSize,u="ParallelCoordinates"==this.graphType?0:(this.blockSeparation+this.rowBlockSize)/2,m=!!this.colorBy&&this.getSampleIndices(this.colorBy),f=!(!this.isGroupedData||!this.lineBy)&&this.getLevelsByAnnotation(this.lineBy,this.smpIndices,"x",!0);this.xAxisTransform&&"percentile"==this.xAxisTransform&&this.setRangeData(this.summaryType),"vertical"==this.graphOrientation?(c+=u,d+=this.y):d+=u;for(var y=0;y<h.length;y++)if(this.isGroupedData&&this.lineBy){this.isGroupedData=!1;for(var x=0;x<f.length;x++){for(var b=[],v=[],A=this.meta.data.x[this.lineBy].colors[this.meta.data.x[this.lineBy].order[f[x]]],w="DotLine"!=this.graphType&&("symbol"==this.lineDecoration?this.shapes[y%this.shapes.length]:"sphere"),C=[],T=[],S=0;S<l;S++){var D=this.getVariablesSamplesByAnnotationLevel(this.lineBy,f[x],this.data.w.grps[S],"x"),M=n(h[y],D);b.push(M[0]),C.push(s(x)),T.push([h[y],o[S],f[x]])}this.drawLinePlot(b,v,c,d,this.rowBlockSize/2,g,"ParallelCoordinates"==this.graphType?this.parallelCoordinates:this[e+"Unit"],this[e+"Min"],this.graphOrientation,A,C,w,T,!1,!1,!!this.invertGraph&&this.x,this.data.y.vars[h[y]])}p&&this.xAxisVarIndices.length==this.xAxis2VarIndices.length&&("vertical"==this.graphOrientation?c+=this.rowBlockSize:d+=this.rowBlockSize),this.isGroupedData=!0}else{for(b=[],v=[],A="blackAndWhite"==this.theme?"rgb(0,0,0)":this.colorBy?this.getPropertyValue(h[y],m,"colorBy"):this.coordinateLineColor?r(y):this.getVariableColor(this.data.y.vars[h[y]]),w="DotLine"!=this.graphType&&("symbol"==this.lineDecoration?this.shapes[y%this.shapes.length]:"sphere"),C=[],T=[],x=0;x<l;x++)b.push(this.getDataAtPos(h[y],o[x],!1,this.xAxisTransform,this.xAxisFloorValue,this.xAxisCeilValue)),this.isGroupedData||this.data.y.hasOwnProperty("stdev")?(v.push(this.getDataAtPos(h[y],o[x],"stdev",this.xAxisTransform,this.xAxisFloorValue,this.xAxisCeilValue)),C.push("pattern"==this.lineDecoration||this.patternBy?s(y):this.getPropertyValue(h[y],o[x],"patternBy"))):("pattern"==this.lineDecoration||this.patternBy)&&C.push(s(y)),T.push([h[y],o[x]]);this.drawLinePlot(b,v,c,d,this.rowBlockSize/2,g,"ParallelCoordinates"==this.graphType?this.parallelCoordinates:this[e+"Unit"],this[e+"Min"],this.graphOrientation,A,C,w,T,!1,!1,!!this.invertGraph&&this.x,this.data.y.vars[h[y]]),p&&this.xAxisVarIndices.length==this.xAxis2VarIndices.length&&("vertical"==this.graphOrientation?c+=this.rowBlockSize:d+=this.rowBlockSize)}},this.draw1DStackedDataPoints=function(){var t=this,e=this.get1DIndices(),i=e.length,a=this.get1DLeft(),s=this.get1DTop(),r=this.blockSeparation+this.rowBlockSize,n=function(){if(t.graphType.match(/Line/)){for(var e=[],i=0;i<t.xAxisVarIndices.length;i++)t.varIndices.includes(t.xAxisVarIndices[i])&&e.push(t.xAxisVarIndices[i]);return e}return t.varIndices}(),o="StackedPercentLine"==this.graphType&&!this.layoutValid&&this.xAxisVarIndices,h=!!this.graphType.match(/Percent/),l=this.xAxisMin<0?Math.abs(this.xAxisMin)*this.xAxisUnit:0,c=!!this.invertGraph&&this.x,d="vertical"==this.graphOrientation?this.get1DTop()+this.y:this.get1DLeft(),p=this.isDOE?this.configStndBy.groupingFactors:this.groupingFactors;this.xAxisTransform&&"percentile"==this.xAxisTransform&&this.setRangeData("sum"),"vertical"==this.graphOrientation?(a+=this.blockSeparation/2,s+=this.y):s+=this.blockSeparation/2;for(var g=0;g<i;g++){var u=this.sum(this.getDataForSmpGrpAtIndex(e[g],o),!1,!1,!0),m=this.sum(this.getDataForSmpGrpAtIndex(e[g],o),!1,!1,!1,!0),f=[],y=[],x=[],b=[],v=[];if(this.isGroupedData&&this.treemapBy.length>0)if("vertical"==this.graphOrientation)for(var A=n.length-1;A>=0;A--)f.push(this.getDataAtPos(n[A],e[g],"sum",this.xAxisTransform,this.xAxisFloorValue,this.xAxisCeilValue)),v.push(this.getTreemapVariable(n[A],this.data.w.grps[e[g]]));else for(A=0;A<n.length;A++)f.push(this.getDataAtPos(n[A],e[g],"sum",this.xAxisTransform,this.xAxisFloorValue,this.xAxisCeilValue)),v.push(this.getTreemapVariable(n[A],this.data.w.grps[e[g]]));else if(this.isGroupedData&&this.stackBy.length>0){this.isGroupedData=!1,v=!1;var w=this.getLevelsByAnnotation(this.stackBy,this.smpIndices,"x").sort();for(A=0;A<n.length;A++)if("vertical"==this.graphOrientation)for(var C=w.length-1;C>=0;C--){var T=this.getVariablesSamplesByAnnotationLevel(this.stackBy,w[C],this.data.w.grps[g],"x");f.push(T.length),y.push(this.meta.data.x[this.stackBy].colors[C]),x.push("solid"),b.push([n[A],e[g],"<b>"+this.data.y.vars[A]+"</b><br><b>"+this.stackBy+"</b>: "+w[C].toString().replace("u0000","")+"<br><b>"+p.join("::")+"</b> : "+T.length,T,w[C]])}else for(C=0;C<w.length;C++){T=this.getVariablesSamplesByAnnotationLevel(this.stackBy,w[C],this.data.w.grps[g],"x");f.push(T.length),y.push(this.meta.data.x[this.stackBy].colors[C]),x.push("solid"),b.push([n[A],e[g],"<b>"+this.data.y.vars[A]+"</b><br><b>"+this.stackBy+"</b>: "+w[C].toString().replace("u0000","")+"<br><b>"+p.join("::")+"</b> : "+T.length,T,w[C]])}this.isGroupedData=!0}else if(v=!1,"vertical"==this.graphOrientation)for(A=n.length-1;A>=0;A--)f.push(this.getDataAtPos(n[A],e[g],"sum",this.xAxisTransform,this.xAxisFloorValue,this.xAxisCeilValue)),y.push(this.getPropertyValue(n[A],e[g],"colorBy")),x.push(this.getPropertyValue(n[A],e[g],"patternBy")),b.push([n[A],e[g]]);else for(A=0;A<n.length;A++)f.push(this.getDataAtPos(n[A],e[g],"sum",this.xAxisTransform,this.xAxisFloorValue,this.xAxisCeilValue)),y.push(this.getPropertyValue(n[A],e[g],"colorBy")),x.push(this.getPropertyValue(n[A],e[g],"patternBy")),b.push([n[A],e[g]]);this.drawStackedPlot(f,a,s,this.rowBlockSize,v,h,[u,m],this.xAxisUnit,l,this.graphOrientation,y,x,b,!1,c,d),"vertical"==this.graphOrientation?a+=r:s+=r}},this.draw1DAreaDataPoints=function(t,e,i){var a,s=this.get1DIndices(),r=s.length,n=this.get1DLeft(),o=this.get1DTop(),h=this.rowBlockSize+this.blockSeparation,l=[],c=[],d=[],p=[],g=[],u=this;if(this.xAxisTransform&&"percentile"==this.xAxisTransform&&this.setRangeData(this.summaryType),"vertical"==this.graphOrientation&&(o+=this.y),"stacked"!=this.areaType&&"percent"!=this.areaType){for(var m=[],f=[],y=0;y<t.length;y++)m[y]=this.getDataAtPos(t[y],s[0],!1,this.xAxisTransform,this.xAxisFloorValue,this.xAxisCeilValue),f[y]=y;t.sort((function(t,e){return m[t]-m[e]}))}for(var x=0;x<r;x++)g.push(0);for(y=0;y<t.length;y++){var b=[],v=this.coordinateLineColor?(a=y,"xAxis"==e?u.colors[t[a]%u.colors.length]:u.colors[a%u.colors.length]):this.getVariableColor(this.data.y.vars[t[y]]);for(x=0;x<r;x++)this.isGraphTime&&s[x]<0?b.push(0):b.push(this.getDataAtPos(t[y],s[x],!1,this.xAxisTransform)),g[x]+=b[x];l.push(b),c.push(v),d.push("closed"),p.push([t[y]])}l.length&&(l.length>1&&l[0].length>1||"percent"!=this.areaType?this.drawAreaPlot(l,n,o,this.x,this.y,h,this.areaType,g,this[e+"Unit"],this[e+"Min"],this[e+"Max"],this.graphOrientation,i,c,d,p,!1,!!this.invertGraph&&this.x,s):this.flashInfoSpan(100,100,"Area graphs require at least 2 variables",5e3)),"stacked"!=this.areaType&&"percent"!=this.areaType&&t.sort((function(t,e){return f[t]-f[e]}))},this.draw1DBoxplotDataPoints=function(t,e){var i=this.get1DIndices(),a=i.length,s=this.varIndices,r=this.get1DLeft(),n=this.get1DTop(),o=this.plotByVariable?this.rowBlockSize:this.blockSeparation+this.rowBlockSize*s.length;if(!this.isRawData||this.data.hasOwnProperty("w")){this.xAxisTransform&&"percentile"==this.xAxisTransform&&this.setRangeData(this.summaryType),"vertical"==this.graphOrientation?(r+=this.blockSeparation/2,n+=this.y):n+=this.blockSeparation/2,this.isRawData||(t=!1);for(var h=0;h<s.length;h++){for(var l=[],c=[],d=[],p=[],g=[],u=[],m=0;m<a;m++){for(var f=["iqr1","iqr3","qtl1","qtl3","median","out","mean","conf","nfac"],y=[],x=this.getGroupColor(s[h],i[m]),b=0;b<f.length;b++)y.push(this.getDataAtPos(s[h],i[m],f[b],this.xAxisTransform,this.xAxisFloorValue,this.xAxisCeilValue));e&&this.isRawData&&(y[5]=!1),l.push(y),c.push(x),p.push(t&&!this.boxplotColor?"open":this.getPropertyValue(s[h],i[m],"patternBy")),g.push(e?[s[h],i[m],"box"]:[s[h],i[m]]),d.push(x),u.push(this.getPropertyValue(s[h],i[m],"patternBy"))}this.showViolinBoxplot&&this.isRawData,this.drawBoxPlot(l,r,n,this.rowBlockSize,o,this.xAxisUnit,this.xAxisMin,this.graphOrientation,c,p,g,d,u,this.data.y.vars[s[h]]),"vertical"==this.graphOrientation?r=this.plotByVariable?r+(this.blockSeparation+this.rowBlockSize*a):r+this.rowBlockSize:n=this.plotByVariable?n+(this.blockSeparation+this.rowBlockSize*a):n+this.rowBlockSize}}},this.draw1DGanttDataPoints=function(){for(var t=this.get1DIndices(),e=this.getVariableIndices(this.ganttStart),i=this.getVariableIndices(this.ganttEnd),a=this.get1DLeft(),s=this.get1DTop()+this.blockSeparation/4,r=this.blockSeparation+this.rowBlockSize,n={},o=0;o<t.length;o++){var h=[],l=[],c=[],d=[],p=[],g=[],u=[];if(this.isGroupedData)for(var m=0;m<this.data.w.grps[t[o]].length;m++){var f=this.data.w.grps[t[o]][m];h.push([this.data.gantt[e][f],this.data.gantt[i][f]]),c.push(this.ganttCompletion?this.data.x[this.ganttCompletion][f]:0),l.push([f,e,i]),d.push(this.getPropertyValue(e,f,"colorBy")),p.push(this.getPropertyValue(e,f,"patternBy"));for(var y=0;y<this.data.gantt.length;y++)y!=e&&y!=i&&null!=this.data.gantt[y][f]&&u.push([this.data.gantt[y][f],y]);if(n[f]=[this.data.gantt[e][f],this.data.gantt[i][f],s],this.ganttDependency&&this.data.x[this.ganttDependency][f])n[x=this.getSampleIndices(this.data.x[this.ganttDependency][f],!0)]||(n[x]=[]),n[x].push(this.ganttDependencyEnd&&this.data.x[this.ganttDependencyEnd][f]?this.data.x[this.ganttDependencyEnd][f]:"arrow"),n[x].push(this.ganttDependencyColor&&this.data.x[this.ganttDependencyColor][f]?this.data.x[this.ganttDependencyColor][f]:"rgb(0,0,0)"),n[x].push(this.ganttDependencyThickness&&this.data.x[this.ganttDependencyThickness][f]?this.data.x[this.ganttDependencyThickness][f]:1),x>-1?g.push(n[x]):g.push(!1);else g.push(!1)}else{h.push([this.data.gantt[e][o],this.data.gantt[i][o]]),c.push(this.ganttCompletion?this.data.x[this.ganttCompletion][o]:0),l.push([o,e,i]),d.push(this.getPropertyValue(e,o,"colorBy")),p.push(this.getPropertyValue(e,o,"patternBy"));for(m=0;m<this.data.gantt.length;m++)m!=e&&m!=i&&null!=this.data.gantt[m][o]&&u.push([this.data.gantt[m][o],m]);var x;if(n[o]=[this.data.gantt[e][o],this.data.gantt[i][o],s],this.ganttDependency&&this.data.x[this.ganttDependency][o])n[x=this.getSampleIndices(this.data.x[this.ganttDependency][o])]||(n[x]=[]),n[x].push(this.ganttDependencyEnd&&this.data.x[this.ganttDependencyEnd][o]?this.data.x[this.ganttDependencyEnd][o]:"arrow"),n[x].push(this.ganttDependencyColor&&this.data.x[this.ganttDependencyColor][o]?this.data.x[this.ganttDependencyColor][o]:"rgb(0,0,0)"),n[x].push(this.ganttDependencyThickness&&this.data.x[this.ganttDependencyThickness][o]?this.data.x[this.ganttDependencyThickness][o]:1),x>-1?g.push(n[x]):g.push(!1);else g.push(!1)}this.drawGanttPlot(h,c,g,u,a,s,1.5*this.rowBlockSize,this.xAxisUnit,this.xAxisMin,p,d,l),s+=r}},this.draw1DMeterDataPoints=function(){var t=function(t){var i=e.meterSegments.length?e.meterSegments:e.xAxisValuesRaw;if(i.length){for(var a=0;a<i.length;a++)if(i[a]>t)return e.meterColors[a]||e.colors[a%e.colors.length];return e.meterColors.length?e.meterColors[e.meterColors.length-1]:e.colors[e.colors.length-1]}return e.meterBackgroundColor},e=this,i=this.get1DLeft(),a=this.get1DTop(),s=.05*Math.min(this.x,this.y),r=Math.min(this.x,this.y)-s,n=r/2,o=this.getMeterSummaryValue(),h=this.meterType.match(/gauge|speedometer/)?this.scaleTextToFont(o.toString(),r/6,r/3):this.meterType.match(/digital/)&&this.layoutValid?this.scaleTextToFont(o.toString(),r/4,r/2):this.meterType.match(/digital/)?this.scaleTextToFont(o.toString(),r/3,r/1.5):this.scaleTextToFont(o.toString(),r/2,r),l=Math.PI*("gauge"==this.meterType?1:"speedometer"==this.meterType?1.5:2)/this.xAxisRange,c="gauge"==this.meterType?Math.PI:"speedometer"==this.meterType?1.25*Math.PI:Math.PI/2,d=i+this.x/2,p=a+this.y/2+("gauge"==this.meterType?this.y/6:"speedometer"==this.meterType?this.y/24:0);switch(this.meterType){case"gauge":case"speedometer":var g=o*l-c,u=n*Math.cos(g)+d,m=n*Math.sin(g)+p;this.toRender({p:["drawLine","needle",d,p,u,m,this.meterNeedleColor,this.margin],t:"Data"}),this.toRender({p:["drawText",o,d,p+2*s,h,t(o),"center","top"],t:"Data"});break;case"horizontal":case"vertical":break;case"state":for(var f=(s=Math.min(this.x,this.y))/1.4,y=a+this.y/2+f,x=["rgb(0,255,0)","rgb(255,255,0)","rgb(255,0,0)"],b=[33,66],v=0;v<x.length;v++){g=v<x.length-1?b[v]:100;var A=o>=(v>0?b[v-1]:0)&&o<=g?x[v]:this.addColorTransparency(x[v],.2);this.toRender({p:["drawShape","circle",i+this.x/2,y,s/2,s/2,A,A],t:"Axes"}),y-=f}break;case"digital":case"number":this.toRender({p:["drawText",o,d,p+10,h,t(o),"center","middle"],t:"Data"})}},this.setConnectData=function(t,e){if(this.connectBy&&this.data.x&&this.data.x.hasOwnProperty(this.connectBy)){this.connectByDataVar=[],this.connectByData={};for(var i=0,a=0;a<t.length;a++)if(this.isGroupedData){if(this.isGraphTime&&t[a]<0)continue;for(var s=0;s<this.data.w.grps[t[a]].length;s++)n=this.data.w.grps[t[a]][s],r=this.getMetadataValue(n,"x",this.connectBy,!0),this.connectByData.hasOwnProperty(r)||(this.connectByData[r]=[]),this.connectByData[r].push(i),i++}else{if(n=t[a],this.isGraphTime&&t[a]<0)continue;r=this.getMetadataValue(n,"x",this.connectBy),this.connectByData.hasOwnProperty(r)||(this.connectByData[r]=[]),this.connectByData[r].push(a)}}else if(this.connectBy&&this.data.z&&this.data.z.hasOwnProperty(this.connectBy)){var r,n;this.connectByDataVar=[],this.connectByData={};for(i=0,a=0;a<e.length;a++)n=e[a],r=this.getMetadataValue(n,"z",this.connectBy),this.connectByData.hasOwnProperty(r)||(this.connectByData[r]=[]),this.connectByData[r].push(a)}},this.draw1DDotplotDataPoints=function(t,e,i){var a=this,s=this.get1DIndices(),r=s.length,n=function(){if(a.graphType.match(/Line/)){for(var t=[],e=0;e<a.xAxisVarIndices.length;e++)a.varIndices.includes(a.xAxisVarIndices[e])&&t.push(a.xAxisVarIndices[e]);return t}return a.varIndices}(),o=this.get1DLeft(),h=this.get1DTop(),l="stacked"==this.dotplotType?(this.blockSeparation+this.rowBlockSize)/2+this.blockSeparation:(this.blockSeparation+this.rowBlockSize)/2,c=this.plotByVariable?this.rowBlockSize:this.blockSeparation+this.rowBlockSize*i,d=this.jitter,p=this.binned,g=this.meta.data.d.g,u=this.layoutValid?Math.max(this.layoutRows,this.layoutCols):1,m=(a=this,function(t,e,i,s){if(s)for(var r=a.segregateSamplesBy.length&&a.groupingFactors.includes(a.segregateSamplesBy[0])?a.data.w.glab[e]:[a.data.l.name[a.layoutCurrent],a.data.w.glab[e]].join("::"),n=0;n<g[t].length;n++)if(g[t][n].density.name==r){e=n;break}var o=g[t][e].indices,h=g[t][e].global;for(n=0;n<o.length;n++)if(o[n]==i)return h[n]});this.setConnectData(s,this.varIndices),this.xAxisTransform&&"percentile"==this.xAxisTransform&&this.setRangeData(this.summaryType),"lollipop"==this.barType&&(this.jitter=!1,this.binned=!1),"vertical"==this.graphOrientation?(o+=l,h+=this.y):h+=l,e=e?1:this.widthFactor;for(var f=0;f<n.length;f++){for(var y,x=[],b=[],v=[],A=[],w=[],C=[],T=[],S=0;S<r;S++)if(this.isGroupedData){var D=this.isGraphTime&&s[S]<0?0:this.data.w.grps[s[S]].length>1,M=[],k=[],L=[],I=[],B=[],N=[],F=this.isTransformedData||this.showBoxplotOriginalData&&this.data.y.trans&&this.data.y.trans[0].length?this.data.y.trans:this.data.y.data;if(this.isGroupedData=!1,this.isGraphTime&&s[S]<0)M.push(null),B.push(null),k.push(null),L.push(null),I.push(null),N.push([null]);else for(var P=0;P<this.data.w.grps[s[S]].length;P++)y=this.getPropertyValue(n[f],this.data.w.grps[s[S]][P],"colorBy"),M.push(this.binned&&D?m(n[f],s[S],this.data.w.grps[s[S]][P],this.layoutValid&&!this.isDOE):F[n[f]][this.data.w.grps[s[S]][P]]),B.push(this.getPropertyValue(n[f],this.data.w.grps[s[S]][P],"shapeBy")),k.push(this.sizeBy?this.getPropertyValue(n[f],this.data.w.grps[s[S]][P],"sizeBy")*e:Math.max(1.01,this.dataPointSize*this.dataPointSizeScaleFactor*(t?.3:.5)*(this.data.y.smps.length>this.dotplotOutlineThreshold?.3*e:2*e/u))),L.push(t?this.addColorTransparency(y,this.boxplotDataPointTransparency,!0):y),I.push(this.getPropertyValue(n[f],this.data.w.grps[s[S]][P],"patternBy")),N.push([n[f],s[S],this.data.w.grps[s[S]][P]]);this.isGroupedData=!0,this.data.w.hasOwnProperty("stdev")&&b.push(!1),x.push(M),w.push(B),C.push(k),v.push(L),A.push(I),T.push(N)}else this.isGraphTime&&s[S]<0?(x.push([null]),this.data.y.hasOwnProperty("stdev")&&b.push([null]),w.push([null]),C.push([null]),v.push([null]),A.push([null]),T.push([null])):(y=this.getPropertyValue(n[f],s[S],"colorBy"),x.push([this.getDataAtPos(n[f],s[S],!1,this.xAxisTransform,this.xAxisFloorValue,this.xAxisCeilValue)]),this.data.y.hasOwnProperty("stdev")&&b.push([this.getDataAtPos(n[f],s[S],"stdev",this.xAxisTransform,this.xAxisFloorValue,this.xAxisCeilValue)]),w.push([this.getPropertyValue(n[f],s[S],"shapeBy")]),C.push(["lollipop"==this.barType?this.rowBlockSize*this.barLollipopFactor:this.sizeBy?this.getPropertyValue(n[f],s[S],"sizeBy"):this.dataPointSize*this.dataPointSizeScaleFactor*(t?.3:.5)*(this.data.y.smps.length>this.dotplotOutlineThreshold?.3:1)]),v.push([t?this.addColorTransparency(y,this.boxplotDataPointTransparency,!0):y]),A.push([this.getPropertyValue(n[f],s[S],"patternBy")]),T.push([[n[f],s[S]]]));this.plotByVariable?this.drawDotPlot(x,b,o,h,this.rowBlockSize,c,this.xAxisUnit,this.xAxisMin,C,this.graphOrientation,v,A,w,T,!1,!1,!!this.invertGraph&&this.x,this.data.y.vars[n[f]],f==n.length-1):this.drawDotPlot(x,b,o,h,this.blockSeparation,c,this.xAxisUnit,this.xAxisMin,C,this.graphOrientation,v,A,w,T,!1,!1,!!this.invertGraph&&this.x,this.data.y.vars[n[f]],f==n.length-1),"vertical"==this.graphOrientation?"stacked"!=this.dotplotType&&(o=this.plotByVariable?o+(this.blockSeparation+this.rowBlockSize*r):o+this.rowBlockSize):"stacked"!=this.dotplotType&&(h=this.plotByVariable?h+(this.blockSeparation+this.rowBlockSize*r):h+this.rowBlockSize)}this.jitter=d,this.binned=p},this.draw1DHeatmapDataPoints=function(t,e){var i=this.get1DIndices(),a=this.isGroupedData?this.data.w:this.data.y,s=i.length,r=this.get1DLeft(e),n=this.get1DTop(e),o=!(!(this.isContour||this.colBlockSize<4||this.rowBlockSize<4)&&this.heatmapCellBox),h=Math.max(Math.min(this.colBlockSize,this.rowBlockSize)-10,3),l=(this.dataSizes&&this.dataSizes.length>0&&this.max(this.dataSizes),this.outlineWidth);if(this.xAxisTransform&&"percentile"==this.xAxisTransform&&this.setRangeData(this.summaryType),this.heatmapType.match(/circle|hexagon/)){n+=this.rowBlockSize/2;for(var c=0;c<this.varIndices.length;c++)for(var d=0;d<s;d++){var p=r+c*this.colBlockSize+this.colBlockSize/2,g=n+d*this.rowBlockSize+this.rowBlockSize/4*(c%2?1:-1),u=this.getDataAtPos(this.varIndices[c],i[d],!1,this.xAxisTransform,this.xAxisFloorValue,this.xAxisCeilValue),m=isNaN(u)?this.missingDataColor:this.getColorForValue(!1,u),f=this.heatmapCollapse?m:this.objectBorderColor,y="circle"==this.heatmapType?"oval":"hexagon",x="circle"==this.heatmapType?1.2:1.5;this.toRender({p:["drawShape",y,p,g,this.colBlockSize*x,this.rowBlockSize,m,f],a:this.getShapeArea(y,p,g,this.colBlockSize*x,this.rowBlockSize,m,f),i:[this.varIndices[c],i[d]],b:this.left,t:"Data",h:this.isHidden(this.varIndices[c],i[d])})}}else if(!this.isMultidimensionalData&&!this.isOncoprint||this.oncoprintHeatmapSwitch||t){for(y=0,c=0;c<s;c++){var b=[],v=[];for(x=[],d=0;d<this.varIndices.length;d++)b.push(this.getDataAtPos(this.varIndices[d],i[c],!1,this.xAxisTransform,this.xAxisFloorValue,this.xAxisCeilValue)),v.push([this.varIndices[d],i[c]]),this.patternBy?x.push(this.getPropertyValue(this.varIndices[d],i[c],"patternBy")):x.push("solid");c>0&&c<s-1?y>=.8&&(this.drawHeatmap(b,r,n,this.colBlockSize,this.rowBlockSize,o,v,!1,x,this.meta.def.colorBrew),this.heatmapCellBox&&!this.isOncoprint&&this.rowBlockSize>1&&this.toRender({p:["drawLine","line",r,n-1,r+this.colBlockSize*this.varIndices.length,n-1,this.heatmapCellBoxColor,this.heatmapCellBoxWidth],s:!0,t:"Data"}),y=0):(this.drawHeatmap(b,r,n,this.colBlockSize,this.rowBlockSize,o,v,!1,x,this.meta.def.colorBrew),this.heatmapCellBox&&!this.isOncoprint&&this.rowBlockSize>1&&this.colBlockSize>1&&(c==s-1?(this.toRender({p:["drawLine","line",r,n-.5,r+this.colBlockSize*this.varIndices.length,n-.5,this.heatmapCellBoxColor,this.heatmapCellBoxWidth],s:!0,t:"Data"}),this.toRender({p:["drawLine","line",r,n+this.rowBlockSize,r+this.colBlockSize*this.varIndices.length,n+this.rowBlockSize,this.heatmapCellBoxColor,this.heatmapCellBoxWidth],s:!0,t:"Data"})):this.toRender({p:["drawLine","line",r,n-.5,r+this.colBlockSize*this.varIndices.length,n-.5,this.heatmapCellBoxColor,this.heatmapCellBoxWidth],s:!0,t:"Data"}))),n+=this.rowBlockSize,y+=this.rowBlockSize}if(!o&&!this.isOncoprint&&this.rowBlockSize>1&&this.colBlockSize>1){r=this.get1DLeft(e),n=this.get1DTop(e),this.toRender({p:["drawLine","line",r,n-1,r,n+this.y-(this.margin+.5),this.heatmapCellBoxColor,this.heatmapCellBoxWidth],s:!0,t:"Data"}),r+=this.colBlockSize;for(c=1;c<=this.varIndices.length;c++)this.toRender({p:["drawLine","line",r-.5,n-1,r-.5,n+this.y-(this.margin+.5),this.heatmapCellBoxColor,this.heatmapCellBoxWidth],s:!0,t:"Data"}),r+=this.colBlockSize;this.toRender({p:["drawLine","line",r-(this.colBlockSize+.5),n-1,r-(this.colBlockSize+.5),n+this.y-(this.margin+.5),this.heatmapCellBoxColor,this.heatmapCellBoxWidth],s:!0,t:"Data"}),r=this.get1DLeft()}if(this.highlightSmp.length>0||this.highlightVar.length>0){n=this.get1DTop(e),r=this.get1DLeft(e);var A=this.getObjectArray(this.highlightVar),w=this.getObjectArray(this.highlightSmp),C=(L=this.heatmapCellBoxWidth+this.heatmapCellBoxHighlightWidth)/2;if(0==this.highlightSmp.length)for(c=0;c<this.varIndices.length;c++)A.hasOwnProperty(a.vars[this.varIndices[c]])&&this.toRender({p:["drawShape","rectangle",r+C+(this.colBlockSize-L)/2,n+C+(this.y-L)/2,this.colBlockSize-L,this.y-L,!1,this.heatmapCellBoxColorHighlight,"open",!1,L],s:!0,t:"Data"}),r+=this.colBlockSize;else if(0==this.highlightVar.length)for(c=0;c<s;c++)w.hasOwnProperty(a.smps[i[c]])&&this.toRender({p:["drawShape","rectangle",r+C+(this.x-L)/2,n+C+(this.rowBlockSize-L)/2,this.x-L,this.rowBlockSize-L,!1,this.heatmapCellBoxColorHighlight,"open",!1,L],s:!0,t:"Data"}),n+=this.rowBlockSize;else for(c=0;c<s;c++){r=this.get1DLeft();for(d=0;d<=this.varIndices.length;d++)w.hasOwnProperty(a.smps[i[c]])&&A.hasOwnProperty(a.vars[this.varIndices[d]])&&this.toRender({p:["drawShape","rectangle",r+C+(this.colBlockSize-L)/2,n+C+(this.rowBlockSize-L)/2,this.colBlockSize-L,this.rowBlockSize-L,!1,this.heatmapCellBoxColorHighlight,"open",!1,L],s:!0,t:"Data"}),r+=this.colBlockSize;n+=this.rowBlockSize}}}else{if(this.isOncoprint)for(var T="rgb(220,220,220)",S=.9*this.colBlockSize,D=.9*this.rowBlockSize,M=.3*this.rowBlockSize,c=0;c<this.varIndices.length;c++)for(var d=0;d<s;d++){p=r+c*this.colBlockSize+this.colBlockSize/2,g=n+d*this.rowBlockSize+this.rowBlockSize/2,u=this.getDataAtPos(this.varIndices[c],i[d],!1,this.xAxisTransform,this.xAxisFloorValue,this.xAxisCeilValue,this.oncoprintCNA),h=this.getDataAtPos(this.varIndices[c],i[d],!1,this.xAxisTransform,this.xAxisFloorValue,this.xAxisCeilValue,this.oncoprintMUT);var x=this.getPropertyValue(this.varIndices[c],i[d],"patternByData"),k=(m=isNaN(u)?this.missingDataColor:this.getColorForValue(!1,u),!this.isOncoprint&&this.isHidden(this.varIndices[c],i[d]));""!=u?this.toRender({p:["drawShape","rect",p,g,S,D,this.legendOncoprintColors[u],this.legendOncoprintColors[u],x],a:this.getShapeArea("rect",p,g,S,D,this.legendOncoprintColors[u],this.legendOncoprintColors[u],x),i:[this.varIndices[c],i[d]],b:[this.left,g,0,D],t:"Data",h:k}):this.toRender({p:["drawShape","rect",p,g,S,D,T,T,x],a:this.getShapeArea("rect",p,g,S,D,T,T,x),i:[this.varIndices[c],i[d]],b:[this.left,g,0,D],t:"Data",h:k}),""!=h&&this.toRender({p:["drawShape","rect",p,g,S,M,this.legendOncoprintColors[h],this.legendOncoprintColors[h],x],a:this.getShapeArea("rect",p,g,S,M,this.legendOncoprintColors[h],this.legendOncoprintColors[h],x),i:[this.varIndices[c],i[d]],b:[this.left,g,0,D],t:"Data",h:k})}else for(var c=0;c<this.varIndices.length;c++)for(var d=0;d<s;d++){p=r+c*this.colBlockSize+this.colBlockSize/2,g=n+d*this.rowBlockSize+this.rowBlockSize/2,u=this.getDataAtPos(this.varIndices[c],i[d],!1,this.xAxisTransform,this.xAxisFloorValue,this.xAxisCeilValue),m=isNaN(u)?this.missingDataColor:this.getColorForValue(!1,u),f=this.outlineBy?this.getPropertyValue(this.varIndices[c],i[d],"outlineByData"):this.objectBorderColor;var y=this.getPropertyValue(this.varIndices[c],i[d],"shapeByData"),L=this.getPropertyValue(this.varIndices[c],i[d],"sizeByData");x=this.getPropertyValue(this.varIndices[c],i[d],"patternByData");this.toRender({p:["drawShape",y,p,g,L,L,m,f,x],a:this.getShapeArea(y,p,g,L,L,m,f,x),i:[this.varIndices[c],i[d]],b:this.left,t:"Data",h:this.isHidden(this.varIndices[c],i[d])}),this.showDataValues&&this.toRender({p:["drawText",this.formatNumber(u),p+this.colBlockSize/2-2,g+this.rowBlockSize/2-2,this.overlayFont,this.foreground,"right","bottom"],b:this.left,t:"Data"})}this.outlineWidth=l}},this.draw1DTreemapDataPoints=function(){var t=this.get1DLeft(),e=this.get1DTop(),i=this.getTreemap();this.drawTreemap(i,t,e)},this.draw1DTagCloudDataPoints=function(){switch(this.tagCloudShape){case"circle":default:this.tagCloudShapeFunction="circle";break;case"cardioid":this.tagCloudShapeFunction=function(t){return 1-Math.sin(t)};break;case"diamond":this.tagCloudShapeFunction=function(t){var e=t%(2*Math.PI/4);return 1/(Math.cos(e)+Math.sin(e))};break;case"square":this.tagCloudShapeFunction=function(t){return Math.min(1/Math.abs(Math.cos(t)),1/Math.abs(Math.sin(t)))};break;case"triangle2":this.tagCloudShapeFunction=function(t){var e=t%(2*Math.PI/3);return 1/(Math.cos(e)+Math.sqrt(3)*Math.sin(e))};break;case"triangle":this.tagCloudShapeFunction=function(t){var e=(t+3*Math.PI/2)%(2*Math.PI/3);return 1/(Math.cos(e)+Math.sqrt(3)*Math.sin(e))};break;case"pentagon":this.tagCloudShapeFunction=function(t){var e=(t+.955)%(2*Math.PI/5);return 1/(Math.cos(e)+.726543*Math.sin(e))};break;case"star":this.tagCloudShapeFunction=function(t){var e=(t+.955)%(2*Math.PI/10);return(t+.955)%(2*Math.PI/5)-2*Math.PI/10>=0?1/(Math.cos(2*Math.PI/10-e)+3.07768*Math.sin(2*Math.PI/10-e)):1/(Math.cos(e)+3.07768*Math.sin(e))}}if(this.renderTagCloud&&0!=this.renderTagCloud.length||this.tryRenderTagCloud(),this.renderTagCloud.length>0){for(var t=this.cloneObject(this.renderTagCloud),e=0;e<this.renderTagCloud.length;e++){var i=this.isR?this.cloneObject(this.renderTagCloud[e]):this.renderTagCloud[e];this.toRender({p:i[0],i:i[1],m:i[2],g:i[3],s:i[4],b:i[5],h:this.isHidden(i[1][0],i[1][1])})}this.renderTagCloud=t,this.showTransition=!1}},this.draw1DContour=function(){if(this.isContour){var t=this.getSetContour();if(t&&t.length)for(var e=0;e<t.length;e++){var i=t[e],a=this.varIndices.length-1,s=this.smpIndices.length-1,r=this.x/a,n=this.y/s,o=this.varIndices[0]*r+.67*this.colBlockSize,h=this.smpIndices[0]*n+.67*this.rowBlockSize,l=this.get1DLeft()-o,c=this.get1DTop()-h,d={};if(i&&i.data&&i.data.filled&&i.data.filled.length)for(var p=i.data.filled,g=this.getColorBrew(this.colorSpectrum,p[0].value,p[p.length-1].value,this.colorSpectrumZeroValue,this.colorSpectrumBreaks,!0),u=0;u<p.length;u++)for(var m=this.getColorForValue(g,p[u].value),f=0;f<p[u].coordinates.length;f++)for(var y=0;y<p[u].coordinates[f].length;y++){for(var x=[],b=[],v=0;v<p[u].coordinates[f][y].length;v++)x.push(l+p[u].coordinates[f][y][v][0]*r),b.push(c+p[u].coordinates[f][y][v][1]*n);var A=this.toRender({p:["drawShape","spline"==this.lineType?"spline":"path",x,b,!1,!1,m,m,"close"],i:["Contour-"+p[u].value],g:d.hasOwnProperty(p[u].value)?d[p[u].value]:null,t:"Data"});d.hasOwnProperty(p[u].value)||(d[p[u].value]=A)}if(i&&i.data&&i.data.lines&&i.data.lines.length)for(p=i.data.lines,u=0;u<p.length;u++)for(m=!0===this.isContour?this.foreground:this.meta.data.z[this.isContour].colors[this.meta.data.z[this.isContour].order[p[u].value]],f=0;f<p[u].coordinates.length;f++)for(y=0;y<p[u].coordinates[f].length;y++){x=[],b=[];var w=!1;for(v=0;v<p[u].coordinates[f][y].length;v++)vx=l+p[u].coordinates[f][y][v][0]*r,vy=c+p[u].coordinates[f][y][v][1]*n,(vx<0||vy<0||vx>l+this.x||vy>c+this.y)&&(w=!0),x.push(vx),b.push(vy);if(w?this.toRender({p:["drawLine","spline"==this.lineType?"spline":"path",x,b,!1,!1,!1,m,"open"],t:"Data"}):this.toRender({p:["drawShape","spline"==this.lineType?"spline":"path",x,b,!1,!1,!1,m,"open"],t:"Data"}),this.showContourLevel)for(var C=[.1,.2,.3,.4,.5,.6,.7,.8,.9],T=!1,S=0;!T&&S<18;){x[v=parseInt(x.length*C[Math.round(this.randomBetween(0,9))])]>l&&x[v]<l+this.x&&b[v]>c&&b[v]<c+this.y&&(this.toRender({p:["drawText",p[u].value+this.minData,x[v],b[v],this.legendFont],t:"Data"}),T=!0),S++}}}}},this.draw1DSankeyDataPoints=function(){this.moveSankeyId||this.setSankey();for(var t=this.get1DLeft()+4*this.margin,e=this.get1DTop()+2*this.margin,i=this.data.sankey,a=i.links[0].target.x-i.links[0].source.x,s=0;s<i.nodes.length;s++){var r=i.nodes[s];r.plotX=r.x+t,r.plotY=r.y+e,r.color=this.addColorTransparency(this.colors[s%this.colors.length],.75,!0),r.tooltip=["Sankey:"+r.name+":"+s]}for(s=0;s<i.links.length;s++){var n=i.links[s],o=n.dy/2;n.plotX=[],n.plotY=[],n.tooltip=[this.hierarchyVarIndex,n.id];for(var h=0;h<4;h++)n.plotX.push(n.bezier[0][h]+t),n.plotY.push(n.bezier[1][h]+e-o);if(this.colorBy)n.color=this.addColorTransparency(this.getPropertyValue(this.hierarchyVarIndex,n.id,"colorBy"),.75,!0);else if(this.sankeyCoordinateColor){var l=this.addColorTransparency(n.source.color,.75,!0),c=this.addColorTransparency(n.target.color,.75,!0);n.color=this.getLinearGradient(0,0,a,0,[l,c]),n.colors=[l,c]}else n.color=this.sankeyColor}this.drawSankey(i)},this.draw1DTreeDataPoints=function(){if(this.setTree(),this.data.tree&&this.data.tree.plot){var t=this.data.tree.plot,e=this.get1DLeft()+(this.isDOE?3*this.margin:0),i=this.get1DTop(),a=this,s=(this.data.tree.plot.leaves().length,this.treeInverted?-1:1),r=function(n){if(n.children)for(var o=0;o<n.children.length;o++)r(n.children[o]);if(a.treeCircular&&function(t){var r=Math.PI-t.x/180*Math.PI,n=t.y;if(r<0&&(r+=2*Math.PI),t.angle=r,t.radius=n,t.xi=t.x,t.yi=t.y,t.y=s*n*Math.sin(r)+a.x/2,t.x=s*n*Math.cos(r)+a.y/2,t.parent){var o=Math.PI-t.xi/180*Math.PI,h=Math.PI-t.parent.x/180*Math.PI;n=(t.yi+t.parent.y)/2,t.mx=s*n*Math.sin(o)+a.x/2+e,t.my=s*n*Math.cos(o)+a.y/2+i,t.mx2=s*n*Math.sin(h)+a.x/2+e,t.my2=s*n*Math.cos(h)+a.y/2+i}}(n),"vertical"!=a.graphOrientation||a.treeCircular?"horizontal"!=a.graphOrientation||a.treeCircular?(n.y0=n.y+e,n.x0=n.x+i):(n.y0=a.treeInverted?t.size[1]-n.y+e:n.y+e,n.x0=a.treeInverted?t.size[0]-n.x+i:n.x+i):(n.y0=a.treeInverted?t.size[1]-n.y+i:n.y+i,n.x0=a.treeInverted?t.size[0]-n.x+e:n.x+e),a.colorBy?a.colorBy&&!n.data.color&&(n.data.color=null!=n.data.idx?a.getPropertyValue(!1,n.data.idx,"colorBy"):a.background):n.data.color=a.background,a.shapeBy?a.shapeBy&&!n.data.shape&&(n.data.shape=null!=n.data.idx?a.getPropertyValue(!1,n.data.idx,"shapeBy"):"sphere"):n.data.shape="sphere",a.sizeBy?a.sizeBy&&!n.data.size&&(n.data.size=null!=n.data.idx?a.getPropertyValue(!1,n.data.idx,"sizeBy"):a.treeNodeSize):n.data.size=a.isDOE?a.treeNodeSize/2:a.treeNodeSize,a.patternBy?a.patternBy&&!n.data.pattern&&(n.data.pattern=null!=n.data.idx?a.getPropertyValue(!1,n.data.idx,"patternBy"):"solid"):n.data.pattern="solid",n.data.tooltip="Tree:"+n.data.name+" ("+n.leaves().length+")",n.parent){var h=[],l=[],c=[],d=[];for(o=0;o<n.parent.children.length;o++)h.push(n.parent.children[o].data.color),l.push(n.parent.children[o].data.size),c.push(n.parent.children[o].data.shas),d.push(n.parent.children[o].data.pats);n.parent.data.color=a.combineColors(h),n.parent.data.size=a.mean(l),a.isUnique(c)&&(n.parent.data.shape=c[0]),a.isUnique(d)&&(n.parent.data.pattern=d[0])}};!function(t){for(var e=t.descendants(),i=0;i<e.length;i++)e[i]._children||(delete e[i].data.color,delete e[i].data.shape,delete e[i].data.size,delete e[i].data.pattern)}(this.data.tree.plot),r(this.data.tree.plot),this.drawTree(a.graphOrientation)}},this.checkOrientationLayout=function(){this.layoutValid&&this.segregateVariablesBy.length&&this.segregateSamplesBy.length&&("rows"==this.layoutType&&!this.layoutTypeVariablesFirst||"cols"==this.layoutType&&this.layoutTypeVariablesFirst?("vertical"==this.graphOrientation&&this.flashInfoSpan(100,100,"Graph orienation switched to horizontal",5e3),this.graphOrientation="horizontal"):("cols"==this.layoutType&&!this.layoutTypeVariablesFirst||"rows"==this.layoutType&&!this.layoutTypeVariablesFirst||"wrap"==this.layoutType&&this.segregateVariablesBy.length&&this.segregateSamplesBy.length)&&("horizontal"==this.graphOrientation&&this.flashInfoSpan(100,100,"Graph orienation switched to vertical",5e3),this.graphOrientation="vertical"))},this.checkOrientation=function(){"Meter"==this.graphType?"vertical"==this.meterType?this.graphOrientation="vertical":"horizontal"==this.meterType&&(this.graphOrientation="horizontal"):this.graphType.match(/Heatmap|Gantt/)?("vertical"==this.graphOrientation&&this.flashInfoSpan(100,100,"Graph orienation switched to horizontal",5e3),this.graphOrientation="horizontal"):"Sankey"==this.graphType&&("horizontal"==this.graphOrientation&&this.flashInfoSpan(100,100,"Graph orienation switched to vertical",5e3),this.graphOrientation="vertical"),this.checkOrientationLayout()},this.checkClustering=function(){this.samplesClustered&&this.clusterSamples(!1,!0),this.variablesClustered&&this.clusterVariables(!1,!0),this.samplesKmeaned&&this.kmeansSamples(!1,!0),this.variablesKmeaned&&this.kmeansVariables(!1,!0)},this.checkSamplesGrouping=function(){this.groupingFactors.length>0&&!this.isGroupedData&&(this.layoutComb&&this.data.l&&this.data.l.group&&this.isSameObject(this.data.l.group.sort(),this.groupingFactors.sort())||this.groupSamples(this.groupingFactors,!1,!1,!0,!0)),this.setGroupLabels()},this.checkDataTransform=function(){this.transformData!=this.isTransformedData&&(this.transform(this.transformData,this.transformAxis,!1,!0),this.initializeAxis(),this.setColorBrew(!0))},this.checkMultidimensional=function(){for(var t="Heatmap"==this.graphType?["outline","shape","size","pattern"]:["color","outline","shape","size","pattern"],e=0;e<t.length;e++){var i=t[e]+"ByData";this[i]&&this.data.y[this[i]]&&this.isArray(this.data.y[this[i]])&&(this.isMultidimensionalData=!0)}},this.checkTree=function(){this.treeNodeSize=Math.min(20,Math.max(4,Math.ceil(this.height/this.data.y.smps.length)))},this.checkTreemap=function(){"Treemap"==this.graphType&&(this.showVarDendrogram=!0)},this.checkStack=function(){this.stackBy&&this.meta.data.x&&this.meta.data.x[this.stackBy]&&"Numeric"==this.meta.data.x[this.stackBy].type&&this.switchNumericToString(this.stackBy,!0,!0)},this.checkLine=function(){this.lineBy&&this.meta.data.x&&this.meta.data.x[this.lineBy]&&"Numeric"==this.meta.data.x[this.lineBy].type&&this.switchNumericToString(this.lineBy,!0,!0)},this.checkBoxplotWidthRatio=function(){this.boxplotWidthRatioIfViolin=Math.min(1,Math.max(.1,this.boxplotWidthRatioIfViolin))},this.checkOncoprint=function(){this.oncoprintCNA&&this.data.y.hasOwnProperty(this.oncoprintCNA)?this.summarizeOncoprint():(this.isOncoprint=!1,this.oncoprintCNA=!1)},this.checkSankey=function(){this.sankeyColor=this.addColorTransparency(this.sankeyColor,.5,!0)},this.checkSwimmer=function(){"swimmer"==this.barType&&(this.swimHigh&&-1==this.getVariableIndices(this.swimHigh)&&(this.swimHigh=this.data.y.vars[0]),this.swimStart&&-1==this.getVariableIndices(this.swimStart)&&(this.data.y.vars.length>1?this.swimStart=this.data.y.vars[1]:this.barType="normal"),this.swimEnd&&-1==this.getVariableIndices(this.swimEnd)&&(this.data.y.vars.length>2?this.swimEnd=this.data.y.vars[2]:this.barType="normal"),"swimmer"==this.barType&&this.summarizeSwimmer())},this.checkGantt=function(){"Gantt"==this.graphType&&(this.showOverlays=!1,this.showVarDendrogram=!1,this.showSmpDendrogram=!1,this.plotByVariable=!1,this.xAxisMajorTicks=!1,this.xAxisMinorTicks=!1,this.xAxisShow=!1)},this.checkAxes=function(){var t,e;if(this.xAxis.length&&(t=this.isSameObject(this.getVariableIndices(this.xAxis),this.xAxisVarIndices)),this.xAxis2.length&&(e=this.isSameObject(this.getVariableIndices(this.xAxis2),this.xAxis2VarIndices)),t&&e||(this.layoutAdjust?this.setAxes():(t||(this.xAxisVarIndices=this.getVariableIndices(this.xAxis)),e||(this.xAxis2VarIndices=this.getVariableIndices(this.xAxis2)))),this.graphType.match(/Line/)&&this.isGroupedData&&!this.isDOE){for(var i=[],a=0;a<this.xAxisVarIndices.length;a++)i.push(this.xAxisVarIndices[a]);for(a=0;a<this.xAxis2VarIndices.length;a++)i.push(this.xAxis2VarIndices[a]);this.setVariablesVisible(i),this.groupSamples(this.groupingFactors,!1,!1,!0,!0,!0)}},this.validate1DPropertyDefaults=function(){this.checkBoxplotWidthRatio(),this.checkOrientation(),this.checkSamplesGrouping(),this.checkDataTransform(),this.checkClustering(),this.checkSegregation(),this.checkMultidimensional(),this.checkTreemap(),this.checkTree(),this.checkStack(),this.checkLine(),this.checkOncoprint(),this.checkSankey(),this.checkSwimmer(),this.checkGantt()},this.setOverlaysDendrogramVariable=function(){this.isDOE?(this.showOverlays=!1,this.showVarDendrogram=!1,this.showSmpDendrogram=!1,this.smpTitle=!1):this.plotByVariable&&(this.graphType.match(/^Bar$|Boxplot|Dotplot|Gantt/)?(this.showOverlays=!1,this.showVarDendrogram=!1,this.showSmpDendrogram=!1):this.plotByVariable=!1)},this.set1DAttributes=function(){this.checkOrientation(),this.checkAxes(),this.validatePropertyValues(),this.setGroupLabels(),this.setOverlaysDendrogramVariable(),this.setDendrograms(),this.set1DOverlays(),this.set1DXYDimensions(),this.set1DPrivateParams(),this.set1DXAxis()},this.set1DOverlays=function(){this.validateOverlays(),this.setOverlays("var"),this.setOverlays("smp")},this.draw1DLayout=function(){this.drawDendrograms(),this.draw1DXLayout(),this.draw1DYLayout()},this.draw1DData=function(){this.drawPlotWindow(),this.draw1DWireFrame(),this.draw1DDataPoints(),this.draw1DLayout(),this.draw1DOverlays(),this.drawDecorationData(),this.drawLegend(),this.drawTitle()},this.draw1DPlot=function(){this.set1DAttributes(),this.draw1DData()},this.restoreOriginalSettings=function(){for(var t=this.meta.config.orig,e=["varLabelScaleFontFactor","showVariableNames","showSampleNames","smpLabelScaleFontFactor","insideLegend","legendFontSize","showLegend","legendPosition"],i=0;i<e.length;i++){var a=e[i];t[a]&&(this[a]=t[a],delete t[a])}this.adjustAspectRatioXTries=0,this.adjustAspectRatioYTries=0},this.initialize1DPlot=function(){this.validate1DPropertyDefaults(),this.layoutValid&&this.data.l?this.drawLayoutCompartments(this.draw1DPlot):this.draw1DPlot(),this.restoreOriginalSettings(),this.resetInitialFontSize()},t||this.initialize1DPlot()},CanvasXpress.prototype.Network=function(t){this.findXYCoordinates=function(t){var e=this.adjustedCoordinates(t),i={};return i.x=(e.x/this.scaleFactorX||1)-this.offsetX,i.y=(e.y/this.scaleFactorY||1)-this.offsetY,i},this.addNode=function(t,e){if(t){if(!t.id){for(var i=0,a="id"+i;this.nodes.hasOwnProperty(a);)a="id"+ ++i;t.id=a}if(t.color||(t.color=this.colors[0]),t.shape||(t.shape=this.shapes[0]),t.size||(t.size=1),e){var s=this.findXYCoordinates(e);t.x=s.x,t.y=s.y}return this.data.nodeIndices[t.id]=this.data.nodes.length,this.data.nodes.push(t),this.nodes[t.id]=t,t}},this.getNodeConfigurableProperties=function(t){return null!=t?this.getKeys(this.data.nodes[t]):[]},this.getEdgeConfigurableProperties=function(t){return null!=t?this.getKeys(this.data.edges[t]):[]},this.removeNode=function(t,e){if(t&&t.id){var i=!!e&&this.getObjectArray(this.findChildrenNodeIndices(t.id)),a=[],s=0;if(t.hasOwnProperty("layout")&&t.layout.children.length)for(var r=0;r<t.layout.children.length;r++){var n=t.layout.children[r];null!=this.data.nodeIndices[n]&&this.data.nodes[this.data.nodeIndices[n]]&&delete this.data.nodes[this.data.nodeIndices[n]].parentNode}this.data.nodeIndices={};for(r=0;r<this.data.nodes.length;r++){var o=this.data.nodes[r];if(o.id!=t.id)if(i&&i.hasOwnProperty(r))for(var h=o.layout.edges,l=0;l<h.length;l++)this.removeEdge(h[l]);else a.push(o),this.data.nodeIndices[o.id]=s,s++;else for(h=o.layout.edges,l=0;l<h.length;l++)this.removeEdge(h[l]);o.layout.edges=this.edgesForNode(this.data.edges,o.id)}this.data.nodes=a}},this.addEdge=function(t){t&&t.id1&&t.id2&&(t.color||(t.color=this.colors[0]),t.width||(t.width=1),t.type||(t.type="line"),this.data.edges.push(t))},this.removeEdge=function(t){if(t&&t.id1&&t.id2){for(var e=[],i=0;i<this.data.edges.length;i++)this.data.edges[i].id1==t.id1&&this.data.edges[i].id2==t.id2||e.push(this.data.edges[i]);this.data.edges=e}},this.appendNodeData=function(t){for(var e in t)if(this.data.nodes[this.data.nodeIndices[e]]){var i=this.data.nodes[this.data.nodeIndices[e]];for(var a in t[e])i[a]=t[e][a]}this.updateNetworkMetaData("nodes"),CanvasXpress.stack[this.target].data=this.data,delete this.nodesData},this.appendEdgeData=function(t){for(var e=0;e<this.data.edges.length;e++){var i=this.data.edges[e],a=i.id1+":"+i.id2,s=i.id2+":"+i.id1,r=t.hasOwnProperty(a)?t[a]:!!t.hasOwnProperty(s)&&t[s];if(r)for(var n in r)i[n]=r[n]}this.updateNetworkMetaData("edges"),CanvasXpress.stack[this.target].data=this.data,delete this.edgesData},this.modifyXYEdgeElbow=function(t,e,i,a){var s=this.data.edges[t].elbows[e];s[0]-=i,s[1]-=a},this.getNodeWidth=function(t){return t.width?t.width:t.size?this.nodeSize*t.size:this.nodeSize},this.getNodeHeight=function(t){return t.height?t.height:t.size?this.nodeSize*t.size:this.nodeSize},this.modifyNodeSize=function(t,e,i){var a=this.data.nodes[this.data.nodeIndices[t]];delete a.size,a.width=e,a.height=i},this.modifyXYNode=function(t,e,i){var a=this.data.nodes[this.data.nodeIndices[t]];if(!a.fixed){a.x-=e,a.y-=i;var s=this.edgesForNode(this.data.edges,t);if(s.length>0)for(var r=0;r<s.length;r++){var n=s[r];if(n.elbows){var o=n.elbows.length-1;n.id1==t?(n.elbows[0][0]-=e,n.elbows[0][1]-=i):n.id2==t&&(n.elbows[o][0]-=e,n.elbows[o][1]-=i)}}if(null!=a.labelX&&null!=a.labelY&&this.modifyXYNodeLab(t,e,i),null!=a.decorationsX&&null!=a.decorationsY&&this.modifyXYNodeDec(t,e,i),"radial"!=this.networkLayoutType&&a.hasOwnProperty("layout")&&a.layout.children.length&&this.moveParentsWithChildren)for(r=0;r<a.layout.children.length;r++){var h=a.layout.children[r];this.modifyXYNode(h,e,i)}}},this.modifyXYNodeLab=function(t,e,i){var a=this.data.nodes[this.data.nodeIndices[t]];a.fixed||(a.labelX=null!=a.labelX?a.labelX-e:a.labelXi-e,a.labelY=null!=a.labelY?a.labelY-i:a.labelYi-i)},this.modifyXYNodeDec=function(t,e,i){var a=this.data.nodes[this.data.nodeIndices[t]];a.fixed||(a.decorationsX=null!=a.decorationsX?a.decorationsX-e:a.decorationsXi-e,a.decorationsY=null!=a.decorationsY?a.decorationsY-i:a.decorationsYi-i)},this.getHiddenNodes=function(){var t=[];if(this.data.nodes)for(var e=0;e<this.data.nodes.length;e++)this.data.nodes[e].hide&&t.push(this.data.nodes[e]);return t},this.orderNodes=function(t){for(var e in CanvasXpress.selector.nodes)this[t](this.data.nodes[this.data.nodeIndices[e]])},this.sendNodeToBack=function(t){for(var e=[t],i=0;i<this.data.nodes.length;i++)this.data.nodes[i].id!=t.id&&e.push(this.data.nodes[i]);this.data.nodes=e,this.setNodeIndices()},this.sendNodeBackward=function(t){var e=[],i=this.data.nodeIndices[t.id];if(i>0){for(var a=0;a<i-1;a++)e.push(this.data.nodes[a]);e.push(this.data.nodes[i]),e.push(this.data.nodes[i-1]);for(a=i+1;a<this.data.nodes.length;a++)e.push(this.data.nodes[a]);this.data.nodes=e,this.setNodeIndices()}},this.bringNodeToFront=function(t){for(var e=[],i=0;i<this.data.nodes.length;i++)this.data.nodes[i].id!=t.id&&e.push(this.data.nodes[i]);e.push(t),this.data.nodes=e,this.setNodeIndices()},this.bringNodeForward=function(t){var e=[],i=this.data.nodeIndices[t.id];if(this.data.nodes.length-1>i){for(var a=0;a<i;a++)e.push(this.data.nodes[a]);e.push(this.data.nodes[i+1]),e.push(this.data.nodes[i]);for(a=i+2;a<this.data.nodes.length;a++)e.push(this.data.nodes[a]);this.data.nodes=e,this.setNodeIndices()}},this.flashNode=function(t,e,i){t=this.toArray(t);for(var a=(this.maxX-this.minX)/this.scaleFactorX,s=(this.maxY-this.minY)/this.scaleFactorY,r=.015,n=0;n<t.length;n++){var o=t[n],h=this.data.nodes[this.data.nodeIndices[o]],l=h.width?h.width:h.size?h.size:this.nodeSize,c=h.height?h.height:h.size?h.size:this.nodeSize,d=1.35*(l<r*a?r*a:l),p=1.35*(c<r*s?r*s:c),g=this.adjustNetworkObjects(["circle",h.x,h.y,1]);this.flash(g[1],g[2],d*this.scaleFactorX,p*this.scaleFactorY,e||this.nodeHighlightColor,i)}},this.highlightNodes=function(t){this.isTransition()||(this.isArray(t)?this.highlightNode=this.highlightNode.concat(t):this.highlightNode.push(t),this.draw({func:"highlightNodes",par:[t]}))},this.unHighlightNodes=function(t){if(!this.isTransition()){var e=[];t=this.toArray(t);for(var i=0;i<this.highlightNode.length;i++){for(var a=!1,s=0;s<t.length;s++)if(this.highlightNode[i]==t[s]){a=!0;break}a||e.push(this.highlightNode[i])}this.highlightNode=e,this.draw({func:"unHighlightNodes",par:[t]})}},this.alignDistributeSelectedNodes=function(t,e){if(!this.isTransition()){var i,a,s,r,n=this.getSelectedNodeCoordinates();if(n||89==e||90==e){if(t&&(this.cancelEvent(t),this.stopEvent(t)),84==e)for(var o in i=this.min(n.y),CanvasXpress.selector.nodes){var h=this.data.nodes[this.data.nodeIndices[o]];this.modifyXYNode(h.id,0,h.y-i)}else if(82==e)for(var o in i=this.max(n.x),CanvasXpress.selector.nodes){h=this.data.nodes[this.data.nodeIndices[o]];this.modifyXYNode(h.id,h.x-i,0)}else if(66==e)for(var o in i=this.max(n.y),CanvasXpress.selector.nodes){h=this.data.nodes[this.data.nodeIndices[o]];this.modifyXYNode(h.id,0,h.y-i)}else if(76==e)for(var o in i=this.min(n.x),CanvasXpress.selector.nodes){h=this.data.nodes[this.data.nodeIndices[o]];this.modifyXYNode(h.id,h.x-i,0)}else if(86==e){a=this.range(n.y),s=this.rank(n.y),r=(a[1]-a[0])/(CanvasXpress.selector.selections-1),i=a[0];for(var l=0;l<s.length;l++){o=n.i[s[l]];h=this.data.nodes[this.data.nodeIndices[o]];this.modifyXYNode(h.id,0,h.y-(i+l*r))}}else if(72==e){a=this.range(n.x),s=this.rank(n.x),r=(a[1]-a[0])/(CanvasXpress.selector.selections-1),i=a[0];for(l=0;l<s.length;l++){o=n.i[s[l]];h=this.data.nodes[this.data.nodeIndices[o]];this.modifyXYNode(h.id,h.x-(i+l*r),0)}}this.draw({network:!0,func:"alignDistributeSelectedNodes",par:[t,e]})}return!1}},this.getSelectedNodeCoordinates=function(){var t={x:[],y:[],i:[]},e=!1;for(var i in CanvasXpress.selector.nodes){var a=this.data.nodes[this.data.nodeIndices[i]];t.x.push(a.x),t.y.push(a.y),t.i.push(i),e=!0}return!!e&&t},this.findNodesBy=function(t){var e=[],i=0;for(var a in t)t[a]=this.toArray(t[a]),i++;for(var s=0;s<this.data.nodes.length;s++){var r=this.data.nodes[s],n=0;for(var a in t)for(var o=t[a],h=0;h<o.length;h++)r[a]&&r[a]==o[h]&&n++;n==i&&e.push(r)}return e},this.setNetworkDimensions=function(){if(this.left=10,this.right=10,this.top=this.getTitleSubtitleHeight()+10,this.bottom=10,this.showLegend&&(this.legendInside||(this.legendPosition.match(/right/i)?this.right+=this.legendWidth+this.margin:this.legendPosition.match(/left/i)?this.left+=this.legendWidth+this.margin:this.legendPosition.match(/bottom/i)?this.bottom+=this.legendHeight+this.margin:this.top+=this.legendHeight+this.margin)),"circular"==this.networkLayoutType&&this.showNodeNameThreshold>=this.data.nodes.length){var t=this.meta.data.nodes.label?this.meta.data.nodes.label.maxLevStr:this.meta.data.nodes.name?this.meta.data.nodes.name.maxLevStr:this.meta.data.nodes.id.maxLevStr,e=this.zoomScale?1:this.zoom,i=this.nodeFontSize*this.nodeScaleFontFactor,a=this.nodeFontStyle+" "+Math.min(Math.max(parseInt(i/e),this.scaleFactorX>this.minTextSize?1:this.minTextSize),this.maxTextSize)+"px "+this.fontName,s=.3*this.measureText(t,a);this.left+=s,this.right+=s,this.top+=s,this.bottom+=s}this.x=this.width-(this.left+this.right),this.y=this.height-(this.top+this.bottom)},this.setNetworkPrivateParams=function(t,e){var i,a,s,r,n,o,h;if(t){var l=this.getSelectedNodeCoordinates();r=this.min(l.x),n=this.max(l.x),o=this.min(l.y),h=this.max(l.y),i=s=Math.max(n-r,h-o),a=s}else t=this.data.nodes,i=this.x,a=this.y;e||(e=this.networkLayoutType),t.length>0&&("radial"==e?(this.networkLevelSize=4*this.x/(2*this.networkDepth),this.networkAngleStep=360/this.networkDivisions,this.networkRadialRadius=this.networkLevelSize*(this.networkDepth-1),this.networkXCenter=this.x/2,this.networkYCenter=this.y/2):"circular"==e?(this.networkLevelSize=.5*i,this.networkAngleStep=360/t.length,this.networkRadialRadius=this.networkLevelSize,this.networkXCenter=i/2,this.networkYCenter=a/2):this.set3DParams())},this.networkContains=function(t,e){return null!=this.findNode(t,e)},this.findNode=function(t,e){for(var i in t){var a=t[i];if(e.call(a))return a}return null},this.filterEdges=function(t,e){var i=[];for(var a in t){var s=t[a];e.call(s)&&i.push(s)}return i},this.normalizeGraph=function(t){var e=[],i={},a=this;for(var s in t.nodes)if(!i.hasOwnProperty(t.nodes[s].id)){var r=t.nodes[s];if(i[r.id]=1,!this.networkContains([],(function(){return a.networkContains(this.nodes,(function(){return this.id=r.id}))}))){var n={nodes:[],edges:[]};this.addNodeToGraph(r,n,t),n.nodes.length>0&&e.push(n);for(var o=0;o<n.nodes.length;o++)i[n.nodes[o].id]=1}}return e},this.addNodeToGraph=function(t,e,i){if(null==this.findNodeForId(t.id,e)){e.nodes.push(t);var a=this.edgesForNode(i.edges,t.id);for(edgeIndex in a){var s=a[edgeIndex];e.edges.push(s),s.id1==t.id?this.addNodeToGraph(this.findNodeForId(s.id2,i),e,i):this.addNodeToGraph(this.findNodeForId(s.id1,i),e,i)}}},this.findNodeForId=function(t,e){return this.findNode(e.nodes,(function(){return t==this.id}))},this.edgesForNode=function(t,e){return this.filterEdges(t,(function(t){return this.id1==e||this.id2==e}))},this.translateScaleNetworkCanvas=function(t){t?(this.translateCanvas(-this.offsetX,-this.offsetY),this.scaleCanvas(1/this.scaleFactorX,1/this.scaleFactorY)):(this.scaleCanvas(this.scaleFactorX,this.scaleFactorY),this.translateCanvas(this.offsetX,this.offsetY))},this.disableEnablePreScaling=function(t){t?(this.preScaleNetwork=this.preScaleNetworkState,delete this.preScaleNetworkState):(this.preScaleNetworkState=this.preScaleNetwork,this.preScaleNetwork=!0)},this.renderNetwork=function(t){if(this.data.nodes.length>0){if(!this.isLayoutDone&&!this.showAnimation)return;var e=this,i=function(){e.ignoreEventlessOrder||e.drawNetworkNodes(!0),e.networkNodesOnTop?(e.toRender({p:["disableGradientTransparencyShadow"],t:"Size"}),e.drawNetworkEdges(),e.toRender({p:["enableGradientTransparencyShadow"],t:"Size"}),e.drawNetworkNodes()):(e.drawNetworkNodes(),e.toRender({p:["disableGradientTransparencyShadow"],t:"Size"}),e.drawNetworkEdges(),e.toRender({p:["enableGradientTransparencyShadow"],t:"Size"})),e.isLayoutDone&&(e.renderRadialLayout(),e.drawNetworkCommunities(),e.drawNetworkDecorations())},a=function(){e.disableEnablePreScaling(),e.drawCitation(),e.drawLegend(),e.drawTitle(),e.drawCanvasBox(!0),e.disableEnablePreScaling(!0)};this.updateCircularLayout(),this.setNetworkMinMaxRangeXY(),this.setNetworkScaleFactor(),this.resetRender(),this.resizeCanvas(),this.setNetworkRotation(),this.setNetworkCommunities(),this.scaleFactorX&&this.scaleFactorY&&(this.showAnimation?(this.preScaleNetwork?(this.centerNetwork(),i()):(this.toRender({p:["translateScaleNetworkCanvas",!1],t:"Size"}),i(),this.toRender({p:["translateScaleNetworkCanvas",!0],t:"Size"})),a()):(a(),this.preScaleNetwork?this.centerNetwork():this.toRender({p:["translateScaleNetworkCanvas",!1],t:"Size"}),i())),this.render(),t&&this.triggerDataLoaded(t)}},this.updateCircularLayout=function(){if("circular"==this.networkLayoutType){for(var t=this.data.nodes,e=this.x/2,i=this.y/2,a=Math.max(this.x,this.y),s=0,r=0;r<t.length;r++){(h=t[r]).hide||(s+=this.nodeSize*this.getNodeEdgePropertyValue(h,!1,"sizeNodeBy")*2+this.nodeSize)}var n=2*Math.PI/s,o=0;for(r=0;r<t.length;r++){var h=t[r];s=this.nodeSize*this.getNodeEdgePropertyValue(h,!1,"sizeNodeBy")*2+this.nodeSize;h.hide||(o+=n*s*.5,h.x=e+a+a*Math.sin(o),h.y=i+a+a*Math.cos(o),o+=n*s*.5)}}},this.renderRadialLayout=function(){if("radial"==this.networkLayoutType&&this.showNetworkRadialLayout)for(var t=this.data.nodes[this.data.nodeIndices[this.networkRoot]],e=1;e<this.networkDepth;e++)this.toRender({p:["drawShape","circle",t.x,t.y,e*this.networkLevelSize*2,e*this.networkLevelSize*2,this.background,this.infoAreaColor,"open"],t:"Axes"})},this.centerNetwork=function(){for(var t=0;t<this.data.nodes.length;t++){var e=this.data.nodes[t];e.hide||e.hiddenParent||(e.x=(this.offsetX+e.x)*this.scaleFactorX,e.y=(this.offsetY+e.y)*this.scaleFactorY)}this.scaleFactorX=.9,this.scaleFactorY=.9,this.offsetX=this.left+.05*this.x,this.offsetY=this.top+.05*this.y},this.getLengthToNodeBoundary=function(t,e,i,a,s,r){var n=this.networkLayoutType.match(/radial|circular/)?1:this.scaleFactorX,o=this.networkLayoutType.match(/radial|circular/)?1:this.scaleFactorY,h=this.margin/Math.max(n,o)*this.zoom,l=r&&!(t==i&&e==a)?4*h:s.height||s.width?0:1.5*h;if("circular"==this.networkLayoutType)return 0;if(s){var c=s.size?s.size:1,d=(r&&s.height?s.height:s.width?s.width:this.nodeSize/n*c)*this.zoom,p=(r&&s.width?s.width:s.height?s.height:this.nodeSize/o*c)*this.zoom;if(d==p)return d/2+l;var g=this.clip("line",[t,e,i,a],[t-d/2,e-p/2,d+(t-d/2),p+(e-p/2)]);return this.lineLength(g[0],g[1],g[2],g[3])+l}return l},this.getEdgeCoordinates=function(t,e,i){var a=e.x,s=e.y,r=i.x,n=i.y,o=!!(t.id1==t.id2?"curved":t.type?t.type:"line").match(/curved/i),h=0,l=0;if(t.exact)h=0,l=0;else if(t.elbows&&t.elbows.length>0){var c=t.elbows[0],d=t.elbows[t.elbows.length-1];h=this.getLengthToNodeBoundary(a,s,c[0],c[1],e,o),l=this.getLengthToNodeBoundary(r,n,d[0],d[1],i,o)}else{var p=null,g=null,u=null,m=null;if(t.exactStart)h=0;else if(null!=t.startX&&null!=t.startY){var f=t.startX,y=t.startY;e.size&&e.size;p=a+f*(e.width?e.width/this.zoom/2:this.nodeSize*siz/this.zoom/2),g=s+y*(e.height?e.height/this.zoom/2:this.nodeSize*siz/this.zoom/2),h=0}else h=this.getLengthToNodeBoundary(a,s,r,n,e,o);if(t.exactEnd)l=0;else if(null!=t.endX&&null!=t.endY){var x=t.endX||0,b=t.endY||0;i.size&&i.size;u=r+x*(i.width?i.width/this.zoom/2:this.nodeSize*siz/this.zoom/2),m=n+b*(i.height?i.height/this.zoom/2:this.nodeSize*siz/this.zoom/2),l=0}else l=this.getLengthToNodeBoundary(r,n,a,s,i,o);null!=p&&null!=g&&(a=p,s=g),null!=u&&null!=m&&(r=u,n=m)}return{startX:a,startY:s,startS:h,endX:r,endY:n,endS:l}},this.drawNetworkEdges=function(){if(this.data.nodes.length>1)for(var t=this.zoomScale?1:this.zoom,e=0;e<this.data.edges.length;e++){var i=null,a=this.data.edges[e],s=this.data.nodes[this.data.nodeIndices[a.id1]],r=this.data.nodes[this.data.nodeIndices[a.id2]],n=!(s.hide||s.hiddenParent||r.hide||r.hiddenParent);s.id,r.id;if(n&&!a.hide){var o=CanvasXpress.selector.nodes.hasOwnProperty(s.id)&&CanvasXpress.selector.nodes.hasOwnProperty(r.id)?this.nodeHighlightColor:this.getNodeEdgePropertyValue(!1,a,"colorEdgeBy"),h=this.getNodeEdgePropertyValue(!1,a,"sizeEdgeBy"),l=!!a.cap&&a.cap,c="forceDirected"==this.networkLayoutType?"R":"",d=a.id1==a.id2?"curved":a.type?a.type:"line"+c,p=this.getEdgeCoordinates(a,s,r),g=a.id1==a.id2&&a.self?a.self:{dir:!0,pos:"topLeft",size:40,end:"arrow"},u=!1;if(this.colorNodeBy&&!this.colorEdgeBy&&(o=this.monoColor(o,.33)),"circular"==this.networkLayoutType&&this.colorNodeBy&&(o=this.getNodeEdgePropertyValue(r,!1,"colorNodeBy")),a.elbows){u=[];var m="string"==typeof a.elbows?this.parseJSON(a.elbows):a.elbows;if("quadratic"==d&&2==m.length)u=a.angle||-1;else for(var f=0;f<m.length;f++){u[f]=[];for(var y=0;y<m[f].length-1;y+=2)u[f].push(m[f][y]),u[f].push(m[f][y+1])}}else"quadratic"==d&&(u=a.angle||-1);if(this.isLayoutDone&&!this.isAnimation){if("circular"==this.networkLayoutType)i=this.toRender({p:["drawLine","arch",[p.startX,this.adjustBackNetworkObjectX(this.left+this.x/2),p.endX],[p.startY,this.adjustBackNetworkObjectY(this.top+this.y/2),p.endY],!1,!1,o,h/t],a:this.getLineArea("arch",[p.startX,this.adjustBackNetworkObjectX(this.left+this.x/2),p.endX],[p.startY,this.adjustBackNetworkObjectY(this.top+this.y/2),p.endY],!1,!1,o,h/t),i:[e+this.data.nodes.length],t:"Data",h:this.isHidden(!1,e+this.data.nodes.length)});else if(a.highlight&&this.toRender({p:["drawLine",d,p.startX,p.startY,p.endX,p.endY,a.highlight,h/t*3,l,Math.max(0,p.startS/t/1.25),Math.max(0,p.endS/t/1.25),!1,!1,u,!1,!1,g],a:this.getLineArea(d,p.startX,p.startY,p.endX,p.endY,a.highlight,h/t*3,l,Math.max(0,p.startS/t/1.25),Math.max(0,p.endS/t/1.25),!1,!1,u,!1,!1,g),i:[e+this.data.nodes.length],t:"Data",h:this.isHidden(!1,e+this.data.nodes.length)}),i=this.toRender({p:["drawLine",d,p.startX,p.startY,p.endX,p.endY,o,h/t,l,Math.max(0,p.startS/t/1.25),Math.max(0,p.endS/t/1.25),!1,!1,u,a.startArrow,a.endArrow,g],a:this.getLineArea(d,p.startX,p.startY,p.endX,p.endY,o,h/t,l,Math.max(0,p.startS/t/1.25),Math.max(0,p.endS/t/1.25),!1,!1,u,a.startArrow,a.endArrow,g),i:[e+this.data.nodes.length],t:"Data",h:this.isHidden(!1,e+this.data.nodes.length)}),u)for(f=1;f<u.length-1;f++)this.toRender({p:["drawShape","circle",u[f][0]+.5,u[f][1]+.5,2,2,this.addColorTransparency(o,.2,!0),this.addColorTransparency(o,.2,!0)],a:this.getShapeArea("circle",u[f][0]+.5,u[f][1]+.5,2,2,this.addColorTransparency(o,.2,!0),this.addColorTransparency(o,.2,!0)),i:[e+this.data.nodes.length,f],m:"-elbow",t:"Data",h:this.isHidden(!1,e+this.data.nodes.length)})}else this.toRender({p:["drawLine",d,p.startX,p.startY,p.endX,p.endY,o,h/t,l,Math.max(0,p.startS/t/1.25),Math.max(0,p.endS/t/1.25),!1,!1,u,a.startArrow,a.endArrow,g],a:this.getLineArea(d,p.startX,p.startY,p.endX,p.endY,o,h/t,l,Math.max(0,p.startS/t/1.25),Math.max(0,p.endS/t/1.25),!1,!1,u,a.startArrow,a.endArrow,g),i:[e+this.data.nodes.length],t:"Data",h:this.isHidden(!1,e+this.data.nodes.length)});if(a.decoration){var x,b,v,A;for(f=0;f<a.decoration.length;f++){var w=a.decoration[f],C="Bold "+(w.fontSize||12)+"px "+this.fontName;w.color!=o&&(o=w.color),this.colorNodeBy&&!this.colorEdgeBy&&(o=this.monoColor(o,.33));var T=w.labelColor||"rgb(242,216,0)",S=1.8;if(this.colorNodeBy&&!this.colorEdgeBy&&(T=this.monoColor(T,.33)),a.id1==a.id2)switch(g.pos){case"top":b=[p.startX,p.startY-g.size*S];break;case"topRight":b=[p.startX+g.size*S,p.startY-g.size*S];break;case"right":b=[p.startX+g.size*S,p.startY];break;case"bottomRight":b=[p.startX+g.size*S,p.startY+g.size*S];break;case"bottom":b=[p.startX+g.size*S,p.startY];break;case"bottomLeft":b=[p.startX-g.size*S,p.startY+g.size*S];break;case"left":b=[p.startX-g.size*S,p.startY];break;case"topLeft":b=[p.startX-g.size*S,p.startY-g.size*S]}else"quadratic"==d&&w?(v=this.perpendicularLinePoints(p.startX,p.startY,p.endX,p.endY,!1,Math.min(1,this.arrowQuadraticFactor*Math.abs(u))*(u>0?-1:1)),A=this.shortenLine(p.startX,p.startY,p.endX,p.endY,Math.max(0,p.startS/t/1.25),Math.max(0,p.endS/t/1.25),d,u),b=this.traceQuadraticCurve(A[0],A[1],v[0],v[1],A[2],A[3],.1,!0)[Math.floor(10*w.pos)]):a.elbows?0==w.index?(x=this.lineLength(m[0][0],m[0][1],m[1][0],m[1][1]),b=this.getCoordinateAtDistance(m[0][0],m[0][1],m[1][0],m[1][1],w.pos*x)):"bezier"==d&&w?b=this.traceBezierCurve(m[0][0],m[0][1],m[1][0],m[1][1],m[2][0],m[2][1],m[3][0],m[3][1],.1,!0)[Math.floor(2*w.index/10)]:m[w.index+1]?(x=this.lineLength(m[w.index][0],m[w.index][1],m[w.index+1][0],m[w.index+1][1]),b=this.getCoordinateAtDistance(m[w.index][0],m[w.index][1],m[w.index+1][0],m[w.index+1][1],w.pos*x)):(x=this.lineLength(m[w.index][0],m[w.index][1],p.endX,p.endY),b=this.getCoordinateAtDistance(m[w.index][0],m[w.index][1],p.endX,p.endY,w.pos*x)):(x=this.lineLength(p.startX,p.startY,p.endX,p.endY),b=this.getCoordinateAtDistance(p.startX,p.startY,p.endX,p.endY,w.pos*x));b&&(this.toRender({p:["drawShape",w.shape,b[0],b[1]-1,22,20,o,o],a:this.getShapeArea(w.shape,b[0],b[1]-1,22,20,o,o),i:[e+this.data.nodes.length],m:"-edgeDecoration-"+f,g:i,t:"Data",h:this.isHidden(!1,e+this.data.nodes.length)}),this.toRender({p:["drawText"," "+w.label,b[0],b[1],C,T,"center","middle"],a:this.getTextArea(" "+w.label,b[0],b[1],C,T,"center","middle"),i:[e+this.data.nodes.length],m:"-edgeDecorationLabel-"+f,g:i,t:"Data",h:this.isHidden(!1,e+this.data.nodes.length)}))}}}}},this.drawNetworkSelectionNodePoint=function(t,e,i,a,s,r,n){var o,h,l,c,d,p,g,u,m,f,y,x,b,v,A,w=10/this.scaleFactorX*1.5;this.toRender({p:["drawShape","rect",e,i,a,s,this.nodeHighlightColor,this.foreground,"open",r,!1,!1,!1,!1,!1,!1,n],t:"Size"}),r?(v=Math.cos(r),f=-(A=Math.sin(r))*(-s/2-w),y=v*(-s/2-w),x=-A*(-s/2),b=v*(-s/2),this.toRender({p:["drawLine","line",f+e,y+i,x+e,b+i,this.foreground],t:"Size"}),o=[e-A*(-s/2-w),i+v*(-s/2-w)],h=[e+v*(-a/2)-A*(-s/2),i+v*(-s/2)+A*(-a/2)],l=[e-A*(-s/2),i+v*(-s/2)],c=[e+v*(a/2)-A*(-s/2),i+v*(-s/2)+A*(a/2)],d=[e+v*(-a/2),i+A*(-a/2)],p=[e+v*(-a/2)-A*(s/2),i+v*(s/2)+A*(-a/2)],g=[e-A*(s/2),i+v*(s/2)],u=[e+v*(a/2)-A*(s/2),i+v*(s/2)+A*(a/2)],m=[e+v*(a/2),i+A*(a/2)]):(this.toRender({p:["drawLine","line",e,i-(s/2+w),e,i-s/2,this.foreground],t:"Size"}),o=[e,i-(s/2+w)],h=[e-a/2,i-s/2],l=[e,i-s/2],c=[e+a/2,i-s/2],d=[e-a/2,i],p=[e-a/2,i+s/2],g=[e,i+s/2],u=[e+a/2,i+s/2],m=[e+a/2,i]);for(var C=[o,h,l,c,d,p,g,u,m],T=["-resizeROT","-resizeTL","-resizeTM","-resizeTR","-resizeML","-resizeBL","-resizeBM","-resizeBR","-resizeMR"],S=this.margin/this.scaleFactorX*2,D=0;D<C.length;D++)this.toRender({p:["drawShape","rect",C[D][0],C[D][1],S,S,this.nodeHighlightColor,this.foreground,"closed",r,!1,!1,!1,!1,!1,!1,n],a:this.getShapeArea("rect",C[D][0],C[D][1],S,S,this.nodeHighlightColor,this.foreground,"closed",r,!1,!1,!1,!1,!1,!1,n),i:[t],m:T[D],t:"Size"})},this.drawNetworkNodeLabel=function(t,e,i,a,s,r){var n,o,h,l,c;switch(this.networkVendor){case"Metabase":break;case"Wikipathways":this.nodeFontSize=t.labelSize?1:this.nodeFontSize;break;case"Cytoscape":break;default:this.nodeFontSize=Math.min(this.nodeFontSize,Math.ceil(this.nodeSize))}var d="circular"==this.networkLayoutType?"radial":"auto"==this.labelNodePosition?"center":this.labelNodePosition,p=this.zoomScale?1:this.zoom,g=t.label?t.label:t.name?t.name:t.id,u=!!t.labelRotate&&t.labelRotate*Math.PI/180,m=this.getNodeColor(t.id,t.labelColor),f=t.labelSize?this.nodeFontSize*t.labelSize*this.nodeScaleFontFactor:this.nodeFontSize*this.nodeScaleFontFactor,y=(t.labelStyle?t.labelStyle:this.nodeFontStyle)+" "+Math.min(Math.max(parseInt(f/p),this.scaleFactorX>this.minTextSize?1:this.minTextSize),this.maxTextSize)+"px "+this.fontName,x=this.measureText(g,y),b=f;if(null!=t.labelX&&null!=t.labelY)n=t.labelX,o=t.labelY,this.toRender({p:["drawText",g,t.labelX,t.labelY,y,m,t.labelAlign||"center","middle",u],a:this.getTextArea(g,t.labelX,t.labelY,y,m,t.labelAlign||"center","middle",u),i:[r],m:"-lab",t:"Labels",h:this.isHidden(r)});else{var v=this.isMultipleLines(g),A=parseInt(f)+4;switch(v&&(v%2?i-=parseInt(v/2)*A+A/2:i=i-parseInt(v/2)*A-A),t.labelPosition&&(d=t.labelPosition),d){case"top":n=e-x/2,h=e,l=o=i-(s/2+this.margin+b/2),t.labelXi=e,t.labelYi=o;break;case"bottom":n=e-x/2,h=e,l=o=i+(s/2+this.margin+b/2),t.labelXi=e,t.labelYi=o;break;case"right":o=i-b/2,h=n=e+(a/2+this.margin+x/2),l=i,t.labelXi=n,t.labelYi=i;break;case"left":o=i-b/2,h=n=e-(a/2+this.margin+x/2),l=i,t.labelXi=n,t.labelYi=i;break;case"center":h=e,l=i,t.labelXi=e,t.labelYi=i;break;case"radial":return c=Math.PI/2-t.angle*Math.PI/180,h=e+(a+3*this.margin)*Math.cos(c)*.5,l=i+(a+3*this.margin)*Math.sin(c)*.5,t.labelXi=e,t.labelYi=i,void(c>=-Math.PI/2?this.toRender({p:["drawText",g,h,l,y,m,"left","middle",c],a:this.getTextArea(g,h,l,y,m,"left","middle",c),i:[r],m:"-lab",t:"Labels",h:this.isHidden(r)}):this.toRender({p:["drawText",g,h,l,y,m,"right","middle",c-Math.PI],a:this.getTextArea(g,h,l,y,m,"right","middle",c-Math.PI),i:[r],m:"-lab",t:"Labels",h:this.isHidden(r)}))}this.toRender({p:["drawText",g,h,l,y,m,"center","middle",u],a:this.getTextArea(g,h,l,y,m,"center","middle",u),i:[r],m:"-lab",t:"Labels",h:this.isHidden(r)})}},this.drawNetworkNodes=function(t){for(var e=this,i=function(t,i,a,s,r){if(e.colorNodeBy&&!t.immutable){var n=e.getNodeEdgePropertyValue(t,!1,"colorNodeBy");return"Kegg"==e.networkVendor?e.addColorTransparency(n,.6,!0):n}return t.communityColor&&e.coordinateNetworkConvexHullCommunityColor?t.communityColor:t.gradient&&t.color1&&t.color2?"linear"==t.gradient?e.colorNodeBy||e.colorEdgeBy?"vertical"==e.gradientOrientation?e.getLinearGradient(0,0,0,r,[e.monoColor(t.color1,.25),e.monoColor(t.color2,.25)]):e.getLinearGradient(0,0,s,0,[e.monoColor(t.color1,.25),e.monoColor(t.color2,.25)]):"vertical"==e.gradientOrientation?e.getLinearGradient(0,0,0,r,[t.color1,t.color2]):e.getLinearGradient(0,0,s,0,[t.color1,t.color2]):e.getRadialGradient(i,a,Math.max(s,r)/2,[t.color1,t.color2,t.color3]):e.colorNodeBy||e.colorEdgeBy?"image"==o.shape?"b&w":t.immutable?e.monoColor(t.color,.33):e.monoColor(e.getNodeEdgePropertyValue(t,!1,"colorNodeBy"),.33):"image"!=o.shape&&(t.immutable?t.color:e.getNodeEdgePropertyValue(t,!1,"colorNodeBy"))},a=this.zoomScale?1:this.zoom,s=this.data.nodes.length/a<this.showNodeNameThreshold,r=(this.foreground,this.shapes[0],6001),n=(this.rangeX,this.rangeY,0);n<this.data.nodes.length;n++){var o=this.data.nodes[n];if(!this.ignoreEventlessOrder)if(t){if(!o.eventless)continue}else if(o.eventless)continue;if(!o.hide&&!o.hiddenParent){var h=o.x,l=o.y,c=this.getNodeEdgePropertyValue(o,!1,"shapeNodeBy"),d=o.outline?o.outline:this.foreground,p=this.getNodeEdgePropertyValue(o,!1,"sizeNodeBy"),g=this.sizeNodeBy?this.nodeSize*p/a:o.width?o.width/a:this.nodeSize*p/a,u=this.sizeNodeBy?this.nodeSize*p/a:o.height?o.height/a:this.nodeSize*p/a,m=!!CanvasXpress.selector.nodes.hasOwnProperty(o.id),f=this.getNodeColor(o.id,i(o,h,l,g,u)),y=this.getNodeEdgePropertyValue(o,!1,"patternNodeBy"),x=!!o.rotate&&o.rotate*Math.PI/180,b=!!o.outlineWidth&&o.outlineWidth,v=!!o.imagePath&&o.imagePath,A=o.zIndex?o.zIndex:!!v&&r;this.isLayoutDone&&!this.isAnimation?(o.zoomX&&(g*=o.zoomX),o.zoomY&&(u*=o.zoomY),o.eventless?this.toRender({p:["drawShape",c,h,l,g,u,f,d,y,x,b,!1,!1,!1,!1,v,A],t:"Data"}):this.toRender({p:["drawShape",c,h,l,g,u,f,d,y,x,b,!1,!1,!1,!1,v,A],a:this.getShapeArea(c,h,l,g,u,f,d,y,x,b,!1,!1,!1,!1,v,A),i:[n],t:"Data",h:this.isHidden(n)}),m&&!o.fixed?this.drawNetworkSelectionNodePoint(n,h,l,g,u,x,b):m&&o.fixed&&this.drawNetworkSelectionNodePoint(o,h,l,g,u,x,b),s&&!o.hideLabel&&!o.eventless&&(g>this.showNodeNameSizeThreshold||this.data.nodes.length<this.showNodeNameThreshold)&&this.drawNetworkNodeLabel(o,h,l,g,u,n)):this.toRender({p:["drawShape",c,h,l,g,u,f,d,y,x,b,!1,!1,!1,!1,v,A],t:"Data"}),r++}}},this.drawNetworkCommunities=function(){if(this.showNetworkCommunities&&!this.networkVendor)for(var t=0;t<this.networkCommunities;t++)if(this.networkConvexHulls[t].nodes){var e=[],i=[],a=this.addColorTransparency(this.colors[t%this.colors.length],.2,!0),s=this.getHull(this.networkConvexHulls[t].nodes);this.networkConvexHulls[t].convexHull=s[0];for(var r=0;r<s[0].length;r++)e.push(s[0][r][0]),i.push(s[0][r][1]);this.toRender({p:["drawShape","hull",e,i,s[2]-s[1],s[4]-s[3],a],t:"Decorations"})}},this.drawNetworkDecorations=function(){if(this.showDecorations&&this.decorations.length>0)for(var t=this,e=function(e,i,a){var s=t.getKeys(i.vals),r={vals:[],area:[],cols:[],col2:[],patt:[],shpe:[],shp2:[]};if("m"==i.type)if("heatmap"==t.decorationsType)for(var n=0;n<s.length;n++)r.vals[n]=[],r.area[n]=[],r.patt[n]=[];else for(n=0;n<t.decorations.length;n++)r.vals[n]=[],r.area[n]=[],r.patt[n]=[],r.cols[n]=[];for(n=0;n<t.decorations.length;n++){var o=t.decorations[n],h=t.decorationsProperties[o]&&t.decorationsProperties[o].color?t.decorationsProperties[o].color:t.decorationsColors[n],l=t.decorationsProperties[o]&&t.decorationsProperties[o].shape?t.decorationsProperties[o].shape:"circle";if("m"==i.type){for(var c=0;c<s.length;c++){var d=e[o]?e[o][s[c]]:e.decorations&&e.decorations[o]?e.decorations[o][s[c]]:"NA",p=t.decorationsProperties[s[c]]&&t.decorationsProperties[s[c]].color?t.decorationsProperties[s[c]].color:t.decorationsColors[t.decorations.length+c],g=t.decorationsProperties[s[c]]&&t.decorationsProperties[s[c]].shape?t.decorationsProperties[s[c]].shape:"rect";"heatmap"==t.decorationsType?(r.vals[c].push(d),r.area[c].push([a+"-"+n+"-"+s[c]]),r.patt[c].push("closed"),0==n&&(r.cols.push(p),r.shpe.push(g))):t.decorationsType.match(/stacked/)&&(r.vals[n].push(d),r.area[n].push([a+"-"+n+"-"+s[c]]),r.cols[n].push(p),r.patt[n].push("closed"))}r.col2.push(h),"heatmap"==t.decorationsType?r.shp2.push(l):r.shpe.push(l)}else{r.vals[0]||(r.vals[0]=[]);d=e[o]?e[o]:e.decorations&&e.decorations[o]?e.decorations[o]:"NA",h=t.decorationsProperties[o]&&t.decorationsProperties[o].color?t.decorationsProperties[o].color:t.decorationsColors[n],l=t.decorationsProperties[o]&&t.decorationsProperties[o].shape?t.decorationsProperties[o].shape:"circle";r.vals[0].push(d),r.area.push([a+"-"+n]),r.cols.push(h),r.patt.push("closed"),r.shpe.push(l)}}return r},i=function(){for(var e={},i=0;i<t.data.nodes.length;i++){var a=t.data.nodes[i];if(!a.hide&&!a.hiddenParent)for(var s=0;s<t.decorations.length;s++){var r=t.decorations[s];(a[r]||a.decorations&&a.decorations[r])&&(e[i]=!0)}}return t.getKeys(e).sort((function(t,e){return t-e}))}(),a=function(e){for(var i={vals:{}},a=0;a<e.length;a++)for(var s=t.data.nodes[e[a]],r=0;r<t.decorations.length;r++){var n=t.decorations[r],o=s[n]?s[n]:!!s.decorations&&s.decorations[n];if(t.isObject(o))for(var h in i.type="m",o)i.vals[h]=!0;else i.type="s"}return i}(i),s=this.decorations.length*this.decorationsWidth/2,r=.3*this.decorationsWidth,n=.6*r,o=this.decorationsHeight/2,h=this.getColorBrew(this.colorSpectrum,this.decorationsRange[0],this.decorationsRange[1],this.colorSpectrumZeroValue,this.colorSpectrumBreaks),l=0;l<i.length;l++){var c=this.data.nodes[i[l]],d=e(c,a,i[l]);if(!c.hide&&!c.hiddenParent){var p,g,u=c.x,m=c.y,f=(c.size?this.nodeSize*c.size:this.nodeSize)/2;if(null!=c.decorationsX&&null!=c.decorationsY)p=c.decorationsX,g=c.decorationsY;else{switch(this.decorationsPosition){case"top":p="pie"==this.decorationsType?u:u-s,g="pie"==this.decorationsType?m-(f+o+this.decorationsWidth):m-(f+this.decorationsHeight+this.decorationsWidth);break;case"bottom":p="pie"==this.decorationsType?u:u-s,g=m+(f+this.decorationsWidth),g="pie"==this.decorationsType?g+o:g;break;case"right":p=u+f+this.decorationsWidth,g="pie"==this.decorationsType?m:m-o,p="pie"==this.decorationsType?p+o:p;break;case"left":p="pie"==this.decorationsType?u-(f+this.decorationsHeight/2+this.decorationsWidth):u-(f+this.decorationsWidth*(this.decorations.length+1)),g="pie"==this.decorationsType?m:m-o;break;case"center":p="pie"==this.decorationsType||"heatmap"==this.decorationsType?u:u-s,g="pie"==this.decorationsType||"heatmap"==this.decorationsType?m:m-o}c.decorationsXi=p,c.decorationsYi=g}if("bar"==this.decorationsType){var y=this.decorationsRange[0]<0?Math.abs(this.decorationsRange[0])*this.decorationsUnits:0;this.drawBarPlot(d.vals[0],[],p,g+this.decorationsHeight-y,this.decorationsWidth,this.decorationsWidth,this.decorationsUnits,y,this.decorationsRange[0],"vertical",d.cols,d.patt,d.area,"-dec")}else if(this.decorationsType.match(/stacked/)){var x=!!this.decorationsType.match(/percent/);g+=this.decorationsHeight,"top"==this.decorationsPosition&&(g-=this.decorationsWidth);for(var b=0;b<this.decorations.length;b++)this.drawStackedPlot(d.vals[b],p,g,this.decorationsWidth,!1,x,[this.sum(d.vals[b],!1,!1,!0),this.sum(d.vals[b],!1,!1,!1,!0)],this.decorationsUnits,0,"vertical",d.cols[b],d.patt[b],d.area[b],"-dec"),this.toRender({p:["drawShape",d.shpe[b],p+this.decorationsWidth/2,g+this.decorationsWidth,r,r,d.col2[b],this.foreground,"closed"],t:"Decorations"}),p+=this.decorationsWidth}else if("heatmap"==this.decorationsType)if("m"==a.type){var v=this.decorationsHeight/d.vals.length;switch(this.decorationsPosition){case"top":g-=this.decorationsWidth;break;case"bottom":break;case"right":p+=this.decorationsWidth}if("center"==this.decorationsPosition){var A=this.zoomScale?1:this.zoom,w=this.sizeNodeBy?this.nodeSize*siz/A:c.width?c.width/A:this.nodeSize*siz/A,C=this.sizeNodeBy?this.nodeSize*siz/A:c.height?c.height/A:this.nodeSize*siz/A;u-=.5*c.width,m-=.5*c.height,w/=d.vals[0].length,C/=d.vals.length;for(b=0;b<d.vals.length;b++)this.drawHeatmap(d.vals[b],u,m,w,C,!1,d.area[b],"-dec",d.patt[b],h,.67),this.toRender({p:["drawLine","line",u+c.width-2,m-1,u+c.width-2,m+C-.5,d.cols[b],2],t:"Decorations"}),m+=C;m-=1.5;for(b=0;b<this.decorations.length;b++)this.toRender({p:["drawLine","line",u,m,u+w,m,d.col2[b],2],t:"Decorations"}),u+=w;this.toRender({p:["drawShape","rectangle",p,g,c.width,c.height,!1,this.foreground,"open"],t:"Decorations"})}else{for(b=0;b<d.vals.length;b++)this.drawHeatmap(d.vals[b],p,g,this.decorationsWidth,v,!1,d.area[b],"-dec",d.patt[b],h),this.toRender({p:["drawShape",d.shpe[b],p-n,g+v/2,r,v/2,d.cols[b],d.cols[b],"closed"],t:"Decorations"}),g+=v;for(b=0;b<this.decorations.length;b++)this.toRender({p:["drawShape",d.shp2[b],p+this.decorationsWidth/2,g+n,r,r,d.col2[b],d.col2[b],"closed"],t:"Decorations"}),p+=this.decorationsWidth}}else if("top"==this.decorationsPosition&&(g-=this.decorationsWidth),"center"==this.decorationsPosition){A=this.zoomScale?1:this.zoom,w=this.sizeNodeBy?this.nodeSize*siz/A:c.width?c.width/A:this.nodeSize*siz/A,C=this.sizeNodeBy?this.nodeSize*siz/A:c.height?c.height/A:this.nodeSize*siz/A;u-=.5*c.width,m-=.5*c.height,w/=this.decorations.length,this.drawHeatmap(d.vals[0],u,m,w,C,!1,d.area,"-dec",d.patt,h,.67),m+=c.height-1.5;for(b=0;b<this.decorations.length;b++)this.toRender({p:["drawLine","line",u,m,u+w,m,d.cols[b],2],t:"Decorations"}),u+=w;this.toRender({p:["drawShape","rectangle",p,g,c.width,c.height,!1,this.foreground,"open"],t:"Decorations"})}else{this.drawHeatmap(d.vals[0],p,g,this.decorationsWidth,this.decorationsHeight,!1,d.area,"-dec",d.patt,h);for(b=0;b<this.decorations.length;b++)this.toRender({p:["drawShape",d.shpe[b],p+this.decorationsWidth/2,g+this.decorationsHeight+n,r,r,d.cols[b],d.cols[b],"closed"],t:"Decorations"}),p+=this.decorationsWidth}else{var T=this.colors;this.colors=d.cols,this.drawPie(this.setPieData(d.vals[0],!1,d.cols),p,g,o,d.area,"-dec"),this.colors=T}}}},this.findNetworkXYRange=function(t){var e=Number.MAX_VALUE,i=-1*Number.MAX_VALUE,a=Number.MAX_VALUE,s=-1*Number.MAX_VALUE;if(t||(t=this.getKeys(this.data.nodeIndices)),t&&t.length>0)for(var r=0;r<t.length;r++){var n=this.data.nodes[this.data.nodeIndices[t[r]]];n.hide||n.hiddenParent||(e=Math.min(e,n.x),i=Math.max(i,n.x),a=Math.min(a,n.y),s=Math.max(s,n.y))}return{minX:e,maxX:i,minY:a,maxY:s}},this.packSubNetworks=function(){var t=this,e=function(e,i,a){for(var s=0;s<e.length;s++){var r=t.data.nodes[t.data.nodeIndices[e[s]]];r.hasOwnProperty("layout")&&(r.layout.lastPosition.x+=i,r.layout.lastPosition.y+=a)}},i=function(t,e,i,a){this.x=t,this.y=e,this.w=i,this.h=a};i.prototype.fits=function(t){return t.w>=this.w&&t.h>=this.h},i.prototype.sameSize=function(t){return t.w==this.w&&t.h==this.h};var a=function(){this.l=null,this.r=null,this.a=null,this.f=!1};a.prototype.insert=function(t){if(null!=this.l)return this.l.insert(t)||this.r.insert(t);if(this.f)return null;if(!t.fits(this.a))return null;if(t.sameSize(this.a))return this.f=!0,this;this.l=new a,this.r=new a;var e=this.a.w-t.w,s=this.a.h-t.h,r=this.a;return e>s?(this.l.a=new i(r.x,r.y,t.w,r.h),this.r.a=new i(r.x+t.w,r.y,r.w-t.w,r.h)):(this.l.a=new i(r.x,r.y,r.w,t.h),this.r.a=new i(r.x,r.y+t.h,r.w,r.h-t.h)),this.l.insert(t)};for(var s=0;s<this.subNetworks.length;s++){for(var r=0;r<this.subNetworks[s].nodes.length;r++){var n=this.data.nodes[this.data.nodeIndices[this.subNetworks[s].nodes[r]]];n.hasOwnProperty("layout")&&(n.layout.lastPosition.x=0,n.layout.lastPosition.y=0)}this.subNetworks[s].mnm=this.findNetworkXYRange(this.subNetworks[s].nodes),this.subNetworks[s].w=this.subNetworks[s].mnm.maxX-this.subNetworks[s].mnm.minX,this.subNetworks[s].h=this.subNetworks[s].mnm.maxY-this.subNetworks[s].mnm.minY,e(this.subNetworks[s].nodes,this.subNetworks[s].mnm.minX,this.subNetworks[s].mnm.minY)}var o=this.subNetworks[1];for(s=0;s<this.subNetworks.length;s++)this.subNetworks[s].w+=.5*o.w,this.subNetworks[s].h+=.5*o.h;var h=this.subNetworks[0],l=h.nodes.length/this.data.nodes.length,c=(2+l)*(this.x/this.y*h.w),d=(2+l)*(this.y/this.x*h.h),p=new a;p.a=new i(0,0,c,d);for(s=0;s<this.subNetworks.length;s++){var g=this.subNetworks[s],u=new i(0,0,g.w,g.h),m=p.insert(u);m&&e(this.subNetworks[s].nodes,-m.a.x,-m.a.y)}},this.setNetworkMinMaxRangeXY=function(t){if(!this.networkFreeze||null==this.rangeX||null==this.rangeY||t){this.minX=Number.MAX_VALUE,this.minY=Number.MAX_VALUE,this.maxX=0,this.maxY=0;for(var e=0;e<this.data.nodes.length;e++){var i=this.data.nodes[e],a=i.width?i.width:i.size?this.nodeSize*i.size:this.nodeSize,s=i.height?i.height:i.size?this.nodeSize*i.size:this.nodeSize;i.hide||(this.minX=Math.min(this.minX,i.x-a/2),this.minY=Math.min(this.minY,i.y-s/2),this.maxX=Math.max(this.maxX,i.x+a/2),this.maxY=Math.max(this.maxY,i.y+s/2))}this.rangeX=this.maxX-this.minX,this.rangeY=this.maxY-this.minY}},this.setNetworkRotation=function(){if(this.is3DNetwork&&this.isLayoutDone){var t=[],e=[],i=[];this.set3DRotation();for(var a=0;a<this.data.nodes.length;a++){e.push(a);var s=this.data.nodes[a],r=this.get3DTransfrom(s.x,s.y,s.z);s.x=r[0]-this.padX,s.y=r[1]-this.padY,s.z=r[2]-this.padZ,t.push(Math.sqrt(s.x*s.x+s.y*s.y+s.z*s.z))}e.sort((function(e,i){return t[i]-t[e]}));for(var n=0;n<this.data.nodes.length;n++){a=e[n],s=this.data.nodes[a];i.push(s)}this.data.nodes=i,this.setNodeIndices()}else{if(this.network2DRotate){this.network2DRotate>=Math.abs(360)&&(this.network2DRotate=0);var o=Math.PI*this.network2DRotate/360;for(a=0;a<this.data.nodes.length;a++){if(null!=(s=this.data.nodes[a]).x&&null!=s.y){var h=s.x,l=s.y;s.x=h*Math.cos(o)-l*Math.sin(o),s.y=l*Math.cos(o)+h*Math.sin(o)}}for(a=0;a<this.data.edges.length;a++){var c=this.data.edges[a];if(c.elbows&&c.elbows.length>0)for(var d=0;d<c.elbows.length;d++){h=c.elbows[d][0],l=c.elbows[d][1];c.elbows[d][0]=h*Math.cos(o)-l*Math.sin(o),c.elbows[d][1]=l*Math.cos(o)+h*Math.sin(o)}}}this.network2DRotate=0}},this.setNetworkScaleFactor=function(t){var e=this.legendWidth!=this.lastNetworkLegendWidth||this.legendHeight!=this.lastNetworkLegendHeight;(!this.networkFreeze||null==this.scaleFactorX||null==this.scaleFactorY||isNaN(this.scaleFactorX)||isNaN(this.scaleFactorY)||e)&&(this.isLayoutDone||!this.isAnimation||"radial"!=this.networkLayoutType&&"circular"!=this.networkLayoutType?(this.scaleFactorX=this.x/(this.maxX-this.minX),this.scaleFactorY=this.y/(this.maxY-this.minY)):(this.scaleFactorX="radial"==this.networkLayoutType?.3:"circular"==this.networkLayoutType?1:this.x/(this.maxX-this.minX),this.scaleFactorY="radial"==this.networkLayoutType?.3:"circular"==this.networkLayoutType?1:this.y/(this.maxY-this.minY))),this.lastNetworkLegendWidth=this.legendWidth,this.lastNetworkLegendHeight=this.legendHeight,this.scaleFactorX=Math.min(this.scaleFactorX,this.scaleFactorY),this.scaleFactorY=this.scaleFactorX,this.scaleFactorX*=this.zoom,this.scaleFactorY*=this.zoom,this.networkFreeze&&(this.zoomGlobal*=this.zoom,this.zoom=1),this.widthBounds=this.x/this.scaleFactorX,this.heightBounds=this.y/this.scaleFactorY,this.offsetX=this.widthBounds/2-(this.minX+this.maxX)/2+this.panningX+this.panningGlobalX+this.left/this.scaleFactorX,this.offsetY=this.heightBounds/2-(this.minY+this.maxY)/2+this.panningY+this.panningGlobalY+this.top/this.scaleFactorY,this.nodeSize=15/this.scaleFactorX*this.zoom,this.edgeThickness=1/this.scaleFactorX*this.zoom,this.outlineWidth=1/this.scaleFactorX*this.zoom},this.recalculateLayoutSelectedNodes=function(){if(CanvasXpress.selector.selections>0&&"radial"!=this.networkLayoutType){this.randomSeed=8;var t=[];for(var e in CanvasXpress.selector.nodes)t.push(this.data.nodes[this.data.nodeIndices[e]]);this.fixNetworkNodes(),this.setNetworkPrivateParams(t),this.setNetworkLayout(t,!1,!0)}},this.fixNetworkNodes=function(){for(var t=0;t<this.data.nodes.length;t++){var e=this.data.nodes[t];CanvasXpress.selector.nodes.hasOwnProperty(e.id)||(!e.fixed||e.fixed&&1!=e.fixed)&&(e.fixed=1)}},this.unfixNetworkNodes=function(){for(var t=0;t<this.data.nodes.length;t++){var e=this.data.nodes[t];1==e.fixed&&delete e.fixed}},this.setNetworkLayout=function(t,e,i){t||(t=this.data.nodes),e||(e=this.networkRoot),this.isLayoutDone=!1,this.isAnimation=!0,this.iteration=0,this.randomSeed=8,"radial"==this.networkLayoutType?this.radialLayout(t,e):"circular"==this.networkLayoutType?this.circularLayout(t):this.forceDirectedLayout(t,i)},this.initializeNetworkLayout=function(){for(var t=0;t<this.data.nodes.length;t++)this.initializeNetworkNodes(this.data.nodes[t]);for(t=0;t<this.data.nodes.length;t++)this.initializeNodeNeighborhood(this.data.nodes[t]);if("radial"!=this.networkLayoutType&&"circular"!=this.networkLayoutType)for(t=0;t<this.data.nodes.length;t++)this.setInitialNodePosition(this.data.nodes[t]);for(t=0;t<this.data.edges.length;t++)this.initializeNetworkEdges(this.data.edges[t])},this.moveSubnetworks=function(t){var e=this;this.isLayoutDone=!1,this.isAnimation=!0,this.iteration=0,this.packSubNetworks();var i=function(){e.iteration++<15?(e.showAnimation=!0,function(){for(var t=0;t<e.subNetworks.length;t++)for(var i=0;i<e.subNetworks[t].nodes.length;i++){var a=e.data.nodes[e.data.nodeIndices[e.subNetworks[t].nodes[i]]],s=a.layout.lastPosition.x/15,r=a.layout.lastPosition.y/15;e.modifyXYNode(a.id,s,r)}}(),e.renderNetwork(!1),e.drawNetworkProgressBar("Sorting ...",e.iteration/15),setTimeout(i,80)):(e.subNetworks=!1,e.finalizeNetworkLayout(t))};i()},this.finalizeNetworkLayout=function(t){this.subNetworks?this.moveSubnetworks(t):(this.isLayoutDone=!0,this.isAnimation=!1,this.iteration=0,CanvasXpress.stack[this.target]&&(CanvasXpress.stack[this.target].data.nodes=this.parseJSON(this.stringifyJSON(this.data.nodes)),CanvasXpress.stack[this.target].config.calculateLayout=!1,this.renderNetwork(t),this.networkXCenter=this.x/2,this.networkYCenter=this.y/2,this.unfixNetworkNodes()))},this.summarizeNetworkNodes=function(){for(var t=0;t<this.data.nodes.length;t++){var e=this.data.nodes[t];e.nodeEdges=0;for(var i=0;i<this.data.edges.length;i++){var a=this.data.edges[i];a.id1!=e.id&&a.id2!=e.id||e.nodeEdges++}}this.updateNetworkMetaData("nodes","nodeEdges")},this.initializeNetworkNodes=function(t){t&&!t.layout&&(t.layout={angle:0,children:[],displacement:{x:0,y:0,z:0},edges:this.edgesForNode(this.data.edges,t.id),force:{x:0,y:0,z:0},hierarchy:!1,lastPosition:{x:0,y:0,z:0,r:0,a:0},level:0,mass:1,metrics:{betweenness:-1,closeness:-1,degree:-1,eccentricity:-1},neighbors:[],order:-1,parent:!1,position:{x:null,y:null,z:0},prevPosition:{x:0,y:0,z:0},radius:0,velocity:{x:0,y:0,z:0}})},this.initializeNodeNeighborhood=function(t){if(t&&t.layout&&t.layout.edges.length){t.layout.neighbors=[];for(var e=Math.min(t.layout.edges.length,2),i=this.nodeInitialCache,a=0;a<e;++a){var s=t.layout.edges[a],r=s.id1!==t.id?s.id1:s.id2;i[r]&&t.layout.neighbors.push(r)}i[t.id]=!0}},this.initializeNetworkEdges=function(t,e,i,a){if(t&&!t.layout){var s=this.data.nodes[this.data.nodeIndices[t.id1]],r=this.data.nodes[this.data.nodeIndices[t.id2]];s.layout.mass=s.layout.edges.length?1+s.layout.edges.length/3:1,r.layout.mass=r.layout.edges.length?1+r.layout.edges.length/3:1,t.layout={length:this.isNumber(e)&&void 0!==e?e:-1,weight:this.isNumber(i)&&void 0!==i?i:1,coeff:a>=0?a:-1}}},this.setInitialNodePosition=function(t){if(t.layout&&t.layout.position&&(null==t.layout.position.x||null==t.layout.position.y)){var e=0,i=0,a=0,s=t.layout.neighbors;if(s.length){for(var r=0;r<s.length;++r){var n=this.nodes[s[r]];e+=n.layout.position.x,i+=n.layout.position.y,this.is3DNetwork&&(a+=n.layout.position.z)}e/=s.length,i/=s.length,this.is3DNetwork&&(a/=s.length)}var o=this.networkSpringLength;t.layout.position.x=e+this.randomBetween(0,o)-o/2,t.layout.position.y=i+this.randomBetween(0,o)-o/2,this.is3DNetwork&&(t.layout.position.z=a+this.randomBetween(0,o)-o/2),t.layout.prevPosition.x=t.layout.position.x,t.layout.prevPosition.y=t.layout.position.y,t.layout.prevPosition.z=t.layout.position.z,t.x=t.layout.position.x,t.y=t.layout.position.y,t.z=t.layout.position.z}},this.setNetworkCommunities=function(){if(null==this.networkCommunities&&!this.networkVendor){this.networkCommunities=0,this.networkConvexHulls=[];for(var t=[],e=0;e<this.data.nodes.length;e++)t.push(this.data.nodes[e].id);var i,a=0;if(this.calculateNetworkCommunities){if(i=this.jLouvain().nodes(t).edges(this.data.edges)())for(e=0;e<this.data.nodes.length;e++){var s=i[this.data.nodes[e].id];a=Math.max(a,s),this.data.nodes[e].community=s,this.data.nodes[e].communityColor=this.colors[this.data.nodes[e].community%this.colors.length]}}else for(e=0;e<this.data.nodes.length;e++){s=this.data.nodes[e].community||0;a=Math.max(a,s),this.data.nodes[e].community=s,this.data.nodes[e].communityColor=this.colors[this.data.nodes[e].community%this.colors.length]}this.networkCommunities=a+1;for(e=0;e<this.networkCommunities;e++){t=[];for(var r=0;r<this.data.nodes.length;r++)this.data.nodes[r].community==e&&t.push(r);this.networkConvexHulls[e]={nodes:t,drawn:!1}}}},this.getHull=function(t){for(var e,i,a,s,r=this,n=function(t,e,i){return(e[0]-t[0])*(i[1]-t[1])-(e[1]-t[1])*(i[0]-t[0])},o=function(t){var e=t.size?t.size:1,i=t.width?t.width:r.nodeSize*e,a=t.height?t.height:r.nodeSize*e;return[t.x,t.y,i,a]},h=[],l=0,c=0;c<t.length;c++){(g=o(this.data.nodes[t[c]])).x,g.y;(g[0]>e||!e)&&(e=g[0]),(g[0]<i||!i)&&(i=g[0]),(g[1]>a||!a)&&(a=g[1]),(g[1]<s||!s)&&(s=g[1]),l=Math.max(l,Math.max(g[2],g[3])),h.push([g[0],g[1]])}var d=(i+e)/2,p=(s+a)/2;if(1==h.length){var g=o(this.data.nodes[t[0]]);h.push([d-g[2],p]),h.push([d,p-g[3]]),h.push([d+g[2],p]),h.push([d,p+g[3]])}else if(2==h.length){g=o(this.data.nodes[t[0]]),o(this.data.nodes[t[1]]);h.push([d-l,p]),h.push([d,p-l]),h.push([d+l,p]),h.push([d,p+l])}h.sort((function(t,e){return t[0]-e[0]||t[1]-e[1]}));var u,m=[0,0],f=[],y=[];for(c=0,u=h.length;c<u;c++){for(var x=h[c],b=h[u-c-1];f.length>=2&&n(f[f.length-2],f[f.length-1],x)<=0;)f.pop();for(f.push(x);y.length>=2&&n(y[y.length-2],y[y.length-1],b)<=0;)y.pop();y.push(b),m[0]+=x[0],m[1]+=x[1]}return m[0]*=1/t.length,m[1]*=1/t.length,y.pop(),f.pop(),[this.expandPolygon(f.concat(y),l*this.hullScale),i,e,s,a]},this.setNodeHierarchy=function(t,e,i){e>this.networkDepth&&(this.networkDepth=e);var a=this.data.nodes[this.data.nodeIndices[t]],s=a.layout;if(!a.hide&&!a.hiddenParent)if(s.hierarchy){e<s.level&&(s.level=e);for(h=0;h<s.children.length;h++){var r=s.children[h],n=this.data.nodes[this.data.nodeIndices[r]].layout;n.hierarchy&&e+1<n.level&&(n.level=e+1,n.parent=t)}}else{var o=s.edges;if(1==o.length&&this.networkDivisions++,o.length>0)for(var h=0;h<o.length;h++)s.hierarchy||(s.angle=0,s.children=[],s.hierarchy="set",s.lastPosition={x:0,y:0,z:0,r:0,a:0},s.level=e,s.order=-1,s.parent=i,s.radius=0),e<s.level&&(s.level=e),o[h].id1==t?(s.children.push(o[h].id2),this.setNodeHierarchy(o[h].id2,e+1,t)):o[h].id2==t&&(s.children.push(o[h].id1),this.setNodeHierarchy(o[h].id1,e+1,t))}},this.setNetworkHierarchy=function(){var t=this,e=function(i){for(var a=t.data.nodes[t.data.nodeIndices[i]];a.parentNode;)i=a.parentNode,e(i);return i};if("radial"==this.networkLayoutType)this.networkRoot||(this.networkRoot=this.data.nodes[0].id),this.networkDepth=0,this.networkDivisions=0,this.networkCurrentAngle=0,this.setNodeHierarchy(this.networkRoot,0,!1);else if("circular"==this.networkLayoutType)this.networkDepth=1,this.networkDivisions=this.data.nodes.length,this.networkCurrentAngle=0;else for(var i=0;i<this.data.nodes.length;i++){var a=this.data.nodes[i];if(a.hasOwnProperty("layout")||(a.layout={children:[]}),a.parentNode){var s=this.data.nodes[this.data.nodeIndices[a.parentNode]];s.hasOwnProperty("layout")||(s.layout={children:[]}),s.layout.children.push(a.id);var r=e(s.id);this.data.nodes[this.data.nodeIndices[r]].hide?a.hiddenParent=!0:a.hiddenParent=!1}}},this.findParentNodes=function(t,e){if(this.data.nodes[this.data.nodeIndices[t]].parentNode){var i=this.data.nodes[this.data.nodeIndices[t]].parentNode;return e||(e=[]),e.push(i),e=this.findParentNodes(i,e)}return!!e&&e.reverse()},this.findChildrenNodeIndices=function(t,e){e||(e=[]);var i=this.data.nodes[this.data.nodeIndices[t]];if("radial"!=this.networkLayoutType&&i.hasOwnProperty("layout")&&i.layout.children.length)for(var a=0;a<i.layout.children.length;a++)e.push(this.data.nodeIndices[i.layout.children[a]]),e=this.findChildrenNodeIndices(i.layout.children[a],e);return e.length>0&&e},this.hasChildren=function(t){var e=this.data.nodes[this.data.nodeIndices[t]];return e.hasOwnProperty("layout")&&e.layout.children.length},this.findVisibleParentNode=function(t){var e=this.findParentNodes(t);if(e){e.reverse();for(var i=0;i<e.length;i++)if(!this.nodes[e[i]].hide&&!this.nodes[e[i]].hiddenParent)return this.nodes[e[i]]}return!1},this.collateNetworks=function(){if(this.data.nodes.length>0){var t=this.normalizeGraph({nodes:this.data.nodes,edges:this.data.edges});if(t.length>1){for(var e=[],i=0;i<t.length;i++)e.push(i);e.sort((function(e,i){return t[i].nodes.length-t[e].nodes.length})),this.subNetworks=[];for(var a=0;a<t.length;a++){i=e[a];for(var s=[],r=[],n=t[i].nodes.length,o=(t[i].edges.length,{}),h=n/this.data.nodes.length,l=h*(this.x*Math.log(t.length)),c=h*(this.y*Math.log(t.length)),d=0;d<t[i].nodes.length;d++)s.push(t[i].nodes[d].id);for(d=0;d<t[i].edges.length;d++)if("function"!=typeof t[i].edges[d]){var p=t[i].edges[d].id1+"::"+t[i].edges[d].id2;o.hasOwnProperty(p)||(r.push(t[i].edges[d]),o[p]=!0)}this.subNetworks.push({nodes:s,edges:r,x:l,y:c,isLayoutDone:!1})}}}},this.resetObjectAttributes=function(){this.colorNodeBy=!1,this.shapeNodeBy=!1,this.sizeNodeBy=!1,this.patternNodeBy=!1,this.colorEdgeBy=!1,this.sizeEdgeBy=!1},this.setDecorationsRangeUnits=function(){this.decorationsRange=[];var t={},e={},i={size:[],shape:[],shapeColor:[],text:[]};if(this.showDecorations&&this.decorations&&this.decorations.length>0){for(var a=[],s=0;s<this.data.nodes.length;s++)for(var r=this.data.nodes[s],n=0;n<this.decorations.length;n++)if(r[this.decorations[n]]||r.decorations&&r.decorations[this.decorations[n]]){var o=r[this.decorations[n]]?r[this.decorations[n]]:r.decorations[this.decorations[n]];if(this.isObject(o))if("stacked"==this.decorationsType){var h=0;for(var l in o)isNaN(o[l])||(e[l]=!0,h+=o[l]);a.push(h)}else if("stackedpercent"==this.decorationsType){for(var l in o)isNaN(o[l])||(e[l]=!0);a=[0,100]}else{if("heatmap"!=this.decorationsType)return void alert("Ooops! canvasXpress does not support "+this.decorationsType+" for this multidimensional plotting");for(var l in o)isNaN(o[l])||(e[l]=!0,a.push(o[l]))}else(!isNaN(r[this.decorations[n]])||r.decorations&&!isNaN(r.decorations[this.decorations[n]]))&&a.push(r[this.decorations[n]]?r[this.decorations[n]]:r.decorations[this.decorations[n]])}this.decorationsRange=this.range(a),"stacked"==this.decorationsType&&(this.decorationsRange[0]=0);var c=this.decorationsRange[1]-this.decorationsRange[0];0==c&&(this.decorationsRange[1]=this.max(a)+1);var d=this.decorationsType.match(/stacked/)?this.decorationsRange[0]:this.decorationsRange[0]-.05*c;d>0&&(this.decorationsRange[0]=d,c=this.decorationsRange[1]-this.decorationsRange[0]),this.decorationsUnits=this.decorationsHeight/c;var p=this.legendFontSize*this.legendScaleFontFactor-2;for(s=0;s<this.decorations.length;s++)if(this.decorationsColors[s])t[this.decorationsColors[s]]=!0,i.shape.push(this.decorationsProperties[this.decorations[s]]&&this.decorationsProperties[this.decorations[s]].shape?this.decorationsProperties[this.decorations[s]].shape:"circle"),i.shapeColor.push(this.decorationsProperties[this.decorations[s]]&&this.decorationsProperties[this.decorations[s]].color?this.decorationsProperties[this.decorations[s]].color:this.decorationsColors[s]),i.text.push(this.decorations[s]),i.size.push(p);else for(n=0;n<this.colors.length;n++)if(!t.hasOwnProperty(this.colors[n])){var g=this.decorationsProperties[this.decorations[s]]&&this.decorationsProperties[this.decorations[s]].color?this.decorationsProperties[this.decorations[s]].color:this.colors[n],u=this.decorationsProperties[this.decorations[s]]&&this.decorationsProperties[this.decorations[s]].shape?this.decorationsProperties[this.decorations[s]].shape:"circle";this.decorationsColors[s]=g,t[g]=!0,i.shape.push(u),i.shapeColor.push(g),i.text.push(this.decorations[s]),i.size.push(p);break}s=this.decorations.length;for(var l in e){if(this.decorationsColors[s])t[this.decorationsColors[s]]=!0,i.shape.push(this.decorationsProperties[l]&&this.decorationsProperties[l].shape?this.decorationsProperties[l].shape:"square"),i.shapeColor.push(this.decorationsProperties[l]&&this.decorationsProperties[l].color?this.decorationsProperties[l].color:this.decorationsColors[s]),i.text.push(l),i.size.push(p);else for(n=0;n<this.colors.length;n++)if(!t.hasOwnProperty(this.colors[n])){g=this.decorationsProperties[l]&&this.decorationsProperties[l].color?this.decorationsProperties[l].color:this.colors[n],u=this.decorationsProperties[l]&&this.decorationsProperties[l].shape?this.decorationsProperties[l].shape:"square";this.decorationsColors[s]=g,t[g]=!0,i.shape.push(u),i.shapeColor.push(g),i.text.push(l),i.size.push(p);break}s++}this.legend=[i]}},this.validateNetworkLayout=function(){if(this.calculateLayout)this.initializeNetworkLayout();else for(var t=0;t<this.data.nodes.length;t++){var e=this.data.nodes[t];null==e.x&&(e.x=-1),null==e.y&&(e.y=-1),this.is3DNetwork&&null==e.z&&(e.z=-1)}},this.recalculateLayout=function(){this.calculateLayout&&(this.calculateLayout=!!(this.data.nodes&&Object.keys(this.data.nodes[0].layout).length>1),this.isLayoutDone=!1,this.isAnimation=!0,this.iteration=0,this.randomSeed=8,this.initializeNetwork())},this.setInitialConfigState=function(){this.initialNetworkConfigState||(CanvasXpress.stack[this.target].state[0]=this.getConfigState(),this.initialNetworkConfigState=!0)},this.drawNetworkPlot=function(){this.calculateLayout?(this.collateNetworks(),this.setNetworkPrivateParams(),this.setNetworkLayout(),this.calculateLayout=!1):(this.isLayoutDone=!0,this.renderNetwork(),this.setInitialConfigState()),this.networkFreezeOnLoad&&this.isLayoutDone&&(this.networkFreezeOnLoad=!1,this.networkFreeze=!0)},this.calculateNetworkMetrics=function(t){if((this.isNetworkMetrics||t)&&!this.isNetworkMetricsDone){var e=this.data.nodes;this.networkBetweenness(e),this.networkCloseness(e),this.networkEccentricity(e),this.networkDegree(e),this.exposeNetworkMetrics(),this.isNetsworkMetricsDone,this.resetMenus(),this.updateNetworkMetaData("nodes"),CanvasXpress.stack[this.target].data=this.data,delete this.nodesData}},this.drawNetworkProgressBar=function(t,e){if(!e)switch(this.networkLayoutType){case"forceDirected":e=this.iteration/this.maxIterations;break;case"circular":case"radial":e=this.iteration/15}t||(t="Optimizing ...");var i=Math.min(120*e,120),a=130-.5*i;this.isLayoutDone||(this.drawText(t,this.width-130,this.height-43,this.nodeFont,"rgba(0,0,0,0.5)","left","top"),this.drawShape("rectangle",this.width-a,this.height-18,i,15,"rgba(0,0,0,0.5)","rgba(0,0,0,0.5)","closed"),this.drawShape("rectangle",this.width-70,this.height-18,120,15,!1,"rgba(0,0,0,0.5)","open"))},this.initializeNetwork=function(){this.validateNetworkLayout(),this.setNetworkHierarchy(),this.setDecorationsRangeUnits(),this.summarizeNetworkNodes(),this.validateNetworkPropertyValues(),this.setLegends(),this.setNetworkDimensions(),!this.nodes&&this.data.nodes&&this.setNodes(),this.calculateNetworkMetrics(),this.drawNetworkPlot()},t||this.initializeNetwork()},CanvasXpress.prototype.Genome=function(){this.setGenomeSubtracks=function(){this.subtracks=[],this.subtracksInfo=[],this.y=this.margin;for(var t=this.marginTop+this.top,e=0,i=this.xAxisMin*this.xAxisUnit,a=this.xAxisMax*this.xAxisUnit,s=0;s<this.data.tracks.length;s++){var r,n,o,h,l,c=[],d=[],p=0,g=this.data.tracks[s],u=g.data,m=g.type?g.type:this.featureTypeDefault,f=g.height?g.height:this.featureHeightDefault,y=g.subtracksMax||this.subtracksMaxDefault,x=g.spacer?g.spacer:0;if(!g.hide){if(g.name&&!g.hideName&&(this.y+=this.trackNameFontSize+2*this.margin),g.startY=this.marginTop+this.top+this.y,this.subtracks[s]=[],this.featureStaggered){for(var b=0;b<u.length;b++){var v=u[b],A=this.shortenText(v.label||v.name||v.id,this.maxFeatureStringLen),w=v.hideName||g.hideFeatureNames?0:this.measureText(A,this.featureNameFont)+3*this.margin,C=v.data;if(!v.hide){if(v.index=b,v.counter=e++,"box"==m)l=v.showDir&&this.xAxisUnit>.001?1e4:0,n=((r=this.getGenomeDataRange(C))[0]+l)*this.xAxisUnit,o=(r[1]+x+l)*this.xAxisUnit,o=Math.max(n+w,o);else if("sequence"==m){var T=this.setGenomeGaps(v.gaps,v.sequence.length,v.dir);v.offsetLeft&&!v.offset&&(v.offset=v.offsetLeft-(v.sequence.length+T.total)+1),o=(n=v.offset*this.xAxisUnit)+(v.sequence.length+T.total+x)*this.xAxisUnit,o=Math.max(n+w,o)}else"dataframe"==m?(n=i,o=a):"marker"==m?(n=(r=this.getGenomeDataRange(C))[0]*this.xAxisUnit,o=r[1]*this.xAxisUnit,o=Math.max(n+w,o)):(n=(v.offset+x)*this.xAxisUnit,o=g.autowidth&&this.isArray(C)?n+C[0].length*this.xAxisUnit:n+g.width?g.width:this.featureWidthDefault,o=Math.max(n+w,o));h="dataframe"==m||(n>=i&&n<=a||(o>=i&&o<=a||n<=i&&o>=a)),c.push([n,o,h,b])}}if(c.length>0){c.sort((function(t,e){return t[0]-e[0]}));for(b=0;b<c.length;b++)if(c[b][2]){h=!1;for(var S=0;S<d.length;S++)if(o=Math.round(d[S][d[S].length-1][1]),Math.round(c[b][0])>=o){d[S].push(c[b]),h=!0;break}h||d.push([c[b]])}for(b=0;b<d.length;b++)if(b<y){this.subtracks[s][b]=[],p+=d[b].length;var D=0,M=0,k=0;for(S=0;S<d[b].length;S++)v=u[d[b][S][3]],this.subtracks[s][b].push(d[b][S][3]),this.subtracksInfo[v.counter]={track:s,subtrack:b,index:v.index,name:v.label||v.name||v.id,start:t+this.y},"box"==m?(D=Math.max(D,this.getBoxFeatureHeight(v)),M=Math.max(M,v.translatesTop||0),k=Math.max(k,v.translatesBottom||0)):"sequence"==m&&(D=Math.max(D,this.getSequenceFeatureHeight(v)));this.isNameInSubtrack(g,this.subtracks[s][b])||"dataframe"==m||"marker"==m||(this.y+=this.featureNameFontSize+this.margin),"dataframe"==m&&0!=b||(this.y+=f+this.margin),"box"!=m&&"sequence"!=m||(this.y+=D);for(S=0;S<d[b].length;S++)v=u[d[b][S][3]],this.subtracksInfo[v.counter].end=t+this.y,this.subtracksInfo[v.counter].maxHeight=D,this.subtracksInfo[v.counter].translateTop=M,this.subtracksInfo[v.counter].translateBottom=k}}}else for(b=0;b<u.length;b++){(v=u[b]).hide||(v.index=b,v.counter=e++,b<y&&(p++,this.subtracks[s][b]=[b],this.subtracksInfo[v.counter]={track:s,subtrack:b,index:v.index,name:v.label||v.name||v.id,start:t+this.y},"dataframe"==m&&0!=b||(this.y+=f+this.margin),"box"==m?(this.subtracksInfo[v.counter].maxHeight=this.getBoxFeatureHeight(v),this.subtracksInfo[v.counter].translateTop=v.translatesTop||0,this.subtracksInfo[v.counter].translateBottom=v.translatesBottom||0,this.y+=this.subtracksInfo[v.counter].maxHeight):"sequence"==m&&(this.subtracksInfo[v.counter].maxHeight=this.getSequenceFeatureHeight(v),this.y+=this.subtracksInfo[v.counter].maxHeight),this.subtracksInfo[v.counter].end=t+this.y))}g.endY=this.y,g.displayedFeatures=p,g.totalFeatures=u.length,this.y+=2*this.margin}}},this.isNameInSubtrack=function(t,e){for(var i=0;i<e.length;i++){var a=e[i];if(!t.data[a].hideName&&!t.hideFeatureNames)return!1}return!0},this.getGenomeRange=function(t){for(var e=[],i=[],a=0;a<t.length;a++)if(t[a].range)e.push(t[a].range[0]),i.push(t[a].range[1]);else{var s=[],r=t[a].data;if(this.isArray(r[0]))for(var n=0;n<r.length;n++)for(var o=0;o<r[n].length;o++)s=s.concat(r[n][o]);else for(n=0;n<r.length;n++)s=s.concat(r[n]);t[a].range=this.range(s),e.push(Number(t[a].range[0])),i.push(Number(t[a].range[1]))}return this.range([this.min(e),this.max(i)])},this.getGenomeDataRange=function(t){if(t){for(var e=[],i=0;i<t.length;i++)for(var a=0;a<t[i].length;a++)e.push(Number(t[i][a]));return e.sort((function(t,e){return t-e})),[e[0],e[e.length-1]]}return[0,1]},this.setGenomeGaps=function(t,e,i){var a=0,s={total:a};if(t&&this.isArray(t)&&t.length>0){for(var r=0;r<t.length;r++){s["left"==i?e-t[r][0]:t[r][0]]=t[r][1],a+=t[r][1]}s.total=a}return s},this.getBoxFeatureHeight=function(t){if("low"!=this.genomeResolution&&(t.translate||t.sequence)){if("left"!=t.dir||t.sequenceRC||(t.sequenceRC=this.getReverseComplement(t.sequence)),t.cds&&!t.translate){var e=t.cds[0]%3||3;t.translate="left"==t.dir?[-1*e]:[e]}if(t.translate&&!t.translateRC&&this.featureTranslateShow&&(t.translateRC=this.translate(t.translate,"left"==t.dir?t.sequenceRC:t.sequence)),t.translate&&"high"==this.genomeResolution)return this.featureTranslateHeight*t.translate.length}return 0},this.getSequenceFeatureHeight=function(t){var e=0;if("high"==this.genomeResolution){if(t.trace&&this.featureTracesShow&&(e+=this.featureTraceHeight),t.translate&&this.featureTranslateShow)for(var i=0;i<t.translate.length;i++)e+=this.featureTranslateHeight;t.quality&&this.featureQualityShow&&(e+=this.featureQualityHeight),t.signalToNoise&&this.featureSignalToNoiseShow&&(e+=this.featureSignalToNoiseHeight),t.coordinate&&this.featureCoordinateShow&&(e+=this.featureCoordinateHeight)}else"medium"==this.genomeResolution&&t.trace&&this.featureTracesShow&&(e+=this.featureTraceHeight);return e},this.getReverseComplement=function(t){for(var e=t.split(""),i=[],a=0;a<e.length;a++)i.unshift(CanvasXpress.reverseComplement[e[a]]||e[a]);return i.join("")},this.translate=function(t,e){for(var i={top:[],bottom:[]},a=e.split(""),s=CanvasXpress.codon,r=this.getReverseComplement(e).split("").reverse(),n=0;n<t.length;n++){var o=t[n],h={seq:[],off:0,rf:t[n]};if("-1"==o){h.off=r.length%3;for(var l=r.length-1;l>=0;l-=3){var c=s[(r[l]+r[l-1]+r[l-2]).toUpperCase()];h.seq.unshift(c?c[0]:"")}i.bottom.push(h)}else if("-2"==o){h.off=(r.length-1)%3;for(l=r.length-2;l>=0;l-=3){c=s[(r[l]+r[l-1]+r[l-2]).toUpperCase()];h.seq.unshift(c?c[0]:"")}i.bottom.push(h)}else if("-3"==o){h.off=(r.length-2)%3;for(l=r.length-3;l>=0;l-=3){c=s[(r[l]+r[l-1]+r[l-2]).toUpperCase()];h.seq.unshift(c?c[0]:"")}i.bottom.push(h)}else if("1"==o){h.off=0;for(l=0;l<a.length;l+=3){c=s[(a[l]+a[l+1]+a[l+2]).toUpperCase()];h.seq.push(c?c[0]:"")}i.top.push(h)}else if("2"==o){h.off=1;for(l=1;l<a.length;l+=3){c=s[(a[l]+a[l+1]+a[l+2]).toUpperCase()];h.seq.push(c?c[0]:"")}i.top.push(h)}else if("3"==o){h.off=2;for(l=2;l<a.length;l+=3){c=s[(a[l]+a[l+1]+a[l+2]).toUpperCase()];h.seq.push(c?c[0]:"")}i.top.push(h)}}return i},this.setReverseTrace=function(t){if(!t.reversed){for(var e=t.A.length,i=t.T.reverse(),a=t.G.reverse(),s=t.C.reverse(),r=t.A.reverse(),n=[],o=0;o<t.peak.length;o++)n.unshift(e-t.peak[o]);t.A=i,t.C=a,t.G=s,t.T=r,t.peak=n,t.reversed=!0}},this.getCoordinateStep=function(){var t=1;if(.2*this.xAxisUnit>this.sequenceFontSize?t=1:.5*this.xAxisUnit>this.sequenceFontSize?t=5:1*this.xAxisUnit>this.sequenceFontSize?t=10:200*this.xAxisUnit>this.sequenceFontSize?t=20:500*this.xAxisUnit>this.sequenceFontSize?t=50:1e3*this.xAxisUnit>this.sequenceFontSize?t=100:2500*this.xAxisUnit>this.sequenceFontSize?t=250:5e3*this.xAxisUnit>this.sequenceFontSize?t=500:2e3*this.xAxisUnit>this.sequenceFontSize?t=1e3:1e4*this.xAxisUnit>this.sequenceFontSize?t=5e3:2e4*this.xAxisUnit>this.sequenceFontSize?t=1e4:1e5*this.xAxisUnit>this.sequenceFontSize?t=5e4:2e5*this.xAxisUnit>this.sequenceFontSize?t=1e5:2e6*this.xAxisUnit>this.sequenceFontSize?t=1e6:2e7*this.xAxisUnit>this.sequenceFontSize?t=1e7:2e8*this.xAxisUnit>this.sequenceFontSize?t=1e8:2e9*this.xAxisUnit>this.sequenceFontSize?t=1e9:2e10*this.xAxisUnit>this.sequenceFontSize?t=1e10:2e11*this.xAxisUnit>this.sequenceFontSize&&(t=1e11),this.xAxisRange/t>10){for(t*=.1*t;10*t>this.xAxisRange;)t*=.1;return t}return 3*t>this.xAxisRange?.1*t:t},this.getGenomeObjectColor=function(t,e,i,a){return e[t]?e[t]:i[t]?i[t]:this[t]?this[t]:a||!1},this.drawBoxSequenceName=function(t,e,i,a,s,r,n,o,h){var l=this.getGenomeObjectColor("featureNameFontColor",o,h,this.foreground),c=o.counter,d=this.featureNameFontSize/2,p="right"==o.dir?e+" ⮕":"left"==o.dir?"⬅ "+e:e;r>=this.xAxisMin&&n<=this.xAxisMax?(i=s+i,this.toRender({p:["drawText",p,i,a+d,this.featureNameFont,l,"left","middle"],i:["track-"+t+":"+c],t:"Labels"})):r<=this.xAxisMin&&n>=this.xAxisMin?(i=s,this.toRender({p:["drawText",p,i,a+d,this.featureNameFont,l,"left","middle"],i:["track-"+t+":"+c],t:"Labels"})):r<=this.xAxisMax&&n>=this.xAxisMax?(i=s+i,this.toRender({p:["drawText",p,i,a+d,this.featureNameFont,l,"left","middle"],i:["track-"+t+":"+c],t:"Labels"})):i=s+i},this.drawGenomeLabels=function(){if(!this.featureStaggered){this.marginLeft;for(var t=this.marginTop+this.top+this.margin,e=(this.featureNameFontSize,0),i=0;i<this.data.tracks.length;i++){var a=this.data.tracks[i],s=a.type||this.featureTypeDefault,r=a.height||this.featureHeightDefault;if(!a.hide){a.name&&!a.hideName&&(t+=this.trackNameFontSize+2*this.margin);for(var n=0;n<this.subtracks[i].length;n++){var o=this.subtracks[i][n];if(o)for(var h=0;h<o.length;h++){var l=o[h],c=a.data[l],d=c.counter,p=this.getGenomeObjectColor("featureNameFontColor",c,a,this.foreground),g=this.shortenText(c.label||c.name||c.id,this.maxFeatureStringLen),u="right"==c.dir?g+" ⮕":"left"==c.dir?"⬅ "+g:g;if(c.hideName||a.hideFeatureNames||"dataframe"==s||this.toRender({p:["drawText",u,this.marginLeft,t+r/2-(this.trackNameFontSize-this.margin)/2,this.featureNameFont,p,"left","middle"],a:this.getTextArea(u,this.marginLeft,t+r/2-(this.trackNameFontSize-this.margin)/2,this.featureNameFont,p,"left","middle"),i:["track-"+i+":"+d],t:"Labels"}),"dataframe"==s);else if("box"==s||"sequence"==s){if(c.translate&&"high"==this.genomeResolution){var m=this.featureNameFontSize-2+"px "+this.fontName;if(e=-5,c.trace&&this.featureTracesShow&&(e+=this.featureTraceHeight),c.translate&&this.featureTranslateShow){for(var f=0;f<c.translate.length;f++){("+1"==(y="+"+c.translate[f])||"+2"==y||"+3"==y)&&(this.toRender({p:["drawText",y,this.marginLeft+this.left-15,t+e+r/2,m,p,"left","middle"],t:"Data"}),e+=this.featureTranslateHeight)}e+=this.sequenceFontSize+2;for(f=0;f<c.translate.length;f++){var y;("-1"==(y=c.translate[f])||"-2"==y||"-3"==y)&&(this.toRender({p:["drawText",y,this.marginLeft+this.left-15,t+e+r/2,m,p,"left","middle"],t:"Data"}),e+=this.featureTranslateHeight)}}}t+="box"==s?this.getBoxFeatureHeight(c):this.getSequenceFeatureHeight(c)}"dataframe"==s&&n!=this.subtracks[i].length-1||(t+=r+this.margin)}}t+=2*this.margin}}}},this.plotGenomeData=function(){var t,e,i=this.marginLeft+this.left,a=this.marginTop+this.top,s=this.xAxisUnit/2;this.toRender({p:["setClipArea",this.setClipBoundaries()],t:"Size"});for(var r=0;r<this.data.tracks.length;r++){var n=this.data.tracks[r],o=n.type||this.featureTypeDefault,h=n.height||this.featureHeightDefault,l=!(!o.match(/bar|box|dataframe/)||!n.fill)&&n.fill,c=o.match(/bar|box|dataframe/)&&n.outline?n.outline:this.foreground,d=!1;if(t=i,!n.hide){if(n.name&&!n.hideName){var p=n.name;n.displayedFeatures!=n.totalFeatures&&(p+=" (Showing "+n.displayedFeatures+" out of "+n.totalFeatures+")"),this.toRender({p:["drawText",p,t,a+this.trackNameFontSize/2+this.margin,this.trackNameFont,n.trackNameFontColor||this.trackNameFontColor,"left","middle"],a:this.getTextArea(p,t,a+this.trackNameFontSize/2+this.margin,this.trackNameFont,n.trackNameFontColor||this.trackNameFontColor,"left","middle"),i:["track-"+r],t:"Labels"}),a+=this.trackNameFontSize+2*this.margin}if(n.highlight&&"low"!=this.genomeResolution)for(var g=n.highlight,u=0;u<g.length;u++)if(g[u].offset){var m=g[u].color?g[u].color:this.colors[r%this.colors.length];t=this.marginLeft+this.left+(g[u].offset-.5-this.xAxisMin)*this.xAxisUnit,e=g[u].width?g[u].width*this.xAxisUnit:this.xAxisUnit,P=n.endY-n.startY+h,this.toRender({p:["drawShape","rectangle",t+e/2,n.startY+P/2,e,P,m,m,"closed"],t:"Data"})}for(u=0;u<this.subtracks[r].length;u++){var f=this.subtracks[r][u];if(f){this.featureStaggered&&(d=this.isNameInSubtrack(n,f));for(var y=0;y<f.length;y++){var x=f[y],b=n.data[x],v=b.data,A=(p=this.shortenText(b.label||b.name||b.id,this.maxFeatureStringLen),this.getGenomeObjectColor("featureNameFontColor",b,n,this.foreground));if("box"==o)v.length>0&&(this.setGenomeBoxExons(b),!this.featureStaggered||n.hideFeatureNames||b.hideName&&d||(b.hideName||(t=(b.start-this.xAxisMin)*this.xAxisUnit-s,this.drawBoxSequenceName(r,p,t,a,i,b.start,b.end,b,n)),a+=this.featureNameFontSize+this.margin),this.drawGenomeBox(a,h,b,n),"high"==this.genomeResolution&&b.translate&&this.featureTranslateShow&&(a+=this.featureTranslateHeight*b.translate.length));else if("sequence"==o){var w=this.setGenomeGaps(b.gaps,b.sequence.length,b.dir);if(b.offsetLeft&&!b.offset&&(b.offset=b.offsetLeft-(b.sequence.length+w.total)+1),!this.featureStaggered||n.hideFeatureNames||b.hideName&&d||(b.hideName||(t=(b.offset-this.xAxisMin)*this.xAxisUnit-s,this.drawBoxSequenceName(r,p,t,a,i,b.offset,b.offset+b.sequence.length+w.total,b,n)),a+=this.featureNameFontSize+this.margin),"high"==this.genomeResolution){if(b.trace&&this.featureTracesShow&&(this.drawGenomeTrace(a,b.counter,this.featureTraceHeight-1,b.offset,b.trace,w,b.dir),a+=this.featureTraceHeight),this.drawGenomeSequence(a,h,w,b,n),a+=h,b.translate&&this.featureTranslateShow)for(var C=0;C<b.translate.length;C++)a+=this.featureTranslateHeight;b.quality&&this.featureQualityShow&&(this.drawGenomeQuality(a,b.counter,this.featureQualityHeight-1,b.offset,b.quality,w,b.dir,n),a+=this.featureQualityHeight),b.signalToNoise&&this.featureSignalToNoiseShow&&(this.drawGenomeSignalToNoise(a,b.counter,this.featureSignalToNoiseHeight-1,b.offset,b.signalToNoise,w,b.dir,n),a+=this.featureSignalToNoiseHeight),b.coordinate&&this.featureCoordinateShow&&(this.drawGenomeCoordinate(a+1,b.counter,this.featureCoordinateHeight-1,b.offset,b.coordinate,b.sequence.length,w,b.dir,n),a+=this.featureCoordinateHeight),a-=h}else"medium"==this.genomeResolution?(b.trace&&this.featureTracesShow&&(this.drawGenomeTrace(a,b.counter,this.featureTraceHeight-1,b.offset,b.trace,w,b.dir),a+=this.featureTraceHeight),this.drawGenomeSequence(a,h,w,b,n),b.coordinate&&this.featureCoordinateShow&&this.drawGenomeCoordinate(a+1,b.counter,this.featureCoordinateHeight-1,b.offset,b.coordinate,b.sequence.length,w,b.dir,n)):(this.drawGenomeSequence(a,h,w,b,n),b.coordinate&&this.featureCoordinateShow&&this.drawGenomeCoordinate(a+1,b.counter,this.featureCoordinateHeight-1,b.offset,b.coordinate,b.sequence.length,w,b.dir,n))}else if("bar"==o){var T=(B="high"==this.genomeResolution?this.xAxisUnit/v.length:n.autowidth?this.xAxisUnit:b.width?b.width:n.width?n.width:this.featureWidthDefault)*v.length;t=this.marginLeft+this.left+(b.offset-this.xAxisMin)*this.xAxisUnit-(T/2+1),!this.featureStaggered||n.hideFeatureNames||b.hideName&&d||(b.hideName||this.toRender({p:["drawText",p,t,a+this.featureNameFontSize/2,this.featureNameFont,A,"left","middle"],a:this.getTextArea(p,t,a+this.featureNameFontSize/2,this.featureNameFont,A,"left","middle"),i:["track-"+r+":"+b.counter],t:"Labels"}),a+=this.featureNameFontSize+this.margin),e=t;for(var S=n.range[1]<0?a:n.range[0]>=0?a+h:a+h-Math.abs(n.range[0]*n.units),D=0;D<v.length;D++){var M=b.fill||l,k=b.outline||c,L=this.isArray(M)&&M.length==v.length?M[D]:this.isArray(M)?M[0]:this.foreground,I=this.isArray(k)&&k.length==v.length?k[D]:this.isArray(k)?k[0]:this.foreground;g=v[D]*n.units;v[D]&&(g>0?this.toRender({p:["drawShape","rectangle",e+B/2,S-g/2,B,g,L,I,"closed"],a:this.getShapeArea("rectangle",e+B/2,S-g/2,B,g,L,I,"closed"),i:[b.counter],t:"Data"}):this.toRender({p:["drawShape","rectangle",e+B/2,S-g/2,B,-g,L,I,"closed"],a:this.getShapeArea("rectangle",e+B/2,S-g/2,B,-g,L,I,"closed"),i:[b.counter],t:"Data"})),n.autowidth?e+=B:e+=B+2}}else if("heatmap"==o){var B;B="high"==this.genomeResolution||n.autowidth?this.xAxisUnit:b.width?b.width:n.width?n.width:this.featureWidthDefault,t=this.marginLeft+this.left+(b.offset-this.xAxisMin)*this.xAxisUnit-(B/2+1),!this.featureStaggered||n.hideFeatureNames||b.hideName&&d||(b.hideName||this.toRender({p:["drawText",p,t,a+this.featureNameFontSize/2,this.featureNameFont,A,"left","middle"],a:this.getTextArea(p,t,a+this.featureNameFontSize/2,this.featureNameFont,A,"left","middle"),i:["track-"+r+":"+b.counter],t:"Labels"}),a+=this.featureNameFontSize+this.margin);g=n.autowidth?h:h/v.length;P=a;for(D=0;D<v.length;D++){var N=v[D],F=this.getColorForValue(n.brew,N);isNaN(N)?this.toRender({p:["drawShape","rectangle",t+B/2,P+g/2,B,g,this.missingDataColor,this.missingDataColor,"closed"],a:this.getShapeArea("rectangle",t+B/2,P+g/2,B,g,this.missingDataColor,this.missingDataColor,"closed"),i:[b.counter],t:"Data"}):this.toRender({p:["drawShape","rectangle",t+B/2,P+g/2,B,g,F,F,"closed"],a:this.getShapeArea("rectangle",t+B/2,P+g/2,B,g,F,F,"closed"),i:[b.counter],t:"Data"}),n.autowidth?t+=B:P+=g}}else if("dataframe"==o){if(t=this.marginLeft+this.left+3*this.margin,0==u&&this.drawGenomeBoxTrack(this.marginLeft+this.left,a,h,n),!(n.hideFeatureNames||b.hideName&&d||b.hideName))for(var P=(this.featureNameFontSize+this.margin)*u,R=0;R<v.length;R++)if(v[R].type){P+=.5*this.featureNameFontSize+this.margin;var O=!(!v[R].colorBy||!this.meta.data.tracks[r][v[R].colorBy])&&this.meta.data.tracks[r][v[R].colorBy],X=!!(v[R].colorBy&&n.dataframe[v[R].colorBy]&&v[R].meta&&v[R].meta.color)&&v[R].meta.color,z=!(!v[R].shapeBy||!this.meta.data.tracks[r][v[R].shapeBy])&&this.meta.data.tracks[r][v[R].shapeBy],E=!!(v[R].shapeBy&&n.dataframe[v[R].shapeBy]&&v[R].meta&&v[R].meta.shape)&&v[R].meta.shape,_=!(!v[R].sizeBy||!this.meta.data.tracks[r][v[R].sizeBy])&&this.meta.data.tracks[r][v[R].sizeBy],H=v[R].lineType||"line";if("line"==v[R].type&&!v[R].hideLegend){var V=0,G=(I=v[R].transparency&&v[R].fill?this.addColorTransparency(v[R].fill,v[R].transparency):v[R].fill||"grey",Math.max(0,this.measureText(v[R].yAxis,this.featureNameFont)));this.toRender({p:["drawLine",H,this.left+3*this.margin,a+this.featureNameFontSize/2+P+this.margin,this.left+3*this.margin+10,a+this.featureNameFontSize/2+P+this.margin,I,!1,"butt"],t:"Legend"}),this.toRender({p:["drawText",v[R].yAxis,this.left+10+4*this.margin,a+this.featureNameFontSize/2+P+this.margin,this.featureNameFont,this.forground,"left","middle"],t:"Legend"}),P+=this.featureNameFontSize+2*this.margin,V+=this.featureNameFontSize+2*this.margin,G+=10+4*this.margin,this.toRender({p:["drawShape","rectangle",t+G/2-2*this.margin,a+P-V/2,G,V,!1,this.plotBoxColor,"open"],t:"Legend"})}if("scatter"==v[R].type&&!O&&!X&&!v[R].hideLegend){V=0,I=v[R].transparency&&v[R].fill?this.addColorTransparency(v[R].fill,v[R].transparency):v[R].fill||"grey";var q=v[R].shape||"circle";G=Math.max(0,this.measureText(v[R].yAxis,this.featureNameFont));this.toRender({p:["drawShape",q,this.left+3*this.margin+5,a+this.featureNameFontSize/2+P+this.margin,10,10,I,I,"closed"],t:"Legend"}),this.toRender({p:["drawText",v[R].yAxis,this.left+10+4*this.margin,a+this.featureNameFontSize/2+P+this.margin,this.featureNameFont,this.forground,"left","middle"],t:"Legend"}),P+=this.featureNameFontSize+2*this.margin,V+=this.featureNameFontSize+2*this.margin,G+=10+4*this.margin,this.toRender({p:["drawShape","rectangle",t+G/2-2*this.margin,a+P-V/2,G,V,!1,this.plotBoxColor,"open"],t:"Legend"})}if("scatter"==v[R].type&&O&&X&&!v[R].hideLegend){G=0,V=0;for(var j in X){I=v[R].transparency?this.addColorTransparency(X[j],v[R].transparency):X[j],q=v[R].shape||"circle";G=Math.max(G,this.measureText(j,this.featureNameFont)),this.toRender({p:["drawShape",q,this.left+3*this.margin+5,a+this.featureNameFontSize/2+P+this.margin,10,10,I,I,"closed"],t:"Legend"}),this.toRender({p:["drawText",j,this.left+10+4*this.margin,a+this.featureNameFontSize/2+P+this.margin,this.featureNameFont,this.foreground,"left","middle"],t:"Legend"}),P+=this.featureNameFontSize+this.margin,V+=this.featureNameFontSize+this.margin}P+=this.margin,V+=this.margin,G+=10+4*this.margin,this.toRender({p:["drawShape","rectangle",t+G/2-2*this.margin,a+P-V/2,G,V,!1,this.plotBoxColor,"open"],t:"Legend"})}if("scatter"==v[R].type&&O&&!X&&!v[R].hideLegend){G=0,V=0;if(O.levels){for(j=0;j<O.levels.length;j++){I=v[R].transparency?this.addColorTransparency(O.colors[j],v[R].transparency):O.colors[j],q=v[R].shape||"circle";G=Math.max(G,this.measureText(O.levels[j],this.featureNameFont)),this.toRender({p:["drawShape",q,this.left+3*this.margin+5,a+this.featureNameFontSize/2+P+this.margin,10,10,I,I,"closed"],t:"Legend"}),this.toRender({p:["drawText",O.levels[j],this.left+10+4*this.margin,a+this.featureNameFontSize/2+P+this.margin,this.featureNameFont,this.foreground,"left","middle"],t:"Legend"}),P+=this.featureNameFontSize+this.margin,V+=this.featureNameFontSize+this.margin}P+=this.margin,V+=this.margin,G+=10+4*this.margin,this.toRender({p:["drawShape","rectangle",t+G/2-2*this.margin,a+P-V/2,G,V,!1,this.plotBoxColor,"open"],t:"Legend"})}else this.heatmapIndicatorWidth=100,this.drawColorIndicator(t,a+P,O),P+=100+this.margin}if("scatter"==v[R].type&&z&&E&&!v[R].hideLegend){P+=.5*this.featureNameFontSize+this.margin;G=0,V=0,I=v[R].transparency&&v[R].fill?this.addColorTransparency(v[R].fill,v[R].transparency):v[R].fill||"grey";for(var j in E){q=E[j];G=Math.max(G,this.measureText(j,this.featureNameFont)),this.toRender({p:["drawShape",q,this.left+3*this.margin+5,a+this.featureNameFontSize/2+P+this.margin,10,10,I,I,"closed"],t:"Legend"}),this.toRender({p:["drawText",j,this.left+10+4*this.margin,a+this.featureNameFontSize/2+P+this.margin,this.featureNameFont,this.foreground,"left","middle"],t:"Legend"}),P+=this.featureNameFontSize+this.margin,V+=this.featureNameFontSize+this.margin}P+=this.margin,V+=this.margin,G+=10+4*this.margin,this.toRender({p:["drawShape","rectangle",t+G/2-2*this.margin,a+P-V/2,G,V,!1,this.plotBoxColor,"open"],t:"Legend"})}if("scatter"==v[R].type&&z&&!E&&!v[R].hideLegend){P+=.5*this.featureNameFontSize+this.margin;G=0,V=0,I=v[R].transparency&&v[R].fill?this.addColorTransparency(v[R].fill,v[R].transparency):v[R].fill||"grey";if(z.levels){for(j=0;j<z.levels.length;j++){q=z.shapes[j];G=Math.max(G,this.measureText(z.levels[j],this.featureNameFont)),this.toRender({p:["drawShape",q,this.left+3*this.margin+5,a+this.featureNameFontSize/2+P+this.margin,10,10,I,I,"closed"],t:"Legend"}),this.toRender({p:["drawText",z.levels[j],this.left+10+4*this.margin,a+this.featureNameFontSize/2+P+this.margin,this.featureNameFont,this.foreground,"left","middle"],t:"Legend"}),P+=this.featureNameFontSize+this.margin,V+=this.featureNameFontSize+this.margin}P+=this.margin,V+=this.margin,G+=10+4*this.margin,this.toRender({p:["drawShape","rectangle",t+G/2-2*this.margin,a+P-V/2,G,V,!1,this.plotBoxColor,"open"],t:"Legend"})}else P-=.5*this.featureNameFontSize+this.margin}v[R].type}for(R=0;R<v.length;R++){var U=!!(n.dataframe&&v[R].xAxis&&n.dataframe[v[R].xAxis])&&n.dataframe[v[R].xAxis],Y=!!(n.dataframe&&v[R].yAxis&&n.dataframe[v[R].yAxis])&&n.dataframe[v[R].yAxis];if(U&&Y&&v[R].type){O=!(!v[R].colorBy||!this.meta.data.tracks[r][v[R].colorBy])&&this.meta.data.tracks[r][v[R].colorBy],X=!!(v[R].colorBy&&n.dataframe[v[R].colorBy]&&v[R].meta&&v[R].meta.color)&&v[R].meta.color,z=!(!v[R].shapeBy||!this.meta.data.tracks[r][v[R].shapeBy])&&this.meta.data.tracks[r][v[R].shapeBy],E=!!(v[R].shapeBy&&n.dataframe[v[R].shapeBy]&&v[R].meta&&v[R].meta.shape)&&v[R].meta.shape,_=!(!v[R].sizeBy||!this.meta.data.tracks[r][v[R].sizeBy])&&this.meta.data.tracks[r][v[R].sizeBy];var W,$,Q=!!(v[R].sizeBy&&n.dataframe[v[R].sizeBy]&&v[R].meta&&v[R].meta.size)&&v[R].meta.size;H=v[R].lineType||"line";if("line"==v[R].type)for(D=0;D<U.length-1;D++){I=v[R].transparency&&v[R].fill?this.addColorTransparency(v[R].fill,v[R].transparency):v[R].fill||"grey";t=this.marginLeft+this.left+(U[D]-this.xAxisMin)*this.xAxisUnit,e=this.marginLeft+this.left+(U[D+1]-this.xAxisMin)*this.xAxisUnit,W="left"==v[R].side?(Y[D]-n.minAxisY)*n.units:(Y[D]-n.minAxisY2)*n.units2,$="left"==v[R].side?(Y[D+1]-n.minAxisY)*n.units:(Y[D+1]-n.minAxisY2)*n.units2,this.toRender({p:["drawLine",H,t,h+a-W,e,h+a-$,I,!1,"butt"],a:this.getLineArea(H,t,h+a-W,e,h+a-$,I,!1,"butt"),i:["dataframe-"+r+":"+R,D],t:"Data"})}else if("scatter"==v[R].type)for(D=0;D<U.length;D++){var Z,K,J;Z=O?"Numeric"==O.type?this.getColorForValue(O.brew,n.dataframe[v[R].colorBy][D]):X?v[R].meta.color[n.dataframe[v[R].colorBy][D]]:O.colors[O.order[n.dataframe[v[R].colorBy][D]]]:v[R].fill?v[R].fill:v[R].color?v[R].color:"grey",v[R].transparency&&(Z=this.addColorTransparency(Z,v[R].transparency)),K=z&&"Numeric"!=z.type?E?v[R].meta.shape[n.dataframe[v[R].shapeBy][D]]:z.shapes[z.order[n.dataframe[v[R].shapeBy][D]]]:v[R].shape?v[R].shape:"circle",J=_?"Numeric"==_.type?this.getPropertyValueSize(_,n.dataframe[v[R].sizeBy][D],"sizes"):Q?v[R].meta.size[n.dataframe[v[R].sizeBy][D]]:_.sizes[_.order[n.dataframe[v[R].sizeBy][D]]]:v[R].size?v[R].size:this.dataPointSize*this.dataPointSizeScaleFactor;var tt=b.outline?b.outline:n.outline?n.outline:Z;t=this.marginLeft+this.left+(U[D]-this.xAxisMin)*this.xAxisUnit,W="left"==v[R].side?(Y[D]-n.minAxisY)*n.units:(Y[D]-n.minAxisY2)*n.units2,this.toRender({p:["drawShape",K,t,h+a-W,J,J,Z,tt,"closed"],a:this.getShapeArea(K,t,h+a-W,J,J,Z,tt,"closed"),i:["dataframe-"+r+":"+R,D],t:"Data"})}}}}else if("marker"==o)for(R=0;R<v.length;R++){l=b.fill&&b.fill[R]?b.fill[R]:this.foreground;for(var et=0;et<v[R].length;et++)t=this.marginLeft+this.left+(v[R][et]-this.xAxisMin)*this.xAxisUnit,this.toRender({p:["drawLine","line",t,a,t,a+h,l,!1,"butt"],a:this.getLineArea("line",t,a,t,a+h,l,!1,"butt"),i:[b.counter,et,R],t:"Data"})}else"triangle"==o&&(t=this.marginLeft+this.left+(b.offset-this.xAxisMin)*this.xAxisUnit,l=b.fill?b.fill:this.foreground,c=b.outline?b.outline:this.foreground,!this.featureStaggered||n.hideFeatureNames||b.hideName&&d||(b.hideName||this.toRender({p:["drawText",p,t,a+this.featureNameFontSize/2,this.featureNameFont,A,"left","middle"],a:this.getTextArea(p,t,a+this.featureNameFontSize/2,this.featureNameFont,A,"left","middle"),i:["track-"+r+":"+b.counter],t:"Labels"}),a+=this.featureNameFontSize+this.margin),this.toRender({p:["drawShape","triangle",t,a+h/2,h,h,l,c,"closed"],a:this.getShapeArea("triangle",t,a+h/2,h,h,l,c,"closed"),i:[b.counter],t:"Data"}));this.featureStaggered&&y<f.length-1&&(d||(a-=this.featureNameFontSize+this.margin),"box"==o?a-=this.getBoxFeatureHeight(b):"sequence"==o&&(a-=this.getSequenceFeatureHeight(b)))}"dataframe"==o&&u!=this.subtracks[r].length-1||(a+=h+this.margin)}}a+=2*this.margin}}this.toRender({p:["resetClipArea"],t:"Size"})},this.setGenomeBoxExons=function(t){var e=t.data;if((!t.start||!t.end)&&(t.start=e[0][0],t.end=e[e.length-1][1],t.sequence))for(var i="left"==t.dir?t.sequence.length:1,a=0;a<e.length;a++){if(2==e[a].length){var s=e[a][1]-e[a][0];"left"==t.dir?t.data[a].push(i-s,i):t.data[a].push(i,i+s)}i="left"==t.dir?i-(s+1):i+s+1}},this.drawGenomeBoxTrack=function(t,e,i,a){if(this.toRender({p:["drawShape","rectangle",t+this.x/2+.5,e+i/2+.5,this.x+1,i+1,!1,this.plotBoxColor,"open"],t:"Axis"}),this.toRender({p:["resetClipArea"],t:"Size"}),a.values)for(var s=a.values,r=0;r<s.length;r++){var n=(s[r]-a.minAxisY)*a.units-.5;this.toRender({p:["drawLine","line",this.left+this.margin,i+e-n,this.left-this.margin,i+e-n,this.yAxisTickColor],t:"Axes"}),this.toRender({p:["drawText",s[r].toString(),this.left-2*this.margin,i+e-n,this.axisTickFont,this.axisTickColor,"right","middle"],t:"Axes"})}if(a.title){var o=this.measureText(a.maxValueStr,this.axisTickFont)+4*this.margin;this.toRender({p:["drawText",a.title,this.left-o,e+i/2,this.axisTitleFont,this.axisTitleColor,"center","bottom",.5*-Math.PI],t:"Axes"})}if(a.values2){for(s=a.values2,r=0;r<s.length;r++){n=(s[r]-a.minAxisY2)*a.units2-.5;this.toRender({p:["drawLine","line",this.left+this.x+this.margin,i+e-n,this.left+this.x+2*this.margin,i+e-n,this.yAxisTickColor],t:"Axes"}),this.toRender({p:["drawText",s[r].toString(),this.left+this.x+3*this.margin,i+e-n,this.axisTickFont,this.axisTickColor,"left","middle"],t:"Axes"})}if(a.title2){o=this.measureText(a.maxValueStr2,this.axisTickFont)+4*this.margin;this.toRender({p:["drawText",a.title2,this.left+this.x+o,e+i/2,this.axisTitleFont,this.axisTitleColor,"center","top",.5*-Math.PI],t:"Axes"})}}this.toRender({p:["setClipArea",this.setClipBoundaries()],t:"Size"})},this.drawGenomeBoxLines=function(t,e,i,a){for(var s,r,n,o,h,l=i.scaleHeight?i.scaleHeight:1,c=t+e*l/2,d="right"==i.dir?t:t+e*l,p=this.marginLeft+this.left,g=p+this.x,u=i.data,m=this.validateColor(i.fill||i.connect||a.connect)||this.foreground,f=this.xAxisUnit/2,y=[],x=0;x<u.length;x++)s=(u[x][0]-this.xAxisMin)*this.xAxisUnit-f,r=(u[x][1]-this.xAxisMin)*this.xAxisUnit+f-s,i.insertion||!a.connect&&!i.connect||"rect"==this.featureSpliceStyle||x<u.length-1&&(o=(s+r+(n=(u[x+1][0]-this.xAxisMin)*this.xAxisUnit)+1-f)/2,Math.floor(n-(r+s))>2&&p+s+r<g&&p+n>p&&(Math.abs(d-c)<3?this.toRender({p:["drawLine","line",p+s+r+1,c+e-e*l,p+n,c+e-e*l,m,!1,"butt"],a:this.getLineArea("line",p+s+r+1,c+e-e*l,p+n,c+e-e*l,m,!1,"butt"),i:[i.counter],t:"Data"}):(this.toRender({p:["drawLine","line",p+s+r+1,c+e-e*l,p+o,d+e-e*l,m,!1,"butt"],a:this.getLineArea("line",p+s+r+1,c+e-e*l,p+o,d+e-e*l,m,!1,"butt"),i:[i.counter],t:"Data"}),this.toRender({p:["drawLine","line",p+o,d+e-e*l,p+n-f,c+e-e*l,m,!1,"butt"],a:this.getLineArea("line",p+o,d+e-e*l,p+n-f,c+e-e*l,m,!1,"butt"),i:[i.counter],t:"Data"})))),i.insertion?(s=((u[x][0]+u[x][1])/2-this.xAxisMin)*this.xAxisUnit,y.push([p+s,t+e-e*l+e*l/2,f/2,e*l])):y.push([p+s,t+e-e*l,r,e*l]);return i.insertion||!a.connect&&!i.connect||"rect"!=this.featureSpliceStyle||(h=u.length-1,s=(u[0][0]-this.xAxisMin)*this.xAxisUnit,r=(u[h][1]-this.xAxisMin)*this.xAxisUnit-s,this.toRender({p:["drawLine","line",p+s+r,c+e-e*l,p+s,c+e-e*l,m,!1,"butt"],a:this.getLineArea("line",p+s+r,c+e-e*l,p+s,c+e-e*l,m,!1,"butt"),i:[i.counter],t:"Data"})),i.showDir&&this.xAxisUnit>.001&&!i.insertion&&(m=this.validateColor(i.showDir)||m,s=p+(i.start-this.xAxisMin)*this.xAxisUnit-f,r=p+(i.end-this.xAxisMin)*this.xAxisUnit+f,n=10,o=5,"right"==i.dir?r<g&&r+n>p&&(this.toRender({p:["drawLine","line",r,c,r+n,c,m,!1,"butt"],a:this.getLineArea("line",r,c,r+n,c,m,!1,"butt"),i:[i.counter],t:"Data"}),this.toRender({p:["drawLine","line",r+o,c-e/3,r+n,c,m,!1,"butt"],a:this.getLineArea("line",r+o,c-e/3,r+n,c,m,!1,"butt"),i:[i.counter],t:"Data"}),this.toRender({p:["drawLine","line",r+o,c+e/3,r+n,c,m,!1,"butt"],a:this.getLineArea("line",r+o,c+e/3,r+n,c,m,!1,"butt"),i:[i.counter],t:"Data"})):s-n<g&&s>p&&(this.toRender({p:["drawLine","line",s,c,s-n,c,m,!1,"butt"],a:this.getLineArea("line",s,c,s-n,c,m,!1,"butt"),i:[i.counter],t:"Data"}),this.toRender({p:["drawLine","line",s-o,c-e/3,s-n,c,m,!1,"butt"],a:this.getLineArea("line",s-o,c-e/3,s-n,c,m,!1,"butt"),i:[i.counter],t:"Data"}),this.toRender({p:["drawLine","line",s-o,c+e/3,s-n,c,m,!1,"butt"],a:this.getLineArea("line",s-o,c+e/3,s-n,c,m,!1,"butt"),i:[i.counter],t:"Data"}))),y},this.drawGenomeBoxAlleles=function(t,e,i,a,s,r){for(var n=a/s.length,o=0;o<s.length;o++)for(var h=s[o].split(""),l=(i-t)/h.length,c=e+n*o,d=0;d<h.length;d++){var p=t+l*d;"-"==h[d]&&(h[d]="Gap");var g="sequence"+h[d].toUpperCase()+"Color";this.toRender({p:["drawShape","rectangle",p+l/2,c+n/2,l,n,this[g],this[g],"closed"],a:this.getShapeArea("rectangle",p+l/2,c+n/2,l,n,this[g],this[g],"closed"),i:[r],t:"Data"})}},this.drawGenomeBox=function(t,e,i,a){var s=this,r={},n=i.fill&&this.isArray(i.fill)?this.validateColor(i.connect||a.fill||a.connect):this.validateColor(i.fill||i.connect||a.fill||a.connect),o=!(!i.height||!this.isArray(i.height))&&i.height,h=i.outline||a.outline||n,l=n?"closed":"open",c=this.xAxisUnit/2,d=this.sequenceFontSize>e?e-3+"px "+this.fontName:this.sequenceFont,p=!("low"==s.genomeResolution||!i.sequence)&&("left"==i.dir?i.sequenceRC.split(""):i.sequence.split("")),g=i.translateRC,u=i.data,m=this.marginLeft+this.left,f=m+this.x;"high"==this.genomeResolution&&g&&(t+=g.top.length*this.featureTranslateHeight);for(var y=this.drawGenomeBoxLines(t,e,i,a),x=0;x<y.length;x++){var b=y[x][0],v=b+y[x][2];if(Math.floor(v-b)<3){var A=parseInt(v);if(r.hasOwnProperty(A))continue;r[A]=!0,r[A+1]=!0}if(b<f&&v>m){if("low"!=this.genomeResolution&&i.alleles&&i.alleles[x]&&!i.insertion&&this.drawGenomeBoxAlleles(b,t,v,e,i.alleles[x],i.counter),!g||"high"!=this.genomeResolution)if(i.insertion){var w="left"==i.dir?"triangle":"triangle2";this.toRender({p:["drawShape",w,y[x][0],y[x][1],y[x][2],y[x][3],n,h,l],a:this.getShapeArea(w,y[x][0],y[x][1],y[x][2],y[x][3],n,h,l),i:[i.counter],t:"Data"})}else if("low"!=this.genomeResolution&&i.sequence&&(i.sequenceFill||a.sequenceFill||this.sequenceFill))this.toRender({p:["drawShape","rectangle",y[x][0]+y[x][2]/2,y[x][1]+y[x][3]/2,y[x][2],y[x][3],i.sequenceFill||a.sequenceFill||this.sequenceFill,h,l],a:this.getShapeArea("rectangle",y[x][0]+y[x][2]/2,y[x][1]+y[x][3]/2,y[x][2],y[x][3],i.sequenceFill||a.sequenceFill||this.sequenceFill,h,l),i:[i.counter],t:"Data"});else{var C=o&&null!=o[x]&&o[x]<=y[x][3]?o[x]:y[x][3],T=i.fill&&this.isArray(i.fill)&&this.validateColor(i.fill[x])?i.fill[x]:n;this.toRender({p:["drawShape","rectangle",y[x][0]+y[x][2]/2,y[x][1]+y[x][3]/2,y[x][2],C,T,h,l],a:this.getShapeArea("rectangle",y[x][0]+y[x][2]/2,y[x][1]+y[x][3]/2,y[x][2],C,T,h,l),i:[i.counter],t:"Data"})}if("low"!=this.genomeResolution&&i.sequence&&!i.insertion){var S={},D=u[x][0],M=u[x][1],k="left"==i.dir?p.length-u[x][3]+1:u[x][2],L="left"==i.dir?p.length-u[x][2]+1:u[x][3],I=k-3;if(M-D!=L-k&&this.errors.push("Exon length for segment "+x+" in feature "+i.id+"is different to the box dimmension"),p.length>0){b+=c;for(var B=k;B<=L;B++){var N=p[B-1];if(N||this.errors.push("Nucleotide "+B+" in exon "+(x+1)+" in feature "+i.id+"not specified"),N){var F="sequence"+N.toUpperCase()+"Color";"high"==this.genomeResolution?g&&(!i.cds||i.cds&&B>=i.cds[0]&&B<=i.cds[1])?(this.drawTranslationTop(g,b,t,c,I,h,d,0,S,i.counter),this.toRender({p:["drawText",N,b,t+e/2,d,this[F],"center","middle"],a:this.getTextArea(N,b,t+e/2,d,this[F],"center","middle"),i:[i.counter],t:"Data"}),this.drawTranslationBottom(g,b,t,c,I,h,d,0,S,i.counter)):this.toRender({p:["drawText",N,b,t+e/2,d,this[F],"center","middle"],a:this.getTextArea(N,b,t+e/2,d,this[F],"center","middle"),i:[i.counter],t:"Data"}):this.toRender({p:["drawShape","rectangle",b,t+1+(e-2)/2,1,e-2,this[F],this[F],"closed"],a:this.getShapeArea("rectangle",b,t+1+(e-2)/2,1,e-2,this[F],this[F],"closed"),i:[i.counter],t:"Data"})}else"high"==this.genomeResolution?this.toRender({p:["drawText","-",b,t+e/2,d,this.missingDataColor,"center","middle"],a:this.getTextArea("-",b,t+e/2,d,this.missingDataColor,"center","middle"),i:[i.counter],t:"Data"}):this.toRender({p:["drawShape","rectangle",b,t+1+(e-2)/2,1,e-2,this.missingDataColor,this.missingDataColor,"closed"],a:this.getShapeArea("rectangle",b,t+1+(e-2)/2,1,e-2,this.missingDataColor,this.missingDataColor,"closed"),i:[i.counter],t:"Data"});I++,b+=this.xAxisUnit}}}}}},this.drawGenomeTrace=function(t,e,i,a,s,r,n){if("low"!=this.genomeResolution){"left"!=n||s.reversed||this.setReverseTrace(s);var o=[],h=["A","C","G","T"],l=this.marginLeft+this.left+(a-1-this.xAxisMin)*this.xAxisUnit,c=this.marginLeft+this.left,d=this.marginLeft+this.left+this.x,p=t+i;if(null==s.max){for(var g=0;g<h.length;g++)o=o.concat(s[h[g]]);"Firefox"==CanvasXpress.system.browser?o=this.radixSort(o):o.sort((function(t,e){return t-e}));var u=Math.floor(o.length*this.featureTraceTrim/100);s.max=o[o.length-(u+1)]}var m=i/s.max,f=h.length;for(g=0;g<f;g++){for(var y=0,x=[],b=[],v=l,A="sequence"+h[g].toUpperCase()+"Color",w=s.peak.length,C=0;C<w;C++)if(v>c-this.xAxisUnit&&v<d){var T=this.xAxisUnit/(s.peak[C]-y);if(r[C]){for(var S=Math.floor((s.peak[C]-y)/2),D=y;D<s.peak[C]-S;D++)x.push(v),b.push(p-Math.min(s.max,s[h[g]][D])*m),v+=T;y+=S,x.length>1&&b.length>1&&this.toRender({p:["drawShape","path",x,b,!1,!1,this[A],this[A],"open"],a:this.getShapeArea("path",x,b,!1,!1,this[A],this[A],"open"),i:[e],t:"Data"}),x=[],b=[];for(D=0;D<r[C];D++)v+=this.xAxisUnit}for(D=y;D<=s.peak[C];D++)x.push(v),b.push(p-Math.min(s.max,s[h[g]][D])*m),v+=T;v-=T,y=s.peak[C]}else{if(r[C])for(D=0;D<r[C];D++)v+=this.xAxisUnit;y=s.peak[C],v+=this.xAxisUnit}if(v>c-this.xAxisUnit&&v<d)for(D=y;D<s[h[g]].length;D++)x.push(v),b.push(p-Math.min(s.max,s[h[g]][D])*m),v+=T;x.length>1&&b.length>1&&this.toRender({p:["drawShape","path",x,b,!1,!1,this[A],this[A],"open"],a:this.getShapeArea("path",x,b,!1,!1,this[A],this[A],"open"),i:[e],t:"Data"})}}},this.drawTranslationTop=function(t,e,i,a,s,r,n,o,h,l){if(t.top&&t.top.length>0)for(var c=0;c<t.top.length;c++){y1=i-(t.top.length-c)*this.featureTranslateHeight;var d=t.top[c];if(s-d.off>=0&&(s-d.off)%3==0){var p=d.seq[Math.floor((s-d.off)/3)],g=s%2?this.oddColor:this.evenColor;"M"==p?g=this.sequenceStartColor:"*"==p&&(g=this.sequenceEndColor),h[d.rf]||(h[d.rf]=e-this.xAxisUnit*(o+2.5)),x0=e-h[d.rf]+a,this.toRender({p:["drawShape","rectangle",h[d.rf]+x0/2,y1+this.featureTranslateHeight/2,x0,this.featureTranslateHeight-1,g,r,"closed"],a:this.getShapeArea("rectangle",h[d.rf]+x0/2,y1+this.featureTranslateHeight/2,x0,this.featureTranslateHeight-1,g,r,"closed"),i:[l],t:"Data"}),this.toRender({p:["drawText",p,h[d.rf]+x0/2,y1+this.featureTranslateHeight/2+1,n,this.foreground,"center","middle"],a:this.getTextArea(p,h[d.rf]+x0/2,y1+this.featureTranslateHeight/2+1,n,this.foreground,"center","middle"),i:[l],t:"Data"}),h[d.rf]=e+a}}},this.drawTranslationBottom=function(t,e,i,a,s,r,n,o,h,l){if(t.bottom&&t.bottom.length>0)for(var c=0;c<t.bottom.length;c++){y1=i+(c+1)*this.featureTranslateHeight;var d=t.bottom[c];if(s-d.off>=0&&(s-d.off)%3==0){var p=d.seq[Math.floor((s+d.off+1)/3)],g=s%2?this.oddColor:this.evenColor;"M"==p?g=this.sequenceStartColor:"*"==p&&(g=this.sequenceEndColor),h[d.rf]||(h[d.rf]=e-this.xAxisUnit*(o+2.5)),x0=e-h[d.rf]+a,this.toRender({p:["drawShape","rectangle",h[d.rf]+x0/2,y1+this.featureTranslateHeight/2,x0,this.featureTranslateHeight-1,g,r,"closed"],a:this.getShapeArea("rectangle",h[d.rf]+x0/2,y1+this.featureTranslateHeight/2,x0,this.featureTranslateHeight-1,g,r,"closed"),i:[l],t:"Data"}),this.toRender({p:["drawText",p,h[d.rf]+x0/2,y1+this.featureTranslateHeight/2+1,n,this.foreground,"center","middle"],a:this.getTextArea(p,h[d.rf]+x0/2,y1+this.featureTranslateHeight/2+1,n,this.foreground,"center","middle"),i:[l],t:"Data"}),h[d.rf]=e+a}}},this.drawGenomeSequence=function(t,e,i,a,s){var r=a.counter,n=a.fill?a.fill:s.fill?s.fill:this.background,o=a.outline||this.foreground,h=n?"closed":"open",l=this.sequenceFontSize>e?e-3+"px "+this.fontName:this.sequenceFont,c=a.offset,d=a.sequence,p=a.sequenceRC,g=a.translate,u=a.translateRF;"left"!=a.dir||p||(p=d,d=this.getReverseComplement(d)),g&&!u&&(u=g,g=this.translate(g,d));var m=d.split(""),f=this.marginLeft+this.left+(c-this.xAxisMin)*this.xAxisUnit,y=this.marginLeft+this.left,x=this.marginLeft+this.left+this.x,b=(m.length+i.total)*this.xAxisUnit,v=0,A=s.subtype.match(/DNA|RNA/)?1:3,w=4*this.xAxisUnit,C=this.xAxisUnit/2,T=-2,S={},D=0,M=0;if("high"==this.genomeResolution){var k=f+v*this.xAxisUnit;for(g&&(t+=g.top.length*this.featureTranslateHeight);m.length>0;)if(k>y-w&&k<x+w){var L=m.shift();if("["==L){L=m.shift();for(var I=[];"]"!=L;)I.push(L),L=m.shift();this.toRender({p:["drawText",I.join("/"),f+v*this.xAxisUnit,t+e/2,l,this.sequenceMColor,"center","middle"],a:this.getTextArea(I.join("/"),f+v*this.xAxisUnit,t+e/2,l,this.sequenceMColor,"center","middle"),i:[r],t:"Data"})}else{var B="sequence"+L.toUpperCase()+"Color";g?(this.drawTranslationTop(g,k,t,C,T,o,l,M,S,r),this.toRender({p:["drawText",L,k,t+e/2,l,this[B],"center","middle"],a:this.getTextArea(L,k,t+e/2,l,this[B],"center","middle"),i:[r],t:"Data"}),this.drawTranslationBottom(g,k,t,C,T,o,l,M,S,r)):this.toRender({p:["drawText",L,k,t+e/2,l,this[B],"center","middle"],a:this.getTextArea(L,k,t+e/2,l,this[B],"center","middle"),i:[r],t:"Data"})}if(k=f+((v+=A)+D)*this.xAxisUnit,T++,M=0,i[parseInt(v/A)])for(var N=0;N<i[parseInt(v/A)];N++)this.toRender({p:["drawText","-",k,t+e/2,l,this.missingDataColor,"center","middle"],a:this.getTextArea("-",k,t+e/2,l,this.missingDataColor,"center","middle"),i:[r],t:"Data"}),M++,k=f+(v+ ++D)*this.xAxisUnit}else if(m.shift(),k=f+((v+=A)+D)*this.xAxisUnit,T++,M=0,i[parseInt(v/A)])for(N=0;N<i[parseInt(v/A)];N++)M++,k=f+(v+ ++D)*this.xAxisUnit}else for(var N in f=this.marginLeft+this.left+(c-.5-this.xAxisMin)*this.xAxisUnit,this.toRender({p:["drawShape","rectangle",f+b/2,t+e/2,b,e,n,o,"closed"],a:this.getShapeArea("rectangle",f+b/2,t+e/2,b,e,n,o,"closed"),i:[r],t:"Data"}),i)f=this.marginLeft+this.left+(c-.5+parseInt(N)+M-this.xAxisMin)*this.xAxisUnit,b=i[N]*this.xAxisUnit,M+=i[N],this.toRender({p:["drawShape","rectangle",f+b/2,t+e/2,b,e,this.missingDataColor,o,h],a:this.getShapeArea("rectangle",f+b/2,t+e/2,b,e,this.missingDataColor,o,h),i:[r],t:"Data"})},this.drawGenomeQuality=function(t,e,i,a,s,r,n,o){if("low"!=this.genomeResolution)for(var h="left"==n?this.cloneObject(s).reverse():s,l=this.marginLeft+this.left+(a-.5-this.xAxisMin)*this.xAxisUnit,c=this.marginLeft+this.left,d=this.marginLeft+this.left+this.x,p=l,g=(o.subtype.match(/DNA|RNA/)?1:3)*this.xAxisUnit,u=this.featureQualityHeight-3+"px "+this.fontName,m=0;m<h.length;m++){if(p+g>c&&p<d){if(r[m])for(var f=0;f<r[m];f++)p+=g;var y=this.getColorForValue(o.brew,h[m]);this.toRender({p:["drawShape","rectangle",p+g/2,t+i/2,g,i,y,y,"closed"],a:this.getShapeArea("rectangle",p+g/2,t+i/2,g,i,y,y,"closed"),i:[e],t:"Data"}),p>c&&"high"==this.genomeResolution&&this.featureQualityValues&&this.toRender({p:["drawText",h[m],p+g/2,t+i/2,u,this.foreground,"center","middle"],a:this.getTextArea(h[m],p+g/2,t+i/2,u,this.foreground,"center","middle"),i:[e],t:"Data"})}p+=g}},this.drawGenomeSignalToNoise=function(t,e,i,a,s,r,n,o){if("low"!=this.genomeResolution)for(var h="left"==n?this.cloneObject(s).reverse():s,l=this.marginLeft+this.left+(a-.5-this.xAxisMin)*this.xAxisUnit,c=this.marginLeft+this.left,d=this.marginLeft+this.left+this.x,p=l,g=(o.subtype.match(/DNA|RNA/)?1:3)*this.xAxisUnit,u=this.featureSignalToNoiseHeight-3+"px "+this.fontName,m=0;m<h.length;m++){if(p+g>c&&p<d){if(r[m])for(var f=0;f<r[m];f++)p+=g;var y=this.getColorForValue(o.brew,h[m]);this.toRender({p:["drawShape","rectangle",p+g/2,t+i/2,g,i,y,y,"closed"],a:this.getShapeArea("rectangle",p+g/2,t+i/2,g,i,y,y,"closed"),i:[e],t:"Data"}),p>c&&"high"==this.genomeResolution&&this.featureSignalToNoiseValues&&this.toRender({p:["drawText",h[m],p+g/2,t+i/2,u,this.foreground,"center","middle"],a:this.getTextArea(h[m],p+g/2,t+i/2,u,this.foreground,"center","middle"),i:[e],t:"Data"})}p+=g}},this.drawGenomeCoordinate=function(t,e,i,a,s,r,n,o,h){if("low"!=this.genomeResolution){var l=this.marginLeft+this.left+(a-this.xAxisMin)*this.xAxisUnit,c=this.marginLeft+this.left,d=this.marginLeft+this.left+this.x,p=s,g=(h.subtype.match(/DNA|RNA/)?1:3)*this.xAxisUnit,u=this.getCoordinateStep(),m=r+n.total,f=s+m,y=i-3+"px "+this.fontName;if("left"==o)for(var x=l+(m-1)*g;s<f-n.total;)n[m-(s-p)-2]&&(x-=g*n[m-(s-p)-2]),x>c&&x<d&&s%u==0&&this.toRender({p:["drawText",s,x,t+i/2,y,this.foreground,"center","middle"],t:"Labels"}),x-=g,s++;else for(x=l;s<f-n.total;)n[s-p]&&(x+=g*n[s-p]),x>c&&x<d&&s%u==0&&this.toRender({p:["drawText",s,x,t+i/2,y,this.foreground,"center","middle"],t:"Labels"}),x+=g,s++}},this.setGenomeWireFrame=function(){var t=this.marginLeft+this.left,e=this.marginLeft+this.left+this.x,i=this.getCoordinateStep(),a=Math.floor(this.xAxisMin);this.getFontPt(this.featureNameFont);for("low"==this.genomeResolution&&(i*=5);t<=e;)t=this.marginLeft+this.left+(a-this.xAxisMin)*this.xAxisUnit,a%i==0&&("dotted"==this.xAxisTickStyle?this.toRender({p:["drawLine","dottedLine",t,this.marginTop+this.top,t,this.marginTop+this.top+this.y,this.wireColor,!1,"butt"],t:"Axes"}):this.toRender({p:["drawLine","line",t,this.marginTop+this.top,t,this.marginTop+this.top+this.y,this.wireColor,!1,"butt"],t:"Axes"})),a++},this.setGenomeTicks=function(){var t=this.marginLeft+this.left,e=this.marginLeft+this.left+this.x,i=this.marginLeft+this.left,a=this.getCoordinateStep(),s=Math.floor(this.xAxisMin),r=this.getFontPt(this.featureNameFont)/2;for("low"==this.genomeResolution&&(a*=5);t<=e;){if(t=this.marginLeft+this.left+(s-this.xAxisMin)*this.xAxisUnit,s%a==0){var n=this.measureText(s.toString(),this.featureNameFont);t>=i&&(this.toRender({p:["drawText",s.toString(),t,this.marginTop+this.top+this.y+this.margin+r,this.featureNameFont,this.axisTickColor,"center","middle"],t:"Axes"}),i=t+1.5*n)}s++}},this.setGenomeRightDimentions=function(){for(var t=0,e=0;e<this.data.tracks.length;e++){var i=this.data.tracks[e];if("dataframe"==i.type)for(var a=0;a<i.data.length;a++)for(var s=i.data[a],r=0;r<s.data.length;r++){var n=s.data[r].title?this.axisTitleFontSize+this.margin:this.margin,o=s.data[r].yAxis,h=s.data[r].side;if(o&&i.dataframe[o]&&h&&"right"==h){var l=s.data[r].maxValueStrLen+n;t=Math.max(t,l)}}}return 0==t?this.margin:t+5*this.margin},this.setGenomeLeftDimentions=function(){if(this.featureStaggered){for(var t=0,e=0;e<this.data.tracks.length;e++){if("dataframe"==(c=this.data.tracks[e]).type)for(var i=0;i<c.data.length;i++)for(var a=c.data[i],s=0;s<a.data.length;s++){var r=a.data[s].title?this.axisTitleFontSize+this.margin:this.margin,n=a.data[s].yAxis,o=a.data[s].side;if(n&&c.dataframe[n]&&o&&"left"==o){var h=a.data[s].maxValueStrLen+r;t=Math.max(t,h)}}}return t+5*this.margin}var l=[];for(e=0;e<this.data.tracks.length;e++){var c=this.data.tracks[e];for(i=0;i<c.data.length;i++){var d=c.data[i];l.push(d.label||d.name||d.id)}}return this.measureText(this.shortenText(this.getMaxText(l),this.maxFeatureStringLen),this.featureNameFont)+4*this.margin},this.setGenomeYDimentions=function(){this.bottom=this.margin+this.getFontPt(this.featureNameFont)+this.getCitationHeight(),(this.adjustAspectRatio||this.height<this.marginTop+this.top+this.y+this.bottom+this.marginBottom)&&(this.height=this.marginTop+this.top+this.y+this.bottom+this.marginBottom),this.resizeCanvas(),this.resizeViewport()},this.setGenomeYUnits=function(){for(var t=0;t<this.data.tracks.length;t++){var e=this.data.tracks[t],i=this.meta.data.tracks[t];if("dataframe"==e.type)for(var a=0;a<e.data.length;a++){for(var s=e.data[a],r=[],n=[],o=[],h=[],l=[],c=[],d=0;d<s.data.length;d++){var p=s.data[d].yAxis;p&&e.dataframe.hasOwnProperty(p)&&i.hasOwnProperty(p)&&(s.data[d].range=i[p].range,s.data[d].values=i[p].values,s.data[d].valuesStr=i[p].valuesStr,s.data[d].maxValueStr=i[p].maxValueStr,s.data[d].maxValueStrLen=i[p].maxValueStrLen,s.data[d].minAxisY=null!=s.data[d].setMinY?s.data[d].setMinY:Math.min(s.data[d].range[0],s.data[d].values[0]),s.data[d].maxAxisY=null!=s.data[d].setMaxY?s.data[d].setMaxY:Math.max(s.data[d].range[1],s.data[d].values[s.data[d].values.length-1]),s.data[d].units=(e.height||this.featureTypeDefault)/(1.05*(s.data[d].maxAxisY-s.data[d].minAxisY)),s.data[d].brew=this.getColorBrew(e.colorSpectrum||this.colorSpectrum,s.data[d].minAxisY,s.data[d].maxAxisY,s.colorSpectrumZeroValue||this.colorSpectrumZeroValue,s.colorSpectrumBreaks||this.colorSpectrumBreaks,!0)),"left"==s.data[d].side?(s.data[d].title&&(e.title=s.data[d].title),r.push(s.data[d].minAxisY,s.data[d].maxAxisY),null!=s.data[d].setMinY&&o.push(s.data[d].setMinY),null!=s.data[d].setMaxY&&h.push(s.data[d].setMaxY)):"right"==s.data[d].side&&(s.data[d].title&&(e.title2=s.data[d].title),n.push(s.data[d].minAxisY,s.data[d].maxAxisY),null!=s.data[d].setMinY&&l.push(s.data[d].setMinY),null!=s.data[d].setMaxY&&c.push(s.data[d].setMaxY))}if(r.length){e.range=this.range(r),o.length&&(e.range[0]=this.min(o)),h.length&&(e.range[1]=this.max(h)),e.values=this[this.axisAlgorithm](e.range[0],e.range[1],5,this.axisWilkinsonLoose);for(var g=[],u=0;u<e.values.length;u++)g.push(e.values[u].toString());e.maxValueStr=this.getMaxText(g),e.maxValueStrLen=this.measureText(e.maxValueStr,this.axisTickFont),e.minAxisY=o.length?e.range[0]:Math.min(e.range[0],e.values[0]),e.maxAxisY=h.length?e.range[1]:Math.max(e.range[1],e.values[e.values.length-1]),e.units=(e.height||this.featureTypeDefault)/(1.05*(e.maxAxisY-e.minAxisY)),e.brew=this.getColorBrew(e.colorSpectrum||this.colorSpectrum,e.minAxisY,e.maxAxisY,e.colorSpectrumZeroValue||this.colorSpectrumZeroValue,e.colorSpectrumBreaks||this.colorSpectrumBreaks,!0)}if(n.length){e.range2=this.range(n),l.length&&(e.range2[0]=this.min(l)),c.length&&(e.range2[1]=this.max(c)),e.values2=this[this.axisAlgorithm](e.range2[0],e.range2[1],5,this.axisWilkinsonLoose);for(g=[],u=0;u<e.values2.length;u++)g.push(e.values2[u].toString());e.maxValueStr2=this.getMaxText(g),e.maxValueStrLen2=this.measureText(e.maxValueStr2,this.axisTickFont),e.minAxisY2=o.length?e.range2[0]:Math.min(e.range2[0],e.values2[0]),e.maxAxisY2=h.length?e.range2[1]:Math.max(e.range2[1],e.values2[e.values2.length-1]),e.units2=(e.height||this.featureTypeDefault)/(1.05*(e.maxAxisY2-e.minAxisY2)),e.brew2=this.getColorBrew(e.colorSpectrum||this.colorSpectrum,e.minAxisY2,e.maxAxisY2,e.colorSpectrumZeroValue||this.colorSpectrumZeroValue,e.colorSpectrumBreaks||this.colorSpectrumBreaks,!0)}}else e.type.match(/bar|heatmap/)&&(e.range=i.range,e.values=i.values,e.valuesStr=i.valuesStr,e.minAxisY=null!=e.setMinY?e.setMinY:Math.min(e.range[0],e.values[0]),e.maxAxisY=null!=e.setMaxY?e.setMaxY:Math.max(e.range[1],e.values[e.values.length-1]),e.units=(e.height||this.featureTypeDefault)/(1.05*(e.maxAxisY-e.minAxisY)),e.brew=this.getColorBrew(e.colorSpectrum||this.colorSpectrum,e.minAxisY,e.maxAxisY,e.colorSpectrumZeroValue||this.colorSpectrumZeroValue,e.colorSpectrumBreaks||this.colorSpectrumBreaks,!0))}},this.setGenomeAxisUnits=function(){this.setAxisUnits("xAxis"),this.genomeResolution=this.xAxisUnit>this.sequenceFontSize?"high":5*this.xAxisUnit>this.sequenceFontSize?"medium":"low"},this.setGenomeXDimentions=function(){this.left=this.setGenomeLeftDimentions(),this.right=this.setGenomeRightDimentions(),this.featureStaggered,this.width?this.x=this.width-(this.marginLeft+this.left+this.right+this.marginRight):this.width=this.marginLeft+this.left+this.x+this.right+this.marginRight},this.setGenomeFontsColors=function(){this.trackNameFont=this.trackNameFontStyle+" "+this.trackNameFontSize+"px "+this.fontName,this.featureNameFont=this.featureNameFontStyle+" "+this.featureNameFontSize+"px "+this.fontName,this.sequenceFont=this.sequenceFontSize+"px "+this.fontName,this.wireColor.match(/,0.1\)$/)||(this.wireColor=this.wireColor.replace(/\)$/,",0.1)"))},this.drawGenome=function(){this.setGenomeFontsColors(),this.setGenomeYUnits(),this.setGenomeXDimentions(),this.setGenomeAxisUnits(),this.setGenomeSubtracks(),this.setGenomeYDimentions(),this.setGenomeWireFrame(),this.plotGenomeData(),this.drawGenomeLabels(),this.setGenomeTicks(),this.drawTitle()},this.initializeGenome=function(){this.drawGenome()},this.initializeGenome()},CanvasXpress.prototype.Circular=function(){this.drawCircularElement=function(t){if(this.circularDebuggingCounter||(this.circularDebuggingCounter=0),this.debug){var e=this.addColorTransparency(this.colors[this.circularDebuggingCounter%this.colors.length],.5,!0),i=-Math.PI,a=i+2*Math.PI;this.toRender({p:["drawShape","circle",this.cx,this.cy,2*this.currentRadius,2*this.currentRadius,!1,e,"open"],t:"Debug"}),this.toRender({p:["drawArcText",t,this.cx,this.cy,this.currentRadius,i,a,this.axisTickFont,e,!1,!1,!0],t:"Debug"}),this.circularDebuggingCounter++}},this.setCircularXYDimensions=function(){this.panningX||(this.panningX=0),this.panningY||(this.panningY=0),this.x=this.width-(this.marginLeft+this.left+this.right+this.marginRight),this.y=this.height-(this.marginTop+this.top+this.bottom+this.marginBottom),this.r=Math.min(this.x,this.y)/2,this.padX=this.x>this.y?(this.x-this.y)/2:0,this.padY=this.x>this.y?0:(this.y-this.x)/2,this.cx=this.marginLeft+this.left+this.r+this.padX+this.panningX,this.cy=this.marginTop+this.top+this.r+this.padY+this.panningY,this.r*=this.zoom,this.d=2*this.r},this.setCircularFonts=function(){if(this.autoScaleFont){var t=Math.min(this.width,this.height)*(1-this.percentAspectRatioPlotArea);this.setPropertyFontSize(t/2,"varLabelFont"),this.setPropertyFontSize(t/2,"varTitleFont"),this.setPropertyFontSize(t,"smpLabelFont"),this.setPropertyFontSize(t,"smpTitleFont"),this.setPropertyFontSize(t,"overlayFont"),this.setAxisFont("NA",t/1.33)}},this.getCircularLevelLabelLength=function(){return!this.showIdeogram&&this.segregateSamplesBy&&this.segregateSamplesBy.length&&"sunburst"!=this.circularType&&"bubble"!=this.circularType&&"perpendicular"==this.overlayLevelOrientation&&this.data.x&&this.data.x.hasOwnProperty(this.segregateSamplesBy[0])?this.meta.data.x[this.segregateSamplesBy[0]].maxLevLen:0},this.getCircularSampleLabelLength=function(){return this.showSampleNames&&"sunburst"!=this.circularType&&"bubble"!=this.circularType?"circular"==this.smpLabelOrientation&&this.rAxisIndex<0?this.getFontPt(this.smpLabelFont)+this.margin:this.meta.data.y.maxSmpChr>this.maxSmpStringLen?this.measureText(this.meta.data.y.maxSmpStr.substring(0,this.maxSmpStringLen),this.smpLabelFont)+this.margin:this.measureText(this.meta.data.y.maxSmpStr,this.smpLabelFont)+this.margin:0},this.getCircularVariableLabelLength=function(){return this.showVariableNames&&this.showIdeogram?this.meta.data.y.maxVarChr>this.maxVarStringLen?this.measureText(this.meta.data.y.maxVarStr.substring(0,this.maxVarStringLen),this.varLabelFont)+this.margin:this.measureText(this.meta.data.y.maxVarStr,this.varLabelFont)+this.margin:0},this.getCircularXAxisTickLength=function(){return this.measureText(this.xAxisMaxStrLength,this.axisTickFont)},this.getCircularRAxisTickLength=function(){return this.rAxisTickFormat?this.measureText(this.formatAxisValue(this.rAxisMax,"rAxis"),this.axisTickFont):this.measureText(this.rAxisMaxStrLength,this.axisTickFont)},this.getCircularRAxisPercentTickLength=function(){return this.rAxisPercentShow?this.measureText("100%",this.axisTickFont):0},this.getArcSegmentsCenter=function(){return"normal"!=this.circularType||!this.xAxisShow||this.circularArc<270?0:this.xAxisShow?1.5*this.margin+this.arcLengthToDegrees(this.r*this.circularCenterProportion*2,this.getCircularXAxisTickLength()):void 0},this.getCircularPercentLength=function(){var t=0;return!this.showIdeogram&&this.rAxisPercentShow&&(this.rAxisIndex>=0||"chord"==this.circularType)&&(t=this.getCircularRAxisPercentTickLength()+3*this.margin),t},this.getCircularScalesLength=function(t){var e=0;return this.showIdeogram?e+=this.axisTickFontSize+this.margin+2*this.margin*(t?0:1):(this.rAxisShow&&this.rAxisIndex>=0||"chord"==this.circularType)&&("circular"!=this.rAxisLabelOrientation&&"chord"!=this.circularType?e+=this.axisTickFontSize+4*this.margin:e+=this.getCircularRAxisTickLength()+4*this.margin),e},this.getCircularDendrogramLength=function(){return this.smpDendrogram&&this.showSmpDendrogram?this.dendrogramHeight+this.margin:0},this.getCircularIdeogramLength=function(){return this.showIdeogram?this.overlaysThickness+this.margin:0},this.getCircularOverlaysLength=function(){var t=0;if(this.segregateSamplesBy.length>0&&"sunburst"!=this.circularType&&"chord"!=this.circularType&&"bubble"!=this.circularType&&!this.showIdeogram&&(t+=this.overlaysThickness),this.showOverlays&&this.smpOverlays.length>0&&"sunburst"!=this.circularType&&"chord"!=this.circularType&&"bubble"!=this.circularType&&!this.showIdeogram)if(this.rAxisIndex<0)for(var e=0;e<this.smpOverlays.length;e++){var i=this.smpOverlays[e];this.rAxisIndex<0&&(t+="-"!=i?this.overlaysThickness:this.margin)}else if(this.showOverlays&&this.varOverlays.length>0&&"sunburst"!=this.circularType&&"chord"!=this.circularType&&"bubble"!=this.circularType&&this.showIdeogram)for(e=0;e<this.varOverlays.length;e++){i=this.varOverlays[e];this.rAxisIndex<0&&(t+="-"!=i?this.overlaysThickness:this.margin)}return t+(t>0?this.margin:0)},this.getCircularLabelsLength=function(){var t=0;return"sunburst"!=this.circularType&&"chord"!=this.circularType&&"bubble"!=this.circularType?this.showSampleNames&&this.rAxisIndex<0&&!this.showIdeogram?"circular"==this.smpLabelOrientation?t+=this.smpLabelFontSize+this.margin:t+=this.getCircularSampleLabelLength():this.showSampleNames&&this.rAxisIndex>=0&&!this.showIdeogram&&(t+=this.getCircularSampleLabelLength()+this.circularAnchorLength+this.margin):this.showIdeogram&&this.showVariableNames&&(t+=this.getCircularVariableLabelLength()+this.circularAnchorLength+this.margin),t},this.getCircularAnchorsLength=function(){var t=0;return(this.showIdeogram&&this.showVariableNames||!this.showIdeogram&&this.showSampleNames&&this.rAxisIndex>=0)&&(t+=this.circularAnchorLength+this.margin),t},this.getNonDataRingLength=function(){for(var t=this,e=this.cloneObject(this.ringsOrder),i=function(e){if(t.showIdeogram){if(t.data.z&&t.data.z.hasOwnProperty(e))return t.varOverlays.includes(e)||t.varOverlays.push(e),!0}else if(t.data.x&&t.data.x.hasOwnProperty(e))return t.smpOverlays.includes(e)||t.smpOverlays.push(e),!0;return!1},a=this.getCircularLevelLabelLength(),s=0;s<e.length;s++)switch(e[s]){case"-":a+=this.margin;break;case"percent":a+=this.getCircularPercentLength();break;case"chromosomes":case"scale":a+=this.getCircularScalesLength("chromosomes"==e[s]);break;case"dendrogram":a+=this.getCircularDendrogramLength();break;case"ideogram":a+=this.getCircularIdeogramLength();break;case"overlays":a+=this.getCircularOverlaysLength();break;case"labels":a+=this.getCircularLabelsLength();break;case"anchors":case"anchors2":a+=this.getCircularAnchorsLength();break;case"data":a+=0;break;default:i(e[s])&&(a+=this.overlaysThickness+this.margin)}return a},this.setIdeogram=function(){if(!CanvasXpress.chromosomes[this.ideogram].hasOwnProperty("max")){CanvasXpress.chromosomes[this.ideogram].max={};for(var t=CanvasXpress.chromosomes[this.ideogram],e=0;e<t.order.length;e++){var i=t.data[t.order[e]].length-1;t.max[t.order[e]]=t.data[t.order[e]][i][1]}}},this.setCircularSampleData=function(){if(this.circularSampleData=!this.showIdeogram&&{},this.circularSampleIndices=!this.showIdeogram&&[],!this.showIdeogram)for(var t=this,e={},i=function(i,a){for(var s=i,r=t.round(i,2),n=t.round((r+.01)%(2*Math.PI),2),o=t.round((r+.02)%(2*Math.PI),2),h=0;e[r]||e[n]||e[o];)if(i=(i+.01)%(2*Math.PI),r=t.round((r+.01)%(2*Math.PI),2),n=t.round((n+.01)%(2*Math.PI),2),o=t.round((o+.01)%(2*Math.PI),2),++h>8)return Number.NaN;return e[r]=a,e[n]=a,e[o]=a,i-s},a=this.data.y.smps,s=this.data.y.data,r=0;r<this.arcSegmentsSampleIndices.length;r++){var n=[];this.rAxisIndex>=0?(s=this.data.y.data[this.rAxisIndex],n=this.cloneObject(this.arcSegmentsSampleIndices[r]).sort((function(t,e){return s[t]-s[e]}))):n=this.arcSegmentsSampleIndices[r];for(var o="absolute"==this.circularDataPosition?this.rAxisUnit:this.arcSegmentsMax[r]*this.rAxisUnit/n.length,h=o/2,l=this.rAxisIndex>=0?this.rAxisUnit/2:0,c=0;c<n.length;c++){var d=a[n[c]];this.circularSampleIndices.push(n[c]);var p=this.rAxisUnit*(this.rAxisIndex>=0?s[n[c]]:c),g=(this.arcSegmentsDims[r][0]+p-l)%(2*Math.PI),u=i(g,d);this.circularSampleData[d]={idx:n[c],seg:r,raw:g,mod:isNaN(u)?Number.NaN:g+u,dat:[g,g+o,g+h]}}}},this.setCircularVariableData=function(){if(this.circularVariableData=!!this.showIdeogram&&{},this.circularVariableIndices=!!this.showIdeogram&&[],this.showIdeogram){for(var t=this,e={},i={},a=function(i,a){for(var s=i,r=t.round(i,2),n=t.round((r+.01)%(2*Math.PI),2),o=t.round((r+.02)%(2*Math.PI),2),h=0;e[r]||e[n]||e[o];)if(i=(i+.01)%(2*Math.PI),r=t.round((r+.01)%(2*Math.PI),2),n=t.round((n+.01)%(2*Math.PI),2),o=t.round((o+.01)%(2*Math.PI),2),++h>8)return Number.NaN;return e[r]=a,e[n]=a,e[o]=a,i-s},s=this.data.y,r=this.data.z,n=r[this.ideogramChromosome],o=[],h=0;h<n.length;h++)o.push(n[h].toString().match(/x/i)?23:n[h].toString().match(/y/i)?24:n[h]);var l=r[this.ideogramChromosomePosition],c=[];for(h=0;h<this.varIndices.length;h++){var d=this.varIndices[h];c.push(s.vars[d])}for(c=this.cloneObject(s.vars).sort((function(e,i){var a=t.getVariableIndices(e),s=t.getVariableIndices(i);return o[a]-o[s]||l[a]-l[s]})),h=0;h<c.length;h++){var p=c[h],g=this.getVariableIndices(p);this.circularVariableIndices.push(g);var u=this.arcSegmentsRangeMap[n[g]];i.hasOwnProperty(n[g])||(i[n[g]]=0),i[n[g]]++;var m=(this.arcSegmentsDims[u][0]+this.rAxisUnit*l[g])%(2*Math.PI),f=a(m,p);this.circularVariableData[p]={idx:g,seg:u,chr:n[g],raw:m,mod:isNaN(f)?Number.NaN:m+f}}Math.PI;for(var g in i){u=this.arcSegmentsRangeMap[g];var y="absolute"==this.circularDataPosition?this.rAxisUnit:this.arcSegmentsMax[u]*this.rAxisUnit/i[g],x=y/2,b=this.arcSegmentsDims[u][0],v=0;for(h=0;h<c.length;h++){p=c[h];var A=this.circularVariableData[p].idx,w="absolute"==this.circularDataPosition?b+this.rAxisUnit*l[A]:b+y*v;n[A]==g&&(this.circularVariableData[p].dat=[w,w+y,w+x],v++)}}}},this.setCircularArcSegments=function(){this.circularArc>360?this.circularArc=360:this.circularArc<90&&(this.circularArc=90),this.rAxisIndex=this.rAxis?this.getVariableIndices(this.rAxis):-1,this.arcSegmentsCenter=this.getArcSegmentsCenter();var t=this.circularArc<270?1:0,e="normal"!=this.circularType||this.circularArc<270?0:this.xAxisShow?(this.arcSegmentsSeparation+this.arcSegmentsCenter)*Math.PI/360:0;if(this.circularStart=1.5*Math.PI+e+this.radians(this.circularRotate),this.arcSegments=[],this.arcSegmentsSampleIndices=[],this.arcSegmentsRange=[],this.arcSegmentsMin=[],this.arcSegmentsMax=[],this.arcSegmentsRangeMap={},this.arcSegmentsDims=[],this.arcSegmentsNumber=0,this.rAxisUnit=1,this.maxRadiusFactor=1,this.maxRadiusFactorInv=1,"sunburst"==this.circularType){var i=this.createHierarchy(this.hierarchy);this.arcSegmentsMin.push(0),this.arcSegmentsMax.push(i[0].value),this.rAxisUnit=this.radians((this.circularArc-(this.arcSegmentsSeparation+this.arcSegmentsCenter))/i[0].value),this.arcSegmentsRange.push(i[0].value),this.circularSunburst=i}else if("chord"==this.circularType){var a=this.circularStart,s=this.circularChord;this.rAxisUnit=s.unit;for(var r=0;r<s.segments.length;r++)this.arcSegments.push(s.segments[r].value),this.arcSegmentsRangeMap[s.segments[r].name]=r,this.arcSegmentsMin[r]=0,this.arcSegmentsMax[r]=s.segments[r].value,this.arcSegmentsRange.push(s.segments[r].value),this.arcSegmentsDims.push([(a+s.segments[r].start)%(2*Math.PI),(a+s.segments[r].end)%(2*Math.PI)])}else if("bubble"==this.circularType)this.setCirclePack();else if(this.showIdeogram){this.setIdeogram();var n=CanvasXpress.chromosomes[this.ideogram],o=0,h=n.order.length;for(r=0;r<h;r++){s=n.order[r],n.data[s];var l=n.max[s];this.arcSegments.push(s),this.arcSegmentsRangeMap[s]=r,this.arcSegmentsMin[r]=0,this.arcSegmentsMax[r]=l,this.arcSegmentsRange[r]=l,o+=l}this.rAxisUnit=this.radians((this.circularArc-(this.arcSegmentsSeparation*(h-t)+this.arcSegmentsCenter))/o),this.arcSegmentsNumber=h;for(a=this.circularStart,r=0;r<h;r++){var c=this.rAxisUnit*this.arcSegmentsRange[r];this.arcSegmentsDims.push([a%(2*Math.PI),(a+c)%(2*Math.PI)]),a+=c+this.radians(this.arcSegmentsSeparation)}this.circularEnd=(a-this.radians(this.arcSegmentsSeparation))%(2*Math.PI)}else if(this.segregateSamplesBy.length){var d=[],p=[],g=this.getSmpAnnotations(this.segregateSamplesBy[0],this.smpIndices).sort();for(r=0;r<g.length;r++){this.arcSegments.push(g[r]),this.arcSegmentsRangeMap[g[r]]=r;var u=this.getSamplesByAnnotationLevel(this.segregateSamplesBy[0],g[r]);this.arcSegmentsSampleIndices.push(u),d=d.concat(u)}for(r=0;r<d.length;r++)this.hiddenSmps[d[r]]?p.push(!0):p.push(!1);if(this.smpIndices=d,this.hiddenSmps=p,this.rAxisIndex>=0){var m={},f=0;for(r=0;r<this.data.y.smps.length;r++){m[a=this.getMetadataValue(r,"x",this.segregateSamplesBy[0])]||(m[a]=[]),m[a].push(this.data.y.data[this.rAxisIndex][r])}for(var a in m){this.rAxisZero&&m[a].push(0);r=this.arcSegmentsRangeMap[a];var y=this.range(m[a]);this.arcSegmentsMin[r]=y[0],this.arcSegmentsMax[r]=y[1],this.rAxisZero?(f+=y[1],this.arcSegmentsRange[r]=y[1]):(f+=y[1]-y[0],this.arcSegmentsRange[r]=y[1]-y[0])}this.rAxisUnit=this.radians((this.circularArc-(this.arcSegmentsSeparation*(this.arcSegmentsSampleIndices.length-t)+this.arcSegmentsCenter))/f)}else{this.rAxisUnit=this.radians((this.circularArc-(this.arcSegmentsSeparation*(this.arcSegmentsSampleIndices.length-t)+this.arcSegmentsCenter))/this.data.y.smps.length);for(a=this.circularStart,r=0;r<this.arcSegmentsSampleIndices.length;r++)this.arcSegmentsMin[r]=0,this.arcSegmentsMax[r]=this.arcSegmentsSampleIndices[r].length,this.arcSegmentsRange[r]=this.arcSegmentsSampleIndices[r].length}a=this.circularStart;for(var x=0;x<g.length;x++){var b=g[x],v=(r=this.arcSegmentsRangeMap[b],this.rAxisIndex>=0?this.arcSegmentsRange[r]:this.arcSegmentsSampleIndices[r].length);c=this.rAxisUnit*v;this.arcSegmentsDims.push([a%(2*Math.PI),(a+c)%(2*Math.PI)]),a+=c+this.radians(this.arcSegmentsSeparation)}this.circularEnd=(a-this.radians(this.arcSegmentsSeparation))%(2*Math.PI)}else{if(this.arcSegments=!1,this.arcSegmentsSampleIndices=[this.smpIndices],this.rAxisIndex>=0){y=this.range(this.data.y.data[this.rAxisIndex]);this.arcSegmentsMin.push(y[0]),this.arcSegmentsMax.push(y[1]),this.rAxisZero?(this.rAxisUnit=this.radians((this.circularArc-(this.arcSegmentsSeparation+this.arcSegmentsCenter))/y[1]),this.arcSegmentsRange.push(y[1])):(this.rAxisUnit=this.radians((this.circularArc-(this.arcSegmentsSeparation+this.arcSegmentsCenter))/(y[1]-y[0])),this.arcSegmentsRange.push(y[1]-y[0]))}else{this.rAxisUnit=this.radians((this.circularArc-(this.arcSegmentsSeparation+this.arcSegmentsCenter))/this.data.y.smps.length);for(a=this.circularStart,r=0;r<this.arcSegmentsSampleIndices.length;r++)this.arcSegmentsMin[r]=0,this.arcSegmentsMax[r]=this.arcSegmentsSampleIndices[r].length,this.arcSegmentsRange[r]=this.arcSegmentsSampleIndices[r].length}c=this.rAxisUnit*(this.rAxisIndex>=0?this.arcSegmentsRange[0]:this.smpIndices.length);this.arcSegmentsDims.push([this.circularStart%(2*Math.PI),(this.circularStart+c)%(2*Math.PI)]),this.circularEnd=(this.circularStart+c)%(2*Math.PI)}if(this.arcSegmentsNumber=this.showIdeogram?CanvasXpress.chromosomes[this.ideogram].order.length:"chord"==this.circularType?this.circularChord.segments.length:this.arcSegmentsSampleIndices.length,this.currentRadius=1*this.r,this.arcSegmentsRadius&&this.arcSegmentsRadius.length>0){for(r=this.arcSegmentsRadius.length;r<this.arcSegmentsNumber;r++)this.arcSegmentsRadius.push(1);this.maxRadiusFactor=this.max(this.arcSegmentsRadius)}else for(r=0;r<this.arcSegmentsNumber;r++)this.arcSegmentsRadius.push(1);if(1!=this.maxRadiusFactor)for(r=0;r<this.arcSegmentsNumber;r++)this.arcSegmentsRadius[r]/=this.maxRadiusFactor;this.maxRadiusFactorInv=1/this.maxRadiusFactor,this.setCircularVariableData(),this.setCircularSampleData()},this.setCircularRings=function(){this.ringsVarIndices=[],this.ringsSmpIndices=[],this.ringLength=[],this.ringMap={};var t=["percent","scale","dendrogram","ideogram","overlays","labels","anchors","data"];if(this.rAxisIndex>=0&&this.ringsVarIndices.push([this.rAxisIndex]),"sunburst"==this.circularType||"bubble"==this.circularType){var e=this.hierarchyVar?this.getVariableIndices(this.hierarchyVar):0;this.hierarchyVarIndex=e>=0?e:0,this.ringsVarIndices.push(this.hierarchyVarIndex),this.ringGraphWeight[0]=1,this.ringsOrder=t,this.ringNumber=1}else if("chord"==this.circularType)this.ringsVarIndices.push(this.varIndices),this.ringGraphWeight[0]=1,this.ringsOrder=t,this.ringNumber=1;else{var i,a;if(this.ringsOrder.length>0){if(this.showIdeogram&&this.segregateSamplesBy.length>0?a=this.meta.data.x[this.segregateSamplesBy[0]].order:this.segregateVariablesBy.length>0&&(a=this.meta.data.z[this.segregateVariablesBy[0]].order),a)for(e=0;e<this.ringsOrder.length;e++)a.hasOwnProperty(this.ringsOrder[e])&&(i||(i={}),i[this.ringsOrder[e]]=!0)}else this.ringsOrder=t;if(this.showIdeogram)if(this.segregateSamplesBy.length>0){var s={};for(e=0;e<this.data.x[this.segregateSamplesBy[0]].length;e++){s[n=this.getMetadataValue(e,"x",this.segregateSamplesBy[0])]||(i?i.hasOwnProperty(n)&&(this.ringMap[n]=this.ringsSmpIndices.length,this.ringsSmpIndices.push(this.getSamplesByAnnotationLevel(this.segregateSamplesBy[0],n))):(this.ringMap[n]=this.ringsSmpIndices.length,this.ringsSmpIndices.push(this.getSamplesByAnnotationLevel(this.segregateSamplesBy[0],n))),s[n]=!0)}}else{var r=[];for(e=0;e<this.smpIndices.length;e++)r.push(this.smpIndices[e]);this.ringsSmpIndices.push(r)}else if(this.segregateVariablesBy.length>0)for(s={},e=0;e<this.data.z[this.segregateVariablesBy[0]].length;e++){var n;if(!(this.rAxisIndex>=0&&e==this.rAxisIndex))s[n=this.getMetadataValue(e,"z",this.segregateVariablesBy[0])]||(i?i.hasOwnProperty(n)&&(this.ringMap[n]=this.ringsVarIndices.length,this.ringsVarIndices.push(this.getVariablesByAnnotationLevel(this.segregateVariablesBy[0],n))):(this.ringMap[n]=this.ringsVarIndices.length,this.ringsVarIndices.push(this.getVariablesByAnnotationLevel(this.segregateVariablesBy[0],n))),s[n]=!0)}else{for(r=[],e=0;e<this.varIndices.length;e++)this.rAxisIndex>=0&&e==this.rAxisIndex||r.push(this.varIndices[e]);this.ringsVarIndices.push(r)}if(this.ringNumber=this.showIdeogram?this.ringsSmpIndices.length:this.ringsVarIndices.length,this.ringGraphType.length<this.ringNumber)for(e=this.ringGraphType.length;e<this.ringNumber;e++)this.ringGraphType.push(this.showIdeogram?"heatmap":"radar"==this.circularType?"line":"dot");if(this.ringGraphWeight&&this.ringGraphWeight.length>0){for(;this.ringGraphWeight.length!=this.ringNumber;)this.ringGraphWeight.length>this.ringNumber?this.ringGraphWeight.pop():this.ringGraphWeight.push(this.ringGraphWeight[this.ringGraphWeight.length-1]);for(e=0;e<this.ringNumber;e++)this.rAxisShow&&this.rAxisIndex>=0&&e==this.rAxisIndex&&(this.ringGraphWeight[e]=0)}else{this.ringGraphWeight=[];for(e=0;e<this.ringNumber;e++)this.rAxisShow&&this.rAxisIndex>=0&&e==this.rAxisIndex?this.ringGraphWeight.push(0):this.ringGraphWeight.push(1)}var o=0;for(e=0;e<this.ringGraphWeight.length;e++){if(this.showIdeogram){if(this.ringsSmpIndices[e].length<1)continue}else if(this.ringsVarIndices[e].length<1)continue;o+=parseFloat(this.ringGraphWeight[e])}0==o&&(o=1);for(e=0;e<this.ringGraphWeight.length;e++)this.ringGraphWeight[e]/=o}var h=this.getNonDataRingLength(),l=this.circularCenterProportion*this.r,c=this.ringSeparation*(this.ringNumber-(this.rAxisIndex>=0?2:1)),d=this.r-(h+l+c);for(e=0;e<this.ringNumber;e++)this.showIdeogram?this.ringsSmpIndices[e].length<1?this.ringLength.push(0):this.ringLength.push(this.ringGraphWeight[e]*d):this.ringsVarIndices[e].length<1?this.ringLength.push(0):this.ringLength.push(this.ringGraphWeight[e]*d)},this.renderCircularPlot=function(){var t=this,e=this.cloneObject(this.ringsOrder),i=function(e){return t.showIdeogram?t.varOverlays.includes(e):t.smpOverlays.includes(e)},a=function(e){var i=t.showIdeogram?t.meta.data.x[t.segregateSamplesBy[0]]:t.meta.data.z[t.segregateVariablesBy[0]];return i.levels.includes(e)&&i.order&&i.order.hasOwnProperty(e)};this.ringInfo=[];for(var s=0;s<e.length;s++){switch(e[s]){case"-":this.currentRadius-=this.margin;break;case"percent":this.drawCircularPercentRadialAxis();break;case"chromosomes":case"scale":this.drawCircularRadialAxis("chromosomes"==e[s]);break;case"dendrogram":this.drawCircularDendrogram();break;case"ideogram":this.drawCircularIdeogram();break;case"overlays":this.drawCircularOverlays();break;case"labels":this.drawCircularVariableLabels(),this.drawCircularSampleLabels();break;case"anchors":case"anchors2":this.drawCircularAnchors(e[s]);break;case"data":switch(this.circularType){case"sunburst":this.drawCircularSunburst();break;case"chord":this.drawCircularChord();break;case"bubble":this.drawCircularBubble();break;default:this.drawCircularData()}break;default:i(e[s])?(this.showIdeogram?this.drawCircularVariableOverlay(e[s]):this.drawCircularSampleOverlay(e[s]),this.currentRadius-=this.margin):a(e[s])&&this.drawCircularDataRing(e[s])}this.ringInfo.push(this.currentRadius)}this.drawCircularHandles()},this.drawCircularHandles=function(){if("sunburst"!=this.circularType&&"chord"!=this.circularType&&"bubble"!=this.circularType&&"radar"!=this.circularType)for(var t=this.arcSegmentsRange.length-1,e=this.arcSegmentsDims[t][1]%(2*Math.PI),i=this.arcSegmentsDims[0][0]%(2*Math.PI),a=this.arcSegmentsRadius[0],s=0;s<this.ringInfo.length;s++){var r,n;0==s?(r=Math.max(0,this.r-(this.ringInfo[s]+this.margin)),n="Ring:"+s+":Drag "+this.ringsOrder[s]+" in",this.toRender({p:["drawShape","arc2",this.cx,this.cy,r,this.r*a,!1,"rgba(0,0,0,0)","open",!1,!1,!1,!1,e,i],a:this.getShapeArea("arc2",this.cx,this.cy,r,this.r*a,!1,"rgba(0,0,0,0)","open",!1,!1,!1,!1,e,i),i:[n],t:"Axes"})):(r=Math.max(0,this.ringInfo[s-1]-(this.ringInfo[s]+this.margin)),n="Ring:"+s+":Drag "+this.ringsOrder[s]+" in/out",this.toRender({p:["drawShape","arc2",this.cx,this.cy,r,this.ringInfo[s-1]*a,!1,"rgba(0,0,0,0)","open",!1,!1,!1,!1,e,i],a:this.getShapeArea("arc2",this.cx,this.cy,r,this.ringInfo[s-1]*a,!1,"rgba(0,0,0,0)","open",!1,!1,!1,!1,e,i),i:[n],t:"Axes"}))}},this.drawCircularPercentRadialAxis=function(){if(!this.showIdeogram&&this.rAxisPercentShow&&(this.rAxisIndex>=0||"chord"==this.circularType)){this.drawCircularElement("drawCircularPercentRadialAxis");var t=this.getCircularRAxisPercentTickLength(),e="1px "+this.fontName;this.currentRadius-="outside"==this.circularScalesAlign?2*this.margin:t;for(var i=this.currentRadius-(("outside"==this.circularScalesAlign?3*-this.margin:0)+1*this.margin),a=this.currentRadius-(("outside"==this.circularScalesAlign?3*-this.margin:0)+2*this.margin),s=0;s<this.arcSegmentsRange.length;s++)for(var r=this.arcSegmentsRadius[s],n=this.arcSegmentsDims[s][0],o=this.arcSegmentsDims[s][1]-this.arcSegmentsDims[s][0]<0?this.arcSegmentsDims[s][1]-this.arcSegmentsDims[s][0]+2*Math.PI:this.arcSegmentsDims[s][1]-this.arcSegmentsDims[s][0],h=o<.003?[.5]:o<.03?[0,1]:o<.15?[0,.5,1]:[0,.2,.4,.6,.8,1],l=o<.003?1:o<.03?.2:o<.15?.1:.02,c=o<.003||o<.03?1:o<.15?5:10,d=0;d<h.length;d++){for(var p=(n+o*h[d])%(2*Math.PI),g=100*h[d]+"%",u=this.currentRadius*r*Math.cos(p)+this.cx,m=this.currentRadius*r*Math.sin(p)+this.cy,f=0;f<c;f++)if(h[d]<1||0==f){var y=p+f*l*o,x=i*r*Math.cos(y)+this.cx,b=i*r*Math.sin(y)+this.cy,v=a*r*Math.cos(y)+this.cx,A=a*r*Math.sin(y)+this.cy;this.toRender({p:["drawLine","lineR",x,b,v,A,this.rAxisTickColor,this.outlineWidth],b:[this.cx,this.cy],t:"Axes"})}p>=1.5*Math.PI||p<=Math.PI/2?this.toRender({p:["drawText",g,u,m,this.axisTickFont,this.axisTickColor,"outside"==this.circularScalesAlign?"right":"left","middle",p],b:[this.cx,this.cy,e],t:"Axes"}):this.toRender({p:["drawText",g,u,m,this.axisTickFont,this.axisTickColor,"outside"==this.circularScalesAlign?"left":"right","middle",p+Math.PI],b:[this.cx,this.cy,e],t:"Axes"})}this.currentRadius-="outside"==this.circularScalesAlign?t+this.margin:3*this.margin}},this.drawCircularRadialAxis=function(t){if(this.showIdeogram){this.drawCircularElement("drawCircularRadialAxis");var e="outside"==this.circularScalesAlign,i=t?0:1;this.currentRadius-=e?2*this.margin*i:this.axisTickFontSize;for(var a=this.currentRadius-((e?3*-this.margin:this.margin)+this.margin*(e?1:0)),s=this.currentRadius-((e?3*-this.margin:this.margin)+this.margin*(e?2:1)),r=0;r<this.arcSegmentsRange.length;r++){var n=this.arcSegmentsRadius[r],o=this.arcSegmentsDims[r][0],h=this.arcSegments[r].toString(),l=(this.arcSegmentsDims[r][0]+this.rAxisUnit*this.arcSegmentsRange[r]*.5)%(2*Math.PI),c=e?0:this.axisTickFontSize;if(this.toRender({p:["drawArcText",h,this.cx,this.cy,this.currentRadius*n+c,l-this.rAxisUnit*this.axisTickFontSize/7,this.rAxisUnit*this.axisTickFontSize/3.5,this.axisTickFont,this.rAxisTickColor,!1,!1,!0],a:this.getArcTextArea(h,this.cx,this.cy,this.currentRadius*n+c,l-this.rAxisUnit*this.axisTickFontSize/7,this.rAxisUnit*this.axisTickFontSize/3.5,this.axisTickFont,this.rAxisTickColor,!1,!1,!0),i:["ChrLbl"+r],t:"Axes"}),!t)for(var d=[0,.2,.4,.6,.8,1],p=0;p<d.length;p++){var g=(o+this.arcSegmentsRange[r]*d[p]*this.rAxisUnit)%(2*Math.PI),u=a*n*Math.cos(g)+this.cx,m=a*n*Math.sin(g)+this.cy,f=s*n*Math.cos(g)+this.cx,y=s*n*Math.sin(g)+this.cy;this.toRender({p:["drawLine","lineR",u,m,f,y,this.rAxisTickColor,this.outlineWidth],b:[this.cx,this.cy],t:"Axes"})}}this.currentRadius-=t?e?this.axisTickFontSize+this.margin:this.margin:e?this.axisTickFontSize+this.margin:3*this.margin}else if(this.rAxisShow&&this.rAxisIndex>=0||"chord"==this.circularType)if(this.drawCircularElement("drawCircularRadialAxis"),"circular"!=this.rAxisLabelOrientation&&"chord"!=this.circularType){var x=this.rAxisUnit;e="outside"==this.circularScalesAlign;this.currentRadius-=e?3*this.margin:this.axisTickFontSize;a=this.currentRadius-((e?3*-this.margin:this.margin)+this.margin*(e?2:0));var b=this.currentRadius-((e?3*-this.margin:this.margin)+1*this.margin);for(s=this.currentRadius-((e?3*-this.margin:this.margin)+this.margin*(e?0:2)),r=0;r<this.arcSegmentsRange.length;r++){var v=this.arcSegmentsRadius[r],A=this.arcSegmentsDims[r][0],w=this.arcSegmentsDims[r][1]-this.arcSegmentsDims[r][0]<0?this.arcSegmentsDims[r][1]-this.arcSegmentsDims[r][0]+2*Math.PI:this.arcSegmentsDims[r][1]-this.arcSegmentsDims[r][0],C=((d=this[this.axisAlgorithm](this.arcSegmentsMin[r],this.arcSegmentsMax[r],this.rAxisTicks,this.axisWilkinsonLoose))[1]-d[0])/this.rAxisTicks;for(p=0;p<d.length;p++)if(d[p]<=this.arcSegmentsMax[r]){var T=this.rAxisTickFormat?this.measureText(this.formatAxisValue(d[p],"rAxis"),this.axisTickFont):this.measureText(d[p].toString(),this.axisTickFont),S=(A+this.rAxisUnit*d[p])%(2*Math.PI),D=this.rAxisTickFormat?this.formatAxisValue(d[p],"rAxis"):d[p],M=e?0:this.axisTickFontSize/2+this.margin;if(this.rAxisMajorTicks&&(w>.15||p==parseInt(d.length/2))){u=a*v*Math.cos(S)+this.cx,m=a*v*Math.sin(S)+this.cy,f=s*v*Math.cos(S)+this.cx,y=s*v*Math.sin(S)+this.cy;this.toRender({p:["drawLine","lineR",u,m,f,y,this.rAxisTickColor,this.outlineWidth],b:[this.cx,this.cy],t:"Axes"})}else if(this.rAxisMajorTicks&&w>.003){u=b*v*Math.cos(S)+this.cx,m=b*v*Math.sin(S)+this.cy,f=s*v*Math.cos(S)+this.cx,y=s*v*Math.sin(S)+this.cy;this.toRender({p:["drawLine","lineR",u,m,f,y,this.rAxisTickColor,this.outlineWidth],b:[this.cx,this.cy],t:"Axes"})}if(this.rAxisMinorTicks&&w>.03)for(var k=1;k<this.rAxisTicks;k++)if(d[p]+C*k<this.arcSegmentsMax[r]){var L=(A+this.rAxisUnit*(d[p]+C*k))%(2*Math.PI);u=b*v*Math.cos(L)+this.cx,m=b*v*Math.sin(L)+this.cy,f=s*v*Math.cos(L)+this.cx,y=s*v*Math.sin(L)+this.cy;this.toRender({p:["drawLine","lineR",u,m,f,y,this.rAxisTickColor,this.outlineWidth],b:[this.cx,this.cy],t:"Axes"})}(w>.15||p==parseInt(d.length/2))&&this.toRender({p:["drawArcText",D,this.cx,this.cy,this.currentRadius*v+M,S-x*T/7,x*T/3.5,this.axisTickFont,this.rAxisTickColor,!1,!1,!0],a:this.getArcTextArea(D,this.cx,this.cy,this.currentRadius*v+M,S-x*T/7,x*T/3.5,this.axisTickFont,this.rAxisTickColor,!1,!1,!0),i:["RadialSeg:"+r+":"+p],t:"Axes"})}}this.currentRadius-="outside"==this.circularScalesAlign?this.axisTickFontSize+this.margin:4*this.margin}else{var I=this.getCircularRAxisTickLength();e="outside"==this.circularScalesAlign;this.currentRadius-=e?3*this.margin:I-this.margin;a=this.currentRadius-((e?3*-this.margin:this.margin)+this.margin*(e?2:0)),b=this.currentRadius-((e?3*-this.margin:this.margin)+1*this.margin),s=this.currentRadius-((e?3*-this.margin:this.margin)+this.margin*(e?0:2));var B="1px "+this.fontName;for(r=0;r<this.arcSegmentsRange.length;r++)for(v=this.arcSegmentsRadius[r],A=this.arcSegmentsDims[r][0]+2*Math.PI,C=((d=this[this.axisAlgorithm](this.arcSegmentsMin[r],this.arcSegmentsMax[r],this.rAxisTicks,this.axisWilkinsonLoose))[1]-d[0])/this.rAxisTicks,p=0;p<d.length;p++)if(d[p]<=this.arcSegmentsMax[r]){S=(A+this.rAxisUnit*d[p])%(2*Math.PI),D=this.rAxisTickFormat?this.formatAxisValue(d[p],"rAxis"):d[p];var N=this.currentRadius*v*Math.cos(S)+this.cx,F=this.currentRadius*v*Math.sin(S)+this.cy;if(this.rAxisMinorTicks)for(k=0;k<this.rAxisTicks;k++)if(d[p]+C*k<this.arcSegmentsMax[r]){L=(A+this.rAxisUnit*(d[p]+C*k))%(2*Math.PI),u=b*v*Math.cos(L)+this.cx,m=b*v*Math.sin(L)+this.cy,f=s*v*Math.cos(L)+this.cx,y=s*v*Math.sin(L)+this.cy;this.toRender({p:["drawLine","lineR",u,m,f,y,this.rAxisTickColor,this.outlineWidth],b:[this.cx,this.cy],t:"Axes"})}if(this.rAxisMajorTicks){u=a*v*Math.cos(S)+this.cx,m=a*v*Math.sin(S)+this.cy,f=s*v*Math.cos(S)+this.cx,y=s*v*Math.sin(S)+this.cy;this.toRender({p:["drawLine","lineR",u,m,f,y,this.rAxisTickColor,this.outlineWidth],b:[this.cx,this.cy],t:"Axes"})}S>=1.5*Math.PI||S<=Math.PI/2?this.toRender({p:["drawText",D,N,F,this.axisTickFont,this.axisTickColor,e?"right":"left","middle",S],b:[this.cx,this.cy,B],t:"Axes"}):this.toRender({p:["drawText",D,N,F,this.axisTickFont,this.axisTickColor,e?"left":"right","middle",S+Math.PI],b:[this.cx,this.cy,B],t:"Axes"})}this.currentRadius-="outside"==this.circularScalesAlign?I+this.margin:4*this.margin}},this.drawCircularDendrogram=function(){if(this.smpDendrogram&&this.showSmpDendrogram){this.drawCircularElement("drawCircularDendrogram");var t=this,e=this.smpDendrogram,i=this.dendrogramHeight/e.max,a=this.rAxisUnit/2,s=this.arcSegmentsDims[0][0],r=this.arcSegmentsSampleIndices[0].length-1,n=this.arcSegmentsDims[0][1]-this.rAxisUnit-s;n<0&&(n+=2*Math.PI);var o=n/r,h=this.currentRadius-this.dendrogramHeight,l="inside"!=t.smpDendrogramPosition,c=0,d=function(e){if(e.children)for(var r=0;r<e.children.length;r++)d(e.children[r]),e.children[r].children&&(e.children[r].color=e.children[r].children[0].color);else e.color=t.getDendrogramColor(!1,e.name);null!=e.mid&&(e.r=l?t.currentRadius-i*e.depth:h+i*e.depth,e.p=e.mid*o+s+a,e.x=t.cx+e.r*Math.cos(e.p),e.y=t.cy+e.r*Math.sin(e.p))},p=function(e,i){if(e.children){for(var a=e.x,s=e.y,r=e.color,n=e.children[0].p,o=e.children[0].r,d=t.cx+o*Math.cos(e.p),g=t.cy+o*Math.sin(e.p),u=t.toRender({p:["drawLine","lineR",a,s,d,g,r,!1,"butt"],a:t.getLineArea("lineR",a,s,d,g,r,!1,"butt"),i:["smpDendrogram:"+c+++":"+e.nodeId],t:"smpDendrogram"}),m=0;m<e.children.length;m++){var f=e.children[m].x,y=e.children[m].y,x=e.children[m].p,b=e.children[m].r,v=e.children[m].color;t.toRender({p:["drawLine","arc",t.cx,t.cy,b,b,v,!1,!1,n,x],a:t.getLineArea("arc",t.cx,t.cy,b,b,v,!1,!1,n,x),i:["smpDendrogram:"+c+++":"+e.nodeId],g:u,t:"smpDendrogram"}),n=x,p(e.children[m],u)}if(null!=e.nodeId&&e.children.length>1){var A=e.name?e.name:"",w=e.depth;t.toRender({p:["drawShape","circle",f,y,2*t.margin,2*t.margin,"rgba(0,0,0,0)","rgba(0,0,0,0)"],a:t.getLineArea("circle",f,y,2*t.margin,2*t.margin,"rgba(0,0,0,0)","rgba(0,0,0,0)"),i:[e.nodeId+"-"+w+"-smpDendrogram-"+A],t:"smpDendrogram"})}}else{a=e.x,s=e.y,r=e.color,o=l?t.currentRadius-t.dendrogramHeight:h+t.dendrogramHeight,d=t.cx+o*Math.cos(e.p),g=t.cy+o*Math.sin(e.p);t.toRender({p:["drawLine","lineR",a,s,d,g,r,!1,"butt"],a:t.getLineArea("lineR",a,s,d,g,r,!1,"butt"),i:["smpDendrogram:"+c+++":"+e.nodeId],g:i,t:"smpDendrogram"})}};this.toRender({p:["disableGradientTransparencyShadow"],t:"smpDendrogram"}),d(this.smpDendrogram),p(this.smpDendrogram),this.toRender({p:["enableGradientTransparencyShadow"],t:"smpDendrogram"}),this.currentRadius-=this.dendrogramHeight+this.margin}},this.drawCircularOverlayLabel=function(t){if(360==this.circularArc&&this.xAxisShow){var e=(this.overlaysThickness-this.overlayFontSize)/2,i=this.currentRadius*this.arcSegmentsRadius[0];this.toRender({p:["drawArcText",t,this.cx,this.cy,i-e,this.circularEnd,this.circularStart-this.circularEnd,this.overlayFont,this.overlayFontColor,!1,!1,!0],t:"Labels"})}},this.drawCircularIdeogram=function(){if(this.showIdeogram){this.drawCircularElement("drawCircularIdeogram");for(var t=CanvasXpress.chromosomes[this.ideogram],e=function(t){switch(t){case"gneg":return"rgb(255,255,255)";case"gpos25":return"rgb(181,181,181)";case"gpos50":return"rgb(128,128,128)";case"gpos75":return"rgb(63,63,63)";case"gpos100":return"rgb(0,0,0)";case"acen":return"rgb(255,0,0)";case"stalk":return"rgb(0,0,255)";case"gvar":return"rgb(0,255,0)";default:return"rgb(255,255,0)"}},i=this.circularStart%(2*Math.PI),a=0;a<this.arcSegmentsRange.length;a++){for(var s=this.arcSegments[a].toString(),r=[i,i+this.arcSegmentsRange[this.arcSegmentsRangeMap[s]]*this.rAxisUnit],n=this.currentRadius*this.arcSegmentsRadius[a],o=0;o<t.data[s].length;o++){var h=t.data[s][o],l=(h[1]-h[0])*this.rAxisUnit,c=e(h[3]);this.toRender({p:["drawShape","arc2",this.cx,this.cy,this.overlaysThickness,n,c,c,!1,!1,this.outlineWidth,!1,!1,i,i+l],t:"smpOverlays"}),i+=l}this.toRender({p:["drawShape","arc2",this.cx,this.cy,this.overlaysThickness,n,!1,"black","open",!1,this.outlineWidth,!1,!1,r[0],r[1]],a:this.getShapeArea("arc2",this.cx,this.cy,this.overlaysThickness,n,!1,"black","open",!1,this.outlineWidth,!1,!1,r[0],r[1]),i:["Chr - "+s],t:"smpOverlays"}),i+=this.radians(this.arcSegmentsSeparation)}this.drawCircularOverlayLabel(this.ideogram),this.currentRadius-=this.overlaysThickness+this.margin}},this.getCircularOverlayColor=function(t,e){return"Numeric"==t.type?this.getColorForValue(t.colorBrew,e):t.colors[t.order[e]]},this.getCircularSampleOverlayIndex=function(t){for(var e=0;e<this.smpOverlays.length;e++)if(this.smpOverlays[e]==t)return e;return-1},this.getCircularVariableOverlayIndex=function(t){for(var e=0;e<this.varOverlays.length;e++)if(this.varOverlays[e]==t)return e;return-1},this.drawCircularSampleSegregation=function(){if(this.segregateSamplesBy.length>0&&"sunburst"!=this.circularType&&"chord"!=this.circularType&&"bubble"!=this.circularType&&!this.showIdeogram){this.drawCircularElement("drawCircularSampleSegregation");for(var t=this.getCircularLevelLabelLength(),e=this.meta.data,i=this.circularStart%(2*Math.PI),a=this.segregateSamplesBy[0],s=(this.overlaysThickness-this.overlayFontSize)/2,r=this.rAxisIndex>=0&&360==this.circularArc?.033:0,n=this.getSmpAnnotations(a,this.smpIndices).sort(),o=0;o<n.length;o++){var h=this.arcSegmentsRadius[o],l=this.currentRadius*h,c=n[o],d=this.arcLengthToRadians(l/2,this.measureText(c,this.overlayFont)),p=this.getCircularOverlayColor(e.x[a],c),g=this.rAxisIndex>=0?this.arcSegmentsRange[this.arcSegmentsRangeMap[c]]:this.getSamplesByAnnotationLevel(a,c).length,u=this.rAxisUnit*g,m=this.isHidden(!1,!1,"Property:"+a+":"+n[o]+":x");if(this.toRender({p:["drawShape","arc2",this.cx,this.cy,this.overlaysThickness,l-t,p,p,!1,!1,this.outlineWidth,!1,!1,i-r,i+u+r],a:this.getShapeArea("arc2",this.cx,this.cy,this.overlaysThickness,l-t,p,p,!1,!1,this.outlineWidth,!1,!1,i-r,i+u+r),i:["SmpOvrSgr-0-"+c],t:"smpOverlays",h:m}),"perpendicular"==this.overlayLevelOrientation){var f=(i-r+u/2)%(2*Math.PI),y=(l+this.margin-t)*Math.cos(f)+this.cx,x=(l+this.margin-t)*Math.sin(f)+this.cy;f>1.5*Math.PI||f<Math.PI/2?this.toRender({p:["drawText",c,y,x,this.overlayFont,this.overlayFontColor,"left","middle",f],a:this.getTextArea(c,y,x,this.overlayFont,this.overlayFontColor,"left","middle",f),i:["SmpOvrSgrLab-0-"+c],t:"smpOverlays",h:m}):this.toRender({p:["drawText",c,y,x,this.overlayFont,this.overlayFontColor,"right","middle",f+Math.PI],a:this.getTextArea(c,y,x,this.overlayFont,this.overlayFontColor,"right","middle",f+Math.PI),i:["SmpOvrSgrLab-0-"+c],t:"smpOverlays",h:m})}else d<u&&this.toRender({p:["drawArcText",c,this.cx,this.cy,l-s,i,u,this.overlayFont,this.overlayFontColor,!1,!1,!0],a:this.getArcTextArea(c,this.cx,this.cy,l-s,i,u,this.overlayFont,this.overlayFontColor,!1,!1,!0),i:["SmpOvrSgrLab-0-"+c],t:"smpOverlays",h:m});i+=u+this.radians(this.arcSegmentsSeparation)}return this.drawCircularOverlayLabel(a),this.currentRadius-=this.overlaysThickness+t,!0}},this.drawCircularSampleOverlay=function(t){if(this.segregateSamplesBy&&this.segregateSamplesBy.length&&t==this.segregateSamplesBy[0])this.drawCircularSampleSegregation();else if(this.showOverlays&&this.smpOverlays.length>0&&"sunburst"!=this.circularType&&"chord"!=this.circularType&&"bubble"!=this.circularType&&!this.showIdeogram&&this.rAxisIndex<0&&(this.data.x&&this.data.x[t]||"-"==t)){this.drawCircularElement("drawCircularSampleOverlay");var e=this.meta.data,i=this.circularStart%(2*Math.PI),a=this.rAxisUnit,s=(this.overlaysThickness,this.overlayFontSize,this.getCircularSampleOverlayIndex(t));if("-"!=t){for(var r=0;r<this.arcSegmentsSampleIndices.length;r++){for(var n=this.arcSegmentsRadius[r],o=this.currentRadius*n,h=0;h<this.arcSegmentsSampleIndices[r].length;h++){var l=this.getMetadataValue(this.arcSegmentsSampleIndices[r][h],"x",t),c=this.getCircularOverlayColor(e.x[t],l);this.toRender({p:["drawShape","arc2",this.cx,this.cy,this.overlaysThickness*n,o,c,c,!1,!1,this.outlineWidth,!1,!1,i,i+a],a:this.getShapeArea("arc2",this.cx,this.cy,this.overlaysThickness*n,o,c,c,!1,!1,this.outlineWidth,!1,!1,i,i+a),i:["SmpOvr-"+this.arcSegmentsSampleIndices[r][h]+"-"+s],t:"smpOverlays",h:this.isHidden(!1,!1,"Property:"+t+":"+l+":x")}),i+=a}i+=this.radians(this.arcSegmentsSeparation)}this.drawCircularOverlayLabel(t),this.currentRadius-=this.overlaysThickness}else this.currentRadius-=this.margin}},this.drawCircularVariableOverlay=function(t){if(this.showOverlays&&this.varOverlays.length>0&&"sunburst"!=this.circularType&&"chord"!=this.circularType&&"bubble"!=this.circularType&&this.showIdeogram&&(this.data.z&&this.data.z[t]||"-"==t)){this.drawCircularElement("drawCircularVariableOverlay");var e=this.meta.data,i=this.currentRadius,a=this.getCircularVariableOverlayIndex(t);if("-"!=t){for(var s=0;s<this.circularVariableIndices.length;s++){var r=this.circularVariableIndices[s],n=this.data.y.vars[r],o=this.circularVariableData[n].dat[0],h=this.circularVariableData[n].dat[1],l=this.circularVariableData[n].seg,c=this.arcSegmentsRadius[l],d=this.getMetadataValue(this.circularVariableData[n].idx,"z",t),p=this.getCircularOverlayColor(e.z[t],d);this.toRender({p:["drawShape","arc2",this.cx,this.cy,this.overlaysThickness*c,i*c,p,p,!1,!1,this.outlineWidth,!1,!1,o,h],a:this.getShapeArea("arc2",this.cx,this.cy,this.overlaysThickness*c,i*c,p,p,!1,!1,this.outlineWidth,!1,!1,o,h),i:["VarOvr-"+this.circularVariableData[n].idx+"-"+a],t:"varOverlays"})}this.drawCircularOverlayLabel(t),this.currentRadius-=this.overlaysThickness}else this.currentRadius-=this.margin}},this.drawCircularOverlays=function(){var t=this.drawCircularSampleSegregation();if(this.rAxisIndex<0){for(var e=0;e<this.smpOverlays.length;e++){var i=this.smpOverlays[e];this.drawCircularSampleOverlay(i),t=!0}if(this.showIdeogram)for(e=0;e<this.varOverlays.length;e++){i=this.varOverlays[e];this.drawCircularVariableOverlay(i),t=!0}}this.currentRadius-=t?this.margin:0},this.drawCircularSampleLabels=function(){if("sunburst"!=this.circularType&&"chord"!=this.circularType&&"bubble"!=this.circularType){var t="dotted"==this.guides?"dottedLineR":"lineR",e="outside"==this.circularLabelsAlign,i="1px "+this.fontName;if(this.showSampleNames&&this.rAxisIndex<0&&!this.showIdeogram){this.drawCircularElement("drawCircularSampleLabels");var a=this.rAxisUnit;if("circular"==this.smpLabelOrientation){for(var s=this.circularStart,r=0;r<this.arcSegmentsSampleIndices.length;r++){for(var n=this.arcSegmentsRadius[r],o=this.currentRadius*n,h=0;h<this.arcSegmentsSampleIndices[r].length;h+=this.smpLabelInterval){var l=this.data.y.smps[this.arcSegmentsSampleIndices[r][h]],c=this.getSmpColor(l);this.toRender({p:["drawArcText",l,this.cx,this.cy,o,s,a,this.smpLabelFont,c,!1,!1,!0],a:this.getArcTextArea(l,this.cx,this.cy,o,s,a,this.smpLabelFont,c,!1,!1,!0),i:["Smp-"+this.smpIndices[this.arcSegmentsSampleIndices[r][h]]],t:"Labels"}),s+=a*this.smpLabelInterval}s+=this.radians(this.arcSegmentsSeparation)}this.currentRadius-=this.smpLabelFontSize+this.margin}else{s=this.circularStart+a/2;var d=this.getCircularSampleLabelLength();this.currentRadius-=e?0:d-this.margin;for(r=0;r<this.arcSegmentsSampleIndices.length;r++){for(n=this.currentRadius*this.arcSegmentsRadius[r],h=0;h<this.arcSegmentsSampleIndices[r].length;h+=this.smpLabelInterval){var p=this.arcSegmentsSampleIndices[r][h],g=(l=this.data.y.smps[p],c=this.getSmpColor(l),o=s%(2*Math.PI),n*Math.cos(s)+this.cx),u=n*Math.sin(s)+this.cy;if(o>1.5*Math.PI||o<Math.PI/2?this.toRender({p:["drawText",l,g,u,this.smpLabelFont,c,e?"right":"left","middle",s],a:this.getTextArea(l,g,u,this.smpLabelFont,c,e?"right":"left","middle",s),i:["Smp-"+p],b:[this.cx,this.cy,i],t:"Labels"}):this.toRender({p:["drawText",l,g,u,this.smpLabelFont,c,e?"left":"right","middle",s+Math.PI],a:this.getTextArea(l,g,u,this.smpLabelFont,c,e?"left":"right","middle",s+Math.PI),i:["Smp-"+p],b:[this.cx,this.cy,i],t:"Labels"}),this.guides||"radar"==this.circularType){g=(n-this.overlaysThickness)*Math.cos(s)+this.cx,u=(n-this.overlaysThickness)*Math.sin(s)+this.cy;this.toRender({p:["drawLine",t,this.cx,this.cy,g,u,this.guidesColor,this.guidesWidth+.7,"butt"],b:[this.cx,this.cy],t:"Labels"})}s+=a*this.smpLabelInterval}s+=this.radians(this.arcSegmentsSeparation)}this.currentRadius-=e?d:this.margin}}else this.showSampleNames&&this.rAxisIndex>=0&&!this.showIdeogram&&this.drawCircularLabels()}},this.drawCircularVariableLabels=function(){this.showIdeogram&&this.showVariableNames&&this.drawCircularLabels(!0)},this.drawCircularLabels=function(t){this.drawCircularElement("drawCircularLabels");var e="outside"==this.circularLabelsAlign,i=t?this.getCircularVariableLabelLength():this.getCircularSampleLabelLength(),a="1px "+this.fontName;this.currentRadius-=(e?this.circularAnchorLength:i-2*this.margin)+this.margin;for(var s=t?this.data.y.vars:this.data.y.smps,r=t?0:this.rAxisUnit/2,n=t?this.circularVariableData:this.circularSampleData,o=t?this.varLabelFont:this.smpLabelFont,h=1/this.maxRadiusFactor,l=0;l<s.length;l++){var c=s[l];if(n[c]){var d=n[c].idx,p=n[c].raw+r,g=n[c].mod+r,u=n[c].seg,m=this.arcSegmentsRadius[u],f=this.currentRadius*m,y=e?this.circularAnchorLength+this.margin:-this.circularAnchorLength,x=(f+y)*Math.cos(p)+this.cx,b=(f+y)*Math.sin(p)+this.cy,v=e?this.circularAnchorLength+this.margin/2:this.margin/2-this.circularAnchorLength,A=(f+v)*Math.cos(p)+this.cx,w=(f+v)*Math.sin(p)+this.cy;if(isNaN(g))this.toRender({p:["drawLine","lineR",x,b,A,w,this.rAxisTickColor,this.outlineWidth],b:[this.cx,this.cy],t:"Labels"});else{var C=e?this.margin:-this.margin,T=e?this.margin/2:-this.margin/2,S=(f+C)*Math.cos(g)+this.cx,D=(f+C)*Math.sin(g)+this.cy,M=(f+T)*Math.cos(g)+this.cx,k=(f+T)*Math.sin(g)+this.cy;this.toRender({p:["drawLine","lineR",x,b,A,w,this.rAxisTickColor,this.outlineWidth],b:[this.cx,this.cy],t:"Labels"}),this.toRender({p:["drawLine","lineR",A,w,S,D,this.rAxisTickColor,this.outlineWidth],b:[this.cx,this.cy],t:"Labels"}),this.toRender({p:["drawLine","lineR",S,D,M,k,this.rAxisTickColor,this.outlineWidth],b:[this.cx,this.cy],t:"Labels"});var L=t?this.getVarColor(c):this.getSmpColor(c),I=f*Math.cos(g)+this.cx,B=f*Math.sin(g)+this.cy,N=this.scaleFont(o,1!=m?h:1);g>1.5*Math.PI||g<Math.PI/2?this.toRender({p:["drawText",c,I,B,N,L,e?"right":"left","middle",g],a:this.getTextArea(c,I,B,N,L,e?"right":"left","middle",g),i:[(t?"Var-":"Smp-")+d],b:[this.cx,this.cy,a],t:"Labels"}):this.toRender({p:["drawText",c,I,B,N,L,e?"left":"right","middle",g+Math.PI],a:this.getTextArea(c,I,B,N,L,e?"left":"right","middle",g+Math.PI),i:[(t?"Var-":"Smp-")+d],b:[this.cx,this.cy,a],t:"Labels"})}}}this.currentRadius-=(e?i-this.margin:this.circularAnchorLength)+this.margin},this.drawCircularAnchors=function(t){if(this.showIdeogram&&this.showVariableNames||!this.showIdeogram&&this.showSampleNames&&this.rAxisIndex>=0){this.drawCircularElement("drawCircularAnchors");for(var e=!(!this.showIdeogram||!this.showVariableNames),i=e?this.data.y.vars:this.data.y.smps,a=e?0:this.rAxisUnit/2,s=e?this.circularVariableData:this.circularSampleData,r="anchors2"==t?"outside"==this.circularAnchorsAlign:"inside"==this.circularAnchorsAlign,n=0;n<i.length;n++){var o=i[n];if(s[o]){s[o].idx,s[o].raw;var h="anchors2"==t?s[o].raw:s[o].mod+a,l=this.rAxisIndex>=0?s[o].dat[0]:s[o].dat[2],c=s[o].seg,d=this.currentRadius*this.arcSegmentsRadius[c];if(isNaN(h)){var p=(d-this.circularAnchorLength)*Math.cos(r?l:h)+this.cx,g=(d-this.circularAnchorLength)*Math.sin(r?l:h)+this.cy;this.toRender({p:["drawShape","sphere",p,g,1,1,this.circularAnchorColor,this.circularAnchorColor],b:[this.cx,this.cy],t:"Anchors"})}else{var u=d*Math.cos(r?h:l)+this.cx,m=d*Math.sin(r?h:l)+this.cy,f=(d-this.circularAnchorLength)*Math.cos(r?l:h)+this.cx,y=(d-this.circularAnchorLength)*Math.sin(r?l:h)+this.cy;this.toRender({p:["drawLine","beziery",u,m,f,y,this.circularAnchorColor,this.outlineWidth],b:[this.cx,this.cy],t:"Anchors"})}}}this.currentRadius-=this.circularAnchorLength+this.margin}},this.drawCircularData=function(){for(var t=0;t<this.ringNumber;t++)if(!(this.rAxisIndex>=0&&t==this.rAxisIndex)){if(this.showIdeogram){if(this.ringsSmpIndices[t].length<1)continue}else if(this.ringsVarIndices[t].length<1)continue;if(this.getKeys(this.ringMap).length>0){for(var e in this.ringMap)if(this.ringMap[e]==t){this.drawCircularDataRing(e);break}}else this.drawCircularDataRing()}},this.drawCircularDataRing=function(t){var e=this.varIndices,i=this.smpIndices,a=t?this.ringMap[t]:0;if(this.showIdeogram){if(this.ringsSmpIndices[a].length<1)return}else if(this.ringsVarIndices[a].length<1)return;var s=this.ringLength[a],r=this.ringGraphType[a];this.showIdeogram?this.setSamplesVisible(this.ringsSmpIndices[a]):this.setVariablesVisible(this.ringsVarIndices[a]),"chord"!=this.circularType&&this.setAxes(!1,!0,"stacked"==r),"heatmap"==r&&(this.circularHeatmap=!0),this.xAxisUnit=s/this.xAxisRange,this.drawCircularDataAxis(s,"heatmap"==r,a),this.drawCircularOtherData(s,r),this.drawCircularDataAxisBox(),this.currentRadius-=s+this.ringSeparation,this.showIdeogram?this.setSamplesVisible(i):this.setVariablesVisible(e),this.varIndices=e,this.smpIndices=i},this.getCircularXAxisValues=function(){for(var t=[],e=0;e<this.xAxisValues.length;e++){var i=parseFloat(this.xAxisValues[e]);i>=this.xAxisMin&&i<=this.xAxisMax&&t.push(i)}return t},this.drawCircularDataAxis=function(t,e,i){if("sunburst"!=this.circularType&&"chord"!=this.circularType&&"bubble"!=this.circularType){var a=Math.min(this.width,this.height)*(1-this.percentAspectRatioPlotArea),s=360==this.circularArc?this.arcSegmentsNumber-1:"radar"==this.circularType||"sunburst"==this.circularType?0:1,r=this.arcSegmentsDims[0][0]%(2*Math.PI),n=this.arcSegmentsDims[s][1]%(2*Math.PI),o=this.currentRadius,h=this.arcSegmentsRadius[0],l=this.axisTickFontSize/2;if(e&&this.rAxisIndex<0)for(var c=this.showIdeogram?this.smpIndices:this.varIndices,d=t/c.length,p="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),g=0;g<c.length;g++){for(var u=this.colors[c[g]%this.colors.length],m=r-n;m<0;)m+=2*Math.PI;o-=d,this.toRender({p:["drawArcText",p[g],this.cx,this.cy,o*h+d/2+l,n,m,this.axisTickFont,u,!1,!1,!0],a:this.getArcTextArea(p[g],this.cx,this.cy,o*h+d/2+l,n,m,this.axisTickFont,u,!1,!1,!0),i:["AxisVal:"+i+":"+g],t:"Axes"})}else{if("sunburst"!=this.circularType&&"chord"!=this.circularType&&"bubble"!=this.circularType){this.setAxisFont("NA",a/2);var f=this.rAxisIndex>=0&&360==this.circularArc?.033:0,y=this.getCircularXAxisValues();for(g=0;g<y.length;g++){var x=o-(this.xAxisMax-y[g])*this.xAxisUnit;for(s=0;s<this.arcSegmentsNumber;s++){p=this.arcSegmentsRadius[s];if(0==s)if(360==this.circularArc||"normal"==this.circularType){for(t=r-n;t<0;)t+=2*Math.PI;this.toRender({p:["drawArcText",y[g],this.cx,this.cy,x*h+l,n,t,this.axisTickFont,this.axisTickColor,!1,!1,!0],a:this.getArcTextArea(y[g],this.cx,this.cy,x*h+l,n,t,this.axisTickFont,this.axisTickColor,!1,!1,!0),i:["AxisVal:"+i+":"+g],t:"Axes"})}else{for(t=this.arcSegmentsDims[0][1]-this.arcSegmentsDims[0][0];t<0;)t+=2*Math.PI;this.toRender({p:["drawArcText",y[g],this.cx,this.cy,x*h+l,r,t,this.axisTickFont,this.axisTickColor,!1,!1,!0],a:this.getArcTextArea(y[g],this.cx,this.cy,x*h+l,r,t,this.axisTickFont,this.axisTickColor,!1,!1,!0),i:["AxisVal:"+i+":"+g],t:"Axes"})}0!=g&&g!=y.length-1&&(360==this.circularArc&&"normal"!=this.circularType?this.toRender({p:["drawShape","circle",this.cx,this.cy,x*p*2,x*p*2,!1,this.xAxisTickColor,"open",!1,this.outlineWidth],t:"Axes"}):this.toRender({p:["drawLine","arc",this.cx,this.cy,x*p,x*p,this.xAxisTickColor,this.outlineWidth,!1,this.arcSegmentsDims[s][0]-f,this.arcSegmentsDims[s][1]+f],t:"Axes"}))}}}this.setAxisFont("NA",a/1.33)}}},this.drawCircularDataAxisBox=function(){if("sunburst"!=this.circularType&&"chord"!=this.circularType&&"bubble"!=this.circularType)if("radar"==this.circularType&&360==this.circularArc){var t=2*this.currentRadius;this.toRender({p:["drawShape","circle",this.cx,this.cy,t,t,!1,this.foreground,"open",!1,this.oulineWidth],t:"Axes"})}else for(var e=this.currentRadius,i=this.rAxisIndex>=0&&360==this.circularArc?.033:0,a=this.getCircularXAxisValues(),s=e-(this.xAxisMax-a[0])*this.xAxisUnit,r=e-(this.xAxisMax-a[a.length-1])*this.xAxisUnit-s,n=0;n<this.arcSegmentsNumber;n++){var o=this.arcSegmentsDims[n][0]-i,h=this.arcSegmentsDims[n][1]+i,l=this.arcSegmentsRadius[n];this.toRender({p:["drawShape","arc2",this.cx,this.cy,r*l,e*l,!1,this.foreground,"open",!1,this.oulineWidth,!1,!1,o,h],t:"Axes"})}},this.drawCircularSunburst=function(){this.drawCircularElement("drawCircularSunburst");var t=this,e=this.ringLength[0],i=function(a,n){if(a.children)for(var o=.002,h=0;h<a.children.length;h++){var l,c,d,p,g,u,m,f,y=a.children[h],x=y.depth*s,b=y.value*t.rAxisUnit;(0==t.hierarchy.length||y.depth<t.hierarchy.length)&&y.name&&(o>=.002&&(d=t.measureText(y.name,t.smpLabelFont)+2*t.margin,p=b*(t.currentRadius-e+x+r),l=t.getFillColor(y.color),ol=t.getOutlineColor(l),u=t.isHidden(!1,y.idx[0]),c=t.toRender({p:["drawShape","arc2",t.cx,t.cy,s,t.currentRadius-e+x+s,l,ol,!1,!1,!1,!1,!1,n,n+b],a:t.getShapeArea("arc2",t.cx,t.cy,s,t.currentRadius-e+x+s,l,ol,!1,!1,!1,!1,!1,n,n+b),i:["Sunburst:"+y.tooltip,y.idx],t:"Data",h:u}),p>d?s>t.smpLabelFontSize&&t.toRender({p:["drawArcText",y.name,t.cx,t.cy,t.currentRadius-e+x+r,n,b,t.smpLabelFont,t.smpLabelFontColor,!1,!1,!0],a:t.getArcTextArea(y.name,t.cx,t.cy,t.currentRadius-e+x+r,n,b,t.smpLabelFont,t.smpLabelFontColor,!1,!1,!0),i:["SunburstLabel:"+y.tooltip,y.idx],g:c,t:"Labels",h:u}):s>d&&p>t.smpLabelFontSize&&(g=(n+b/2)%(2*Math.PI),m=(t.currentRadius-e+x+r-d/2)*Math.cos(g)+t.cx,f=(t.currentRadius-e+x+r-d/2)*Math.sin(g)+t.cy,g>1.5*Math.PI||g<Math.PI/2?t.toRender({p:["drawText",y.name,m,f,t.smpLabelFont,t.smpLabelFontColor,"center","middle",g],a:t.getTextArea(y.name,m,f,t.smpLabelFont,t.smpLabelFontColor,"center","middle",g),i:["SunburstLabel:"+y.tooltip,y.idx],g:c,b:[t.cx,t.cy],t:"Labels",h:u}):t.toRender({p:["drawText",y.name,m,f,t.smpLabelFont,t.smpLabelFontColor,"center","middle",g+Math.PI],a:t.getTextArea(y.name,m,f,t.smpLabelFont,t.smpLabelFontColor,"center","middle",g+Math.PI),i:["SunburstLabel:"+y.tooltip,y.idx],g:c,b:[t.cx,t.cy],t:"Labels",h:u})),o=0),y.children&&i(y,n),n+=b,o+=b)}},a=this.circularStart,s=e/Math.max(this.hierarchy.length,1),r=(s+this.smpLabelFontSize)/2;i(this.circularSunburst[0],a)},this.drawCircularChord=function(){this.drawCircularElement("drawCircularChord");for(var t=this.circularStart,e=this.circularChord,i=(this.chordThickness-this.smpLabelFontSize)/2,a=0;a<e.segments.length;a++){e.segments[a].ribbons={};var s=t+e.segments[a].start,r=t+e.segments[a].end,n=e.segments[a].color,o=e.segments[a].name,h=this.toRender({p:["drawShape","arc2",this.cx,this.cy,this.chordThickness,this.currentRadius,this.getFillColor(n),this.getOutlineColor(n),!1,!1,!1,!1,!1,s,r],a:this.getShapeArea("arc2",this.cx,this.cy,this.chordThickness,this.currentRadius,this.getFillColor(n),this.getOutlineColor(n),!1,!1,!1,!1,!1,s,r),i:["Chord:"+e.segments[a].idx+":"+e.segments[a].name+" ("+e.segments[a].value+")",[e.segments[a].idx]],t:"Data",h:this.isHidden(e.segments[a].idx)});e.segments[a].ribbons[h]=!0,this.showSampleNames&&(h=this.toRender({p:["drawArcText",o,this.cx,this.cy,this.currentRadius-i,s,r-s,this.smpLabelFont,this.smpLabelFontColor,!1,!1,!0],a:this.getArcTextArea(o,this.cx,this.cy,this.currentRadius-i,s,r-s,this.smpLabelFont,this.smpLabelFontColor,!1,!1,!0),i:["ChordLbl"+a],g:h,t:"Labels",h:this.isHidden(e.segments[a].idx)}),e.segments[a].ribbons[h]=!0)}this.currentRadius-=this.chordThickness,"target"!=this.chordColor&&(this.chordColor="source");for(a=0;a<e.chords.length;a++){var l=t+e.chords[a].source.start,c=t+e.chords[a].source.end,d=t+e.chords[a].target.start,p=t+e.chords[a].target.end,g=this.cx+this.currentRadius*Math.cos(l),u=this.cy+this.currentRadius*Math.sin(l),m=this.cx+this.currentRadius*Math.cos(p),f=this.cy+this.currentRadius*Math.sin(p),y=this.cx+this.currentRadius*Math.cos(d),x=this.cy+this.currentRadius*Math.sin(d),b=this.cx+this.currentRadius*Math.cos(c),v=this.cy+this.currentRadius*Math.sin(c),A=(n=e.chords[a][this.chordColor].color,["Connect:"+e.segments[e.chords[a].source.idx].name+" ("+e.segments[e.chords[a].source.idx].value+") -- "+e.segments[e.chords[a].target.idx].name+" ("+e.segments[e.chords[a].target.idx].value+")",[e.chords[a].source.idx,e.chords[a].target.idx]]);h=this.toRender({p:["drawShape","arch",[g,this.cx,m,y,this.cx,b],[u,this.cy,f,x,this.cy,v],[l,c,d,p],[this.currentRadius,this.currentRadius],this.addColorTransparency(n,.67,!0),this.addColorTransparency(this.foreground,.33,!0)],a:this.getShapeArea("arch",[g,this.cx,m,y,this.cx,b],[u,this.cy,f,x,this.cy,v],[l,c,d,p],[this.currentRadius,this.currentRadius],this.addColorTransparency(n,.67,!0),this.addColorTransparency(this.foreground,.33,!0)),i:A,t:"Data",h:this.isHidden(e.chords[a].source.idx)||this.isHidden(e.chords[a].target.idx)});e.segments[e.chords[a].source.idx].ribbons[h]=!0,e.segments[e.chords[a].target.idx].ribbons[h]=!0}},this.drawCircularBubble=function(){this.drawCircularElement("drawCircularBubble");var t=this.data.bubble.plot.descendants(),e=(Math.max(this.top,this.right),this.data.bubble.plot.diameter/2),i=this.marginLeft+this.marginRight+this.left+this.x-this.right,a=this.marginTop+this.marginBottom+this.bottom+this.y-this.top,s=i>a?this.marginLeft+this.left+(this.x-this.y)/2:this.marginLeft+this.left,r=a>i?this.marginTop+this.top+(this.y-this.x)/2:this.marginTop+this.top;if(this.hierarchy.length>0)for(var n=0;n<t.length;n++){var o=this.meta.data.x;if((u=t[n]).children){var h=s+(m=this.rotatePoint(u.x,u.y,e,e,this.radians(this.circularRotate)))[0],l=r+m[1],c=2*u.r,d=0!=u.depth&&["Bubble"+u.data.id+":"+u.data.name+" ("+u.value+")"],p=this.colorBy&&o&&o.hasOwnProperty(this.colorBy)&&o[this.colorBy].order.hasOwnProperty(u.data.name)?o[this.colorBy].colors[o[this.colorBy].order[u.data.name]]:u.parent&&u.parent.color?u.parent.color:this.bubbleColor,g=this.toRender({p:["drawShape","circle",h,l,c,c,u.depth==this.hierarchy.length?p:this.addColorTransparency(p,.33,!0),this.foreground],a:this.getShapeArea("circle",h,l,c,c,u.depth==this.hierarchy.length?p:this.addColorTransparency(p,.33,!0),this.foreground),i:d,b:[this.cx,this.cy,0,0],t:"Data"});d&&(d[0]+=":Label"),this.measureText(u.data.name,this.smpLabelFont)<c&&(u.depth==this.hierarchy.length?this.toRender({p:["drawText",u.data.name,h,l,this.smpLabelFont,this.smpLabelFontColor,"center","middle"],a:this.getTextArea(u.data.name,h,l,this.smpLabelFont,this.smpLabelFontColor,"center","middle"),i:d,g:g,b:[this.cx,this.cy,0,0],t:"Labels"}):this.toRender({p:["drawText",u.data.name,h,l-(u.r+0*this.smpLabelFontSize),this.smpLabelFont,this.smpLabelFontColor,"center","middle"],a:this.getTextArea(u.data.name,h,l-(u.r+0*this.smpLabelFontSize),this.smpLabelFont,this.smpLabelFontColor,"center","middle"),i:d,g:g,b:[this.cx,this.cy,0,0],t:"Labels"})),u.color=p}}else for(n=0;n<t.length;n++){var u;if(!(u=t[n]).children){var m;h=s+(m=this.rotatePoint(u.x,u.y,e,e,this.radians(this.circularRotate)))[0],l=r+m[1],c=2*u.r,d=["Bubble"+u.data.id+":"+u.data.name+" ("+u.value+")"],p=this.colorBy?this.getPropertyValue(this.hierarchyVar,u.data.idx,"colorBy"):this.colors[n%this.colors.length],g=this.toRender({p:["drawShape","circle",h,l,c,c,this.getFillColor(p),this.getOutlineColor(p)],a:this.getShapeArea("circle",h,l,c,c,this.getFillColor(p),this.getOutlineColor(p)),i:d,b:[this.cx,this.cy,0,0],t:"Data"});d[0]+=":Label",this.measureText(u.data.name,this.smpLabelFont)<c&&this.toRender({p:["drawText",u.data.name,h,l,this.smpLabelFont,this.smpLabelFontColor,"center","middle"],a:this.getTextArea(u.data.name,h,l,this.smpLabelFont,this.smpLabelFontColor,"center","middle"),i:d,g:g,b:[this.cx,this.cy,0,0],t:"Labels"})}}},this.drawCircularOtherData=function(t,e,i){this.drawCircularElement("drawCircularOtherData");var a=this,s=function(){var t=c.length,e=a.margin;return t>=200?e/1.4:t>=100?e/1:t>=50?1*e:t>=25?1.5*e:2*e},r=function(t,e){return a.showIdeogram?a.getDataAtPos(t,e):a.getDataAtPos(e,t)},n=function(t,e){return a.showIdeogram?[t,e]:[e,t]},o=this.currentRadius,h=this.showIdeogram?this.circularVariableData:this.circularSampleData,l=this.showIdeogram?this.circularVariableIndices:this.circularSampleIndices,c=this.showIdeogram?this.data.y.vars:this.data.y.smps,d=this.showIdeogram?this.data.y.smps:this.data.y.vars,p=this.showIdeogram?this.smpIndices:this.varIndices,g=this.showIdeogram?this.varIndices:this.smpIndices,u=this.getObjectArray(g);switch(e){case"bar":for(var m=this.xAxisMin<0?Math.abs(this.xAxisMin)*this.xAxisUnit:0,f=0;f<l.length;f++){var y=l[f];if(u.hasOwnProperty(y))for(var x=h[L=c[y]].dat[0],b=(h[L].dat[1]-h[L].dat[0])/p.length,v=h[L].seg,A=this.arcSegmentsRadius[v],w=0;w<p.length;w++){var C=(r(y,B=p[w])-this.xAxisMin)*this.xAxisUnit*A,T=this.colors[(B-(this.rAxisIndex>=0?1:0))%this.colors.length],S=this.addColorTransparency(T,.67,!0),D=(this.currentRadius+m+1)*A-(t*A-C),M=x+b;C<0?this.toRender({p:["drawShape","arc2",this.cx,this.cy,-C,D-C,S,T,!1,!1,!1,!1,!1,x,M],a:this.getShapeArea("arc2",this.cx,this.cy,-C,D-C,S,T,!1,!1,!1,!1,!1,x,M),i:n(y,B),t:"Data",h:this.isHidden(B,y)}):this.toRender({p:["drawShape","arc2",this.cx,this.cy,C,D,S,T,!1,!1,!1,!1,!1,x,M],a:this.getShapeArea("arc2",this.cx,this.cy,C,D,S,T,!1,!1,!1,!1,!1,x,M),i:n(y,B),t:"Data",h:this.isHidden(B,y)}),x+=b}}break;case"dot":var k=s();for(f=0;f<l.length;f++){y=l[f];if(u.hasOwnProperty(y)){var L=c[y],I=this.rAxisIndex>=0?h[L].dat[0]:h[L].dat[2];for(v=h[L].seg,A=this.arcSegmentsRadius[v],w=0;w<p.length;w++){var B=p[w],N=(C=(this.xAxisMax-r(y,B))*(this.xAxisUnit*A),T=this.colors[(B-(this.rAxisIndex>=0?1:0))%this.colors.length],S=this.addColorTransparency(T,.67,!0),this.cx+(o*A-C)*Math.cos(I)),F=this.cy+(o*A-C)*Math.sin(I);this.toRender({p:["drawShape","circle",N,F,k,k,S,T],a:this.getShapeArea("circle",N,F,k,k,S,T),i:n(y,B),b:[this.cx,this.cy],t:"Data",h:this.isHidden(B,y)})}}}break;case"heatmap":for(D=t/p.length,f=0;f<l.length;f++){y=l[f];if(u.hasOwnProperty(y)){x=h[L=c[y]].dat[0],M=h[L].dat[1],v=h[L].seg,A=this.arcSegmentsRadius[v];var P=0;for(w=0;w<p.length;w++){C=r(y,B=p[w]),S=isNaN(C)?this.missingDataColor:this.getColorForValue(!1,C),T=this.addColorTransparency(S,.67,!0);this.toRender({p:["drawShape","arc2",this.cx,this.cy,D*A,o*A-P,S,T,!1,!1,!1,!1,!1,x,M],a:this.getShapeArea("arc2",this.cx,this.cy,D*A,o*A-P,S,T,!1,!1,!1,!1,!1,x,M),i:n(y,B),t:"Data",h:this.isHidden(B,y)}),P+=D*A}}}break;case"stacked":for(f=0;f<l.length;f++){y=l[f];if(u.hasOwnProperty(y))for(x=h[L=c[y]].dat[0],M=h[L].dat[1],v=h[L].seg,A=this.arcSegmentsRadius[v],P=0,w=0;w<p.length;w++){C=r(y,B=p[w]),T=this.colors[(B-(this.rAxisIndex>=0?1:0))%this.colors.length],S=this.addColorTransparency(T,.67,!0),D=C*this.xAxisUnit*A;this.toRender({p:["drawShape","arc2",this.cx,this.cy,D,(o-t)*A+(D+P)+1,S,T,!1,!1,!1,!1,!1,x,M],a:this.getShapeArea("arc2",this.cx,this.cy,D,(o-t)*A+(D+P)+1,S,T,!1,!1,!1,!1,!1,x,M),i:n(y,B),t:"Data",h:this.isHidden(B,y)}),P+=D}}break;case"area":case"line":var R=[],O=o-t+2;for(k=s(),w=0;w<p.length;w++){R[w]={x:[],y:[],c:this.foreground,a:[],s:[],m:[],w:[],l:[]};for(B=p[w],S=this.colors[(B-(this.rAxisIndex>=0?1:0))%this.colors.length],f=0;f<l.length;f++){y=l[f];if(u.hasOwnProperty(y)){L=c[y],I=this.rAxisIndex>=0?h[L].dat[0]:h[L].dat[2],v=h[L].seg,A=this.arcSegmentsRadius[v],C=(this.xAxisMax-r(y,B))*(this.xAxisUnit*A);if(R[w].x.push(this.cx+(o*A-C)*Math.cos(I)),R[w].y.push(this.cy+(o*A-C)*Math.sin(I)),R[w].c=S,R[w].a.push(n(y,B)),R[w].s.push(h[L].seg),R[w].m.push(I),R[w].w.push(A),R[w].l.push(d[g[B]]),"line"==e){var X=R[w].l.length-1;this.toRender({p:["drawShape","circle",R[w].x[X],R[w].y[X],k,k,S,S],a:this.getShapeArea("circle",R[w].x[X],R[w].y[X],k,k,S,S),i:n(y,B),b:[this.cx,this.cy],t:"Data",h:this.isHidden(B,y)})}}}}if("line"==e)for(w=0;w<p.length;w++)for(var z=null,E=(V=R[w]).s[0],_=1;_<R[w].x.length;_++){if(V.s[_]==E){var H=this.toRender({p:["drawLine","line",V.x[_-1],V.y[_-1],V.x[_],V.y[_],V.c],a:this.getLineArea("line",V.x[_-1],V.y[_-1],V.x[_],V.y[_],V.c),i:["Line:"+V.l[_]+":"+p[w]],g:z,b:[this.cx,this.cy,this.cx,this.cy],t:"Data",h:this.isHidden(p[w],V.l[_])});_!=R[w].x.length-1||360!=this.circularArc||this.segregateSamplesBy.length||this.toRender({p:["drawLine","line",V.x[_],V.y[_],V.x[0],V.y[0],V.c],a:this.getLineArea("line",V.x[_],V.y[_],V.x[0],V.y[0],V.c),i:["Line:"+V.l[0]+":"+p[w]],g:z,b:[this.cx,this.cy,this.cx,this.cy],t:"Data",h:this.isHidden(p[w],V.l[0])})}else z=null;E=V.s[_],z||(z=H)}else if("area"==e)for(w=0;w<p.length;w++){E=(V=R[w]).s[0];var V,G=[[],[]],q=[[],[]];for(_=0;_<R[w].x.length;_++)if(V.s[_]==E)N=this.cx+O*V.w[_]*Math.cos(V.m[_]),F=this.cy+O*V.w[_]*Math.sin(V.m[_]),q[0].unshift(N),q[1].unshift(F),G[0].push(V.x[_]),G[1].push(V.y[_]);else{if(360!=this.circularArc||this.segregateSamplesBy.length)for(;q[0].length>0;)G[0].push(q[0].shift()),G[1].push(q[1].shift());this.toRender({p:["drawShape","path",G[0],G[1],!1,!1,this.addColorTransparency(V.c,.25,!0),V.c],a:this.getShapeArea("path",G[0],G[1],!1,!1,this.addColorTransparency(V.c,.25,!0),V.c),i:["Area:"+V.l[_]+":"+p[w]],b:[this.cx,this.cy],t:"Data",h:this.isHidden(p[w],V.l[_])}),E=V.s[_],N=this.cx+O*V.w[_]*Math.cos(V.m[_]),F=this.cy+O*V.w[_]*Math.sin(V.m[_]),q[0].unshift(N),q[1].unshift(F),(G=[[],[]])[0].push(V.x[_]),G[1].push(V.y[_])}if(360!=this.circularArc||this.segregateSamplesBy.length)for(;q[0].length>0;)G[0].push(q[0].shift()),G[1].push(q[1].shift());this.toRender({p:["drawShape","path",G[0],G[1],!1,!1,this.addColorTransparency(V.c,.25,!0),V.c],a:this.getShapeArea("path",G[0],G[1],!1,!1,this.addColorTransparency(V.c,.25,!0),V.c),i:["Area:"+V.l[_-1]+":"+p[w]],b:[this.cx,this.cy],t:"Data",h:this.isHidden(p[w],V.l[_-1])})}}},this.getCircularCoordinates=function(t){var e=this,i=this.rAxisUnit,a=this.currentRadius;if(this.rAxisIndex<0&&!this.showIdeogram){var s=this.circularSampleData[t[2==t.length?0:1]],r=this.circularSampleData[t[2==t.length?1:2]],n=!(!s||!s.dat)&&s.dat[0],o=!(!r||!r.dat)&&r.dat[0];if(n&&o){var h=this.arcSegmentsRadius[s.seg],l=this.arcSegmentsRadius[r.seg];return[this.cx+a*Math.cos(n),this.cy+a*Math.sin(n),this.cx+a*Math.cos(o+i),this.cy+a*Math.sin(o+i),this.cx+a*Math.cos(o),this.cy+a*Math.sin(o),this.cx+a*Math.cos(n+i),this.cy+a*Math.sin(n+i),n,n+i,o,o+i,h,l]}}else if(this.segregateSamplesBy.length>0&&this.data.x[this.segregateSamplesBy[0]]||this.showIdeogram){var c=function(t){var i=e.arcSegmentsRangeMap[t[1]],a=e.arcSegmentsRangeMap[t[3]];if(null!=i&&null!=a){var s,r,n=e.rAxisZero&&e.arcSegmentsMin[i]<0?e.arcSegmentsMin[i]:0,o=e.rAxisZero&&e.arcSegmentsMin[a]<0?e.arcSegmentsMin[a]:0;if(t[2]>=e.arcSegmentsMin[i]&&t[2]<=e.arcSegmentsMax[i]&&t[4]>=e.arcSegmentsMin[a]&&t[4]<=e.arcSegmentsMax[a])return s=e.arcSegmentsDims[i][0]+(t[2]+n-e.arcSegmentsMin[i])*e.rAxisUnit,r=e.arcSegmentsDims[a][0]+(t[4]+o-e.arcSegmentsMin[a])*e.rAxisUnit,null!=t[5]||null!=t[6]?[s,r,e.arcSegmentsDims[i][0]+(Math.min(t[2]+(t[5]||0),e.arcSegmentsMax[i])+n-e.arcSegmentsMin[i])*e.rAxisUnit,e.arcSegmentsDims[a][0]+(Math.min(t[4]+(t[6]||0),e.arcSegmentsMax[a])+o-e.arcSegmentsMin[a])*e.rAxisUnit]:[s,r]}return!1}(t);if(c)return c.length>2?(this.showIdeogram?(h=this.arcSegmentsRadius[this.arcSegmentsRangeMap[t[1]]],l=this.arcSegmentsRadius[this.arcSegmentsRangeMap[t[3]]]):(h=1,l=1),[this.cx+a*h*Math.cos(c[0]),this.cy+a*h*Math.sin(c[0]),this.cx+a*l*Math.cos(c[3]),this.cy+a*l*Math.sin(c[3]),this.cx+a*l*Math.cos(c[1]),this.cy+a*l*Math.sin(c[1]),this.cx+a*h*Math.cos(c[2]),this.cy+a*h*Math.sin(c[2]),c[0],c[2],c[1],c[3],l,h]):[this.cx+a*Math.cos(c[0]),this.cy+a*Math.sin(c[0]),this.cx+a*Math.cos(c[1]),this.cy+a*Math.sin(c[1])];alert("Oooops! Something went wrong in the connection between "+t[1]+" and"+t[3]+"!")}return!1},this.drawCircularConnections=function(){if(this.currentRadius+=this.margin,this.drawCircularElement("drawCircularConnections"),this.showCircularConnections&&this.connections){this.rAxisUnit;for(var t=0;t<this.connections.length;t++){var e=this.getCircularCoordinates(this.connections[t]),i=(r=this.connections[t]).length>3?r[1]+"["+r[2]+"] "+r[5]+" - "+r[3]+"["+r[4]+"] "+r[6]:2==r.length?r[0]+" - "+r[1]:r[1]+" - "+r[2],a=this.addColorTransparency(2==this.connections[t].length?this.colors[t%this.colors.length]:this.connections[t][0],this.circularConnectionsTransparency,!0),s=this.addColorTransparency(this.foreground,.33,!0);e.length>4?this.toRender({p:["drawShape","arch",[e[0],this.cx,e[2],e[4],this.cx,e[6]],[e[1],this.cy,e[3],e[5],this.cy,e[7]],[e[8],e[9],e[10],e[11]],[this.currentRadius*e[12],this.currentRadius*e[13]],a,s,"solid"],a:this.getShapeArea("arch",[e[0],this.cx,e[2],e[4],this.cx,e[6]],[e[1],this.cy,e[3],e[5],this.cy,e[7]],[e[8],e[9],e[10],e[11]],[this.currentRadius*e[12],this.currentRadius*e[13]],a,s,"solid"),i:["Connect:"+i],t:"Connections"}):this.toRender({p:["drawLine","arch",[e[0],this.cx,e[2]],[e[1],this.cy,e[3]],!1,!1,a,s],a:this.getLineArea("arch",[e[0],this.cx,e[2]],[e[1],this.cy,e[3]],!1,!1,a,s),i:["Connect:"+i],t:"Connections"})}}var r},this.drawNetworkColorIndicator=function(){this.circularHeatmap&&this.drawColorIndicator(4*this.margin,this.top,this.meta.def.colorBrew,"Color Indicator",!0)},this.checkCircularSegregationOverlays=function(){if(this.validateSegregation(),this.validateOverlays(),this.segregateSamplesBy.length>0&&this.smpOverlays.includes(this.segregateSamplesBy[0])){for(var t=[],e=0;e<this.smpOverlays.length;e++)this.smpOverlays[e]!=this.segregateSamplesBy[0]&&t.push(this.smpOverlays[e]);this.smpOverlays=t}this.segregateSamplesByTemp=this.cloneObject(this.segregateSamplesBy),"sunburst"!=this.circularType&&"chord"!=this.circularType&&"bubble"!=this.circularType||(this.segregateSamplesBy=[])},this.checkCircularClustering=function(){this.rAxis||(this.samplesClustered&&this.clusterSamples(!1,!0),this.samplesKmeaned&&this.kmeansSamples(!1,!0),this.segregateSamplesBy.length>0&&this.meta.tree&&this.meta.tree.samples&&this.showSmpDendrogram?(this.segregateSamplesBy[0]&&!this.smpOverlays.includes(this.segregateSamplesBy[0])&&(this.smpOverlays.unshift(this.segregateSamplesBy[0]),this.tmpSegregateSamplesBy=this.segregateSamplesBy,this.tmpShowSmpOverlaysLegend=this.showSmpOverlaysLegend),this.segregateSamplesBy=[],this.showSmpOverlaysLegend=!0):this.tmpSegregateSamplesBy&&!this.showSmpDendrogram&&(this.segregateSamplesBy=this.tmpSegregateSamplesBy))},this.setCircularTempParameters=function(){this.arcSegmentsSeparationTemp=this.arcSegmentsSeparation,this.circularCenterProportionTemp=this.circularCenterProportion,this.circularArcTemp=this.circularArc,this.outlineWidthTemp=this.outlineWidth,this.lineThicknessTemp=this.lineThickness,this.outlineWidth=.5,this.lineThickness=.5,"normal"!=this.circularType&&("radar"==this.circularType||"bubble"==this.circularType?(this.circularCenterProportion=0,this.arcSegmentsSeparation=0,"bubble"==this.circularType&&(this.circularArc=360)):"chord"==this.circularType?(this.arcSegmentsSeparation=3,this.circularCenterProportion=0):"sunburst"==this.circularType&&(this.arcSegmentsSeparation=0))},this.resetCircularTempParameters=function(){this.arcSegmentsSeparation=this.arcSegmentsSeparationTemp,this.circularCenterProportion=this.circularCenterProportionTemp,this.circularArc=this.circularArcTemp,this.segregateSamplesBy=this.segregateSamplesByTemp,this.outlineWidth=this.outlineWidthTemp,this.lineThickness=this.lineThicknessTemp,this.outlineWidth=this.outlineWidthTemp,this.lineThickness=this.lineThicknessTemp},this.setCircularAttributes=function(){this.checkCircularClustering(),this.checkCircularSegregationOverlays(),this.setCircularTempParameters(),this.setCircularXYDimensions(),this.setCircularFonts(),this.setDendrograms(),this.validatePropertyValues()},this.drawCircularPlot=function(){this.setCircularArcSegments(),this.setCircularRings(),this.setLegends(),this.renderCircularPlot(),this.drawCircularConnections(),this.drawLegend(),this.drawNetworkColorIndicator(),this.drawTitle()},this.resetCircularAttributes=function(){this.resetCircularTempParameters()},this.initializeCircular=function(){this.setCircularAttributes(),this.drawCircularPlot(),this.resetCircularAttributes()},this.initializeCircular()},CanvasXpress.prototype.Map=function(){this.topojsonFeature=function(t,e){var i=function(t){return t};function a(t,e){var a=e.id,s=e.bbox,r=null==e.properties?{}:e.properties,n=function(t,e){var a=function(t){if(null==t)return i;var e,a,s=t.scale[0],r=t.scale[1],n=t.translate[0],o=t.translate[1];return function(t,i){i||(e=a=0);var h=2,l=t.length,c=new Array(l);for(c[0]=(e+=t[0])*s+n,c[1]=(a+=t[1])*r+o;h<l;)c[h]=t[h],++h;return c}}(t.transform),s=t.arcs;function r(t,e){e.length&&e.pop();for(var i=s[t<0?~t:t],r=0,n=i.length;r<n;++r)e.push(a(i[r],r));t<0&&function(t,e){for(var i,a=t.length,s=a-e;s<--a;)i=t[s],t[s++]=t[a],t[a]=i}(e,n)}function n(t){return a(t)}function o(t){for(var e=[],i=0,a=t.length;i<a;++i)r(t[i],e);return e.length<2&&e.push(e[0]),e}function h(t){for(var e=o(t);e.length<4;)e.push(e[0]);return e}function l(t){return t.map(h)}return function t(e){var i,a=e.type;switch(a){case"GeometryCollection":return{type:a,geometries:e.geometries.map(t)};case"Point":i=n(e.coordinates);break;case"MultiPoint":i=e.coordinates.map(n);break;case"LineString":i=o(e.arcs);break;case"MultiLineString":i=e.arcs.map(o);break;case"Polygon":i=l(e.arcs);break;case"MultiPolygon":i=e.arcs.map(l);break;default:return null}return{type:a,coordinates:i}}(e)}(t,e);return null==a&&null==s?{type:"Feature",properties:r,geometry:n}:null==s?{type:"Feature",id:a,properties:r,geometry:n}:{type:"Feature",id:a,bbox:s,properties:r,geometry:n}}return"GeometryCollection"===e.type?{type:"FeatureCollection",features:e.geometries.map((function(e){return a(t,e)}))}:a(t,e)},this.graticule=function(){var t,e,i,a,s,r,n,o,h,l,c,d,p=10,g=p,u=90,m=360,f=2.5,y=1e-6;function x(t,e,i){t=+t,e=+e,i=(s=arguments.length)<2?(e=t,t=0,1):s<3?1:+i;for(var a=-1,s=0|Math.max(0,Math.ceil((e-t)/i)),r=new Array(s);++a<s;)r[a]=t+a*i;return r}function b(t,e,i){var a=x(t,e-y,i).concat(e);return function(t){return a.map((function(e){return[t,e]}))}}function v(t,e,i){var a=x(t,e-y,i).concat(e);return function(t){return a.map((function(e){return[e,t]}))}}function A(){return{type:"MultiLineString",coordinates:w()}}function w(){return x(Math.ceil(a/u)*u,i,u).map(c).concat(x(Math.ceil(o/m)*m,n,m).map(d)).concat(x(Math.ceil(e/p)*p,t,p).filter((function(t){return Math.abs(t%u)>y})).map(h)).concat(x(Math.ceil(r/g)*g,s,g).filter((function(t){return Math.abs(t%m)>y})).map(l))}return A.lines=function(){return w().map((function(t){return{type:"LineString",coordinates:t}}))},A.outline=function(){return{type:"Polygon",coordinates:[c(a).concat(d(n).slice(1),c(i).reverse().slice(1),d(o).reverse().slice(1))]}},A.extent=function(t){return arguments.length?A.extentMajor(t).extentMinor(t):A.extentMinor()},A.extentMajor=function(t){return arguments.length?(a=+t[0][0],i=+t[1][0],o=+t[0][1],n=+t[1][1],a>i&&(t=a,a=i,i=t),o>n&&(t=o,o=n,n=t),A.precision(f)):[[a,o],[i,n]]},A.extentMinor=function(i){return arguments.length?(e=+i[0][0],t=+i[1][0],r=+i[0][1],s=+i[1][1],e>t&&(i=e,e=t,t=i),r>s&&(i=r,r=s,s=i),A.precision(f)):[[e,r],[t,s]]},A.step=function(t){return arguments.length?A.stepMajor(t).stepMinor(t):A.stepMinor()},A.stepMajor=function(t){return arguments.length?(u=+t[0],m=+t[1],A):[u,m]},A.stepMinor=function(t){return arguments.length?(p=+t[0],g=+t[1],A):[p,g]},A.precision=function(p){return arguments.length?(f=+p,h=b(r,s,10),l=v(e,t,f),c=b(o,n,10),d=v(a,i,f),A):f},A.extentMajor([[-180,-90+y],[180,90-y]]).extentMinor([[-180,-80-y],[180,80+y]]),A()},this.configureMapFeatures=function(){if(this.mapConfigFeatures)for(var t=this.meta.map.geojson.features,e=0;e<t.length;e++){var i=t[e];if(this.mapConfigFeatures.hasOwnProperty(e)&&this.mapConfigFeatures[e].translate&&this.mapConfigFeatures[e].scale&&i.geometry){var a=i.geometry.coordinates,s=i.geometry.type,r=[Number(this.mapConfigFeatures[e].translate[0]),Number(this.mapConfigFeatures[e].translate[1])],n=[Number(this.mapConfigFeatures[e].scale[0]),Number(this.mapConfigFeatures[e].scale[1])];switch(s){case"Polygon":for(var o=0;o<a[0].length-1;o++)if(!isNaN(a[0][o][0])&&!isNaN(a[0][o][1])){var h=a[0][o][0]+r[0]>90?(a[0][o][0]+r[0]-180)*n[0]:a[0][o][0]+r[0]<-90?(a[0][o][0]+r[0]+180)*n[0]:(a[0][o][0]+r[0])*n[0],l=a[0][o][1]+r[1]>180?(a[0][o][1]+r[1]-360)*n[1]:a[0][o][1]+r[1]<-180?(a[0][o][1]+r[1]+360)*n[1]:(a[0][o][1]+r[1])*n[1];a[0][o][0]=h,a[0][o][1]=l}break;case"MultiPolygon":for(o=0;o<a.length;o++)for(var c=0;c<a[o].length;c++)for(var d=0;d<a[o][c].length-1;d++)if(!isNaN(a[o][c][d][0])&&!isNaN(a[o][c][d][1])){h=(a[o][c][d][0]+r[0])*n[0],l=a[o][c][d][1]+r[1]>180?NaN:(a[o][c][d][1]+r[1])*n[1];a[o][c][d][0]=h,a[o][c][d][1]=l}}}}},this.setMapLayerCoordinates=function(){for(var t=this.meta.map.geojson.features,e=Number.MAX_VALUE,i=Number.MAX_VALUE,a=-Number.MAX_VALUE,s=-Number.MAX_VALUE,r=this.layoutComb?this.layoutWidth:this.width,n=this.layoutComb?this.layoutHeight:this.height,o=0;o<t.length;o++){var h=t[o];if(!h.hidden&&h.geometry){var l=h.geometry.coordinates,c=h.geometry.type,d=h.coordinates=[];switch(c){case"Polygon":if(d[0]=[],d[0][0]=[],"orthographic"!=this.mapProjection)for(var p=0;p<l[0].length-1;p++)isNaN(l[0][p][0])||isNaN(l[0][p][1])||(d[0][0].push([l[0][p][1],l[0][p][0]]),e=Math.min(e,l[0][p][0]),i=Math.min(i,l[0][p][1]),a=Math.max(a,l[0][p][0]),s=Math.max(s,l[0][p][1]));break;case"MultiPolygon":if("orthographic"!=this.mapProjection)for(p=0;p<l.length;p++){d[p]=[];for(var g=0;g<l[p].length;g++){d[p][g]=[];for(var u=0;u<l[p][g].length-1;u++)isNaN(l[p][g][u][0])||isNaN(l[p][g][u][1])||(d[p][g].push([l[p][g][u][1],l[p][g][u][0]]),e=Math.min(e,l[p][g][u][0]),i=Math.min(i,l[p][g][u][1]),a=Math.max(a,l[p][g][u][0]),s=Math.max(s,l[p][g][u][1]))}}}}}"orthographic"==this.mapProjection&&(e=-180,i=-90,a=180,s=90);var m=this.mapCoordinateToPoint([s,e],!0),f=this.mapCoordinateToPoint([i,a],!0),y=512*Math.min(r/(f[0]-m[0]),n/(f[1]-m[1])),x=Number.parseFloat(Math.log(y/256)/Math.LN2).toFixed(1)-.2,b=this.mapCoordinateToPoint([s,a],!0),v=this.mapCoordinateToPoint([i,e],!0),A=this.mapPointToCoordinate([(b[0]+v[0])/2,(b[1]+v[1])/2]);this.meta.map.geojson.geometry={minX:e,minY:i,maxX:a,maxY:s},this.meta.map.geojson.global={minX:e,minY:i,maxX:a,maxY:s,center:A,scale:y,zoom:x}},this.setMapZoomCenter=function(t){if("Map"==this.graphType&&this.meta.map){var e=this.meta.map.geojson,i=e.geometry,a=this.layoutComb?this.layoutWidth:this.width,s=this.layoutComb?this.layoutHeight:this.height;if(!i.zoom||!i.center||t){e.zoom=1,e.center=[0,0],e.translate=[0,0],i.zoom=1,i.center=[0,0];var r=[i.maxY,i.minX],n=[i.minY,i.maxX],o=[i.maxY,i.maxX],h=[i.minY,i.minX],l=this.mapCoordinateToPoint(r,!0),c=this.mapCoordinateToPoint(n,!0),d=512*Math.min(a/(c[0]-l[0]),s/(c[1]-l[1]));i.zoom=Number.parseFloat(Math.log(d/256)/Math.LN2).toFixed(1)-.2;var p=this.mapCoordinateToPoint(o,!0),g=this.mapCoordinateToPoint(h,!0);i.center=this.mapPointToCoordinate([(p[0]+g[0])/2,(p[1]+g[1])/2],!0)}i.initial&&!t||(i.initial={zoom:this.cloneObject(i.zoom),center:this.cloneObject(i.center),canvas:this.cloneObject([a,s])})}},this.setMapTranslate=function(){if("Map"==this.graphType&&this.meta.map&&"orthographic"==this.mapProjection){var t=this.meta.map.geojson.translate[0],e=this.meta.map.geojson.translate[1];this.meta.map.geojson.translate=[0,0];var i=this.layoutComb?this.layoutWidth:this.width,a=this.layoutComb?this.layoutHeight:this.height,s=this.mapCoordinateToPoint([0,0],!0);isNaN(s[0])&&isNaN(s[1])?this.meta.map.geojson.translate=[t,e]:this.meta.map.geojson.translate=[Math.round(s[0]-i/2),Math.round(s[1]-a/2)]}},this.setMapLayerBounds=function(){var t=this.meta.map.geojson,e=this.layoutComb?this.layoutWidth:this.width,i=this.layoutComb?this.layoutHeight:this.height;t.zoom=this.mapConfig&&this.mapConfig.zoom&&!t.isZoomed?this.mapConfig.zoom:t.geometry.zoom*this.zoom;var a=this.mapConfig&&this.mapConfig.center&&!t.isZoomed?this.mapConfig.center:[t.geometry.center[1],t.geometry.center[0]];"orthographic"==this.mapProjection&&(this.panningX||this.panningY)&&this.geoProjection&&((a=this.geoProjection.rotate())[0]+=this.panningX*this.rotationSensitivity/e/4,a[1]-=this.panningY*this.rotationSensitivity/i/4,this.panningX=0,this.panningY=0,this.geoProjection.rotate(a));var s=this.mapCoordinateToPoint(a),r="orthographic"==this.mapProjection?[Math.round(s[0]+t.center[0]-e/2),Math.round(s[1]+t.center[1]-i/2)]:[Math.round(s[0]+t.center[0]-(e/2+this.panningX)),Math.round(s[1]+t.center[1]-(i/2+this.panningY))];t.center=r;var n=.1*e,o=.1*i;t.bounds={min:[Math.round(-n),Math.round(-o)],max:[Math.round(e+n),Math.round(i+o)]},this.setMapTranslate()},this.isMapSizeChanged=function(){if("Map"==this.graphType&&this.meta.map){var t=this.layoutComb?this.layoutWidth:this.width,e=this.layoutComb?this.layoutHeight:this.height,i=this.meta.map.geojson.geometry;if(i.initial){var a=i.initial.canvas;return t!=a[0]||e!=a[1]}return!0}},this.mapCoordinateToPoint=function(t,e){var i=t[1]*this.mapRadian,a=t[0]*this.mapRadian,s=256*Math.pow(2,this.meta.map.geojson.zoom||1),r=this.meta.map.geojson.translate||[0,0],n=this.meta.map.geojson.center||[0,0];if("albers"==this.mapProjection){var o=this.mapMeanPhi*(i-this.mapCentralMeridianRad);i=(h=Math.sqrt(this.mapC-2*this.mapMeanPhi*Math.sin(a))/this.mapMeanPhi)*Math.sin(o),a=this.mapP0-h*Math.cos(o)}else if("orthographic"==this.mapProjection){var h;if(this.geoPath)return(h=this.geoPath({type:"Point",coordinates:[t[1],t[0]]})).length?[h[0][0][0],h[0][0][1]]:[NaN,NaN];if(!e&&Math.cos(a)*Math.cos(i)<=0)return[NaN,NaN];i=Math.cos(a)*Math.sin(i),a=Math.sin(a)}else{var l=85*this.mapRadian,c=Math.max(Math.min(l,a),-l),d=Math.sin(c);a=Math.log((1+d)/(1-d))/2}return i=s*(this.mapUnits*i+.5),a=s*(-this.mapUnits*a+.5),"orthographic"==this.mapProjection?[i-r[0],a-r[1]]:[i-n[0],a-n[1]]},this.mapPointToCoordinate=function(t){var e=t[0],i=t[1],a=256*Math.pow(2,this.meta.map.geojson.zoom||1),s=function(t){return t>1?Math.PI/2:t<-1?-Math.PI/2:Math.asin(t)};if(e=(e/a-.5)/this.mapUnits,i=(i/a-.5)/-this.mapUnits,"albers"==this.mapProjection){var r=Math.atan(e/(this.mapP0-i));t=Math.sqrt(e*i+Math.pow(this.mapP0-i,2));e=(this.mapCentralMeridianRad+r/this.mapMeanPhi)*this.mapDegrees,i=Math.asin((this.mapC-t*t*this.mapMeanPhi*this.mapMeanPhi)/(2*this.mapMeanPhi))*this.mapDegrees}else if("orthographic"==this.mapProjection){var n=Math.sqrt(e*e+i*i),o=s(n),h=Math.sin(o),l=Math.cos(o);e=Math.atan2(e*h,n*l)*this.mapDegrees,i=s(n&&i*h/n)*this.mapDegrees}else e*=this.mapDegrees,i=(2*Math.atan(Math.exp(i))-Math.PI/2)*this.mapDegrees;return[e,i]},this.canvasPointToCoordinate=function(t,e){var i=this.layoutComb?this.layoutParams[0].width:this.width,a=this.layoutComb?this.layoutParams[0].height:this.height,s=this.meta.map.geojson,r=this.mapConfig&&this.mapConfig.center&&!s.isZoomed?this.mapConfig.center:s.geometry.center,n=s.zoom,o=Math.pow(2,n);t=i/2+(t-i/2)*(1-1/o),e=a/2+(e-a/2)*(1-1/o);var h="orthographic"==this.mapProjection?this.mapPointToCoordinate([t+s.translate[0],e+s.translate[1]]):this.mapPointToCoordinate([t+s.center[0],e+s.center[1]]);return"orthographic"==this.mapProjection?[Number(h[1]+Number(r[1])),Number(h[0]+Number(r[0]))]:h},this.setMapLayerPoints=function(t,e){for(var i=this.meta.map.geojson.features,a=0;a<i.length;a++)if(!i[a].hidden){var s=i[a].coordinates;if(s)for(var r=i[a].parts=[],n=0;n<s.length;n++){r[n]=[];for(var o=0;o<s[n].length;o++){r[n][o]=[];for(var h=0;h<s[n][o].length;h++){var l=s[n][o][h],c="orthographic"==this.mapProjection?this.mapCoordinateToPoint(this.mapRotate(l)):this.mapCoordinateToPoint(l);r[n][o].push([Math.round(c[0]),Math.round(c[1])])}}}}},this.mapMidPoint=function(t,e,i,a){var s=this.radians(a-e);t=this.radians(t),i=this.radians(i),e=this.radians(e);var r=Math.cos(i)*Math.cos(s),n=Math.cos(i)*Math.sin(s),o=Math.atan2(Math.sin(t)+Math.sin(i),Math.sqrt((Math.cos(t)+r)*(Math.cos(t)+r)+n*n)),h=e+Math.atan2(n,Math.cos(t)+r);return[this.degrees(o),this.degrees(h)]},this.mapRotate=function(t,e){var i,a,s,r=t[0]*this.mapRadian,n=t[1]*this.mapRadian,o=Math.cos(r),h=Math.cos(n)*o,l=Math.sin(n)*o,c=Math.sin(r);return e?(i=this.mapCosLat*this.mapCosLng*h+this.mapSinLng*l+this.mapSinLat*this.mapCosLng*c,a=-this.mapCosLat*this.mapSinLng*h+this.mapCosLng*l-this.mapSinLat*this.mapSinLng*c,s=-this.mapSinLat*h+this.mapCosLat*c):(i=this.mapCosLat*this.mapCosLng*h+this.mapCosLat*this.mapSinLng*l+this.mapSinLat*c,a=-this.mapSinLng*h+this.mapCosLng*l,s=-this.mapSinLat*this.mapCosLng*h-this.mapSinLat*this.mapSinLng*l+this.mapCosLat*c),[Math.asin(s)*this.mapDegrees,Math.atan2(a,i)*this.mapDegrees]},this.clipMapPoints=function(){var t=function(t,e){var i=0;t[0]<e.min[0]?i|=1:t[0]>e.max[0]&&(i|=2),t[1]<e.min[1]?i|=4:t[1]>e.max[1]&&(i|=8),t[2]=i},e=function(t,e,i,a){var s,r,n=e[0]-t[0],o=e[1]-t[1],h=a.min,l=a.max;return 8&i?(s=t[0]+n*(l[1]-t[1])/o,r=l[1]):4&i?(s=t[0]+n*(h[1]-t[1])/o,r=h[1]):2&i?(s=l[0],r=t[1]+o*(l[0]-t[0])/n):1&i&&(s=h[0],r=t[1]+o*(h[0]-t[0])/n),[s,r,!0]},i=this.meta.map.geojson,a=i.features,s=this.cloneObject(i.bounds);s.min[0]-=3,s.min[1]-=3,s.max[0]+=3,s.max[1]+=3;for(var r=0;r<a.length;r++)if(!a[r].hidden){var n=a[r].parts;if(n){for(var o=[1,4,2,8],h=0;h<n.length;h++)for(var l=0;l<n[h].length;l++)for(var c=0;c<n[h][l].length;c++)t(n[h][l][c],s);for(h=0;h<n.length;h++)for(l=0;l<n[h].length;l++)for(var d=0;d<o.length;d++){var p=[],g=n[h][l].length,u=g-1;for(c=0;c<g;c++){var m=n[h][l][c],f=n[h][l][u];if(m[2]&o[d]){if(!(f[2]&o[d]))t(y=e(f,m,o[d],s),s),p.push(y)}else{var y;if(f[2]&o[d])t(y=e(f,m,o[d],s),s),p.push(y);p.push(m)}u=c}n[h][l]=p}}}},this.simplifyMapPoints=function(){for(var t=function(t,e){var i=e[0]-t[0],a=e[1]-t[1];return i*i+a*a},e=function(t,e,i){var a,s=e[0],r=e[1],n=i[0]-s,o=i[1]-r,h=n*n+o*o;return h>0&&((a=((t[0]-s)*n+(t[1]-r)*o)/h)>1?(s=i[0],r=i[1]):a>0&&(s+=n*a,r+=o*a)),(n=t[0]-s)*n+(o=t[1]-r)*o},i=function(t,a,s,r,n){for(var o,h,l=0,c=r+1;c<=n-1;c++)(h=e(t[c],t[r],t[n]))>l&&(o=c,l=h);l>s&&(a[o]=1,i(t,a,s,r,o),i(t,a,s,o,n))},a=function(e,a){if(!a||!e.length)return e.slice();var s=a*a;return e=function(t,e){var a=t.length,s=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(a);s[0]=s[a-1]=1,i(t,s,e,0,a-1);for(var r=[],n=0;n<a;n++)s[n]&&r.push(t[n]);return r}(e=function(e,i){for(var a=[e[0]],s=e.length,r=0,n=1;n<s;n++)t(e[n],e[r])>i&&(a.push(e[n]),r=n);return r<s-1&&a.push(e[s-1]),a}(e,s),s)},s=this.meta.map.geojson.features,r=0;r<s.length;r++)if(!s[r].hidden){var n=s[r].parts;if(n)for(var o=0;o<n.length;o++)for(var h=0;h<n[o].length;h++)n[o][h]=a(n[o][h],1)}},this.drawMapGraticule=function(){if(this.mapGraticuleShow)for(var t=this.graticule(),e="orthographic"==this.mapProjection?this.geoPath(this.geoGraticule):t.coordinates,i=0,a="dashed"==this.mapGraticuleType?"dashedSpline":"spline",s=0;s<e.length;s++){for(var r=[],n=[],o=0;o<e[s].length;o++){var h=e[s][o],l="orthographic"==this.mapProjection?h:this.mapCoordinateToPoint([h[1],h[0]]);isNaN(l[0])||isNaN(l[1])?r.length&&(this.toRender({p:["drawLine",a,r,n,!1,!1,"black","0.1"],a:this.getLineArea(a,r,n,!1,!1,"black","0.1"),i:["Graticule:"+i++],t:"Axes"}),r=[],n=[]):(r.push(l[0]),n.push(l[1]))}r.length&&this.toRender({p:["drawLine",a,r,n,!1,!1,"black","0.1"],a:this.getLineArea(a,r,n,!1,!1,"black","0.1"),i:["Graticule:"+i++],t:"Axes"})}},this.drawMapLayer=function(t){var e=null,i=t.properties.varId?this.commonElementsInArrays(t.properties.varId,this.varIndices):[],a=this.getSampleIndices(this.colorBy),s=this.colorBy&&a>=0?a:this.colorBy&&i.length?i[0]:-1,r=this.sizeBy?this.getSampleIndices(this.sizeBy):-1,n=this.sizeBy&&r>=0&&i.length?this.data.y.data[i[0]][r]:0,o=this.colorBy&&i.length&&a>=0?this.getPropertyValue(i[0],s,"colorBy"):this.colorBy&&i.length?this.getPropertyValue(s,null,"colorBy"):this.colorBy&&null!=t.id&&this.isNumeric(t.id)?this.getPropertyValue(t.id,null,"colorBy"):this.mapColor,h=this.sizeBy&&i.length&&r>=0?this.getPropertyValue(i[0],r,"sizeBy"):0,l="orthographic"==this.mapProjection?this.geoPath({type:"FeatureCollection",features:[t]}):t.parts,c=this.decorations&&this.decorations.pie;if(l&&!t.hidden){var d,p,g=this.isUSAMap?CanvasXpress.usa[t.properties.key]:!!this.isWorldMap&&CanvasXpress.countries[t.properties.key];if(g&&n){var u=g.length,m=this.mapCoordinateToPoint([g[u-2],g[u-1]]);this.isUSAMap&&"albers"==this.mapProjection&&("AK"==t.properties.key?m=this.mapCoordinateToPoint([27.5,-112]):"HI"==t.properties.key&&(m=this.mapCoordinateToPoint([26.5,-104]))),d=m[0],p=m[1]}var f=["MapKey:"+t.properties.key,[Math.max(0,a)]],y=!this.isDOE||this.isDOE&&this.data.l.doe.includes(i[0])?this.getFillColor(o,f):"rgba(0,0,0,0)",x="useBackground"==this.mapOutlineColor?this.background:this.getOutlineColor(this.mapOutlineColor,f),b=!!this.colorBy&&!!(this.data.z&&this.data.z.hasOwnProperty(this.colorBy)&&this.hiddenLegends["Property:"+this.colorBy+":"+this.data.z[this.colorBy][s]+":z"]);if("orthographic"==this.mapProjection)for(var v=0;v<l.length;v++){for(var A=[],w=[],C=0;C<l[v].length;C++){var T=l[v][C];if(isNaN(T[0])&&isNaN(T[1])){if(A.length&&w.length){var S=this.toRender({p:["drawShape","polygon",A,w,!1,!1,y,x],a:this.getShapeArea("polygon",A,w,!1,!1,y,x),i:f,g:e,t:"Data",h:b});null==e&&(e=S),A=[],w=[]}}else A.push(T[0]),w.push(T[1])}if(A.length&&w.length){S=this.toRender({p:["drawShape","polygon",A,w,!1,!1,y,x],a:this.getShapeArea("polygon",A,w,!1,!1,y,x),i:f,g:e,t:"Data",h:b});null==e&&(e=S)}}else for(v=0;v<l.length;v++)for(C=0;C<l[v].length;C++){A=[],w=[];for(var D=0;D<l[v][C].length;D++){T=l[v][C][D];if(isNaN(T[0])&&isNaN(T[1])){if(A.length&&w.length){S=this.toRender({p:["drawShape","polygon",A,w,!1,!1,y,x],a:this.getShapeArea("polygon",A,w,!1,!1,y,x),i:f,g:e,t:"Data",h:b});null==e&&(e=S),A=[],w=[]}}else A.push(T[0]),w.push(T[1])}if(A.length&&w.length){S=this.toRender({p:["drawShape","polygon",A,w,!1,!1,y,x],a:this.getShapeArea("polygon",A,w,!1,!1,y,x),i:f,g:e,t:"Data",h:b});null==e&&(e=S)}}this.sizeBy&&d&&p&&n&&!c&&this.toRender({p:["drawShape","circle",d,p,1.2*h,1.2*h,"rgba(255,0,0,0.6)",this.mapOutlineColor],t:"Data"})}if(this.motionBy){var M=this.left+this.x,k=this.top+this.y+2*this.margin;this.toRender({p:["drawText",this.motionObject.current,M,k,this.motionCurrentFont,this.motionCurrentColor,"right","bottom"],t:"Data"})}},this.drawMapPieDecoration=function(t){var e=t.properties.varId?this.commonElementsInArrays(t.properties.varId,this.varIndices):[],i=this.sizeBy?this.getSampleIndices(this.sizeBy):-1,a=this.sizeBy&&e.length&&i>=0?this.getPropertyValue(e[0],i,"sizeBy"):0;if(t.parts){var s=this.isUSAMap?CanvasXpress.usa[t.properties.key]:!!this.isWorldMap&&CanvasXpress.countries[t.properties.key];if(s&&!t.hidden&&this.decorations&&this.decorations.pie&&this.decorations.pie[0]&&e[0]){var r=s.length,n=this.mapCoordinateToPoint([s[r-2],s[r-1]]),o=!1;if(this.isUSAMap&&"albers"==this.mapProjection&&("AK"==t.properties.key?n=this.mapCoordinateToPoint([27.5,-112]):"HI"==t.properties.key&&(n=this.mapCoordinateToPoint([26.5,-104]))),this.isUSAMap&&this.decorations&&this.decorations.pie)switch(t.properties.key){case"CT":o=this.mapCoordinateToPoint([s[r-2]-1.8,s[r-1]+1.4]);break;case"DE":o=this.mapCoordinateToPoint([s[r-2]-3.5,s[r-1]+2.4]);break;case"DC":o=this.mapCoordinateToPoint([s[r-2]-5.8,s[r-1]+2.5]);break;case"MD":o=this.mapCoordinateToPoint([s[r-2],s[r-1]+.6]);break;case"NJ":o=this.mapCoordinateToPoint([s[r-2]-2.2,s[r-1]+1.3]);break;case"RI":o=this.mapCoordinateToPoint([s[r-2]-.7,s[r-1]+2.8]);break;case"VT":o=this.mapCoordinateToPoint([s[r-2]+2,s[r-1]]);break;case"MA":o=this.mapCoordinateToPoint([s[r-2]+.8,s[r-1]+3.5])}}if(this.decorations&&this.decorations.pie&&this.decorations.pie[0]&&e[0]&&n){for(var h=[],l=[e[0]],c=0;c<this.decorations.pie[0].idxs.length;c++)h.push(this.data.y.data[e[0]][this.decorations.pie[0].idxs[c]]),l.push(this.decorations.pie[0].idxs[c]);var d=this.decorations.pie[0].colors||!1,p=this.sizeBy?a:(this.decorations.pie[0].size||3)*this.meta.map.geojson.zoom+(this.meta.map.geojson.zoom>4?5:0),g=this.setPieData(h,!1,d);o?(this.toRender({p:["drawLine","solid",o[0],o[1],n[0],n[1]],t:"Decorations"}),this.drawPie(g,o[0],o[1],p,[l])):this.drawPie(g,n[0],n[1],p,[l])}}},this.drawMapConnections=function(){if(this.decorations&&this.decorations.connections)for(var t=this,e=function(e,i,a,s){var r=t.radians(s-i);e=t.radians(e),a=t.radians(a),i=t.radians(i);var n=Math.cos(a)*Math.cos(r),o=Math.cos(a)*Math.sin(r),h=Math.atan2(Math.sin(e)+Math.sin(a),Math.sqrt((Math.cos(e)+n)*(Math.cos(e)+n)+o*o)),l=i+Math.atan2(o,Math.cos(e)+n);return[t.degrees(h),t.degrees(l)]},i=0;i<this.decorations.connections.length;i++){var a=this.decorations.connections[i];if(a.source&&2==a.source.length&&a.target&&2==a.target.length){var s=this.mapCoordinateToPoint(a.source),r=s[0],n=s[1],o=this.mapCoordinateToPoint(a.target),h=o[0],l=o[1],c="markerCon"+i,d=a.color||"red";if(a.type.match(/spline/)){var p=e(a.source[0],a.source[1],a.target[0],a.target[1]),g=this.mapCoordinateToPoint(p),u=g[0],m=g[1];this.toRender({p:["drawLine",a.type,[r,u,h],[n,m,l],!1,!1,d],a:this.getLineArea(a.type,[r,u,h],[n,m,l],!1,!1,d),i:["Connection:"+c],t:"Decorations"})}else this.toRender({p:["drawLine",a.type,r,n,h,l,d],a:this.getLineArea(a.type,r,n,h,l,d),i:["Connection:"+c],t:"Decorations"})}}},this.drawMapMarkers=function(){if(this.decorations&&this.decorations.marker)for(var t=0;t<this.decorations.marker.length;t++){var e=this.decorations.marker[t],i=this.meta.map.geojson.zoom?this.meta.map.geojson.zoom:1;if(e.lat&&e.lng||e.Lat&&e.Lng||e.latitude&&e.longitude||e.Latitude&&e.Longitude||e.coords&&2==e.coords.length){var a=e.lat||e.Lat||e.latitude||e.Latitude||e.coords[0],s=e.lng||e.Lng||e.longitude||e.Longitude||e.coords[1],r=(d=this.mapCoordinateToPoint([a,s]))[0],n=d[1],o=(e.size||this.margin)*i,h="markerPos"+t,l=this.toRender({p:["drawShape",e.shape||"drop",r,n,o,o,e.color||"red",this.mapOutlineColor],a:this.getShapeArea(e.shape||"drop",r,n,o,o,e.color||"red",this.mapOutlineColor),i:["Marker:"+h+":[ "+a+", "+s+" ]"],t:"Decorations"});(e.label||e.text)&&this.toRender({p:["drawText",e.label||e.text,r,n,this.font,this.fontColor,"center","middle"],a:this.getTextArea(e.label,r,n,this.font,this.fontColor,"center","middle"),i:["Marker:"+h+"-text:[ "+a+", "+s+" ]"],g:l,t:"Decorations"})}}else if(this.markerBy&&this.data.x.hasOwnProperty(this.markerBy)){var c=this.data.x;for(i=this.meta.map.geojson.zoom?this.meta.map.geojson.zoom:1,t=0;t<c[this.markerBy].length;t++){a=c.lat?c.lat[t]:c.Lat?c.Lat[t]:c.latitude?c.latitude[t]:!!c.Latitude&&c.Latitude[t],s=c.lng?c.lng[t]:c.Lng?c.Lng[t]:c.longitude?c.longitude[t]:!!c.Longitude&&c.Longitude[t];if(null!=a&&null!=s){r=(d=this.mapCoordinateToPoint([a,s]))[0],n=d[1],o=c.size?c.size[t]*i:this.margin*i;var d,p=c.shape?c.shape[t]:"drop",g=this.getPropertyValue(0,t,"markerBy");h="markerBy"+t;if(this.motionBy)if(c[this.motionBy][t]!=this.motionObject.current)continue;this.toRender({p:["drawShape",p,r,n,o,o,g,this.mapOutlineColor],a:this.getShapeArea("drawShape",p,r,n,o,o,g,this.mapOutlineColor),i:["Marker:"+h+": ["+a+", "+s+" ]"],t:"Decorations"})}}}},this.drawMapBorder=function(){if("orthographic"==this.mapProjection){var t=this.layoutComb?this.layoutWidth:this.width,e=this.layoutComb?this.layoutHeight:this.height,i=.86*e*this.zoom;this.toRender({p:["drawShape","circle",t/2,e/2,i,i,!1,this.mapOutlineColor,"open"],t:"Axes"}),this.meta.map.geojson.center=[0,0]}},this.setMapDimensions=function(){this.layoutComb?(this.x=this.layoutWidth-(this.marginLeft+this.left+this.right+this.marginRight),this.y=this.layoutHeight-(this.marginTop+this.top+this.bottom+this.marginBottom)):(this.x=this.width-(this.marginLeft+this.left+this.right+this.marginRight),this.y=this.height-(this.marginTop+this.top+this.bottom+this.marginBottom+(this.motionBy?40:0)),this.motionBy&&!this.reproducing&&this.addMotionDiv())},this.setMapColors=function(){this.colorBy&&!this.colorBy.match(/variable|sample/i)&&this.meta.data.z&&this.meta.data.z[this.colorBy]&&this.meta.data.z[this.colorBy].colors&&this.colors.length<this.meta.data.z[this.colorBy].colors.length&&(this.colors=this.meta.data.z[this.colorBy].colors)},this.addMapData=function(){var t=[],e={},i={},a=!!this.meta.map.geojson&&this.meta.map.geojson.features,s=this,r=0,n=0,o=function(t,i){var a=t.id?t.id:i,s=t.properties?t.properties:{},o=s.name||s.NAME||s.Name;return c.hasOwnProperty(o)&&e[o]?(r++,o):l.hasOwnProperty(o)&&e[o]?(n++,o):c.hasOwnProperty(a)&&e[a]?(r++,a):l.hasOwnProperty(a)&&e[a]?(n++,a):a},h=function(t,e){for(var i in t)if("varId"!=i&&"key"!=i)if(null!=e)s.data.z.hasOwnProperty(i)||(s.data.z[i]=[]),s.data.z[i][e]=t[i];else{s.data.z.hasOwnProperty(i)||(s.data.z[i]=[]);for(var a=0;a<t.varId.length;a++)s.data.z[i][t.varId[a]]=t[i]}},l=function(){var t={};for(var e in CanvasXpress.countries)t[e]=e,t[CanvasXpress.countries[e][0]]=e,t[CanvasXpress.countries[e][3]]=e;return t}(),c=function(){var t={};for(var e in CanvasXpress.usa)t[e]=e,t[CanvasXpress.usa[e][0]]=e;return t}();if(a)for(var d=0;d<a.length;d++){var p=a[d],g=p.id?p.id:p.properties&&this.mapPropertyId&&p.properties[this.mapPropertyId]?p.properties[this.mapPropertyId]:"Id"+(d+1);p.id||(p.id=g),t.push([g,p.properties]),i[g]=d}if(this.isExample){var u={y:{vars:[],smps:["Order"],data:[]},z:{id:[]}};this.$(this.target).style.display="block";for(d=0;d<t.length;d++)e[t[d][0]]=[d];for(d=0;d<t.length;d++){var m=t[d];u.y.data.push([d]),u.y.vars.push(m[1].name||m[0]),u.z.id.push(m[0]||null)}this.updateData(u,!1,!0)}else{var f=!1,y=0;if(this.data.z){for(var d in this.data.z)if(d.match(/country|Country|state|State/)){f=d;break}}else this.data.z={};if(this.data.z.id=[],this.data.z.name=[],!f)for(d=0;d<this.data.y.vars.length;d++){var x=this.data.y.vars[d];i.hasOwnProperty(x)&&y++}for(d=0;d<this.data.y.vars.length;d++){x=this.data.y.vars[d];var b=null;l.hasOwnProperty(x)||c.hasOwnProperty(x)?b=c[x]||l[x]:f?b=this.data.z[f][d]:y&&(b=x),this.data.z.id.push(b),null!=b&&(e.hasOwnProperty(b)||(e[b]=[]),e[b].push(d))}for(d=0;d<t.length;d++){if(null!=(b=(m=t[d])[1].hasOwnProperty("name")&&(l.hasOwnProperty(m[1].name)||c.hasOwnProperty(m[1].name))?c[m[1].name]||l[m[1].name]:m[1].hasOwnProperty("NAME")&&(l.hasOwnProperty(m[1].NAME)||c.hasOwnProperty(m[1].NAME))?c[m[1].NAME]||l[m[1].NAME]:l.hasOwnProperty(m[0])||c.hasOwnProperty(m[0])?c[m[0]]||l[m[0]]:null)&&e.hasOwnProperty(b))for(var v=0;v<e[b].length;v++){var A=e[b][v];m[1].hasOwnProperty("name")&&(l.hasOwnProperty(m[1].name)||c.hasOwnProperty(m[1].name))?this.data.z.name[A]=c.hasOwnProperty(m[1].name)?CanvasXpress.usa[b][0]:CanvasXpress.countries[b][0]:m[1].hasOwnProperty("NAME")&&(l.hasOwnProperty(m[1].NAME)||c.hasOwnProperty(m[1].NAME))?this.data.z.name[A]=c.hasOwnProperty(m[1].NAME)?CanvasXpress.usa[b][0]:CanvasXpress.countries[b][0]:this.data.z.name[A]=null}}this.updateData(this.cloneObject(this.data),!1,!0)}if(a){for(d=0;d<a.length;d++){var w=a[d].properties;b=o(a[d],this.data.y.vars[d]);w.varId=null!=b?e[b]:[null],w.key=b||a[d].id,w.varId?h(w):h(w,a[d].id||d)}n>100?this.isWorldMap=!0:r>40&&(this.isUSAMap=!0)}this.updateData(this.cloneObject(this.data),!1,!0),this.validatePropertyValues(),this.mapVarIds=e},this.setMapSmps=function(){this.mapSmpIndices=[],0==this.mapSmps.length&&this.mapSmps.push(this.data.y.smps[0]);for(var t=0;t<this.mapSmps.length;t++){(i=this.getSampleIndices(this.mapSmps[t]))>-1&&this.mapSmpIndices.push(i)}if(this.decorations&&this.decorations.pie){var e=this.decorations.pie[0];if(e.smps){e.idxs=[];for(t=0;t<e.smps.length;t++){var i;(i=this.getSampleIndices(e.smps[t]))>-1&&e.idxs.push(i)}}}},this.setMapParameters=function(){this.mapPI=Math.PI,this.mapPI2=2*Math.PI,this.mapPIhlf=Math.PI/2,this.mapRadian=Math.PI/180,this.mapDegrees=180/Math.PI,this.mapUnits=.5/Math.PI,this.mapLatitudeOriginRad=this.mapLatitudeOrigin*this.mapRadian,this.mapCentralMeridianRad=this.mapCentralMeridian*this.mapRadian,this.mapStandardParallel1Rad=this.mapStandardParallel1*this.mapRadian,this.mapStandardParallel2Rad=this.mapStandardParallel2*this.mapRadian,this.mapSinPhi1=Math.sin(this.mapStandardParallel1Rad),this.mapCosPhi1=Math.cos(this.mapStandardParallel1Rad),this.mapMeanPhi=(Math.sin(this.mapStandardParallel1Rad)+Math.sin(this.mapStandardParallel2Rad))/2,this.mapC=this.mapCosPhi1*this.mapCosPhi1+2*this.mapMeanPhi*this.mapSinPhi1,this.mapP0=Math.sqrt(this.mapC-2*this.mapMeanPhi*Math.sin(this.mapLatitudeOriginRad))/this.mapMeanPhi,this.mapRotationLat=this.mapConfig&&this.mapConfig.center?this.mapConfig.center[1]%360*this.mapRadian:0,this.mapRotationLng=this.mapConfig&&this.mapConfig.center?(90-this.mapConfig.center[0])%360*this.mapRadian:0,this.mapCosLat=Math.cos(this.mapRotationLat),this.mapSinLat=Math.sin(this.mapRotationLat),this.mapCosLng=Math.sin(this.mapRotationLng),this.mapSinLng=Math.cos(this.mapRotationLng)},this.setMapAttributes=function(t){this.meta.map&&(this.setMapParameters(),t?this.isMapSizeChanged()&&this.setMapZoomCenter(!0):(this.setMapLayerCoordinates(),this.setMapZoomCenter()),this.setMapLayerBounds(),this.setMapLayerPoints(),this.clipMapPoints(),this.simplifyMapPoints())},this.drawMapData=function(){if(this.meta.map&&(this.legendInside=!0,this.meta.map.geojson)){this.layoutValid||this.toRender({p:["setClipArea"],t:"Data"}),this.drawMapGraticule();for(var t=0;t<this.meta.map.geojson.features.length;t++)this.drawMapLayer(this.meta.map.geojson.features[t]);if(this.decorations&&this.decorations.pie&&this.decorations.pie[0]&&!this.layoutValid)for(t=0;t<this.meta.map.geojson.features.length;t++)this.drawMapPieDecoration(this.meta.map.geojson.features[t]);this.layoutValid||this.toRender({p:["resetClipArea"],t:"Data"}),this.drawMapBorder(),this.drawLegend(),this.drawMapConnections(),this.drawMapMarkers(),this.drawTitle()}},this.drawMap=function(){this.hideUnhideMapFeatures(this.hiddenMapFeatures,!0),this.hideUnhideMapFeatures(this.visibleMapFeatures,!1,this.visibleMapFeatures.length),this.setMapAttributes(!this.layoutValid&&this.mapInitialized),this.mapInitialized||(this.addMapData(),this.setMapSmps(),this.mapInitialized=!0),this.setLegends(),this.setMapDimensions(),this.initializeOrthographic(),this.setMapColors(),this.drawMapData()},this.initializeMap=function(){if(this.meta.hasOwnProperty("map")||(this.meta.map={}),!this.meta.map.hasOwnProperty("geojson")){if(window[this.mapId]&&window[this.mapId].hasOwnProperty("objects")){var t=window[this.mapId],e=Object.keys(t.objects),i=e[e.length-1],a=t.objects[i];this.meta.map.geojson=this.topojsonFeature(t,a)}else window[this.mapId]?this.meta.map.geojson=window[this.mapId]:this.meta.config.user.topoJSON&&(window[this.mapId]=this.meta.config.user.topoJSON,this.meta.map.geojson=window[this.mapId]);this.configureMapFeatures(),this.setAllMapFeaturesVisible()}this.Orthographic(),this.layoutValid?this.drawLayoutCompartments(this.drawMap):this.drawMap()},this.initializeMap()},CanvasXpress.prototype.Orthographic=function(){this.d3Geo=function(){var t=1e-6,e=Math.PI,i=2*e,a=e/2,s=e/180,r=180/e,n=Math.abs;function o(t){return t>0?1:t<0?-1:0}function h(t,e,i){return(e[0]-t[0])*(i[1]-t[1])-(e[1]-t[1])*(i[0]-t[0])}function l(t){return t>1?0:t<-1?e:Math.acos(t)}function c(t){return t>1?a:t<-1?-a:Math.asin(t)}function d(t){return(t=Math.sin(t/2))*t}function p(){}function g(t){return t}var u={};function m(){}m.prototype={s:0,t:0,add:function(t){y(t,this.t,f),y(f.s,this.s,this),this.s?this.t+=f.t:this.s=f.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var f=new m;function y(t,e,i){var a=i.s=t+e,s=a-t,r=a-s;i.t=t-r+(e-s)}function x(t){for(var e,i,a,s=t.length,r=-1,n=0;++r<s;)n+=t[r].length;for(i=new Array(n);--s>=0;)for(e=(a=t[s]).length;--e>=0;)i[--n]=a[e];return i}function b(t,e,i){t=+t,e=+e,i=(s=arguments.length)<2?(e=t,t=0,1):s<3?1:+i;for(var a=-1,s=0|Math.max(0,Math.ceil((e-t)/i)),r=new Array(s);++a<s;)r[a]=t+a*i;return r}function v(t,e,i){return function(){var a=i.apply(e,arguments);return a===e?t:a}}function A(t,e){t&&C.hasOwnProperty(t.type)&&C[t.type](t,e)}u.stream=function(t,e){t&&w.hasOwnProperty(t.type)?w[t.type](t,e):A(t,e)};var w={Feature:function(t,e){A(t.geometry,e)},FeatureCollection:function(t,e){for(var i=t.features,a=-1,s=i.length;++a<s;)A(i[a].geometry,e)}},C={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var i=t.coordinates,a=-1,s=i.length;++a<s;)t=i[a],e.point(t[0],t[1],t[2])},LineString:function(t,e){T(t.coordinates,e,0)},MultiLineString:function(t,e){for(var i=t.coordinates,a=-1,s=i.length;++a<s;)T(i[a],e,0)},Polygon:function(t,e){S(t.coordinates,e)},MultiPolygon:function(t,e){for(var i=t.coordinates,a=-1,s=i.length;++a<s;)S(i[a],e)},GeometryCollection:function(t,e){for(var i=t.geometries,a=-1,s=i.length;++a<s;)A(i[a],e)}};function T(t,e,i){var a,s=-1,r=t.length-i;for(e.lineStart();++s<r;)a=t[s],e.point(a[0],a[1],a[2]);e.lineEnd()}function S(t,e){var i=-1,a=t.length;for(e.polygonStart();++i<a;)T(t[i],e,1);e.polygonEnd()}u.area=function(t){return D=0,u.stream(t,E),D};var D,M,k,L,I,B,N,F,P,R,O,X,z=new m,E={sphere:function(){D+=4*e},point:p,lineStart:p,lineEnd:p,polygonStart:function(){z.reset(),E.lineStart=_},polygonEnd:function(){var t=2*z;D+=t<0?4*e+t:t,E.lineStart=E.lineEnd=E.point=p}};function _(){var t,i,a,r,n;function o(t,i){i=i*s/2+e/4;var o=(t*=s)-a,h=o>=0?1:-1,l=h*o,c=Math.cos(i),d=Math.sin(i),p=n*d,g=r*c+p*Math.cos(l),u=p*h*Math.sin(l);z.add(Math.atan2(u,g)),a=t,r=c,n=d}E.point=function(h,l){E.point=o,a=(t=h)*s,r=Math.cos(l=(i=l)*s/2+e/4),n=Math.sin(l)},E.lineEnd=function(){o(t,i)}}function H(t){var e=t[0],i=t[1],a=Math.cos(i);return[a*Math.cos(e),a*Math.sin(e),Math.sin(i)]}function V(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function G(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function q(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function j(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function U(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Y(t){return[Math.atan2(t[1],t[0]),c(t[2])]}function W(e,i){return n(e[0]-i[0])<t&&n(e[1]-i[1])<t}u.bounds=function(){var e,i,a,o,h,l,c,d,p,g,m,f={point:y,lineStart:b,lineEnd:v,polygonStart:function(){f.point=A,f.lineStart=w,f.lineEnd=C,p=0,E.polygonStart()},polygonEnd:function(){E.polygonEnd(),f.point=y,f.lineStart=b,f.lineEnd=v,z<0?(e=-(a=180),i=-(o=90)):p>t?o=90:p<-t&&(i=-90),m[0]=e,m[1]=a}};function y(t,s){g.push(m=[e=t,a=t]),s<i&&(i=s),s>o&&(o=s)}function x(t,l){var c=H([t*s,l*s]);if(d){var p=G(d,c),g=G([p[1],-p[0],0],p);U(g),g=Y(g);var u,m=t-h,f=m>0?1:-1,x=g[0]*r*f,b=n(m)>180;if(b^(f*h<x&&x<f*t))(u=g[1]*r)>o&&(o=u);else if(b^(f*h<(x=(x+360)%360-180)&&x<f*t))(u=-g[1]*r)<i&&(i=u);else l<i&&(i=l),l>o&&(o=l);b?t<h?T(e,t)>T(e,a)&&(a=t):T(t,a)>T(e,a)&&(e=t):a>=e?(t<e&&(e=t),t>a&&(a=t)):t>h?T(e,t)>T(e,a)&&(a=t):T(t,a)>T(e,a)&&(e=t)}else y(t,l);d=c,h=t}function b(){f.point=x}function v(){m[0]=e,m[1]=a,f.point=y,d=null}function A(t,e){if(d){var i=t-h;p+=n(i)>180?i+(i>0?360:-360):i}else l=t,c=e;E.point(t,e),x(t,e)}function w(){E.lineStart()}function C(){A(l,c),E.lineEnd(),n(p)>t&&(e=-(a=180)),m[0]=e,m[1]=a,d=null}function T(t,e){return(e-=t)<0?e+360:e}function S(t,e){return t[0]-e[0]}function D(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}return function(t){if(o=a=-(e=i=1/0),g=[],u.stream(t,f),h=g.length){g.sort(S);for(var s=1,r=[d=g[0]];s<h;++s)D((l=g[s])[0],d)||D(l[1],d)?(T(d[0],l[1])>T(d[0],d[1])&&(d[1]=l[1]),T(l[0],d[1])>T(d[0],d[1])&&(d[0]=l[0])):r.push(d=l);for(var n,h,l,c=-1/0,d=(s=0,r[h=r.length-1]);s<=h;d=l,++s)l=r[s],(n=T(d[1],l[0]))>c&&(c=n,e=l[0],a=d[1])}return g=m=null,e===1/0||i===1/0?[[NaN,NaN],[NaN,NaN]]:[[e,i],[a,o]]}}(),u.centroid=function(e){M=k=L=I=B=N=F=P=R=O=X=0,u.stream(e,$);var i=R,a=O,s=X,n=i*i+a*a+s*s;return n<1e-12&&(i=N,a=F,s=P,k<t&&(i=L,a=I,s=B),(n=i*i+a*a+s*s)<1e-12)?[NaN,NaN]:[Math.atan2(a,i)*r,c(s/Math.sqrt(n))*r]};var $={sphere:p,point:Q,lineStart:K,lineEnd:J,polygonStart:function(){$.lineStart=tt},polygonEnd:function(){$.lineStart=K}};function Q(t,e){t*=s;var i=Math.cos(e*=s);Z(i*Math.cos(t),i*Math.sin(t),Math.sin(e))}function Z(t,e,i){++M,L+=(t-L)/M,I+=(e-I)/M,B+=(i-B)/M}function K(){var t,e,i;function a(a,r){a*=s;var n=Math.cos(r*=s),o=n*Math.cos(a),h=n*Math.sin(a),l=Math.sin(r),c=Math.atan2(Math.sqrt((c=e*l-i*h)*c+(c=i*o-t*l)*c+(c=t*h-e*o)*c),t*o+e*h+i*l);k+=c,N+=c*(t+(t=o)),F+=c*(e+(e=h)),P+=c*(i+(i=l)),Z(t,e,i)}$.point=function(r,n){r*=s;var o=Math.cos(n*=s);t=o*Math.cos(r),e=o*Math.sin(r),i=Math.sin(n),$.point=a,Z(t,e,i)}}function J(){$.point=Q}function tt(){var t,e,i,a,r;function n(t,e){t*=s;var n=Math.cos(e*=s),o=n*Math.cos(t),h=n*Math.sin(t),c=Math.sin(e),d=a*c-r*h,p=r*o-i*c,g=i*h-a*o,u=Math.sqrt(d*d+p*p+g*g),m=i*o+a*h+r*c,f=u&&-l(m)/u,y=Math.atan2(u,m);R+=f*d,O+=f*p,X+=f*g,k+=y,N+=y*(i+(i=o)),F+=y*(a+(a=h)),P+=y*(r+(r=c)),Z(i,a,r)}$.point=function(o,h){t=o,e=h,$.point=n,o*=s;var l=Math.cos(h*=s);i=l*Math.cos(o),a=l*Math.sin(o),r=Math.sin(h),Z(i,a,r)},$.lineEnd=function(){n(t,e),$.lineEnd=J,$.point=Q}}function et(t,e){function i(i,a){return i=t(i,a),e(i[0],i[1])}return t.invert&&e.invert&&(i.invert=function(i,a){return(i=e.invert(i,a))&&t.invert(i[0],i[1])}),i}function it(t,e,i,a,s){var r=[],n=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,i=t[0],a=t[e];if(W(i,a)){s.lineStart();for(var o=0;o<e;++o)s.point((i=t[o])[0],i[1]);s.lineEnd()}else{var h=new st(i,t,null,!0),l=new st(i,null,h,!1);h.o=l,r.push(h),n.push(l),h=new st(a,t,null,!1),l=new st(a,null,h,!0),h.o=l,r.push(h),n.push(l)}}})),n.sort(e),at(r),at(n),r.length){for(var o=0,h=i,l=n.length;o<l;++o)n[o].e=h=!h;for(var c,d,p=r[0];;){for(var g=p,u=!0;g.v;)if((g=g.n)===p)return;c=g.z,s.lineStart();do{if(g.v=g.o.v=!0,g.e){if(u)for(o=0,l=c.length;o<l;++o)s.point((d=c[o])[0],d[1]);else a(g.x,g.n.x,1,s);g=g.n}else{if(u)for(o=(c=g.p.z).length-1;o>=0;--o)s.point((d=c[o])[0],d[1]);else a(g.x,g.p.x,-1,s);g=g.p}c=(g=g.o).z,u=!u}while(!g.v);s.lineEnd()}}}function at(t){if(e=t.length){for(var e,i,a=0,s=t[0];++a<e;)s.n=i=t[a],i.p=s,s=i;s.n=i=t[0],i.p=s}}function st(t,e,i,a){this.x=t,this.z=e,this.o=i,this.e=a,this.v=!1,this.n=this.p=null}function rt(a,s,r,n){return function(o,h){var l,d=s(h),p=o.invert(n[0],n[1]),g={point:u,lineStart:f,lineEnd:y,polygonStart:function(){g.point=T,g.lineStart=S,g.lineEnd=D,l=[],b=[]},polygonEnd:function(){g.point=u,g.lineStart=f,g.lineEnd=y,l=x(l);var a=function(a,s){var r=a[0],n=a[1],o=[Math.sin(r),-Math.cos(r),0],h=0,l=0;z.reset();for(var d=0,p=s.length;d<p;++d){var g=s[d],u=g.length;if(u)for(var m=g[0],f=m[0],y=m[1]/2+e/4,x=Math.sin(y),b=Math.cos(y),v=1;;){v===u&&(v=0);var A=(a=g[v])[0],w=a[1]/2+e/4,C=Math.sin(w),T=Math.cos(w),S=A-f,D=S>=0?1:-1,M=D*S,k=M>e,L=x*C;if(z.add(Math.atan2(L*D*Math.sin(M),b*T+L*Math.cos(M))),h+=k?S+D*i:S,k^f>=r^A>=r){var I=G(H(m),H(a));U(I);var B=G(o,I);U(B);var N=(k^S>=0?-1:1)*c(B[2]);(n>N||n===N&&(I[0]||I[1]))&&(l+=k^S>=0?1:-1)}if(!v++)break;f=A,x=C,b=T,m=a}}return(h<-t||h<t&&z<-t)^1&l}(p,b);l.length?(C||(h.polygonStart(),C=!0),it(l,ht,a,r,h)):a&&(C||(h.polygonStart(),C=!0),h.lineStart(),r(null,null,1,h),h.lineEnd()),C&&(h.polygonEnd(),C=!1),l=b=null},sphere:function(){h.polygonStart(),h.lineStart(),r(null,null,1,h),h.lineEnd(),h.polygonEnd()}};function u(t,e){var i=o(t,e);a(t=i[0],e=i[1])&&h.point(t,e)}function m(t,e){var i=o(t,e);d.point(i[0],i[1])}function f(){g.point=m,d.lineStart()}function y(){g.point=u,d.lineEnd()}var b,v,A=ot(),w=s(A),C=!1;function T(t,e){v.push([t,e]);var i=o(t,e);w.point(i[0],i[1])}function S(){w.lineStart(),v=[]}function D(){T(v[0][0],v[0][1]),w.lineEnd();var t,e=w.clean(),i=A.buffer(),a=i.length;if(v.pop(),b.push(v),v=null,a)if(1&e){var s,r=-1;if((a=(t=i[0]).length-1)>0){for(C||(h.polygonStart(),C=!0),h.lineStart();++r<a;)h.point((s=t[r])[0],s[1]);h.lineEnd()}}else a>1&&2&e&&i.push(i.pop().concat(i.shift())),l.push(i.filter(nt))}return g}}function nt(t){return t.length>1}function ot(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,i){t.push([e,i])},lineEnd:p,buffer:function(){var i=e;return e=[],t=null,i},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function ht(e,i){return((e=e.x)[0]<0?e[1]-a-t:a-e[1])-((i=i.x)[0]<0?i[1]-a-t:a-i[1])}var lt=rt((function(){return!0}),(function(i){var s,r=NaN,o=NaN,h=NaN;return{lineStart:function(){i.lineStart(),s=1},point:function(l,c){var d=l>0?e:-e,p=n(l-r);n(p-e)<t?(i.point(r,o=(o+c)/2>0?a:-a),i.point(h,o),i.lineEnd(),i.lineStart(),i.point(d,o),i.point(l,o),s=0):h!==d&&p>=e&&(n(r-h)<t&&(r-=h*t),n(l-d)<t&&(l-=d*t),o=function(e,i,a,s){var r,o,h=Math.sin(e-a);return n(h)>t?Math.atan((Math.sin(i)*(o=Math.cos(s))*Math.sin(a)-Math.sin(s)*(r=Math.cos(i))*Math.sin(e))/(r*o*h)):(i+s)/2}(r,o,l,c),i.point(h,o),i.lineEnd(),i.lineStart(),i.point(d,o),s=0),i.point(r=l,o=c),h=d},lineEnd:function(){i.lineEnd(),r=o=NaN},clean:function(){return 2-s}}}),(function(i,s,r,o){var h;if(null==i)h=r*a,o.point(-e,h),o.point(0,h),o.point(e,h),o.point(e,0),o.point(e,-h),o.point(0,-h),o.point(-e,-h),o.point(-e,0),o.point(-e,h);else if(n(i[0]-s[0])>t){var l=i[0]<s[0]?e:-e;h=r*l/2,o.point(-l,h),o.point(0,h),o.point(l,h)}else o.point(s[0],s[1])}),[-e,-e/2]);function ct(i){var a=Math.cos(i),r=a>0,o=n(a)>t;return rt(h,(function(i){var a,s,n,d,p;return{lineStart:function(){d=n=!1,p=1},point:function(g,u){var m,f,y=[g,u],x=h(g,u),b=r?x?0:c(g,u):x?c(g+(g<0?e:-e),u):0;(!a&&(d=n=x)&&i.lineStart(),x!==n&&(m=l(a,y),(W(a,m)||W(y,m))&&(y[0]+=t,y[1]+=t,x=h(y[0],y[1]))),x!==n)?(p=0,x?(i.lineStart(),m=l(y,a),i.point(m[0],m[1])):(m=l(a,y),i.point(m[0],m[1]),i.lineEnd()),a=m):o&&a&&r^x&&(b&s||!(f=l(y,a,!0))||(p=0,r?(i.lineStart(),i.point(f[0][0],f[0][1]),i.point(f[1][0],f[1][1]),i.lineEnd()):(i.point(f[1][0],f[1][1]),i.lineEnd(),i.lineStart(),i.point(f[0][0],f[0][1]))));!x||a&&W(a,y)||i.point(y[0],y[1]),a=y,n=x,s=b},lineEnd:function(){n&&i.lineEnd(),a=null},clean:function(){return p|(d&&n)<<1}}}),Ut(i,6*s),r?[0,-i]:[-e,i-e]);function h(t,e){return Math.cos(t)*Math.cos(e)>a}function l(i,s,r){var o=[1,0,0],h=G(H(i),H(s)),l=V(h,h),c=h[0],d=l-c*c;if(!d)return!r&&i;var p=a*l/d,g=-a*c/d,u=G(o,h),m=j(o,p);q(m,j(h,g));var f=u,y=V(m,f),x=V(f,f),b=y*y-x*(V(m,m)-1);if(!(b<0)){var v=Math.sqrt(b),A=j(f,(-y-v)/x);if(q(A,m),A=Y(A),!r)return A;var w,C=i[0],T=s[0],S=i[1],D=s[1];T<C&&(w=C,C=T,T=w);var M=T-C,k=n(M-e)<t;if(!k&&D<S&&(w=S,S=D,D=w),k||M<t?k?S+D>0^A[1]<(n(A[0]-C)<t?S:D):S<=A[1]&&A[1]<=D:M>e^(C<=A[0]&&A[0]<=T)){var L=j(f,(-y+v)/x);return q(L,m),[A,Y(L)]}}}function c(t,a){var s=r?i:e-i,n=0;return t<-s?n|=1:t>s&&(n|=2),a<-s?n|=4:a>s&&(n|=8),n}}var dt=1e9;function pt(e,i,a,s){return function(t){var n,c,d,p,g,u,m,f,y,b,v,A=t,w=ot(),C=function(t,e,i,a){return function(s){var r,n=s.a,o=s.b,h=n.x,l=n.y,c=0,d=1,p=o.x-h,g=o.y-l;if(r=t-h,p||!(r>0)){if(r/=p,p<0){if(r<c)return;r<d&&(d=r)}else if(p>0){if(r>d)return;r>c&&(c=r)}if(r=i-h,p||!(r<0)){if(r/=p,p<0){if(r>d)return;r>c&&(c=r)}else if(p>0){if(r<c)return;r<d&&(d=r)}if(r=e-l,g||!(r>0)){if(r/=g,g<0){if(r<c)return;r<d&&(d=r)}else if(g>0){if(r>d)return;r>c&&(c=r)}if(r=a-l,g||!(r<0)){if(r/=g,g<0){if(r>d)return;r>c&&(c=r)}else if(g>0){if(r<c)return;r<d&&(d=r)}return c>0&&(s.a={x:h+c*p,y:l+c*g}),d<1&&(s.b={x:h+d*p,y:l+d*g}),s}}}}}}(e,i,a,s),T={point:M,lineStart:function(){T.point=k,c&&c.push(d=[]);b=!0,y=!1,m=f=NaN},lineEnd:function(){n&&(k(p,g),u&&y&&w.rejoin(),n.push(w.buffer()));T.point=M,y&&t.lineEnd()},polygonStart:function(){t=w,n=[],c=[],v=!0},polygonEnd:function(){t=A,n=x(n);var i=function(t){for(var e=0,i=c.length,a=t[1],s=0;s<i;++s)for(var r,n=1,o=c[s],l=o.length,d=o[0];n<l;++n)r=o[n],d[1]<=a?r[1]>a&&h(d,r,t)>0&&++e:r[1]<=a&&h(d,r,t)<0&&--e,d=r;return 0!==e}([e,s]),a=v&&i,r=n.length;(a||r)&&(t.polygonStart(),a&&(t.lineStart(),S(null,null,1,t),t.lineEnd()),r&&it(n,o,i,S,t),t.polygonEnd()),n=c=d=null}};function S(t,n,o,h){var c=0,d=0;if(null==t||(c=r(t,o))!==(d=r(n,o))||l(t,n)<0^o>0)do{h.point(0===c||3===c?e:a,c>1?s:i)}while((c=(c+o+4)%4)!==d);else h.point(n[0],n[1])}function D(t,r){return e<=t&&t<=a&&i<=r&&r<=s}function M(e,i){D(e,i)&&t.point(e,i)}function k(e,i){var a=D(e=Math.max(-dt,Math.min(dt,e)),i=Math.max(-dt,Math.min(dt,i)));if(c&&d.push([e,i]),b)p=e,g=i,u=a,b=!1,a&&(t.lineStart(),t.point(e,i));else if(a&&y)t.point(e,i);else{var s={a:{x:m,y:f},b:{x:e,y:i}};C(s)?(y||(t.lineStart(),t.point(s.a.x,s.a.y)),t.point(s.b.x,s.b.y),a||t.lineEnd(),v=!1):a&&(t.lineStart(),t.point(e,i),v=!1)}m=e,f=i,y=a}return T};function r(s,r){return n(s[0]-e)<t?r>0?0:3:n(s[0]-a)<t?r>0?2:1:n(s[1]-i)<t?r>0?1:0:r>0?3:2}function o(t,e){return l(t.x,e.x)}function l(t,e){var i=r(t,1),a=r(e,1);return i!==a?i-a:0===i?e[1]-t[1]:1===i?t[0]-e[0]:2===i?t[1]-e[1]:e[0]-t[0]}}function gt(t){var i=0,a=e/3,s=zt(t),r=s(i,a);return r.parallels=function(t){return arguments.length?s(i=t[0]*e/180,a=t[1]*e/180):[i/e*180,a/e*180]},r}function ut(t,e){var i=Math.sin(t),a=(i+Math.sin(e))/2,s=1+i*(2*a-i),r=Math.sqrt(s)/a;function n(t,e){var i=Math.sqrt(s-2*a*Math.sin(e))/a;return[i*Math.sin(t*=a),r-i*Math.cos(t)]}return n.invert=function(t,e){var i=r-e;return[Math.atan2(t,i)/a,c((s-(t*t+i*i)*a*a)/(2*a))]},n}u.clipExtent=function(){var t,e,i,a,s,r,n={stream:function(t){return s&&(s.valid=!1),(s=r(t)).valid=!0,s},extent:function(o){return arguments.length?(r=pt(t=+o[0][0],e=+o[0][1],i=+o[1][0],a=+o[1][1]),s&&(s.valid=!1,s=null),n):[[t,e],[i,a]]}};return n.extent([[0,0],[960,500]])},(u.conicEqualArea=function(){return gt(ut)}).raw=ut,u.albers=function(){return u.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},u.albersUsa=function(){var e,i,a,s,r=u.albers(),n=u.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o=u.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),h={point:function(t,i){e=[t,i]}};function l(t){var r=t[0],n=t[1];return e=null,i(r,n),e||(a(r,n),e)||s(r,n),e}return l.invert=function(t){var e=r.scale(),i=r.translate(),a=(t[0]-i[0])/e,s=(t[1]-i[1])/e;return(s>=.12&&s<.234&&a>=-.425&&a<-.214?n:s>=.166&&s<.234&&a>=-.214&&a<-.115?o:r).invert(t)},l.stream=function(t){var e=r.stream(t),i=n.stream(t),a=o.stream(t);return{point:function(t,s){e.point(t,s),i.point(t,s),a.point(t,s)},sphere:function(){e.sphere(),i.sphere(),a.sphere()},lineStart:function(){e.lineStart(),i.lineStart(),a.lineStart()},lineEnd:function(){e.lineEnd(),i.lineEnd(),a.lineEnd()},polygonStart:function(){e.polygonStart(),i.polygonStart(),a.polygonStart()},polygonEnd:function(){e.polygonEnd(),i.polygonEnd(),a.polygonEnd()}}},l.precision=function(t){return arguments.length?(r.precision(t),n.precision(t),o.precision(t),l):r.precision()},l.scale=function(t){return arguments.length?(r.scale(t),n.scale(.35*t),o.scale(t),l.translate(r.translate())):r.scale()},l.translate=function(e){if(!arguments.length)return r.translate();var c=r.scale(),d=+e[0],p=+e[1];return i=r.translate(e).clipExtent([[d-.455*c,p-.238*c],[d+.455*c,p+.238*c]]).stream(h).point,a=n.translate([d-.307*c,p+.201*c]).clipExtent([[d-.425*c+t,p+.12*c+t],[d-.214*c-t,p+.234*c-t]]).stream(h).point,s=o.translate([d-.205*c,p+.212*c]).clipExtent([[d-.214*c+t,p+.166*c+t],[d-.115*c-t,p+.234*c-t]]).stream(h).point,l},l.scale(1070)};var mt,ft,yt,xt,bt,vt,At={point:p,lineStart:p,lineEnd:p,polygonStart:function(){ft=0,At.lineStart=wt},polygonEnd:function(){At.lineStart=At.lineEnd=At.point=p,mt+=n(ft/2)}};function wt(){var t,e,i,a;function s(t,e){ft+=a*t-i*e,i=t,a=e}At.point=function(r,n){At.point=s,t=i=r,e=a=n},At.lineEnd=function(){s(t,e)}}var Ct={point:function(t,e){t<yt&&(yt=t);t>bt&&(bt=t);e<xt&&(xt=e);e>vt&&(vt=e)},lineStart:p,lineEnd:p,polygonStart:p,polygonEnd:p};function Tt(){var t=St(4.5),e=[],i={point:a,lineStart:function(){i.point=s},lineEnd:n,polygonStart:function(){i.lineEnd=o},polygonEnd:function(){i.lineEnd=n,i.point=a},pointRadius:function(e){return t=St(e),i},result:function(){if(e.length){var t=e.join("");return e=[],t}}};function a(i,a){e.push("M",i,",",a,t)}function s(t,a){e.push("M",t,",",a),i.point=r}function r(t,i){e.push("L",t,",",i)}function n(){i.point=a}function o(){e.push("Z")}return i}function St(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}var Dt,Mt={point:kt,lineStart:Lt,lineEnd:It,polygonStart:function(){Mt.lineStart=Bt},polygonEnd:function(){Mt.point=kt,Mt.lineStart=Lt,Mt.lineEnd=It}};function kt(t,e){L+=t,I+=e,++B}function Lt(){var t,e;function i(i,a){var s=i-t,r=a-e,n=Math.sqrt(s*s+r*r);N+=n*(t+i)/2,F+=n*(e+a)/2,P+=n,kt(t=i,e=a)}Mt.point=function(a,s){Mt.point=i,kt(t=a,e=s)}}function It(){Mt.point=kt}function Bt(){var t,e,i,a;function s(t,e){var s=t-i,r=e-a,n=Math.sqrt(s*s+r*r);N+=n*(i+t)/2,F+=n*(a+e)/2,P+=n,R+=(n=a*t-i*e)*(i+t),O+=n*(a+e),X+=3*n,kt(i=t,a=e)}Mt.point=function(r,n){Mt.point=s,kt(t=i=r,e=a=n)},Mt.lineEnd=function(){s(t,e)}}function Nt(t){var e={point:i,lineStart:function(){e.point=a},lineEnd:r,polygonStart:function(){e.lineEnd=n},polygonEnd:function(){e.lineEnd=r,e.point=i},pointRadius:function(t){return t,e},result:p};function i(t,e){u.render.push([[t,e]])}function a(t,i){u.render.push([]),u.render[u.render.length-1].push([t,i]),e.point=s}function s(t,e){u.render[u.render.length-1].push([t,e])}function r(){e.point=i}function n(){}return e}function Ft(e){var i=.5,a=Math.cos(30*s),r=16;function o(t){return(r?l:h)(t)}function h(t){return Ot(t,(function(i,a){i=e(i,a),t.point(i[0],i[1])}))}function l(t){var i,a,s,n,o,h,l,d,p,g,u,m,f={point:y,lineStart:x,lineEnd:v,polygonStart:function(){t.polygonStart(),f.lineStart=A},polygonEnd:function(){t.polygonEnd(),f.lineStart=x}};function y(i,a){i=e(i,a),t.point(i[0],i[1])}function x(){d=NaN,f.point=b,t.lineStart()}function b(i,a){var s=H([i,a]),n=e(i,a);c(d,p,l,g,u,m,d=n[0],p=n[1],l=i,g=s[0],u=s[1],m=s[2],r,t),t.point(d,p)}function v(){f.point=y,t.lineEnd()}function A(){x(),f.point=w,f.lineEnd=C}function w(t,e){b(i=t,e),a=d,s=p,n=g,o=u,h=m,f.point=b}function C(){c(d,p,l,g,u,m,a,s,i,n,o,h,r,t),f.lineEnd=v,v()}return f}function c(s,r,o,h,l,d,p,g,u,m,f,y,x,b){var v=p-s,A=g-r,w=v*v+A*A;if(w>4*i&&x--){var C=h+m,T=l+f,S=d+y,D=Math.sqrt(C*C+T*T+S*S),M=Math.asin(S/=D),k=n(n(S)-1)<t||n(o-u)<t?(o+u)/2:Math.atan2(T,C),L=e(k,M),I=L[0],B=L[1],N=I-s,F=B-r,P=A*N-v*F;(P*P/w>i||n((v*N+A*F)/w-.5)>.3||h*m+l*f+d*y<a)&&(c(s,r,o,h,l,d,I,B,k,C/=D,T/=D,S,x,b),b.point(I,B),c(I,B,k,C,T,S,p,g,u,m,f,y,x,b))}}return o.precision=function(t){return arguments.length?(r=(i=t*t)>0&&16,o):Math.sqrt(i)},o}function Pt(t){var e=Ft((function(e,i){return t([e*r,i*r])}));return function(t){return Et(e(t))}}function Rt(t){this.stream=t}function Ot(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function Xt(t){return zt((function(){return t}))()}function zt(t){var e,i,a,n,o,h,l=Ft((function(t,i){return[(t=e(t,i))[0]*c+n,o-t[1]*c]})),c=150,d=480,p=250,u=0,m=0,f=0,y=0,x=0,b=lt,A=g,w=null,C=null;function T(t){return[(t=a(t[0]*s,t[1]*s))[0]*c+n,o-t[1]*c]}function S(t){return(t=a.invert((t[0]-n)/c,(o-t[1])/c))&&[t[0]*r,t[1]*r]}function D(){a=et(i=Vt(f,y,x),e);var t=e(u,m);return n=d-t[0]*c,o=p+t[1]*c,M()}function M(){return h&&(h.valid=!1,h=null),T}return T.stream=function(t){return h&&(h.valid=!1),(h=Et(b(i,l(A(t))))).valid=!0,h},T.clipAngle=function(t){return arguments.length?(b=null==t?(w=t,lt):ct((w=+t)*s),M()):w},T.clipExtent=function(t){return arguments.length?(C=t,A=t?pt(t[0][0],t[0][1],t[1][0],t[1][1]):g,M()):C},T.scale=function(t){return arguments.length?(c=+t,D()):c},T.translate=function(t){return arguments.length?(d=+t[0],p=+t[1],D()):[d,p]},T.center=function(t){return arguments.length?(u=t[0]%360*s,m=t[1]%360*s,D()):[u*r,m*r]},T.rotate=function(t){return arguments.length?(f=t[0]%360*s,y=t[1]%360*s,x=t.length>2?t[2]%360*s:0,D()):[f*r,y*r,x*r]},function(t,e){for(var i,a=1,s=arguments.length;++a<s;)t[i=arguments[a]]=v(t,e,e[i])}(T,l,"precision"),function(){return e=t.apply(this,arguments),T.invert=e.invert&&S,D()}}function Et(t){return Ot(t,(function(e,i){t.point(e*s,i*s)}))}function _t(t,e){return[t,e]}function Ht(t,a){return[t>e?t-i:t<-e?t+i:t,a]}function Vt(t,e,i){return t?e||i?et(qt(t),jt(e,i)):qt(t):e||i?jt(e,i):Ht}function Gt(t){return function(a,s){return[(a+=t)>e?a-i:a<-e?a+i:a,s]}}function qt(t){var e=Gt(t);return e.invert=Gt(-t),e}function jt(t,e){var i=Math.cos(t),a=Math.sin(t),s=Math.cos(e),r=Math.sin(e);function n(t,e){var n=Math.cos(e),o=Math.cos(t)*n,h=Math.sin(t)*n,l=Math.sin(e),d=l*i+o*a;return[Math.atan2(h*s-d*r,o*i-l*a),c(d*s+h*r)]}return n.invert=function(t,e){var n=Math.cos(e),o=Math.cos(t)*n,h=Math.sin(t)*n,l=Math.sin(e),d=l*s-h*r;return[Math.atan2(h*s+l*r,o*i+d*a),c(d*i-o*a)]},n}function Ut(t,e){var a=Math.cos(t),s=Math.sin(t);return function(r,n,o,h){var l=o*e;null!=r?(r=Yt(a,r),n=Yt(a,n),(o>0?r<n:r>n)&&(r+=o*i)):(r=t+o*i,n=t-.5*l);for(var c,d=r;o>0?d>n:d<n;d-=l)h.point((c=Y([a,-s*Math.cos(d),-s*Math.sin(d)]))[0],c[1])}}function Yt(e,i){var a=H(i);a[0]-=e,U(a);var s=l(-a[1]);return((-a[2]<0?-s:s)+2*Math.PI-t)%(2*Math.PI)}u.render=[],u.path=function(){var t,e,i,a,s,r=4.5;function n(t){return u.render=[],t&&("function"==typeof r&&a.pointRadius(+r.apply(this,arguments)),s&&s.valid||(s=i(a)),u.stream(t,s)),u.render}function o(){return s=null,n}return n.area=function(t){return mt=0,u.stream(t,i(At)),mt},n.centroid=function(t){return L=I=B=N=F=P=R=O=X=0,u.stream(t,i(Mt)),X?[R/X,O/X]:P?[N/P,F/P]:B?[L/B,I/B]:[NaN,NaN]},n.bounds=function(t){return bt=vt=-(yt=xt=1/0),u.stream(t,i(Ct)),[[yt,xt],[bt,vt]]},n.projection=function(e){return arguments.length?(i=(t=e)?e.stream||Pt(e):g,o()):t},n.context=function(t){return arguments.length?(a=null==(e=t)?new Tt:new Nt(t),"function"!=typeof r&&a.pointRadius(r),o()):e},n.pointRadius=function(t){return arguments.length?(r="function"==typeof t?t:(a.pointRadius(+t),+t),n):r},n.projection(u.albersUsa()).context(null)},u.transform=function(t){return{stream:function(e){var i=new Rt(e);for(var a in t)i[a]=t[a];return i}}},Rt.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},u.projection=Xt,u.projectionMutator=zt,(u.equirectangular=function(){return Xt(_t)}).raw=_t.invert=_t,u.rotation=function(t){function e(e){return(e=t(e[0]*s,e[1]*s))[0]*=r,e[1]*=r,e}return t=Vt(t[0]%360*s,t[1]*s,t.length>2?t[2]*s:0),e.invert=function(e){return(e=t.invert(e[0]*s,e[1]*s))[0]*=r,e[1]*=r,e},e},Ht.invert=_t,u.circle=function(){var t,e,i=[0,0],a=6;function n(){var t="function"==typeof i?i.apply(this,arguments):i,a=Vt(-t[0]*s,-t[1]*s,0).invert,n=[];return e(null,null,1,{point:function(t,e){n.push(t=a(t,e)),t[0]*=r,t[1]*=r}}),{type:"Polygon",coordinates:[n]}}return n.origin=function(t){return arguments.length?(i=t,n):i},n.angle=function(i){return arguments.length?(e=Ut((t=+i)*s,a*s),n):t},n.precision=function(i){return arguments.length?(e=Ut(t*s,(a=+i)*s),n):a},n.angle(90)},u.distance=function(t,e){var i,a=(e[0]-t[0])*s,r=t[1]*s,n=e[1]*s,o=Math.sin(a),h=Math.cos(a),l=Math.sin(r),c=Math.cos(r),d=Math.sin(n),p=Math.cos(n);return Math.atan2(Math.sqrt((i=p*o)*i+(i=c*d-l*p*h)*i),l*d+c*p*h)},u.graticule=function(){var e,i,a,s,r,o,h,l,c,d,p,g,u=10,m=u,f=90,y=360,x=2.5;function v(e,i,a){var s=b(e,i-t,a).concat(i);return function(t){return s.map((function(e){return[t,e]}))}}function A(e,i,a){var s=b(e,i-t,a).concat(i);return function(t){return s.map((function(e){return[e,t]}))}}function w(){return{type:"MultiLineString",coordinates:C()}}function C(){return b(Math.ceil(s/f)*f,a,f).map(p).concat(b(Math.ceil(l/y)*y,h,y).map(g)).concat(b(Math.ceil(i/u)*u,e,u).filter((function(e){return n(e%f)>t})).map(c)).concat(b(Math.ceil(o/m)*m,r,m).filter((function(e){return n(e%y)>t})).map(d))}return w.lines=function(){return C().map((function(t){return{type:"LineString",coordinates:t}}))},w.outline=function(){return{type:"Polygon",coordinates:[p(s).concat(g(h).slice(1),p(a).reverse().slice(1),g(l).reverse().slice(1))]}},w.extent=function(t){return arguments.length?w.majorExtent(t).minorExtent(t):w.minorExtent()},w.majorExtent=function(t){return arguments.length?(s=+t[0][0],a=+t[1][0],l=+t[0][1],h=+t[1][1],s>a&&(t=s,s=a,a=t),l>h&&(t=l,l=h,h=t),w.precision(x)):[[s,l],[a,h]]},w.minorExtent=function(t){return arguments.length?(i=+t[0][0],e=+t[1][0],o=+t[0][1],r=+t[1][1],i>e&&(t=i,i=e,e=t),o>r&&(t=o,o=r,r=t),w.precision(x)):[[i,o],[e,r]]},w.step=function(t){return arguments.length?w.majorStep(t).minorStep(t):w.minorStep()},w.majorStep=function(t){return arguments.length?(f=+t[0],y=+t[1],w):[f,y]},w.minorStep=function(t){return arguments.length?(u=+t[0],m=+t[1],w):[u,m]},w.precision=function(t){return arguments.length?(x=+t,c=v(o,r,90),d=A(i,e,x),p=v(l,h,90),g=A(s,a,x),w):x},w.majorExtent([[-180,-90+t],[180,90-t]]).minorExtent([[-180,-80-t],[180,80+t]])},u.greatArc=function(){var t,e,i=function(t){return t.source},a=function(t){return t.target};function s(){return{type:"LineString",coordinates:[t||i.apply(this,arguments),e||a.apply(this,arguments)]}}return s.distance=function(){return u.distance(t||i.apply(this,arguments),e||a.apply(this,arguments))},s.source=function(e){return arguments.length?(i=e,t="function"==typeof e?null:e,s):i},s.target=function(t){return arguments.length?(a=t,e="function"==typeof t?null:t,s):a},s.precision=function(){return arguments.length?s:0},s},u.interpolate=function(t,e){return i=t[0]*s,a=t[1]*s,n=e[0]*s,o=e[1]*s,h=Math.cos(a),l=Math.sin(a),c=Math.cos(o),p=Math.sin(o),g=h*Math.cos(i),u=h*Math.sin(i),m=c*Math.cos(n),f=c*Math.sin(n),y=2*Math.asin(Math.sqrt(d(o-a)+h*c*d(n-i))),x=1/Math.sin(y),(b=y?function(t){var e=Math.sin(t*=y)*x,i=Math.sin(y-t)*x,a=i*g+e*m,s=i*u+e*f,n=i*l+e*p;return[Math.atan2(s,a)*r,Math.atan2(n,Math.sqrt(a*a+s*s))*r]}:function(){return[i*r,a*r]}).distance=y,b;var i,a,n,o,h,l,c,p,g,u,m,f,y,x,b},u.length=function(t){return Dt=0,u.stream(t,Wt),Dt};var Wt={sphere:p,point:p,lineStart:function(){var t,e,i;function a(a,r){var o=Math.sin(r*=s),h=Math.cos(r),l=n((a*=s)-t),c=Math.cos(l);Dt+=Math.atan2(Math.sqrt((l=h*Math.sin(l))*l+(l=i*o-e*h*c)*l),e*o+i*h*c),t=a,e=o,i=h}Wt.point=function(r,n){t=r*s,e=Math.sin(n*=s),i=Math.cos(n),Wt.point=a},Wt.lineEnd=function(){Wt.point=Wt.lineEnd=p}},lineEnd:p,polygonStart:p,polygonEnd:p};function $t(t,e){function i(e,i){var a=Math.cos(e),s=Math.cos(i),r=t(a*s);return[r*s*Math.sin(e),r*Math.sin(i)]}return i.invert=function(t,i){var a=Math.sqrt(t*t+i*i),s=e(a),r=Math.sin(s),n=Math.cos(s);return[Math.atan2(t*r,a*n),Math.asin(a&&i*r/a)]},i}var Qt=$t((function(t){return Math.sqrt(2/(1+t))}),(function(t){return 2*Math.asin(t/2)}));(u.azimuthalEqualArea=function(){return Xt(Qt)}).raw=Qt;var Zt=$t((function(t){var e=Math.acos(t);return e&&e/Math.sin(e)}),g);function Kt(i,s){var r=Math.cos(i),n=function(t){return Math.tan(e/4+t/2)},h=i===s?Math.sin(i):Math.log(r/Math.cos(s))/Math.log(n(s)/n(i)),l=r*Math.pow(n(i),h)/h;if(!h)return ee;function c(e,i){l>0?i<-a+t&&(i=-a+t):i>a-t&&(i=a-t);var s=l/Math.pow(n(i),h);return[s*Math.sin(h*e),l-s*Math.cos(h*e)]}return c.invert=function(t,e){var i=l-e,s=o(h)*Math.sqrt(t*t+i*i);return[Math.atan2(t,i)/h,2*Math.atan(Math.pow(l/s,1/h))-a]},c}function Jt(e,i){var a=Math.cos(e),s=e===i?Math.sin(e):(a-Math.cos(i))/(i-e),r=a/s+e;if(n(s)<t)return _t;function h(t,e){var i=r-e;return[i*Math.sin(s*t),r-i*Math.cos(s*t)]}return h.invert=function(t,e){var i=r-e;return[Math.atan2(t,i)/s,r-o(s)*Math.sqrt(t*t+i*i)]},h}(u.azimuthalEquidistant=function(){return Xt(Zt)}).raw=Zt,(u.conicConformal=function(){return gt(Kt)}).raw=Kt,(u.conicEquidistant=function(){return gt(Jt)}).raw=Jt;var te=$t((function(t){return 1/t}),Math.atan);function ee(t,i){return[t,Math.log(Math.tan(e/4+i/2))]}function ie(t){var i,a=Xt(t),s=a.scale,r=a.translate,n=a.clipExtent;return a.scale=function(){var t=s.apply(a,arguments);return t===a?i?a.clipExtent(null):a:t},a.translate=function(){var t=r.apply(a,arguments);return t===a?i?a.clipExtent(null):a:t},a.clipExtent=function(t){var o=n.apply(a,arguments);if(o===a){if(i=null==t){var h=e*s(),l=r();n([[l[0]-h,l[1]-h],[l[0]+h,l[1]+h]])}}else i&&(o=null);return o},a.clipExtent(null)}(u.gnomonic=function(){return Xt(te)}).raw=te,ee.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-a]},(u.mercator=function(){return ie(ee)}).raw=ee;var ae=$t((function(){return 1}),Math.asin);(u.orthographic=function(){return Xt(ae)}).raw=ae;var se=$t((function(t){return 1/(1+t)}),(function(t){return 2*Math.atan(t)}));function re(t,i){return[Math.log(Math.tan(e/4+i/2)),-t]}return(u.stereographic=function(){return Xt(se)}).raw=se,re.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-a]},(u.transverseMercator=function(){var t=ie(re),e=t.center,i=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return t?i([t[0],t[1],t.length>2?t[2]+90:90]):[(t=i())[0],t[1],t[2]-90]},i([0,0,90])}).raw=re,u},this.geoProjectInvert=function(t){return this.geoProjection.invert(t)},this.geoProject=function(t){return this.geoPath(t)},this.initializeOrthographic=function(){this.mapObject=this.d3Geo();var t=this.meta.map.geojson.global,e=this.marginLeft+this.offsetX+this.left+this.x/2,i=this.marginTop+this.offsetY+this.top+this.y/2,a=this.layoutComb?this.layoutWidth:this.width,s=this.layoutComb?this.layoutHeight:this.height,r=this.eventMapZoom?this.eventMap.zom:this.mapConfig&&this.mapConfig.zoom?this.mapConfig.zoom:"orthographic"==this.mapProjection?this.zoom:t.zoom,n="orthographic"==this.mapProjection&&this.geoProjection?this.geoProjection.rotate():this.eventMapCenter?this.eventMapCenter:this.mapConfig&&this.mapConfig.center?[-this.mapConfig.center[0],-this.mapConfig.center[1]]:[t.center[0],t.center[1]],o=this.meta.canvas.ctx.canvas.getContext("2d");switch(this.geoGraticule=this.mapObject.graticule()(),this.geoCanvasScale="mercator"==this.mapProjection?[this.y*r/(2*Math.PI)]:"orthographic"==this.mapProjection?s/2*.86:Math.min(this.x,this.y)/2,this.geoCanvasCenter="orthographic"==this.mapProjection?[a/2,s/2]:[e,i],this.mapProjection){case"mercator":this.geoProjection=this.mapObject.mercator().center(n).scale(this.geoCanvasScale).translate(this.geoCanvasCenter);break;case"albers":this.geoProjection=this.mapObject.albers().center(n).scale(this.geoCanvasScale*r).translate(this.geoCanvasCenter).clipAngle(90).precision(.5);break;case"orthographic":this.geoProjection=this.mapObject.orthographic().scale(this.geoCanvasScale*r).translate(this.geoCanvasCenter).clipAngle(90).precision(.5).rotate(n)}this.geoPath=this.mapObject.path().projection(this.geoProjection).context(o)}},CanvasXpress.images={"01":"https://www.canvasxpress.org/assets/images/core/01.png","02":"https://www.canvasxpress.org/assets/images/core/02.png","03":"https://www.canvasxpress.org/assets/images/core/03.png","04":"https://www.canvasxpress.org/assets/images/core/04.png","05":"https://www.canvasxpress.org/assets/images/core/05.png","06":"https://www.canvasxpress.org/assets/images/core/06.png","07":"https://www.canvasxpress.org/assets/images/core/07.png","08":"https://www.canvasxpress.org/assets/images/core/08.png",10:"https://www.canvasxpress.org/assets/images/core/10.png",11:"https://www.canvasxpress.org/assets/images/core/11.png",15:"https://www.canvasxpress.org/assets/images/core/15.png",23:"https://www.canvasxpress.org/assets/images/core/23.png",29:"https://www.canvasxpress.org/assets/images/core/29.png",30:"https://www.canvasxpress.org/assets/images/core/30.png",31:"https://www.canvasxpress.org/assets/images/core/31.png",32:"https://www.canvasxpress.org/assets/images/core/32.png",36:"https://www.canvasxpress.org/assets/images/core/36.png",46:"https://www.canvasxpress.org/assets/images/core/46.png",47:"https://www.canvasxpress.org/assets/images/core/47.png",48:"https://www.canvasxpress.org/assets/images/core/48.png",49:"https://www.canvasxpress.org/assets/images/core/49.png",50:"https://www.canvasxpress.org/assets/images/core/50.png",54:"https://www.canvasxpress.org/assets/images/core/54.png",56:"https://www.canvasxpress.org/assets/images/core/56.png",58:"https://www.canvasxpress.org/assets/images/core/58.png",59:"https://www.canvasxpress.org/assets/images/core/59.png",60:"https://www.canvasxpress.org/assets/images/core/60.png",61:"https://www.canvasxpress.org/assets/images/core/61.png",62:"https://www.canvasxpress.org/assets/images/core/62.png",63:"https://www.canvasxpress.org/assets/images/core/63.png",67:"https://www.canvasxpress.org/assets/images/core/67.png",68:"https://www.canvasxpress.org/assets/images/core/68.png",69:"https://www.canvasxpress.org/assets/images/core/69.png",71:"https://www.canvasxpress.org/assets/images/core/71.png",99:"https://www.canvasxpress.org/assets/images/core/99.png",canvasXpress:"data:image/png;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",cytoplasm:"https://www.canvasxpress.org/assets/images/core/cytoplasm.png",epr:"https://www.canvasxpress.org/assets/images/core/epr.png",extracellular:"https://www.canvasxpress.org/assets/images/core/extracellular.png",lisosome:"https://www.canvasxpress.org/assets/images/core/lisosome.png",lysosome:"https://www.canvasxpress.org/assets/images/core/lysosome.png",microsome:"https://www.canvasxpress.org/assets/images/core/microsome.png",mitochondria:"https://www.canvasxpress.org/assets/images/core/mitochondria.png",mitochondria2:"https://www.canvasxpress.org/assets/images/core/mitochondria2.png",nucleous:"https://www.canvasxpress.org/assets/images/core/nucleous.png",nucleus:"https://www.canvasxpress.org/assets/images/core/nucleus.png",peroxisome:"https://www.canvasxpress.org/assets/images/core/peroxisome.png"},CanvasXpress.icons={gradients:{c_rrc:'<linearGradient id="rr-grad" gradientUnits="userSpaceOnUse" x1="0" y1="53.205" x2="100" y2="53.205" gradientTransform="matrix(1 0 0 -1 0 102)"><stop  offset="0" style="stop-color:#BDBFC2"/><stop  offset="1" style="stop-color:#828287"/></linearGradient>',c_excel:'<linearGradient id="excel-grad1" gradientUnits="userSpaceOnUse" x1="10.4295" y1="93.4497" x2="91.2468" y2="8.6135" gradientTransform="matrix(1 0 0 -1 0 102)"><stop  offset="0" style="stop-color:#DEF1DF"/><stop  offset="1" style="stop-color:#DBEBC3"/></linearGradient><linearGradient id="excel-grad2" gradientUnits="userSpaceOnUse" x1="32.8982" y1="23.8811" x2="83.8607" y2="82.2735" gradientTransform="matrix(1 0 0 -1 0 102)"><stop  offset="0" style="stop-color:#06A817"/><stop  offset="1" style="stop-color:#003700"/></linearGradient><linearGradient id="excel-grad3" gradientUnits="userSpaceOnUse" x1="4.0159" y1="98.7549" x2="102.7326" y2="-1.6166" gradientTransform="matrix(1 0 0 -1 0 102)"><stop  offset="0" style="stop-color:#06A817"/><stop  offset="1" style="stop-color:#003700"/></linearGradient><linearGradient id="excel-grad4" gradientUnits="userSpaceOnUse" x1="19.1737" y1="87.3007" x2="78.6131" y2="23.2007" gradientTransform="matrix(1 0 0 -1 0 102)"><stop  offset="0" style="stop-color:#06A817"/><stop  offset="1" style="stop-color:#003700"/></linearGradient><linearGradient id="excel-grad5" gradientUnits="userSpaceOnUse" x1="19.1737" y1="87.3007" x2="78.6131" y2="23.2007" gradientTransform="matrix(1 0 0 -1 0 102)"><stop  offset="0" style="stop-color:#06A817"/><stop  offset="1" style="stop-color:#003700"/></linearGradient><linearGradient id="exel-grad6" gradientUnits="userSpaceOnUse" x1="47.2828" y1="36.174" x2="78.5223" y2="49.075" gradientTransform="matrix(1 0 0 -1 0 102)"><stop  offset="0" style="stop-color:#06A817"/><stop  offset="1" style="stop-color:#003700"/></linearGradient>',c_canvasxpress:'<linearGradient id="cx-grad1" gradientUnits="userSpaceOnUse" x1="31.3462" y1="420.1643" x2="31.3462" y2="450.9281" gradientTransform="matrix(1 0 0 1 0 -398)"><stop  offset="0" style="stop-color:#FFD385"/><stop  offset="1" style="stop-color:#FFAE54"/></linearGradient><linearGradient id="cx-grad2" gradientUnits="userSpaceOnUse" x1="36.3" y1="428.6523" x2="36.3" y2="452.6173" gradientTransform="matrix(1 0 0 1 0 -398)"><stop  offset="0" style="stop-color:#FE6969"/><stop  offset="1" style="stop-color:#ED0C0C"/></linearGradient><linearGradient id="cx-grad3" gradientUnits="userSpaceOnUse" x1="49.85" y1="433.0864" x2="49.85" y2="452.6595" gradientTransform="matrix(1 0 0 1 0 -398)"><stop  offset="0" style="stop-color:#00B1DD"/><stop  offset="1" style="stop-color:#0081BD"/></linearGradient>',at_shd:'<linearGradient id="s-grad" gradientUnits="userSpaceOnUse" x1="50" y1="16.5161" x2="50" y2="46.4412" gradientTransform="matrix(1 0 0 -1 0 102)"><stop  offset="0" style="stop-color:#ADADAD"/><stop  offset="1" style="stop-color:#6B6B6B"/></linearGradient>',b_bbodygradient:'<linearGradient id="b-grad" gradientTransform="rotate(90)"><stop offset="5%" stop-color="black" /><stop offset="95%" stop-color="white" /></linearGradient>',c_rc:'<linearGradient id="rc-grad" gradientUnits="userSpaceOnUse" x1="0" y1="53.205" x2="100" y2="53.205" gradientTransform="matrix(1 0 0 -1 0 102)"><stop  offset="0" style="stop-color:#BDBFC2"/><stop  offset="1" style="stop-color:#828287"/></linearGradient>',b_grc:'<radialGradient id="rad-grad"><stop offset="5%" stop-color="white" /><stop offset="95%" stop-color="black" /></radialGradient>',b_gsswitch:'<linearGradient id="gs-grad" gradientTransform="rotate(90)"><stop offset="5%" stop-color="black" /><stop offset="95%" stop-color="white" /></linearGradient>',b_gstype:'<linearGradient id="gt-grad" gradientTransform="rotate(90)"><stop offset="5%" stop-color="black" /><stop offset="95%" stop-color="white" /></linearGradient><radialGradient id="gt-gradr"><stop offset="5%" stop-color="white" /><stop offset="95%" stop-color="black" /></radialGradient>',b_btype:'<linearGradient id="bl-grad" gradientTransform="rotate(90)"><stop offset="5%" stop-color="black" /><stop offset="95%" stop-color="white" /></linearGradient>',b_gsori:'<linearGradient id="go-gradv" gradientTransform="rotate(90)"><stop offset="5%" stop-color="black" /><stop offset="95%" stop-color="white" /></linearGradient><linearGradient id="go-gradh"><stop offset="5%"  stop-color="black" /><stop offset="95%" stop-color="white" /></linearGradient>',i_hist:'<linearGradient id="l-grad"><stop offset="5%"  stop-color="white" /><stop offset="95%" stop-color="black" /></linearGradient>',b_bwindowgradient:'<linearGradient id="w-grad" gradientTransform="rotate(90)"><stop offset="5%" stop-color="black" /><stop offset="95%" stop-color="white" /></linearGradient>',b_grvt:'<linearGradient id="vt-grad" gradientTransform="rotate(90)"><stop offset="5%" stop-color="black" /><stop offset="95%" stop-color="white" /></linearGradient>',tx_shadow:'<linearGradient id="ts-grad" gradientUnits="userSpaceOnUse" x1="67.7304" y1="44.903" x2="45.4561" y2="20.9231" gradientTransform="matrix(1 0 0 -1 0 102)"><stop  offset="0" style="stop-color:#ADADAD"/><stop  offset="1" style="stop-color:#6B6B6B"/></linearGradient>',b_bgradient:'<linearGradient id="b-grad" gradientTransform="rotate(90)"><stop offset="5%" stop-color="black" /><stop offset="95%" stop-color="white" /></linearGradient>',b_grhl:'<linearGradient id="hl-grad"><stop offset="5%" stop-color="black" /><stop offset="95%" stop-color="white" /></linearGradient>',b_grhr:'<linearGradient id="hr-grad"><stop offset="5%" stop-color="white" /><stop offset="95%" stop-color="black" /></linearGradient>',b_grvb:'<linearGradient id="vb-grad" gradientTransform="rotate(90)"><stop offset="5%" stop-color="white" /><stop offset="95%" stop-color="black" /></linearGradient>',c_wallstreetjournal:'<linearGradient id="WS-gradient" gradientTransform="rotate(90)"><stop offset="0" stop-color="#ece4d9" /><stop offset="1" stop-color="#c1b398" /></linearGradient>',i_h:'<linearGradient id="l-grad"><stop offset="5%"  stop-color="white" /><stop offset="95%" stop-color="black" /></linearGradient><linearGradient id="r-grad"><stop offset="5%" stop-color="black" /><stop offset="95%" stop-color="white" /></linearGradient>'},use:{p_ghtitle:["p_gh","p_ghtitle"],ch_lt:["ch_lt"],ch_lq:["ch_lq"],ar_lm:["ar_lm"],cl_horizontalk:["cl_horizontalbg","cl_horizontal"],ar_bls:["ar_bls"],n_zzz:["dummy"],v_next:["v_next"],ch_ocodemed:["ch_ocodemed"],sp_heightness:["sp_heightness"],cd_params:["cd_doc","cd_params"],g_circular:["g_circular"],dt_qq:["p_cg2axes","p_cg2fitqq"],z_zoom:["z_zoom"],ln_styledotted:["ln_styledotted"],ch_olin:["ch_olin"],ps_bottomright:["ps_bottomright"],wp_threebars:["wp_threebars"],ga_axisx:["ga_axisx"],gr_g2xy:["gr_g2xy"],tm_zzz:["dummy"],dps_inout:["dps_inout"],fp_pencil:["fp_pencil"],dtt_pivotremove:["dtt_pivot","v_cancelsmall"],gc_gerrors:["p_cg1axesvertical","p_cg1dataverticalshort","p_cg1errors"],c_tableau:["c_tableau"],sr_zzz:["dummy"],ar_brm:["ar_brm"],ly_doeremove:["ly_doe","v_cancelsmall"],g_oncoprint:["g_oncoprint"],at_palette:["at_palette"],dt_km:["p_cg2axes","p_cg2fitkm"],ch_oy:["ch_oy"],b_grvb:["b_grvb"],p_g2titlesubtitle:["p_g2","p_g2titlesubtitle"],p_ghvariabletitle:["p_gh","p_ghvariabletitle"],op_more:["op_more"],v_forward:["v_forward"],g_tcga:["g_map"],fp_funnelremove:["fp_funnel","v_cancelsmall"],b_bbodywindow:["b_body2","b_window","b_pail"],ar_zzz:["dummy"],ps_toloc3:["ps_toloc3"],sw_zzz:["dummy"],g_venn:["g_venn"],dt_cdf:["p_cg2axes","p_cg2fitcdf"],ch_sat:["ch_sat"],ga_axisxyz:["ga_axisxyz"],mr_left:["mr_all","mr_left"],sr_zad:["sr_zad"],g_map:["g_map"],sl_eclose:["e_close"],cd_lines:["cd_doc","cd_lines"],p_g2:["p_g2"],dt_histstag:["p_cg2axes","p_cg2datahist","p_cg2datahiststag"],p_g3axisx:["p_g3","p_g3axisx"],ch_ld:["ch_ld"],g_genome:["g_genome"],z_in:["z_in"],ch_czzz:["dummy"],i_hist:["i_hist"],sh_zzz:["dummy"],o_ghsmpsp:["o_ghsmps","ch_ocodemed"],v_first:["v_first"],ch_lg:["ch_lg"],ch_la:["ch_la"],fp_pinremove:["fp_pin","v_cancelsmall"],gc_goverticalhorizontal:["p_cg1dataverticalhorizontal"],ch_coption:["ch_coption"],gr_styledotted:["gr_styledotted"],p_g1axis2:["p_g1","p_g1axis2"],ch_lu:["ch_lu"],ch_lo:["ch_lo"],g_bubble:["g_bubble"],p_ghsamplelabels:["p_gh","p_ghsamplelabels"],g_contour:["g_contour"],ch_cshift:["ch_cshift"],tx_zzz:["dummy"],ps_center:["ps_center"],c_rc:["c_rc"],g_stackedline:["g_stackedline"],o_gzzz:["dummy"],ar_v:["ar_v"],ch_ly:["ch_ly"],ar_bl:["ar_bl"],sp_thickness2:["sp_thickness2"],b_bwindowgradient:["b_body","b_windowgradient","b_pail"],ch_ccommand:["ch_ccommand"],p_g1axes:["p_g1","p_g1axes"],at_colshpsze:["at_colshpsze"],sp_closer:["sp_closer"],dt_denfit:["p_cg2axes","p_cg2fitden","p_cg2dataden"],bx_type:["bx_type"],dtt_zzz:["dummy"],c_rr:["c_rr"],rt_ac2:["rt_ac2"],gd_g1line:["p_cg1axesvertical","p_cg1datavertical","p_dgline"],g_sunburst:["g_sunburst"],sp_farther:["sp_farther"],c_canvasxpress:["c_canvasxpress"],mr_all:["mr_all"],g_gantt:["g_gantt"],sl_checkboxoff:["sl_checkboxoff"],p_ghzzz:["dummy"],g_network:["g_network"],wp_examples:["wp_examples"],v_cancelsmall:["v_cancelsmall"],g_tagcloud:["g_tagcloud"],ln_style:["ln_style"],ch_li:["ch_li"],ch_cctrl:["ch_cctrl"],op_zzz:["dummy"],ch_oaa:["ch_oaa"],dtp_range:["dt_range"],gc_gg2:["p_cg2axes","p_cg2data"],gd_g2line:["p_cg2axes","p_cg2data","p_dgline"],p_ghsubtitle:["p_gh","p_ghsubtitle"],ch_cctrl2:["ch_cctrl2"],dps_square:["dps_square"],b_bwindow:["b_body","b_window","b_pail"],wp_configuration:["wp_configuration"],op_undo:["op_undo"],p_g3citation:["p_g3","p_g3citation"],g_scatter2d:["g_scatter2d"],dt_corremove:["p_cg2axes","p_cg2fitcor","p_cg2datacor","v_cancelsmall"],gr_minor:["gr_minor"],gd_gzzz:["dummy"],ar_vs:["ar_vs"],gc_ghcell:["p_cghdata1","p_cghdata2","p_cghaxes","h_hcell"],g_lollipop:["g_lollipop"],gr_style:["gr_style"],b_bzzz:["dummy"],ch_oa:["ch_oa"],mr_right:["mr_all","mr_right"],m_zlasso:["m_zlasso"],p_ghvariablelabels:["p_gh","p_ghvariablelabels"],p_g2axistitlex:["p_g2","p_g2axistitlex"],ch_szzz:["dummy"],g_bar:["g_bar"],ch_ssum:["ch_ssum"],ch_ls:["ch_ls"],at_ellipse:["at_ellipse"],sr_19:["sr_19"],b_gsswitch:["b_gsswitch","ar_dctrs2","ar_dcbls2"],ch_omean:["ch_omean"],gr_g1:["gr_g1"],c_solarized:["c_solarized"],gc_ghvariable:["p_cghdata1","p_cghdata2","p_cghaxes","h_hvariable"],ch_sampersand:["ch_sampersand"],sh_oval:["sh_oval"],tb_stripped:["tb_stripped"],dt_kmconf:["p_cg2fitkmconf","p_cg2axes","p_cg2fitkm"],ga_axisxy:["ga_axisxy"],tx_tostring:["tx_tostring"],g_hexplotbinplot:["g_hexplotbinplot"],sv_svg:["sv_svg"],wp_datawrangling:["wp_datawrangling"],ch_lb:["ch_lb"],p_g1subtitle:["p_g1","p_g1subtitle"],c_excel:["c_excel"],dps_expand:["dps_expand"],g_parallelcoordinates:["g_parallelcoordinates"],wp_code:["wp_code"],dt_qqremove:["p_cg2axes","p_cg2fitqq","v_cancelsmall"],g_area:["g_area"],sv_image:["sv_image"],cd_select:["cd_select"],p_g1axistitle2:["p_g1","p_g1axistitle2"],ps_zzz:["dummy"],sl_radioon:["sl_radioon"],c_rcode:["c_rcode"],a_moveforward:["a_moveforward"],p_g2axisx:["p_g2","p_g2axisx"],tm_time:["tm_time"],p_g1zzz:["dummy"],p_g3:["p_g3"],c_cxplot:["c_cxplot"],ch_lk:["ch_lk"],ch_lw:["ch_lw"],dt_denremove:["p_cg2axes","p_cg2fitden","v_cancelsmall"],dt_kmremove:["p_cg2axes","p_cg2fitkm","v_cancelsmall"],b_gstype:["b_gstype","ar_dctrs2","ar_dcbls2"],dtt_transpose:["dtt_transpose"],dtp_zzz:["dummy"],fp_funnel:["fp_funnel"],cd_zzz:["dummy"],dt_hist:["p_cg2axes","p_cg2datahist"],p_g1samplelabels:["p_g1","p_g1samplelabels"],gr_stylesolid:["gr_stylesolid"],g_linearfit:["g_linearfit"],b_gzzz:["dummy"],lg_legend:["lg_legend"],a_zzz:["dummy"],ch_oquantile:["ch_oquantile"],wp_constructor:["wp_constructor"],v_previous:["v_previous"],c_jupyter:["c_jupyter"],dp_bin:["dp_bin"],at_trn:["at_trn"],wp_dom:["wp_dom"],wp_list:["wp_list"],p_g3titlesubtitle:["p_g3","p_g3titlesubtitle"],ps_bottom:["ps_bottom"],ar_bm:["ar_bm"],p_g1axis1:["p_g1","p_g1axis1"],ar_br:["ar_br"],dtt_pivot:["dtt_pivot"],sp_zzz:["dummy"],a_group:["a_group"],ch_lh:["ch_lh"],g_waterfall:["g_waterfall"],wp_audittrail:["wp_audittrail"],ar_dctrs:["ar_dctrs"],tb_table:["tb_table"],ln_stylesolid:["ln_stylesolid"],g_pie:["g_pie"],m_wheel:["m_body","m_wheel"],g_facet:["g_facet"],cl_zzz:["dummy"],wp_zzz:["dummy"],rt_ac:["rt_ac"],ar_perp:["ar_l","ar_t","ar_r","ar_b"],v_backward:["v_backward"],ch_ox:["ch_ox"],ar_diags:["ar_tls","ar_trs","ar_brs","ar_bls"],o_g1p:["o_g1","ch_ocodemed"],v_cancel:["v_cancel"],ps_top:["ps_top"],bx_violin:["bx_violin"],g_fish:["g_fish"],g_remotegraphs:["g_remotegraphs"],at_pat:["at_pat"],ch_spercent:["ch_spercent"],bx_wishkersd:["bx_wishkersd"],dps_toinside:["dps_toinside"],wp_installation:["wp_installation"],a_movefront:["a_movefront"],g_treemap:["g_treemap"],b_bwindowsolid:["b_body","b_windowbg","b_pail"],ch_calt:["ch_calt"],wp_documentation:["wp_documentation"],gd_g1marker:["p_cg1axesvertical","p_cg1datavertical","p_dgmarker"],sh_square:["sh_square"],ch_ologsmall:["ch_ologsmall"],sl_eremove:["e_open","v_cancelsmall"],b_grhl:["b_grhl"],c_angular:["c_angular"],bx_median:["bx_median"],o_ghsmps:["o_ghsmps"],ar_t:["ar_t"],wp_license:["wp_license"],ar_r:["ar_r"],wp_arguments:["wp_arguments"],sv_zzz:["dummy"],dps_collapse:["dps_collapse"],ar_perpm:["ar_lm","ar_tm","ar_rm","ar_bm"],gr_g2x:["gr_g2x"],cd_folder:["cd_folder"],p_g3axistitlex:["p_g3","p_g3axistitlex"],cl_vertical:["cl_vertical"],gd_g2marker:["p_cg2axes","p_cg2data","p_dgmarker"],v_plus:["v_plus"],cl_verticalk:["cl_verticalbg","cl_vertical"],gc_govertical:["p_cg1axesvertical","p_cg1datavertical"],ch_lv:["ch_lv"],bx_connect:["bx_connect"],bx_zzz:["dummy"],p_g2citation:["p_g2","p_g2citation"],p_g1title:["p_g1","p_g1title"],at_sze:["at_sze"],dt_quantregremove:["p_cg2axes","p_cg2fitquantreg","p_cg2datacor","v_cancelsmall"],dt_corconf:["p_cg2fitcorconf","p_cg2axes","p_cg2fitcor","p_cg2datacor"],ch_cdelete:["ch_cdelete"],bx_meanb:["bx_meanb"],g_violin:["g_violin"],sw_up:["sw_up"],ar_ts:["ar_ts"],op_config:["op_config"],wp_oveview:["wp_oveview"],sr_aad:["sr_aad"],m_left:["m_body","m_left"],m_double:["m_body","m_left","m_double"],ch_lx:["ch_lx"],sw_updown:["sw_up","sw_down"],ar_brs:["ar_brs"],g_layout:["g_layout"],c_python:["c_python"],dt_binremove:["p_cg2axes","p_cg2bin","v_cancelsmall"],dt_zzz:["dummy"],tb_zzz:["dummy"],v_zzz:["dummy"],dt_quantreg:["p_cg2axes","p_cg2fitquantreg","p_cg2datacor"],gc_gg3:["p_cg3axes","p_cg3data"],lg_zzz:["dummy"],cr_cumulative:["cr_cumulative"],g_stacked:["g_stacked"],b_bbodygradient:["b_bodygradient","b_windowbg2","b_pail"],ps_toloc2:["ps_toloc2"],cr_bezier:["cr_bezier"],ch_oparens:["ch_oparens"],a_alignleft:["a_alignleft"],b_btype:["b_type"],at_motion:["at_motion"],ar_blm:["ar_blm"],p_g1axestitles:["p_g1","p_g1axestitles"],ps_toloc:["ps_toloc"],v_minus:["v_minus"],wp_user:["wp_user"],sr_aai:["sr_aai"],wp_softwaredesign:["wp_softwaredesign"],g_kaplanmeier:["g_kaplanmeier"],ar_rs:["ar_rs"],c_php:["c_php"],tx_tonumeric:["tx_tonumeric"],sv_diskremove:["sv_disk","v_cancelsmall"],ly_splom:["ly_splom"],op_refresh:["op_refresh"],mr_zzz:["dummy"],dp_zzz:["dummy"],wp_events:["wp_events"],p_ghcitation:["p_gh","p_ghcitation"],c_wallstreetjournal:["c_wallstreetjournal"],bx_data:["bx_data"],ar_cross:["ar_cross"],bx_violint:["bx_violint"],ps_topright:["ps_topright"],ch_ofx:["ch_ofx"],bx_violinu:["bx_violinu"],g_dotplot:["g_dotplot"],gr_g2y:["gr_g2y"],ch_sminus:["ch_sminus"],ch_oinfo:["ch_oinfo"],wp_interactiveplots:["wp_interactiveplots"],p_g1titlesubtitle:["p_g1","p_g1titlesubtitle"],cd_upload:["cd_upload"],g_splom:["g_splom"],v_last:["v_last"],ch_oe10:["ch_oe10"],i_zzz:["dummy"],g_arealine:["g_arealine"],gr_major:["gr_major"],ar_l:["ar_l"],b_bgradient:["b_bodygradient","b_pail"],ch_cesc2:["ch_cesc2"],cd_linesindent:["cd_doc","cd_linesindent"],z_out:["z_out"],ch_splus:["ch_splus"],dps_resize:["dps_resize"],rt_c:["rt_c"],g_stackedpercentline:["g_stackedpercentline"],b_bbody:["b_body","b_pail"],sl_checkboxon:["sl_checkboxon"],dtp_count:["dt_count"],o_ghvarsp:["o_ghvars","ch_ocodemed"],sh_hexagon:["sh_hexagon"],cl_horizontal:["cl_horizontal"],sr_az:["sr_az"],dp_binl:["dp_binl"],dt_contourremove:["g_contour","v_cancelsmall"],bx_wishkers:["bx_wishkers"],bx_mean:["bx_mean"],mr_bottom:["mr_all","mr_bottom"],b_grhr:["b_grhr"],op_redo:["op_redo"],tx_stringnumeric:["tx_stringnumeric"],dtp_max:["dt_max"],mr_top:["mr_all","mr_top"],c_paultol:["c_paultol"],ch_oceil:["ch_oceil"],sw_down:["sw_down"],ar_ls:["ar_ls"],ch_cesc:["ch_cesc"],dt_denfithist:["p_cg2axes","p_cg2fitden","p_cg2datadenhist"],dps_height:["dps_height"],dt_den:["p_cg2axes","p_cg2fitden"],ch_lp:["ch_lp"],p_g3subtitle:["p_g3","p_g3subtitle"],a_alignright:["a_alignright"],p_g1:["p_g1"],g_dotline:["g_dotline"],m_body:["m_body"],m_right:["m_body","m_right"],ch_oe:["ch_oe"],ch_olinsmall:["ch_olinsmall"],ar_tl:["ar_tl"],at_col2:["at_col2"],ar_dcbls:["ar_dcbls"],lg_g2:["lg_g2","lg_l"],p_g2axes:["p_g2","p_g2axes"],c_nodejs:["c_nodejs"],wp_fileformat:["wp_fileformat"],b_gsori:["b_gsori","ar_dctrs2","ar_dcbls2"],ch_olog10:["ch_olog10"],bx_meanc:["bx_meanc"],dtp_exact:["dt_exact"],bx_violinbp:["bx_violinbp"],p_g3axestitles:["p_g3","p_g3axestitles"],op_cancel:["op_cancel"],dt_bin:["p_cg2axes","p_cg2bin"],gc_ghspace:["p_cghdata1","p_cghdata2","p_cghaxes","h_hspace"],cr_zzz:["dummy"],ar_hs:["ar_hs"],wp_broadcast:["wp_broadcast"],lg_g1:["lg_g1","lg_l"],ch_snumber:["ch_snumber"],gc_ghsample:["p_cghdata1","p_cghdata2","p_cghaxes","h_hsample"],at_shd:["at_shd"],ch_lj:["ch_lj"],p_g2axisy:["p_g2","p_g2axisy"],sr_azi:["sr_azi"],ch_ofloor:["ch_ofloor"],g_functions:["g_functions"],bx_notched:["bx_notched"],g_donnut:["g_donnut"],g_heatmap:["g_heatmap"],ch_lm:["ch_lm"],ch_lr:["ch_lr"],wp_data:["wp_data"],ch_cshift2:["ch_cshift2"],ch_creturn:["ch_creturn"],ar_trm:["ar_trm"],c_r:["c_r"],p_g1sampletitle:["p_g1","p_g1sampletitle"],dps_tooutside:["dps_tooutside"],ch_ln:["ch_ln"],ch_oitalic:["ch_oitalic"],ly_segregate:["ly_segregate"],sl_eopen:["e_open"],p_g3title:["p_g3","p_g3title"],gc_gzzz:["dummy"],sl_lightbulboff:["sl_lightbulboff"],rt_c2:["rt_c2"],ch_le:["ch_le"],g_scatterbubble2d:["g_scatterbubble2d"],p_g3axistitley:["p_g3","p_g3axistitley"],ar_tls:["ar_tls"],sl_radiooff:["sl_radiooff"],g_zzz:["dummy"],ar_minmax:["ar_minmax"],dp_jittered:["dp_jittered"],at_sch:["at_sch"],dp_binc:["dp_binc"],a_order:["a_order"],b_grvt:["b_grvt"],ch_ocodesmall:["ch_ocodesmall"],ps_bottomleft:["ps_bottomleft"],tx_shadow:["tx_shadow"],gc_gg1:["p_cg1axesvertical","p_cg1datavertical"],v_stop:["v_stop"],at_zzz:["dummy"],a_moveback:["a_moveback"],ar_h:["ar_h"],bx_wishkerss:["bx_wishkerss"],g_chord:["g_chord"],wp_instances:["wp_instances"],g_ridgeline:["g_ridgeline"],n_nodes:["n_nodes"],ps_topleft:["ps_topleft"],g_radar:["g_radar"],g_boxplot:["g_boxplot"],sv_video:["sv_video"],ly_layout:["ly_layout"],tm_history:["tm_history"],a_aligntop:["a_aligntop"],p_g3axistitlez:["p_g3","p_g3axistitlez"],g_sankey:["g_sankey"],ga_zzz:["dummy"],p_g2zzz:["dummy"],p_g2subtitle:["p_g2","p_g2subtitle"],cd_doc:["cd_doc"],ln_styledashed:["ln_styledashed"],g_stackedpercent:["g_stackedpercent"],i_h:["i_left","i_right","i_labels"],dt_cdfremove:["p_cg2axes","p_cg2fitcdf","v_cancelsmall"],ar_tlm:["ar_tlm"],a_movebackward:["a_movebackward"],fp_zzz:["dummy"],c_ggplot:["c_ggplot"],g_barline:["g_barline"],ch_ocode:["ch_ocode"],wp_marker:["wp_marker"],at_shp:["at_shp"],ar_bs:["ar_bs"],g_tree:["g_tree"],c_economist:["c_economist"],sv_disk:["sv_disk"],p_g3axisz:["p_g3","p_g3axisz"],n_edges:["n_edges"],ch_lz:["ch_lz"],gr_g2z:["gr_g2z"],fp_pin:["fp_pin"],c_codepen:["c_codepen"],ar_trs:["ar_trs"],a_distributever:["a_distributever"],ps_left:["ps_left"],ch_ozzz:["dummy"],wp_scale:["wp_scale"],gc_gohorizontal:["p_cg1axeshorizontal","p_cg1datahorizontal"],g_correlation:["g_correlation"],bx_medianc:["bx_medianc"],dp_binr:["dp_binr"],c_stata:["c_stata"],ch_ll:["ch_ll"],sv_diskjson:["sv_diskjson"],at_col:["at_col"],gc_ggh:["p_cghdata1","p_cghdata2","p_cghaxes"],ly_doe:["ly_doe"],lg_h:["lg_h","lg_l"],wp_initialization:["wp_initialization"],ar_diagm:["ar_tlm","ar_trm","ar_brm","ar_blm"],ar_b:["ar_b"],ch_of:["ch_of"],gr_styledashed:["gr_styledashed"],g_scatter3d:["g_scatter3d"],sp_thickness:["sp_thickness"],m_zzz:["dummy"],p_ghsampletitle:["p_gh","p_ghsampletitle"],c_react:["c_react"],o_g1:["o_g1"],ch_oe2:["ch_oe2"],c_jupyterc:["c_jupyterc"],dt_cor:["p_cg2axes","p_cg2fitcor","p_cg2datacor"],p_ghtitlesubtitle:["p_gh","p_ghtitlesubtitle"],gr_zzz:["dummy"],g_density:["g_density"],ar_rm:["ar_rm"],ch_oz:["ch_oz"],c_rrcode:["c_rrcode"],a_alignbottom:["a_alignbottom"],a_distributehor:["a_distributehor"],ly_zzz:["dummy"],p_g2axistitley:["p_g2","p_g2axistitley"],dtp_min:["dt_min"],ar_tr:["ar_tr"],ar_tm:["ar_tm"],c_opensource:["c_opensource"],tb_app:["tb_app"],o_ghvars:["o_ghvars"],ch_capple:["ch_capple"],b_grc:["b_grc"],p_g1citation:["p_g1","p_g1citation"],ch_olog2:["ch_olog2"],p_g2title:["p_g2","p_g2title"],ar_diag:["ar_tl","ar_tr","ar_br","ar_bl"],bx_violinc:["bx_violin","v_cancelsmall"],v_pause:["v_pause"],cd_json:["cd_json"],sv_pictures:["sv_pictures"],bx_wishkersn:["bx_wishkersn"],ar_perps:["ar_ls","ar_ts","ar_rs","ar_bs"],bx_medianw:["bx_medianw"],dps_zzz:["dummy"],rt_zzz:["dummy"],c_jsfiddle:["c_jsfiddle"],ps_right:["ps_right"],sl_lightbulbon:["sl_lightbulbon"],p_g1axistitle1:["p_g1","p_g1axistitle1"],p_gh:["p_gh"],sp_thicker:["sp_thicker"],dt_denfitfilled:["p_cg2axes","p_cg2fitden2","p_cg2dataden"],sp_spacing:["sp_spacing"],v_play:["v_play"],c_zzz:["dummy"],p_g3axisy:["p_g3","p_g3axisy"],ch_lf:["ch_lf"],g_meter:["g_meter"],sp_thinner:["sp_thinner"],g_dashboard:["g_dashboard"],dps_width:["dps_width"],g_line:["g_line"],tx_format:["tx_format"],dp_binned:["dp_binned"],g_histogram:["g_histogram"],wp_userinterface:["wp_userinterface"],c_rrc:["c_rrc"],p_g2axestitles:["p_g2","p_g2axestitles"],cr_normal:["cr_normal"],g_nonlinearfit:["g_nonlinearfit"],sl_zzz:["dummy"],ch_lzzz:["dummy"],ch_olog:["ch_olog"],dt_histremove:["p_cg2axes","p_cg2datahist","v_cancelsmall"],ln_zzz:["dummy"],p_g3axes:["p_g3","p_g3axes"],sl_check:["sl_check"],ch_lc:["ch_lc"]},classes:{cl6:"{fill:#7B3691;}",clt15:"{fill:#F91642;}",cl23:"{fill:#000643;}",cxtxa:"{fill:none;stroke:blue;stroke-width:3px;}",cxtn60:"{font: 60px sans-serif;}",cl20:"{fill:#F2F2F2;}",cxts100:"{font: italic 100px Brush Script MT;}",cl18:"{fill:#FFF;}",cxa:" {stroke-miterlimit:10;stroke-width:3px;fill:none;stroke:blue;}",cxc:"{stroke-miterlimit:10;stroke-width:3px;fill:none;stroke:#c6c6c6;}",cl55:"{fill:#C72037;}",cl51:"{fill:#5C6692;}",cl1:"{fill:#F7BA15;}",cxblack:"{stroke:black;fill:black;stroke-width:0.5px;}",cxaw:"{stroke-miterlimit:10;stroke-width:3px;stroke:blue;fill:white;}",clt0:"{fill:#FFFFFF;}",cl36:"{fill:#FFAB00;}",clt3:"{fill:#80D3FA;}",cl57:"{fill:#EC1E24;}",cl52:"{fill:#5B879B;}",cl8:"{fill:#3D5CA9;}",cxts200:"{font: italic 200px Brush Script MT;}",clt16:"{fill:#FE9D0C;}",cxtn140:"{font: 140px sans-serif;}",cxtn50:"{font: 50px sans-serif;}",cl14:"{fill:#00FE00;}",cl3:"{fill:#EF5522;}",clt1:"{fill:#269BCF;}",clt9:"{fill:#BA68C8;}",clt20:"{fill:#FEA725;}",clt14:"{fill:#FE5252;}",cl50:"{fill:#7199A6;}",cl16:"{fill:#FE00FE;}",clt7:"{fill:#E0BDE7;}",cxts60:"{font: italic 60px Brush Script MT;}",cl53:"{fill:#EB9129;}",cxcc:"{stroke:#c6c6c6;fill:#c6c6c6;}",clt2:"{fill:#B3E5FC;}",clt10:"{fill:#AA47BC;}",cxac:"{stroke:blue;fill:#c6c6c6;}",cxtn100:"{font: 100px sans-serif;}",cl25:"{fill:#51A7F9;}",clp4:"{fill:#ffc471;}",cl34:"{fill:#0DDA83;}",cl4:"{fill:#EB3323;}",cxtb100:"{font: bold 100px sans-serif;}",cxww:"{stroke:white;fill:white;}",cl27:"{fill:#164F86;}",cxnc:"{stroke:none;fill:none;}",cl21:"{fill:#FFFFFF;}",cxbb:"{stroke:#555;fill:#555;}",cxblue:"{stroke:blue;stroke-width:5px;}",cxaa:"{stroke:blue;fill:blue;}",cl22:"{fill:#424242;}",cxtxb:"{fill:none;stroke:black;stroke-width:3px;}",clt5:"{fill:#29B6F5;}",cxtn40:"{font: 40px sans-serif;}",cxtn90:"{font: 90px sans-serif;}",cxtn30:"{font: 30px sans-serif;}",cl54:"{fill:#1F457E;}",clt11:"{fill:#E11640;}",cl12:"{fill:#FE0000;}",cxtn120:"{font: 120px sans-serif;}",cxab:"{stroke:blue;fill:#555;}",cxtn80:"{font: 80px sans-serif;}",cl33:"{fill:#7FFE1A;}",cl17:"{fill:#FEFE00;}",cl19:"{fill:#00608F;}",cxtn20:"{font: 20px sans-serif;}",cl11:"{fill:#CCDC38;}",cl5:"{fill:#AC1E47;}",cxtn70:"{font: 70px sans-serif;}",clr:"{fill:#2369BE;}",clt6:"{fill:#B12F83;}",cl0:"{fill:#F6EA38;}",cl30:"{fill:#000040;}",cl7:"{fill:#462D8F;}",clp3:"{fill:#f85756;}",clt12:"{fill:#FEC8C4;}",clt17:"{fill:#FEDFB2;}",cl15:"{fill:#00FEFE;}",clt18:"{fill:#FECB7F;}",cl58:"{fill:#FFFFFF;}",cxbc:"{stroke:#555;fill:#c6c6c6;}",cl26:"{fill:#0365C0;}",clt19:"{fill:#FEB64C;}",cl40:"{fill:#F7BA15;}",cxtn10:"{font: 10px sans-serif;}",clt13:"{fill:#FE897F;}",cxbw:"{stroke-miterlimit:10;stroke-width:3px;stroke:#555;fill:white}",cxtxr:"{fill:none;stroke:red;stroke-width:3px;}",cxwhite:" {stroke:white;stroke-width:2px;}",cl35:"{fill:#FDEE01;}",cl9:"{fill:#0691CC;}",clt8:"{fill:#CE93D7;}",cl24:"{fill:#A8D6FF;}",clp5:"{fill:#002351;}",cxti100:"{font: italic 100px Georgia;}",cxtn180:"{font: 180px sans-serif;}",cl2:"{fill:#F7981C;}",cxorange:"{stroke-width:3px;stroke:#E26E38;fill:#E26E38}",cxrr:"{stroke:red;fill:red;}",cl41:"{fill:#F6EA38;}",cxts70:"{font: italic 70px Brush Script MT;}",cxtn160:"{font: 160px sans-serif;}",clp2:"{fill:#0465c0;}",cxti85:"{font: italic 85px Georgia;}",clt4:"{fill:#4FC2F6;}",cl28:"{fill:#002452;}",cl32:"{fill:#0080FF;}",clp1:"{fill:#00a0d2;}",cl37:"{fill:#E24520;}",cl13:"{fill:#0000FE;}",cxb:"{stroke-miterlimit:10;stroke-width:3px;fill:none;stroke:#555;}",cl31:"{fill:#0000CB;}",cxts150:"{font: italic 150px Brush Script MT;}",cl56:"{fill:#E8762D;}",cl10:"{fill:#64AD45;}"},symbols:{ar_r:'<path class="cxtxb" d="M80,35 L98,50 L80,65 M98,50 L2,50" />',wp_arguments:'<g class="cxb"><line x1="29.2" y1="71.9" x2="37.8" y2="71.9"/><line x1="45.6" y1="71.9" x2="54.3" y2="71.9"/><line x1="62.1" y1="71.9" x2="70.7" y2="71.9"/></g><g class="cxa"><path d="M 21.3 15.9 L 21.3 15.9 C 14.1 15.9 8.6 22.6 10.1 29.7 C 11 33.3 11.3 36.9 11 40.6 C 9.9 45.2 6.4 48.7 1.9 49.9"/><path d="M 78.6 15.9 L 78.6 15.9 C 85.9 15.9 91.3 22.6 89.8 29.7 C 89 33.3 88.8 37 89.1 40.6 C 90.2 45.2 93.7 48.7 98.2 49.9"/></g><g class="cxa"><path d="M 21.3 84 L 21.3 84 C 14.1 84 8.6 77.3 10.1 70.2 C 11 66.6 11.3 62.9 11 59.3 C 9.8 54.7 6.4 51.2 1.9 49.9 L 4.8 48.7"/><path d="M 78.6 84 L 78.6 84 C 85.9 84 91.3 77.3 89.8 70.2 C 89 66.6 88.8 62.9 89.1 59.3 C 90.2 54.7 93.7 51.2 98.2 49.9 L 95.3 48.7"/></g>',wp_license:'<g class="cxa"><polygon points="90.1 56.9 97.7 49.1 89.6 40.9 93.7 30.9 83.2 26.4 83.2 15.6 71.6 15.6 67.3 5.5 56.9 9.8 49.1 2.3 40.9 10.5 30.9 6.2 26.4 16.8 15.6 16.8 15.6 28.4 5.5 32.6 9.8 43.1 2.3 50.7 10.5 58.9 6.2 69.1 16.8 73.5 16.8 84.3 28.4 84.3 32.6 94.5 43.1 90.1 50.7 97.7 58.9 89.6 69.1 93.7 73.5 83.2 84.3 83.2 84.3 71.6 94.5 67.3 90.1 56.9" /></g>',cd_folder:'<g class="cxb"><path d="M83.1,36.3V22.9c0-1.3-1-2.3-2.3-2.3l0,0H28.8v-5.1c0-1.6-1.3-2.8-2.8-2.8H5.4c-1.6,0-2.8,1.3-2.8,2.8l0,0V85c0,1.3,1,2.3,2.3,2.3c0,0,0,0,0,0"/></g><g class="cxa"><path d="M79.5,87.2H4.9c-1.3,0-2.3-1-2.3-2.3c0-0.3,0-0.5,0.1-0.8l15.6-46.3c0.3-0.9,1.2-1.6,2.2-1.6h74.6c1.3,0,2.3,1,2.3,2.3c0,0.2,0,0.5-0.1,0.7L81.7,85.7C81.4,86.7,80.5,87.3,79.5,87.2z"/></g>',gr_g2x:'<g class="cxc"><line x1="2" y1="2" x2="2" y2="100" /><line x1="2" y1="98" x2="100" y2="98" /></g><g class="cxa"><line x1="20" y1="0" x2="20" y2="97" /> <line x1="40" y1="0" x2="40" y2="97" /> <line x1="60" y1="0" x2="60" y2="97" /> <line x1="80" y1="0" x2="80" y2="97" /></g>',p_cg1axesvertical:'<g class="cxb"><line x1="10" y1="2" x2="10" y2="98" /><line x1="2" y1="10" x2="10" y2="10" /><line x1="2" y1="30" x2="10" y2="30" /><line x1="2" y1="50" x2="10" y2="50" /><line x1="2" y1="70" x2="10" y2="70" /><line x1="2" y1="90" x2="98" y2="90" /><rect x="23" y="98" width="10" height="2"/><rect x="51" y="98" width="10" height="2"/><rect x="79" y="98" width="10" height="2"/></g>',dps_collapse:'<g class="cxa"><rect x="9.5" y="9.5" width="80" height="80" rx="4" /></g><text class="cxtb100" x="3" y="95">&#8963;</text>',cl_vertical:'<g class="cxa"><line x1="6" y1="75" x2="6" y2="90" /><line x1="14" y1="75" x2="14" y2="90" /><line x1="6" y1="75" x2="14" y2="75" /><line x1="22" y1="65" x2="22" y2="90" /><line x1="30" y1="65" x2="30" y2="90" /><line x1="22" y1="65" x2="30" y2="65" /><line x1="10" y1="75" x2="10" y2="50" /><line x1="26" y1="65" x2="26" y2="50" /><line x1="10" y1="50" x2="26" y2="50" /><line x1="38" y1="50" x2="38" y2="90" /><line x1="46" y1="65" x2="46" y2="90" /><line x1="54" y1="65" x2="54" y2="90" /><line x1="46" y1="65" x2="54" y2="65" /><line x1="50" y1="65" x2="50" y2="50" /><line x1="38" y1="50" x2="50" y2="50" /><line x1="62" y1="65" x2="62" y2="90" /><line x1="70" y1="65" x2="70" y2="90" /><line x1="62" y1="65" x2="70" y2="65" /><line x1="44" y1="40" x2="44" y2="50" /><line x1="66" y1="40" x2="66" y2="65" /><line x1="44" y1="40" x2="66" y2="40" /><line x1="78" y1="55" x2="78" y2="90" /><line x1="86" y1="75" x2="86" y2="90" /><line x1="94" y1="75" x2="94" y2="90" /><line x1="86" y1="75" x2="94" y2="75" /><line x1="90" y1="55" x2="90" y2="75" /><line x1="78" y1="55" x2="90" y2="55" /><line x1="84" y1="25" x2="84" y2="55" /><line x1="55" y1="25" x2="55" y2="40" /><line x1="55" y1="25" x2="84" y2="25" /><line x1="18" y1="10" x2="18" y2="50" /><line x1="70" y1="10" x2="70" y2="25" /><line x1="18" y1="10" x2="70" y2="10" /><line x1="44" y1="10" x2="44" y2="0" /></g><g class="cxb"><rect x="5" y="96" width="2" height="2" /><rect x="13" y="96" width="2" height="2" /><rect x="21" y="96" width="2" height="2" /><rect x="29" y="96" width="2" height="2" /><rect x="37" y="96" width="2" height="2" /><rect x="45" y="96" width="2" height="2" /><rect x="53" y="96" width="2" height="2" /><rect x="61" y="96" width="2" height="2" /><rect x="69" y="96" width="2" height="2" /><rect x="78" y="96" width="2" height="2" /><rect x="86" y="96" width="2" height="2" /><rect x="94" y="96" width="2" height="2" /></g>',p_g3axistitlex:'<g class="cxblue"><rect x="40" y="85" width="30" height="2"/></g>',ch_lv:'<text class="cxtb100" x="15" y="85">V</text>',v_plus:'<circle class="cxb" cx="50" cy="50" r="48" /><text class="cxtb100" x="20" y="77">+</text>',bx_connect:'<g class="cxb"><rect x="2" y="2" width="24" height="24" /><rect x="2" y="36" width="24" height="24" /><rect x="2" y="70" width="24" height="24" /><rect x="74" y="2" width="24" height="24" /><rect x="74" y="36" width="24" height="24" /><rect x="74" y="70" width="24" height="24" /></g><g class="cxa"><line x1="14" y1="14" x2="86" y2="14" /><line x1="14" y1="48" x2="86" y2="48" /><line x1="14" y1="82" x2="86" y2="82" /></g>',p_cg2fitkm:'<g class="cxa"><polyline points="10,20 35,20 35,30 55,30 55,50 75,50 75,75 95,75 95,90" /></g>',at_sze:'<g class="cxb"><path d=" M 4 35 A 48 48 0 1 1 77 90" /><circle cx="53" cy="83" r="15" /></g><g class="cxa"><path d=" M 34 95 A 30 30 0 1 1 62 63" /></g>',p_g1title:'<g class="cxblue"><rect x="45" y="0" width="20" height="2"/></g>',p_g2citation:'<g class="cxblue"><rect x="75" y="95" width="20" height="2"/></g>',wp_installation:'<g class="cxa"><path d="M 65.2 51.9 C 82.4 58.5 100.3 43.9 97.4 25.7 C 97.1 23.8 96.5 21.8 95.8 20 L 83.3 32.5 L 73.5 29.8 L 70.8 19.9 L 83.2 7.5 C 66.2 0.3 47.8 14.1 50 32.4 C 50.3 35.1 51.1 37.7 52.3 40.1"/><polyline points="35 57.1 10.1 82 22.6 94.5 41.3 75.7"/></g><g class="cxb"><rect x="62.8" y="52" width="17.8" height="39.3" transform="matrix(0.707107, -0.707107, 0.707107, 0.707107, -30.578448, 74.020113)"/><line x1="43.9" y1="73.2" x2="70" y2="47.1"/><polygon points="28.5 15.7 12.1 5.5 2.3 15.3 12.5 31.7 19.4 30.6 53.1 64.2 61 56.3 27.4 22.6 28.5 15.7"/></g>',g_treemap:'<g class="cxbb"><rect x="48" y="83.3" width="33.1" height="14.4"/><rect x="59.5" y="23" width="38.1" height="38.9"/><rect x="25.4" y="35.9" width="22.6" height="45.5"/><rect x="2.3" y="2.2" width="45.7" height="45.7"/></g><g class="cxcc"><rect x="80.4" y="72.6" width="16.6" height="25.1"/><rect x="25.1" y="79" width="22.9" height="18.6"/><rect x="48" y="61.9" width="31.8" height="21.3"/><rect x="48" y="2.2" width="49.1" height="20.8"/></g><g class="cxa"><rect x="2.3" y="2.2" width="95.5" height="95.5"/><rect x="2.3" y="2.2" width="45.7" height="45.7"/><line x1="97" y1="23" x2="48" y2="23"/><line x1="48" y1="47.9" x2="48" y2="97.6"/><rect x="2.3" y="47.9" width="22.9" height="49.7"/><line x1="25.1" y1="79" x2="48" y2="79"/><rect x="48" y="61.9" width="31.8" height="21.3"/><rect x="79.8" y="61.9" width="17.9" height="35.7"/><line x1="79.8" y1="72.6" x2="97.6" y2="72.6"/><line x1="59.5" y1="23" x2="59.5" y2="61.9"/></g>',a_movefront:'<g class="cxb"><polyline points="20,32 2,32 2,2 32,2 32,20" /><polyline points="85,68 98,68 98,98 68,98 68,85" /></g><g class="cxa"><rect x="20" y="20" width="65" height="65" /></g>',ch_calt:'<text class="cxtn60" x="5" y="70">Alt</text>',wp_documentation:'<g class="cxa"><path d="M 50 21.9 C 34.8 14.9 17.4 14.9 2.3 21.9 L 2.3 83.3 C 17.6 77.2 34.7 77.2 50 83.3 C 65.3 77.2 82.4 77.2 97.8 83.3 L 97.8 21.9 C 82.6 14.9 65.2 14.9 50 21.9 Z" /></g><g class="cxb"><line x1="50" y1="21.9" x2="50" y2="83.1" /></g>',sh_square:'<rect class="cxa" x="15" y="15" width="70" height="70" />',p_cg2fitcor:'<g class="cxa"><line x1="10" y1="90" x2="99" y2="1" /></g>',xar_dctrs:'<path class="cxtxb" d="M 50 10 A 40 40 0 0 1 90 50 M58,3 L50,10 L58,18 M97,42 L90,50 L82,42" />',p_cg1errors:'<g class="cxa"><line x1="20" y1="42" x2="36" y2="42" /><line x1="28" y1="42" x2="28" y2="67" /><line x1="48" y1="2" x2="64" y2="2" /><line x1="56" y1="2" x2="56" y2="27" /><line x1="76" y1="22" x2="92" y2="22" /><line x1="84" y1="22" x2="84" y2="47" /></g>',ch_ologsmall:'<text class="cxts60" x="15" y="70">log</text>',c_angular:'<polygon class="cxa" points="50 2 5 18.3 12.1 77.1 50 98.1 88 77.1 95 18.3 50 2"/><g class="cxb"><polyline points="73.5 72.2 50 20.3 26.5 72.2"/><line x1="34" y1="55.9" x2="65.9" y2="55.9"/></g>',b_grhl:'<g class="cxa"><rect fill="url(\'#hl-grad\')" x="0" y="0" width="100" height="100" /></g>',p_cghaxes:'<g class="cxb"><rect x="10" y="2" width="88" height="88"/><line x1="10" y1="24" x2="98" y2="24" /><line x1="10" y1="46" x2="98" y2="46" /><line x1="10" y1="68" x2="98" y2="68" /><rect x="0" y="10" width="2" height="6"/><rect x="0" y="32" width="2" height="6"/><rect x="0" y="54" width="2" height="6"/><rect x="0" y="76" width="2" height="6"/><line x1="40" y1="2" x2="40" y2="90" /><line x1="70" y1="2" x2="70" y2="90" /><rect x="20" y="98" width="10" height="2"/><rect x="50" y="98" width="10" height="2"/><rect x="80" y="98" width="10" height="2"/></g>',ar_t:'<path class="cxtxb" d="M35,20 L50,2 L65,20 M50,98 L50,2" />',o_ghsmps:'<g class="cxc"><rect y="15" x="58" height="70" width="40" /><line y1="15" x1="78" y2="85" x2="78" /><line y1="50" x1="98" y2="50" x2="58" /><rect y="95" x="94" width="2" height="4" /><rect y="95" x="74" width="2" height="4" /><rect y="20" x="45" width="2" height="20" /><rect y="60" x="45" width="2" height="20" /></g><g class="cxa"><rect y="15" x="4" width="28" height="70" /><line y1="15" x1="18" y2="85" x2="18" /><line y1="50" x1="32" y2="50" x2="4" /><rect y="2" x="25" width="2" height="2" /><rect y="2" x="11" width="2" height="2" /></g>',p_cg2datahiststag:'<g class="cxbb"><rect x="17" y="70" width="7" height="18" /><rect x="31" y="56" width="7" height="32" /><rect x="45" y="38" width="7" height="50" /><rect x="59" y="34" width="7" height="54" /><rect x="73" y="62" width="7" height="26" /><rect x="87" y="74" width="7" height="14" /></g>',bx_median:'<g class="cxb"><rect x="30" y="20" width="40" height="60" /><line x1="30" y1="2" x2="70" y2="2" /><line x1="50" y1="2" x2="50" y2="20" /><line x1="30" y1="98" x2="70" y2="98" /><line x1="50" y1="98" x2="50" y2="80" /></g><g class="cxa"><line x1="30" y1="50" x2="70" y2="50" /></g>',cr_bezier:'<g class="cxa"><path d="M1,99 C25,25 75,75 99,1" /></g>',ps_toloc2:'<path class="cxtxb" d="M35,80 L50,98 L65,80 M35,20 L50,2 L65,20 M50,98 L50,2" /><path class="cxtxb" d="M80,35 L98,50 L80,65 M20,35 L2,50 L20,65 M98,50 L2,50" /><g class="cxaa"><rect x="36" y="36" width="25" height="25" /></g>',g_stacked:'<g class="cxcc"><rect x="76.7" y="47.3" width="14.9" height="25.8"/><rect x="49.7" y="39.1" width="14.9" height="25.8"/><rect x="23.2" y="61.7" width="14.9" height="14.9"/></g><g class="cxbb"><rect x="22.4" y="73.1" width="14.9" height="12.9"/><rect x="49.7" y="64.9" width="14.9" height="21.1"/><rect x="76.7" y="73.1" width="14.9" height="12.9"/></g><g class="cxb"><rect x="22.4" y="50" width="15.6" height="36"/><rect x="49.4" y="15.6" width="15.6" height="70.4"/><rect x="76.4" y="27.4" width="15.6" height="58.5"/><line x1="50" y1="39.1" x2="64.9" y2="39.1"/><line x1="50" y1="64.9" x2="64.9" y2="64.9"/><line x1="76.7" y1="47.3" x2="91.6" y2="47.3"/><line x1="76.7" y1="73.1" x2="91.6" y2="73.1"/><line x1="22.4" y1="62.6" x2="37.9" y2="62.6"/><line x1="22.4" y1="73.1" x2="37.9" y2="73.1"/></g><g class="cxa"><line x1="11.9" x2="11.9" y2="100" y1="0"/><line x1="100" y1="86" y2="86" x2="0"/><line y1="62.6" x2="11.9" y2="62.6" x1="0"/><line y1="39.1" x2="11.9" y2="39.1" x1="0"/><line y1="15.6" x2="11.9" y2="15.6" x1="0"/></g>',a_alignleft:'<g class="cxb"><rect x="15" y="2" width="45" height="38" rx="5" /><rect x="15" y="52" width="75" height="38" rx="5" /></g><g class="cxa"><line x1="3" y1="1" x2="3" y2="99" /></g>',ch_oparens:'<text class="cxtn100" x="0" y="75">{ }</text>',at_motion:'<g class="cxb"><rect x="22" y="35" width="20" height="30" /><rect x="2" y="35" width="10" height="30" /></g><g class="cxa"><polyline points="98,50 68,85 68,65 53,65 53,35, 68,35 68,15 98,50" /></g>',dt_range:'<g class="cxaa"><rect x="8" y="46" width="10" height="9" /><rect x="88" y="6" width="10" height="49" /></g><g class="cxb"><line x1="2" y1="60" x2="100" y2="60" /><line x1="2" y1="2" x2="2" y2="60" /></g><g class="cxcc"><rect x="28" y="36" width="10" height="19" /><rect x="48" y="26" width="10" height="29" /><rect x="68" y="16" width="10" height="39" /></g><path class="cxtxa" d="M71,74 L83,86 L71,98 M29,74 L17,86 L29,98 M83,86 L17,86" />',ar_blm:'<path class="cxtxb" d="M17,71 L17,83 L29,83 M17,83 L83,17" />',v_minus:'<circle class="cxb" cx="50" cy="50" r="48" /><text class="cxtb100" x="32" y="80">-</text>',ps_toloc:'<g class="cxb"><rect x="2" y="2" width="25" height="25" /><rect x="34" y="2" width="25" height="25" /><rect x="67" y="2" width="25" height="25" /><rect x="2" y="34" width="25" height="25" /><rect x="67" y="34" width="25" height="25" /><rect x="2" y="67" width="25" height="25" /><rect x="34" y="67" width="25" height="25" /><rect x="67" y="67" width="25" height="25" /></g><g class="cxaa"><rect x="34" y="34" width="25" height="25" /></g>',p_g1axestitles:'<g class="cxblue"><rect x="0" y="25" width="3" height="25"/><rect x="97" y="25" width="3" height="25"/></g>',b_body2:'<g class="cxb"><polyline points="78,42 78,30 48,30 48,2 2,2 2,98 78,98 78,85"/><line x1="79" y1="29" x2="48" y2="1" /></g>',ar_rs:'<path class="cxtxb" d="M62,42 L70,50 L62,58 M70,50 L30,50" />',wp_softwaredesign:'<g class="cxa"><path d="M 46.8 78.1 L 5 78.1 C 3.4 78.1 2.1 76.8 2.1 75.2 L 2.1 12.8 C 2.1 11.2 3.4 9.9 5 9.9 L 95 9.9 C 96.6 9.9 97.9 11.2 97.9 12.8 L 97.9 45.4"/><polyline points="55.1 90.1 39.4 90.1 39.4 78.1"/><line x1="21.8" y1="90.1" x2="55.1" y2="90.1"/></g><g class="cxb"><polyline points="26.9 44 16 33.1 26.9 22.2"/><polyline points="45.6 44 56.5 33.1 45.6 22.2"/><line x1="39.1" y1="22.2" x2="33.5" y2="44"/><path d="M 97.8 72.6 L 97.8 62 L 91.2 62 C 91 61.2 90.7 60.5 90.3 59.7 L 95 55 L 87.4 47.6 L 82.8 52.2 C 82 51.8 81.2 51.5 80.4 51.2 L 80.4 44.7 L 70 44.7 L 70 51.2 C 69.1 51.5 68.3 51.8 67.6 52.2 L 62.9 47.6 L 55.4 55 L 60 59.7 C 59.6 60.4 59.3 61.2 59 62 L 52.5 62 L 52.5 72.6 L 59.1 72.6 C 59.3 73.4 59.7 74.2 60 75 L 55.4 79.6 L 62.8 87 L 67.4 82.4 C 68.2 82.8 69 83.1 69.8 83.4 L 69.8 90 L 80.4 90 L 80.4 83.4 C 81.2 83.1 82 82.8 82.7 82.4 L 87.4 87 L 94.8 79.6 L 90.3 74.8 C 90.8 74.1 91.1 73.3 91.4 72.4 Z"/><circle cx="75.1" cy="67.3" r="6.7"/></g>',g_kaplanmeier:'<g class="cxb"><polyline points="11.9 28.5 25.6 28.5 25.6 44.8 39.6 44.8 39.6 56.7 50 56.7 50 68.8 76.7 68.8 76.7 75.4 100 75.4"/><polyline points="11.9 7 37.5 7 37.5 15.6 50 15.6 50 39.1 70.8 39.1 70.8 56 90.7 56 90.7 62.6 100 62.6"/></g><g class="cxa"><line x1="11.9" x2="11.9" y2="100" y1="0"/><line x1="100" y1="86" y2="86" x2="0"/><line y1="62.6" x2="11.9" y2="62.6" x1="0"/><line y1="39.1" x2="11.9" y2="39.1" x1="0"/><line y1="15.6" x2="11.9" y2="15.6" x1="0"/><line x1="35.2" y1="100" x2="35.2" y2="86"/><line x1="58.5" y1="100" x2="58.5" y2="85.5"/><line x1="81.9" y1="100" x2="81.9" y2="85.5"/></g>',sr_aai:'<path class="cxtxa" d="M80,2 L98,17 L80,33 M98,17 L2,17" /><text class="cxtn60" x="0" y="90">a</text><text class="cxtn100" x="35" y="90">a</text>',wp_user:'<g class="cxa"><circle cx="49.9" cy="26" r="23.6" /><path d="M 49.9 49.6 L 49.9 49.6 C 71.7 49.6 89.3 67.2 89.3 88.9 L 89.3 97.7 C 89.3 97.7 89.3 97.7 89.3 97.7 L 10.7 97.7 C 10.7 97.7 10.7 97.7 10.7 97.7 L 10.7 88.9 C 10.6 67.2 28.2 49.6 49.9 49.6 Z" /></g>',ly_splom:'<g class="cxa"><rect x="25" y="2" width="15" height="15" /><rect x="2" y="25" width="15" height="15" /><rect x="57" y="2" width="15" height="15" /><rect x="80" y="2" width="15" height="15" /><rect x="57" y="25" width="15" height="15" /><rect x="2" y="80" width="15" height="15" /><rect x="80" y="57" width="15" height="15" /></g><g class="cxac"><rect x="2" y="2" width="15" height="15" /><rect x="25" y="25" width="15" height="15" /><rect x="2" y="57" width="15" height="15" /><rect x="25" y="80" width="15" height="15" /><rect x="57" y="57" width="15" height="15" /><rect x="80" y="80" width="15" height="15" /></g>',tx_tonumeric:'<text class="cxtn60" x="0" y="65">a</text><g class="cxaa"><text class="cxtn60" x="65" y="70">#</text><text class="cxtn60" x="30" y="100">&#10555;</text></g>',c_php:'<ellipse class="cxa" cx="50" cy="50" rx="47.9" ry="25" /><g class="cxb"><line x1="47.3" y1="31.8" x2="42.5" y2="56.1" /><path d="M 56.3 56.1 L 58.2 46.5 C 58.8 44.1 56.8 41.7 54.2 41.7 L 44.8 41.7" /><path d="M 19 63.4 L 23.5 40.9 L 30.4 40.9 C 34.8 40.9 37.9 44.9 36.8 49.1 L 36.8 49.1 C 36.2 52 33.5 54.1 30.4 54.1 L 20.8 54.1" /><path d="M 62.9 63.4 L 67.6 40.9 L 74.5 40.9 C 78.7 40.9 81.9 44.9 80.8 49.1 L 80.8 49.1 C 80.1 52 77.4 54.1 74.4 54.1 L 64.8 54.1" /></g>',sw_up:'<g class="cxa"><path d="M0,85 C90,90 10,10 100,15" /><line x1="83" y1="5" x2="98" y2="15" /><line x1="83" y1="25" x2="98" y2="15" /></g>',g_violin:'<g class="cxcc"><path d="M 73.1 51.6 C 67.5 46.1 54.8 40.4 61.2 34.5 C 68.7 27.4 59.6 21 54.4 14.7 C 51.8 11.4 50.3 7.5 50 3.4 C 50 2 50 2 50 3.4 L 50 3.4 C 49.8 7.5 48.2 11.4 45.6 14.7 C 40.5 21 31.3 27.4 38.9 34.5 C 45.1 40.4 32.5 46.1 26.9 51.6 C 22.5 55.9 24.2 60.7 30.7 61.7 C 56.4 65.6 32.4 67.9 32.5 74.5 C 32.7 80.6 40.2 76.2 42.7 84.5 C 43.4 87.1 44.8 89.5 46.9 91.4 C 48.6 92.8 49.8 95 50 97.3 C 50 97.3 50 97.8 50 97.6 C 50 97.5 50 97.3 50 97.3 C 50.3 95 51.3 92.8 53.2 91.4 C 55.2 89.5 56.7 87.1 57.4 84.5 C 59.9 76.2 67.3 80.6 67.5 74.5 C 67.7 67.9 43.7 65.5 69.3 61.7 C 75.9 60.7 77.5 55.9 73.1 51.6 Z"/></g><g class="cxa"><path d="M 73.1 51.6 C 67.5 46.1 54.8 40.4 61.2 34.5 C 68.7 27.4 59.6 21 54.4 14.7 C 51.8 11.4 50.3 7.5 50 3.4 C 50 2 50 2 50 3.4 L 50 3.4 C 49.8 7.5 48.2 11.4 45.6 14.7 C 40.5 21 31.3 27.4 38.9 34.5 C 45.1 40.4 32.5 46.1 26.9 51.6 C 22.5 55.9 24.2 60.7 30.7 61.7 C 56.4 65.6 32.4 67.9 32.5 74.5 C 32.7 80.6 40.2 76.2 42.7 84.5 C 43.4 87.1 44.8 89.5 46.9 91.4 C 48.6 92.8 49.8 95 50 97.3 C 50 97.3 50 97.8 50 97.6 C 50 97.5 50 97.3 50 97.3 C 50.3 95 51.3 92.8 53.2 91.4 C 55.2 89.5 56.7 87.1 57.4 84.5 C 59.9 76.2 67.3 80.6 67.5 74.5 C 67.7 67.9 43.7 65.5 69.3 61.7 C 75.9 60.7 77.5 55.9 73.1 51.6 Z"/></g>',ch_cdelete:'<text class="cxtn80" x="0" y="80">&#9003;</text>',bx_meanb:'<g class="cxc"><rect x="30" y="20" width="40" height="60" /><line x1="30" y1="50" x2="70" y2="50" /><line x1="30" y1="2" x2="70" y2="2" /><line x1="50" y1="2" x2="50" y2="20" /><line x1="30" y1="98" x2="70" y2="98" /><line x1="50" y1="98" x2="50" y2="80" /></g><g class="cxbb"><rect x="40" y="40" width="20" height="20" /></g>',op_config:'<g class="cxa"><circle cx="70.8" cy="37.6" r="8.9"/><path d="M97.5,41.8v-8.6L90,31.9c-0.4-1.3-0.9-2.5-1.5-3.7l4.3-6.2l-6.1-6.1l-6.1,4.3c-1.3-0.7-2.6-1.3-4-1.7l-1.3-7.2h-8.6l-1.2,7c-1.5,0.4-3,0.9-4.4,1.7l-5.7-4L49.5,22l3.9,5.6c-0.8,1.4-1.4,3-1.9,4.5l-6.7,1.1v8.6l6.7,1.2c0.4,1.6,1.1,3.1,1.9,4.5l-3.9,5.6l6.1,6.1l5.7-4c1.4,0.7,2.8,1.3,4.4,1.7l1.2,7h8.6l1.3-7.2c1.4-0.4,2.7-1,4-1.7l6.1,4.3l6.1-6.1l-4.3-6.1c0.6-1.2,1.2-2.5,1.5-3.8L97.5,41.8z"/></g><g class="cxb"><circle cx="24.6" cy="66.4" r="7.5"/><path d="M47.4,70v-7.3L41,61.6c-0.3-1.1-0.7-2.2-1.3-3.2l3.7-5.3l-5.2-5.2L33,51.5c-1.1-0.6-2.2-1.1-3.4-1.5l-1.1-6.2h-7.3l-1,6c-1.3,0.3-2.5,0.8-3.7,1.4l-4.8-3.4l-5.2,5.2l3.4,4.8c-0.7,1.2-1.3,2.5-1.6,3.8l-5.7,1V70l5.7,1c0.4,1.3,0.9,2.6,1.6,3.8l-3.4,4.8l5.3,5.2l4.7-3.4c1.2,0.6,2.4,1.1,3.7,1.4l1,5.9h7.3l1.1-6.1c1.2-0.3,2.3-0.8,3.4-1.5l5.2,3.6l5.2-5.2l-3.7-5.3c0.6-1,1-2.1,1.3-3.2L47.4,70z"/></g>',ar_ts:'<path class="cxtxb" d="M42,38 L50,30 L58,38 M50,70 L50,30" />',xar_dcbls:'<path class="cxtxb" d="M 50 90 A 40 40 0 0 1 10 50 M42,82 L50,90 L42,97 M3,58 L10,50 L18,58" />',m_double:'<text class="cxtn30 cxaa" x="2" y="25">2</text>',m_left:'<g class="cxaa"><path d="M50,10 Q 25,10 25,25 L25,35 45,35 45,30 Q 45,25 50,25 Z" /></g>',sr_aad:'<path class="cxtxa" d="M80,2 L98,17 L80,33 M98,17 L2,17" /><text class="cxtn100" x="0" y="90">a</text><text class="cxtn60" x="60" y="90">a</text>',wp_oveview:'<g class="cxa"><path d="M 80.9 42.6 L 80.9 21.6 L 61.6 2.3 L 11.5 2.3 L 11.5 90.4 L 31.6 90.4"/><polyline points="61.8 2.2 61.8 21.3 81 21.3"/></g><g class="cxb"><circle cx="59" cy="68.3" r="22.1"/><line x1="74.5" y1="84" x2="88.5" y2="97.8"/></g>',p_cg1datahorizontal:'<g class="cxcc"><rect x="14" y="10" width="30" height="16"/><rect x="14" y="38" width="80" height="16"/><rect x="14" y="66" width="60" height="16"/></g>',ch_lx:'<text class="cxtb100" x="15" y="85">X</text>',c_python:'<g class="cxb"><path d="M 72.7 72.2 L 72.7 86.2 C 72.7 92.8 67.4 98 60.8 98 L 35.9 98 C 29.5 98 24.2 92.8 24.2 86.2 L 24.2 61.4 C 24.2 55 29.5 49.8 35.9 49.8 L 64 49.8 C 70.5 49.8 75.8 44.5 75.8 38 L 75.8 23.8 L 80.4 23.8 C 90.1 23.9 98 31.7 98.1 41.4 L 98.1 54.3 C 98.1 64.1 90.1 72.1 80.2 72 Z" /><line x1="72.8" y1="72.3" x2="50.2" y2="72.3" /></g><circle class="cxbb" cx="60" cy="85.8" r="4.3" /><g class="cxa"><path d="M 27.4 27.7 L 27.4 13.7 C 27.4 7.2 32.8 1.9 39.1 1.9 L 64.1 1.9 C 70.6 1.9 76 7.2 76 13.7 L 76 38.3 C 76 44.8 70.6 50.1 64.1 50.1 L 35.7 50.1 C 29.5 50.1 24.3 55.2 24.3 61.4 L 24.3 76.2 L 19.6 76.2 C 9.9 76.2 1.9 68.3 1.8 58.5 L 1.8 45.5 C 1.8 35.6 9.9 27.7 19.6 27.7 Z" /><line x1="27.4" y1="27.7" x2="50" y2="27.7" /></g><circle class="cxaa" cx="39.9" cy="14.3" r="4.3" />',g_layout:'<g class="cxa"><rect x="2.1" y="2.6" width="25.3" height="25.3"/><rect x="2.1" y="37.4" width="25.3" height="25.3"/><rect x="2.1" y="72.1" width="25.3" height="25.3"/><rect x="72.6" y="2.6" width="25.3" height="25.3"/><rect x="72.6" y="37.4" width="25.3" height="25.3"/><rect x="72.6" y="72.1" width="25.3" height="25.3"/><rect x="37.4" y="2.6" width="25.3" height="25.3"/><rect x="37.4" y="37.4" width="25.3" height="25.3"/><rect x="37.4" y="72.1" width="25.3" height="25.3"/></g><g class="cxb"><line x1="90" y1="14.3" x2="90" y2="10"/><line x1="46.3" y1="13.3" x2="46.3" y2="9.1"/><line x1="9.9" y1="13.3" x2="9.9" y2="9.1"/><line x1="14.8" y1="47.6" x2="14.8" y2="43.3"/><line x1="9.9" y1="81.5" x2="9.9" y2="77.3"/><line x1="18" y1="18.5" x2="18" y2="14.3"/><line x1="19.5" y1="52.5" x2="19.5" y2="56.7"/><line x1="19.5" y1="82.6" x2="19.5" y2="86.9"/><line x1="45" y1="82.6" x2="45" y2="86.9"/><line x1="55.3" y1="82.6" x2="55.3" y2="86.9"/><line x1="53.4" y1="21.1" x2="53.4" y2="16.9"/><line x1="53.4" y1="47.6" x2="53.4" y2="43.3"/><line x1="47.9" y1="56.7" x2="47.9" y2="52.5"/><line x1="81.6" y1="47.6" x2="81.6" y2="43.3"/><line x1="81.6" y1="86.9" x2="81.6" y2="82.6"/><line x1="90.6" y1="57.7" x2="90.6" y2="53.5"/><line x1="90.6" y1="81.5" x2="90.6" y2="77.3"/><line x1="81.6" y1="21.1" x2="81.6" y2="16.9"/></g>',ar_brs:'<path class="cxtxb" d="M66,58 L66,66 L56,66 M34,34 L66,66" />',b_bodygradient:'<g class="cxa"><polyline fill="url(\'#b-grad\')" points="78,42 78,30 48,30 48,2 2,2 2,98 78,98 78,85"/><line x1="79" y1="29" x2="48" y2="1" /></g>',cr_cumulative:'<g class="cxa"><path d="M1,99 C75,75 25,25 99,1" /></g>',ch_lk:'<text class="cxtb100" x="15" y="85">K</text>',c_cxplot:'<g class="clp1"><path d="M 33.9 29.8 C 33.9 32.6 31.7 34.9 28.9 34.9 C 26.1 34.9 23.8 32.6 23.8 29.8 C 23.8 27 26.1 24.8 28.9 24.8 C 31.7 24.8 33.9 27 33.9 29.8 Z M 33.9 29.8" /><path d="M 55.1 36.3 C 55.1 39 52.8 41.3 49.9 41.3 C 47.2 41.3 44.9 39 44.9 36.3 C 44.9 33.4 47.2 31.1 49.9 31.1 C 52.8 31.1 55.1 33.4 55.1 36.3 Z M 55.1 36.3" /><path d="M 81.7 79.9 L 49.9 97.8 L 29.5 85.9 L 15.9 78 L 16.1 77.9 C 17.6 76.5 27.7 66.7 33.6 66 C 40.1 65.4 44.1 70.5 44.1 70.5 C 44.1 70.5 51.7 66.7 57.2 68.5 C 62.7 70.1 66.1 75.6 66.1 75.6 C 76.9 73.8 81.7 79.9 81.7 79.9 Z M 81.7 79.9" /></g><path class="clp2" d="M 76.8 24 C 76.8 26.8 74.5 29.2 71.8 29.2 C 68.9 29.2 66.6 26.8 66.6 24 C 66.6 21.3 68.9 18.9 71.8 18.9 C 74.5 18.9 76.8 21.3 76.8 24 Z M 76.8 24" /><path class="clp3" d="M 66.1 75.6 L 29.5 85.9 L 23 82.1 L 16.1 77.9 C 17.6 76.5 27.7 66.7 33.6 66 C 40.1 65.4 44.1 70.5 44.1 70.5 C 44.1 70.5 51.7 66.7 57.2 68.5 C 62.7 70.1 66.1 75.6 66.1 75.6 Z M 66.1 75.6" /><path class="clp4" d="M 44.1 70.5 L 23 82.1 L 16.1 77.9 C 17.6 76.5 27.7 66.7 33.6 66 C 40.1 65.4 44.1 70.5 44.1 70.5 Z M 44.1 70.5" /><g class="clp5"><path d="M 49.9 99.5 C 49.7 99.5 49.5 99.4 49.3 99.3 L 7.6 75.3 C 7.1 75 6.9 74.5 6.9 74.1 L 6.9 26 C 6.9 25.4 7.1 25 7.6 24.8 L 49.3 0.7 C 49.7 0.4 50.3 0.4 50.7 0.7 L 68.1 10.7 C 68.7 11.2 69 12 68.6 12.7 C 68.2 13.3 67.3 13.6 66.6 13.2 L 49.9 3.6 L 9.8 26.7 L 9.8 73.2 L 49.9 96.5 L 90.1 73.2 L 90.1 26.7 L 85.5 24.1 C 84.8 23.7 84.6 22.8 85 22.1 C 85.4 21.5 86.3 21.3 86.9 21.6 L 92.3 24.8 C 92.8 25 93.1 25.4 93.1 26 L 93.1 74.1 C 93.1 74.5 92.8 75 92.3 75.3 L 50.7 99.3 C 50.5 99.4 50.3 99.5 49.9 99.5 Z M 49.9 99.5" /><path d="M 29.6 87.8 C 29 87.8 28.3 87.2 28.2 86.5 C 28.1 85.8 28.6 85.1 29.3 84.9 L 65.5 74.4 C 71.7 72.6 78.2 74.3 82.8 78.7 C 83.1 79.1 83.3 79.5 83.2 80.1 C 83 80.6 82.7 81 82.1 81.1 C 81.7 81.3 81.1 81.1 80.8 80.8 C 76.9 77.1 71.5 75.7 66.4 77.1 L 30.1 87.8 C 30 87.8 29.7 87.8 29.6 87.8 Z M 29.6 87.8" /><path d="M 22.3 83.5 C 21.6 83.5 21 83.1 20.8 82.4 C 20.6 81.7 21 81.1 21.5 80.8 L 45.9 67.7 C 51.3 64.8 58 65.8 62.2 70.1 L 67 74.8 C 67.5 75.4 67.5 76.3 67 76.8 C 66.4 77.3 65.5 77.3 65 76.8 L 60.1 72.1 C 56.7 68.7 51.5 67.9 47.3 70.2 L 22.9 83.3 C 22.7 83.4 22.5 83.5 22.3 83.5 Z M 22.3 83.5" /><path d="M 15.1 79.4 C 14.6 79.4 14 79 13.8 78.4 C 13.6 77.9 13.8 77.2 14.3 76.8 L 27.1 66.7 C 31.1 63.6 36.4 63.5 40.4 66.4 L 44.7 69.3 C 45.1 69.6 45.3 70.1 45.2 70.5 C 45.2 71.1 44.9 71.5 44.4 71.8 C 44 72 43.5 72 43 71.6 L 38.7 68.7 C 35.8 66.6 31.8 66.7 29 69 L 16 79.1 C 15.8 79.3 15.5 79.4 15.1 79.4 Z M 15.1 79.4" /><path d="M 57.2 35.5 C 56.7 31.8 53.7 29 49.9 29 C 47.2 29 44.8 30.6 43.6 33 C 43.3 33.4 43.1 33.9 43 34.3 C 42.9 34.9 42.8 35.3 42.8 35.7 C 42.8 36 42.8 36.1 42.8 36.2 C 42.8 40.2 46 43.4 49.9 43.4 C 54 43.4 57.2 40.2 57.2 36.2 C 57.2 36 57.2 35.7 57.2 35.5 Z M 49.9 40.6 C 47.5 40.6 45.7 38.6 45.7 36.2 C 45.7 36 45.7 35.6 45.8 35.3 C 45.8 35.2 45.8 35.1 45.8 35.1 C 46.3 33.2 48.1 31.9 50 31.9 C 52 31.9 53.7 33.2 54.1 35.2 C 54.1 35.2 54.2 35.3 54.2 35.3 C 54.4 36.6 54.2 37.9 53.3 38.9 C 52.6 39.9 51.3 40.6 49.9 40.6 Z M 49.9 40.6" /><path d="M 78.3 20.9 C 77.8 20 77.3 19.3 76.5 18.6 C 75.2 17.4 73.5 16.9 71.8 16.9 C 67.7 16.9 64.5 20 64.5 24 C 64.5 24.9 64.6 25.8 65 26.5 C 65.3 27.5 65.9 28.3 66.5 29 C 68.6 31.1 71.7 31.8 74.4 30.7 C 77.2 29.6 78.9 27 78.9 24 C 78.9 23 78.7 21.9 78.3 20.9 Z M 71.8 28.4 C 70.2 28.4 68.9 27.6 68.2 26.4 C 68.1 26.3 68.1 26.3 68.1 26.2 C 67.6 25.5 67.4 24.8 67.4 24 C 67.4 22.1 68.6 20.6 70.4 19.9 C 72 19.4 74 19.9 75.1 21.4 C 75.7 22.1 76.1 23 76.1 24 C 76.1 26.4 74.1 28.4 71.8 28.4 Z M 71.8 28.4" /><path d="M 28.2 22.6 C 25.8 22.6 23.5 23.8 22.2 25.9 C 20.8 27.8 20.6 30.4 21.5 32.6 C 21.9 33.5 22.5 34.3 23.1 35 C 24.8 36.6 27.1 37.3 29.4 36.9 C 31.6 36.5 33.6 35.1 34.6 33 C 35 32.2 35.3 31.2 35.3 30.3 C 35.4 30.1 35.4 29.9 35.4 29.8 C 35.4 25.9 32.2 22.6 28.2 22.6 Z M 28.2 34.1 C 26.8 34.1 25.5 33.4 24.6 32.2 C 24.6 32.2 24.6 32.2 24.6 32.2 C 23.5 30.6 23.7 28.4 25 26.8 C 26.3 25.4 28.4 25.1 30.2 26 C 31.9 27 32.8 28.9 32.4 30.8 C 31.9 32.8 30.2 34.1 28.2 34.1 Z M 28.2 34.1" /><path d="M 8.3 43.4 C 7.7 43.4 7.1 43 6.9 42.4 C 6.8 41.8 7 41.1 7.6 40.8 L 22.7 31.9 C 23.3 31.6 23.8 31.6 24.2 31.9 C 24.7 32.1 24.9 32.6 24.9 33.1 C 24.9 33.7 24.7 34.1 24.2 34.4 L 9.1 43.2 C 8.9 43.4 8.5 43.4 8.3 43.4 Z M 8.3 43.4" /><path d="M 44.3 36.3 C 44.2 36.3 44.1 36.2 43.9 36.2 L 33.5 32.7 C 32.7 32.4 32.4 31.6 32.6 30.8 C 32.8 30.1 33.7 29.7 34.5 29.9 L 44.9 33.4 C 45.5 33.7 45.9 34.3 45.8 35.1 C 45.7 35.7 45.1 36.3 44.3 36.3 Z M 44.3 36.3" /><path d="M 76.3 21.9 C 75.7 21.9 75.1 21.6 75 20.9 C 74.7 20.4 75 19.7 75.5 19.3 L 84.5 13.1 C 84.8 12.8 85.5 12.8 85.9 13 C 86.4 13.2 86.7 13.7 86.7 14.2 C 86.8 14.8 86.5 15.2 86.1 15.5 L 77.2 21.7 C 76.8 21.9 76.6 21.9 76.3 21.9 Z M 76.3 21.9" /><path d="M 55.5 36.3 C 54.9 36.3 54.3 35.9 54.2 35.2 C 54 34.6 54.2 34 54.8 33.7 L 66 25.9 C 66.4 25.5 67 25.5 67.5 25.8 C 67.9 26 68.3 26.4 68.3 27 C 68.3 27.4 68.1 27.9 67.6 28.3 L 56.4 36 C 56.1 36.2 55.9 36.3 55.5 36.3 Z M 55.5 36.3" /></g><g><path d="M 31.1 53.6 L 29 53.6 C 28.9 53.6 28.9 53.6 28.7 53.6 C 28.6 53.7 28.6 53.9 28.5 54 C 28.4 54.2 28.3 54.4 28.1 54.6 C 27.9 54.7 27.5 54.8 27.3 54.8 C 26.9 54.8 26.6 54.7 26.3 54.4 C 26 54.1 25.9 53.6 25.9 53.2 C 25.9 52.8 25.9 52.4 25.9 52 C 25.9 51.6 26 51.1 26.3 50.7 C 26.6 50.5 26.9 50.2 27.3 50.3 C 27.5 50.2 27.9 50.3 28.1 50.5 C 28.3 50.7 28.4 50.9 28.5 51.2 C 28.6 51.3 28.6 51.4 28.7 51.4 C 28.9 51.6 28.9 51.6 29 51.6 L 31.1 51.6 C 31.2 51.6 31.3 51.4 31.4 51.4 C 31.4 51.3 31.5 51.2 31.5 51.1 C 31.5 50.9 31.4 50.6 31.2 50.2 C 31.1 49.9 30.7 49.6 30.5 49.4 C 30.1 48.9 29.6 48.7 29.2 48.5 C 28.5 48.3 27.9 48.1 27.2 48.1 C 26.6 48.1 25.8 48.4 25.1 48.7 C 24.6 48.9 24 49.4 23.7 49.9 C 23.3 50.6 23 51.2 23 51.9 C 23 52.1 23 52.3 23 52.5 C 23 52.9 23 53.1 23 53.2 C 23 54 23.3 54.6 23.7 55.2 C 24 55.7 24.6 56.2 25.1 56.5 C 25.8 56.8 26.6 56.9 27.2 56.9 C 27.8 56.9 28.3 56.8 28.9 56.7 C 29.3 56.6 29.7 56.4 30.1 56.2 C 30.4 55.9 30.6 55.7 30.8 55.4 C 31.1 55.2 31.2 55 31.3 54.6 C 31.4 54.4 31.5 54.2 31.5 54 C 31.5 53.9 31.5 53.7 31.4 53.7 C 31.3 53.6 31.2 53.6 31.1 53.6 Z M 31.1 53.6" /><path d="M 41.8 56.3 C 41.8 56.3 41.8 56.2 41.7 56.2 L 39 52.4 L 41.5 49 C 41.5 48.9 41.6 48.9 41.6 48.8 C 41.6 48.8 41.6 48.8 41.6 48.7 C 41.6 48.5 41.5 48.4 41.3 48.4 L 39.3 48.4 C 39.2 48.4 39.1 48.4 39.1 48.5 C 39 48.6 39 48.6 38.8 48.7 L 37.4 50.7 L 35.9 48.7 C 35.9 48.6 35.8 48.5 35.7 48.5 C 35.7 48.4 35.6 48.4 35.4 48.4 L 33.5 48.4 C 33.4 48.4 33.2 48.4 33.1 48.5 C 33.1 48.6 33 48.6 33 48.7 C 33 48.8 33 48.8 33.1 48.8 C 33.1 48.9 33.1 48.9 33.1 49 L 35.6 52.4 L 32.9 56.2 C 32.9 56.2 32.8 56.3 32.8 56.3 C 32.8 56.4 32.8 56.4 32.8 56.4 C 32.8 56.5 32.8 56.6 32.9 56.7 C 33 56.7 33.1 56.8 33.2 56.8 L 35.2 56.8 C 35.3 56.8 35.4 56.7 35.6 56.7 C 35.6 56.6 35.7 56.6 35.7 56.5 L 37.3 54.3 L 39 56.5 C 39 56.6 39.1 56.6 39.1 56.7 C 39.2 56.7 39.3 56.8 39.4 56.8 L 41.5 56.8 C 41.6 56.8 41.7 56.7 41.7 56.7 C 41.8 56.6 41.8 56.5 41.8 56.4 C 41.8 56.4 41.8 56.3 41.8 56.3 Z M 41.8 56.3" /><path d="M 52.4 52 C 52.4 51.4 52.4 50.9 52.1 50.3 C 52 49.9 51.8 49.6 51.5 49.2 C 51.1 48.9 50.8 48.6 50.4 48.5 C 49.9 48.3 49.5 48.1 48.9 48.3 C 48.4 48.1 48 48.3 47.5 48.6 C 47.1 48.7 46.8 49 46.4 49.4 L 46.4 48.8 C 46.4 48.7 46.4 48.6 46.3 48.5 C 46.3 48.4 46.2 48.4 46.1 48.4 L 44.2 48.4 C 44.1 48.4 44 48.4 43.9 48.5 C 43.9 48.6 43.8 48.7 43.8 48.8 L 43.8 59.5 C 43.8 59.6 43.9 59.7 43.9 59.7 C 44 59.8 44.1 59.9 44.2 59.8 L 46.2 59.8 C 46.3 59.9 46.4 59.8 46.5 59.7 C 46.5 59.7 46.6 59.6 46.6 59.5 L 46.6 55.8 C 46.9 56.2 47.2 56.5 47.6 56.6 C 48.1 56.8 48.5 56.9 48.9 56.9 C 49.5 56.9 49.9 56.8 50.4 56.7 C 50.8 56.5 51.1 56.3 51.5 55.9 C 51.8 55.6 52 55.2 52.1 54.7 C 52.4 54.2 52.4 53.7 52.4 53.2 C 52.5 53 52.5 52.8 52.5 52.5 C 52.5 52.4 52.5 52.2 52.4 52 Z M 49.6 53.1 C 49.5 53.3 49.5 53.6 49.4 54 C 49.3 54.2 49.2 54.4 48.9 54.5 C 48.7 54.7 48.4 54.7 48.1 54.7 C 47.9 54.7 47.5 54.7 47.3 54.5 C 47.1 54.4 46.9 54.2 46.8 54 C 46.6 53.7 46.6 53.5 46.6 53.2 C 46.6 53 46.6 52.9 46.6 52.6 C 46.6 52.4 46.6 52.2 46.6 52 C 46.6 51.8 46.6 51.4 46.8 51.2 C 46.9 51 47.1 50.8 47.3 50.6 C 47.7 50.3 48.4 50.3 48.9 50.6 C 49.2 50.8 49.3 51 49.4 51.2 C 49.5 51.6 49.5 51.8 49.6 52.1 C 49.6 52.4 49.6 52.8 49.6 53.1 Z M 49.6 53.1" /><path d="M 57.4 45.4 C 57.4 45.3 57.3 45.3 57.2 45.3 L 55.2 45.3 C 55.1 45.3 55 45.3 55 45.4 C 54.9 45.5 54.9 45.6 54.9 45.7 L 54.9 56.4 C 54.9 56.5 54.9 56.6 55 56.6 C 55 56.7 55.1 56.8 55.2 56.8 L 57.2 56.8 C 57.3 56.8 57.4 56.7 57.4 56.6 C 57.5 56.6 57.5 56.5 57.5 56.4 L 57.5 45.7 C 57.5 45.6 57.5 45.5 57.4 45.4 Z M 57.4 45.4" /><path d="M 68.5 51.9 C 68.5 51.1 68.3 50.5 67.9 49.9 C 67.6 49.4 67.1 48.9 66.5 48.7 C 65.1 48 63.4 48 62 48.7 C 61.4 48.9 60.9 49.4 60.6 49.9 C 60.1 50.5 60 51.1 59.9 51.9 C 59.9 52.1 59.9 52.3 59.9 52.5 C 59.9 52.9 59.9 53.1 59.9 53.3 C 60 54 60.1 54.6 60.6 55.3 C 60.9 55.8 61.4 56.3 61.9 56.5 C 63.4 57 65.1 57 66.5 56.5 C 67.2 56.3 67.6 55.8 67.9 55.3 C 68.3 54.6 68.5 54 68.5 53.3 C 68.5 53.1 68.5 52.9 68.5 52.5 C 68.5 52.3 68.5 52.1 68.5 51.9 Z M 65.6 53.2 C 65.6 53.6 65.5 54.2 65.3 54.5 C 65 54.8 64.6 55 64.2 55 C 63.9 55 63.4 54.8 63.2 54.5 C 62.9 54.2 62.8 53.6 62.8 53.2 C 62.8 53.1 62.8 52.9 62.8 52.5 C 62.8 52.3 62.8 52.1 62.8 51.9 C 62.8 51.4 62.9 51 63.2 50.7 C 63.4 50.3 63.9 50.2 64.2 50.2 C 64.6 50.2 65 50.3 65.3 50.7 C 65.5 51 65.6 51.4 65.6 51.9 C 65.7 52.3 65.7 52.8 65.6 53.2 Z M 65.6 53.2" /><path d="M 76.9 54.6 C 76.9 54.6 76.8 54.5 76.7 54.5 L 75.4 54.5 C 75.2 54.6 74.9 54.4 74.7 54.2 C 74.6 54 74.5 53.6 74.5 53.3 L 74.5 50.5 L 76.6 50.5 C 76.6 50.5 76.7 50.5 76.8 50.3 C 76.9 50.3 76.9 50.2 76.9 50.1 L 76.9 48.8 C 76.9 48.7 76.9 48.6 76.8 48.5 C 76.7 48.4 76.6 48.4 76.6 48.4 L 74.5 48.4 L 74.5 45.7 C 74.5 45.6 74.5 45.5 74.4 45.4 C 74.3 45.3 74.2 45.3 74.1 45.3 L 72.2 45.3 C 72.1 45.3 72 45.3 72 45.4 C 71.9 45.5 71.9 45.6 71.9 45.7 L 71.9 48.4 L 70.6 48.4 C 70.5 48.4 70.4 48.4 70.2 48.5 C 70.2 48.6 70.1 48.7 70.1 48.8 L 70.1 50.1 C 70.1 50.2 70.2 50.3 70.2 50.3 C 70.4 50.5 70.5 50.5 70.6 50.5 L 71.9 50.5 L 71.9 53.6 C 71.8 54.2 72 54.8 72.2 55.4 C 72.6 55.8 72.9 56.3 73.4 56.4 C 74 56.7 74.6 56.8 75.2 56.8 L 76.7 56.8 C 76.8 56.8 76.9 56.7 76.9 56.6 C 77.1 56.6 77.1 56.5 77.1 56.4 L 77.1 55 C 77.2 54.8 77.1 54.7 76.9 54.6 Z M 76.9 54.6" /></g>',ch_lw:'<text class="cxtb100" x="2" y="85">W</text>',dtt_transpose:'<g class="cxaa"><text class="cxtn60 cxaa" x="51" y="-22" transform="rotate(45)">&#10554;</text><text class="cxtn60 cxaa" x="-90" y="-22" transform="rotate(45) scale(-1,1)">&#10554;</text></g><g class="cxb"><rect x="2" y="2" width="30" height="60" /><line x1="2" y1="12" x2="32" y2="12" /><rect x="38" y="68" width="60" height="30" /><line x1="38" y1="78" x2="98" y2="78" /></g>',b_gstype:'<g class="cxa"><rect fill="url(\'#gt-grad\')" x="1" y="1" width="42" height="42"/><rect fill="url(\'#gt-gradr\')" x="57" y="57" width="42" height="42"/></g>',fp_funnel:'<g class="cxb"><polyline points="2,2 98,2 98,10 60,50 40,50 2,10 2,2" /></g><g class="cxa"><polyline points="60,50 60,98 40,83 40,50 60,50" /></g>',lg_legend:'<g class="cxa"><rect x="2" y="2" width="96" height="96"/><rect x="18" y="20" width="2" height="2"/><rect x="18" y="50" width="2" height="2"/><rect x="18" y="80" width="2" height="2"/></g><g class="cxaa"><text class="cxtn20" x="30" y="28">Good</text><text class="cxtn20" x="30" y="58">Better</text><text class="cxtn20" x="30" y="88">Best!</text></g>',g_linearfit:'<g class="cxb"><line x1="30" y1="80" x2="98" y2="4" /></g><g class="cxa"><line x1="11.9" x2="11.9" y2="100" y1="0"/><line x1="100" y1="86" y2="86" x2="0"/><line y1="62.5" x2="11.9" y2="62.5" x1="0"/><line y1="39.1" x2="11.9" y2="39.1" x1="0"/><line y1="15.6" x2="11.9" y2="15.6" x1="0"/><line x1="32.5" y1="100" x2="32.5" y2="86"/><line x1="57.7" y1="100" x2="57.7" y2="86"/><line x1="82.8" y1="100" x2="82.8" y2="86"/></g><g class="cxaa"><circle cx="30.5" cy="61.5" r="4.6"/><circle cx="73.2" cy="16.9" r="4.6"/><circle cx="92.4" cy="33.3" r="4.6"/><circle cx="60.6" cy="63.5" r="4.6"/><circle cx="51.4" cy="34.5" r="4.6"/></g>',p_g1samplelabels:'<g class="cxblue"><rect x="38" y="75" width="5" height="2"/><rect x="56" y="75" width="5" height="2"/></g>',gr_stylesolid:'<g class="cxc"><line x1="2" y1="2" x2="2" y2="100" /><line x1="2" y1="98" x2="98" y2="98" /></g><g class="cxa"><line x1="4" y1="23" x2="98" y2="23" /> <line x1="4" y1="48" x2="98" y2="48" /> <line x1="4" y1="73" x2="98" y2="73" /></g>',wp_constructor:'<g class="cxa"><polyline points="19.7 21.7 4.2 30.8 4.2 70.9 50 97.7 95.8 70.9 95.8 30.8 80.6 21.8"/><polyline points="4.2 30.9 50 57.5 95.8 30.9"/><line x1="50" y1="57.5" x2="50" y2="97.7"/></g><g class="cxb"><ellipse cx="50" cy="9.1" rx="12" ry="6.8"/><line x1="38.1" y1="15" x2="38.1" y2="10.1"/><path d="M 57.6 22.6 C 55.2 23.6 52.7 24.1 50 24.1 C 47.3 24.1 44.5 23.5 42.1 22.3"/><line x1="62.1" y1="10.1" x2="62.1" y2="15"/><ellipse cx="30" cy="20" rx="12" ry="6.8"/><path d="M 37.6 33.4 C 35.2 34.5 32.7 35 30 34.9 C 23.4 34.9 18 31.9 18 28.2 L 18 20.8"/><ellipse cx="68.7" cy="20" rx="12" ry="6.8"/><path d="M 80.6 20.8 L 80.6 28.2 C 80.6 31.9 75.2 34.9 68.7 34.9 C 65.8 35 63.1 34.4 60.6 33.2"/><ellipse cx="48.6" cy="30.8" rx="12" ry="6.8"/><path d="M 60.6 31.6 L 60.6 39 C 60.6 42.7 55.2 45.8 48.6 45.8 C 42 45.8 36.6 42.5 36.6 39 L 36.6 31.6"/></g>',ch_oquantile:'<text class="cxti100" x="15" y="75">Q</text>',g_parallelcoordinates:'<g class="cxa"><line x1="54.3" y1="52.8" x2="88" y2="23.6"/><line x1="12.4" y1="33.9" x2="45.7" y2="53.8"/><line x1="54.4" y1="78.7" x2="88" y2="51.7"/><line x1="13.1" y1="68.7" x2="44.8" y2="80.2"/><line x1="10.1" y1="86.5" x2="47.2" y2="24.6"/><line x1="53.4" y1="24.3" x2="89" y2="72.1"/></g><g class="cxb"><line x1="7.6" y1="73.2" x2="7.6" y2="85.1"/><line x1="7.6" y1="36.6" x2="7.6" y2="61.4"/><line x1="7.6" x2="7.6" y2="25.5" y1="3.8"/><line x1="92.5" y1="82.2" x2="92.5" y2="96.2"/><line x1="92.5" y1="53.8" x2="92.5" y2="71"/><line x1="92.5" y1="25.5" x2="92.5" y2="42.6"/><line x1="92.5" x2="92.5" y2="14.3" y1="3.8"/><line x1="50.1" y1="87.7" x2="50.1" y2="96.2"/><line x1="50.1" y1="62" x2="50.1" y2="76.6"/><line x1="50.1" y1="25.5" x2="50.1" y2="50.9"/><line x1="50.1" x2="50.1" y2="14.3" y1="3.8"/><circle cx="92.4" cy="19.9" r="5.6"/><circle cx="50.1" cy="19.9" r="5.6"/><circle cx="7.6" cy="31" r="5.6"/><circle cx="7.6" cy="67.6" r="5.6"/><circle cx="7.6" cy="90.6" r="5.6"/><circle cx="92.4" cy="48.2" r="5.6"/><circle cx="50.1" cy="56.5" r="5.6"/><circle cx="50.1" cy="82.1" r="5.6"/><circle cx="92.4" cy="76.6" r="5.6"/></g>',dps_expand:'<g class="cxa"><rect x="9.5" y="9.5" width="80" height="80" rx="4" /></g><text class="cxtb100" x="3" y="95" transform="scale(1,-1) translate(0,-100)">&#8963;</text>',p_g1subtitle:'<g class="cxblue"><rect x="50" y="10" width="10" height="2"/></g>',wp_datawrangling:'<g class="cxa"><ellipse cx="40.4" cy="19.2" rx="38.3" ry="12.3"/><path d="M 40.4 47.7 C 19.3 47.7 2.2 42.2 2.2 35.4 L 2.2 19.2"/><line x1="78.8" y1="19.2" x2="78.8" y2="35.4"/><path d="M 40.4 63.8 C 19.3 63.8 2.2 58.3 2.2 51.5 L 2.2 35.3"/><path d="M 40.4 79.6 C 19.3 79.6 2.2 74.1 2.2 67.4 L 2.2 51.2"/></g><g class="cxb"><path d="M 97.8 73.8 L 97.8 62.2 L 90.6 62.2 C 90.3 61.3 89.9 60.4 89.5 59.6 L 94.6 54.4 L 86.5 46.3 L 81.4 51.4 C 80.6 51 79.7 50.6 78.8 50.3 L 78.8 43 L 67.1 43 L 67.1 50.3 C 66.2 50.6 65.3 51 64.5 51.4 L 59.3 46.3 L 51.1 54.4 L 56.3 59.6 C 55.8 60.4 55.5 61.3 55.2 62.2 L 47.9 62.2 L 47.9 73.8 L 55.2 73.8 C 55.5 74.7 55.8 75.6 56.3 76.4 L 51.1 81.6 L 59.3 89.7 L 64.5 84.6 C 65.3 85.1 66.2 85.4 67.1 85.7 L 67.1 93 L 78.7 93 L 78.7 85.7 C 79.6 85.4 80.5 85.1 81.3 84.6 L 86.5 89.7 L 94.7 81.6 L 89.5 76.4 C 89.9 75.5 90.3 74.7 90.6 73.8 Z"/><circle cx="72.9" cy="68" r="7.4"/></g>',c_excel:'<rect fill="url(\'#excel-grad1\')" x="3" y="3" width="93.2" height="93.2" /><polygon fill="url(\'#excel-grad2\')" points="84.6,24.5 61.1,24.5 17.9,71.3 41.5,71.3 59.8,71.3 50.6,61.4 "/><path fill="url(\'#excel-grad3\')" d="M93.2,6.8v86.5H6.8V6.8H93.2 M100,0H0v100h100V0z"/><polygon fill="url(\'#excel-grad4\')" points="90.2,78.7 66.6,78.7 16.6,24.5 40.2,24.5"/><polygon fill="url(\'#excel-grad5\')" points="90.2,78.7 66.6,78.7 16.6,24.5 40.2,24.5"/><polygon fill="url(\'#exel-grad6\')" points="75.1,62.4 84.6,50.7 64.3,50.7"/>',ch_lb:'<text class="cxtb100" x="15" y="85">B</text>',g_area:'<polygon class="cxbc" points="11.9 86.7 53 44.1 63.3 53.7 100 12.1 100 86.3 11.9 86.7" /><g class="cxb"><polyline points="14.5 84.1 53 44.1 63.3 53.7 100 12.1" /><polyline points="11.9 47.3 40.1 18.3 53.1 31.7 78 3.5 93.7 19.6" /></g><g class="cxa"><line x1="11.9" x2="11.9" y2="100" y1="0"/><line x1="100" y1="86" y2="86" x2="0"/><line y1="62.6" x2="11.9" y2="62.6" x1="0"/><line y1="39.1" x2="11.9" y2="39.1" x1="0"/><line y1="15.6" x2="11.9" y2="15.6" x1="0"/></g>',wp_code:'<g class="cxa"><polyline points="29.9 77.9 2.1 50 29.9 22.1" /><polyline points="70 77.9 97.9 50 70 22.1" /></g><g class="cxb"><line x1="60.2" y1="12.5" x2="39.6" y2="87.5" /></g>',sv_image:'<g class="cxa"><path d="M60,7 L70,17 L90,17 Q 98,17 98,26 L98,74 Q 98,84 90,84 L10,84 Q 2,84 2,74 L2,24 Q 2,17 10,17 L30,17 L40,7 Z" /></g><g class="cxb"><circle cx="50" cy="50" r="15" /><circle cx="50" cy="50" r="25" /><line x1="10" y1="8" x2="25" y2="8" /><line x1="10" y1="27" x2="25" y2="27" /></g>',p_g1axistitle2:'<g class="cxblue"><rect x="97" y="25" width="3" height="25"/></g>',cd_select:'<g class="cxa"><rect y="2" x="2" width="96" height="96" stroke-dasharray="10" /></g><g class="cxb"><polyline points="68,47 68,40 48,40 48,17 22,17 22,83 68,83 68,70" /><line x1="68" y1="40" x2="48" y2="17" /></g><g class="cxaa"><text class="cxtn30" x="47" y="-60" transform="rotate(90)">&#8963;</text><text class="cxtn30" x="-71" y="74" transform="rotate(-90)">&#8963;</text></g>',a_moveforward:'<g class="cxb"><polyline points="22,42 2,42 2,2 42,2 42,22" /></g><g class="cxa"><rect x="22" y="22" width="76" height="76" /></g>',c_rcode:'<g class="cxb"><path d="M 40.1 72.2 C 19.2 69.5 3.5 58.7 3.5 45.5 C 3.5 30.5 24.3 18.3 50.1 18.3 C 75.7 18.3 96.5 30.5 96.5 45.5 C 96.5 53.4 90.9 60.4 81.9 65.4" /><path d="M 68.7 70.6 C 64.8 71.6 60.7 72.3 56.7 72.6" /><path d="M 40.1 63.1 C 29.5 59.9 22.4 54 22.4 47.2 C 22.4 37.2 37.8 29.1 56.8 29.1 C 62.7 29.1 68.6 29.9 74.2 31.6 C 77.3 32.7 80.2 34 83 35.5" /></g><path class="cxa" d="M 80.2 62.8 C 91 60.6 95.6 47.6 88.3 39.2 C 85.6 36.1 81.5 34.3 77.4 34.3 L 40.1 34.3 L 40.1 81.7 L 56.7 81.7 L 56.7 63.1 L 63.8 63.1 L 75.9 81.7 L 92.5 81.7 Z M 70.4 54.3 L 55.9 54.3 L 55.9 43.2 L 70.4 43.2 C 74.6 42.8 77.7 47.2 75.9 51.1 C 74.9 53.2 72.8 54.5 70.4 54.3 Z" /><g class="cxaa"><text class="cxtn50" x="2" y="-5" transform="rotate(90)">&#8963;</text><text class="cxtn50" x="-42" y="35" transform="rotate(-90)">&#8963;</text></g>',h_hsample:'<g class="cxa"><rect x="12" y="26" width="26" height="18"/><rect x="42" y="26" width="26" height="18"/><rect x="72" y="26" width="26" height="18"/></g>',p_cghdata1:'<g class="cxcc"><rect x="12" y="4" width="26" height="18"/><rect x="12" y="70" width="26" height="18"/><rect x="42" y="26" width="26" height="18"/><rect x="72" y="48" width="26" height="18"/><rect x="72" y="70" width="26" height="18"/></g>',sl_radioon:'<circle class="cxaa" cx="50" cy="50" r="35" /><circle class="cxww" cx="50" cy="50" r="10" />',p_g3:'<g class="cxc"><rect x="45" y="0" width="30" height="2"/><rect x="50" y="10" width="20" height="2"/><rect x="35" y="30" width="4" height="4"/><rect x="85" y="40" width="4" height="4"/><rect x="40" y="85" width="30" height="2"/><rect x="0" y="25" width="3" height="25"/><line x1="55" y1="55" x2="65" y2="47"/><line x1="25" y1="65" x2="95" y2="65" /><line x1="25" y1="65" x2="25" y2="75" /><line x1="45" y1="65" x2="45" y2="75" /><line x1="65" y1="65" x2="65" y2="75" /><line x1="85" y1="65" x2="85" y2="75" /><line x1="25" y1="15" x2="25" y2="75" /><line x1="15" y1="25" x2="25" y2="25" /><line x1="15" y1="45" x2="25" y2="45" /><line x1="15" y1="65" x2="25" y2="65" /><line x1="25" y1="65" x2="75" y2="25" /><line x1="45" y1="50" x2="45" y2="60" /><line x1="65" y1="33" x2="65" y2="43" /><rect x="75" y="95" width="20" height="2"/></g>',tm_time:'<g class="cxa"><circle cx="50" cy="50" r="48" /></g><g class="cxb"><line x1="50" y1="10" x2="50" y2="50" /><line x1="40" y1="83" x2="50" y2="50" /><circle cx="50" cy="50" r="4" /></g>',p_cg1datavertical:'<g class="cxcc"><rect x="20" y="57" width="16" height="30"/><rect x="48" y="7" width="16" height="80"/><rect x="76" y="27" width="16" height="60"/></g>',p_g2axisx:'<g class="cxblue"><line x1="25" y1="65" x2="95" y2="65" /><line x1="25" y1="65" x2="25" y2="75" /><line x1="45" y1="65" x2="45" y2="75" /><line x1="65" y1="65" x2="65" y2="75" /><line x1="85" y1="65" x2="85" y2="75" /></g>',rt_ac:'<g class="cxb"><path d=" M 18 18 A 45 45 225 1 1 5 50" /><line x1="18" y1="0" x2="18" y2="18" /><line x1="36" y1="18" x2="16" y2="18" /></g>',g_facet:'<g class="cxb"><line x1="10.2" y1="28" x2="10.2" y2="14.3"/><line x1="19.5" y1="28" x2="19.5" y2="9.1"/><line x1="10.2" y1="62.6" x2="10.2" y2="53.1"/><line x1="19.5" y1="62.6" x2="19.5" y2="48.9"/><line x1="10.2" y1="97.2" x2="10.2" y2="79.7"/><line x1="19.5" y1="97.2" x2="19.5" y2="79.7"/><line x1="89.7" y1="28" x2="89.7" y2="14.3"/><line x1="80.4" y1="28" x2="80.4" y2="9.1"/><line x1="89.7" y1="62.6" x2="89.7" y2="53.1"/><line x1="80.4" y1="62.6" x2="80.4" y2="48.9"/><line x1="89.7" y1="97.2" x2="89.7" y2="84.5"/><line x1="80.4" y1="97.2" x2="80.4" y2="90.3"/><line x1="45.3" y1="28" x2="45.3" y2="18.5"/><line x1="54.6" y1="28" x2="54.6" y2="9.1"/><line x1="45.3" y1="62.6" x2="45.3" y2="45.1"/><line x1="54.6" y1="62.6" x2="54.6" y2="55.7"/><line x1="45.3" y1="97.2" x2="45.3" y2="79.7"/><line x1="54.6" y1="97.2" x2="54.6" y2="84"/></g><g class="cxa"><rect x="2.3" y="2.8" width="25.2" height="25.2"/><rect x="2.3" y="37.3" width="25.2" height="25.2"/><rect x="2.3" y="71.9" width="25.2" height="25.2"/><rect x="72.5" y="2.8" width="25.2" height="25.2"/><rect x="72.5" y="37.3" width="25.2" height="25.2"/><rect x="72.5" y="71.9" width="25.2" height="25.2"/><rect x="37.4" y="2.8" width="25.2" height="25.2"/><rect x="37.4" y="37.3" width="25.2" height="25.2"/><rect x="37.4" y="71.9" width="25.2" height="25.2"/></g>',ch_ox:'<text class="cxti100" x="25" y="70">x</text>',v_backward:'<circle class="cxb" cx="50" cy="50" r="48" /><text class="cxtn60" x="3" y="73">&#9664;</text><text class="cxtn60" x="25" y="73">&#9664;</text>',p_cg2dataden:'<g class="cxb"><rect x="20" y="80" width="2" height="2" /><rect x="37" y="65" width="2" height="2" /><rect x="32" y="50" width="2" height="2" /><rect x="45" y="35" width="2" height="2" /><rect x="39" y="20" width="2" height="2" /><rect x="52" y="7" width="2" height="2" /><rect x="87" y="78" width="2" height="2" /><rect x="73" y="63" width="2" height="2" /><rect x="80" y="48" width="2" height="2" /><rect x="73" y="33" width="2" height="2" /><rect x="68" y="18" width="2" height="2" /><rect x="63" y="3" width="2" height="2" /></g>',ps_top:'<path class="cxtxb" d="M42,38 L50,30 L58,38 M50,70 L50,30" /><g class="cxa"><rect x="40" y="2" width="20" height="20" rx="2" /></g>',v_cancel:'<circle class="cxb" cx="50" cy="50" r="48" /><text class="cxtb100" x="22" y="77">x</text>',p_cg1axeshorizontal:'<g class="cxb"><line x1="10" y1="2" x2="10" y2="98" /><rect x="0" y="67" width="2" height="10"/><rect x="0" y="39" width="2" height="10"/><rect x="0" y="11" width="2" height="10"/><line x1="2" y1="90" x2="98" y2="90" /><line x1="30" y1="90" x2="30" y2="98" /><line x1="50" y1="90" x2="50" y2="98" /><line x1="70" y1="90" x2="70" y2="98" /><line x1="90" y1="90" x2="90" y2="98" /></g>',g_remotegraphs:'<g class="cxa"><circle cx="50" cy="50" r="16.8"/></g><g class="cxb"><path d="M 83.8 16.2 C 102.4 34.9 102.4 65.1 83.8 83.8"/><path d="M 73.1 26.9 C 85.9 39.6 85.9 60.3 73.1 73.1"/><path d="M 73.1 26.9 C 85.9 39.6 85.9 60.3 73.1 73.1"/><path d="M 16.2 16.2 C -2.4 34.9 -2.4 65.1 16.2 83.8"/><path d="M 26.9 26.9 C 14.1 39.6 14.1 60.3 26.9 73.1"/><path d="M 26.9 26.9 C 14.1 39.6 14.1 60.3 26.9 73.1"/></g>',g_fish:'<g class="cxa"><path d="M 78 50 C 78 50 61.1 74.1 40.4 74.1 C 19.6 74.1 2.7 50 2.7 50 C 2.7 50 19.6 25.9 40.4 25.9 C 61.1 25.9 78 50 78 50 Z"/><line x1="97.4" y1="28.2" x2="77.9" y2="50"/><line x1="97.4" y1="71.9" x2="77.9" y2="50"/></g><g class="cxb"><line x1="23.5" y1="43.2" x2="23.5" y2="47.1"/></g>',bx_violin:'<g class="cxac"><path  d="M64,1 Q 66,11 68,25 72,38 86,47 96,56 89,70 82,82 80,99 L 20,99 Q 18,82 11,70 4,56 14,47 28,38 32,25 34,11 36,1 Z" /></g>',p_cg2datacor:'<g class="cxb"><rect x="20" y="68" width="2" height="2" /><rect x="25" y="80" width="2" height="2" /><rect x="30" y="61" width="2" height="2" /><rect x="35" y="71" width="2" height="2" /><rect x="40" y="49" width="2" height="2" /><rect x="45" y="60" width="2" height="2" /><rect x="50" y="37" width="2" height="2" /><rect x="55" y="51" width="2" height="2" /><rect x="60" y="30" width="2" height="2" /><rect x="65" y="44" width="2" height="2" /><rect x="70" y="19" width="2" height="2" /><rect x="75" y="30" width="2" height="2" /><rect x="80" y="6" width="2" height="2" /><rect x="85" y="21" width="2" height="2" /><rect x="90" y="2" width="2" height="2" /><rect x="95" y="15" width="2" height="2" /></g>',bx_wishkersd:'<g class="cxb"><rect x="35" y="30" width="30" height="40" /><line x1="35" y1="51" x2="65" y2="51" /></g><g class="cxa"><line x1="35" y1="2" x2="65" y2="2" /><line x1="50" y1="2" x2="50" y2="30" /><line x1="35" y1="98" x2="65" y2="98" /><line x1="50" y1="98" x2="50" y2="70" /></g>',ch_spercent:'<text class="cxtb100" x="5" y="85">%</text>',at_pat:'<g class="cxb"><rect x="2" y="2" width="25" height="96" /><rect x="33" y="2" width="25" height="96" /><rect x="66" y="2" width="25" height="96" /></g><g class="cxa"><line x1="35" y1="10" x2="57" y2="30" /><line x1="35" y1="30" x2="57" y2="50" /><line x1="35" y1="50" x2="57" y2="70" /><line x1="35" y1="70" x2="57" y2="90" /><line x1="68" y1="22" x2="90" y2="22" /><line x1="68" y1="42" x2="90" y2="42" /><line x1="68" y1="62" x2="90" y2="62" /><line x1="68" y1="82" x2="90" y2="82" /></g>',dps_toinside:'<g class="cxa"><polyline points="65,30 65,2 2,2 2,98 65,98 65,70" /></g><path class="cxtxb" d="M29,38 L17,50 L29,62 M83,50 L17,50" />',dp_bin:'<g class="cxb"><circle cx="19" cy="3" r="2.5" /><circle cx="19" cy="18" r="2.5" /><circle cx="19" cy="33" r="2.5" /><circle cx="12" cy="33" r="2.5" /><circle cx="19" cy="50" r="2.5" /><circle cx="12" cy="50" r="2.5" /><circle cx="5" cy="50" r="2.5" /><circle cx="19" cy="65" r="2.5" /><circle cx="12" cy="65" r="2.5" /><circle cx="19" cy="80" r="2.5" /><circle cx="19" cy="97" r="2.5" /><circle cx="50" cy="3" r="2.5" /><circle cx="46.5" cy="18" r="2.5" /><circle cx="53.5" cy="18" r="2.5" /><circle cx="43" cy="33" r="2.5" /><circle cx="50" cy="33" r="2.5" /><circle cx="57" cy="33" r="2.5" /><circle cx="39.5" cy="50" r="2.5" /><circle cx="46.5" cy="50" r="2.5" /><circle cx="53.5" cy="50" r="2.5" /><circle cx="60.5" cy="50" r="2.5" /><circle cx="43" cy="65" r="2.5" /><circle cx="50" cy="65" r="2.5" /><circle cx="57" cy="65" r="2.5" /><circle cx="46.5" cy="80" r="2.5" /><circle cx="53.5" cy="80" r="2.5" /><circle cx="50" cy="97" r="2.5" /><circle cx="81" cy="3" r="2.5" /><circle cx="81" cy="18" r="2.5" /><circle cx="81" cy="33" r="2.5" /><circle cx="88" cy="33" r="2.5" /><circle cx="81" cy="50" r="2.5" /><circle cx="88" cy="50" r="2.5" /><circle cx="95" cy="50" r="2.5" /><circle cx="81" cy="65" r="2.5" /><circle cx="88" cy="65" r="2.5" /><circle cx="81" cy="80" r="2.5" /><circle cx="81" cy="97" r="2.5" /><circle cx="81" cy="3" r="2.5" /></g>',c_jupyter:'<g class="cxa"><path d="M50.3,22.2c16.2,0,30.3,5.7,37.7,14.3C80.5,15.7,57.5,5,36.7,12.5c-11.2,4-20,12.9-24.1,24.1C20,28,34.2,22.2,50.3,22.2z"/><path d="M50.3,78.8c-16.2,0-30.3-5.7-37.7-14.3c7.5,20.8,30.5,31.6,51.3,24.1c11.2-4,20-12.9,24.1-24.1C80.6,73,66.5,78.8,50.3,78.8z"/></g><g class="cxb"><circle cx="77.4" cy="6.4" r="5"/><circle cx="19.4" cy="93.4" r="5"/><circle cx="14.6" cy="13.2" r="3.5"/><path d="M0,62.9c1.1,0,2.1-0.4,2.9-1.1c0.7-0.9,1-2.1,1-5.7V43.4h2.9v13.7C7,59.3,6.4,61.5,5,63.3C3.7,64.4,2,65,0.3,65L0,62.9z"/><path d="M24.7,54.4c0,1.6,0,2.9,0,4.1h-2.3v-2.5l0,0c-1,1.8-2.9,2.9-5,2.9c-2.4,0-5.2-1.3-5.2-6.6v-8.9h2.9v8.4c0,2.9,0.9,4.8,3.3,4.8c1.6,0,3-1,3.6-2.5c0.2-0.4,0.3-0.9,0.3-1.4v-9.3h2.9L24.7,54.4z"/><path d="M30.3,48.4c0-1.9,0-3.5,0-4.9h2.5L33,46l0,0c1.1-1.9,3.2-3,5.4-2.9c3.6,0,6.4,3.1,6.4,7.7c0,5.4-3.3,8.1-6.8,8.1c-1.9,0.1-3.6-0.8-4.7-2.4l0,0v8.2h-2.8V48.4z M33,52.4c0,0.4,0,0.8,0.1,1.1c0.5,1.9,2.1,3.2,4,3.2c2.9,0,4.6-2.4,4.6-5.7c0-3-1.6-5.7-4.5-5.7c-2,0-3.7,1.4-4.1,3.4C33.1,49,33,49.4,33,49.8L33,52.4z"/><path d="M49.8,43.4l3.3,8.9c0.3,1,0.7,2.2,0.9,3.1l0,0c0.3-0.9,0.6-2.1,0.9-3.1l3-8.8h2.9l-4.1,10.8c-0.9,3.5-2.7,6.7-5.2,9.4c-0.9,0.9-2.1,1.5-3.4,1.8l-0.7-2.3c0.9-0.3,1.7-0.7,2.4-1.3c1-0.8,1.8-1.9,2.3-3.1c0.1-0.2,0.2-0.4,0.2-0.7c0-0.2-0.1-0.5-0.2-0.7l-5.6-13.9L49.8,43.4z"/><path d="M68.4,39.1v4.3h3.9v2.1h-3.9v8.1c0,1.9,0.5,2.9,2,2.9c0.5,0,1.1-0.1,1.6-0.2v2.1c-0.8,0.3-1.6,0.4-2.4,0.4c-1.1,0-2.1-0.4-2.9-1.2c-0.7-1.1-1.1-2.5-0.9-3.9v-8.2h-2.3v-2.1h2.3v-3.6L68.4,39.1z"/><path d="M77.6,51.5c-0.2,2.7,1.7,5,4.4,5.2c0.3,0,0.5,0,0.8,0c1.4,0,2.8-0.2,4.2-0.8l0.5,2c-1.6,0.7-3.3,1-5,0.9c-3.8,0.3-7.2-2.7-7.4-6.5c0-0.4,0-0.7,0-1.1c-0.4-4,2.6-7.6,6.6-8c0.2,0,0.3,0,0.5,0c3.5,0.1,6.3,3,6.2,6.6c0,0.2,0,0.4,0,0.5c0,0.4,0,0.9,0,1.3L77.6,51.5z M85.6,49.5c0.3-2.1-1.2-4.1-3.3-4.4c-0.2,0-0.3,0-0.5,0c-2.3,0.2-4.2,2.1-4.2,4.4H85.6z"/><path d="M92.6,48.2c0-1.8,0-3.3,0-4.7H95v2.9h0.1c0.6-1.8,2.2-3,4.1-3.1c0.3,0,0.5,0,0.8,0v2.6c-0.3,0-0.6,0-0.9,0c-1.9,0.1-3.5,1.6-3.7,3.5c0,0.4,0,0.8,0,1.3v8h-2.7L92.6,48.2z"/></g>',v_previous:'<circle class="cxb" cx="50" cy="50" r="48" /><text class="cxtn100" x="-90" y="100" transform="rotate(-90)">⌃</text>',p_g3titlesubtitle:'<g class="cxblue"><rect x="45" y="0" width="30" height="2"/><rect x="50" y="10" width="20" height="2"/></g>',wp_list:'<g class="cxa"><line x1="22.4" y1="15" x2="100" y2="15.2" /><line x1="22.4" y1="84.5" x2="100" y2="84.6" /></g><g class="cxaa"><rect width="9.9" height="9.5" y="10.5" /><rect y="80" width="9.9" height="9.5" /></g><g class="cxb"><line x1="22.4" y1="49.8" x2="100" y2="50" /></g><g class="cxbb"><rect y="45.2" width="9.9" height="9.5" /></g>',at_trn:'<g class="cxcc"><rect x="2.5" y="2.7" width="13.6" height="13.6"/><rect x="16.1" y="16.2" width="13.6" height="13.6"/><rect x="43.2" y="16.2" width="13.6" height="13.6"/><rect x="56.8" y="2.7" width="13.6" height="13.6"/><rect x="70.3" y="16.2" width="13.6" height="13.6"/><rect x="83.9" y="2.7" width="13.6" height="13.6"/><rect x="29.7" y="2.7" width="13.6" height="13.6"/><rect x="2.5" y="29.8" width="13.6" height="13.6"/><rect x="16.1" y="43.4" width="13.6" height="13.6"/><rect x="43.2" y="43.4" width="13.6" height="13.6"/><rect x="56.8" y="29.8" width="13.6" height="13.6"/><rect x="70.3" y="43.4" width="13.6" height="13.6"/><rect x="83.9" y="29.8" width="13.6" height="13.6"/><rect x="29.7" y="29.8" width="13.6" height="13.6"/><rect x="2.5" y="56.9" width="13.6" height="13.6"/><rect x="16.1" y="70.5" width="13.6" height="13.6"/><rect x="43.2" y="70.5" width="13.6" height="13.6"/><rect x="56.8" y="56.9" width="13.6" height="13.6"/><rect x="70.3" y="70.5" width="13.6" height="13.6"/><rect x="83.9" y="56.9" width="13.6" height="13.6"/><rect x="29.7" y="56.9" width="13.6" height="13.6"/><rect x="2.5" y="84" width="13.6" height="13.6"/><rect x="56.8" y="84" width="13.6" height="13.6"/><rect x="83.9" y="84" width="13.6" height="13.6"/><rect x="29.7" y="84" width="13.6" height="13.6"/></g><g class="cxa"><rect x="2" y="2" width="96" height="96"/></g>',wp_dom:'<g class="cxb"><polyline points="50.1 44.8 50.1 62 66.6 62"/><polyline points="18 21.6 18 38.8 34.4 38.8"/><line x1="50.1" y1="62" x2="50.1" y2="78.5"/></g><g class="cxa"><rect x="66.6" y="54.3" width="31.1" height="15.6"/><rect x="2.3" y="5.9" width="31.1" height="15.6"/><rect x="34.4" y="31" width="31.1" height="15.6"/><rect x="34.4" y="78.5" width="31.1" height="15.6"/></g>',ar_dctrs2:'<text class="cxtn60 cxaa" x="51" y="-22" transform="rotate(45)">&#10554;</text><text class="cxtn60 cxaa" x="-90" y="-22" transform="rotate(45) scale(-1,1)">&#10554;</text>',ar_bm:'<path class="cxtxb" d="M38,71 L50,83 L62,71 M50,83 L50,17" />',ps_bottom:'<path class="cxtxb" d="M42,62 L50,70 L58,62 M50,70 L50,30" /><g class="cxa"><rect x="40" y="78" width="20" height="20" rx="2" /></g>',b_windowbg:'<polyline class="cxac" points="65,45 65,30 48,30 48,15 15,15 15,83 68,83 45,65 65,45" />',p_cg2fitquantreg:'<g class="cxa"><line x1="10" y1="90" x2="99" y2="1" /><line x1="10" y1="80" x2="84" y2="1" /><line x1="20" y1="90" x2="99" y2="16" /></g>',a_group:'<g class="cxb"><polyline points="42,57 27,57 27,27 57,27 57,42" /><rect x="42" y="42" width="30" height="30" /></g><g class="cxa"><line x1="18" y1="10" x2="82" y2="10" stroke-dashoffset="-3" stroke-dasharray="8"/><line x1="18" y1="90" x2="82" y2="90" stroke-dashoffset="-3" stroke-dasharray="8"/><line x1="10" y1="18" x2="10" y2="82" stroke-dashoffset="-3" stroke-dasharray="8"/><line x1="90" y1="18" x2="90" y2="82" stroke-dashoffset="-3" stroke-dasharray="8"/><rect x="2" y="2" width="16" height="15" /><rect x="2" y="82" width="16" height="15" /><rect x="82" y="2" width="16" height="15" /><rect x="82" y="82" width="16" height="15" /></g>',dtt_pivot:'<g class="cxaa"><text class="cxtn60" x="-20" y="-85" transform="rotate(135)">&#10554;</text><text class="cxtn60" x="-20" y="-85" transform="rotate(135) scale(-1,1)">&#10554;</text></g><g class="cxb"><rect x="2" y="2" width="18" height="18" /><rect x="30" y="2" width="68" height="18" /><rect x="2" y="30" width="18" height="68" /></g>',p_g1axis1:'<g class="cxblue"><line x1="25" y1="15" x2="25" y2="65" /><line x1="15" y1="25" x2="25" y2="25" /><line x1="15" y1="45" x2="25" y2="45" /><line x1="15" y1="65" x2="25" y2="65" /></g>',ar_br:'<path class="cxtxb" d="M98,78 L98,98 L78,98 M2,2 L98,98" />',g_waterfall:'<g class="cxb"><rect x="44.7" y="22.6" width="12.7" height="19.6"/><rect x="19.4" y="5.9" width="12.7" height="36.4"/><rect x="32.1" y="13.3" width="12.7" height="28.9"/><rect x="57.4" y="42.2" width="12.7" height="19.6"/><rect x="82.8" y="42.2" width="12.7" height="36.4"/><rect x="70.1" y="42.2" width="12.7" height="28.9"/></g><g class="cxa"><line x1="11.9" x2="11.9" y2="100" y1="0"/><line x1="100" y1="86" y2="86" x2="0"/><line y1="62.6" x2="11.9" y2="62.6" x1="0"/><line y1="39.1" x2="11.9" y2="39.1" x1="0"/><line y1="15.6" x2="11.9" y2="15.6" x1="0"/></g>',ch_lh:'<text class="cxtb100" x="15" y="85">H</text>',dummy:"",ar_dctrs:'<text class="cxtn60" x="51" y="-22" transform="rotate(45)">&#10554;</text><text class="cxtn60" x="-90" y="-22" transform="rotate(45) scale(-1,1)">&#10554;</text>',wp_audittrail:'<g class="cxa"><circle cx="59.6" cy="57.7" r="27.9"/><line x1="79.3" y1="77.5" x2="98.1" y2="96.2"/></g><g class="cxa"><polyline points="33.2 66.4 1.9 66.4 1.9 3.9 68.3 3.9 68.3 31.3"/></g><g class="cxb"><line x1="12.1" y1="15.5" x2="12.1" y2="23.9"/><line x1="23.6" y1="15.5" x2="23.6" y2="23.9"/><line x1="35.1" y1="15.5" x2="35.1" y2="23.9"/><line x1="46.7" y1="15.5" x2="46.7" y2="23.9"/><line x1="58.1" y1="15.5" x2="58.1" y2="23.9"/><line x1="12.1" y1="30.9" x2="12.1" y2="39.4"/><line x1="23.6" y1="30.9" x2="23.6" y2="39.4"/><line x1="12.1" y1="46.4" x2="12.1" y2="54.9"/><line x1="23.6" y1="46.4" x2="23.6" y2="54.9"/></g>',m_wheel:'<g class="cxaa"><path d="M50,25 Q 55,25 55,30 L55,40 Q 55,45 50,45 Q 45,45 45,40 L45,30 Q 45,25 50,25" /></g>',g_pie:'<g class="cxcc"><path d="M 49.5 50 L 49.5 3.2 C 26.2 3.4 3.1 19 2.5 50 C 2.4 60.7 5.8 71 12.3 79.5 Z"/></g><g class="cxbb"><path d="M 96 62 L 49.5 50 L 12.3 79.5 C 34.4 107.5 86.6 101.6 96 62 Z"/></g><g class="cxb"><polyline points="49.5 3.2 49.5 50 12.3 79.5"/><line x1="96" y1="62.3" x2="49.5" y2="50"/></g><g class="cxa"><path d="M 97.6 50 C 96.5 112.5 3.5 112.5 2.5 50 C 3.5 -12.5 96.5 -12.5 97.6 50 Z"/></g>',ln_stylesolid:'<g class="cxa"><line x1="4" y1="50" x2="98" y2="50" /></g>',tb_table:'<g class="cxa"><rect x="2" y="2" width="96" height="96" /><rect x="12" y="12" width="3" height="3" /><rect x="24" y="12" width="3" height="3" /><rect x="36" y="12" width="3" height="3" /></g><g class="cxb"><line x1="2" y1="26" x2="98" y2="26" /><line x1="2" y1="50" x2="98" y2="50" /><line x1="2" y1="74" x2="98" y2="74" /><line x1="34" y1="26" x2="34" y2="98" /><line x1="66" y1="26" x2="66" y2="98" /></g>',sl_checkboxoff:'<rect class="cxb" x="15" y="15" width="70" height="70" rx="5" />',g_gantt:'<g class="cxa"><line x1="11.9" x2="11.9" y2="100" y1="0"/><line x1="100" y1="86" y2="86" x2="0"/><line y1="62.6" x2="11.9" y2="62.6" x1="0"/><line y1="39.1" x2="11.9" y2="39.1" x1="0"/><line y1="15.6" x2="11.9" y2="15.6" x1="0"/></g><g class="cxb"><rect x="24" y="10.6" width="29.6" height="10.5"/><rect x="66" y="64.1" width="29.6" height="10.5"/><rect x="43.2" y="28.5" width="20.9" height="10.5"/><rect x="56.4" y="46.3" width="16.3" height="10.5"/></g>',sp_farther:'<path class="cxtxa" d="M90,2 L98,10 L90,18 M98,10 L58,10" /><path class="cxtxa" d="M10,2 L2,10 L10,18 M42,10 L2,10" /><g class="cxb"><rect x="9" y="36" width="18" height="62" /><rect x="42" y="36" width="18" height="62" /><rect x="77" y="36" width="18" height="62" /></g>',mr_all:'<g class="cxc"><line x1="2" y1="25" x2="98" y2="25" /><line x1="77" y1="2" x2="77" y2="98" /><line x1="2" y1="77" x2="98" y2="77" /><line x1="25" y1="2" x2="25" y2="98" /></g>',c_canvasxpress:'<path fill="url(\'#cx-grad1\')" d="M 1.7 54.9 C 1.7 54.9 9.7 23.4 23.2 20.4 C 36.8 17.4 37.2 45.4 58.6 45.2 C 79.8 45 1.7 54.9 1.7 54.9 Z" /><path fill="url(\'#cx-grad2\')" d="M 71.8 54.9 C 71.8 54.9 59.4 26.9 50.8 27.6 C 42.2 28.4 41.8 36.3 24.2 45.1 C 6.6 53.9 1.7 54.9 1.7 54.9 L 71.8 54.9 Z" /><path fill="url(\'#cx-grad3\')" d="M 1.7 54.9 L 98 54.9 C 98 54.9 89.7 31.9 74.2 32.7 C 58.9 33.4 65.4 45.9 1.7 54.9 Z" /><g class="cxblack"><path d="M 12 71.9 C 11.5 74.2 9.4 75.7 7.2 75.5 C 3.5 75.4 1.7 72.9 1.7 69.5 C 1.4 66.6 3.6 63.9 6.6 63.7 C 6.8 63.7 7 63.7 7.1 63.7 C 9.4 63.4 11.5 65 11.8 67.3 L 9.8 67.3 C 9.5 66.1 8.4 65.2 7.1 65.3 C 4.8 65.3 3.9 67.3 3.9 69.4 C 3.9 71.7 4.7 73.6 7.2 73.6 C 8.5 73.7 9.6 72.8 9.8 71.6 L 12 71.9 Z" /><path d="M 19.6 73.2 C 19.6 73.9 19.7 74.7 19.8 75.3 L 17.7 75.3 C 17.6 75 17.6 74.7 17.6 74.4 C 17.1 75.2 16.1 75.6 15.1 75.5 C 13.7 75.7 12.3 74.7 12.1 73.2 C 12.1 73.1 12.1 73 12.1 72.9 C 12.1 70.9 13.8 70 16.2 70 L 17.5 70 L 17.5 69.4 C 17.5 68.8 17.3 68.1 16 68.1 C 14.6 68.1 14.6 68.6 14.4 69.3 L 12.4 69.3 C 12.5 67.8 13.4 66.6 16.1 66.6 C 18.4 66.6 19.7 67.4 19.7 69.4 L 19.6 73.2 Z M 17.5 71.3 L 16.4 71.3 C 14.8 71.3 14.2 71.8 14.2 72.7 C 14.2 73.4 14.6 74 15.4 74.1 C 15.5 74.1 15.5 74.1 15.6 74.1 C 17.3 74.1 17.6 72.9 17.6 71.6 L 17.5 71.3 L 17.5 71.3 Z" /><path d="M 20.7 68.9 C 20.7 68.1 20.7 67.3 20.7 66.6 L 22.8 66.6 C 22.8 67 22.8 67.4 22.8 67.9 C 23.2 66.9 24.3 66.4 25.4 66.5 C 27.1 66.5 28.3 67.6 28.3 69.8 L 28.3 75.2 L 26.2 75.2 L 26.2 70 C 26.2 69 25.8 68.2 24.7 68.2 C 23.5 68.2 22.8 69 22.8 70.6 L 22.8 75.3 L 20.7 75.3 L 20.7 68.9 Z" /><path d="M 30.7 66.7 C 31.6 69.9 32.4 72.4 32.6 73.5 L 32.6 73.5 C 32.9 72.2 33.8 69.6 34.6 66.7 L 36.7 66.7 L 33.5 75.3 L 31.3 75.3 L 28.4 66.7 L 30.7 66.7 Z" /><path d="M 44.2 73.2 C 44.2 73.9 44.2 74.7 44.3 75.3 L 42.3 75.3 C 42.2 75 42.2 74.7 42.2 74.4 C 41.6 75.2 40.6 75.6 39.6 75.5 C 38.2 75.7 36.8 74.7 36.7 73.2 C 36.7 73.1 36.7 73 36.7 72.8 C 36.7 70.8 38.2 69.9 40.7 69.9 L 42.1 69.9 L 42.1 69.4 C 42.1 68.7 41.8 68 40.5 68 C 39.3 68 39.1 68.6 39 69.2 L 36.9 69.2 C 37 67.7 38 66.5 40.6 66.5 C 43.2 66.5 44.2 67.3 44.2 69.4 L 44.2 73.2 Z M 42.2 71.3 L 41 71.3 C 39.5 71.3 38.8 71.8 38.8 72.7 C 38.8 73.4 39.3 74 40 74.1 C 40.1 74.1 40.1 74.1 40.2 74.1 C 42 74.1 42.3 72.9 42.3 71.6 L 42.2 71.3 Z" /><path d="M 46.8 72.8 C 47 73.6 47.8 74.2 48.6 74.1 C 49.7 74.1 50.1 73.7 50.1 73.1 C 50.1 72.5 49.7 72.2 48.3 71.9 C 45.5 71.2 45.1 70.3 45.1 69.2 C 45.1 68 45.9 66.6 48.5 66.6 C 51 66.6 52 67.9 52.1 69.2 L 50 69.2 C 50 68.8 49.6 68.1 48.3 68.1 C 47.1 68.1 47.1 68.6 47.1 69 C 47.1 69.4 47.4 69.7 48.8 70 C 51.7 70.7 52.1 71.7 52.1 72.9 C 52.1 74.2 50.9 75.6 48.4 75.6 C 45.9 75.6 44.8 74.4 44.6 72.8 L 46.8 72.8 Z" /><path d="M 59.2 76 L 56.4 71.8 L 56.4 71.8 L 50.8 79.8 L 48.3 79.8 L 55.1 70.2 L 51.2 64.5 L 53.8 64.5 L 56.5 68.5 L 56.5 68.5 L 60.4 62.8 L 62.8 62.8 L 57.7 69.9 L 61.7 75.9 L 59.2 76 Z" /><path d="M 63.9 74.6 L 63.9 78.7 L 61.8 78.7 L 61.8 68.9 C 61.8 68.2 61.8 67.4 61.8 66.7 L 63.8 66.7 C 63.8 67.1 63.8 67.5 63.8 67.9 C 64.4 66.9 65.3 66.5 66.4 66.6 C 68.4 66.6 70 68.2 70 70.8 C 70 73.9 68.2 75.5 66.1 75.5 C 65.1 75.6 64.4 75.2 63.9 74.6 Z M 67.9 71 C 67.9 69.4 67.2 68.3 65.9 68.3 C 64.7 68.3 63.9 69.3 63.9 71.1 C 63.9 72.9 64.4 74 65.9 74 C 67.5 74 67.9 72.8 67.9 71 L 67.9 71 Z" /><path d="M 70.3 69.2 C 70.3 68.2 70.3 67.4 70.3 66.8 L 72.2 66.8 C 72.2 67.4 72.2 67.9 72.2 68.5 C 72.7 67.3 73.8 66.6 75.1 66.6 L 75.1 68.6 C 73.4 68.6 72.2 69.2 72.2 71.5 L 72.2 75.3 L 70.3 75.3 L 70.3 69.2 Z" /><path d="M 77 71.5 C 77 72.8 77.7 73.9 79 73.9 C 79.8 74 80.5 73.5 80.8 72.8 L 82.8 72.8 C 82.3 74.6 80.7 75.7 78.9 75.5 C 76.6 75.5 74.9 73.8 74.9 71.6 C 74.9 71.4 74.9 71.3 74.9 71.1 C 74.9 68.4 76.2 66.6 79 66.6 C 81.1 66.5 82.9 68 82.9 70.1 C 82.9 70.3 82.9 70.6 82.9 70.8 C 82.9 71 82.9 71.3 82.9 71.5 L 77 71.5 L 77 71.5 Z M 80.7 70.1 C 80.7 69 80.2 68 78.9 68 C 77.5 68 77 68.9 76.8 70.1 L 80.7 70.1 Z" /><path d="M 85.2 72.8 C 85.4 73.6 86.2 74.2 87.1 74.1 C 88.1 74.1 88.5 73.7 88.5 73.1 C 88.5 72.5 88.1 72.2 86.7 71.9 C 84 71.2 83.4 70.3 83.4 69.2 C 83.4 68 84.4 66.6 86.9 66.6 C 89.4 66.6 90.3 67.9 90.4 69.2 L 88.4 69.2 C 88.3 68.8 88 68.1 86.8 68.1 C 85.5 68.1 85.5 68.6 85.5 69 C 85.5 69.4 85.8 69.7 87.4 70 C 90.2 70.7 90.6 71.7 90.6 72.9 C 90.6 74.2 89.5 75.6 87 75.6 C 84.5 75.6 83.3 74.4 83.1 72.8 L 85.2 72.8 Z" /><path d="M 93 72.8 C 93.1 73.6 93.9 74.2 94.8 74.1 C 95.9 74.1 96.2 73.7 96.2 73.1 C 96.2 72.5 95.9 72.2 94.5 71.9 C 91.7 71.2 91.2 70.3 91.2 69.2 C 91.2 68 92.1 66.6 94.7 66.6 C 97.3 66.6 98.2 67.9 98.3 69.2 L 96.2 69.2 C 96.2 68.8 95.9 68.1 94.6 68.1 C 93.3 68.1 93.3 68.6 93.3 69 C 93.3 69.4 93.6 69.7 95.1 70 C 98 70.7 98.4 71.7 98.4 72.9 C 98.4 74.2 97.2 75.6 94.7 75.6 C 92.2 75.6 91 74.4 90.8 72.8 L 93 72.8 Z" /></g>',v_cancelsmall:'<circle class="cxa" cx="50" cy="50" r="35" /><text class="cxtn60 cxrr" x="35" y="66">x</text>',p_cg2axes:'<g class="cxb"><line x1="10" y1="2" x2="10" y2="98" /><line x1="2" y1="10" x2="10" y2="10" /><line x1="2" y1="30" x2="10" y2="30" /><line x1="2" y1="50" x2="10" y2="50" /><line x1="2" y1="70" x2="10" y2="70" /><line x1="2" y1="90" x2="98" y2="90" /><line x1="10" y1="90" x2="10" y2="98" /><line x1="30" y1="90" x2="30" y2="98" /><line x1="50" y1="90" x2="50" y2="98" /><line x1="70" y1="90" x2="70" y2="98" /><line x1="90" y1="90" x2="90" y2="98" /></g>',g_network:'<g class="cxa"><line x1="18.9" y1="15.4" x2="41.7" y2="31.3"/><line x1="21.6" y1="75.8" x2="43.5" y2="53.1"/><line x1="56.7" y1="76.6" x2="55.9" y2="57.1"/><line x1="84.3" y1="60.8" x2="69.5" y2="50.2"/><line x1="78" y1="13.9" x2="66.4" y2="28.2"/><circle cx="55.3" cy="40.9" r="16.9"/></g><g class="cxb"><circle cx="82.3" cy="8.6" r="6.8"/><circle cx="89.9" cy="64.7" r="6.8"/><circle cx="16.9" cy="80.6" r="6.8"/><circle cx="12.2" cy="10.7" r="8.9"/><circle cx="57.1" cy="87.5" r="10.8"/></g>',wp_examples:'<g class="cxb"><polyline points="48.8 29.2 21.7 2.1 2.1 21.7 29.6 49.3" /><polyline points="48.1 67.9 78.1 97.9 97.9 78.1 67.9 48.1" /><line x1="82.2" y1="61.7" x2="71" y2="73" /><line x1="34.1" y1="16.3" x2="22.9" y2="27.6" /></g><g class="cxa"><path d="M 7.4 71.5 L 5.2 92.2 L 25.9 90 L 92.6 23.5 C 96.2 20.1 96.4 14.4 93 10.8 L 86.6 4.5 C 83 1.2 77.3 1.4 73.9 5 Z" /><line x1="63.8" y1="15.1" x2="82.2" y2="33.6" /></g>',ln_style:'<g class="cxa"><line x1="4" y1="23" x2="98" y2="23" /><line x1="4" y1="48" x2="98" y2="48" stroke-dasharray="5" /><line x1="4" y1="73" x2="98" y2="73" stroke-dasharray="15 5"/></g>',g_tagcloud:'<g class="cxa"><line x1="10.7" y1="2.1" x2="66.7" y2="2.1"/><line x1="10.7" y1="6.2" x2="66.7" y2="6.2"/><line x1="65" y1="17.9" x2="89" y2="17.9"/><line x1="40.5" y1="27.3" x2="77" y2="27.3"/><line y1="65.4" x2="54.5" y2="65.4" x1="4"/><line x1="45.7" y1="89" x2="79.8" y2="89"/><line x1="63.5" y1="97.9" x2="92.1" y2="97.9"/><line x1="25.5" y1="27.3" x2="19.2" y2="27.3"/><line x1="54.9" y1="38.9" x2="63.5" y2="38.9"/><line x1="58" y1="77.4" x2="66.7" y2="77.4"/><line x1="34.4" y1="51.1" x2="68.9" y2="51.1"/><line x1="34.4" y1="53.2" x2="68.9" y2="53.2"/></g><g class="cxb"><line y1="17.9" x2="52.2" y2="17.9" x1="4"/><line x1="68.9" y1="41.9" x2="93" y2="41.9"/><line x1="9.8" y1="38.9" x2="46.3" y2="38.9"/><line x1="9.8" y1="41.9" x2="46.3" y2="41.9"/><line x1="72" y1="80.4" x2="96" y2="80.4"/><line x1="13" y1="77.4" x2="49.5" y2="77.4"/><line x1="13" y1="80.4" x2="49.5" y2="80.4"/><line x1="86.3" y1="30.6" x2="93" y2="30.6"/><line x1="76.4" y1="5.2" x2="83" y2="5.2"/><line x1="13.5" y1="53.9" x2="22.5" y2="53.9"/><line x1="83.3" y1="56.2" x2="92.4" y2="56.2"/><line x1="61.9" y1="65.4" x2="79.8" y2="65.4"/></g>',ch_li:'<text class="cxtb100" x="35" y="85">I</text>',ch_cctrl:'<text class="cxtb100" x="5" y="85">&#8963;</text>',p_cg2fitden2:'<g class="cxac"><path d="M15,90 C50,67 38,0 55,3 71,0 72,90 95,90" /></g>',ch_oaa:'<text class="cxtn100" x="0" y="85">A</text><text class="cxtn60" x="65" y="85">a</text>',p_ghsubtitle:'<g class="cxblue"><rect x="55" y="10" width="20" height="2"/></g>',dps_square:'<g class="cxa"><rect x="2" y="2" width="96" height="96" /></g>',ch_cctrl2:'<text class="cxtn60" x="5" y="70">Ctrl</text>',g_contour:'<g class="cxa"><path d="M 56.1 92.7 L 21.1 92.7 C 17.4 92.8 14.3 89.8 14.3 86 L 14.3 82.1 C 14.3 80.4 13.1 79.1 11.4 79.1 L 11.4 79.1 C 9.8 79.1 8.4 77.7 8.4 76.2 L 8.4 29.7 L 14.3 29.7 L 14.3 22.2 L 20.3 22.2 L 20.3 18.4 L 25 18.4 L 25 13.3 L 29.9 13.3 L 29.9 8.7 L 33.6 8.7 L 33.6 5.8 L 37.8 5.8 L 37.8 2.8 L 50 2.8 L 50 6.6 L 62.5 6.6 L 62.5 10.9 L 69.1 10.9 L 69.1 15.7 L 74 15.7 L 74 20 L 77.5 20 L 77.5 27 L 82.5 27 L 82.5 34.9 L 86.2 34.9 L 86.2 50.9 L 90.8 50.9 L 90.8 69.8 L 86.5 69.8 L 86.5 80.1 L 82.5 80.1 L 82.5 90.6 C 82.5 91.8 81.5 92.7 80.2 92.7 L 80.2 92.7 C 78.9 92.7 77.9 93.8 77.9 95 L 77.9 95 C 77.9 96.3 76.9 97.3 75.6 97.3 L 60.8 97.3 C 59.6 97.3 58.6 96.3 58.6 95 L 58.6 95 C 58.6 93.7 57.5 92.6 56.1 92.7 Z"/><polygon points="38.4 42.7 38.4 38.9 49.9 38.9 49.9 43.2 53.7 43.2 53.7 71.1 38.4 71.1 38.4 63.2 34 63.2 34 42.7 38.4 42.7"/></g><g class="cxb"><polygon points="63 78.5 69.8 78.5 69.8 70.7 78.5 70.7 78.5 59.1 74 59.1 74 50.6 69.5 50.6 69.5 39.4 66.7 39.4 66.7 31.7 62.5 31.7 62.5 27.5 54.2 27.5 54.2 22.9 33.9 22.9 33.9 27.4 30.1 27.3 30.1 29.8 26.2 29.8 26.2 34.7 22.8 34.7 22.8 75.1 25.4 75.1 25.4 79.2 29.5 79.2 29.5 83.1 63 83.1 63 78.5"/><polyline points="77.9 2.9 85.9 2.9 85.9 11.4 90 11.4 90 15 93.9 15 93.9 22.9 98.2 22.9 98.2 31.2"/><polyline points="21.9 2.9 14 2.9 14 7.2 10.1 7.2 10.1 15.4 1.8 15.4"/></g>',p_ghsamplelabels:'<g class="cxblue"><rect x="15" y="25" width="3" height="10"/><rect x="15" y="45" width="3" height="10"/></g>',ps_center:'<g class="cxa"><rect x="40" y="40" width="20" height="20" rx="2" /></g>',ch_cshift:'<text class="cxtb100" x="-10" y="85">&#8679;</text>',g_stackedline:'<g class="cxcc"><rect x="76.7" y="51.4" width="15.1" height="34.7"/><rect x="50" y="64.3" width="15.1" height="21.8"/><rect x="23.2" y="71" width="15.1" height="15.1"/></g><g class="cxb"><rect x="23.2" y="56" width="15.1" height="30.1"/><rect x="50" y="42.5" width="15.1" height="43.6"/><rect x="76.7" y="30.4" width="15.1" height="55.6"/><line x1="23.2" y1="71" x2="38.4" y2="71"/><line x1="49.7" y1="64.3" x2="65.1" y2="64.3"/><line x1="76.7" y1="51.4" x2="91.9" y2="51.4"/></g><g class="cxa"><line x1="11.9" y1="0.5" x2="11.9" y2="100"/><line x1="99.4" y1="86.1" y2="86.1" x2="0"/><line y1="62.7" x2="11.9" y2="62.7" x1="0"/><line y1="39.4" x2="11.9" y2="39.4" x1="0"/><line y1="16.1" x2="11.9" y2="16.1" x1="0"/><polyline points="23.2 42.5 49.7 19.6 59.5 28.6 89.1 0.5"/></g>',c_rc:'<path fill="url(\'#rc-grad\')" d="M50,12.7c-27.6,0-50,16.1-50,36.1s22.4,36.1,50,36.1s50-16.1,50-36.1S77.6,12.7,50,12.7z M56.3,73.2c-20.5,0-37.2-11-37.2-24.3s16.7-24.3,37.2-24.3s37.2,10.9,37.2,24.3S76.9,73.2,56.3,73.2z"/><path class="clr" d="M76.8,66.5c6.9-1.7,11.5-9.9,10.1-18.5c-1.2-7.3-6.5-12.8-12.6-12.7H41.1v51.9h14.7V66.8h6.4L73,87.3h14.8L76.8,66.5z M68.2,57.2H55.3V45h12.9c3,0,5.4,2.4,5.4,5.4c0,0,0,0.1,0,0.1c0.5,3-1.5,5.9-4.5,6.6C68.8,57.2,68.5,57.2,68.2,57.2z"/>',sp_thickness2:'<g class="cxa"><rect x="27" y="2" width="24" height="96" /></g><g class="cxb"><rect x="2" y="2" width="14" height="96" /><rect x="61" y="2" width="34" height="96" /></g>',ch_ly:'<text class="cxtb100" x="15" y="85">Y</text>',ar_bl:'<path class="cxtxb" d="M2,78 L2,98 L22,98 M2,98 L98,2" />',ar_v:'<path class="cxtxb" d="M35,80 L50,98 L65,80 M35,20 L50,2 L65,20 M50,98 L50,2" />',at_colshpsze:'<g class="cxac"><rect x="2" y="2" width="46" height="46" /><polyline points="37,85 67,36 97,85 37,85" /><circle cx="31" cy="60" r="25" /></g><g class="cxab"><circle cx="18" cy="82" r="15" /><rect x="42" y="10" width="22" height="22" /><polyline points="71,53 84,33 97,53 71,53" /></g>',sp_closer:'<path class="cxtxa" d="M66,2 L58,10 L66,18 M98,10 L58,10" /><path class="cxtxa" d="M34,2 L42,10 L34,18 M42,10 L2,10" /><g class="cxb"><rect x="9" y="36" width="18" height="62" /><rect x="42" y="36" width="18" height="62" /><rect x="77" y="36" width="18" height="62" /></g>',p_dgline:'<g class="cxa"><line x1="10" y1="50" x2="98" y2="50" /><line x1="10" y1="51" x2="98" y2="51" /></g>',p_g1axes:'<g class="cxblue"><line x1="25" y1="15" x2="25" y2="65" /><line x1="15" y1="25" x2="25" y2="25" /><line x1="15" y1="45" x2="25" y2="45" /><line x1="15" y1="65" x2="25" y2="65" /><line x1="75" y1="15" x2="75" y2="65" /><line x1="75" y1="25" x2="85" y2="25" /><line x1="75" y1="45" x2="85" y2="45" /><line x1="75" y1="65" x2="85" y2="65" /></g>',ch_ccommand:'<text class="cxtb100" x="5" y="85">&#8984;</text>',bx_type:'<g class="cxb"><rect x="2" y="30" width="20" height="40" /><line x1="2" y1="51" x2="22" y2="51" /><line x1="2" y1="2" x2="22" y2="2" /><line x1="12" y1="2" x2="12" y2="30" /><line x1="12" y1="70" x2="12" y2="98" /><line x1="2" y1="98" x2="22" y2="98" /><path d="M80,7 Q 80,2 85,2 90,2 90,7 L90,40 Q 97,41 98,50 97,59 90,60 L90,93 Q 90,98 85,98 80,98 80,93 L80,60 Q 73,59 72,50 73,41 80,40 Z" /></g><path class="cxtxa" d="M56,44 L64,52 L56,60 M40,44 L32,52 L40,60 M64,52 L32,52" />',g_sunburst:'<g class="cxa"><circle cx="50.1" cy="50.1" r="35.7"/><path d="M 27.5 50.1 L 2.4 50.1 C 2.4 23.8 23.8 2.4 50.1 2.4 L 50.1 41.1"/><path d="M 72.7 50.1 L 97.7 50.1 C 97.7 76.4 76.4 97.7 50.1 97.7 L 50.1 72.7"/><circle cx="50.1" cy="50.1" r="22.6"/><circle cx="50.1" cy="50.1" r="9"/></g><g class="cxac"><path d="M 50.1 14.3 L 50.1 2.4 C 23.8 2.4 2.4 23.8 2.4 50.1 L 14.3 50.1 C 14.3 30.3 30.3 14.3 50.1 14.3 Z"/><path d="M 50.1 85.8 L 50.1 97.7 C 76.4 97.7 97.7 76.4 97.7 50.1 L 85.8 50.1 C 85.8 69.8 69.8 85.8 50.1 85.8 Z"/></g><g class="cxb"><line x1="43.2" y1="55.9" x2="22.7" y2="73.1"/><line x1="27.4" y1="21.5" x2="36.7" y2="30.9"/><line x1="68.2" y1="63.4" x2="89.1" y2="77.2"/><line x1="68.2" y1="80.8" x2="74.1" y2="91.2"/><line x1="7.5" y1="28.7" x2="29.9" y2="39.7"/><line x1="29.9" y1="8.8" x2="34.2" y2="17.9"/></g>',i_left:'<rect fill="url(\'#r-grad\')" x="2" y="25" width="48" height="50"/>',rt_ac2:'<g class="cxb"><path d=" M 18 18 A 45 45 45 0 1 95 50" /><line x1="18" y1="0" x2="18" y2="18" /><line x1="36" y1="18" x2="16" y2="18" /><path d=" M 82 82 A 45 45 225 0 1 5 50" /><line x1="64" y1="82" x2="84" y2="82" /><line x1="82" y1="100" x2="82" y2="82" /></g>',c_rr:'<g class="cxb"><path d="M 50 15.2 C 23.4 15.2 1.8 30.7 1.8 50 C 1.8 69.2 23.4 84.8 50 84.8 C 76.6 84.8 98.1 69.2 98.1 50 C 98.1 30.7 76.6 15.2 50 15.2 Z M 56 73.5 C 36.3 73.5 20.2 62.9 20.2 50.1 C 20.2 37.3 36.3 26.7 56 26.7 C 75.8 26.7 91.9 37.2 91.9 50.1 C 91.9 63 75.9 73.5 56 73.5 Z"/></g><g class="cxaw"><path d="M 80.6 73.4 C 85.8 72.1 89.2 65.9 88.1 59.5 C 87.2 54 83.2 50 78.6 50 L 53.8 50 L 53.8 89 L 64.8 89 L 64.8 73.7 L 69.6 73.7 L 77.8 89 L 88.8 89 L 80.6 73.4 Z M 74 66.4 L 64.3 66.4 L 64.3 57.3 L 74 57.3 C 76.2 57.3 78 59.1 78 61.3 C 78 61.4 78 61.4 78 61.5 C 78.4 63.8 76.9 66 74.6 66.5 C 74.5 66.5 74.3 66.5 74 66.4 Z"/><path d="M 38.7 34.4 C 43.9 33.1 47.3 26.9 46.2 20.5 C 45.3 15 41.3 11 36.7 11 L 11.9 11 L 11.9 50 L 22.9 50 L 22.9 34.7 L 27.7 34.7 L 35.9 50 L 46.9 50 L 38.7 34.4 Z M 32.1 27.4 L 22.4 27.4 L 22.4 18.3 L 32.1 18.3 C 34.3 18.3 36.1 20.1 36.1 22.3 C 36.1 22.4 36.1 22.4 36.1 22.5 C 36.5 24.8 35 27 32.7 27.5 C 32.6 27.5 32.4 27.5 32.1 27.4 Z"/></g>',h_hcell:'<g class="cxa"><rect x="42" y="26" width="26" height="18"/></g>',b_gsswitch:'<g class="cxa"><rect x="1" y="1" width="42" height="42"/><rect fill="url(\'#gs-grad\')" x="57" y="57" width="42" height="42"/></g>',ch_sampersand:'<text class="cxtb100" x="15" y="85">&#38;</text>',c_solarized:'<circle class="cl40" cx="50" cy="50" r="24.6"/><path class="cl41" d="M74.6,50c0-13.6-11-24.6-24.6-24.6l0,0v49.2C63.5,74.6,74.5,63.6,74.6,50C74.6,50,74.6,50,74.6,50z"/><polygon class="cl40" points="50,0 45.9,20.5 54.1,20.5 "/><polygon class="cl40" points="50,100 45.9,79.5 54.1,79.5\t"/><polygon class="cl41" points="100,50 79.5,45.9 79.5,54.1\t"/><polygon class="cl41" points="0,50 20.5,45.9 20.5,54.1 "/><polygon class="cl40" points="93.5,25.4 73.6,31.9 77.7,39.1 "/><polygon class="cl40" points="6.5,74.6 22.3,60.9 26.4,68.1 "/><polygon class="cl41" points="74.6,93.5 68.1,73.6 60.9,77.7 "/><polygon class="cl41" points="25.4,6.5 39.1,22.3 31.9,26.4 "/><polygon class="cl41" points="75.3,6.9 61.4,22.5 68.5,26.7 "/><polygon class="cl41" points="24.7,93.1 31.5,73.3 38.6,77.5 "/><polygon class="cl40" points="93.1,75.3 77.5,61.4 73.3,68.5 "/><polygon class="cl0" points="6.9,24.7 26.7,31.5 22.5,38.6 "/>',gr_g1:'<g class="cxc"><line x1="2" y1="2" x2="2" y2="100" /><line x1="2" y1="98" x2="98" y2="98" /></g><g class="cxa"><line x1="4" y1="18" x2="98" y2="18" /><line x1="4" y1="38" x2="98" y2="38" /><line x1="4" y1="58" x2="98" y2="58" /><line x1="4" y1="78" x2="98" y2="78" /></g><g class="cxcc"><rect x="20" y="48" width="20" height="47" /><rect x="60" y="10" width="20" height="85" /></g>',ch_omean:'<rect x="20" y="2" width="68" height="6" /><text class="cxtn100" x="20" y="90">X</text>',tb_stripped:'<g class="cxcc"><rect x="2" y="26" width="96" height="24" /><rect x="2" y="74" width="96" height="24" /></g><g class="cxb"><line x1="2" y1="26" x2="98" y2="26" /><line x1="2" y1="50" x2="98" y2="50" /><line x1="2" y1="74" x2="98" y2="74" /><line x1="34" y1="26" x2="34" y2="98" /><line x1="66" y1="26" x2="66" y2="98" /></g><g class="cxa"><rect x="2" y="2" width="96" height="96" /><rect x="12" y="12" width="3" height="3" /><rect x="24" y="12" width="3" height="3" /><rect x="36" y="12" width="3" height="3" /></g>',sh_oval:'<circle class="cxa" cx="50" cy="50" r="38" />',tx_tostring:'<text class="cxtn60" x="65" y="70">#</text><g class="cxaa"><text class="cxtn60" x="30" y="40">&#10554;</text><text class="cxtn60" x="0" y="65">a</text></g>',ga_axisxy:'<g class="cxb"><line x1="15" y1="2" x2="15" y2="98" /><line x1="15" y1="2" x2="0" y2="17" /><line x1="15" y1="2" x2="30" y2="17" /><line x1="2" y1="85" x2="98" y2="85" /><line x1="83" y1="70" x2="98" y2="85" /><line x1="83" y1="100" x2="98" y2="85" /></g><text class="cxtn30 cxaa" x="30" y="25">X</text><text class="cxtn30 cxaa" x="65" y="70">Y</text>',sv_svg:'<g class="cxa"><path d="M60,7 L70,17 L90,17 Q 98,17 98,26 L98,74 Q 98,84 90,84 L10,84 Q 2,84 2,74 L2,24 Q 2,17 10,17 L30,17 L40,7 Z" /></g><g class="cxb"><circle cx="50" cy="50" r="15" /><circle cx="50" cy="50" r="25" /><line x1="10" y1="8" x2="25" y2="8" /><line x1="10" y1="27" x2="25" y2="27" /></g><g class="cxaw"><rect x="12" y="55" width="76" height="40" rx="4" /></g><g class="cxaa"><text class="cxtn30" x="18" y="85">SVG</text></g>',g_hexplotbinplot:'<g class="cxb"><line x1="10" y1="2" x2="10" y2="98" /><line x1="2" y1="10" x2="10" y2="10" /><line x1="2" y1="30" x2="10" y2="30" /><line x1="2" y1="50" x2="10" y2="50" /><line x1="2" y1="70" x2="10" y2="70" /><line x1="2" y1="90" x2="98" y2="90" /><line x1="10" y1="90" x2="10" y2="98" /><line x1="30" y1="90" x2="30" y2="98" /><line x1="50" y1="90" x2="50" y2="98" /><line x1="70" y1="90" x2="70" y2="98" /><line x1="90" y1="90" x2="90" y2="98" /></g><g class="cxa"><rect x="20" y="68" width="15" height="15" /><rect x="35" y="68" width="15" height="15" /><rect x="35" y="53" width="15" height="15" /><rect x="50" y="38" width="15" height="15" /><rect x="65" y="23" width="15" height="15" /><rect x="50" y="53" width="15" height="15" /><rect x="65" y="38" width="15" height="15" /><rect x="80" y="23" width="15" height="15" /></g>',p_g3citation:'<g class="cxblue"><rect x="75" y="95" width="20" height="2"/></g>',op_undo:'<g class="cxa"><path d="M5.5,31.5l39.8-29V16h1.1c26.2-0.4,47.8,20.6,48.1,46.8c0,0,0,0.1,0,0.1c0,13.2-5.7,25.7-15.5,34.5c3.4-5.4,5.3-11.6,5.3-18C84.1,60,68.1,44.5,48.7,44.8c0,0,0,0,0,0c-1.1,0-2.2,0-3.4,0.2v15.6L5.5,31.5z"/></g>',wp_configuration:'<g class="cxa"><path d="M 97.2 61 L 97.2 39 L 83.5 39 C 83 37.3 82.3 35.7 81.4 34.1 L 91.2 24.4 L 75.6 8.8 L 65.9 18.5 C 64.3 17.7 62.7 17 61 16.4 L 61 2.8 L 39 2.8 L 39 16.4 C 37.3 17 35.7 17.7 34.1 18.5 L 24.4 8.8 L 8.8 24.4 L 18.5 34.1 C 17.7 35.7 17 37.3 16.4 39 L 2.8 39 L 2.8 61 L 16.4 61 C 17 62.7 17.7 64.3 18.5 65.9 L 8.8 75.6 L 24.4 91.2 L 34.1 81.5 C 35.7 82.3 37.3 83 39 83.5 L 39 97.3 L 61 97.3 L 61 83.5 C 62.7 82.9 64.3 82.3 65.9 81.4 L 75.6 91.2 L 91.2 75.6 L 81.5 65.9 C 82.3 64.3 83 62.7 83.5 61 Z"/></g><g class="cxb"><circle cx="50" cy="50" r="18.5"/></g>',g_scatter2d:'<g class="cxa"><line x1="11.9" x2="11.9" y2="100" y1="0"/><line x1="100" y1="86" y2="86" x2="0"/><line y1="62.6" x2="11.9" y2="62.6" x1="0"/><line y1="39.1" x2="11.9" y2="39.1" x1="0"/><line y1="15.6" x2="11.9" y2="15.6" x1="0"/><line x1="32.5" y1="100" x2="32.5" y2="86"/><line x1="56" y1="100" x2="56" y2="86"/><line x1="79.4" y1="100" x2="79.4" y2="86"/></g><g class="cxb"><line x1="28.9" y1="15.6" x2="32.5" y2="15.6"/><line x1="80.3" y1="19.5" x2="84" y2="19.5"/><line x1="54.1" y1="26.6" x2="57.8" y2="26.6"/><line x1="90" y1="36.8" x2="93.7" y2="36.8"/><line x1="80.3" y1="47.2" x2="84" y2="47.2"/><line x1="67.7" y1="47.2" x2="71.4" y2="47.2"/><line x1="61.2" y1="59.8" x2="64.8" y2="59.8"/><line x1="74.5" y1="68.3" x2="78.2" y2="68.3"/><line x1="42.7" y1="73.6" x2="46.3" y2="73.6"/><line x1="34.2" y1="59.8" x2="37.9" y2="59.8"/><line x1="48.2" y1="47.2" x2="51.8" y2="47.2"/><line x1="23.6" y1="39.1" x2="27.3" y2="39.1"/></g>',ar_vs:'<path class="cxtxb" d="M42,58 L50,66 L58,58 M42,42 L50,34 L58,42 M50,66 L50,34" />',gr_minor:'<g class="cxc"><line x1="2" y1="2" x2="2" y2="100" /><line x1="2" y1="98" x2="98" y2="98" /></g><g class="cxb"><line x1="2" y1="2" x2="2" y2="100" /><line x1="2" y1="98" x2="98" y2="98" /><line x1="4" y1="14" x2="98" y2="14" /> <line x1="4" y1="26" x2="98" y2="26" /> <line x1="4" y1="38" x2="98" y2="38" /> <line x1="4" y1="50" x2="98" y2="50" /> <line x1="4" y1="62" x2="98" y2="62" /> <line x1="4" y1="74" x2="98" y2="74" /> <line x1="4" y1="86" x2="98" y2="86" /></g>',gr_style:'<g class="cxc"><line x1="2" y1="2" x2="2" y2="100" /><line x1="2" y1="98" x2="98" y2="98" /></g><g class="cxa"><line x1="4" y1="23" x2="98" y2="23" /> <line x1="4" y1="48" x2="98" y2="48" stroke-dasharray="5" /> <line x1="4" y1="73" x2="98" y2="73" stroke-dasharray="15 5"/></g>',g_lollipop:'<g class="cxb"><circle cx="30.2" cy="60.1" r="7.4"/><line x1="30.2" y1="67.4" x2="30.2" y2="86"/><circle cx="65.9" cy="46.5" r="7.4"/><line x1="65.9" y1="53.8" x2="65.9" y2="86"/><circle cx="83.7" cy="34.1" r="7.4"/><line x1="83.7" y1="41.5" x2="83.7" y2="86"/><circle cx="48.1" cy="26.8" r="7.4"/><line x1="48.1" y1="34.1" x2="48.1" y2="86"/></g><g class="cxa"><line x1="11.9" x2="11.9" y2="100" y1="0"/><line x1="100" y1="86" y2="86" x2="0"/><line y1="62.6" x2="11.9" y2="62.6" x1="0"/><line y1="39.1" x2="11.9" y2="39.1" x1="0"/><line y1="15.6" x2="11.9" y2="15.6" x1="0"/></g>',ch_oa:'<text class="cxtb100" x="25" y="75">a</text>',cl_horizontalbg:'<g class="cxcc"><rect x="0" y="0" width="100" height="33" /><rect x="0" y="67" width="100" height="33" /></g>',p_ghvariablelabels:'<g class="cxblue"><rect x="40" y="75" width="15" height="2"/><rect x="74" y="75" width="15" height="2"/></g>',p_g2axistitlex:'<g class="cxblue"><rect x="40" y="85" width="30" height="2"/></g>',m_zlasso:'<g class="cxa"><path d="M12.4,60c-4.7-2.8-8-7.3-9.4-12.6C-0.6,31.8,17.6,14.3,43.5,8.3S93.4,10.2,97,25.8c3.6,15.6-14.6,33.1-40.5,39.2c-1.1,0.3-2.3,0.5-3.4,0.7"/><path d="M29.5,93.8c0,0,14.4-21.7,0-33.7S5.1,69.9,19.2,73.8c7.6,2.1,46.6-2.9,30.7-19c-6.8-7-20.4,5.3-20.4,5.3"/></g>',mr_right:'<g class="cxa"><line x1="77" y1="2" x2="77" y2="98" /></g>',ch_ls:'<text class="cxtb100" x="15" y="85">S</text>',g_bar:'<g class="cxb"> <rect x="23.4" y="55.7" width="15.2" height="30.3" /><rect x="50.3" y="15.6" width="15.2" height="70.4" /><rect x="77.2" y="30.1" width="15.2" height="56" /></g><g class="cxa"><line x1="11.9" x2="11.9" y2="100" y1="0"/><line x1="100" y1="86" y2="86" x2="0"/><line y1="62.6" x2="11.9" y2="62.6" x1="0"/><line y1="39.1" x2="11.9" y2="39.1" x1="0"/><line y1="15.6" x2="11.9" y2="15.6" x1="0"/></g>',ch_ssum:'<text class="cxtb100" x="15" y="80">&#8721;</text>',b_window:'<polyline class="cxa" points="65,45 65,30 48,30 48,15 15,15 15,83 68,83 45,65 65,45" />',sr_19:'<path class="cxtxb" d="M2,80 L17,98 L32,80 M17,98 L17,2" /><path class="cxtxb" d="M27,20 L42,2 L57,20 M42,98 L42,2" /><g class="cxaa"><text class="cxtn60" x="60" y="45">1</text><text class="cxtn60" x="60" y="95">9</text></g>',at_ellipse:'<g class="cxa"><path d="M31,2 Q 48,3 56,19 59,35 56,53 48,69 31,71 13,69 6,53 2,36 6,19 13,3 31,2" /><path d="M41,37 Q 56,27 74,36 90,44 97,68 98,86 88,94 74,98 60,94 44,86 36,70 31,52 41,37" /></g><g class="cxb"><circle cx="20" cy="18" r="2" /><circle cx="12" cy="27" r="2" /><circle cx="15" cy="40" r="2" /><circle cx="45" cy="52" r="2" /><circle cx="25" cy="52" r="2" /><circle cx="45" cy="23" r="2" /><circle cx="36" cy="15" r="2" /><circle cx="31" cy="26" r="2" /><circle cx="30" cy="42" r="2" /></g><g class="cxb"><circle cx="60" cy="63" r="2" /><circle cx="52" cy="70" r="2" /><circle cx="75" cy="85" r="2" /><circle cx="85" cy="82" r="2" /><circle cx="65" cy="82" r="2" /><circle cx="80" cy="73" r="2" /><circle cx="70" cy="43" r="2" /><circle cx="75" cy="56" r="2" /><circle cx="85" cy="62" r="2" /></g>',ga_axisx:'<g class="cxb"><line x1="2" y1="50" x2="98" y2="50" /><line x1="2" y1="50" x2="17" y2="35" /><line x1="2" y1="50" x2="17" y2="65" /><line x1="98" y1="50" x2="83" y2="35" /><line x1="98" y1="50" x2="83" y2="65" /></g><text class="cxtn40 cxaa" x="38" y="38">X</text>',gr_g2xy:'<g class="cxc"><line x1="2" y1="2" x2="2" y2="100" /><line x1="2" y1="98" x2="100" y2="98" /></g><g class="cxa"><line x1="20" y1="0" x2="20" y2="97" /> <line x1="40" y1="0" x2="40" y2="97" /> <line x1="60" y1="0" x2="60" y2="97" /> <line x1="80" y1="0" x2="80" y2="97" /><line x1="4" y1="18" x2="98" y2="18" /> <line x1="4" y1="38" x2="98" y2="38" /> <line x1="4" y1="58" x2="98" y2="58" /> <line x1="4" y1="78" x2="98" y2="78" /></g>',dps_inout:'<g class="cxa"><polyline points="65,30 65,2 2,2 2,98 65,98 65,70" /></g><path class="cxtxb" d="M71,38 L83,50 L71,62 M29,38 L17,50 L29,62 M83,50 L17,50" />',fp_pencil:'<g class="cxb"><path d="M72,10 L90,27 M68,14 L86,31 M2,80 L20,98 M11,89 L77,22" /></g><g class="cxa"><path d="M74,8 Q 80,2 86,4 L96,14 Q 98,20 92,25 L20,98 L2,98 L2,80 L74,8" /></g>',g_oncoprint:'<g class="cxbb"><rect x="14.4" y="4.2" width="16.4" height="20.4"/><rect x="47.8" y="4.2" width="16.4" height="20.4"/><rect x="80.9" y="31.3" width="16.4" height="6.6"/><rect x="80.9" y="51.6" width="16.4" height="6.6"/><rect x="14.5" y="51.6" width="16.4" height="6.6"/><rect x="64.4" y="51.6" width="16.4" height="6.6"/></g><g class="cxcc"><rect x="64.1" y="11" width="16.4" height="6.6"/><rect x="47.8" y="71.9" width="16.4" height="6.6"/><rect x="30.7" y="31.3" width="16.4" height="6.6"/><rect x="80.9" y="71.9" width="16.4" height="6.6"/></g><g class="cxa"><rect x="14.4" y="4.2" width="16.6" height="20.3"/><rect x="31" y="4.2" width="16.6" height="20.3"/><rect x="64.3" y="4.2" width="16.6" height="20.3"/><rect x="80.9" y="4.2" width="16.6" height="20.3"/><rect x="47.6" y="4.2" width="16.6" height="20.3"/><rect x="14.4" y="24.5" width="16.6" height="20.3"/><rect x="31" y="24.5" width="16.6" height="20.3"/><rect x="64.3" y="24.5" width="16.6" height="20.3"/><rect x="80.9" y="24.5" width="16.6" height="20.3"/><rect x="47.6" y="24.5" width="16.6" height="20.3"/><rect x="14.4" y="44.8" width="16.6" height="20.3"/><rect x="31" y="44.8" width="16.6" height="20.3"/><rect x="64.3" y="44.8" width="16.6" height="20.3"/><rect x="80.9" y="44.8" width="16.6" height="20.3"/><rect x="47.6" y="44.8" width="16.6" height="20.3"/><rect x="14.4" y="65.1" width="16.6" height="20.3"/><rect x="31" y="65.1" width="16.6" height="20.3"/><rect x="64.3" y="65.1" width="16.6" height="20.3"/><rect x="80.9" y="65.1" width="16.6" height="20.3"/><rect x="47.6" y="65.1" width="16.6" height="20.3"/></g><g class="cxa"><line x1="2.5" y1="10" x2="2.5" y2="18"/><line x1="2.5" y1="30.6" x2="2.5" y2="38.6"/><line x1="2.5" y1="51" x2="2.5" y2="58.9"/><line x1="2.5" y1="71.3" x2="2.5" y2="79.2"/><line x1="18.6" y1="95.8" x2="26.6" y2="95.8"/><line x1="35.3" y1="95.8" x2="43.3" y2="95.8"/><line x1="51.9" y1="95.8" x2="59.9" y2="95.8"/><line x1="68.5" y1="95.8" x2="76.5" y2="95.8"/><line x1="85.3" y1="95.8" x2="93.2" y2="95.8"/></g>',ar_brm:'<path class="cxtxb" d="M83,71 L83,83 L71,83 M17,17 L83,83" />',c_tableau:'<rect x="47.5" class="cl50" width="5" height="20.3"/><rect x="39.8" y="7.6" class="cl50" width="20.3" height="5"/><rect x="47.5" y="79.7" class="cl51" width="5" height="20.3"/><rect x="39.8" y="87.3" class="cl51" width="20.3" height="5"/><rect x="79.7" y="47.5" class="cl51" width="20.3" height="5"/><rect x="87.3" y="39.8" class="cl51" width="5" height="20.3"/><rect y="47.5" class="cl50" width="20.3" height="5"/><rect x="7.6" y="39.8" class="cl50" width="5" height="20.3"/><rect x="74.2" y="9.7" class="cl52" width="5" height="31.2"/><rect x="61.2" y="22.8" class="cl52" width="31.2" height="5"/><rect x="20.7" y="9.7" class="cl53" width="5" height="31.2"/><rect x="7.7" y="22.8" class="cl53" width="31.2" height="5"/><rect x="74.2" y="59.1" class="cl54" width="5" height="31.2"/><rect x="61.2" y="72.2" class="cl54" width="31.2" height="5"/><rect x="20.7" y="59.1" class="cl55" width="5" height="31.2"/><rect x="7.7" y="72.2" class="cl55" width="31.2" height="5"/><rect x="47.5" y="32.6" class="cl56" width="5" height="34.7"/><rect x="32.6" y="47.5" class="cl56" width="34.7" height="5"/>',at_palette:'<path class="cxb" d="M2,50 C 2,25 25,2 50,2 C 73,2 98,25 98,50 C 98,57 97,63 90,63 C 90,53 81,53 78,60 C 92,79 73,98 50,98 C 25,98 2,75 2,50" /><g class="cxa"><circle cx="20" cy="45" r="8" /><circle cx="35" cy="25" r="8" /><circle cx="63" cy="23" r="8" /><circle cx="80" cy="40" r="8" /><path d="M50,75 C 65,75 65,88 50,88 C 35,88 35,75 50,75" /></g>',ch_oy:'<text class="cxti100" x="25" y="70">y</text>',p_ghvariabletitle:'<g class="cxblue"><rect x="50" y="85" width="30" height="2"/></g>',p_g2titlesubtitle:'<g class="cxblue"><rect x="45" y="0" width="30" height="2"/><rect x="50" y="10" width="20" height="2"/></g>',b_grvb:'<g class="cxa"><rect fill="url(\'#vb-grad\')" x="0" y="0" width="100" height="100" /></g>',p_cg1dataverticalhorizontal:'<g class="cxa"><line x1="2" y1="2" x2="2" y2="45" /><line x1="2" y1="45" x2="45" y2="45" /><line x1="53" y1="53" x2="53" y2="96" /><line x1="53" y1="96" x2="96" y2="95" /></g><g class="cxcc"><rect x="9" y="20" width="10" height="24" /><rect x="28" y="10" width="10" height="34" /><rect x="55" y="59" width="24" height="10" /><rect x="55" y="78" width="34" height="10" /></g><g class="cxaa"><text class="cxtn60 cxaa" x="53" y="51" transform="rotate(45)">&#10555;</text><text class="cxtn60 cxaa" x="-86" y="51" transform="rotate(45) scale(-1,1)">&#10555;</text><text class="cxtn60 cxaa" x="51" y="-22" transform="rotate(45)">&#10554;</text><text class="cxtn60 cxaa" x="-90" y="-22" transform="rotate(45) scale(-1,1)">&#10554;</text></g>',p_cg2bin:'<g class="cxa"><rect x="20" y="68" width="15" height="15" /><rect x="35" y="68" width="15" height="15" /><rect x="35" y="53" width="15" height="15" /><rect x="50" y="38" width="15" height="15" /><rect x="65" y="23" width="15" height="15" /><rect x="50" y="53" width="15" height="15" /><rect x="65" y="38" width="15" height="15" /><rect x="80" y="23" width="15" height="15" /></g>',ch_lt:'<text class="cxtb100" x="15" y="85">T</text>',p_ghtitle:'<g class="cxblue"><rect x="50" y="0" width="30" height="2"/></g>',ar_lm:'<path class="cxtxb" d="M29,38 L17,50 L29,62 M83,50 L17,50" />',ch_lq:'<text class="cxtb100" x="8" y="85">Q</text>',ar_bls:'<path class="cxtxb" d="M34,58 L34,66 L42,66 M34,66 L66,34" />',sp_heightness:'<path class="cxtxa" d="M58,42 L66,50 L58,58 M42,42 L34,50 L42,58 M66,50 L34,50" /><g class="cxb"><rect x="2" y="40" width="26" height="56" /><rect x="72" y="2" width="26" height="96" /></g>',ch_ocodemed:'<text class="cxtn80" x="20" y="-30" transform="rotate(90)">&#8963;</text><text class="cxtn80" x="-82" y="70" transform="rotate(-90)">&#8963;</text>',v_next:'<circle class="cxb" cx="50" cy="50" r="48" /><text class="cxtn100" x="10" y="0" transform="rotate(90)">⌃</text>',z_zoom:'<g class="cxa"><circle cx="35" cy="35" r="33" /><line x1="60" y1="60" x2="99" y2="99" /></g>',g_circular:'<g class="cxa"><circle cx="50" cy="50" r="37.9"/><line x1="23" y1="76.6" x2="16.9" y2="84.6"/><circle cx="50" cy="50" r="47.9"/><circle cx="50" cy="50" r="18.6"/></g><g class="cxa"><line x1="50" y1="2.2" x2="50" y2="12.1"/></g><g class="cxb"><line x1="50" y1="20.2" x2="50" y2="24"/><line x1="50" y1="79.8" x2="50" y2="76"/><line x1="79.8" y1="50" x2="76" y2="50"/><line x1="20.2" y1="50" x2="24" y2="50"/><line x1="71.1" y1="28.9" x2="68.4" y2="31.6"/><line x1="28.9" y1="71.1" x2="31.6" y2="68.4"/><line x1="71.1" y1="71.1" x2="68.4" y2="68.4"/><line x1="28.9" y1="28.9" x2="31.6" y2="31.6"/><line x1="61.3" y1="22.4" x2="59.8" y2="25.9"/><line x1="38.7" y1="77.6" x2="40.2" y2="74.1"/><line x1="77.6" y1="61.3" x2="74.1" y2="59.8"/><line x1="22.4" y1="38.7" x2="25.9" y2="40.2"/><line x1="77.5" y1="38.5" x2="74" y2="39.9"/><line x1="22.5" y1="61.6" x2="26" y2="60.1"/><line x1="61.6" y1="77.5" x2="60.1" y2="74"/><line x1="38.5" y1="22.5" x2="39.9" y2="26"/><path d="M 87.9 50 C 87.9 59.7 84.1 69.1 77.4 76.1 L 83.7 83.8 C 109.8 57.8 97.9 13.4 62.4 3.8 C 58.3 2.7 54.2 2.2 50 2.2 L 50 12.1 C 71 12.1 87.9 29.1 87.9 50 Z"/></g>',cd_params:'<g class="cxaa"><text class="cxtn40" x="10" y="20">...</text><text class="cxtn40" x="10" y="40">...,</text><text class="cxtn40" x="10" y="80">{ }</text></g>',ps_bottomright:'<path class="cxtxb" d="M66,58 L66,66 L56,66 M34,34 L66,66" /><g class="cxa"><rect x="78" y="78" width="20" height="20" rx="2" /></g>',ch_olin:'<text class="cxts100" x="5" y="70">lin</text>',b_body:'<g class="cxa"><polyline points="78,42 78,30 48,30 48,2 2,2 2,98 78,98 78,85"/><line x1="79" y1="29" x2="48" y2="1" /></g>',ln_styledotted:'<g class="cxa"><line x1="4" y1="50" x2="98" y2="50" stroke-dasharray="5" /></g>',p_cg2data:'<g class="cxb"><rect x="18" y="56" width="2" height="2"/><rect x="26" y="32" width="2" height="2"/><rect x="34" y="44" width="2" height="2"/><rect x="42" y="10" width="2" height="2"/><rect x="43" y="30" width="2" height="2"/><rect x="50" y="80" width="2" height="2"/><rect x="58" y="60" width="2" height="2"/><rect x="64" y="24" width="2" height="2"/><rect x="70" y="70" width="2" height="2"/><rect x="74" y="48" width="2" height="2"/><rect x="82" y="18" width="2" height="2"/><rect x="90" y="72" width="2" height="2"/><rect x="55" y="45" width="2" height="2"/><rect x="40" y="60" width="2" height="2"/><rect x="25" y="75" width="2" height="2"/></g>',wp_threebars:'<g class="cxaa"><rect x="2" y="15" width="96" height="8" /><rect x="2" y="48" width="96" height="8" /><rect x="2" y="81" width="96" height="8" /></g>',p_g3axisx:'<g class="cxblue"><line x1="25" y1="65" x2="95" y2="65" /><line x1="25" y1="65" x2="25" y2="75" /><line x1="45" y1="65" x2="45" y2="75" /><line x1="65" y1="65" x2="65" y2="75" /><line x1="85" y1="65" x2="85" y2="75" /></g>',p_g2:'<g class="cxc"><rect x="45" y="0" width="30" height="2"/><rect x="50" y="10" width="20" height="2"/><rect x="35" y="30" width="4" height="4"/><rect x="85" y="40" width="4" height="4"/><rect x="45" y="50" width="4" height="4"/><rect x="40" y="85" width="30" height="2"/><rect x="0" y="25" width="3" height="25"/><line x1="25" y1="65" x2="95" y2="65" /><line x1="25" y1="65" x2="25" y2="75" /><line x1="45" y1="65" x2="45" y2="75" /><line x1="65" y1="65" x2="65" y2="75" /><line x1="85" y1="65" x2="85" y2="75" /><line x1="25" y1="15" x2="25" y2="75" /><line x1="15" y1="25" x2="25" y2="25" /><line x1="15" y1="45" x2="25" y2="45" /><line x1="15" y1="65" x2="25" y2="65" /><rect x="75" y="95" width="20" height="2"/></g>',g_genome:'<g class="cxb"><line x1="62.7" y1="7.9" x2="92.7" y2="37.9"/><line x1="52.5" y1="25.1" x2="75.5" y2="48.1"/><line x1="7.9" y1="62.7" x2="37.9" y2="92.7"/><line x1="25.1" y1="52.5" x2="48.1" y2="75.5"/></g><g class="cxa"><path d="M 100 31.3 L 94.5 36.8 C 82.9 48.4 66.3 53.4 50.3 50.2 L 50.3 50.2 C 47.1 34.2 52.2 17.6 63.7 6 L 69.2 0.6"/><path d="M 31.3 100 L 36.8 94.5 C 48.4 82.9 53.4 66.3 50.2 50.3 L 50.2 50.3 C 34.2 47.1 17.6 52.2 6 63.7 L 0.6 69.2"/><path d="M 31.3 100 L 36.8 94.5 C 48.4 82.9 53.4 66.3 50.2 50.3 L 50.2 50.3 C 34.2 47.1 17.6 52.2 6 63.7 L 0.6 69.2"/></g>',ch_ld:'<text class="cxtb100" x="15" y="85">D</text>',z_in:'<g class="cxaa"><text class="cxtn60" x="15" y="50">+</text></g><g class="cxb"><circle cx="35" cy="35" r="33" /><line x1="60" y1="60" x2="99" y2="99" /></g>',i_hist:'<rect fill="url(\'#l-grad\')" x="0" y="0" width="100" height="100"/><g class="cxa"><rect x="2" y="2" width="96" height="96"/><polyline points="2,98 20,88 40,60 60,25 80,70 98,2" /></g>',ch_la:'<text class="cxtb100" x="15" y="85">A</text>',v_first:'<circle class="cxb" cx="50" cy="50" r="48" /><text class="cxtn60" x="25" y="73">&#9664;</text><rect x="25" y="25" width="18" height="50" />',ch_lg:'<text class="cxtb100" x="15" y="85">G</text>',ch_coption:'<text class="cxtb100" x="0" y="85">&#8997;</text>',p_cg2fitkmconf:'<g class="cxcc"><polyline points="10,2 40,2 40,10 65,10 65,30 85,30 85,52 98,52 98,87 66,87 66,68 54,68 54,58 42,58 42,42 30,42 30,36 10,36" /></g>',g_bubble:'<g class="cxa"><circle cx="50" cy="50" r="47.4"/><circle cx="63.6" cy="65.7" r="10.7"/><circle cx="36.4" cy="36" r="11.3"/><circle cx="35.6" cy="82.2" r="5.8"/><circle cx="82" cy="41.6" r="4.6"/></g><g class="cxb"><circle cx="37.2" cy="35.3" r="20"/><circle cx="63.6" cy="65.7" r="20"/><circle cx="67.8" cy="25.7" r="10.7"/><circle cx="21" cy="61.9" r="10.7"/></g>',ch_lo:'<text class="cxtb100" x="10" y="85">O</text>',ch_lu:'<text class="cxtb100" x="15" y="85">U</text>',p_g1axis2:'<g class="cxblue"><line x1="75" y1="15" x2="75" y2="65" /><line x1="75" y1="25" x2="85" y2="25" /><line x1="75" y1="45" x2="85" y2="45" /><line x1="75" y1="65" x2="85" y2="65" /></g>',gr_styledotted:'<g class="cxc"><line x1="2" y1="2" x2="2" y2="100" /><line x1="2" y1="98" x2="98" y2="98" /></g><g class="cxa"><line x1="4" y1="23" x2="98" y2="23" stroke-dasharray="5" /> <line x1="4" y1="48" x2="98" y2="48" stroke-dasharray="5" /> <line x1="4" y1="73" x2="98" y2="73" stroke-dasharray="5" /></g>',b_type:'<g class="cxcc"><polyline points="83,65 65,65 65,88 88,88 88,68" /></g><g class="cxa"><polyline points="45,15 30,15 30,2 2,2 2,45 45,45 45,15" /><line x1="30" y1="2" x2="45" y2="15" /><polyline points="98,15 83,15 83,2 55,2 55,45 98,45 98,15" /><polyline points="83,12 65,12 65,35 88,35 88,15" /><line x1="83" y1="2" x2="98" y2="15" /><polyline fill="url(\'#bl-grad\')" points="45,68 30,68 30,55 2,55 2,98 45,98 45,68" /><line x1="30" y1="55" x2="45" y2="68" /><polyline points="83,65 65,65 65,88 88,88 88,68" /><polyline points="98,68 83,68 83,55 55,55 55,98 98,98 98,68" /><line x1="83" y1="55" x2="98" y2="68" /></g>',v_forward:'<circle class="cxb" cx="50" cy="50" r="48" /><text class="cxtn60" x="17" y="73">&#9654;</text><text class="cxtn60" x="40" y="73">&#9654;</text>',op_more:'<g class="cxa"><circle cx="50" cy="50" r="48"/></g><g class="cxb"><line x1="15" y1="50" x2="85" y2="50" /><line x1="50" y1="15" x2="50" y2="85" /></g>',ps_toloc3:'<path class="cxtxb" d="M2,78 L2,98 L22,98 M78,2 L98,2 L98,22 M2,98 L98,2" /><path class="cxtxb" d="M98,78 L98,98 L78,98 M2,22 L2,2 L22,2 M2,2 L98,98" /><g class="cxaa"><rect x="36" y="36" width="25" height="25" /></g>',dt_exact:'<g class="cxaa"><rect x="8" y="86" width="10" height="7" /><rect x="88" y="6" width="10" height="87" /></g><g class="cxb"><line x1="2" y1="98" x2="100" y2="98" /><line x1="2" y1="2" x2="2" y2="98" /></g><g class="cxcc"><rect x="28" y="66" width="10" height="27" /><rect x="48" y="46" width="10" height="47" /><rect x="68" y="26" width="10" height="67" /></g>',g_venn:'<g class="cxbb"><path d="M 39.4 64.1 C 28.2 59.7 20.9 48.9 20.8 36.9 C 20.8 36.6 20.8 36.2 20.8 35.9 C -0.1 44 -4.4 71.7 13.1 85.8 C 23.9 94.5 39.3 94.4 49.9 85.6 C 43.5 80.2 39.7 72.4 39.4 64.1 Z"/><path d="M 50 7.8 C 27.6 7.9 13.7 32.3 25 51.6 C 28.3 57.2 33.4 61.6 39.4 64 C 39.4 63.7 39.4 63.3 39.4 63 C 39.4 54.3 43.3 46 50.1 40.5 C 56.8 46 60.7 54.3 60.7 63 C 60.7 63.3 60.7 63.7 60.7 64 C 81.6 55.7 85.6 28 68 14 C 62.9 10 56.6 7.8 50.1 7.8 Z"/></g><g class="cxcc"><path d="M 50 66.1 C 46.4 66.1 42.8 65.4 39.4 64.1 C 39.7 72.4 43.6 80.3 50 85.6 C 56.5 80.3 60.3 72.4 60.6 64.1 C 57.2 65.4 53.6 66.1 50 66.1 Z"/><path d="M 79.1 35.9 C 75.7 34.6 72.2 33.9 68.5 33.9 C 61.8 33.9 55.2 36.2 50 40.5 C 56.7 46.1 60.6 54.3 60.6 63.1 C 60.6 63.4 60.6 63.7 60.6 64.1 C 71.8 59.7 79.2 48.9 79.2 36.9 C 79.2 36.6 79.1 36.2 79.1 35.9 Z"/><path d="M 20.9 35.9 C 24.3 34.6 27.9 33.9 31.5 33.9 C 38.2 33.9 44.8 36.2 50 40.5 C 43.3 46.1 39.4 54.3 39.4 63.1 C 39.4 63.4 39.4 63.7 39.4 64.1 C 28.2 59.7 20.8 48.9 20.8 36.9 C 20.8 36.6 20.9 36.2 20.9 35.9 Z"/></g><g class="cxa"><circle cx="50" cy="36.9" r="29.2"/><circle cx="68.5" cy="63.1" r="29.2"/><circle cx="31.5" cy="63.1" r="29.2"/></g>',ch_sat:'<text class="cxtb100" x="1" y="85">@</text>',ga_axisxyz:'<g class="cxb"><line x1="15" y1="2" x2="15" y2="98" /><line x1="15" y1="2" x2="0" y2="17" /><line x1="15" y1="2" x2="30" y2="17" /><line x1="2" y1="85" x2="98" y2="85" /><line x1="83" y1="70" x2="98" y2="85" /><line x1="83" y1="100" x2="98" y2="85" /><line x1="2" y1="98" x2="70" y2="30" /><line x1="55" y1="30" x2="70" y2="30" /><line x1="70" y1="45" x2="70" y2="30" /></g><text class="cxtn30 cxaa" x="30" y="25">X</text><text class="cxtn30 cxaa" x="65" y="70">Y</text><text class="cxtn30 cxaa" x="75" y="25">Z</text>',sr_zad:'<path class="cxtxa" d="M12,80 L27,98 L42,80 M27,98 L27,2" /><text class="cxtn60" x="50" y="45">Z</text><text class="cxtn60" x="50" y="95">A</text>',mr_left:'<g class="cxa"><line x1="25" y1="2" x2="25" y2="98" /></g>',cd_lines:'<g class="cxa"><line x1="10" y1="10" x2="40" y2="10" /><line x1="10" y1="18" x2="40" y2="18" /><line x1="10" y1="26" x2="40" y2="26" /><line x1="10" y1="34" x2="70" y2="34" /><line x1="10" y1="42" x2="60" y2="42" /><line x1="10" y1="50" x2="50" y2="50" /><line x1="10" y1="58" x2="50" y2="58" /><line x1="10" y1="66" x2="50" y2="66" /><line x1="10" y1="74" x2="50" y2="74" /><line x1="10" y1="82" x2="60" y2="82" /><line x1="10" y1="90" x2="70" y2="90" /></g>',g_map:'<g class="cxa"><ellipse cx="50" cy="50" rx="26.6" ry="47.8"/><path d="M 87.9 20.9 C 79.2 25.3 65.4 28.2 50 28.2 C 34.5 28.2 20.8 25.3 12 20.9"/><path d="M 87.9 79 C 79.2 74.6 65.4 71.7 50 71.7 C 34.5 71.7 20.8 74.6 12 79"/><line x1="97.8" y1="50" x2="2.1" y2="50"/><line x1="50" y1="2.1" x2="50" y2="97.8"/></g><g class="cxb"><circle cx="50" cy="50" r="47.8"/></g>',ar_tr:'<path class="cxtxb" d="M78,2 L98,2 L98,22 M2,98 L98,2" />',lg_l:'<g class="cxa"><rect x="48" y="2" width="50" height="40"/><rect x="58" y="12" width="2" height="2"/><rect x="58" y="22" width="2" height="2"/><rect x="58" y="32" width="2" height="2"/><line x1="68" y1="12" x2="88" y2="12" /><line x1="68" y1="22" x2="88" y2="22" /><line x1="68" y1="32" x2="88" y2="32" /></g>',c_opensource:'<path class="cxa" d="M 50.1 4.4 C 13.7 4.1 -9.3 43.4 8.7 75 C 14.1 84.4 22.4 91.7 32.6 95.6 L 44.4 67.1 C 32.6 62.7 29.9 47.1 39.6 39 C 49.3 31 64.1 36.5 66.2 48.9 C 67.6 56.6 63.2 64.3 55.7 67.1 L 64.2 87.2 L 65.5 90.5 L 67.7 95.6 C 101.4 82.1 108.2 37.2 79.6 14.5 C 71.2 7.9 60.8 4.3 50.1 4.4 Z" />',ar_tm:'<path class="cxtxb" d="M38,29 L50,17 L62,29 M50,83 L50,17" />',b_grc:'<g class="cxa"><rect fill="url(\'#rad-grad\')" x="0" y="0" width="100" height="100" /></g>',o_ghvars:'<g class="cxc"><rect x="15" y="2" width="70" height="40" /><line x1="15" y1="22" x2="85" y2="22" /><line x1="50" y1="2" x2="50" y2="42" /><rect x="2" y="6" width="4" height="2" /><rect x="2" y="26" width="4" height="2" /><rect x="20" y="55" width="20" height="2" /><rect x="60" y="55" width="20" height="2" /></g><g class="cxa"><rect x="15" y="68" width="70" height="28" /><line x1="15" y1="82" x2="85" y2="82" /><line x1="50" y1="68" x2="50" y2="96" /><rect x="95" y="75" width="2" height="2" /><rect x="95" y="89" width="2" height="2" /></g>',tb_app:'<g class="cxa"><rect x="14" y="13" width="6" height="6" /><rect x="30" y="13" width="6" height="6" /><rect x="46" y="13" width="6" height="6" /></g><g class="cxb"><line x1="2" y1="30" x2="96" y2="30" /><rect x="2" y="2" width="96" height="96" rx="5" /></g>',ch_capple:'<text class="cxtb100" x="10" y="85">&#63743;</text>',p_g2title:'<g class="cxblue"><rect x="45" y="0" width="30" height="2"/></g>',p_g1citation:'<g class="cxblue"><rect x="75" y="95" width="20" height="2"/></g>',ch_olog2:'<text class="cxts70" x="5" y="60">log</text><text class="cxtn40" x="65" y="85">2</text>',v_pause:'<circle class="cxb" cx="50" cy="50" r="48" /><rect x="24" y="25" width="18" height="50" /><rect x="58" y="25" width="18" height="50" />',cd_json:'<g class="cxb"><polyline points="89,40 89,30 59,30 59,2 13,2 13,40" /><polyline points="13,90 13,98 89,98 89,90" /><line x1="90" y1="29" x2="59" y2="1" /><rect x="2" y="40" width="96" height="50" /></g><g class="cxaa"><text class="cxtn30" x="10" y="-30" transform="rotate(90)">&#8963;</text><text class="cxtn30" x="-34" y="44" transform="rotate(-90)">&#8963;</text><text class="cxtn30" x="10" y="75">JSON</text></g>',sv_pictures:'<g class="cxa"><path d="M59,14 Q 81,30 79,57 Q 79,89 98,98" /><circle cx="35" cy="18" r="6" /><circle cx="52" cy="32" r="6" /><circle cx="19" cy="32" r="6" /><circle cx="26" cy="50" r="6" /><circle cx="46" cy="50" r="6" /></g><g class="cxb"><circle cx="35" cy="35" r="32" /><circle cx="35" cy="35" r="1" /></g>',bx_wishkersn:'<g class="cxb"><rect x="35" y="30" width="30" height="40" /><line x1="35" y1="51" x2="65" y2="51" /></g>',p_cg3axes:'<g class="cxb"><line x1="10" y1="2" x2="10" y2="98" /><line x1="2" y1="10" x2="10" y2="10" /><line x1="2" y1="30" x2="10" y2="30" /><line x1="2" y1="50" x2="10" y2="50" /><line x1="2" y1="70" x2="10" y2="70" /><line x1="2" y1="90" x2="98" y2="90" /><line x1="10" y1="90" x2="10" y2="98" /><line x1="30" y1="90" x2="30" y2="98" /><line x1="50" y1="90" x2="50" y2="98" /><line x1="70" y1="90" x2="70" y2="98" /><line x1="90" y1="90" x2="90" y2="98" /><line x1="10" y1="90" x2="70" y2="30" /><line x1="55" y1="45" x2="65" y2="45" /><line x1="40" y1="60" x2="50" y2="60" /><line x1="25" y1="75" x2="35" y2="75" /></g>',o_g1:'<g class="cxc"><line x1="2" y1="40" x2="98" y2="40" /><line x1="2" y1="24" x2="8" y2="24" /><line x1="2" y1="12" x2="8" y2="12" /><line x1="10" y1="2" x2="10" y2="40" /><line x1="90" y1="24" x2="98" y2="24" /><line x1="90" y1="12" x2="98" y2="12" /><line x1="90" y1="2" x2="90" y2="40" /><rect x="20" y="55" width="20" height="2" /><rect x="60" y="55" width="20" height="2" /></g><g class="cxcc"><rect x="25" y="35" width="15" height="10" /><rect x="60" y="10" width="15" height="30" /></g><g class="cxa"><rect x="15" y="68" width="70" height="28" /><line x1="15" y1="82" x2="85" y2="82" /><line x1="50" y1="68" x2="50" y2="96" /><rect x="95" y="75" width="2" height="2" /><rect x="95" y="89" width="2" height="2" /></g>',p_cg2fitcorconf:'<g class="cxcc"><path d="M10,90 L10,60 Q 50,50 70,0 L100,0 L100,30 Q 50,50 40,90 Z" /></g>',c_react:'<ellipse class="cxa" cx="50" cy="50" rx="45" ry="18"/><ellipse class="cxa" cx="50" cy="50" rx="18" ry="45" transform="translate(-18 33) rotate(-30.87)"/><ellipse class="cxb" cx="50" cy="50" rx="45" ry="18" transform="translate(-18 66) rotate(-59.13)"/><circle class="cxbb" cx="50" cy="50" r="6"/>',xar_dcbls2:'<path class="cxtxa" d="M 50 90 A 40 40 0 0 1 10 50 M42,82 L50,90 L42,97 M3,58 L10,50 L18,58" />',c_jupyterc:'<g class="cxorange"><path d="M50.3,22.2c16.2,0,30.3,5.7,37.7,14.3C80.5,15.7,57.5,5,36.7,12.5c-11.2,4-20,12.9-24.1,24.1C20,28,34.2,22.2,50.3,22.2z"/><path d="M50.3,78.8c-16.2,0-30.3-5.7-37.7-14.3c7.5,20.8,30.5,31.6,51.3,24.1c11.2-4,20-12.9,24.1-24.1C80.6,73,66.5,78.8,50.3,78.8z"/></g><g class="cxb"><circle cx="77.4" cy="6.4" r="5"/><circle cx="19.4" cy="93.4" r="5"/><circle cx="14.6" cy="13.2" r="3.5"/></g><g class="cxblack"><path d="M0,62.9c1.1,0,2.1-0.4,2.9-1.1c0.7-0.9,1-2.1,1-5.7V43.4h2.9v13.7C7,59.3,6.4,61.5,5,63.3C3.7,64.4,2,65,0.3,65L0,62.9z"/><path d="M24.7,54.4c0,1.6,0,2.9,0,4.1h-2.3v-2.5l0,0c-1,1.8-2.9,2.9-5,2.9c-2.4,0-5.2-1.3-5.2-6.6v-8.9h2.9v8.4c0,2.9,0.9,4.8,3.3,4.8c1.6,0,3-1,3.6-2.5c0.2-0.4,0.3-0.9,0.3-1.4v-9.3h2.9L24.7,54.4z"/><path d="M30.3,48.4c0-1.9,0-3.5,0-4.9h2.5L33,46l0,0c1.1-1.9,3.2-3,5.4-2.9c3.6,0,6.4,3.1,6.4,7.7c0,5.4-3.3,8.1-6.8,8.1c-1.9,0.1-3.6-0.8-4.7-2.4l0,0v8.2h-2.8V48.4z M33,52.4c0,0.4,0,0.8,0.1,1.1c0.5,1.9,2.1,3.2,4,3.2c2.9,0,4.6-2.4,4.6-5.7c0-3-1.6-5.7-4.5-5.7c-2,0-3.7,1.4-4.1,3.4C33.1,49,33,49.4,33,49.8L33,52.4z"/><path d="M49.8,43.4l3.3,8.9c0.3,1,0.7,2.2,0.9,3.1l0,0c0.3-0.9,0.6-2.1,0.9-3.1l3-8.8h2.9l-4.1,10.8c-0.9,3.5-2.7,6.7-5.2,9.4c-0.9,0.9-2.1,1.5-3.4,1.8l-0.7-2.3c0.9-0.3,1.7-0.7,2.4-1.3c1-0.8,1.8-1.9,2.3-3.1c0.1-0.2,0.2-0.4,0.2-0.7c0-0.2-0.1-0.5-0.2-0.7l-5.6-13.9L49.8,43.4z"/><path d="M68.4,39.1v4.3h3.9v2.1h-3.9v8.1c0,1.9,0.5,2.9,2,2.9c0.5,0,1.1-0.1,1.6-0.2v2.1c-0.8,0.3-1.6,0.4-2.4,0.4c-1.1,0-2.1-0.4-2.9-1.2c-0.7-1.1-1.1-2.5-0.9-3.9v-8.2h-2.3v-2.1h2.3v-3.6L68.4,39.1z"/><path d="M77.6,51.5c-0.2,2.7,1.7,5,4.4,5.2c0.3,0,0.5,0,0.8,0c1.4,0,2.8-0.2,4.2-0.8l0.5,2c-1.6,0.7-3.3,1-5,0.9c-3.8,0.3-7.2-2.7-7.4-6.5c0-0.4,0-0.7,0-1.1c-0.4-4,2.6-7.6,6.6-8c0.2,0,0.3,0,0.5,0c3.5,0.1,6.3,3,6.2,6.6c0,0.2,0,0.4,0,0.5c0,0.4,0,0.9,0,1.3L77.6,51.5z M85.6,49.5c0.3-2.1-1.2-4.1-3.3-4.4c-0.2,0-0.3,0-0.5,0c-2.3,0.2-4.2,2.1-4.2,4.4H85.6z"/><path d="M92.6,48.2c0-1.8,0-3.3,0-4.7H95v2.9h0.1c0.6-1.8,2.2-3,4.1-3.1c0.3,0,0.5,0,0.8,0v2.6c-0.3,0-0.6,0-0.9,0c-1.9,0.1-3.5,1.6-3.7,3.5c0,0.4,0,0.8,0,1.3v8h-2.7L92.6,48.2z"/></g>',ch_oe2:'<text class="cxts150" x="10" y="70">e</text><text class="cxtn40" x="55" y="85">2</text>',p_ghtitlesubtitle:'<g class="cxblue"><rect x="50" y="0" width="30" height="2"/><rect x="55" y="10" width="20" height="2"/></g>',g_density:'<g class="cxb"><path d="M 11.9 86 C 11.9 86 23.5 79.2 29.4 56.8 C 35.3 34.4 38.9 2.4 47.3 3.9 C 55.8 5.3 59.3 58.7 63.9 58.7 C 69 58.7 67.8 37.7 76.8 39.5 C 85.7 41.3 96.7 86 96.7 86"/></g><g class="cxa"><line x1="11.9" x2="11.9" y2="100" y1="0"/><line x1="100" y1="86" y2="86" x2="0"/><line y1="62.6" x2="11.9" y2="62.6" x1="0"/><line y1="39.1" x2="11.9" y2="39.1" x1="0"/><line y1="15.6" x2="11.9" y2="15.6" x1="0"/></g>',ch_oz:'<text class="cxti100" x="25" y="70">z</text>',ar_rm:'<path class="cxtxb" d="M71,38 L83,50 L71,62 M83,50 L17,50" />',p_g2axistitley:'<g class="cxblue"><rect x="0" y="25" width="3" height="25"/></g>',c_rrcode:'<g class="cxb"><path d="M 50 15.2 C 23.4 15.2 1.8 30.7 1.8 50 C 1.8 69.2 23.4 84.8 50 84.8 C 76.6 84.8 98.1 69.2 98.1 50 C 98.1 30.7 76.6 15.2 50 15.2 Z M 56 73.5 C 36.3 73.5 20.2 62.9 20.2 50.1 C 20.2 37.3 36.3 26.7 56 26.7 C 75.8 26.7 91.9 37.2 91.9 50.1 C 91.9 63 75.9 73.5 56 73.5 Z"/></g><g class="cxaw"><path d="M 80.6 73.4 C 85.8 72.1 89.2 65.9 88.1 59.5 C 87.2 54 83.2 50 78.6 50 L 53.8 50 L 53.8 89 L 64.8 89 L 64.8 73.7 L 69.6 73.7 L 77.8 89 L 88.8 89 L 80.6 73.4 Z M 74 66.4 L 64.3 66.4 L 64.3 57.3 L 74 57.3 C 76.2 57.3 78 59.1 78 61.3 C 78 61.4 78 61.4 78 61.5 C 78.4 63.8 76.9 66 74.6 66.5 C 74.5 66.5 74.3 66.5 74 66.4 Z"/><path d="M 38.7 34.4 C 43.9 33.1 47.3 26.9 46.2 20.5 C 45.3 15 41.3 11 36.7 11 L 11.9 11 L 11.9 50 L 22.9 50 L 22.9 34.7 L 27.7 34.7 L 35.9 50 L 46.9 50 L 38.7 34.4 Z M 32.1 27.4 L 22.4 27.4 L 22.4 18.3 L 32.1 18.3 C 34.3 18.3 36.1 20.1 36.1 22.3 C 36.1 22.4 36.1 22.4 36.1 22.5 C 36.5 24.8 35 27 32.7 27.5 C 32.6 27.5 32.4 27.5 32.1 27.4 Z"/></g><g class="cxaa"><text class="cxtn50" x="2" y="-60" transform="rotate(90)">&#8963;</text><text class="cxtn50" x="-42" y="90" transform="rotate(-90)">&#8963;</text></g>',a_alignbottom:'<g class="cxb"><rect x="2" y="40" width="38" height="45" rx="5" /><rect x="52" y="10" width="38" height="75" rx="5" /></g><g class="cxa"><line x1="1" y1="97" x2="99" y2="97" /></g>',a_distributehor:'<g class="cxb"><rect x="25" y="10" width="50" height="36" rx="5" /><rect x="5" y="54" width="90" height="36" rx="5" /></g><g class="cxa"><line x1="50" y1="1" x2="50" y2="99" /></g>',wp_userinterface:'<g class="cxb"><line x1="3.4" y1="16.2" x2="58.1" y2="16.2"/><line x1="9.4" y1="9.6" x2="13.5" y2="9.6"/><line x1="18.1" y1="9.6" x2="22.2" y2="9.6"/><polyline points="11.4 42.2 27 31.1 36.5 39.5 48.8 27.7"/><line x1="41.8" y1="57" x2="96.6" y2="57"/><line x1="48" y1="50.4" x2="52" y2="50.4"/><line x1="56.6" y1="50.4" x2="60.8" y2="50.4"/><line x1="57.6" y1="84.1" x2="57.6" y2="78.4"/><line x1="69.2" y1="84.1" x2="69.2" y2="73.6"/><line x1="80.9" y1="84.1" x2="80.9" y2="69.4"/></g><g class="cxa"><polyline points="41.8 57 3.4 57 3.4 2.3 58.1 2.3 58.1 43"/><rect x="41.9" y="43" width="54.8" height="54.8"/></g>',g_histogram:'<g class="cxb"><rect x="21.2" y="44.8" width="11.8" height="41.2"/><rect x="33" y="27.4" width="11.8" height="58.6"/><rect x="44.9" y="12.7" width="11.8" height="73.3"/><rect x="56.7" y="26" width="11.8" height="60"/><rect x="68.5" y="49.3" width="11.8" height="36.7"/><rect x="80.3" y="65.4" width="11.8" height="20.6"/></g><g class="cxa"><line x1="11.9" x2="11.9" y2="100" y1="0"/><line x1="100" y1="86" y2="86" x2="0"/><line y1="62.6" x2="11.9" y2="62.6" x1="0"/><line y1="39.1" x2="11.9" y2="39.1" x1="0"/><line y1="15.6" x2="11.9" y2="15.6" x1="0"/><line x1="35.4" y1="100" x2="35.4" y2="86"/><line x1="58.9" y1="100" x2="58.9" y2="86"/><line x1="82.5" y1="100" x2="82.5" y2="86"/></g>',c_rrc:'<path fill="url(\'#rr-grad\')" d="M 50 16 C 22.4 16 0 32.1 0 52.1 C 0 72.1 22.4 88.2 50 88.2 C 77.6 88.2 100 72.1 100 52.1 C 100 32.1 77.6 16 50 16 Z M 56.3 76.5 C 35.8 76.5 19.1 65.5 19.1 52.2 C 19.1 38.9 35.8 27.9 56.3 27.9 C 76.8 27.9 93.5 38.8 93.5 52.2 C 93.5 65.6 76.9 76.5 56.3 76.5 Z"/><path class="clr" d="M 80.6 73.4 C 85.8 72.1 89.2 65.9 88.1 59.5 C 87.2 54 83.2 50 78.6 50 L 53.8 50 L 53.8 89 L 64.8 89 L 64.8 73.7 L 69.6 73.7 L 77.8 89 L 88.8 89 L 80.6 73.4 Z M 74 66.4 L 64.3 66.4 L 64.3 57.3 L 74 57.3 C 76.2 57.3 78 59.1 78 61.3 C 78 61.4 78 61.4 78 61.5 C 78.4 63.8 76.9 66 74.6 66.5 C 74.5 66.5 74.3 66.5 74 66.4 Z"/><path class="clr" d="M 38.7 34.4 C 43.9 33.1 47.3 26.9 46.2 20.5 C 45.3 15 41.3 11 36.7 11 L 11.9 11 L 11.9 50 L 22.9 50 L 22.9 34.7 L 27.7 34.7 L 35.9 50 L 46.9 50 L 38.7 34.4 Z M 32.1 27.4 L 22.4 27.4 L 22.4 18.3 L 32.1 18.3 C 34.3 18.3 36.1 20.1 36.1 22.3 C 36.1 22.4 36.1 22.4 36.1 22.5 C 36.5 24.8 35 27 32.7 27.5 C 32.6 27.5 32.4 27.5 32.1 27.4 Z"/>',dp_binned:'<g class="cxb"><circle cx="3" cy="3" r="2.5" /><circle cx="3" cy="18" r="2.5" /><circle cx="3" cy="33" r="2.5" /><circle cx="3" cy="50" r="2.5" /><circle cx="3" cy="65" r="2.5" /><circle cx="3" cy="80" r="2.5" /><circle cx="3" cy="97" r="2.5" /><circle cx="86.5" cy="3" r="2.5" /><circle cx="83" cy="18" r="2.5" /><circle cx="90" cy="18" r="2.5" /><circle cx="79.5" cy="33" r="2.5" /><circle cx="86.5" cy="33" r="2.5" /><circle cx="93.5" cy="33" r="2.5" /><circle cx="76" cy="50" r="2.5" /><circle cx="83" cy="50" r="2.5" /><circle cx="90" cy="50" r="2.5" /><circle cx="97" cy="50" r="2.5" /><circle cx="79.5" cy="65" r="2.5" /><circle cx="86.5" cy="65" r="2.5" /><circle cx="93.5" cy="65" r="2.5" /><circle cx="83" cy="80" r="2.5" /><circle cx="90" cy="80" r="2.5" /><circle cx="86.5" cy="97" r="2.5" /></g><path class="cxtxa" d="M50,44 L58,52 L50,60 M34,44 L26,52 L34,60 M58,52 L26,52" />',tx_format:'<g class="cxb"><circle cx="60" cy="49.7" r="12.3"/><path d="M59.1,77.5c2,0.1,4-0.1,6-0.5l6,8.4l10.8-5.2L79,70c1.4-1.3,2.6-2.7,3.7-4.3l10.5,1.7l3.9-11.3L87.8,51c0.1-1.9,0-3.8-0.4-5.7l8.5-6.2l-5.2-10.8l-9.9,2.9c-1.3-1.5-2.8-2.9-4.4-4.1l1.6-10.1l-11.3-3.9l-4.8,8.6c-2.2-0.2-4.3-0.1-6.5,0.2l-5.7-7.8l-10.8,5.2"/></g><g class="cxaa"><path d="M47,67.5H20.2l-3.4,7.4c-0.9,2-1.4,4.1-1.5,6.3c-0.1,1.9,0.9,3.8,2.6,4.7c2.4,0.9,4.9,1.3,7.5,1.3v2.1H0v-2.1c2.6-0.3,4.9-1.5,6.7-3.4c2.8-3.5,5.1-7.5,6.7-11.7l27.1-60.8h1.1L69,73.9c1.5,4.1,3.7,7.9,6.5,11.2c1.5,1.2,3.4,1.9,5.4,2v2.1H43.9v-2.1h1.5c2.2,0.2,4.3-0.2,6.2-1.2c0.8-0.6,1.3-1.6,1.2-2.6c0-0.7-0.1-1.4-0.3-2.1c0-0.3-0.6-1.7-1.7-4.2L47,67.5zM45.1,63.4L33.6,37.1L22,63.4L45.1,63.4z"/></g>',g_line:'<g class="cxa"><line x1="11.9" x2="11.9" y2="100" y1="0"/><line x1="100" y1="86" y2="86" x2="0"/><line y1="62.6" x2="11.9" y2="62.6" x1="0"/><line y1="39.1" x2="11.9" y2="39.1" x1="0"/><line y1="15.6" x2="11.9" y2="15.6" x1="0"/></g><g class="cxb"><polyline points="24.3 73.9 54 42.6 62.7 50.7 90.2 19.4"/></g>',p_g2axestitles:'<g class="cxblue"><rect x="40" y="85" width="30" height="2"/><rect x="0" y="25" width="3" height="25"/></g>',b_windowbg2:'<polyline class="cxaw" points="65,45 65,30 48,30 48,15 15,15 15,83 68,83 45,65 65,45" />',cr_normal:'<g class="cxa"><path d="M1,99 C45,67 33,0 50,3 66,0 67,90 99,99" /></g>',g_nonlinearfit:'<g class="cxb"><path d="M 11.9 73.2 L 23.4 73.2 C 36.2 73.2 47.9 65.8 53.5 54.3 L 58.8 43.4 C 64.4 31.8 76.1 24.5 89 24.5 L 100 24.5"/></g><g class="cxa"><line x1="11.9" x2="11.9" y2="100" y1="0"/><line x1="100" y1="86" y2="86" x2="0"/><line y1="62.5" x2="11.9" y2="62.5" x1="0"/><line y1="39.1" x2="11.9" y2="39.1" x1="0"/><line y1="15.6" x2="11.9" y2="15.6" x1="0"/><line x1="32.5" y1="100" x2="32.5" y2="86"/><line x1="57.7" y1="100" x2="57.7" y2="86"/><line x1="82.8" y1="100" x2="82.8" y2="86"/></g><g class="cxaa"><circle cx="30.5" cy="61.5" r="4.6"/><circle cx="73.2" cy="16.9" r="4.6"/><circle cx="92.4" cy="33.3" r="4.6"/><circle cx="60.6" cy="63.5" r="4.6"/><circle cx="51.4" cy="34.5" r="4.6"/></g>',ch_olog:'<text class="cxts100" x="1" y="70">log</text>',p_g3axes:'<g class="cxblue"><line x1="25" y1="65" x2="95" y2="65" /><line x1="25" y1="65" x2="25" y2="75" /><line x1="45" y1="65" x2="45" y2="75" /><line x1="65" y1="65" x2="65" y2="75" /><line x1="85" y1="65" x2="85" y2="75" /><line x1="25" y1="15" x2="25" y2="75" /><line x1="15" y1="25" x2="25" y2="25" /><line x1="15" y1="45" x2="25" y2="45" /><line x1="15" y1="65" x2="25" y2="65" /><line x1="25" y1="65" x2="75" y2="25" /><line x1="45" y1="50" x2="45" y2="60" /><line x1="65" y1="33" x2="65" y2="43" /></g>',ch_lc:'<text class="cxtb100" x="15" y="85">C</text>',sl_check:'<text class="cxtn120" x="10" y="90">&#10003;</text>',bx_medianw:'<g class="cxb"><rect x="30" y="20" width="40" height="60" /><line x1="30" y1="2" x2="70" y2="2" /><line x1="50" y1="2" x2="50" y2="20" /><line x1="30" y1="98" x2="70" y2="98" /><line x1="50" y1="98" x2="50" y2="80" /></g><g class="cxaa"><rect x="31" y="45" width="38" height="10" /></g>',sl_lightbulbon:'<g class="cxa"><path d="M75.4,50.1C75.4,36,64,24.7,50,24.7S24.6,36.1,24.6,50.1c0,7.4,3.2,14.3,8.7,19.2c3.3,2.9,5.3,7.1,5.3,11.5h22.7c0-4.5,2-8.8,5.5-11.7C72.2,64.3,75.4,57.3,75.4,50.1z"/><path d="M38.7,80.8h22.9l0,0v8.6c0,4.5-3.7,8.2-8.2,8.2l0,0h-6.5c-4.5,0-8.2-3.7-8.2-8.2l0,0L38.7,80.8L38.7,80.8z"/></g><g class="cxb"><line x1="50" y1="0" x2="50" y2="14.4"/><line x1="99.3" y1="49.3" x2="84.9" y2="49.3"/><line x1="0.7" y1="49.3" x2="15.1" y2="49.3"/><line x1="84.9" y1="14.4" x2="74.6" y2="24.6"/><line x1="15.1" y1="84.2" x2="25.4" y2="73.9"/><line x1="84.9" y1="84.2" x2="74.6" y2="73.9"/><line x1="15.1" y1="14.4" x2="25.4" y2="24.6"/></g>',h_hspace:'<g class="cxwhite"><line x1="10" y1="24" x2="98" y2="24" /><line x1="10" y1="46" x2="98" y2="46" /><line x1="10" y1="68" x2="98" y2="68" /><line x1="40" y1="2" x2="40" y2="90" /><line x1="70" y1="2" x2="70" y2="90" /></g>',ps_right:'<path class="cxtxb" d="M62,42 L70,50 L62,58 M70,50 L30,50" /><g class="cxa"><rect x="78" y="40" width="20" height="20" rx="2" /></g>',c_jsfiddle:'<path class="cxa" d="M 86.2 45.6 C 86.2 45.5 86.2 45.3 86.2 45.2 C 86.2 24.9 64.2 12.1 46.6 22.3 C 43 24.4 39.9 27.3 37.6 30.9 C 27.5 28.5 17.4 34.9 15.2 45.1 C 1.6 49.3 -2.3 66.7 8.2 76.4 C 11.6 79.6 16.1 81.3 20.8 81.3 L 79.3 81.3 C 93.5 81.3 102.4 65.8 95.3 53.5 C 93.2 49.9 90 47.2 86.2 45.6 Z" /><g class="cxb"><path d="M 47.6 61.4 C 45 64 41.5 66.7 38.6 66.7 C 30.7 67.1 25.4 58.9 29 51.9 C 30.8 48.3 34.6 46.2 38.6 46.4 C 44.2 46.4 51.9 56.6 51.9 56.6" /><path d="M 51.9 56.6 C 51.9 56.6 59.7 66.7 65.3 66.7 C 73.2 66.3 77.6 57.6 73.4 51 C 71.6 48.3 68.6 46.5 65.3 46.4 C 63.2 46.6 61.2 47.5 59.6 49 C 58.4 49.9 57.2 50.9 56.2 51.9" /></g>',p_gh:'<g class="cxc"><rect x="50" y="0" width="30" height="2"/><rect x="55" y="10" width="20" height="2"/><rect x="30" y="20" width="68" height="45"/><line x1="30" y1="44" x2="98" y2="44" /><line x1="64" y1="20" x2="64" y2="65" /><rect x="0" y="25" width="3" height="30"/><rect x="15" y="25" width="3" height="10"/><rect x="15" y="45" width="3" height="10"/><rect x="40" y="75" width="15" height="2"/><rect x="74" y="75" width="15" height="2"/><rect x="50" y="85" width="30" height="2"/><rect x="75" y="95" width="20" height="2"/></g>',p_g1axistitle1:'<g class="cxblue"><rect x="0" y="25" width="3" height="25"/></g>',cl_verticalbg:'<g class="cxcc"><rect x="0" y="0" width="33" height="100" /><rect x="67" y="0" width="33" height="100" /></g>',v_play:'<circle class="cxb" cx="50" cy="50" r="48" /><text class="cxtn70" x="25" y="77">&#9654;</text>',sp_spacing:'<path class="cxtxa" d="M86,2 L98,14 L86,26 M14,2 L2,14 L14,26 M98,14 2,14" /><g class="cxb"><rect x="2" y="36" width="18" height="62" /><rect x="27" y="36" width="18" height="62" /><rect x="52" y="36" width="18" height="62" /><rect x="77" y="36" width="18" height="62" /></g>',sp_thicker:'<path class="cxtxa" d="M56,42 L62,50 L56,58 M62,50 L22,50" /><g class="cxa"><rect x="72" y="2" width="26" height="96" /></g><g class="cxb"><rect x="2" y="2" width="10" height="96" /></g>',p_cg2datadenhist:'<g class="cxb"><line x1="55" y1="6" x2="55" y2="88" /><line x1="47" y1="21" x2="47" y2="88" /><line x1="39" y1="58" x2="39" y2="88" /><line x1="31" y1="76" x2="31" y2="88" /><line x1="63" y1="21" x2="63" y2="88" /><line x1="71" y1="58" x2="71" y2="88" /><line x1="78" y1="76" x2="78" y2="88" /></g>',p_g3axisy:'<g class="cxblue"><line x1="25" y1="15" x2="25" y2="75" /><line x1="15" y1="25" x2="25" y2="25" /><line x1="15" y1="45" x2="25" y2="45" /><line x1="15" y1="65" x2="25" y2="65" /></g>',ch_lf:'<text class="cxtb100" x="15" y="85">F</text>',xar_dctrs2:'<path class="cxtxa" d="M 50 10 A 40 40 0 0 1 90 50 M58,3 L50,10 L58,18 M97,42 L90,50 L82,42" />',sp_thinner:'<path class="cxtxa" d="M30,42 L22,50 L30,58 M62,50 L22,50" /><g class="cxa"><rect x="2" y="2" width="10" height="96" /></g><g class="cxb"><rect x="72" y="2" width="26" height="96" /></g>',g_meter:'<g class="cxa"><path d="M 23.6 30.4 C 36.7 13.6 62 13.2 75.7 29.5 L 87.3 21.9 C 67.9 -3 30.2 -2.3 11.7 23.2 Z"/><path d="M 91.7 28.4 L 80 36.1 C 87.1 50.3 83.3 67.5 70.8 77.3 L 70.8 93.6 C 95.1 81.8 104.6 52.1 91.7 28.4 Z"/><line x1="44.3" y1="33.5" x2="44.3" y2="40.6"/><line x1="54.7" y1="33.5" x2="54.7" y2="40.6"/><polyline points="40.3 80.2 44.6 80.2 44.6 96.3"/><rect x="51.6" y="80.2" width="8.2" height="14.1"/></g><g class="cxb"><path d="M 28.2 76.5 C 16.8 66.8 13.3 50.7 19.5 37.1 L 7.6 29.9 C -4.1 53 5.1 81.3 28.2 93.2 Z"/><circle cx="49.5" cy="65.4" r="7.3"/><line x1="54" y1="59.7" x2="70.9" y2="37.8"/></g>',dps_width:'<g class="cxa"><rect x="2" y="2" width="96" height="96" /></g><path class="cxtxb" d="M71,38 L83,50 L71,62 M29,38 L17,50 L29,62 M83,50 L17,50" />',g_dashboard:'<g class="cxb"><path d="M 40.2 73.9 C 40.2 66.3 48.3 61.6 54.8 65.4 C 57.9 67.1 59.7 70.4 59.7 73.9"/><line x1="50" y1="33.3" x2="50" y2="41.5"/><line x1="72.3" y1="40" x2="67.8" y2="46.8"/><line x1="86.6" y1="56.5" x2="79.2" y2="59.9"/><line x1="27.6" y1="40" x2="32.1" y2="46.8"/><line x1="13.3" y1="56.5" x2="20.7" y2="59.9"/><line x1="47.1" y1="64.1" x2="41.2" y2="43.4"/></g><g class="cxa"><path d="M 50 26.2 C 23.6 26.2 2.3 47.5 2.3 73.9 L 97.7 73.9 C 97.7 47.5 76.3 26.2 50 26.2 Z"/></g>',c_ggplot:'<polygon class="cl20" points="8.5,26 8.5,74 50,98 91.6,74 91.6,26 50,2"/><rect x="12.7" y="23.8" class="cl21" width="75.7" height="0.8"/><rect x="9.6" y="41.9" class="cl21" width="82" height="0.8"/><rect x="9.6" y="60" class="cl21" width="82" height="0.8"/><rect x="20.2" y="79" class="cl21" width="60.6" height="0.8"/><rect x="31.2" y="13" class="cl21" width="0.8" height="74.8"/><rect x="12.8" y="23" class="cl21" width="0.8" height="54.8"/><rect x="67.7" y="13" class="cl21" width="0.8" height="74.8"/><rect x="86.1" y="23" class="cl21" width="0.8" height="54.8"/><rect x="49.5" y="2.3" class="cl21" width="0.8" height="96.1"/><polygon class="cl22" points="12.7,52 11,49.3 45.7,26.8 55,41.5 85.7,22.4 87.4,25.2 54,45.8 44.7,31.2 \t\t"/><path class="cl23" d="M82.8,20.3c-2.1,1.5-2.6,4.4-1.1,6.5s4.4,2.6,6.5,1.1c0.9-0.7,1.6-1.7,1.9-2.8C88.2,24,85,21.8,82.8,20.3z"/><circle class="cl24" cx="11.8" cy="51.4" r="4.7"/><circle class="cl25" cx="27.6" cy="39.6" r="4.7"/><circle class="cl26" cx="44.9" cy="29.2" r="4.7"/><circle class="cl27" cx="54.8" cy="43.6" r="4.7"/><circle class="cl28" cx="70.9" cy="33.2" r="4.7"/><path class="cl22" d="M50,3.7l40.1,23.2v46.4L50,96.3L9.9,73.2V26.8L50,3.7 M50,0L6.7,25v50L50,100l43.3-25V25L50,0z"/><path class="cl22" d="M29.9,60.5c0,0.7,0,1.5,0,2.6v5.5c0.2,1.6-0.2,3.1-1.2,4.4c-0.9,0.8-2,1.2-3.2,1.1c-1,0-2-0.4-2.9-1l0.4-1.3c0.7,0.5,1.6,0.8,2.5,0.8c1.6,0,2.7-0.9,2.7-3.2v-1.1l0,0c-0.5,1-1.6,1.6-2.7,1.6c-2.1,0-3.6-2-3.6-4.7c0-3.2,1.9-5.1,3.8-5.1c1.2,0,2.2,0.6,2.7,1.7l0,0v-1.5L29.9,60.5z M28.3,64.3c0-0.3,0-0.5,0-0.8c-0.2-1-1.1-1.8-2.2-1.8c-1.5,0-2.5,1.4-2.5,3.6s0.9,3.4,2.5,3.4c1-0.1,1.9-0.8,2.1-1.8c0-0.3,0-0.6,0-0.9L28.3,64.3z"/><path class="cl22" d="M39.7,60.5c0,0.7,0,1.5,0,2.6v5.5c0.2,1.5-0.2,3-1.1,4.2c-0.9,0.8-2,1.2-3.2,1.1c-1,0-2-0.3-2.9-0.8l0.4-1.3c0.7,0.5,1.6,0.8,2.5,0.8c1.6,0,2.8-0.9,2.8-3.2v-1.1l0,0c-0.6,1-1.6,1.6-2.8,1.7c-2.1,0-3.6-2-3.6-4.7c0-3.2,1.9-5.1,3.8-5.1c1.1,0,2.2,0.6,2.6,1.7l0,0v-1.5L39.7,60.5z M38.1,64.3c0-0.3,0-0.5,0-0.8c-0.2-1-1.1-1.8-2.2-1.8c-1.5,0-2.5,1.4-2.5,3.6s0.8,3.4,2.5,3.4c1-0.1,1.9-0.8,2-1.8c0-0.3,0-0.6,0-0.9L38.1,64.3z"/><path class="cl22" d="M42.1,63.5c0-1.2,0-2.2,0-3.2h1.4v1.7l0,0c0.5-1.2,1.7-1.9,3-1.9c2.1,0,3.6,2,3.6,4.9c0,3.4-1.8,5.2-3.9,5.2c-1.1,0-2.1-0.5-2.6-1.5l0,0v5.2h-1.5L42.1,63.5z M43.6,66c0,0.2,0,0.5,0,0.7c0.2,1.1,1.2,2,2.3,2c1.6,0,2.6-1.5,2.6-3.7s-0.9-3.6-2.5-3.6c-1.2,0.1-2.1,1-2.3,2.2c0,0.2,0,0.5,0,0.7L43.6,66z"/><path class="cl22" d="M52.1,55.9h1.5V70h-1.5V55.9z"/><path class="cl22" d="M64,65c0,3.5-2.2,5.1-4.2,5.1s-4.1-1.9-4.1-4.9c0-3,1.8-5.1,4.2-5.1S64,62.1,64,65z M57.3,65c0,2.1,1.1,3.7,2.6,3.7s2.6-1.6,2.6-3.7c0-1.6-0.7-3.7-2.5-3.7S57.2,63.3,57.3,65L57.3,65z"/><path class="cl22" d="M67.8,57.6v2.9H70v1.3h-2.2v5c0,1.2,0.3,1.8,1.1,1.8c0.3,0,0.6,0,0.9,0V70c-0.4,0.2-0.9,0.2-1.4,0.2c-0.6,0-1.2-0.2-1.7-0.7c-0.5-0.8-0.7-1.7-0.5-2.6v-5.2h-1.3v-1.2h1.3v-2.3L67.8,57.6z"/><path class="cl22" d="M71.2,70V69l1.2-1.3c2.9-3.2,4.2-4.8,4.2-6.7c0-1.3-0.5-2.5-2.3-2.5c-0.9,0-1.8,0.4-2.4,1.1l-0.5-1.2c0.9-0.8,2-1.3,3.2-1.3c1.9-0.1,3.5,1.4,3.6,3.3c0,0.1,0,0.2,0,0.2c0,2.4-1.5,4.3-3.9,6.9l-0.9,0.9l0,0h5.2V70H71.2z"/>',ch_ocode:'<text class="cxtn100" x="10" y="-20" transform="rotate(90)">&#8963;</text><text class="cxtn100" x="-90" y="80" transform="rotate(-90)">&#8963;</text>',g_barline:'<g class="cxb"> <rect x="23.2" y="56" width="15.1" height="30.1" /><rect x="50" y="42.5" width="15.1" height="43.6"/><rect x="76.7" y="30.4" width="15.1" height="55.6" /></g><g class="cxa"><line x1="11.9" y1="0.5" x2="11.9" y2="100" /><line x1="99.4" y1="86.1" y2="86.1" x2="0"/><line y1="62.7" x2="11.9" y2="62.7" x1="0"/><line y1="39.4" x2="11.9" y2="39.4" x1="0"/><line y1="16.1" x2="11.9" y2="16.1" x1="0"/><polyline points="23.2 42.5 49.7 19.6 59.5 28.6 89.1 0.5"/></g>',ar_bs:'<path class="cxtxb" d="M42,62 L50,70 L58,62 M50,70 L50,30" />',at_shp:'<g class="cxa"><polyline points="48,40 65,20 98,75 65,75" /></g><g class="cxb"><circle cx="30" cy="70" r="27" /><polyline points="2,48 2,2 50,2 50,25" /></g>',wp_marker:'<g class="cxa"><path d="M90.7,42.2C90.7,64.7,50,96.8,50,96.8S9.3,64.7,9.3,42.2C9.9,19.8,28.6,2,51,2.6c21.6,0.6,39,18,39.6,39.6H90.7z"/></g><g class="cxb"><circle cx="49.9" cy="34.5" r="12.7"/></g>',g_tree:'<g class="cxb"><path d="M 40.5 25.6 L 35.6 25.6 C 31.2 25.5 27.1 27.8 24.8 31.6 L 12.4 51.4 L 23.2 68.5 C 25.5 72.2 29.5 74.4 33.8 74.4 L 40.5 74.4"/><path d="M 50.3 25.6 L 57.7 25.6 C 59.5 25.6 61.2 24.6 62.3 23.1 L 62.3 23.1 C 66.1 17.4 72.5 14 79.4 13.9 L 88.2 13.9"/><path d="M 50.3 25.6 L 57.7 25.6 C 59.5 25.6 61.2 26.5 62.3 28 L 62.3 28 C 66.1 33.7 72.5 37.1 79.4 37.2 L 88.2 37.2"/><path d="M 50.3 74.5 L 57.7 74.5 C 59.5 74.5 61.2 73.5 62.3 72 L 62.3 72 C 66.1 66.3 72.5 62.9 79.4 62.9 L 88.2 62.9"/><path d="M 50.3 74.5 L 57.7 74.5 C 59.5 74.5 61.2 75.4 62.3 76.9 L 62.3 76.9 C 66.1 82.6 72.5 86 79.4 86.1 L 88.2 86.1"/></g><g class="cxa"><circle cx="6.8" cy="51.4" r="4.9"/><circle cx="45.4" cy="25.6" r="4.9"/><circle cx="45.4" cy="74.5" r="4.9"/><circle cx="93.2" cy="13.9" r="4.9"/><circle cx="93.2" cy="37.3" r="4.9"/><circle cx="93.2" cy="62.7" r="4.9"/><circle cx="93.2" cy="86.2" r="4.9"/></g>',i_right:'<rect fill="url(\'#l-grad\')" x="50" y="25" width="48" height="50"/>',c_economist:'<path class="cl57" d="M3.5,50.1c0-13,0-25.9,0-38.9C3.8,4.8,9.3-0.3,15.8,0c0.1,0,0.3,0,0.4,0h68.1c6-0.2,11.2,4.2,12,10.1c0.5,26,0,52,0.2,78c0.2,6.3-4.7,11.5-10.9,11.8H14C8.3,99.6,3.8,95,3.5,89.3V50.1z M61.2,59.4l0.2-0.2c-1.3-0.4-1-1.4-1.1-2.3c-0.1-0.9-0.1-1.9,0-2.8c0-1.5,2.2-2.9,2.7-0.9c0.5,1.9,0.9,4.3-0.6,6.2h3.7c-1.6-1.1-0.7-4.1-0.8-5.9c0.1-0.7,0.7-1.3,1.5-1.2s1.3,0.7,1.2,1.5c0,0.9,0,1.8,0,2.6c0,0.9,0.4,2.3-0.9,3h4.1l0.2-0.2c-2-0.3-1.4-1.8-1.5-2.9c0.3-4.2-0.9-7-5.2-3.9c-0.9-2.1-3.2-1.1-4.7-0.4v-0.9l-3,0.4v0.3c1.6,0,1.4,1.3,1.4,2.3v3.3c0,0.9,0,1.8-1.2,1.9c0,0,0,0,0,0.3L61.2,59.4z M8.3,59.1c0.2,0.3,0.3,0.3,0.3,0.3H16c0.7,0,0.8-2.3,0.5-2.8c-0.2,0.2-0.4,0.3-0.5,0.4c-0.5,1.3-1.9,1.9-3.2,1.4c-0.1,0-0.1,0-0.2-0.1c-0.9-0.9-0.2-3.2-0.4-4.6c1.1,0,2.7-0.5,2.9,1.1c0,0,0.2,0.2,0.3,0.3c0.4-1.2,0.4-2.5,0-3.6c-0.8,1.5-1.6,1.6-3.4,1.4v-4.3c1.2,0,2.8-0.5,3,1.3c1,0.9,0.6-1.6,0.7-2.1H8.3c0.2,0.2,0.3,0.4,0.3,0.4c1.2,0,1.3,0.8,1.3,1.8c0,2.4,0,4.7,0,7.1C10,58.6,9.7,58.9,8.3,59.1z M45.9,59.4l0.2-0.2c-1.8-0.2-1.4-1.5-1.4-2.5c0.3-3.9-0.7-7.4-5-4.4v-1.1l-3,0.4c0,0.2,0.2,0.3,0.2,0.3c1,0,1.1,0.8,1.1,1.6c0,1.3,0,2.6,0,3.9c0,0.8,0,1.6-1.1,1.7c0,0.1,0,0.2,0,0.3h4.3c-1.7-0.9-0.9-3.4-1-5.9c0.2-0.8,0.9-1.3,1.7-1.1c0.7,0.1,1.1,0.7,1.1,1.4c0.1,0.8,0.1,1.6,0,2.4c0,1.1,0.5,2.4-0.9,3.1H45.9z M55.4,45.1c-1.5-0.5-1-1.7-1.1-2.6c0.3-3.4-0.6-6.3-4.5-3.9v-4.1L47,34.7L46.8,35c1.6,0,1.3,1.2,1.3,2.1c0,2,0,4,0,6c0,0.8,0,1.6-1,1.8v0.2h3.7c-0.4-0.4-0.9-0.6-0.9-0.9c-0.1-1.5-0.1-3,0-4.5c0-1.3,2.1-1.2,2.4,0c0,1.8,0.8,3.8-0.6,5.5L55.4,45.1z M51.3,59.7c5.4,0.2,5.3-8.6,0-8.5C46,51.2,45.9,59.9,51.3,59.7z M30.5,59.7c5.4,0.2,5.3-8.7,0-8.5S25.3,59.9,30.5,59.7z M43.3,35.4c1.1,0.2,2.5-0.4,2.8,1.3c0.1,0.1,0.2,0.2,0.3,0.2c0.5-0.3,0-1,0.2-1.5c0.2-0.5-0.2-0.9-0.9-0.9H38c0,0.9-0.3,1.7,0.2,2.4c0.3-0.4,0.6-1.2,1-1.3c0.7-0.1,1.4-0.2,2.1-0.2c0,2.6,0,5.1,0,7.5c0,0.9,0,1.7-1.2,1.8c0,0,0,0,0,0.3h4.6c-0.4-0.8-1.2,0-1.2-1.4L43.3,35.4z M58.1,41.1h4c0.3-0.1,0.5-0.2,0.6-0.5c0-1.3-0.8-2.5-2.1-2.8c-2-0.4-3.9,0.9-4.3,2.9c-0.1,0.7-0.1,1.3,0.1,2c0.4,1.8,2.3,2.9,4.1,2.5c0.9-0.2,1.7-0.8,2.1-1.6c-2.9,1.6-4.1,0.9-4.4-2.4H58.1z M84.1,52.4c-0.4-1.2-1.5-1.2-2.6-1.2c-1.3,0-2.5,1-2.5,2.4c0,0.9,0.5,1.8,1.3,2.2c0.7,0.8,2.4,1.2,2.1,2.6c-0.2,1.3-2.1,0.9-2.3-0.3c0-0.5-0.4-0.7-0.9-0.5c-0.5,0.2,0,1.7,0.3,1.8c0.8,0.2,1.7,0.3,2.6,0.3c1.3-0.2,2.2-1.4,2-2.8c-0.1-0.6-0.4-1.2-1-1.6c-0.7-0.4-1.3-0.9-1.9-1.4c-0.7-0.8-0.8-1.7,0.5-2c1.3-0.3,1.1,1,1.9,1.4L84.1,52.4z M88.7,52.6c1.9-0.2,1.9-0.2,1.8-1.1h-1.9v-2.1c-0.8,0-0.8,0-0.9,0.5c-0.5,1.7-1.2,1.2-2,2.1c0.3,0.3,0.5,0.5,1,0.5c0,1.7,0,3.4,0,5c0,1.6,3.4,3.1,4.1,1.1c-1.9,0-2.2,0-2.2-1.3c-0.1-1.3,0.2-3.2,0.2-4.8L88.7,52.6z M24.6,53.5c0-0.7,0.3-1.6-0.4-2c-2.5-0.7-5,0-5.5,2.8c-0.2,1-0.1,2.1,0.2,3.1c0.5,1.7,2.2,2.7,3.8,2.2c0.9-0.2,1.6-0.9,2-1.7h-0.2c-1.2,1.1-3.1,1.3-3.6-0.5c-0.5-1.8-0.9-5.2,1.5-5.5c0.8,0,1.1,0.5,1.2,1.2s0.5,0.6,1.1,0.3L24.6,53.5z M72.9,59.4h4.5c0-0.2,0-0.3-0.2-0.4c-0.9,0-1-0.7-1-1.4c0-2.2,0-4.3,0-6.5l-3.4,0.4c2.2,1.1,1.2,3,1.4,5.4c0,1,0,2-1.2,2.3L72.9,59.4z M76.2,48.5c0-1.5-2.4-1.5-2.3,0c0.2,0.6,0.9,0.9,1.5,0.7c0.3-0.1,0.6-0.4,0.7-0.7L76.2,48.5z"/><path class="cl58" d="M61.3,59.4h-4.1c0-0.2,0-0.3,0-0.3c1.2,0,1.2-1,1.2-1.9V54c0-1,0.2-2.1-1.4-2.3v-0.3l3-0.4V52c1.5-0.7,3.8-1.7,4.7,0.4c4.2-3.1,5.5-0.3,5.2,3.9c0,1.1-0.6,2.6,1.5,2.9L71,59.3h-3.8c1.3-0.7,0.8-2,0.9-3c0.1-1,0-1.8,0-2.6c0.1-0.7-0.5-1.4-1.2-1.5c-0.7-0.1-1.4,0.5-1.5,1.2c0,1.9-0.8,4.8,0.8,5.9h-3.8c1.5-2,0.8-4.1,0.6-6.2c-0.2-2.1-2.6-0.5-2.7,0.9c-0.1,0.9-0.1,1.9,0,2.8c0,0.9-0.2,1.9,1.1,2.3L61.3,59.4z"/><path class="cl58" d="M8.3,59.1c1.3-0.3,1.7-0.5,1.7-1.9c0-2.2,0-4.6,0-7.1c0-1,0-1.8-1.3-1.8c0,0,0,0-0.3-0.4H16c0,0.6,0.3,3-0.7,2.1c-0.2-1.8-1.9-1.2-3-1.3v4.3c1.6,0,2.4,0,3.4-1.4c0.4,1.2,0.4,2.5,0,3.6c0,0-0.3-0.2-0.3-0.3c-0.2-1.6-1.8-0.9-2.9-1.1c0.2,1.4-0.5,3.6,0.4,4.6c1.3,0.6,2.7,0,3.3-1.2c0-0.1,0-0.1,0.1-0.2c0-0.2,0.3-0.3,0.5-0.4c0.4,0.5,0.2,2.7-0.5,2.8H8.6C8.6,59.5,8.6,59.4,8.3,59.1z"/><path class="cl58" d="M45.9,59.4h-4c1.4-0.8,0.8-2.1,0.9-3.1c0.1-0.8,0.1-1.6,0-2.4c0-0.8-0.7-1.4-1.5-1.4c-0.7,0-1.3,0.5-1.4,1.1c0,2.4-0.7,5,1,5.9h-4.3c0-0.1,0-0.2,0-0.3c1.1,0,1.1-0.9,1.1-1.7c0-1.3,0-2.6,0-3.9c0-0.8,0-1.5-1.1-1.6c0,0,0,0-0.2-0.3l3-0.4v1.1c4.4-3,5.4,0.4,5,4.4c0,1-0.4,2.3,1.4,2.5L45.9,59.4z"/><path class="cl58" d="M55.4,45.1h-3.6c1.5-1.7,0.7-3.6,0.6-5.5c-0.3-1.2-2.3-1.3-2.4,0c-0.1,1.5-0.1,3,0,4.5c0,0.3,0.5,0.5,0.9,0.9h-3.8v-0.2c1-0.2,1-0.9,1-1.8c0-2,0-4,0-6c0-0.9,0.3-2-1.3-2.1l0.2-0.2l2.9-0.4v4.2c3.9-2.4,4.8,0.5,4.5,3.9C54.4,43.4,54.1,44.6,55.4,45.1z"/><path class="cl58" d="M51.3,59.7c-5.4,0.3-5.2-8.9,0-8.5S56.7,59.8,51.3,59.7z M53,57.6c0.9-1.9-0.6-8.1-3.4-5c-0.7,1.9-0.5,4,0.4,5.7c0.3,0.8,1.1,1.2,1.9,1C52.7,59.1,53.1,58.4,53,57.6z"/><path class="cl58" d="M30.5,59.7c-5.4,0.2-5.3-8.8,0-8.5S36,59.8,30.5,59.7z M28.8,54c-0.4,1.9,0.8,7.3,3.4,4.4c0.8-1.9,0.6-4-0.5-5.7C30.5,51.2,28.9,52.3,28.8,54z"/><path class="cl58" d="M43.4,35.4v8.2c0,1.2,0.9,0.6,1.2,1.4h-4.6v-0.3c1.2,0,1.2-0.9,1.2-1.8c0-2.4,0-4.9,0-7.5c-0.7,0-1.4,0.1-2.1,0.2c-0.4,0-0.7,0.9-1,1.3c-0.6-0.7-0.2-1.5-0.2-2.4h7.9c0.7,0,0.9,0.2,0.9,0.9c-0.1,0.6,0.2,1.2-0.2,1.5c-0.1,0-0.3-0.1-0.3-0.2C45.9,35,44.6,35.6,43.4,35.4z"/><path class="cl58" d="M58.2,41.1c0.2,3.4,1.5,4,4.5,2.4c-0.9,1.6-3,2.2-4.6,1.3c-0.8-0.5-1.4-1.2-1.6-2.1c-0.7-1.9,0.3-4,2.2-4.7c0.6-0.2,1.3-0.3,2-0.1c1.3,0.3,2.2,1.5,2.1,2.8c-0.1,0.3-0.3,0.4-0.6,0.5H58.2z M61.1,40.2c0-2.8-2.9-2.6-2.8,0.2L61.1,40.2z"/><path class="cl58" d="M84.2,52.4l-0.6,0.8c-0.8-0.3-0.9-1.6-1.9-1.4s-1.1,1.2-0.5,2c0.6,0.5,1.2,1,1.9,1.4c1.1,0.8,1.3,2.3,0.5,3.4c-0.4,0.5-1,0.9-1.6,1c-0.9,0-1.7-0.1-2.6-0.3c-0.4,0-0.6-1.6-0.3-1.8s0.8,0,0.9,0.5c0.2,1.2,1.9,1.1,2.3,0.3c0.2-1.7-2.9-2.3-3.4-4.2C78.5,51.1,83.3,50.1,84.2,52.4z"/><path class="cl58" d="M88.8,52.6c0,1.7,0,3.4,0,4.8s0.4,1.4,2.2,1.3c0,0.2,0,0.4-0.2,0.5c-4.8,2.4-4-3.8-4-6.7c-0.5,0-0.7-0.2-1-0.5c0.7-0.9,1.5-0.4,2-2.1c0.2-0.6,0.2-0.6,0.9-0.5v2.1h1.9C90.7,52.3,90.7,52.3,88.8,52.6z"/><path class="cl58" d="M24.8,53.5c-0.6,0.3-0.8,0-0.9-0.4c-0.1-0.4-0.4-1.2-1.2-1.2c-2.4,0.2-2,3.8-1.5,5.5s2.4,1.7,3.6,0.5H25c-0.7,1.6-2.6,2.3-4.1,1.6c-0.8-0.4-1.5-1.1-1.7-2c-0.3-1-0.4-2.1-0.2-3.1c0.5-2.9,3-3.5,5.5-2.8C25.1,51.8,24.7,52.8,24.8,53.5z"/><path class="cl58" d="M72.9,59.4v-0.2c1.3-0.2,1.2-1.3,1.2-2.3c-0.2-2.4,0.8-4.2-1.4-5.4l3.4-0.4c0,2.2,0,4.3,0,6.5c0,0.7,0,1.3,1,1.4c0.2,0,0.2,0,0.2,0.4H72.9z"/><path class="cl58" d="M76.1,48.5c-0.1,0.6-0.7,1-1.3,0.9c-0.5-0.1-0.9-0.5-0.9-0.9C73.8,47,76.2,47,76.1,48.5z"/><path class="cl57" d="M52.7,53.4c0.6,1.5,0.6,3.2,0,4.7c-2.5,3.4-4.3-3.1-3-5.5C50.8,51.1,52.4,51.9,52.7,53.4z"/><path class="cl57" d="M28.9,56.4c-0.3-1.5-0.4-3.8,1.2-4.5c2.7,0,3,4.5,2,6.3C30.5,60.2,29,58.2,28.9,56.4z"/><path class="cl57" d="M61.1,40.2l-2.8,0.2C58.1,37.6,60.9,37.4,61.1,40.2z"/>',sv_disk:'<g class="cxa"><polyline points="98,25 98,98 2,98 2,2 75,2 98,25" /></g><g class="cxb"><rect x="27" y="58" width="50" height="40" /><rect x="32" y="2" width="40" height="30" /><rect x="55" y="12" width="5" height="10" /></g>',p_g3axisz:'<g class="cxblue"><line x1="25" y1="65" x2="75" y2="25" /><line x1="45" y1="50" x2="45" y2="60" /><line x1="65" y1="33" x2="65" y2="43" /></g>',n_edges:'<g class="cxa"><line x1="18.9" y1="15.4" x2="41.7" y2="31.3"/><line x1="21.6" y1="75.8" x2="43.5" y2="53.1"/><line x1="56.7" y1="76.6" x2="55.9" y2="57.1"/><line x1="84.3" y1="60.8" x2="69.5" y2="50.2"/><line x1="78" y1="13.9" x2="66.4" y2="28.2"/></g><g class="cxc"><circle cx="55.3" cy="40.9" r="16.9"/><circle cx="82.3" cy="8.6" r="6.8"/><circle cx="89.9" cy="64.7" r="6.8"/><circle cx="16.9" cy="80.6" r="6.8"/><circle cx="12.2" cy="10.7" r="8.9"/><circle cx="57.1" cy="87.5" r="10.8"/></g>',fp_pin:'<g class="cxb"><line x1="32.9" y1="68" x2="2.6" y2="98.2"/><path d="M80.3,41.4L58.1,63.5c-2.2,2.1-8.8-1-14.8-7s-9.1-12.6-7-14.8l21.9-22.1"/></g><g class="cxa"><path d="M63.6,58c6.8,11.4,7.7,22.7,3.9,26.5c-5,5-20.6-2.4-34.7-16.5S11.3,38.5,16.3,33.3c3.7-3.7,14.4-2.2,25.4,3.9"/><ellipse transform="matrix(0.7071 -0.7071 0.7071 0.7071 9.1516 62.3116)" cx="79.8" cy="20.1" rx="8.4" ry="23.5"/><path d="M96.5,36.6l-5.9,5.9c-3.2,3.3-13.3-1.5-22.5-10.7S54.1,12.6,57.4,9.4l5.9-5.9"/></g>',c_codepen:'<g class="cxb"><polyline points="96.1 26 80.6 50 96.1 73.8" /><line x1="50" y1="2" x2="50" y2="35.8" /><line x1="80.6" y1="50" x2="64.2" y2="50" /><polyline points="3.9 26 19.4 50 3.9 73.8" /><line x1="19.4" y1="50" x2="35.9" y2="50" /><line x1="50" y1="98" x2="50" y2="64.1" /></g><g class="cxa"><polygon points="96.1 73.8 96.1 26 50 2 3.9 26 3.9 73.8 50 98 96.1 73.8" /><rect x="35.9" y="35.8" width="28.3" height="28.3" /></g>',ar_trs:'<path class="cxtxb" d="M58,34 L66,34 L66,42 M34,66 L66,34" />',gr_g2z:'<g class="cxc"><line x1="2" y1="2" x2="2" y2="100" /><line x1="2" y1="98" x2="98" y2="98" /></g><g class="cxa"><line x1="4" y1="97" x2="70" y2="30" /> <line x1="30" y1="97" x2="96" y2="30" /> <line x1="56" y1="97" x2="122" y2="30" /> <line x1="82" y1="97" x2="148" y2="30" /></g>',ch_lz:'<text class="cxtb100" x="15" y="85">Z</text>',g_radar:'<g class="cxcc"><polygon points="50 24.6 20.4 44.5 31.4 81.2 71.2 83.5 90.7 41.3 50 24.6"/></g><g class="cxb"><polyline points="50 4.5 50 53.1 97.8 39.2"/><polyline points="79.5 95.5 50 53.1 20.4 95.5"/><line x1="2.2" y1="39.2" x2="50" y2="53.1"/></g><g class="cxa"><polygon points="50 4.5 2.2 39.2 20.4 95.5 79.5 95.5 97.8 39.2 50 4.5"/></g>',p_cg3data:'<g class="cxb"><rect x="18" y="56" width="2" height="2"/><rect x="26" y="32" width="2" height="2"/><rect x="34" y="44" width="2" height="2"/><rect x="42" y="10" width="2" height="2"/><rect x="43" y="30" width="2" height="2"/><rect x="50" y="80" width="2" height="2"/><rect x="58" y="60" width="2" height="2"/><rect x="64" y="24" width="2" height="2"/><rect x="70" y="70" width="2" height="2"/><rect x="74" y="48" width="2" height="2"/><rect x="82" y="18" width="2" height="2"/><rect x="90" y="72" width="2" height="2"/></g>',tm_history:'<g class="cxa"><path d=" M 12 50 A 38 38 0 1 1 31 83" /><line x1="2" y1="40" x2="12" y2="50" /><line x1="22" y1="40" x2="12" y2="50" /></g><g class="cxb"><line x1="50" y1="20" x2="50" y2="50" /><line x1="42" y1="73" x2="50" y2="50" /><circle cx="50" cy="50" r="4" /></g>',ly_layout:'<g class="cxa"><rect x="2" y="2" width="26" height="26" /><rect x="36" y="2" width="26" height="26" /><rect x="69" y="2" width="26" height="26" /><rect x="2" y="36" width="26" height="26" /><rect x="36" y="36" width="26" height="26" /><rect x="69" y="36" width="26" height="26" /><rect x="2" y="69" width="26" height="26" /><rect x="36" y="69" width="26" height="26" /><rect x="69" y="69" width="26" height="26" /></g><g class="cxb"><rect x="9" y="8" width="2" height="16" /><rect x="19" y="10" width="2" height="14" /><rect x="43" y="14" width="2" height="10" /><rect x="53" y="18" width="2" height="6" /><rect x="76" y="16" width="2" height="8" /><rect x="86" y="9" width="2" height="15" /><rect x="9" y="42" width="2" height="16" /><rect x="19" y="50" width="2" height="8" /><rect x="43" y="52" width="2" height="6" /><rect x="53" y="48" width="2" height="10" /><rect x="76" y="43" width="2" height="15" /><rect x="86" y="49" width="2" height="9" /><rect x="9" y="83" width="2" height="8" /><rect x="19" y="76" width="2" height="15" /><rect x="43" y="79" width="2" height="12" /><rect x="53" y="84" width="2" height="7" /><rect x="76" y="81" width="2" height="10" /><rect x="86" y="85" width="2" height="6" /></g>',sv_video:'<g class="cxa"><rect x="2" y="20" width="70" height="60" rx="4" /></g><g class="cxb"><polyline points="70,40 98,30 98,70 70,60" /></g>',g_boxplot:'<g class="cxa"><line x1="11.9" x2="11.9" y2="100" y1="0"/><line x1="100" y1="86" y2="86" x2="0"/><line y1="62.6" x2="11.9" y2="62.6" x1="0"/><line y1="39.1" x2="11.9" y2="39.1" x1="0"/><line y1="15.6" x2="11.9" y2="15.6" x1="0"/></g><g class="cxb"><rect x="83.1" y="27.1" width="13.3" height="25.1"/><line x1="83.1" y1="39.6" x2="96.4" y2="39.6"/><line x1="90" y1="27.1" x2="90" y2="19.3"/><line x1="84.8" y1="20" x2="95.2" y2="20"/><line x1="90" y1="52.2" x2="90" y2="59.9"/><line x1="84.8" y1="59.2" x2="95.2" y2="59.2"/><line x1="89.8" y1="67.5" x2="89.8" y2="68.7"/><rect x="23.1" y="18.8" width="13.3" height="25.1"/><line x1="23.1" y1="31.3" x2="36.5" y2="31.3"/><line x1="30" y1="18.8" x2="30" y2="11"/><line x1="24.8" y1="11.7" x2="35.3" y2="11.7"/><line x1="30" y1="43.9" x2="30" y2="51.7"/><line x1="24.8" y1="51" x2="35.3" y2="51"/><line x1="29.8" y1="59.2" x2="29.8" y2="60.5"/><rect x="53.1" y="44.2" width="13.3" height="25.1"/><line x1="53.1" y1="56.7" x2="66.4" y2="56.7"/><line x1="60" y1="69.2" x2="60" y2="77"/><line x1="54.7" y1="76.3" x2="65.3" y2="76.3"/><line x1="60" y1="44.2" x2="60" y2="36.4"/><line x1="54.7" y1="37.1" x2="65.3" y2="37.1"/><line x1="59.8" y1="25.9" x2="59.8" y2="24.7"/></g>',p_g3axistitlez:'<g class="cxblue"><line x1="55" y1="55" x2="65" y2="47"/></g>',a_aligntop:'<g class="cxb"><rect x="2" y="15" width="38" height="45" rx="5" /><rect x="52" y="15" width="38" height="75" rx="5" /></g><g class="cxa"><line x1="1" y1="3" x2="99" y2="3" /></g>',p_cg2fitcdf:'<g class="cxa"><path d="M15,90 C80,75 30,25 95,10" /></g>',g_sankey:'<g class="cxcc"><path d="M 88.1 57.9 L 88.1 57.9 C 76.8 57.9 66.1 52.9 58.7 44.3 L 42.4 25.1 C 35 16.5 24.3 11.6 13 11.6 L 12 11.6 L 12 42.1 L 13 42.1 C 24.3 42.2 35.1 47.1 42.4 55.8 L 58.7 74.9 C 66.1 83.6 76.8 88.5 88.1 88.5 L 88.1 88.5 L 88.1 57.9"/></g><g class="cxb"><rect x="2" y="11.5" width="10" height="30.6"/><rect x="88.1" y="57.9" width="10" height="30.6"/><path d="M 12 11.6 L 12 11.6 C 23.4 11.6 34.1 16.5 41.4 25.1 L 57.8 44.3 C 65.1 52.9 75.9 57.9 87.2 57.9 L 88.1 57.9"/><path d="M 12 42.1 L 12 42.1 C 23.4 42.2 34.1 47.1 41.4 55.8 L 57.8 74.9 C 65.1 83.6 75.9 88.5 87.2 88.5 L 88.1 88.5"/></g><g class="cxa"><rect x="2" y="57.9" width="10" height="30.6"/><rect x="88.1" y="11.5" width="10" height="30.6"/><path d="M 12 57.9 L 12 57.9 C 23.4 57.9 34.1 52.9 41.4 44.3 L 57.8 25.1 C 65.1 16.5 75.9 11.6 87.2 11.6 L 88.1 11.6 L 88.1 42.1 L 87.2 42.1 C 75.8 42.2 65.1 47.1 57.8 55.8 L 41.4 74.9 C 34.1 83.6 23.4 88.5 12 88.5 L 12 88.5 L 12 57.9"/></g>',cd_doc:'<g class="cxb"><polyline points="78,42 78,30 48,30 48,2 2,2 2,98 78,98 78,85"/><line x1="79" y1="29" x2="48" y2="1" /></g><g class="cxaa"><text class="cxtn50" x="42" y="-60" transform="rotate(90)">&#8963;</text><text class="cxtn50" x="-82" y="90" transform="rotate(-90)">&#8963;</text></g>',p_g2subtitle:'<g class="cxblue"><rect x="50" y="10" width="20" height="2"/></g>',g_stackedpercent:'<g class="cxcc"><rect x="76.7" y="45.4" width="14.9" height="22.1"/><rect x="49.7" y="21.1" width="14.9" height="39.7"/><rect x="23.2" y="31.3" width="14.9" height="37.3"/></g><g class="cxbb"><rect x="22.4" y="68.6" width="14.9" height="17.4"/><rect x="49.7" y="60.8" width="14.9" height="25.2"/><rect x="76.7" y="67.5" width="14.9" height="18.5"/></g><g class="cxb"><rect x="22.4" y="2" width="15.6" height="84"/><rect x="49.4" y="2" width="15.6" height="84"/><rect x="76.4" y="2" width="15.6" height="84"/><line x1="50" y1="21.1" x2="64.9" y2="21.1"/><line x1="50" y1="60.8" x2="64.9" y2="60.8"/><line x1="76.7" y1="45.4" x2="91.6" y2="45.4"/><line x1="76.7" y1="67.5" x2="91.6" y2="67.5"/><line x1="22.4" y1="31.3" x2="37.9" y2="31.3"/><line x1="22.4" y1="68.6" x2="37.9" y2="68.6"/></g><g class="cxa"><line x1="11.9" x2="11.9" y2="100" y1="0"/><line x1="100" y1="86" y2="86" x2="0"/><line y1="62.6" x2="11.9" y2="62.6" x1="0"/><line y1="39.1" x2="11.9" y2="39.1" x1="0"/><line y1="15.6" x2="11.9" y2="15.6" x1="0"/></g>',ln_styledashed:'<g class="cxa"><line x1="4" y1="50" x2="98" y2="50" stroke-dasharray="15 5" /></g>',a_movebackward:'<g class="cxb"><rect x="2" y="2" width="40" height="40" /></g><g class="cxa"><polyline points="42,22 98,22 98,98 22,98 22,42" /></g>',ar_tlm:'<path class="cxtxb" d="M17,29 L17,17 L29,17 M17,17 L83,83" />',at_col:'<circle class="cl12" cx="50" cy="34.8" r="30.3"/><circle class="cl13" cx="69.7" cy="65.2" r="30.3"/><circle class="cl14" cx="30.3" cy="65.2" r="30.3"/><ellipse class="cl15" cx="50" cy="65.2" rx="10.7" ry="23.1"/><path class="cl16" d="M39.4,63.3c15.7,5.9,33.1-2.1,39-17.8c1-2.8,1.7-5.7,1.9-8.7c-3.4-1.3-6.9-1.9-10.5-1.9C53.7,34.8,40.4,47.2,39.4,63.3z"/><path class="cl17" d="M60.6,63.3C44.9,69,27.5,61,21.7,45.3c-1-2.7-1.6-5.6-1.8-8.5c3.4-1.3,7-1.9,10.6-1.9C46.4,34.9,59.6,47.3,60.6,63.3z"/><path class="cl18" d="M50,65.2c3.6,0,7.2-0.7,10.6-1.9c0,0,0,0,0-0.2c-0.1-0.9-0.2-1.7-0.3-2.6c0-0.1,0-0.3,0-0.4c0-0.8-0.3-1.7-0.5-2.5v-0.3c-0.9-3.2-2.3-6.2-4.2-9c-0.3-0.4-0.5-0.8-0.8-1.1c-0.3-0.3-0.6-0.7-0.9-1.1c-0.3-0.4-0.7-0.9-1.1-1.3L52,43.8c-0.5-0.5-0.9-0.9-1.4-1.4L50,42.3c-6.2,5.3-10,12.9-10.5,21.1C42.8,64.6,46.4,65.2,50,65.2z"/>',ch_ll:'<text class="cxtb100" x="15" y="85">L</text>',sv_diskjson:'<g class="cxa"><polyline points="98,25 98,98 2,98 2,2 75,2 98,25" /></g><g class="cxb"><rect x="27" y="58" width="50" height="40" /><rect x="32" y="2" width="40" height="30" /><rect x="55" y="12" width="5" height="10" /></g><g class="cxaw"><rect x="2" y="40" width="96" height="50" /></g><g class="cxaa"><text class="cxtn30" x="10" y="75">JSON</text></g>',ly_doe:'<g class="cxa"><rect x="2" y="2" width="43" height="43" /><rect x="53" y="2" width="43" height="43" /><rect x="2" y="53" width="43" height="43" /><circle cx="75" cy="75" r="20" /></g><g class="cxb"><rect x="9" y="20" width="10" height="24" /><rect x="28" y="10" width="10" height="34" /><polyline points="60,40 70,20 80,30 90,10" /><circle cx="15" cy="82" r="2" /><circle cx="26" cy="75" r="2" /><circle cx="36" cy="65" r="2" /><line x1="75" y1="75" x2="75" y2="55" /><line x1="75" y1="75" x2="95" y2="75" /><line x1="75" y1="75" x2="61" y2="86" /></g>',lg_h:'<g class="cxc"><rect x="10" y="50" width="81" height="40"/><line x1="10" y1="70" x2="90" y2="70" /><line x1="37" y1="50" x2="37" y2="90" /><line x1="64" y1="50" x2="64" y2="90" /><line x1="2" y1="55" x2="2" y2="65" /><line x1="2" y1="75" x2="2" y2="85" /><line x1="13" y1="98" x2="34" y2="98" /><line x1="40" y1="98" x2="61" y2="98" /><line x1="67" y1="98" x2="88" y2="98" /></g>',p_cghdata2:'<g class="cxbb"><rect x="72" y="4" width="26" height="18"/><rect x="12" y="26" width="26" height="18"/><rect x="42" y="48" width="26" height="18"/></g>',wp_initialization:'<g class="cxa"><path d="M 15.5 33.2 C 28.4 6.7 65.2 4.1 81.7 28.5 C 86 34.8 88.3 42.3 88.3 50"/><polyline points="98.5 39.8 88.4 50 78.1 39.8"/></g><g class="cxb"><path d="M 84.4 66.8 C 71.5 93.3 34.7 95.9 18.2 71.4 C 14 65.1 11.7 57.6 11.7 50"/><polyline points="1.5 60.1 11.7 50 21.8 60.1"/></g>',ch_of:'<text class="cxti100" x="35" y="75">f</text>',gr_styledashed:'<g class="cxc"><line x1="2" y1="2" x2="2" y2="100" /><line x1="2" y1="98" x2="98" y2="98" /></g><g class="cxa"><line x1="4" y1="23" x2="98" y2="23" stroke-dasharray="15 5" /> <line x1="4" y1="48" x2="98" y2="48" stroke-dasharray="15 5" /> <line x1="4" y1="73" x2="98" y2="73" stroke-dasharray="15 5" /></g>',ar_b:'<path class="cxtxb" d="M35,80 L50,98 L65,80 M50,98 L50,2" />',sp_thickness:'<path class="cxtxa" d="M50,42 L58,50 L50,58 M36,42 L26,50 L36,58 M58,50 L26,50" /><g class="cxb"><rect x="2" y="2" width="10" height="96" /><rect x="72" y="2" width="26" height="96" /></g>',g_scatter3d:'<g class="cxa"><line x1="11.9" x2="11.9" y2="100" y1="0"/><line x1="100" y1="86" y2="86" x2="0"/><line y1="62.6" x2="11.9" y2="62.6" x1="0"/><line y1="39.1" x2="11.9" y2="39.1" x1="0"/><line y1="15.6" x2="11.9" y2="15.6" x1="0"/><line x1="32.5" y1="100" x2="32.5" y2="86"/><line x1="56" y1="100" x2="56" y2="86"/><line x1="79.4" y1="100" x2="79.4" y2="86"/><line x1="11.9" y1="86" x2="74.5" y2="26.6"/></g><g class="cxb"><line x1="28.9" y1="15.6" x2="32.5" y2="15.6"/><line x1="50" y1="15.6" x2="53.7" y2="15.6"/><line x1="78.3" y1="46.7" x2="81.9" y2="46.7"/><line x1="61.2" y1="59.8" x2="64.8" y2="59.8"/><line x1="74.5" y1="68.3" x2="78.2" y2="68.3"/><line x1="48" y1="71.8" x2="51.4" y2="71.8"/><line x1="39" y1="29.4" x2="42.7" y2="29.4"/><polyline points="72.1 4.9 81.5 4.9 81.5 19.5 72.1 19.5"/><line x1="74.5" y1="11.8" x2="81.5" y2="11.8"/><polyline points="92.5 4.9 85.8 4.9 85.8 19.5 92.5 19.5"/><line x1="94" y1="5.9" x2="94" y2="18.5"/></g>',i_labels:'<g class="cxc"><rect x="2" y="25" width="96" height="50"/><rect x="40" y="10" width="20" height="2"/><rect x="2" y="90" width="10" height="2"/><rect x="45" y="90" width="10" height="2"/><rect x="88" y="90" width="10" height="2"/></g>',h_hvariable:'<g class="cxa"><rect x="42" y="4" width="26" height="18"/><rect x="42" y="26" width="26" height="18"/><rect x="42" y="48" width="26" height="18"/><rect x="42" y="70" width="26" height="18"/></g>',p_ghsampletitle:'<g class="cxblue"><rect x="0" y="25" width="3" height="30"/></g>',a_distributever:'<g class="cxb"><rect x="10" y="25" width="36" height="50" rx="5" /><rect x="54" y="5" width="36" height="90" rx="5" /></g><g class="cxa"><line x1="1" y1="50" x2="99" y2="50" /></g>',ps_left:'<path class="cxtxb" d="M38,42 L30,50 L38,58 M70,50 L30,50" /><g class="cxa"><rect x="2" y="40" width="20" height="20" rx="2" /></g>',g_correlation:'<g class="cxb"><line x1="76.6" y1="22.6" x2="36.7" y2="63.9"/><line x1="23.4" y1="22.6" x2="63.3" y2="63.9"/><line x1="50" y1="22.6" x2="76.2" y2="51"/><line x1="50" y1="22.6" x2="23.8" y2="51"/><line x1="76.6" y1="22.6" x2="90.8" y2="36.8"/><line x1="23.4" y1="22.6" x2="9.9" y2="36.8"/></g><g class="cxa"><polygon points="50 22.6 1.9 22.6 1.9 28.8 50 77.4 98.1 28.8 98.1 22.6 50 22.6"/></g>',wp_scale:'<g class="cxa"><path d="M50.2,77.2c-8,0-14.5,6.5-14.5,14.5c0,0,0,0,0,0h29C64.7,83.7,58.2,77.2,50.2,77.2C50.2,77.2,50.2,77.2,50.2,77.2z"/><circle cx="50.2" cy="34.1" r="7.4"/><line x1="50.2" y1="26.8" x2="50.2" y2="8.3"/><line x1="50.2" y1="77.2" x2="50.2" y2="41.4"/><line x1="17" y1="16.9" x2="83.3" y2="16.9"/></g><g class="cxb"><path d="M2.6,49.1c-0.4,8,5.8,14.7,13.8,15.1c8,0.4,14.7-5.8,15.1-13.8c0-0.4,0-0.9,0-1.3H2.6z"/><polyline points="2.6,49.1 17,16.9 31.4,49.1"/><path d="M68.7,49.1c-0.4,8,5.8,14.7,13.8,15.1c8,0.4,14.7-5.8,15.1-13.8c0-0.4,0-0.9,0-1.3H68.7z"/><polyline points="68.7,49.1 83.1,16.9 97.5,49.1"/></g>',dt_min:'<g class="cxaa"><rect x="8" y="86" width="7" height="10" /></g><g class="cxb"><line x1="2" y1="98" x2="100" y2="98" /><line x1="2" y1="2" x2="2" y2="98" /></g><g class="cxcc"><rect x="28" y="66" width="10" height="27" /><rect x="48" y="46" width="10" height="47" /><rect x="68" y="26" width="10" height="67" /><rect x="88" y="6" width="10" height="87" /></g>',bx_medianc:'<g class="cxb"><rect x="30" y="20" width="40" height="60" /><line x1="30" y1="2" x2="70" y2="2" /><line x1="50" y1="2" x2="50" y2="20" /><line x1="30" y1="98" x2="70" y2="98" /><line x1="50" y1="98" x2="50" y2="80" /></g><g class="cxbb"><rect x="40" y="40" width="20" height="20" /></g>',c_stata:'<path class="cl19" d="M22.7,38.5l-1.9,5.1H7c-1.1,0.1-1.8,1.1-1.7,2.1c0.1,0.9,0.8,1.6,1.7,1.7h8.6c3.9,0,7,3.2,7,7c0,3.9-3.2,7-7,7H0l1.9-5.1h13.7c1.1-0.1,1.8-1.1,1.7-2.1c-0.1-0.9-0.8-1.6-1.7-1.7H7c-3.9,0-7-3.2-7-7s3.2-7,7-7H22.7z"/><polygon class="cl19" points="62.6,38.5 60.6,43.6 67.1,43.6 67.1,61.5 72.2,61.5 72.2,43.6 77.3,43.6 79.3,38.5 "/><path class="cl19" d="M92.9,52.6h-9.9c-1.1,0-1.9,0.9-1.9,1.9c0,1.1,0.9,1.9,1.9,1.9h11.8v-3.8H92.9z M88.2,47.4h6.6v-2.1c0-1-0.9-1.8-1.9-1.8h-15l1.9-5h13.1c3.9,0,7.1,3.2,7.1,7.1c0,0,0,0,0,0v15.9H83.1c-3.9-0.2-6.9-3.5-6.7-7.4c0.2-3.6,3.1-6.5,6.7-6.7L88.2,47.4z"/><path class="cl19" d="M53.6,52.6h-9.9c-1.1,0-1.9,0.9-1.9,1.9c0,1.1,0.9,1.9,1.9,1.9h11.8v-3.8H53.6z M51.1,47.4h4.5v-2.1c0-1-0.9-1.8-1.9-1.8h-15l1.9-5h13.1c3.9,0,7,3.2,7,7.1l0,0v15.9H43.8c-3.9,0.2-7.2-2.8-7.4-6.7s2.8-7.2,6.7-7.4c0.3,0,0.5,0,0.8,0L51.1,47.4z"/><polygon class="cl19" points="23.3,38.5 21.4,43.6 27.8,43.6 27.8,61.5 32.9,61.5 32.9,43.6 38,43.6 40,38.5 "/>',dp_binr:'<g class="cxb"><circle cx="50" cy="3" r="2.5" /><circle cx="50" cy="18" r="2.5" /><circle cx="50" cy="33" r="2.5" /><circle cx="57" cy="33" r="2.5" /><circle cx="50" cy="50" r="2.5" /><circle cx="57" cy="50" r="2.5" /><circle cx="64" cy="50" r="2.5" /><circle cx="50" cy="65" r="2.5" /><circle cx="57" cy="65" r="2.5" /><circle cx="50" cy="80" r="2.5" /><circle cx="50" cy="97" r="2.5" /></g>',wp_broadcast:'<g class="cxb"><path d="M 67.8 9.8 C 75.6 17.6 75.6 30.3 67.8 38.1"/><path d="M 81 0.3 C 94 13.4 94 34.6 81 47.6"/><path d="M 32.2 9.8 C 24.4 17.6 24.4 30.3 32.2 38.1"/><path d="M 19 0.3 C 6 13.4 6 34.6 19 47.6"/></g><g class="cxa"><polyline points="75.2 99.8 50.1 26.8 25 99.8"/><line x1="69" y1="82.8" x2="31.2" y2="82.8"/></g><g class="cxb"><circle cx="50" cy="24" r="8.6"/></g>',ar_hs:'<path class="cxtxb" d="M58,42 L66,50 L58,58 M42,42 L34,50 L42,58 M66,50 L34,50" />',ch_lj:'<text class="cxtb100" x="20" y="85">J</text>',at_shd:'<polygon fill="url(#s-grad)" points="94.5,64.1 66.7,50 50,58.5 33.3,50 5.5,64.1 50,86.7"/><polygon class="cxa" points="94.5,35.9 50,13.3 5.5,35.9 50,58.5 "/>',lg_g1:'<g class="cxc"><line x1="10" y1="10" x2="10" y2="98" /><line x1="2" y1="90" x2="90" y2="90" /><line x1="2" y1="70" x2="10" y2="70" /><line x1="2" y1="50" x2="10" y2="50" /><line x1="2" y1="30" x2="10" y2="30" /><line x1="25" y1="98" x2="35" y2="98" /><line x1="45" y1="98" x2="55" y2="98" /><line x1="65" y1="98" x2="75" y2="98" /></g><g class="cxcc"><rect x="26" y="20" width="9" height="68"/><rect x="46" y="53" width="9" height="35"/><rect x="66" y="73" width="9" height="15"/></g>',ch_snumber:'<text class="cxtb100" x="15" y="85">#</text>',p_g2axisy:'<g class="cxblue"><line x1="25" y1="15" x2="25" y2="75" /><line x1="15" y1="25" x2="25" y2="25" /><line x1="15" y1="45" x2="25" y2="45" /><line x1="15" y1="65" x2="25" y2="65" /></g>',ch_ofloor:'<text class="cxtn50" x="0" y="70">floor</text>',sr_azi:'<path class="cxtxa" d="M12,80 L27,98 L42,80 M27,98 L27,2" /><text class="cxtn60" x="50" y="45">A</text><text class="cxtn60" x="50" y="95">Z</text>',p_cg1dataverticalshort:'<g class="cxcc"><rect x="20" y="67" width="16" height="20"/><rect x="48" y="27" width="16" height="60"/><rect x="76" y="47" width="16" height="40"/></g>',g_functions:'<g class="cxb"><line x1="10" y1="2" x2="10" y2="98" /><line x1="2" y1="10" x2="10" y2="10" /><line x1="2" y1="30" x2="10" y2="30" /><line x1="2" y1="50" x2="10" y2="50" /><line x1="2" y1="70" x2="10" y2="70" /><line x1="2" y1="90" x2="98" y2="90" /><line x1="10" y1="90" x2="10" y2="98" /><line x1="30" y1="90" x2="30" y2="98" /><line x1="50" y1="90" x2="50" y2="98" /><line x1="70" y1="90" x2="70" y2="98" /><line x1="90" y1="90" x2="90" y2="98" /></g><g class="cxa"><path d="M15,90 C80,75 30,25 95,10" /></g>',ch_lm:'<text class="cxtb100" x="8" y="85">M</text>',g_heatmap:'<g class="cxcc"><rect x="64.5" y="50" width="28.8" height="20.3"/><rect x="64.5" y="69.5" width="28.8" height="20.3"/><rect x="35.6" y="30.2" width="28.8" height="20.3"/><rect x="6.7" y="10.9" width="28.8" height="20.3"/><rect x="6.8" y="69.5" width="28.8" height="20.3"/></g><g class="cxbb"><rect x="64.4" y="10.3" width="28.8" height="20.3"/><rect x="35.6" y="49.9" width="28.8" height="20.3"/><rect x="6.7" y="30.2" width="28.8" height="20.3"/></g><g class="cxa"><line x1="100" y1="50" y2="50" x2="0"/><line x1="93.3" x2="93.3" y2="96.2" y1="3.8"/><line x1="64.4" x2="64.4" y2="96.2" y1="3.8"/><line x1="6.7" x2="6.7" y2="96.2" y1="3.8"/><line x1="35.6" x2="35.6" y2="96.2" y1="3.8"/><line x1="100" y1="69.8" y2="69.8" x2="0"/><line x1="100" y1="89.4" y2="89.4" x2="0"/><line x1="100" y1="10.9" y2="10.9" x2="0"/><line x1="100" y1="30.6" y2="30.6" x2="0"/></g>',g_donnut:'<g class="cxbc"><path d="M 50 2.5 C 36.8 2.4 24.2 8 15.2 17.7 L 32.5 34.3 C 41.3 24.5 56.4 23.8 66 32.8 L 81.5 14.4 C 72.8 6.7 61.6 2.5 50 2.5 Z"/><path d="M 50 97.6 C 57.2 97.6 64.2 95.9 70.6 92.8 L 60.2 71.2 C 44.6 78.8 26.4 67.4 26.4 50 L 2.5 50 C 2.5 76.3 23.8 97.6 50 97.6 Z"/></g><g class="cxb"><line x1="26.4" y1="50" x2="2.5" y2="50"/><line x1="14.9" y1="17.9" x2="32.6" y2="34.3"/><line x1="66" y1="32.6" x2="82.1" y2="14.9"/><line x1="59.8" y1="71.4" x2="70.1" y2="93.2"/></g><g class="cxa"><path d="M 50 2.5 C 13.4 2.5 -9.5 42.1 8.8 73.8 C 27.1 105.5 72.9 105.5 91.2 73.8 C 95.4 66.6 97.6 58.4 97.6 50 C 97.6 23.8 76.3 2.5 50 2.5 Z M 50 73.6 C 31.9 73.6 20.5 54 29.6 38.2 C 38.7 22.5 61.4 22.5 70.4 38.2 C 72.5 41.8 73.6 45.9 73.6 50 C 73.6 63.1 63 73.6 50 73.6 Z"/></g>',bx_notched:'<g class="cxa"><polyline points="40,50 30,40 30,20 70,20 70,40 60,50 70,60 70,80 30,80 30,60 40,50" /><line x1="40" y1="50" x2="60" y2="50" /></g><g class="cxb"><line x1="30" y1="2" x2="70" y2="2" /><line x1="50" y1="2" x2="50" y2="20" /><line x1="30" y1="98" x2="70" y2="98" /><line x1="50" y1="98" x2="50" y2="80" /></g>',dt_max:'<g class="cxaa"><rect x="88" y="6" width="10" height="87" /></g><g class="cxb"><line x1="2" y1="98" x2="100" y2="98" /><line x1="2" y1="2" x2="2" y2="98" /></g><g class="cxcc"><rect x="8" y="86" width="10" height="7" /><rect x="28" y="66" width="10" height="27" /><rect x="48" y="46" width="10" height="47" /><rect x="68" y="26" width="10" height="67" /></g>',ch_lr:'<text class="cxtb100" x="15" y="85">R</text>',ar_dcbls:'<text class="cxtn60" x="53" y="51" transform="rotate(45)">&#10555;</text><text class="cxtn60" x="-86" y="51" transform="rotate(45) scale(-1,1)">&#10555;</text>',lg_g2:'<g class="cxc"><line x1="10" y1="10" x2="10" y2="98" /><line x1="2" y1="90" x2="98" y2="90" /><line x1="2" y1="70" x2="10" y2="70" /><line x1="2" y1="50" x2="10" y2="50" /><line x1="2" y1="30" x2="10" y2="30" /><line x1="30" y1="90" x2="30" y2="98" /><line x1="50" y1="90" x2="50" y2="98" /><line x1="70" y1="90" x2="70" y2="98" /><line x1="90" y1="90" x2="90" y2="98" /></g><g class="cxcc"><rect x="26" y="20" width="2" height="2"/><rect x="36" y="40" width="2" height="2"/><rect x="46" y="70" width="2" height="2"/><rect x="56" y="80" width="2" height="2"/><rect x="66" y="60" width="2" height="2"/><rect x="27" y="80" width="2" height="2"/><rect x="20" y="60" width="2" height="2"/><rect x="76" y="75" width="2" height="2"/></g>',at_col2:'<path class="cl0" d="M74.6,6.5L50,50V0C58.6,0,67.1,2.2,74.6,6.5z"/><path class="cl1" d="M93.5,25.4L50,50L74.6,6.5C82.5,11,89,17.5,93.5,25.4z"/><path class="cl2" d="M100,50H50l43.5-24.6C97.8,32.9,100,41.4,100,50z"/><path class="cl3" d="M100,50c0,8.6-2.2,17.1-6.5,24.6L50,50H100z"/><path class="cl4" d="M93.5,74.6C89,82.5,82.5,89,74.6,93.5L50,50L93.5,74.6z"/><path class="cl5" d="M74.6,93.5c-7.5,4.2-16,6.5-24.6,6.5V50L74.6,93.5z"/><path class="cl6" d="M50,50v50c-8.6,0-17.1-2.2-24.6-6.5L50,50z"/><path class="cl7" d="M50,50L25.4,93.5C17.5,89,11,82.5,6.5,74.6L50,50z"/><path class="cl8" d="M50,50L6.5,74.6C2.2,67.1,0,58.6,0,50H50z"/><path class="cl9" d="M50,50H0c0-8.6,2.2-17.1,6.5-24.6L50,50z"/><path class="cl10" d="M50,50L6.5,25.4C11,17.5,17.5,11,25.4,6.5L50,50z"/><path class="cl11" d="M50,0v50L25.4,6.5C32.9,2.2,41.4,0,50,0z"/>',wp_fileformat:'<g class="cxa"><path d="M 15 52.7 L 15 2.2 L 69.4 2.2 L 90.3 23.1 L 90.3 97.8 L 15 97.8 L 15 81.6"/><polyline points="69.4 2.2 69.4 22.8 90.4 22.8"/></g><g class="cxb"><rect x="9.6" y="52.7" width="51.3" height="29"/></g>',c_nodejs:'<g class="cxb"><line x1="10.3" y1="24.2" x2="50.6" y2="98" /><line x1="24" y1="49.2" x2="9.3" y2="75.1" /><line x1="89.9" y1="75.7" x2="49.3" y2="1.9" /><line x1="76.1" y1="49.9" x2="90.9" y2="24.2" /></g><path class="cxa" d="M 7.7 28.6 L 7.7 71.4 C 7.8 73.3 8.8 75 10.4 75.9 L 47.6 97.4 C 49.1 98.3 51.1 98.3 52.7 97.4 L 89.9 75.9 C 91.5 75 92.4 73.3 92.4 71.4 L 92.4 28.6 C 92.4 26.8 91.5 25.1 89.9 24.2 L 52.6 2.6 C 51 1.7 49 1.7 47.4 2.6 L 10.3 24.2 C 8.7 25.1 7.8 26.8 7.7 28.6 Z" />',p_g2axes:'<g class="cxblue"><line x1="25" y1="65" x2="95" y2="65" /><line x1="25" y1="65" x2="25" y2="75" /><line x1="45" y1="65" x2="45" y2="75" /><line x1="65" y1="65" x2="65" y2="75" /><line x1="85" y1="65" x2="85" y2="75" /><line x1="25" y1="15" x2="25" y2="75" /><line x1="15" y1="25" x2="25" y2="25" /><line x1="15" y1="45" x2="25" y2="45" /><line x1="15" y1="65" x2="25" y2="65" /></g>',b_gsori:'<g class="cxa"><rect fill="url(\'#go-gradv\')" x="1" y="1" width="42" height="42"/><rect fill="url(\'#go-gradh\')" x="57" y="57" width="42" height="42"/></g>',ch_olog10:'<text class="cxts70" x="1" y="60">log</text><text class="cxtn40" x="55" y="85">10</text>',bx_meanc:'<g class="cxb"><rect x="30" y="20" width="40" height="60" /><line x1="30" y1="50" x2="70" y2="50" /><line x1="30" y1="2" x2="70" y2="2" /><line x1="50" y1="2" x2="50" y2="20" /><line x1="30" y1="98" x2="70" y2="98" /><line x1="50" y1="98" x2="50" y2="80" /></g><g class="cxa"><rect x="40" y="40" width="20" height="20" /></g>',ar_dcbls2:'<text class="cxtn60 cxaa" x="53" y="51" transform="rotate(45)">&#10555;</text><text class="cxtn60 cxaa" x="-86" y="51" transform="rotate(45) scale(-1,1)">&#10555;</text>',bx_violinbp:'<g class="cxb"><path  d="M64,1 Q 66,11 68,25 72,38 86,47 96,56 89,70 82,82 80,99 L 20,99 Q 18,82 11,70 4,56 14,47 28,38 32,25 34,11 36,1 Z" /></g><g class="cxa"><rect x="40" y="35" width="20" height="30" /><line x1="40" y1="50" x2="60" y2="50" /><line x1="40" y1="2" x2="60" y2="2" /><line x1="50" y1="2" x2="50" y2="35" /><line x1="40" y1="98" x2="60" y2="98" /><line x1="50" y1="98" x2="50" y2="65" /></g>',p_g3axestitles:'<g class="cxblue"><rect x="40" y="85" width="30" height="2"/><rect x="0" y="25" width="3" height="25"/><line x1="55" y1="55" x2="65" y2="47"/></g>',op_cancel:'<g class="cxa"><circle cx="50" cy="50" r="48"/></g><g class="cxb"><line x1="25" y1="25" x2="75" y2="75" /><line x1="75" y1="25" x2="25" y2="75" /></g>',e_close:'<g class="cxb"><path d="M98,50 Q50,100 2,50" /><line x1="2" y1="75" x2="10" y2="65" /><line x1="25" y1="88" x2="30" y2="77" /><line x1="50" y1="92" x2="50" y2="80" /><line x1="75" y1="88" x2="70" y2="77" /><line x1="98" y1="75" x2="88" y2="65" /></g>',sl_radiooff:'<circle class="cxb" cx="50" cy="50" r="35" />',ar_tls:'<path class="cxtxb" d="M34,42 L34,34 L42,34 M34,34 L66,66" />',g_scatterbubble2d:'<g class="cxa"><line x1="11.9" x2="11.9" y2="100" y1="0"/><line x1="100" y1="86" y2="86" x2="0"/><line y1="62.6" x2="11.9" y2="62.6" x1="0"/><line y1="39.1" x2="11.9" y2="39.1" x1="0"/><line y1="15.6" x2="11.9" y2="15.6" x1="0"/><line x1="32.5" y1="100" x2="32.5" y2="86"/><line x1="56" y1="100" x2="56" y2="86"/><line x1="79.4" y1="100" x2="79.4" y2="86"/></g><g class="cxb"><circle cx="68.1" cy="42.8" r="17.8"/><circle cx="29.8" cy="45.7" r="6.9"/><circle cx="43.6" cy="68.3" r="7"/><circle cx="88.4" cy="14.5" r="6.7"/><circle cx="34.7" cy="17.3" r="7.8"/></g>',p_g3axistitley:'<g class="cxblue"><rect x="0" y="25" width="3" height="25"/></g>',p_cg2datahist:'<g class="cxcc"><rect x="17" y="54" width="7" height="34" /><rect x="31" y="34" width="7" height="54" /><rect x="45" y="14" width="7" height="74" /><rect x="59" y="20" width="7" height="68" /><rect x="73" y="39" width="7" height="49" /><rect x="87" y="56" width="7" height="32" /></g>',ar_minmax:'<path class="cxtxb" d="M2,22 L2,2 L22,2 M28,45 L45,45 L48,28 M2,2 L45,45" /><path class="cxtxb" d="M25,55 L45,55 L45,75 M2,78 L2,98 L22,98 M2,98 L45,55" /><path class="cxtxb" d="M78,98 L98,98 L98,78 M55,75 L55,55 L75,55 M98,98 L55,55" /><path class="cxtxb" d="M55,25 L55,45 L75,45 M78,2 L98,2 L98,22 M98,2 L55,45" />',dp_jittered:'<g class="cxb"><circle cx="3" cy="3" r="2.5" /><circle cx="3" cy="18" r="2.5" /><circle cx="3" cy="33" r="2.5" /><circle cx="3" cy="50" r="2.5" /><circle cx="3" cy="65" r="2.5" /><circle cx="3" cy="80" r="2.5" /><circle cx="3" cy="97" r="2.5" /><circle cx="89" cy="3" r="2.5" /><circle cx="77" cy="18" r="2.5" /><circle cx="97" cy="33" r="2.5" /><circle cx="87" cy="50" r="2.5" /><circle cx="82" cy="65" r="2.5" /><circle cx="95" cy="80" r="2.5" /><circle cx="93" cy="97" r="2.5" /></g><path class="cxtxa" d="M50,44 L58,52 L50,60 M34,44 L26,52 L34,60 M58,52 L26,52" />',a_order:'<g class="cxb"><polyline points="25,52 2,52 2,2 52,2 52,25" /><polyline points="48,77 27,77 27,27 77,27 77,48" /></g><g class="cxa"><rect x="48" y="48" width="50" height="50" /></g>',dp_binc:'<g class="cxb"><circle cx="50" cy="3" r="2.5" /><circle cx="46.5" cy="18" r="2.5" /><circle cx="53.5" cy="18" r="2.5" /><circle cx="43" cy="33" r="2.5" /><circle cx="50" cy="33" r="2.5" /><circle cx="57" cy="33" r="2.5" /><circle cx="39.5" cy="50" r="2.5" /><circle cx="46.5" cy="50" r="2.5" /><circle cx="53.5" cy="50" r="2.5" /><circle cx="60.5" cy="50" r="2.5" /><circle cx="43" cy="65" r="2.5" /><circle cx="50" cy="65" r="2.5" /><circle cx="57" cy="65" r="2.5" /><circle cx="46.5" cy="80" r="2.5" /><circle cx="53.5" cy="80" r="2.5" /><circle cx="50" cy="97" r="2.5" /></g>',at_sch:'<circle class="clt0" cx="11" cy="89" r="4.3"/><path class="clt1" d="M100,78v22l0,0H11c-6.1,0-11-5-11-11v0C0,83,5,78,11,78H100L100,78z"/><rect x="80.8" y="78" class="clt2" width="19.2" height="22"/><rect x="61.6" y="78" class="clt3" width="19.2" height="22"/><rect x="42.5" y="78" class="clt4" width="19.2" height="22"/><rect x="23.3" y="78" class="clt5" width="19.2" height="22"/><path class="clt6" d="M83.3,35.9l10.8,19.2l0,0L16.4,98.6c-5.3,3-12,1.1-15-4.2l0,0c-3-5.3-1.1-12,4.2-15L83.3,35.9L83.3,35.9z"/><rect x="70.7" y="39.2" transform="matrix(0.8725 -0.4887 0.4887 0.8725 -14.2707 45.6597)" class="clt7" width="19.2" height="22"/><rect x="54" y="48.5" transform="matrix(0.8725 -0.4887 0.4887 0.8725 -20.9912 38.6718)" class="clt8" width="19.2" height="22"/><rect x="37.3" y="57.9" transform="matrix(0.8725 -0.4887 0.4887 0.8725 -27.6765 31.7204)" class="clt9" width="19.2" height="22"/><rect x="20.6" y="67.3" transform="matrix(0.8725 -0.4887 0.4887 0.8725 -34.3969 24.7323)" class="clt10" width="19.2" height="22"/><path class="clt11" d="M47.7,7l18.8,11.4l0,0l-46,76.2c-3.1,5.2-9.9,6.9-15.1,3.7l0,0c-5.2-3.1-6.9-9.9-3.7-15.1L47.7,7L47.7,7z"/><rect x="42.5" y="9.9" transform="matrix(0.5171 -0.8559 0.8559 0.5171 7.2816 54.7253)" class="clt12" width="19.2" height="22"/><rect x="32.6" y="26.3" transform="matrix(0.5171 -0.8559 0.8559 0.5171 -11.5756 54.1644)" class="clt13" width="19.2" height="22"/><rect x="22.7" y="42.7" transform="matrix(0.5171 -0.8559 0.8559 0.5171 -30.334 53.6064)" class="clt14" width="19.2" height="22"/><rect x="12.8" y="59.1" transform="matrix(0.5171 -0.8559 0.8559 0.5171 -49.1912 53.0452)" class="clt15" width="19.2" height="22"/><circle class="clt0" cx="11" cy="89" r="4.3"/><path class="clt16" d="M0,0h22l0,0v89c0,6.1-5,11-11,11h0C5,100,0,95,0,89L0,0L0,0z"/><circle class="clt0" cx="11" cy="89" r="4.3"/><rect x="0" class="clt17" width="22" height="19.2"/><rect x="0" y="19.2" class="clt18" width="22" height="19.2"/><rect x="0" y="38.3" class="clt19" width="22" height="19.2"/><rect x="0" y="57.5" class="clt20" width="22" height="19.2"/>',ps_bottomleft:'<path class="cxtxb" d="M34,58 L34,66 L42,66 M34,66 L66,34" /><g class="cxa"><rect x="2" y="78" width="20" height="20" rx="2" /></g>',ch_ocodesmall:'<text class="cxtn50" x="30" y="-40" transform="rotate(90)">&#8963;</text><text class="cxtn50" x="-70" y="60" transform="rotate(-90)">&#8963;</text>',b_grvt:'<g class="cxa"><rect fill="url(\'#vt-grad\')" x="0" y="0" width="100" height="100" /></g>',a_moveback:'<g class="cxb"><rect x="2" y="2" width="30" height="30" /><rect x="68" y="68" width="30" height="30" /></g><g class="cxa"><polyline points="32,17 82,17 82,67" /><polyline points="17,32 17,82 67,82" /></g>',v_stop:'<circle class="cxb" cx="50" cy="50" r="48" /><text class="cxtn70" x="14" y="77">&#9726;</text>',tx_shadow:'<path fill="url(#ts-grad)" d="M100,52.3l-11.7,9.8h-1.6c1.3-1.4,2.2-3,2.7-4.9c0-1-0.6-1.8-1.8-2.3c-1.7-0.4-3.5-0.6-5.2-0.5H78L44.8,82.3c-1.4,0.9-2.6,2.1-3.6,3.3c-0.2,0.4-0.1,0.8,0.5,1.2c1.1,0.4,2.2,0.6,3.3,0.5h2l-1.2,1H14.9l1.2-1h2c1.6,0,3.2-0.2,4.8-0.5c1.2-0.3,2.3-0.7,3.3-1.3c1.6-1,3.1-2.1,4.5-3.3l33.2-27.9h-4.3c-3.6,0-7.1,0.5-10.5,1.5c-4.3,1.5-8.4,3.6-12.1,6.2h-1.7L47,52.2L100,52.3z"/><g class="cxaa"><path d="M69.1,11.5v20.8h-2c-0.8-3.7-2.1-7.2-4-10.4c-1.6-2.2-3.7-3.9-6.2-5c-2.4-0.8-5-1.2-7.6-1h-5.6v59.4c-0.2,2.5,0.1,5,0.6,7.4c0.6,1.1,1.5,2,2.5,2.6c1.6,0.8,3.4,1.2,5.2,1.1h2.5v2.1H14.5v-2.1h2.6c1.8,0,3.6-0.4,5.2-1.2c1.1-0.6,1.9-1.6,2.3-2.7c0.6-2.3,0.8-4.8,0.6-7.2V16h-5.6c-4.1-0.4-8.1,0.8-11.3,3.3c-3.5,3.5-5.7,8.1-6.3,13.1H0V11.5H69.1z"/></g>',g_ridgeline:'<g class="cxcc"><path d="M 11.5 35.4 C 11.5 35.4 27.1 2.1 30.9 2.1 C 43.1 2.1 53.7 32.3 59.5 35.4"/><path d="M 22.6 66.7 C 22.6 66.7 35.9 32 40.4 26.5 C 45.1 20.4 53.9 42 68.9 65.8"/><path d="M 42.3 98 C 42.3 98 53.1 62.5 59.2 55.9 C 67 47.3 82.5 85.5 86.4 91.6 C 87.2 93.8 88.3 95.8 88.9 98"/></g><g class="cxb"><path d="M 11.5 35.4 C 11.5 35.4 27.1 2.1 30.9 2.1 C 43.1 2.1 53.7 32.3 59.5 35.4"/><path d="M 22.6 66.7 C 22.6 66.7 35.9 32 40.4 26.5 C 45.1 20.7 53.9 42.3 68.9 65.8"/><path d="M 42.3 98 C 42.3 98 52.8 62.5 58.9 55.9 C 66.7 47.3 82.2 85.5 86.4 91.6 C 87.2 93.8 88.3 95.8 88.9 98"/></g><g class="cxa"><line y1="35.4" x2="94" y2="35.4" x1="6"/><line y1="66.7" x2="94" y2="66.7" x1="6"/><line y1="97.9" x2="94" y2="97.9" x1="6"/></g>',wp_instances:'<g class="cxb"><polyline points="17.2 31.7 17.2 16.6 82.7 16.6 82.7 82.1 67.7 82.1"/><polyline points="32.3 17.7 32.3 2.7 97.8 2.7 97.8 68.3 82.7 68.3"/></g><g class="cxa"><rect x="2.2" y="31.7" width="65.5" height="65.5"/></g>',g_chord:'<g class="cxb"><path d="M 84.5 65.8 C 84.5 65.8 46.1 50 83.6 32.4"/><path d="M 84.5 65.8 C 84.5 65.8 47.4 48.6 42.2 87.2"/><path d="M 15.5 65.8 C 15.5 65.8 59.1 50.7 61.5 13.8"/><path d="M 12.1 50 C 12.1 50 59.8 66.4 87.4 43"/><path d="M 15 35.2 C 15 35.2 56.8 39 25.2 79"/><path d="M 72.8 80.4 C 72.8 80.4 15.8 48.8 75.9 22.3"/></g><g class="cxa"><path d="M 2.2 50 C 2.3 86.8 42.1 109.8 74 91.3 C 75.6 90.4 77.1 89.4 78.6 88.3 L 72.7 80.4 C 49.3 97.9 15.7 83.4 12.3 54.4 C 12.2 53 12.1 51.5 12.1 50 L 2.2 50 Z"/><path d="M 15 35.2 C 25.3 11 56.6 4.3 75.9 22.3 L 82.6 15.1 C 58.3 -7.6 18.9 0.9 6 31.4 L 15 35.2 Z"/><path d="M 87.4 79.8 C 99.3 64.9 101.2 44.2 92.1 27.4 L 83.7 32.4 C 90.7 45.8 89.1 62.2 79.5 74 L 87.4 79.8 Z"/></g>',bx_wishkerss:'<g class="cxb"><rect x="35" y="30" width="30" height="40" /><line x1="35" y1="51" x2="65" y2="51" /></g><g class="cxa"><line x1="50" y1="2" x2="50" y2="30" /><line x1="50" y1="98" x2="50" y2="70" /></g>',ar_h:'<path class="cxtxb" d="M80,35 L98,50 L80,65 M20,35 L2,50 L20,65 M98,50 L2,50" />',ps_topleft:'<path class="cxtxb" d="M34,42 L34,34 L42,34 M34,34 L66,66" /><g class="cxa"><rect x="2" y="2" width="20" height="20" rx="2" /></g>',n_nodes:'<g class="cxc"><line x1="18.9" y1="15.4" x2="41.7" y2="31.3"/><line x1="21.6" y1="75.8" x2="43.5" y2="53.1"/><line x1="56.7" y1="76.6" x2="55.9" y2="57.1"/><line x1="84.3" y1="60.8" x2="69.5" y2="50.2"/><line x1="78" y1="13.9" x2="66.4" y2="28.2"/></g><g class="cxac"><circle cx="55.3" cy="40.9" r="16.9"/><circle cx="82.3" cy="8.6" r="6.8"/><circle cx="89.9" cy="64.7" r="6.8"/><circle cx="16.9" cy="80.6" r="6.8"/><circle cx="12.2" cy="10.7" r="8.9"/><circle cx="57.1" cy="87.5" r="10.8"/></g>',wp_data:'<g class="cxa"><path d="M 97.4 60.7 L 97.4 82.3 C 97.4 90.7 76.1 97.5 50 97.5 C 23.8 97.5 2.6 90.7 2.6 82.3 L 2.6 60.7"/><path d="M 97.4 17.7 L 97.4 39.4 C 97.4 47.8 76.1 54.5 50 54.5 C 23.8 54.5 2.6 47.8 2.6 39.4 L 2.6 17.7"/><line x1="52.6" y1="43.3" x2="47.3" y2="43.3"/><line x1="64.9" y1="43.3" x2="59.5" y2="43.3"/><line x1="40" y1="43.3" x2="34.6" y2="43.3"/><line x1="64.9" y1="66.1" x2="59.5" y2="66.1"/><line x1="40" y1="66.1" x2="34.6" y2="66.1"/><line x1="64.9" y1="87.2" x2="59.5" y2="87.2"/><line x1="40" y1="87.2" x2="34.6" y2="87.2"/><line x1="52.6" y1="66.1" x2="47.3" y2="66.1"/><line x1="52.6" y1="87.2" x2="47.3" y2="87.2"/></g><g class="cxb"><path d="M 97.4 39.9 L 97.4 61.6 C 97.4 70 76.1 76.7 50 76.7 C 23.8 76.7 2.6 70 2.6 61.6 L 2.6 39.9"/><ellipse cx="50" cy="17.7" rx="47.4" ry="15.2"/></g>',ch_cshift2:'<text class="cxtn50" x="0" y="70">Shift</text>',ar_trm:'<path class="cxtxb" d="M71,17 L83,17 L83,29 M17,83 L83,17" />',ch_creturn:'<text class="cxtn80" x="5" y="90">&#8629;</text>',p_g1sampletitle:'<g class="cxblue"><rect x="35" y="85" width="30" height="2"/></g>',c_r:'<g class="cxb"><path d="M 40.1 72.2 C 19.2 69.5 3.5 58.7 3.5 45.5 C 3.5 30.5 24.3 18.3 50.1 18.3 C 75.7 18.3 96.5 30.5 96.5 45.5 C 96.5 53.4 90.9 60.4 81.9 65.4" /><path d="M 68.7 70.6 C 64.8 71.6 60.7 72.3 56.7 72.6" /><path d="M 40.1 63.1 C 29.5 59.9 22.4 54 22.4 47.2 C 22.4 37.2 37.8 29.1 56.8 29.1 C 62.7 29.1 68.6 29.9 74.2 31.6 C 77.3 32.7 80.2 34 83 35.5" /></g><path class="cxa" d="M 80.2 62.8 C 91 60.6 95.6 47.6 88.3 39.2 C 85.6 36.1 81.5 34.3 77.4 34.3 L 40.1 34.3 L 40.1 81.7 L 56.7 81.7 L 56.7 63.1 L 63.8 63.1 L 75.9 81.7 L 92.5 81.7 Z M 70.4 54.3 L 55.9 54.3 L 55.9 43.2 L 70.4 43.2 C 74.6 42.8 77.7 47.2 75.9 51.1 C 74.9 53.2 72.8 54.5 70.4 54.3 Z" />',p_cg2fitden:'<g class="cxa"><path d="M15,90 C50,67 38,0 55,3 71,0 72,90 95,90" /></g>',dps_tooutside:'<g class="cxa"><polyline points="65,30 65,2 2,2 2,98 65,98 65,70" /></g><path class="cxtxb" d="M71,38 L83,50 L71,62 M83,50 L17,50" />',ly_segregate:'<g class="cxa"><rect x="2" y="2" width="43" height="43" /><rect x="53" y="2" width="43" height="43" /><rect x="2" y="53" width="43" height="43" /><rect x="53" y="53" width="43" height="43" /></g><g class="cxbb"><rect x="9" y="20" width="10" height="21" /><rect x="28" y="10" width="10" height="31" /><rect x="60" y="15" width="10" height="26" /><rect x="79" y="31" width="10" height="10" /><rect x="9" y="81" width="10" height="11" /><rect x="28" y="63" width="10" height="29" /><rect x="60" y="73" width="10" height="19" /><rect x="79" y="79" width="10" height="13" /></g>',ch_ln:'<text class="cxtb100" x="15" y="85">N</text>',ch_oitalic:'<text class="cxti100" x="30" y="85">I</text>',p_g3title:'<g class="cxblue"><rect x="45" y="0" width="30" height="2"/></g>',sl_lightbulboff:'<g class="cxb"><path d="M75.4,50.1C75.4,36,64,24.7,50,24.7S24.6,36.1,24.6,50.1c0,7.4,3.2,14.3,8.7,19.2c3.3,2.9,5.3,7.1,5.3,11.5h22.7c0-4.5,2-8.8,5.5-11.7C72.2,64.3,75.4,57.3,75.4,50.1z"/><path d="M38.7,80.8h22.9l0,0v8.6c0,4.5-3.7,8.2-8.2,8.2l0,0h-6.5c-4.5,0-8.2-3.7-8.2-8.2l0,0L38.7,80.8L38.7,80.8z"/></g>',ch_le:'<text class="cxtb100" x="15" y="85">E</text>',rt_c2:'<g class="cxb"><path d=" M 5 50 A 45 45 180 0 1 82 18" /><line x1="82" y1="0" x2="82" y2="18" /><line x1="64" y1="18" x2="84" y2="18" /><path d=" M 95 50 A 45 45 180 0 1 18 82" /><line x1="33" y1="82" x2="16" y2="82" /><line x1="18" y1="100" x2="18" y2="82" /></g>',gr_g2y:'<g class="cxc"><line x1="2" y1="2" x2="2" y2="100" /><line x1="2" y1="98" x2="100" y2="98" /></g><g class="cxa"><line x1="4" y1="18" x2="98" y2="18" /> <line x1="4" y1="38" x2="98" y2="38" /> <line x1="4" y1="58" x2="98" y2="58" /> <line x1="4" y1="78" x2="98" y2="78" /></g>',g_dotplot:'<g class="cxa"><line x1="11.9" x2="11.9" y2="100" y1="0"/><line x1="100" y1="86" y2="86" x2="0"/><line y1="62.6" x2="11.9" y2="62.6" x1="0"/><line y1="39.1" x2="11.9" y2="39.1" x1="0"/><line y1="15.6" x2="11.9" y2="15.6" x1="0"/></g><g class="cxb"><circle cx="57.1" cy="67.9" r="6.6"/><circle cx="82.7" cy="42.6" r="6.6"/><circle cx="38.9" cy="25.9" r="6.6"/></g>',ch_oinfo:'<text class="cxts150 cxaa" x="20" y="85">i</text>',ch_sminus:'<text class="cxtb100" x="35" y="80">-</text>',v_last:'<circle class="cxb" cx="50" cy="50" r="48" /><text class="cxtn60" x="25" y="73">&#9654;</text><rect x="55" y="25" width="18" height="50" />',cd_upload:'<path class="cxtxa" d="M35,60 L50,75 L65,60 M50,75 L50,25" /><g class="cxa"><line x1="30" y1="82" x2="70" y2="82" /></g><g class="cxb"><polyline points="89,30 59,30 59,2 13,2 13,98 89,98 89,30" /><line x1="90" y1="29" x2="59" y2="1" /></g>',g_splom:'<g class="cxcc"><rect x="2.3" y="2.9" width="18.4" height="18.4"/><rect x="79.3" y="78.7" width="18.4" height="18.4"/><rect x="53.7" y="53.4" width="18.4" height="18.4"/><rect x="28" y="28.2" width="18.4" height="18.4"/></g><g class="cxa"><rect x="2.3" y="2.9" width="18.4" height="18.4"/><rect x="2.3" y="28.2" width="18.4" height="18.4"/><rect x="2.3" y="53.4" width="18.4" height="18.4"/><rect x="2.3" y="78.7" width="18.4" height="18.4"/><rect x="79.3" y="2.9" width="18.4" height="18.4"/><rect x="79.3" y="28.2" width="18.4" height="18.4"/><rect x="79.3" y="53.4" width="18.4" height="18.4"/><rect x="79.3" y="78.7" width="18.4" height="18.4"/><rect x="53.7" y="2.9" width="18.4" height="18.4"/><rect x="53.7" y="28.2" width="18.4" height="18.4"/><rect x="53.7" y="53.4" width="18.4" height="18.4"/><rect x="53.7" y="78.7" width="18.4" height="18.4"/><rect x="28" y="2.9" width="18.4" height="18.4"/><rect x="28" y="28.2" width="18.4" height="18.4"/><rect x="28" y="53.4" width="18.4" height="18.4"/><rect x="28" y="78.7" width="18.4" height="18.4"/></g><g class="cxb"><rect x="2.3" y="2.9" width="18.4" height="18.4"/><rect x="79.3" y="78.7" width="18.4" height="18.4"/><rect x="53.7" y="53.4" width="18.4" height="18.4"/><rect x="28" y="28.2" width="18.4" height="18.4"/></g>',wp_interactiveplots:'<g class="cxa"><path d="M 68.8 24.9 C 66 26.7 65.1 30.4 66.8 33.3 C 64.4 29.3 58.5 29.5 56.4 33.6 C 55.3 35.5 55.4 37.8 56.6 39.7 C 54.1 35.7 48.3 35.9 46.1 40 C 45.1 42 45.1 44.3 46.3 46.1 L 36.2 29.8 C 33.8 25.8 27.9 26 25.7 30.1 C 24.7 32.1 24.8 34.4 25.9 36.2 L 37.2 54.4 L 38.8 57 C 38.2 57.2 37.6 57.4 37.1 57.7 C 34.4 59.5 33.6 63.1 35.3 65.9 L 39.3 72.3 C 39.3 72.3 47.4 85.2 47.8 85.6 C 61.4 102.4 88.2 98.2 95.9 77.9 C 99 69.9 98.2 60.9 93.8 53.5 L 88.9 45.5 L 87.2 42.8 L 77 26.9 C 75.3 24.1 71.6 23.2 68.8 24.9 Z"/><line x1="38.8" y1="57" x2="49.6" y2="74.3"/><line x1="46.3" y1="46" x2="54.4" y2="59.1"/><line x1="56.6" y1="39.6" x2="64.7" y2="52.7"/><line x1="66.8" y1="33.3" x2="75" y2="46.4"/></g><g class="cxb"><path d="M 25.2 50 C 21.5 48.6 18.4 46.1 16.3 42.7 C 8.7 31.2 16.4 15.8 30.2 14.9 C 37 14.5 43.4 18 46.8 23.8"/><path d="M 24.1 61.5 C 2.3 55.8 -5.2 28.8 10.6 12.8 C 23.9 -0.7 46.2 1.8 56.2 17.9"/></g>',p_g1titlesubtitle:'<g class="cxblue"><rect x="45" y="0" width="20" height="2"/><rect x="50" y="10" width="10" height="2"/></g>',ch_oe10:'<text class="cxts150" x="10" y="70">e</text><text class="cxtn40" x="50" y="85">10</text>',g_arealine:'<polygon class="cxbc" points="11.9 86.3 40 57.1 55 67.9 76.8 37 92.6 67.8 99.9 58.8 99.9 86 11.9 86.3" /><g class="cxb"><polyline points="11.9 86.3 40 57.1 55 67.9 76.8 37 92.6 67.8 99.9 58.8" /><polyline points="11.9 61.7 40 30 53 43.4 79.9 3.7 99.9 39.2" /></g><g class="cxa"><line x1="11.9" y1="0.1" x2="11.9" y2="100" /><line x1="99.9" y1="86" y2="86" x2="0"/><line y1="62.6" x2="11.9" y2="62.6" x1="0"/><line y1="39.2" x2="11.9" y2="39.2" x1="0"/><line y1="15.7" x2="11.9" y2="15.7" x1="0"/></g>',gr_major:'<g class="cxc"><line x1="2" y1="2" x2="2" y2="100" /><line x1="2" y1="98" x2="98" y2="98" /></g><g class="cxa"><line cx1="4" y1="18" x2="98" y2="18" /> <line x1="4" y1="38" x2="98" y2="38" /> <line x1="4" y1="58" x2="98" y2="58" /> <line x1="4" y1="78" x2="98" y2="78" /></g>',ar_l:'<path class="cxtxb" d="M20,35 L2,50 L20,65 M98,50 L2,50" />',ch_cesc2:'<text class="cxtn60" x="-2" y="70">Esc</text>',ch_splus:'<text class="cxtb100" x="20" y="75">+</text>',z_out:'<g class="cxaa"><text class="cxtn80" x="20" y="58">-</text></g><g class="cxb"><circle cx="35" cy="35" r="33" /><line x1="60" y1="60" x2="99" y2="99" /></g>',cd_linesindent:'<g class="cxa"><line x1="10" y1="10" x2="40" y2="10" /><line x1="15" y1="18" x2="40" y2="18" /><line x1="15" y1="26" x2="40" y2="26" /><line x1="10" y1="34" x2="50" y2="34" /><line x1="15" y1="42" x2="40" y2="42" /><line x1="15" y1="50" x2="40" y2="50" /><line x1="10" y1="58" x2="50" y2="58" /><line x1="15" y1="66" x2="40" y2="66" /><line x1="15" y1="74" x2="40" y2="74" /><line x1="10" y1="82" x2="50" y2="82" /><line x1="15" y1="90" x2="40" y2="90" /></g>',g_stackedpercentline:'<g class="cxcc"><rect x="76.7" y="34.8" width="14.9" height="32.7"/><rect x="49.7" y="59.1" width="14.9" height="18.2"/><rect x="23.2" y="31.3" width="14.9" height="37.3"/></g><g class="cxbb"><rect x="22.4" y="68.6" width="14.9" height="17.4"/><rect x="49.7" y="76.7" width="14.9" height="9.3"/><rect x="76.7" y="67.5" width="14.9" height="18.5"/></g><g class="cxb"><rect x="22.4" y="2" width="15.6" height="84"/><rect x="49.4" y="2" width="15.6" height="84"/><rect x="76.4" y="2" width="15.6" height="84"/><line x1="50" y1="59.1" x2="64.9" y2="59.1"/><line x1="50" y1="76.7" x2="64.9" y2="76.7"/><line x1="76.7" y1="34.8" x2="91.6" y2="34.8"/><line x1="76.7" y1="67.5" x2="91.6" y2="67.5"/><line x1="22.4" y1="31.3" x2="37.9" y2="31.3"/><line x1="22.4" y1="68.6" x2="37.9" y2="68.6"/></g><g class="cxa"><line x1="11.9" x2="11.9" y2="100" y1="0"/><line x1="100" y1="86" y2="86" x2="0"/><line y1="62.6" x2="11.9" y2="62.6" x1="0"/><line y1="39.1" x2="11.9" y2="39.1" x1="0"/><line y1="15.6" x2="11.9" y2="15.6" x1="0"/><polyline points="23.1 15.6 57.7 51.1 89.9 15.6"/></g>',rt_c:'<g class="cxb"><path d=" M 95 50 A 45 45 0 1 1 82 18" /><line x1="82" y1="0" x2="82" y2="18" /><line x1="64" y1="18" x2="84" y2="18" /></g>',dps_resize:'<g class="cxa"><rect x="2" y="2" width="96" height="96" /></g><path class="cxtxb" d="M17,71 L17,83 L29,83 M71,17 L83,17 L83,29 M17,83 L83,17" />',b_pail:'<path class="cxbw" d="M95,70l-15,15a6,6,0,0,1-9,0L45,65l25-25,25,25A6,6,0,0,1,95,70Z"/><g class="cxb"><path d="M70,40h6a9,9,0,0,1,9,9h0a9,9,0,0,1-9,9H65"/><circle cx="40" cy="72" r="2"/></g>',op_refresh:'<g class="cxa"><path d="M79.7,27.5C66.1,8.4,39.6,3.8,20.4,17.4C9.8,25,3.1,37,2.5,50.1c5.7-18.9,25.7-29.5,44.5-23.8c7.1,2.2,13.4,6.5,17.9,12.4L50,50.1l35.4,3.6l6-35L79.7,27.5z"/></g><g class="cxb"><path d="M20.9,73.3C34.9,92.1,61.6,96,80.4,82c10.5-7.8,16.8-20,17.1-33.1c-5.3,19-25,30.1-44,24.8c-7.1-2-13.5-6.1-18.1-11.9L50,50.1l-35.4-2.8L9.5,82.5L20.9,73.3z"/></g>',e_open:'<g class="cxa"><circle cx="50" cy="50" r="15" /></g><g class="cxb"><path d="M2,50 Q 50,0 98,50 50,100 2,50" /><line x1="2" y1="25" x2="10" y2="35" /><line x1="25" y1="12" x2="30" y2="23" /><line x1="50" y1="8" x2="50" y2="20" /><line x1="75" y1="12" x2="70" y2="23" /><line x1="98" y1="25" x2="88" y2="35" /></g><g class="cxcc"><circle cx="50" cy="50" r="2" /></g>',wp_events:'<polygon class="cxa" points="79.6 23.2 2.6 2.6 23.2 79.6 39.3 56.9 79.6 97.4 97.4 79.6 56.9 39.3 79.6 23.2" style=""></polygon>',p_ghcitation:'<g class="cxblue"><rect x="75" y="95" width="20" height="2"/></g>',bx_data:'<g class="cxb"><rect x="30" y="20" width="40" height="60" /><line x1="30" y1="2" x2="70" y2="2" /><line x1="50" y1="2" x2="50" y2="20" /><line x1="30" y1="98" x2="70" y2="98" /><line x1="50" y1="98" x2="50" y2="80" /></g><g class="cxa"><rect x="38" y="50" width="3" height="3" /><rect x="40" y="28" width="3" height="3" /><rect x="38" y="68" width="3" height="3" /><rect x="50" y="40" width="3" height="3" /><rect x="55" y="55" width="3" height="3" /><rect x="60" y="30" width="3" height="3" /><rect x="60" y="65" width="3" height="3" /></g>',c_wallstreetjournal:'<rect width="100" height="100" fill="url(\'#WS-gradient\')"/><path d="M 30.1 39.9 C 30.1 40.3 30 40.6 29.9 41 C 28 48.9 26.1 56.9 24.1 64.8 L 23.2 68.6 C 23.2 68.8 23.2 69 22.8 69 C 22.3 69 22.4 68.8 22.3 68.6 L 18.2 51.7 C 16.8 46.1 15.5 40.5 14.1 34.8 L 13.9 34 C 13.7 33.1 12.8 32.3 11.9 32.3 L 10.1 32.1 L 10.1 30.9 L 21.4 30.9 C 21.9 30.9 21.9 30.9 21.9 31.5 L 21.9 32.1 L 20.6 32.3 C 19.5 32.6 19.1 33.2 19.2 34.3 C 19.4 35.6 19.7 36.9 20 38.1 L 23.9 54 C 23.9 54.7 24.2 55.3 24.4 56 C 24.4 56.2 24.4 56.3 24.4 56.4 L 24.4 56.4 C 24.4 56.1 24.4 55.8 24.7 55.5 C 26.2 49.2 27.8 43 29.4 36.9 C 29.5 36.7 29.5 36.5 29.4 36.3 C 29.2 35.5 28.9 34.7 28.7 34 C 28.3 33 27.4 32.3 26.4 32.2 L 25.7 32.2 L 25.7 31 L 36.9 31 C 37.3 31 37.4 31 37.4 31.4 C 37.4 31.6 37.4 31.9 37.4 32.1 L 35.7 32.4 L 35.4 32.4 C 34 32.7 33.6 33.3 33.9 34.7 C 34.2 36.1 34.7 38.4 35.2 40.2 L 38.9 55.8 C 38.9 56.3 39.2 56.8 39.3 57.3 L 39.3 57.3 C 39.4 57.2 39.4 57 39.5 56.8 L 41.6 47.6 C 42.6 43.5 43.5 39.3 44.5 35.2 C 44.5 34.8 44.5 34.3 44.5 33.9 C 44.6 33.4 44.3 32.9 43.9 32.6 C 43.1 32.4 42.3 32.3 41.5 32.2 L 41.2 32.2 C 41.1 31.9 41.1 31.5 41.2 31.2 C 41.2 31.2 41.4 31 41.5 31 L 49.5 31 C 49.9 31 50 31 50 31.4 C 49.9 31.7 49.9 31.9 50 32.2 L 49.4 32.2 C 47.9 32.3 46.6 33.4 46.3 35 C 45.8 37.3 45.2 39.6 44.6 41.9 C 43.5 46.7 42.3 51.4 41.2 56.1 C 40.2 60.3 39.2 64.4 38.3 68.5 C 38.3 68.7 38.3 69 37.8 69 C 37.4 69 37.4 69 37.4 68.6 L 35.1 59.5 C 33.8 54 32.4 48.6 31.1 43.2 C 30.9 42.3 30.7 41.3 30.4 40.4 L 30.4 40 Z" /><path d="M 50.3 56.6 C 51.1 56.6 51.1 56.6 51.5 57.1 C 52.7 59.8 54.3 62.4 56.2 64.6 C 57.2 65.9 58.6 67 60.1 67.7 C 61.2 68.3 62.6 68.3 63.7 67.7 C 64.6 67.2 65.3 66.3 65.5 65.3 C 66.5 62.5 66 59.5 64.1 57.2 C 62.8 55.5 61.3 54.1 59.6 52.8 C 57.6 51.4 55.8 49.8 54 48 C 51.9 45.8 50.7 42.9 50.6 39.9 C 50.6 37.4 51.5 35 53.1 33.1 C 55.4 30.6 59 30 61.9 31.7 C 62.6 32.1 63.2 32.5 63.8 32.9 L 64.4 33.4 C 64.9 33.7 65.5 33.7 65.9 33.4 C 66.3 32.9 66.7 32.4 67 31.8 C 67.3 31.4 67.3 31.3 67.9 31.5 L 67.9 41.8 C 67.9 42 67.9 42.3 67.7 42.3 C 67.4 42.3 67 42.3 66.9 42 C 66.1 39.5 64.8 37.1 63.2 35 C 62.5 34 61.5 33.2 60.4 32.6 C 57.8 31.2 54.6 32.9 54.3 35.8 C 53.8 38.2 54.4 40.7 56 42.5 C 57.2 44 58.6 45.3 60.1 46.5 C 62.3 48.2 64.3 50 66.3 51.9 C 68 53.6 69.1 55.8 69.4 58.2 C 70 61.3 69.3 64.4 67.5 67 C 65.7 69.4 62.6 70.3 59.8 69.3 C 58.3 68.7 56.9 68 55.7 67 C 55.6 66.8 55.4 66.7 55.2 66.6 C 54.4 66 54 66 53.2 66.6 C 52.6 67.2 52.1 67.9 51.6 68.6 C 51.4 68.9 50.9 69.1 50.7 68.9 C 50.6 68.8 50.6 68.7 50.7 68.6 L 50.7 56.6 Z" /><path d="M 77.2 32.1 L 77.2 31 L 89.9 31 C 90 31.3 90 31.6 89.9 31.9 C 89.8 32 89.7 32 89.6 31.9 C 89 31.9 88.3 31.9 87.7 31.9 C 86.9 32 86.3 32.5 86.3 33.3 C 86.3 33.6 86.3 34 86.3 34.3 L 86.3 60.1 C 86.4 62.1 85.8 64 84.6 65.7 C 83.2 67.7 80.9 69 78.4 69 C 76.1 69.2 73.9 68.1 72.8 66.1 C 71.5 64.1 71.5 61.5 72.8 59.4 C 73.4 58.4 74.5 57.8 75.6 57.8 C 76.6 57.7 77.6 58.4 77.9 59.3 C 78.4 60.3 78.3 61.5 77.5 62.3 C 77 62.8 76.4 63.2 75.8 63.6 C 74.6 64.4 74.4 65.3 75.1 66.7 C 75.6 67.5 76.4 67.9 77.2 67.9 C 77.7 68 78.2 68 78.7 67.9 C 79.6 67.7 80.4 67 80.7 66.1 C 80.9 65.2 81.1 64.2 81.2 63.3 C 81.2 61.8 81.2 60.4 81.2 58.9 L 81.2 34.9 C 81.2 34.4 81.2 33.9 81.2 33.4 C 81.1 32.9 80.6 32.4 80.1 32.3 C 79.4 32.2 78.8 32.2 78.1 32.1 Z" />',bx_violinu:'<g class="cxac"><path d="M50,0 Q54,12 66,18 76,28 63,36 50,40 66,49 84,55 84,67 82,81 65,86 54,90 50,100 46,90 35,86 18,81 16,67 16,55 39,50 50,40 37,36 24,28 34,18 46,12 50,0" /></g>',ch_ofx:'<text class="cxti100" x="16" y="75">fx</text>',ps_topright:'<path class="cxtxb" d="M58,34 L66,34 L66,42 M34,66 L66,34" /><g class="cxa"><rect x="78" y="2" width="20" height="20" rx="2" /></g>',bx_violint:'<g class="cxac"><path d="M66,18 Q76,28 63,36 50,40 66,49 84,55 84,67 82,81 65,86 L35,86 Q18,81 16,67 16,55 39,50 50,40 37,36 24,28 34,18 Z" /></g>',ar_cross:'<path class="cxb" d="M98,50 L2,50 M50,98 L50,2" />',mr_top:'<g class="cxa"><line x1="2" y1="25" x2="98" y2="25" /></g>',sw_down:'<g class="cxb"><path d="M0,15 C90,10 10,90 100,85" /><line x1="83" y1="75" x2="98" y2="85" /><line x1="83" y1="95" x2="98" y2="85" /></g>',c_paultol:'<rect y="16.2" class="cl30" width="12.5" height="67.7"/><rect x="12.5" y="16.2" class="cl31" width="12.5" height="67.7"/><rect x="25" y="16.2" class="cl32" width="12.5" height="67.7"/><rect x="50" y="16.2" class="cl33" width="12.5" height="67.7"/><rect x="37.5" y="16.2" class="cl34" width="12.5" height="67.7"/><rect x="62.5" y="16.2" class="cl35" width="12.5" height="67.7"/><rect x="75" y="16.2" class="cl36" width="12.5" height="67.7"/><rect x="87.5" y="16.2" class="cl37" width="12.5" height="67.7"/>',ch_oceil:'<text class="cxtn60" x="5" y="70">ceil</text>',ch_cesc:'<text class="cxtb100" x="5" y="85">&#9099;</text>',ar_ls:'<path class="cxtxb" d="M38,42 L30,50 L38,58 M70,50 L30,50" />',p_g3subtitle:'<g class="cxblue"><rect x="50" y="10" width="20" height="2"/></g>',ch_lp:'<text class="cxtb100" x="15" y="85">P</text>',dps_height:'<g class="cxa"><rect x="2" y="2" width="96" height="96" /></g><path class="cxtxb" d="M38,29 L50,17 L62,29 M38,71 L50,83 L62,71 M50,83 L50,17" />',g_dotline:'<g class="cxa"><line x1="11.9" x2="11.9" y2="100" y1="0"/><line x1="100" y1="86" y2="86" x2="0"/><line y1="62.6" x2="11.9" y2="62.6" x1="0"/><line y1="39.1" x2="11.9" y2="39.1" x1="0"/><line y1="15.6" x2="11.9" y2="15.6" x1="0"/></g><g class="cxb"><polyline points="24.8 65.2 53.4 35.9 62.7 46.1 89.3 19.9"/></g><g class="cxb"><circle cx="52" cy="67.9" r="6.6"/><circle cx="82.7" cy="55.7" r="6.6"/><circle cx="35.6" cy="23.4" r="6.6"/></g>',p_g1:'<g class="cxc"><rect x="45" y="0" width="20" height="2"/><rect x="50" y="10" width="10" height="2"/><rect x="38" y="40" width="5" height="20"/><rect x="56" y="20" width="5" height="40"/><line x1="25" y1="65" x2="85" y2="65" /><rect x="0" y="25" width="3" height="25"/><line x1="25" y1="15" x2="25" y2="65" /><line x1="15" y1="25" x2="25" y2="25" /><line x1="15" y1="45" x2="25" y2="45" /><line x1="15" y1="65" x2="25" y2="65" /><rect x="97" y="25" width="3" height="25"/><line x1="75" y1="15" x2="75" y2="65" /><line x1="75" y1="25" x2="85" y2="25" /><line x1="75" y1="45" x2="85" y2="45" /><line x1="75" y1="65" x2="85" y2="65" /><rect x="38" y="75" width="5" height="2"/><rect x="56" y="75" width="5" height="2"/><rect x="35" y="85" width="30" height="2"/><rect x="75" y="95" width="20" height="2"/></g>',a_alignright:'<g class="cxb"><rect x="40" y="2" width="45" height="38" rx="5" /><rect x="10" y="52" width="75" height="38" rx="5" /></g><g class="cxa"><line x1="97" y1="1" x2="97" y2="99" /></g>',p_cg2fitqq:'<g class="cxb"><line x1="10" y1="70" x2="98" y2="32" /></g><g class="cxa"><path d="M15,90 C30,25 80,75 95,10"/></g>',m_body:'<g class="cxb"><path d="M35,2 Q 45,2 50,10 Q 75,10 75,25 L75,70 Q 75,98 50,98 Q 25,98 25,70 L25,25 Q 25,10 50,10" /><path d="M50,25 Q 55,25 55,30 L55,40 Q 55,45 50,45 Q 45,45 45,40 L45,30 Q 45,25 50,25" /><path d="M50,10 Q 75,10 75,25 L75,35 55,35 55,30 Q 55,25 50,25 Z" /><path d="M50,10 Q 25,10 25,25 L25,35 45,35 45,30 Q 45,25 50,25 Z" /></g>',dt_count:'<g class="cxb"><line x1="12" x2="12" y1="5" y2="45"/><line x1="37" x2="37" y1="5" y2="45"/><line x1="62" x2="62" y1="5" y2="45"/><line x1="87" x2="87" y1="5" y2="45"/><line x1="12" x2="12" y1="57" y2="95"/><line x1="37" x2="37" y1="57" y2="95"/><line x1="62" x2="62" y1="57" y2="95"/></g><g class="cxa"><line x1="2" x2="98" y1="40" y2="10"/></g>',ch_oe:'<text class="cxts200" x="10" y="85">e</text>',ch_olinsmall:'<text class="cxts60" x="25" y="70">lin</text>',m_right:'<g class="cxaa"><path d="M50,10 Q 75,10 75,25 L75,35 55,35 55,30 Q 55,25 50,25 Z" /></g>',ar_tl:'<path class="cxtxb" d="M2,22 L2,2 L22,2 M2,2 L98,98" />',b_windowgradient:'<g class="cxa"><polyline fill="url(\'#w-grad\')" points="65,45 65,30 48,30 48,15 15,15 15,83 68,83 45,65 65,45" /></g>',sl_checkboxon:'<rect class="cxaa" x="15" y="15" width="70" height="70" rx="5" /><text class="cxtn50 cxww" x="32" y="68">&#10003;</text>',sh_hexagon:'<path class="cxa" d="M50,10 L90,30 L90,70 L50,90 L10,70 L10,30 Z" />',sr_az:'<path class="cxtxb" d="M2,80 L17,98 L32,80 M17,98 L17,2" /><path class="cxtxb" d="M27,20 L42,2 L57,20 M42,98 L42,2" /><g class="cxaa"><text class="cxtn60" x="60" y="45">A</text><text class="cxtn60" x="60" y="95">Z</text></g>',cl_horizontal:'<g class="cxa"><line y1="6" x1="75" y2="6" x2="90" /><line y1="14" x1="75" y2="14" x2="90" /><line y1="6" x1="75" y2="14" x2="75" /><line y1="22" x1="65" y2="22" x2="90" /><line y1="30" x1="65" y2="30" x2="90" /><line y1="22" x1="65" y2="30" x2="65" /><line y1="10" x1="75" y2="10" x2="50" /><line y1="26" x1="65" y2="26" x2="50" /><line y1="10" x1="50" y2="26" x2="50" /><line y1="38" x1="50" y2="38" x2="90" /><line y1="46" x1="65" y2="46" x2="90" /><line y1="54" x1="65" y2="54" x2="90" /><line y1="46" x1="65" y2="54" x2="65" /><line y1="50" x1="65" y2="50" x2="50" /><line y1="38" x1="50" y2="50" x2="50" /><line y1="62" x1="65" y2="62" x2="90" /><line y1="70" x1="65" y2="70" x2="90" /><line y1="62" x1="65" y2="70" x2="65" /><line y1="44" x1="40" y2="44" x2="50" /><line y1="66" x1="40" y2="66" x2="65" /><line y1="44" x1="40" y2="66" x2="40" /><line y1="78" x1="55" y2="78" x2="90" /><line y1="86" x1="75" y2="86" x2="90" /><line y1="94" x1="75" y2="94" x2="90" /><line y1="86" x1="75" y2="94" x2="75" /><line y1="90" x1="55" y2="90" x2="75" /><line y1="78" x1="55" y2="90" x2="55" /><line y1="84" x1="25" y2="84" x2="55" /><line y1="55" x1="25" y2="55" x2="40" /><line y1="55" x1="25" y2="84" x2="25" /><line y1="18" x1="10" y2="18" x2="50" /><line y1="70" x1="10" y2="70" x2="25" /><line y1="18" x1="10" y2="70" x2="10" /><line y1="44" x1="10" y2="44" x2="0" /></g><g class="cxb"><rect y="5" x="96" width="2" height="2" /><rect y="13" x="96" width="2" height="2" /><rect y="21" x="96" width="2" height="2" /><rect y="29" x="96" width="2" height="2" /><rect y="37" x="96" width="2" height="2" /><rect y="45" x="96" width="2" height="2" /><rect y="53" x="96" width="2" height="2" /><rect y="61" x="96" width="2" height="2" /><rect y="69" x="96" width="2" height="2" /><rect y="78" x="96" width="2" height="2" /><rect y="86" x="96" width="2" height="2" /><rect y="94" x="96" width="2" height="2" /></g>',p_dgmarker:'<g class="cxaa"><rect x="42" y="24" width="24" height="5"/><line x1="56" y1="25" x2="56" y2="65" /><line x1="57" y1="25" x2="57" y2="65" /></g>',dp_binl:'<g class="cxb"><circle cx="50" cy="3" r="2.5" /><circle cx="50" cy="18" r="2.5" /><circle cx="50" cy="33" r="2.5" /><circle cx="43" cy="33" r="2.5" /><circle cx="50" cy="50" r="2.5" /><circle cx="43" cy="50" r="2.5" /><circle cx="36" cy="50" r="2.5" /><circle cx="50" cy="65" r="2.5" /><circle cx="43" cy="65" r="2.5" /><circle cx="50" cy="80" r="2.5" /><circle cx="50" cy="97" r="2.5" /></g>',bx_wishkers:'<g class="cxb"><rect x="2" y="30" width="20" height="40" /><line x1="2" y1="51" x2="22" y2="51" /><rect x="78" y="30" width="20" height="40" /><line x1="78" y1="51" x2="98" y2="51" /></g><g class="cxa"><line x1="2" y1="2" x2="22" y2="2" /><line x1="12" y1="2" x2="12" y2="30" /><line x1="12" y1="70" x2="12" y2="98" /><line x1="2" y1="98" x2="22" y2="98" /></g><path class="cxtxa" d="M56,44 L64,52 L56,60 M40,44 L32,52 L40,60 M64,52 L32,52" />',bx_mean:'<g class="cxb"><rect x="30" y="20" width="40" height="60" /><line x1="30" y1="50" x2="70" y2="50" /><line x1="30" y1="2" x2="70" y2="2" /><line x1="50" y1="2" x2="50" y2="20" /><line x1="30" y1="98" x2="70" y2="98" /><line x1="50" y1="98" x2="50" y2="80" /></g><g class="cxaa"><rect x="40" y="40" width="20" height="20" /></g>',b_grhr:'<g class="cxa"><rect fill="url(\'#hr-grad\')" x="0" y="0" width="100" height="100" /></g>',mr_bottom:'<g class="cxa"><line x1="2" y1="77" x2="98" y2="77" /></g>',tx_stringnumeric:'<text class="cxtn60" x="0" y="65">a</text><text class="cxtn60" x="65" y="70">#</text><g class="cxaa"><text class="cxtn60" x="30" y="40">&#10554;</text><text class="cxtn60" x="30" y="100">&#10555;</text></g>',op_redo:'<g class="cxa"><path d="M94.5,31.5l-39.8-29V16h-1.1C27.4,15.6,5.8,36.6,5.5,62.8c0,0,0,0.1,0,0.1c0,13.2,5.7,25.7,15.5,34.5c-3.4-5.4-5.3-11.6-5.3-18C16,60,31.9,44.5,51.4,44.8c0,0,0,0,0,0c1.1,0,2.3,0,3.4,0.2v15.6L94.5,31.5z"/></g>'}},CanvasXpress.doc={P:{titleAlign:{M:"Titles and Subtitles",O:["left","center","right"],T:"option",D:"center",H:['{[*],"title":"Graph Title"}'],C:"Title alignment<br>"},fitLineColor:{T:"color",C:"Color for the fit line<br>",H:['{[*],"data":"Random:200:2","graphType":"Scatter2D","showLoessFit":true}'],M:"Error Bars and Confidence Intervals",D:"rgb(255,215,0)"},barnesHutNodesCache:{T:"array",C:"Barnes Hut node cache for performance and avoid Javascript GC<br>",M:"Network Algorithm Parameters",D:"[]",Z:"true"},boxplotColor:{D:"false",M:"Boxplot Graphs",H:['{[*],"data":"Random:2:12:0:2","groupingFactors":["Factor1"]}'],C:"Color for the boxplot if individual data points are shown.<br>",T:"color"},editable:{C:"Editable in JS Fiddle.<br>",T:"boolean",M:"General",D:"true",H:["{[*]}"]},movable:{C:"Flag to disable moving the canvas by dragging the mouse from the move image in the toolbar<br>",T:"boolean",M:"Events",D:"true",H:["{[*]}"]},offline:{C:"Flag to work offline<br>",T:"boolean",D:"false",M:"Debug"},pieLabelType:{O:["percentage","value"],T:"option",M:"Pie Charts",C:"Pie label type to show the percentage of the slice or the actual number<br>",D:"percentage",H:["{[*]}"]},backgroundType:{H:['{[*],"backgroundImage":"https://www.canvasxpress.org/assets/images/nanotube.jpg"}'],D:"solid",C:"Specifies the style for the background of the canvas. The canvas background is composed of a frame with a window where the data is plotted. Either of these elements the may be a solid or gradient color or an image of your choosing. The colorScheme property will be used If gradient is specified.<br>",M:"Foreground and Background",T:"option",S:["backgroundImage","gradientOrientation","colorScheme"],O:["solid","gradient","window","windowGradient","windowSolidGradient","image","windowImage"]},varDendrogramPosition:{C:"Position for the variable dendrogram in the plot. It could be top, bottom, right or left depending on the orientation of the graph.<br>",D:"top",H:['{[*],"data":"Random:4:8:1:1","graphType":"Heatmap","variablesClustered":true}'],O:["top","bottom"],T:"option",M:"Dendrograms"},transpose:{U:["Bar","Line","Area","AreaLine","Dotplot","Heatmap","Stacked","StackedPercent","Boxplot","StackedLine","StackedPercentLine"],C:"Transpose the data. It takes no parameters<br>",T:"void",M:"Functions"},showVariableNames:{T:"boolean",U:["Heatmap"],M:"Variables",C:"Flag to show the variable names in one dimensional plots<br>",H:["{[*]}"],D:"true"},featureCoordinateHeight:{C:"Default size in pixels of the coordinates height<br>",T:"integer",M:"Genome Browser",D:"14",H:["{[*]}"]},isMultidimensionalData:{T:"boolean",C:"Flag to indicate if there is more than a single data set.<br>",M:"Heatmap Graphs",D:"false",Z:"true"},randomDataMax:{D:"100",M:"Random",C:"Maxmun value when creating random data<br>",T:"integer"},yAxisMaxStrLength:{M:"Y-Axis",D:"null",C:"Longest string of all the values in the ticks in the Y axis<br>",T:"string",Z:"true"},xAxisTransformTicks:{U:["Scatter2D","ScatterBubble2D"],T:"boolean",M:"X-Axis",C:"Flag to transform the values of the ticks in the X axis<br>",D:"true",H:['{[*],"xAxisTransform":"log10","graphType":"Scatter2D"}']},adjustAspectRatioMax:{Z:"true",C:"Specifies the number of times to try to automatically adjust the size of the canvas when adjustAspectRatio is true<br>",T:"integer",D:"3",M:"Aspect Ratio, Space and width"},drawArea:{T:"void",C:"Display event areas<br>",M:"Functions"},disableWheel:{M:"Events",D:"false",H:["{[*]}"],C:"Flag to disable wheel. <br>",T:"boolean"},createRandomData:{M:"Functions",T:"void",C:"Create a random data set<br>"},sequenceStartColor:{H:["{[*]}"],D:"rgb(0,204,0)",M:"Genome Browser",T:"color",C:"Color for the start codon in the genome browser<br>"},manhattanMarkerChromosomeNumber:{T:"string",M:"Scatter Plots",C:"Sample name included in the 'data.y.smps'  object used to map to the chromosome number.<br>",D:"false",H:['{[*],"graphType":"Scatter2D"}'],X:"getSamplesAsArray"},stringVariableFactors:{C:"Array containing variable factors. The numeric variable factors will be treated as strings. This parameter accomplishes the same as the function switchNumericToString for variables at load time. It can be used in conjunction with the parameter asVariableFactors. TO DO: write example.<br>",T:"array",M:"Data",D:"[]",H:['{"data":"Random:4:8:2:2","stringVariableFactors":["Annt1"]}']},barType:{H:['{[*],"data":"Random:1:8","graphType":"Bar","widthFactor":0.1}'],D:"normal",C:"Flag to produce normal or lollipop bar graphs<br>",M:"Bar Graphs",T:"option",O:["normal","lollipop","arrow","swimmer"]},yAxisTickStyle:{U:["Scatter2D","ScatterBubble2D","Scatter3D","Correlation"],O:["solid","dotted","dashed","dotdash","longdash","twodash"],T:"option",M:"Y-Axis",C:"Style for the tick lines in the Y axis<br>",D:"solid",H:['{[*],"data":"Random:10:2","graphType":"Scatter2D"}']},nodeFontColor:{D:"rgb(0,0,0)",M:"Network Graphs",H:['{[*],"data":"RandomNetwork:1:20:10:0:0:large"}'],C:"Color for the network text<br>",T:"color"},resizableY:{M:"Events",D:"true",H:["{[*]}"],C:"Flag to disable resizing the height of canvas by dragging the mouse over the edges<br>",T:"boolean"},blockContrast:{T:"boolean",S:["evenColor","oddColor"],M:"Plot area",C:"A flag to creates a shade between the samples so there are two backgrounds, one for the odd samples and one for the even samples.<br>",H:['{[*],"graphType":"Bar"}'],D:"false"},is3DNetwork:{H:['{[*],"data":"RandomNetwork:1:20:10:0:0:large"}'],D:"false",M:"Network Graphs",T:"boolean",C:"Flag to create or not a 3D network<br>"},sizeEdgeBy:{C:"Name of the attribute to size the edges.<br>",T:"string",M:"Network Node and Edge Attributes",D:"false",H:['{"data":"RandomNetwork:1:20:10:0:0:large","sizeEdgeBy":"kind"}']},randomDataMin:{D:"1",M:"Random",T:"integer",C:"Minimun value when creating random data<br>"},decorationsBox:{M:"Decorations",T:"boolean",S:["decorationsBoxColor","decorationsBackgroundColor"],H:['{[*],"data":"Random:16:2","showDecorations":true,"graphType":"Scatter2D","functions":["addNormalDistributionLine"]}'],D:"false",C:"Flag to create a box around the decoration legend<br>"},treemapBorderWidth:{H:["{[*]}"],M:"Treemap Graphs",D:"3",T:"integer",C:"Width for the treemap border<br>"},xAxis:{M:"X-Axis",T:"array",H:['{"xAxis":["S1","S2","S3"],"yAxis":["S4","S5","S6"],"graphType":"Scatter2D"}'],X:"getSamplesVariablesAsArray",D:"[]",C:"Name of the samples or sample groups to be displayed in the X axis if scatter plot or variables if one dimensional graphs<br>"},sizes:{T:"array",O:["8","10","12","14","16","18","20","22","24","26","28","30","32","34","36","38","40","42","44","46","48","50","52","54"],M:"General Attributes",C:"Array with sizes used invisualizations. The order will dictate the utilization in the visualization.<br>",H:['{"data":"Random:16:3:16:0","graphType":"Scatter3D","sizeBy":"Annt1"}'],D:[8,12,16,20,24,28,32,36,40,44,48]},featureFillColor:{T:"color",C:"Default color for the fill of the feature in the genome browser<br>",H:["{[*]}"],M:"Genome Browser",D:"rgb(255,255,255)"},smpLabelFontColor:{T:"color",C:"Font color for the sample labels in one dimensional plots<br>",H:["{[*]}"],D:"rgb(0,0,0)",M:"Samples"},hideHistogram:{C:"Flag to hide the histogram bars<br>",D:"false",H:['{[*],"data":"Random:200:1","functions":["createHistogram"],"histogramBins":50}'],S:["createHistogram","densityKernel"],T:"boolean",M:"Histograms"},randomDataTime:{M:"Random",D:"false",T:"boolean",C:"Flag to create or not time series random data for debug and demonstration purposes<br>"},sequencePColor:{D:"rgb(255,165,0)",M:"Genome Browser",H:["{[*]}"],C:"Color for the prolines in the genome browser<br>",T:"color"},heatmapSmpSeparateBy:{M:"Heatmap Graphs",S:["smpOverlays"],T:"string",D:"false",H:['{"graphType":"Heatmap","heatmapSmpSeparateBy":"Factor1","samplesClustered":true,"smpOverlays":["Factor1"]}'],X:"getXData",C:"Factor (in the x data object) used to separate the samples in the heatmap. The same factor must be included in the sample overlays.<br>"},zAxisFloorValue:{D:"null",M:"Z-Axis",H:['{[null,50],"data":"Random:10:3","graphType":"Scatter3D"}'],C:"Value to floor the data in the Z axis.<br>",T:"float"},mapPropertyId:{D:"false",M:"Maps",T:"string",C:"Map Property Id use to match the data ids to the GeoJSON layer Id<br>"},smpTitleFontSize:{H:['{[*],"smpTitle":"SampleTitle","autoScaleFont":false}'],D:"12",M:"Samples",T:"integer",C:"Size for the sample title in one dimensional plots<br>"},varTitleFont:{Z:"true",D:"12px Verdana",M:"Fonts",C:"Font for the variable titles in one dimensional plots<br>",T:"font"},marginLeft:{T:"integer",C:"Specifies the length in pixels for the left margin in the canvas.<br>",H:['{[5,100],"data":"Random:1:3"}'],D:"5",M:"Margins"},randomDataVariableAnnotations:{M:"Random",D:"2",T:"integer",C:"Default number of variable annotations when creating random data<br>"},filterSmpBy:{C:"Filter samples by their annotation included in the 'data.x' object used in one dimensional plots. Used in the CanvasXpress UIs.<br>",X:"getXData",D:"{'cases':[],'comp':[],'op':[],'type':[],'value':[]}",T:"filter",U:["AGraphs"],M:"Data Filters"},canvasBox:{M:"General",T:"boolean",S:["canvasBoxColor"],H:["{[*]}"],D:"false",C:"Flag to draw a box around the canvas<br>"},titleColor:{H:['{[*],"title":"Graph Title"}'],D:"rgb(0,0,0)",C:"Color for the title<br>",M:"Titles and Subtitles",T:"color",S:["title","titleHeight"]},fitLineTransparency:{C:"The transparency for the fit line. A value between 0 and 1.<br>",T:"float",M:"Error Bars and Confidence Intervals",D:"1",H:['{[*],"graphType":"Bar"}']},boxplotTransparency:{C:"Fraction to adjust color transparency for the boxplot id individual data points are shown.<br>",T:"float",D:"0.5",M:"Boxplot Graphs",H:['{[*],"data":"Random:2:12:0:2","groupingFactors":["Factor1"]}']},zRotate:{H:['{[0,45],"data":"Random:8:4","graphType":"Scatter3D"}'],M:"3D Attributes",D:"0",T:"float",C:"Starting number of degrees to rotate graph arround the Z axis<br>"},randomDataSampleAnnotations:{T:"integer",C:"Default number of sample annotations when creating random data<br>",M:"Random",D:"2"},showTransition:{M:"Animations and Visualization Transitions",D:"false",H:['{[*],"graphType":"Bar","groupingFactors":["Factor1"]}'],C:"Flag to show or not transitions for the graphs<br>",T:"boolean"},timeFormat:{T:"option",O:["default","shortDate","mediumDate","longDate","fullDate","shortTime","mediumTime","longTime","isoDate","isoTime","isoDateTime","isoUtcDateTime","year","month","day","hour","minute","second"],C:"Time Format according to date.format.js Steven Levithan <stevenlevithan.com><br>",M:"Time Series",D:"isoDate"},mapId:{T:"string",C:"Map Id for the map div in the DOM<br>",D:"false",M:"Maps"},boxplotMeanColor:{C:"Color for the mean of data in boxplots<br>",T:"color",M:"Boxplot Graphs",D:"rgb(255,215,0)",H:['{[*],"data":"Random:2:12:0:2","boxplotMean":true,"groupingFactors":["Factor1"]}']},maxOverlayStringLen:{C:"Maximum length in characters for the sample factor (in the 'data.x' object) or variable annotation (in the 'data.z' object) when included as an overlay. Anything above is truncated.<br>",T:"integer",M:"Overlays",D:"30",H:['{[4,50],"data":"Random:10:10:3:3","graphType":"Heatmap","varOverlays":["Annt1","Annt2","Annt3"],"smpOverlays":["Factor1","Factor2","Factor3"]}']},showContourBands:{D:"true",H:['{"data":"Random:20:20","functions":["createContour"]}'],C:"Flag to show the contour bands<br>",M:"Contours",S:["contourBandsColor"],T:"boolean"},is3DPlot:{C:"Flag to create or not a 3D plot<br>",T:"boolean",D:"false",M:"Plot area",H:['{[*],"graphType":"Bar"}']},dendrogramColor:{C:"The color for the dendrograms<br>",T:"color",D:"rgb(0,0,0)",M:"Dendrograms",H:['{[*],"data":"Random:4:8:1:1","graphType":"Heatmap","samplesClustered":true,"variablesClustered":true}']},axisTitleScaleFontFactor:{M:"Axis",D:"1",H:['{[*],"xAxisTitle":"Axis Title"}'],C:"Scaling factor used to increase or decrease title font size in the canvas in one, two and three dimensional plots<br>",T:"float"},showViolinBoxplot:{T:"boolean",C:"Flag to show violin plot in boxplots<br>",H:['{[*],"data":"Random:2:12:0:2","groupingFactors":["Factor1"]}'],M:"Boxplot Graphs",D:"false"},meterColors:{T:"array",S:["meterSegments"],M:"Meter Graphs",C:"Meter Colors.<br>",H:['{[*],"graphType":"Meter"}'],D:"[]"},barLollipopOpen:{C:"Pattern open for th lollipop<br>",T:"boolean",M:"Bar Graphs",D:"false",H:['{[*],"data":"Random:1:8","graphType":"Bar","barType":"lollipop"}']},dataPointSizeScaleFactor:{T:"float",C:"Factor used to adjust the size of the dataPointSize.<br>",H:['{[*],"graphType":"Scatter2D"}'],D:"1",M:"Aspect Ratio, Space and width"},showLoessFit:{D:"false",M:"Loess",H:['{[*],"data":"Random:200:2","graphType":"Scatter2D"}'],C:"Flag to show the loess fit in Scatter2D plots<br>",T:"boolean"},setMaxX:{T:"float",C:"Maximum value to set the data in the X axis<br>",H:['{[20,50,null],"graphType":"Bar"}','{[20,50,null],"graphType":"Scatter2D"}'],M:"X-Axis",D:"null"},disableToolbar:{M:"Events",D:"false",H:["{[*]}"],C:"Flag to disable showing the toolbar<br>",T:"boolean"},oncoprintColSummary:{H:["{[*]}"],D:"false",M:"Oncoprint Graphs",T:"boolean",C:"Flag to show column summary in oncoprints.<br>"},ganttDependencyEnd:{C:"Variable annotation for the type of ending for the dependency line. Options are 'arrow', 'square' or 'round'.<br>",X:"getXData",H:['{[*],"data":"Gantt","graphType":"Gantt"}'],D:"false",T:"option",O:["false"],M:"Gantt Charts"},varIndicesStart:{C:"Number that indicates starting point for variables in heatmaps when the canvas is zoom in.<br>",T:"integer",M:"Heatmap Graphs",D:"-1",Z:"true"},varLabelInterval:{D:"1",H:["{[*]}"],C:"Interval for the variable labels in heatmaps<br>",M:"Variables",U:["Heatmap"],T:"integer"},histogramBins:{C:"Approximate number of bins in a histogram. It may vary considerably to the actual number used in the histogram to ensure a 'pretty' size for the intervals in the histogram. Default is the same as in ggplot which is 30.<br>",H:['{[10,50],"data":"Random:200:1","functions":["createHistogram"]}'],D:"30",T:"integer",S:["createHistogram"],M:"Histograms"},ringGraphType:{D:"[]",H:['{"data":"RandomCircular:4:8:2:3","segregateVariablesBy":["Ring"],"ringGraphType":["bar","heatmap","dot"]}'],C:"Array containing the graph type for each ring in the circular plot.<br>",M:"Circular Graphs",S:["ringOrder"],T:"array"},colorScheme:{C:"Color schemes can be user defined which will take the colors in the color property or one provided in canvasXpress. The order of the colors will be used to sequentially select when a different color is needed in a particular visualization.<br>",X:"getColorSchemes",H:['{[*],"data":"Random:8:1:0:0:1:100:0:false:uniform","graphType":"Pie"}'],D:"User",T:"option",O:["YlGn","YlGnBu","GnBu","BuGn","PuBuGn","PuBu","BuPu","RdPu","PuRd","OrRd","YlOrRd","YlOrBr","Purples","Blues","Greens","Oranges","Reds","Greys","PuOr","BrBG","PRGn","PiYG","RdBu","RdGy","RdYlBu","Spectral","RdYlGn","Accent","Dark2","Paired","Pastel1","Pastel2","Set1","Set2","Set3","Default","Basic","Light","Favorite","Pastel","Balanced","Rpalette","RlatticeBackground","RlatticeShingle","RlatticeLine","RlatticePolygon","Bootstrap","Economist","EconomistBG","Excel","Excel2","Excel3","GGPlot","Solarized","SolarizedBase","PaulTol","ColorBlind","Tableau","TableauGrey","TableauColorBlind","TableauTrafficLight","TableauPurpleGrey","TableauBlueRed","TableauGreenOrange","TableauCyclic","TableauPairSequential","TableauTripleDiverging","WallStreetJournal","WallStreetJournal2","WallStreetJournal3","WallStreetJournalRedGreen","WallStreetJournalBlackGreen","WallStreetJournalDemRep","Stata","Stata2","Stata3","StataMono","BlackAndWhite","CanvasXpress","CanvasXpressT"],S:["colors"],M:"Colors"},yAxisTransformTicks:{T:"boolean",C:"Flag to transform the values of the ticks in the Y axis<br>",H:['{[*],"data":"Random:10:2","yAxisTransform":"log10","graphType":"Scatter2D"}'],D:"true",M:"Y-Axis"},tooltipDivEffectOut:{C:"tooltipDivEffectOut<br>",T:"string",M:"Effect",D:"spaceInUp",H:["{[*]}"]},patternBy:{T:"option",O:["false","variable"],S:["patternByData"],M:"Data Point Attributes",C:"Name of a variable annotation or a sample name or the string 'variable' to pattern the variables. When patternByData is specified patternBy is used for the title in the legend.<br>",X:"getXZData",H:['{"data":"Random:8:4:1:1","graphType":"Scatter3D","patternBy":"Annt1"}','{"data":"Random:8:4:1:1","graphType":"Scatter3D","patternBy":"Sample4"}','{"data":"Random:4:8:1:1","graphType":"Bar","patternBy":"Factor1"}','{"data":"Random:4:8:1:1","graphType":"Dotplot","patternBy":"Factor1"}','{"data":"Random:4:8:1:1","graphType":"Dotplot","patternBy":"Annt1"}'],D:"false"},connectByShowLegend:{H:['{[*],"graphType":"Dotplot","connectBy":"Factor1"}'],D:"true",M:"Data Point Attributes",T:"boolean",C:"Flag to show the connectBy legend<br>"},adjustAspectRatioHeatmapIndicator:{S:["adjustAspectRatio"],T:"boolean",M:"Heatmap Graphs",C:"Flag to adjust aspect ratio of heatmap indicator. It depends on the adjustAspectRatio parameter; that is, the adjustAspectRatio parameter has to set to true for the adjustAspectRatioHeatmapIndicator to take effect.<br>",D:"true",H:["{[*]}"]},xAxisMaxStrLength:{T:"string",C:"Longest string of all the values in the ticks in the X axis<br>",D:"null",M:"X-Axis",Z:"true"},featureTranslateShow:{C:"Flag use to show tranlation<br>",T:"boolean",D:"true",M:"Genome Browser",H:["{[*]}"]},filterSkipNullKeys:{M:"Data Filters",D:"false",C:"Flag to indicate to bypass filtering when a key is non existent in the data objects.<br>",T:"boolean"},randomNetworkLayout:{D:"forceLayout",C:"Random network layout<br>",M:"Random",T:"option",O:["forceDirected","circular","radial","duo","trio","pentagon","hexagon","octagon","star","small","medium","large","huge","lesmiserables","karate"],U:["Network"]},motionEffectIn:{H:["{[*]}"],M:"Effect",D:"swashIn",T:"string",C:"motionEffectIn<br>"},showSampleNames:{T:"boolean",C:"Flag to show the sample names in one dimensional plots.<br>",H:["{[*]}"],M:"Samples",D:"true"},decorationsBackgroundColor:{H:['{[*],"data":"Random:16:2","showDecorations":true,"graphType":"Scatter2D","functions":["addNormalDistributionLine"]}'],D:"rgba(255,255,255,0)",C:"Color for the decoration legend background<br>",M:"Decorations",T:"color",S:["decorationsBox"]},xAxisTickStyle:{C:"Style for the tick lines in the X axis<br>",D:"solid",H:["{[*]}"],O:["solid","dotted","dashed","dotdash","longdash","twodash"],T:"option",M:"X-Axis"},boxplotWhiskersType:{C:"Boxplot whiskers type<br>",H:['{[*],"data":"Random:2:12:0:1:1:100:0:false:normal:50:10","groupingFactors":["Factor1"]}'],D:"double",T:"option",O:["single","double","none"],M:"Boxplot Graphs"},evenColor:{C:"The color for the even numbers in samples when the property block contrast is set in one dimensional plots or the color for odd number residues in translations in genome plots.<br>",H:['{[*],"data":"Random:1:6","blockContrast":true}'],D:"rgb(245,245,245)",T:"color",S:["blockContrast","oddColor"],M:"Colors"},barnesHutNodesCacheCurrent:{Z:"true",T:"integer",C:"Barnes Hut idex for node cache for performance and avoid Javascript GC<br>",M:"Network Algorithm Parameters",D:"0"},joinType:{M:"Lines",T:"option",O:["mitter","bevel","round"],H:['{[*],"data":"RandomNetwork:1:20:10:1:0:forceDirected","graphType":"Network"}'],D:"mitter",C:"Default type for joining lines.<br>"},view:{C:"Specify the starting view of the data<br>",H:["{[*]}"],D:"canvas",T:"option",O:["canvas","table","layout"],M:"General"},trackNameFont:{Z:"true",D:"12px Verdana",M:"Fonts",T:"font",C:"Font for the text of the tracks in the genome browser<br>"},featureTranslateHeight:{T:"integer",C:"Default size in pixels of the translation height<br>",H:["{[*]}"],M:"Genome Browser",D:"14"},yAxis:{U:["Scatter2D","ScatterBubble2D"],T:"array",M:"Y-Axis",C:"Name of the samples groups or variables to be displayed in the Y axis<br>",D:"[]",X:"getSamplesAsArray",H:['{"data":"Random:10:2","xAxis":["S1","S2","S3"],"yAxis":["S4","S5","S6"],"graphType":"Scatter2D"}']},citationScaleFontFactor:{H:['{[*],"citation":"Graph citation or reference"}'],D:"1",M:"Citations or References",T:"float",C:"Scaling factor used to increase or decrease citation font size in the canvas<br>"},disablePlusMinusKeys:{T:"boolean",C:"Flag to disable plus / minus key binding events.<br>",H:["{[*]}"],M:"Events",D:"true"},useRawLines:{T:"boolean",C:"Use raw lines rather than 'potentially' crisp lines. Use only with circular graphs and networks.<br>",M:"General",D:"false"},adjustAspectRatioXTries:{C:"Counter set when trying to automatically adjust the horizontal size of the canvas when adjustAspectRatio is true<br>",T:"integer",M:"Aspect Ratio, Space and width",D:"0",Z:"true"},mapOutlineColor:{T:"color",C:"Color for the outline of the maps<br>",H:["{[*]}"],M:"Maps",D:"rgb(204,204,204)"},maxDataExplorerEntries:{D:"10000",M:"Data Explorer",C:"Maximum number of samples or variables to display in the data explorer<br>",T:"integer"},showPrimaryMenus:{H:["{[*]}"],D:"false",M:"Events",T:"boolean",C:"Flag to show primary menus in toolbar<br>"},isOncoprint:{D:"false",M:"Oncoprint Graphs",C:"Boolean flag to draw an oncoprint<br>",T:"boolean",Z:"true"},verbose:{M:"Debug",D:"false",T:"boolean",C:"Flag to turn on/off verbose<br>"},maxCols:{M:"Data Table",D:"6",C:"Maximum number of columns to display in the data table<br>",T:"integer"},randomDataVariables:{M:"Random",D:"3",T:"integer",C:"Default number of variables when creating random data<br>"},genomeTicks:{D:"50",M:"Genome Browser",H:["{[*]}"],C:"Number of ticks in the genome browser<br>",T:"integer"},setMaxX2:{T:"float",U:["AreaLine","BarLine","StackedLine","StackedPercentLine"],M:"X-Axis2",C:"Maximum value to set the data in the 2nd axis<br>",H:['{[20,50,null],"data":"Random:4:8","graphType":"BarLine","xAxis2":["V1","V2"],"xAxis":["V3","V4"]}'],D:"null"},featureQualityHeight:{D:"14",M:"Genome Browser",H:["{[*]}"],C:"Default size in pixels of the quality height<br>",T:"integer"},contourFilled:{M:"Contours",S:["images","isHistogram","histogramBarWidth"],T:"boolean",D:"false",H:['{[*],"data":"Random:20:20","functions":["createContour"]}'],C:"Flag to color the contour plot<br>"},swimHighCap:{C:"Name of sample annotation to use in Swimmer Plot. Defaults to 'High Cap'. See https://blogs.sas.com/content/graphicallyspeaking/2014/06/22/swimmer-plot/<br>",X:"getXData",H:['{[*],"data":"Swimmer","graphType":"Bar","barType":"swimmer"}'],D:"false",T:"option",O:["false"],M:"Bar Graphs"},sizeByData:{D:"false",H:['{"data":"RandomMultidimensional:5:10:1:1","sizeByData":"data3","sizeBy":"Factor"}'],C:"String that identify the object containing a two dimensional array with values used to size data points when drawing a multidimensional Heatmap. It must be located within the data.y object (for example: data.y.data3)<br>",M:"Data Point Attributes",S:["sizeBy"],U:["Heatmap"],T:"string"},featureNameFontSize:{T:"integer",C:"Size in pixels for the font size of text of the features in the genome browser<br>",H:["{[*]}"],D:"12",M:"Genome Browser"},sizeByContinuous:{H:['{[*],"data":"Random:8:4:3:3","graphType":"Scatter2D","sizeBy":"Factor3"}'],M:"Data Point Attributes",D:"false",T:"boolean",C:"Flag to show the size data continuously as opposed to by binning the sizes<br>"},scaleY:{C:"Scale factor for the Y axis<br>",T:"float",M:"Combination Plots",D:"1",Z:"true"},resizableX:{C:"Flag to disable resizing the width of the canvas by dragging the mouse over the edges<br>",T:"boolean",M:"Events",D:"true",H:["{[*]}"]},manhattanColors:{H:['{[*],"graphType":"Scatter2D"}'],M:"Scatter Plots",D:["rgb(128,128,128)","rgb(135,206,235)"],T:"array",C:"Colors for the manhattan plots"},disableDocument:{D:"false",M:"Events",H:["{[*]}"],C:"Flag to disable mousemove and mouseup in the document.<br>",T:"boolean"},histogramSizeEstimator:{C:"Histogram size estimator<br>",D:"sturges",H:['{[*],"data":"Random:200:1","functions":["createHistogram"],"histogramBins":50,"showHistogramDensity":true}'],O:["sturges","freedmanDiaconis","scott"],S:["createHistogram","showHistogramDensity"],T:"option",M:"Histograms"},variablesClustered:{T:"boolean",C:"Configuration property to cluster variables<br>",H:['{[*],"data":"Random:20:20","graphType":"Heatmap"}'],M:"Clustering",D:"false"},showHistogramMedian:{C:"Flag to show histogram median<br>",H:['{[*],"data":"Random:200:1","functions":["createHistogram"],"histogramBins":50}'],D:"false",T:"boolean",S:["createHistogram","densityKernel"],M:"Histograms"},infoTimeIn:{M:"Events",D:"50",H:["{[*]}"],C:"Time in milliseconds to start showing info after a mouse over<br>",T:"integer"},sankeyTarget:{O:["false"],T:"option",M:"Sankey Diagrams",C:"Name of a sample annotation to use as target in the sankey diagrams<br>",D:"false",X:"getXData",H:['{"data":"RandomSankey","graphType":"Sankey","sankeyTarget":"Target"}','{"data":"RandomSankey","graphType":"Sankey","sankeyTarget":"Target2"}']},plotBoxColor:{C:"Color for the box around the x,y coordinates of the plot<br>",H:['{[*],"plotBox":true}'],D:"rgb(204,204,204)",T:"color",S:["plotBox"],M:"General"},foreground:{T:"color",S:["objectBorderColor"],M:"Foreground and Background",C:"Specifies the foreground color for text or lines not covered in a more specific configuration property.<br>",H:['{[*],"data":"Random:1:3:0:0","graphType":"Dotplot"}'],D:"rgb(0,0,0)"},correlationType:{M:"Correlation Graphs",T:"option",O:["diamond","circle"],H:['{[*],"data":"Random:4:8"}'],D:"diamond",C:"Shape to use in the correlation graphs<br>"},meterVar:{M:"Meter Graphs",D:"false",H:['{[*],"graphType":"Meter"}'],C:"Name of the variable use to create the meter. The first variable will be used if not specified or if it is non-valid.<br>",T:"option"},colorSpectrumBreaks:{C:"An array with numbers in ascending order for the color spectrum to create discontinuous spectra. It must have the same length of the colorSpectrum array for example [0, 0.3, 1]<br>",D:"[]",H:['{"graphType":"Heatmap","colorSpectrumBreaks":[1,15,30,50,70,85,100]}','{"graphType":"Heatmap","colorSpectrumBreaks":[1,10,20,30,40,50,75]}'],S:["colorSpectrum"],T:"array",M:"Colors"},pieType:{C:"Position for the pices of the pie<br>",H:["{[*]}"],D:"separated",T:"option",O:["separated","solid"],M:"Pie Charts"},ganttEnd:{D:"false",H:['{[*],"data":"Gantt","graphType":"Gantt"}'],X:"getVariablesAsArray",C:"Variable to use in Gantt plots as end date. Defaults to the second variable in the data set.<br>",M:"Gantt Charts",O:["false"],T:"option"},reset:{C:"Reset the canvas<br>",T:"void",M:"Functions"},layoutWidth:{T:"float",C:"Width of the current segment of the canvas when there are multiple graphs.<br>",D:"0",M:"Combination Plots",Z:"true"},outlineByData:{C:"String that identify the object containing a two dimensional array with values used to color the outline data points when drawing a multidimensional Heatmap. It must be located within the data.y object (for example: data.y.data4)<br>",H:['{"data":"RandomMultidimensional:5:10:1:1","graphType":"Heatmap","outlineByData":"data2","outlineBy":"DataOutline"}'],D:"false",T:"string",S:["outlineBy"],U:["Heatmap"],M:"Data Point Attributes"},decorationFontSize:{C:"Font size for the decorations in scatter plots and network graphs<br>",T:"integer",M:"Decorations",D:"12",H:['{[*],"data":"Random:16:2","autoScaleFont":false,"showDecorations":true,"graphType":"Scatter2D","functions":["addNormalDistributionLine"]}']},highlightVar:{M:"Variables",U:["Heatmap"],T:"array",D:"[]",X:"getVariablesAsArray",H:['{"highlightVar":["V1","V3"]}'],C:"Name of variables in the 'data.y' object to highlight.<br>"},legend:{C:"Custom legends : Array of objects [{ size : [], shape : [], shapeColor : [], line : [], lineColor : [], lineStart : [], lineEnd : [], text : [], x : number, y : number, title : string }]<br>",D:"[]",H:['{"data":"RandomNetwork:1:20:10:0:0:large","graphType":"Network","legend":[{"size":[20],"shape":["circle"],"shapeColor":["lightblue"],"text":["Node"]}]}','{"data":"RandomNetwork:1:20:10:0:0:large","graphType":"Network","legend":[{"title":"Legend","size":[20,20],"shape":["circle",false],"shapeColor":["lightblue",false],"line":[false,"solid"],"lineColor":[false,"black"],"text":["Node","Edge"]}]}','{"data":"RandomNetwork:1:20:10:0:0:large","graphType":"Network","legend":[{"title":"Legend1","size":[20],"shape":["circle"],"shapeColor":["lightblue"],"line":["dashed"],"lineColor":["black"],"text":["Node"]},{"title":"Legend2","size":[20],"line":["solid"],"lineColor":["black"],"text":["Edge"]}]}'],U:["Network"],T:"array",M:"Legends"},removeHistogram:{T:"void",U:["Scatter2D","ScatterBubble2D","Scatter3D"],C:"Remove histogram from a 2D-Scatter plot<br>",M:"Functions"},shapeBy:{O:["false","variable"],S:["shapeByData"],T:"option",M:"Data Point Attributes",C:"Name of a variable annotation or a sample name or the string 'variable' to shape the variables. When shapeByData is specified shapeBy is used for the title in the legend.<br>",D:"false",X:"getXZData",H:['{"data":"Random:8:4:1:1","graphType":"Scatter3D","shapeBy":"Annt1"}','{"data":"Random:8:4:1:1","graphType":"Scatter3D","shapeBy":"Sample4"}','{"data":"Random:4:8:1:1","graphType":"Dotplot","shapeBy":"Factor1"}','{"data":"Random:4:8:1:1","graphType":"Dotplot","shapeBy":"Annt1"}']},filterMode:{M:"Data Filters",O:["remove","hide","color"],S:["transparencyHidden","missingDataColor"],T:"option",D:"remove",C:"Mode for the filter. Can be 'remove' to remove the data from the plot, 'hide' to hide the data similarily to legend filters (may be useful to adjustor transparencyHidden) or 'color' to color the data point with a set color (may be useful to adjust missingDataColor).<br>"},skipConfigurableProperties:{C:"Flag to indicate to exclude configurable parameters in the data table and the data filters in Networks and Genome Browser<br>",T:"boolean",M:"Data Table/Filter",D:"true"},stringSampleFactors:{C:"Array containing sample factors. The numeric sample factors will be treated as strings. This parameter accomplishes the same as the function switchNumericToString for samples at load time. It can be used in conjunction with the parameter asSampleFactors. TO DO: write example.<br>",T:"array",D:"[]",M:"Data",H:['{"data":"Random:4:8:2:2","stringSampleFactors":["Factor1"]}']},addRegressionLine:{M:"Functions",T:"void",C:"Add regression line(s) to a 2D-Scatter plot<br>",U:["Scatter2D","ScatterBubble2D","Scatter3D"]},overlayFont:{Z:"true",T:"font",C:"Font for the overlays in one dimensional plots<br>",M:"Fonts",D:"12px Verdana"},smpIndicesStart:{T:"integer",C:"Number that indicates starting point for samples in heatmaps when the canvas is zoom in.<br>",M:"Heatmap Graphs",D:"-1",Z:"true"},sequenceHColor:{H:["{[*]}"],D:"rgb(255,0,0)",M:"Genome Browser",T:"color",C:"Color for the degenerate A/C/T and histidines in the genome browser<br>"},smpLabelInterval:{T:"integer",C:"Interval for the sample labels in one dimensional and circular plots<br>",H:["{[*]}"],M:"Samples",D:"1"},standardDeviationType:{O:["biased","unbiased"],T:"option",M:"Error Bars and Confidence Intervals",C:"Type of Standard Deviation. 'biased' uses n as denominator and 'unbiased' uses (n - 1) as denominator where n is the number of values<br>",D:"unbiased",H:['{[*],"setMinX":0,"groupingFactors":["Factor1"]}']},sequenceUColor:{T:"color",C:"Color for the uracils in the genome browser<br>",H:["{[*]}"],M:"Genome Browser",D:"rgb(255,0,0)"},bandwidthCut:{C:"Bandwidth cut<br>",H:['{[*],"data":"Random:200:1","functions":["createHistogram"],"histogramBins":50,"showHistogramDensity":true}'],D:"3",T:"integer",S:["createHistogram","showHistogramDensity"],M:"Density Plots"},layoutComb:{M:"Combination Plots",D:"false",C:"Flag that identify that multiple graphs will be displayed in the canvas. This is the case when ata is segregated, splom, multiple pies or DOE visualizations.<br>",T:"boolean",Z:"true"},coordinateLineColor:{T:"boolean",C:"Flag to used same color in BarLine plots. If set to true the color of the bars and the lines will be coordinated<br>",H:['{[*],"graphType":"BarLine","xAxis":["V1","V2"],"xAxis2":["V3","V4"]}'],M:"Line Graphs",D:"false"},linePatterns:{M:"General Attributes",O:["solid","dotted","dashed","dotdash","longdash","twodash"],T:"array",D:["solid","dotted","dashed","dotdash","longdash","twodash"],H:['{[*],"data":"Random:4:6","graphType":"Line"}'],C:"Line Patterns used in line visualizations.<br>"},printType:{D:"download",H:["{[*]}"],C:"Type of printing when the camera icon in the UI is pressed. Download is to download the image while window is to save the image in a new browser window.<br>",M:"General",O:["download","window"],T:"option"},histogramData:{T:"string",C:"Flag or sample annotation to create histogram. If 'true' is specified then the histogram will be done with all data<br>",H:['{[*],"data":"Random:200:1","histogramBins":50}'],D:"false",M:"Data"},axisMinMaxTickThickness:{H:['{[*],"graphType":"Scatter2D"}'],D:"1",C:"Thickness of the min and max axis ticks in two dimensional plots.<br>",M:"Axis",T:"float",U:["Scatter2D","ScatterBubble2D"]},yAxis2Show:{D:"false",H:['{[*],"data":"Random:10:2","graphType":"Scatter2D"}'],C:"Flag to show or not the values of the ticks in the Y axis at the right in Scatter plots<br>",M:"Y-Axis",U:["Scatter2D","ScatterBubble2D","Scatter3D","Correlation"],T:"boolean"},yAxisCeilValue:{D:"null",M:"Y-Axis",H:['{[null,50],"data":"Random:10:2","graphType":"Scatter2D"}'],C:"Value to ceil the data in the Y axis.<br>",T:"float"},trackConfigurableProperties:{C:"Track configurable properties<br> @tracks {name:[string];Track name;[]}",T:"array",M:"Genome Browser",D:["name","hideName","hideFeatureNames","type","height","fill","outline","data","hide","connect","subtracksMax","highlight"],H:["{[*]}"]},remoteUpdating:{Z:"true",M:"Remote Procedures",D:"false",T:"boolean",C:"Flag to indicate that updating data is in progress<br>"},legendOrder:{T:"object",C:"Object to specify custom order for the levels in the legends. The key of the object is the name of an annotation in the data.x object, or the name of an annotation in the data.z object. The value for element is an array with the levels for the corresponding factor<br>",H:['{"data":"Random:16:2:1:0","showDecorations":true,"graphType":"Scatter2D","colorBy":"Annt1","legendOrder":false}','{"data":"Random:16:2:1:0","showDecorations":true,"graphType":"Scatter2D","colorBy":"Annt1","legendOrder":{"Annt1":["Desc:2","Desc:1"]}}'],M:"Legends",D:"false"},decorationsColors:{U:["Network"],T:"array",M:"Decorations",C:"Array of colors used for selection in network decorations not to be confused by its singular form 'decorationsColor' above<br>",D:"[]",H:['{"data":"RandomNetwork:1:20:10:0:0:large","graphType":"Network","decorationsPosition":"right","showDecorations":true,"decorationsColors":["rgb(51,125,255)","rgb(125,255,51)","rgb(255,125,51)"],"decorations":["D1","D2","D3"]}']},networkGravity:{T:"float",C:"Network Gravity<br>",H:['{[*],"data":"RandomNetwork:1:20:10:0:0:large"}'],M:"Network Algorithm Parameters",D:"0.75"},rAxisZero:{M:"Circular Graphs",D:"false",T:"boolean",C:"Flag to force the rAxis property to start from zero otherwise it starts from the minimum value.<br>"},motionCurrentScaleFontFactor:{H:['{"data":"Random:30:3:2:2","graphType":"Scatter2D","motionBy":"Annt1"}'],M:"Motion Charts",D:"1",T:"float",C:"Scaling factor used to increase or decrease font size in motion charts.<br>"},samplesClustered:{M:"Clustering",D:"false",H:['{[*],"data":"Random:20:20","graphType":"Heatmap"}'],C:"Configuration property to cluster samples<br>",T:"boolean"},oncoprintNoAlterations:{D:"true",M:"Oncoprint Graphs",H:["{[*]}"],C:"Switch to show variables and samples without any alterations.<br>",T:"boolean"},xAxis2ValuesRaw:{M:"X-Axis2",U:["AreaLine","BarLine","StackedLine","StackedPercentLine"],T:"array",D:"[]",C:"Raw values for the ticks in the 2nd X axis<br>",Z:"true"},remoteParamOverride:{C:"Flag to override parameters to maintain the state of the graphs when using remote services<br>",T:"boolean",M:"Remote Procedures",D:"true"},axisTickColor:{T:"color",C:"Color of the axis ticks.<br>",H:["{[*]}"],M:"Axis",D:"rgb(0,0,0)"},showSmpDendrogram:{M:"Dendrograms",D:"true",H:['{[*],"data":"Random:4:8:1:1","graphType":"Heatmap","samplesClustered":true}'],C:"Flag to show or not the sample dendrogram<br>",T:"boolean"},featureSignalToNoiseValues:{T:"boolean",C:"Flag use to show values for the quality<br>",H:["{[*]}"],D:"false",M:"Genome Browser"},boxplotHingeFunction:{M:"Boxplot Graphs",O:["summary","fivenum"],T:"option",D:"summary",H:['{[*],"data":"Random:2:12:0:2","groupingFactors":["Factor1"]}'],C:"Function to calculate the boxplor hinges. See https://chemicalstatistician.wordpress.com/2013/08/12/exploratory-data-analysis-the-5-number-summary-two-different-methods-in-r-2/<br>"},rAxisMaxStrLength:{Z:"true",D:"null",M:"R-Axis",T:"string",C:"Longest string of all the values in the ticks in the R axis<br>"},featureTypeDefault:{T:"option",C:"Default type for the feature in the genome browser<br>",O:["box","bar","heatmap","sequence","triangle","line"],M:"Genome Browser",D:"line"},arcSegmentsRadius:{T:"array",S:["arcSegmentsRadius"],M:"Circular Graphs",C:"Array containing the proportion of the radius for each arc segment in the circular plot. If not specified then all radius will be the same. The plot will be scaled based of the largest value in the array<br>",H:['{"data":"RandomCircular:4:8:2:3","graphType":"Circular","segregateSamplesBy":["Factor2"],"arcSegmentsRadius":[0.8,0.9,1]}'],D:"[]"},subtitleFontStyle:{D:"",H:['{[*],"title":"Graph Title","subtitle":"Graph Subtitle"}'],C:"Font style for the title.<br>",M:"Titles and Subtitles",O:["","bold","italic","bold italic"],T:"option"},minTextSize:{M:"Text",D:"4",H:['{[*],"title":"Graph Title"}'],C:"Minimum size for any text in the canvas.<br>",T:"integer"},xAxisExact:{M:"X-Axis",U:["Scatter3D"],T:"boolean",D:"false",H:['{[*],"graphType":"Scatter3D"}'],C:"Flag to force exact values for the data in the X axis<br>"},sankeyIterations:{Z:"true",D:"32",M:"Sankey Diagrams",T:"integer",C:"Number of iterations for the Sankey diagram<br>"},nodeFont:{Z:"true",D:"20px Verdana",M:"Fonts",C:"Font for the text in networks<br>",T:"font"},boxplotVarWidth:{M:"Boxplot Graphs",T:"boolean",S:["jitterColumns","boxplotDataPointTransparency","jitter"],H:['{[*],"data":"Random:2:12:0:2","groupingFactors":["Factor1"]}'],D:"false",C:"Flag to adjust the width of boxplots. Similar to R if true then the width is proportional to the sqare root of the number of observations.<br>"},remoteAutoPlay:{D:"false",M:"Remote Procedures",T:"boolean",C:"Flag to automatically iterate over remote data sets<br>"},showHeatmapIndicator:{H:['{[*],"graphType":"Heatmap"}'],D:"true",M:"Heatmap Graphs",T:"boolean",C:"Flag to show the heatmap color indicator<br>"},pseudoRandom:{D:"true",M:"Random",T:"boolean",C:"Flag to indicate to use pseudo random rather than random<br>"},refresehDataTableOnDraw:{M:"Data Table",D:"false",T:"boolean",C:"Flag to indicate to refresh data after drawing the plot<br>"},gradientType:{M:"Gradients",T:"option",S:["gradient"],O:["linear","radial"],H:['{[*],"data":"Random:1:3:0:0","gradient":true}'],D:"radial",C:"Specifies the gradient pattern.<br>"},shadowBlur:{H:['{[*],"showShadow":true}'],D:"2",C:"Amount in blur for the shadow.<br>",M:"Shadows",T:"integer",S:["showShadow"]},zAxisTickColor:{H:['{[*],"data":"Random:10:3","graphType":"Scatter3D"}'],M:"Z-Axis",D:"rgb(204,204,204)",T:"color",C:"Color for the tick lines in the Z axis<br>"},yAxisHistogramHeight:{C:"Number of pixels for the histogram in the Y axis<br>",H:['{[*],"data":"Random:10:2","graphType":"Scatter2D","yAxisHistogramShow":true}'],D:"80",T:"integer",U:["Scatter2D","ScatterBubble2D"],M:"Y-Axis"},selectionColor:{C:"The color used for selected data points when selection mode is to be highlight.<br> @see{selectionMode}",T:"color",M:"Data Selection",D:"rgb(255,0,0)",H:['{[*],"data":"RandomNetwork:1:20:10:0:0:large","graphType":"Network"}']},invertGraph:{M:"General",D:"false",H:['{[*],"graphType":"Bar","graphOrientation":"horizontal"}'],C:"Flag to invert horizontal one dimensional graphs to plot from right to left<br>",T:"boolean"},showIdeogram:{T:"boolean",C:"Show Human Chromosome Ideogram. Force plot to be two dimensional.<br>",H:['{[*],"data":"RandomIdeogram:200:10:4:4"}'],D:"false",M:"Circular Graphs"},gradient:{H:['{[*],"data":"Random:1:3:0:0"}'],D:"false",C:"Flag used to apply gradients to all objects in the graphs.<br>",M:"Gradients",T:"boolean",S:["gradientType"]},mapGraticuleShow:{D:"false",M:"Maps",H:["{[*]}"],C:"Show Map Graticule<br>",T:"boolean"},showNetworkRadialLayout:{C:"Flag to show or not a radial layout wire.<br>",T:"boolean",M:"Network Graphs",D:"false",H:['{[*],"data":"RandomNetwork:1:20:10:0:0:large","networkLayoutType":"radial","networkRoot":"ND1","showAnimation":true}']},rAxis:{H:['{"data":"RandomCircular:4:8:2:3","segregateVariablesBy":["Ring"],"rAxis":false}','{"data":"RandomCircular2:4:8:2:3","rAxis":"Number","segregateVariablesBy":["Ring"],"segregateSamplesBy":["Factor2"]}'],M:"Circular Graphs",D:"false",T:"string",C:"Radial axis for circular plots. It must be the name of a variable. Only applicable to 2 Dimensional circular plots.<br>"},densityPosition:{H:['{[*],"data":"Random:200:1","functions":["createHistogram"],"histogramBins":50,"showHistogramDensity":true}'],D:"normal",C:"Histogram density position<br>",M:"Density Plots",T:"option",O:["normal","stacked","filled"],S:["createHistogram","showHistogramDensity"]},trackNameFontColor:{H:["{[*]}"],M:"Genome Browser",D:"rgb(0,0,0)",T:"color",C:"Color for the text of the tracks in the genome browser<br>"},filterType:{D:"and",M:"Data Filters",T:"option",O:["and","or"],C:"Type for the filter. Can be 'and' or 'or'.<br>"},lineByShowLegend:{T:"boolean",C:"Flag to show the lineBy legend<br>",H:['{[*],"graphType":"Dotplot","patternBy":"Factor1"}'],D:"true",M:"Data Point Attributes"},legendColor:{H:["{[*]}"],M:"Legends",D:"rgb(0,0,0)",T:"color",C:"Color for the legends<br>"},featureStaggered:{C:"Flag use to stagger the features in the genome panel<br>",T:"boolean",M:"Genome Browser",D:"false",H:["{[*]}"]},oddColor:{C:"The color for the odd numbers in samples when the property block contrast is set in one dimensional plots or the color for odd number residues in translations in genome plots.<br>",D:"rgb(255,255,255)",H:['{[*],"data":"Random:1:6","blockContrast":true}'],S:["blockContrast","evenColor"],T:"color",M:"Colors"},binConfigurations:{D:"{}",M:"Bins",C:"Properties for the binning functions<br>",T:"object"},barPathColor:{D:"false",M:"Bar Graphs",H:['{[*],"data":"Random:1:8","graphType":"Bar"}'],C:"Color for the bar graph path. If false, it will default to the color of the graph.<br>",T:"color"},zoomVariablesDisable:{H:['{[*],"graphType":"Heatmap"}'],D:"false",C:"Flag to disable zooming of variables with mouse wheel in Heatmaps<br>",M:"Zooming, Panning and Resizing",T:"boolean",S:["zoomSamplesDisable"]},filterFeatureBy:{M:"Data Filters",U:["Genome"],T:"filter",D:"{'cases':[],'comp':[],'op':[],'type':[],'value':[]}",X:"getFeatureData",C:"Filter features by their properties used in genome browser. Used in the CanvasXpress UIs.<br>"},configuration:{M:"cxplot",D:"{}",T:"object",C:"Initial Configuration passed to cxplot<br>"},remoteService:{D:"false",M:"Remote Procedures",S:["remoteServiceType","remoteParams","remoteDirection"],C:"Url used to obtain data remotely thorugh a web service or directly from a file. If the remote service is a file then it expects a json file with a two dimensional array. Each of the arrays should have a key (which will be used in a drop down menu) and a value to point to a url where to get the data. If the remote service is a web service it expects a canvasXpress object. You may specify additional parameters for the web service but you must specify the type of remote service in remoteServiceType. The default parameters for web services are index (to identify the current record number) and dir (to identify the direction; it could be either next or prev)<br>",T:"url"},randomNetworkAll:{M:"Random",D:"true",T:"boolean",U:["Network"],C:"Use all types of colors, shapes and edges in random network, otherwise only one color, one shape and straight black lines for the edges.<br>"},smpDendrogramPosition:{M:"Dendrograms",O:["right","left"],T:"option",D:"left",H:['{["right","left"],"data":"Random:4:8:1:1","graphType":"Bar","samplesClustered":true,"graphOrientation":"horizontal"}','{["top","bottom"],"data":"Random:4:8:1:1","graphType":"Bar","samplesClustered":true,"graphOrientation":"vertical"}','{["inside","outside"],"data":"RandomCircular:4:20","graphType":"Circular","samplesClustered":true}'],C:"Position for the sample dendrogram in the plot. It could be top, bottom, right or left depending on the orientation of the one dimensional graph or inside or outside in circular graphs.<br>"},scatterPlotMatrixType:{O:["both","upper","lower","correlation","correlationHistogram","corelationDensity","all","first"],S:["scatterPlotMatrix"],T:"option",M:"Scatter Plot Matrix",C:"Type for the matrix of 2D sccaterplots. Draw either in both panels, upper only or lower only. Show any combination of correlation, histogram, density and variability (boxplots). Also specify whether to use all versus all or only the first data set.<br>",D:"both",H:['{[*],"data":"Random:8:8","graphType":"Scatter2D","scatterPlotMatrix":true}']},colorRGB:{T:"array",C:"Color RGB. Red, Green, Blue used in the configurator<br>",D:[" 1"," 1"," 1 "],M:"Colors",Z:"true"},titleScaleFontFactor:{C:"Scaling factor used to increase or decrease the title font size in the canvas.<br>",T:"float",D:"1",M:"Titles and Subtitles",H:['{[*],"title":"Graph Title"}']},colorHSV:{Z:"true",D:[" 0"," 0"," 1 "],M:"Colors",C:"Color HSV. Hue, Saturation and Value used in the configurator<br>",T:"array"},chordColor:{O:["source","target"],T:"option",M:"Circular Graphs",C:"Color the ribbon according to either the source or the target of the connection<br>",D:"source",H:['{[*],"data":"RandomChord","graphType":"Circular","circularType":"chord"}']},featureWidthDefault:{T:"integer",C:"Default size in pixels of the feature width<br>",M:"Genome Browser",D:"3"},motionEffectOut:{T:"string",C:"motionEffectOut<br>",H:["{[*]}"],M:"Effect",D:"holeOut"},hideCodeDiv:{M:"Functions",C:"Hide the code for the plot<br> @advanced",T:"void"},kmeansVarClusters:{M:"Clustering",T:"integer",S:["maxIterations","kmeansSmpClusters","kmeansSamples","kmeansVariables"],H:['{[*],"data":"Random:20:20","graphType":"Heatmap","variablesKmeaned":true}'],D:"3",C:"Number of clusters when clustering variable data with kmeans.<br>"},circularLabelsAlign:{O:["inside","outside"],T:"option",M:"Circular Graphs",C:"Position to align the variable and sample names in circular plot<br>",D:"outside",H:['{"data":"RandomIdeogram:200:10:4:4","showIdeogram":true,"arcSegmentsSeparation":1,"segregateSamplesBy":["Factor4"],"circularLabelsAlign":"inside","ringsOrder":["chromosomes","labels","ideogram"]}','{"data":"RandomIdeogram:200:10:4:4","showIdeogram":true,"arcSegmentsSeparation":1,"segregateSamplesBy":["Factor4"],"circularLabelsAlign":"outside","ringsOrder":["scale","ideogram","labels"]}']},colorSpectrumZeroValue:{H:['{[0,25],"graphType":"Heatmap"}'],M:"Colors",D:"null",T:"float",C:"A value to be at the center of the color spectrum to produce symmetrical heatmaps<br>"},histogramDensityFillTransparency:{C:"Transparency applied to the filled histogram density<br>",T:"float",D:"0.6",M:"Histograms",H:['{[0.2,0.5],"data":"Random:200:1","functions":["createHistogram"],"histogramBins":50}']},colorEdgeBy:{T:"string",C:"Name of the attribute to color the edges.<br>",H:['{"data":"RandomNetwork:1:20:10:0:0:large","colorEdgeBy":"kind"}'],M:"Network Node and Edge Attributes",D:"false"},featureNameFontColor:{D:"rgb(0,0,0)",M:"Genome Browser",H:["{[*]}"],C:"Color for the text of the features in the genome browser<br>",T:"color"},colorBy:{D:"false",H:['{"data":"Random:8:4:1:1","graphType":"Scatter3D","colorBy":"Annt1"}','{"data":"Random:8:4:1:1","graphType":"Scatter3D","colorBy":"Sample4"}','{"data":"Random:4:8:1:1","graphType":"Bar","colorBy":"Factor1"}','{"data":"Random:4:8:1:1","graphType":"Dotplot","colorBy":"Factor1"}','{"data":"Random:4:8:1:1","graphType":"Dotplot","colorBy":"Annt1"}'],X:"getXZData",C:"Name of a variable annotation or a sample name or the string 'variable' to color the variables.<br>",M:"Data Point Attributes",O:["false","variable"],T:"option"},legendPositionAuto:{C:"Automatically select best position for the legend outside the graphs; either left or bottom.<br>",H:["{[*]}"],D:"false",T:"boolean",S:["legendPosition","legendInside"],M:"Legends"},fontSize:{M:"Text",D:"12",H:['{[*],"title":"Graph Title"}'],C:"Font size for text in complex plot only. See other categories to modify specific font sizes.<br>",T:"integer"},marginBottom:{H:['{[5,100],"data":"Random:1:3"}'],D:"5",M:"Margins",T:"integer",C:"Specifies the length in pixels for the bottom margin in the canvas.<br>"},xAxisCeilValue:{H:['{[null,60],"graphType":"Dotplot"}','{[null,60],"graphType":"Scatter2D"}'],M:"X-Axis",D:"null",T:"float",C:"Value to ceil the data in the X axis.<br>"},confidenceIntervalColor:{T:"color",C:"Color for the confidence intervals<br>",H:["{[*]}"],M:"Error Bars and Confidence Intervals",D:"rgb(50,50,50)"},skipRender:{C:"Flag to skip initial rendering<br>",T:"boolean",D:"false",M:"General",Z:"true"},zAxisTransform:{T:"option",O:["false","log2","log10","exp2","exp10","percentile"],M:"Z-Axis",C:"Transformation for the values in the Z axis.<br>",H:['{[*],"data":"Random:10:3","graphType":"Scatter3D"}'],D:"false"},autoexpandDOE:{H:['{[*],"data":"Random:3:24:3:5","groupingFactors":["Factor1"],"functions":["createDOE"]}'],D:"true",M:"DOE",T:"boolean",C:"Flag to automatically expand verticaly the extent of the meta data-plots when changing the size of the graphs<br>"},sequenceCColor:{H:["{[*]}"],M:"Genome Browser",D:"rgb(0,0,255)",T:"color",C:"Color for the cytosines and cysteins in the genome browser<br>"},dataexplorerEffectIn:{C:"dataexplorerEffectIn<br>",T:"string",M:"Effect",D:"holeOut",H:["{[*]}"]},xAxis2Show:{T:"boolean",C:"Flag to show on not the values of the ticks in the second X axis<br>",H:["{[*]}"],D:"true",M:"X-Axis2"},featureTracesShow:{H:["{[*]}"],D:"true",M:"Genome Browser",T:"boolean",C:"Flag use to show traces<br>"},loessStatistics:{C:"LoessStatistics. The statistics to be computed exactly, approximately or not at all? Exact computation can be very slow <br>",H:['{[0.5,0.9],"data":"Random:200:2","graphType":"Scatter2D","showLoessFit":true,"showConfidenceIntervals":true}'],D:"approximate",T:"option",O:["approximate","exact"],M:"Loess"},sequenceNColor:{D:"rgb(0,0,0)",M:"Genome Browser",H:["{[*]}"],C:"Color for the degenerate A/C/G/T and asparagines in the genome browser<br>",T:"color"},highlightNode:{D:"[]",M:"Network Graphs",H:['{"data":"RandomNetwork:1:20:10:0:0:large","highlightNode":["ND1","ND2"]}'],C:"Name of nodes in the 'data.nodes' object to highlight.<br>",T:"array"},sizeNodeBy:{M:"Network Node and Edge Attributes",D:"false",H:['{"data":"RandomNetwork:1:20:10:0:0:large","sizeNodeBy":"n","graphType":"Network"}'],C:"Name of the attribute to size the nodes.<br>",T:"string"},contourStat:{H:['{[5,10],"data":"Random:20:20","functions":["createContour"]}'],D:"density",C:"Contour density type<br>",M:"Contours",T:"option",O:["density","ndensity","count"]},isR:{D:"false",M:"General",H:["{[*]}"],C:"Flag to indicate is running from the R library. For developers only.<br>",T:"boolean"},dataTableStyle:{D:"false",M:"Data Table",C:"Data table style<br>",O:["false","stripped"],T:"option"},smpLabelImageRound:{D:"false",M:"Samples",T:"boolean",C:"Use round images as sample labels<br>"},mapProjection:{T:"option",O:["mercator","albers","orthographic"],M:"Maps",C:"Map projection<br>",H:["{[*]}"],D:"mercator"},distance:{M:"Clustering",T:"option",S:["linkage","clusterSamples","clusterVariables"],O:["euclidian","manhattan","max"],H:['{[*],"data":"Random:20:20","graphType":"Heatmap","samplesClustered":true,"variablesClustered":true}'],D:"euclidian",C:"Distance metric to use when clustering data.<br>"},yAxisExact:{H:['{[*],"data":"Random:10:3","graphType":"Scatter3D"}'],D:"false",C:"Flag to force exact values for the data<br>",M:"Y-Axis",T:"boolean",U:["Scatter3D"]},boxplotConnect:{T:"boolean",C:"Flag to show data in boxplots connected<br>",H:['{[*],"data":"Random:2:12:0:2","groupingFactors":["Factor1"]}'],D:"false",M:"Boxplot Graphs"},sankeySource:{M:"Sankey Diagrams",T:"option",O:["false"],X:"getXData",H:['{"data":"RandomSankey","graphType":"Sankey","sankeySource":"Source"}','{"data":"RandomSankey","graphType":"Sankey","sankeySource":"Source2"}'],D:"false",C:"Name of a sample annotation to use as source in the sankey diagrams<br>"},effect:{M:"Effect",O:["none","magic","puffIn","openDownLeft","openDownLeftOut","perspectiveDown","rotateDown","twisterInDown","puffOut","openDownRight","openDownRightOut","perspectiveUp","rotateUp","twisterInUp","vanishIn","openUpLeft","openUpLeftOut","perspectiveLeft","rotateLeft","swap","vanishOut","openUpRight","openUpRightOut","perspectiveRight","rotateRight","openDownLeftReturn","perspectiveDownReturn","openDownRightReturn","perspectiveUpReturn","openUpLeftReturn","perspectiveLeftReturn","openUpRightReturn","perspectiveRightReturn","slideDown","swashOut","tinRightOut","bombRightOut","boingInUp","spaceOutUp","slideUp","swashIn","tinLeftOut","bombLeftOut","boingOutDown","spaceOutRight","slideLeft","foolishIn","tinUpOut","spaceOutDown","slideRight","holeOut","tinDownOut","spaceOutLeft","slideDownReturn","tinRightIn","spaceInUp","slideUpReturn","tinLeftIn","spaceInRight","slideLeftReturn","tinUpIn","spaceInDown","slideRightReturn","tinDownIn","spaceInLeft"],T:"option",D:"none",H:["{[*]}"],C:"Effect used to show widgets Magic - Ver 1.3.0 - https://minimamente.com<br>"},sequenceWColor:{C:"Color for the degenerate A/T and tryptophans in the genome browser<br>",T:"color",M:"Genome Browser",D:"rgb(0,0,255)",H:["{[*]}"]},ganttDependencyColor:{D:"false",X:"getXData",H:['{[*],"data":"Gantt","graphType":"Gantt"}'],C:"Variable annotation for the color of the dependency line. Defaults to rgb(0,0,0)<br>",M:"Gantt Charts",O:["false"],T:"color"},varTitleFontSize:{H:['{[*],"varTitle":"VariableTitle","autoScaleFont":false}'],D:"12",C:"Size for the variable title in one dimensional plots<br>",M:"Variables",T:"integer",U:["Heatmap"]},lineThickness:{M:"Lines",S:["outlineWidth"],T:"float",D:"1",H:['{[*],"graphType":"Line"}'],C:"Default thickness in pixels for the lines in line plots.<br>"},smpTitleFont:{Z:"true",M:"Fonts",D:"12px Verdana",C:"Font for the sample title in one dimensional plots<br>",T:"font"},showLegend:{M:"Legends",D:"true",H:["{[*]}"],C:"Flag to show or not the legend in the graphs<br>",T:"boolean"},swimEnd:{D:"false",X:"getVariablesAsArray",H:['{[*],"data":"Swimmer","graphType":"Bar","barType":"swimmer"}'],C:"Variable to use in Swimmer Plot. Defaults to the third variable in the data set. See https://blogs.sas.com/content/graphicallyspeaking/2014/06/22/swimmer-plot/<br>",M:"Bar Graphs",O:["false"],T:"option"},transformBase:{T:"integer",O:["2","10"],M:"Data",C:"Default log or exponential transformation for the data.<br>",D:"10",Z:"true"},xAxisHistogramHeight:{T:"integer",U:["Scatter2D","ScatterBubble2D"],M:"X-Axis",C:"Number of pixels for the histogram in the X axis<br>",H:['{[*],"graphType":"Scatter2D","xAxisHistogramShow":true}'],D:"80"},infoStartTime:{T:"time",C:"Time in milliseconds to keep track of time<br>",D:"new Date().getTime()",M:"Events",Z:"true"},varLabelFontColor:{C:"Font color for the variable labels in one dimensional plots<br>",H:["{[*]}"],D:"rgb(0,0,0)",T:"color",U:["Heatmap"],M:"Variables"},barPathTransparency:{H:['{[*],"data":"Random:1:8","graphType":"Bar"}'],D:"0.1",M:"Bar Graphs",T:"boolean",C:"Transparency for the bar graph path<br>"},networkFreezeOnLoad:{C:"Flag to prevent autoscaling for the network layout after loading. Useful when images are part of the network.<br>",T:"boolean",M:"Network Graphs",D:"false",H:['{[*],"data":"RandomNetwork:1:20:10:0:0:large","networkLayoutType":"forceDirected"}','{[*],"data":"RandomNetwork:1:20:10:0:0:large","networkLayoutType":"radial"}']},configuratorEffectOut:{M:"Effect",D:"holeOut",H:["{[*]}"],C:"configuratorEffectOut<br>",T:"string"},quantiles:{T:"array",O:["0.25","0.50","0.75"],M:"Quantile Regression Plots",C:"Array with quantiles to use in quantile regression plots.<br>",H:['{[*],"data":"Random:200:2","graphType":"Scatter2D"}'],D:[.25,.5,.75]},sequenceYColor:{T:"color",C:"Color for the degenerate C/T and tyrosines in the genome browser<br>",H:["{[*]}"],D:"rgb(0,0,255)",M:"Genome Browser"},zoom:{T:"float",C:"Zoom factor for the networks. A number greater than zero<br>",H:['{[*],"graphType":"Heatmap"}'],M:"Zooming, Panning and Resizing",D:"1"},subtitleFont:{C:"Font for the subtitle<br>",T:"font",M:"Fonts",D:"14px Verdana",Z:"true"},smpLabelRotate:{C:"Rotation for sample labels in degrees. It could be positive or negative.<br>",T:"integer",M:"Samples",D:"0",H:['{[0,-45,90],"graphType":"Bar"}']},setMaxZ:{T:"float",C:"Maximum value to set the data in the Z axis<br>",H:['{[23,null],"data":"Random:10:3","graphType":"Scatter3D"}'],D:"null",M:"Z-Axis"},scatterPlotMatrix:{M:"Scatter Plot Matrix",S:["scatterPlotMatrixType"],T:"option",D:"false",H:['{"graphType":"Scatter2D","scatterPlotMatrix":true}'],X:"getXData",C:"Could be a boolean to plot a matrix of 2D sccaterplots or a sample annotation to color and segregate the plots. <br>"},edgesProperties:{T:"array",C:"Two dimensional array with object properties not at the root level for the edges in the Network graph to include in the Data table and the data filter<br>",D:"[]",M:"Data Table/Filter"},meterNeedleColor:{H:['{[*],"graphType":"Meter"}'],D:"rgb(0,0,0)",M:"Meter Graphs",T:"color",C:"Meter Needle Color.<br>"},yAxisMajorTicks:{C:"A flag to show Major tick lines in the Y axis<br>",D:"true",H:['{[*],"data":"Random:10:2","graphType":"Scatter2D"}'],U:["Scatter2D","ScatterBubble2D"],T:"boolean",M:"Y-Axis"},nodeScaleFontFactor:{T:"float",C:"Scaling factor used to increse or decrease network text font size in the canvas.<br>",H:['{[*],"data":"RandomNetwork:1:20:10:0:0:large"}'],D:"1",M:"Network Graphs"},correlationAnchorLegendAlignWidth:{H:['{[*],"data":"Random:4:8","correlationAnchorLegend":true}'],M:"Correlation Graphs",D:"40",T:"integer",C:"Length in pixels of the height of the correlation anchor legend<br>"},kmeansVariables:{M:"Functions",T:"void",C:"Cluster variables using kmeans<br>",U:["Bar","Line","Area","AreaLine","Dotplot","Heatmap","Stacked","StackedPercent","Boxplot","StackedLine","StackedPercentLine"],S:["kmeansVarClusters","maxIterations"]},showShadow:{M:"Shadows",T:"boolean",S:["shadowOffsetX","shadowOffsetY","shadowBlur","shadowColor"],H:["{[*]}"],D:"false",C:"Flag used to add shadows to all graph objects in the canvas. It will be forced to false if the browser is IE.<br>"},errorBarsWidth:{M:"Error Bars and Confidence Intervals",D:"2",H:['{[2,50],"setMinX":0,"groupingFactors":["Factor1"]}'],C:"Minimum size of the bar in pixels to determine to show or hide error bar ends in the graphs when available.<br>",T:"integer"},heatmapIndicatorHeight:{T:"integer",C:"Length in pixels for the heatmap indicator<br>",H:['{[*],"graphType":"Heatmap"}'],D:"25",M:"Heatmap Graphs"},xAxisValuesRaw:{Z:"true",D:"[]",M:"X-Axis",C:"Raw values for the ticks in the X axis<br>",T:"array"},connectByWidth:{D:"2",M:"Data Point Attributes",H:['{[2,6],"graphType":"Scatter3D","connectBy":"Annt1"}'],C:"Width for the line of the connectBy line<br>",T:"integer"},circularLetterSeparationFactor:{M:"Circular Graphs",D:"1.5",H:['{[1.5,6],"data":"RandomCircular:4:8:2:3","segregateSamplesBy":["Factor2"]}'],C:"Factor to adjust the spacing between letters in the circular graphs. The greater the number the closer the letters in the labels<br>",T:"float"},showNodeNameSizeThreshold:{M:"Network Graphs",D:"20",H:['{[5,50],"data":"RandomNetwork:1:20:10:0:0:large"}'],C:"Thereshold used to set the limit to hide or display the name of nodes in a network based on the size of the node. If the number of node size exceed this thereshold then the name will be shown.<br>",T:"integer"},loessNormalize:{H:['{[*],"data":"Random:200:2","graphType":"Scatter2D"}'],D:"true",M:"Loess",T:"boolean",C:"Flag to normalize loess fit in Scatter2D plots<br>"},mapLatideOrigin:{H:["{[*]}"],M:"Maps",D:"23.0",T:"float",C:"Map Latitude Of Origin in degrees. (Applicable to Albers projection only). Default adjusts to USA maps.<br>"},pieSegmentPrecision:{H:["{[*]}"],M:"Pie Charts",D:"0",T:"integer",C:"Number of decimals for values in the Pie charts<br>"},timeValueIndices:{T:"array",C:"Array containing the indices of the values when the the graph is a time series<br>",M:"Time Series",D:"[]",Z:"true"},addNormalDistributionLine:{T:"void",U:["Scatter2D","ScatterBubble2D","Scatter3D"],C:"Add a normaldistribution line(s) to a 2D-Scatter plot<br>",M:"Functions"},featureSignalToNoiseShow:{C:"Flag use to show quality<br>",T:"boolean",D:"true",M:"Genome Browser",H:["{[*]}"]},adjustAspectRatioYTries:{C:"Counter set when trying to automatically adjust the vertical size of the canvas when adjustAspectRatio is true<br>",T:"integer",D:"0",M:"Aspect Ratio, Space and width",Z:"true"},disableShowShortcuts:{C:"Flag to disable showing shortcuts.<br>",T:"boolean",D:"false",M:"Events",H:["{[*]}"]},layoutHeight:{C:"Height of the current segment of the canvas when there are multiple graphs.<br>",T:"float",D:"0",M:"Combination Plots",Z:"true"},decorationsPosition:{D:"bottom",H:['{["right","bottom"],"data":"Random:16:2","graphType":"Scatter2D","showDecorations":true,"showLegend":false,"functions":["addNormalDistributionLine"]}','{["right","bottom","left","top"],"data":"RandomNetwork:1:20:10:0:0:large","graphType":"Network","showDecorations":true,"decorations":["D1","D2","D3"]}'],C:"Position for the decorations in one dimensional plots, scatter plots and network graphs. If legendInside is true the all the options apply but if legendInside is false only right and bottom are valid options<br>",M:"Decorations",O:["rightTop","right","rightBottom","bottom","leftBottom","left","leftTop","top"],T:"option"},meterMax:{C:"Maximum value in the meter.<br>",T:"float",D:"null",M:"Meter Graphs",H:['{[*],"graphType":"Meter"}']},yAxisAbsMax:{Z:"true",M:"Y-Axis",D:"null",C:"Maximum non-filtered value for the data plotted in the Y axis<br>",T:"float"},meterThickness:{M:"Meter Graphs",D:"50",H:['{[*],"graphType":"Meter"}'],C:"Thickness in pixels for the vertical, horizontal and state meters<br>",T:"integer"},sequenceVColor:{H:["{[*]}"],M:"Genome Browser",D:"rgb(0,103,0)",T:"color",C:"Color for the degenerate A/C/G and valines in the genome browser<br>"},correlationAnchorLegend:{H:['{[*],"data":"Random:4:8"}'],D:"false",M:"Correlation Graphs",T:"boolean",C:"Flag to show a region above the correlation plot that anchror a sample/variable to a position<br>"},nodeHighlightColor:{M:"Network Graphs",D:"rgb(255,0,0)",H:['{[*],"data":"RandomNetwork:1:20:10:0:0:large","highlightNode":["ND1","ND2"]}'],C:"The color for the highlighted nodes.<br>",T:"color"},maxDOENumber:{C:"Maximum number of graphs when creating a DOE.<br>",T:"integer",M:"DOE",D:"8",H:['{[5,8],"data":"Random:3:24:3:5","groupingFactors":["Factor1"],"functions":["createDOE"]}']},heatmapAutoAdjust:{C:"Flag to adjust the range of the heatmaps when zooming in/out<br>",T:"boolean",D:"false",M:"Heatmap Graphs",H:['{[*],"graphType":"Heatmap"}']},shapeNodeBy:{C:"Name of the attribute to shape the nods.<br>",T:"string",M:"Network Node and Edge Attributes",D:"false",H:['{"data":"RandomNetwork:1:20:10:0:0:large","shapeNodeBy":"n"}']},isGroupedData:{T:"boolean",C:"Flag to indicate if the data is grouped.<br>",D:"false",M:"Data",Z:"true"},sizeByShowLegend:{C:"Flag to show the sizeBy legend<br>",T:"boolean",D:"true",M:"Data Point Attributes",H:['{[*],"graphType":"Dotplot","sizeBy":"Factor1"}']},showCodeDiv:{C:"Show the code for the plot<br> @advanced",T:"void",M:"Functions"},kmeansSamples:{T:"void",S:["kmeansSmpClusters","maxIterations"],C:"Cluster samples using kmeans<br>",U:["Bar","Line","Area","AreaLine","Dotplot","Heatmap","Stacked","StackedPercent","Boxplot","StackedLine","StackedPercentLine"],M:"Functions"},pieColors:{C:"Pie Colors. Defaults to the parameter colors.<br>",T:"array",D:"[]",M:"Pie Charts",H:['{"data":"Random:4:8","graphType":"Pie","pieColors":["rgb(0,0,117)","rgb(117,0,36)","rgb(117,88,0)","rgb(53,117,0)","rgb(76,0,117)","rgb(117,53,0)","rgb(117,117,0)","rgb(0,117,117)","rgb(117,0,0)","rgb(117,97,0)","rgb(28,0,117)","rgb(0,117,0)","rgb(117,0,117)","rgb(117,67,0)","rgb(97,117,0)","rgb(0,66,117)","rgb(50,0,117)","rgb(117,33,0)","rgb(117,107,0)","rgb(0,117,67)","rgb(117,0,66)","rgb(117,78,0)","rgb(78,117,0)","rgb(0,36,117)"]}']},layout:{M:"Combination Plots",D:"1X1",T:"string",C:"Topology of the canvas. Number of rows and columns.<br>",Z:"true"},zAxisValues:{T:"array",C:"Values for the ticks in the Z axis<br>",D:"[]",M:"Z-Axis",Z:"true"},correlationLabelInterval:{M:"Correlation Graphs",D:"1",H:['{[*],"data":"Random:4:8"}'],C:"Interval for the sample or variable labels in the correlation plot<br>",T:"integer"},decorationsWidth:{U:["Network"],T:"integer",M:"Decorations",C:"Length in pixels of the width for the decorations in the networks<br>",D:"20",H:['{[*],"data":"RandomNetwork:1:20:10:0:0:large","graphType":"Network","decorationsPosition":"top","showDecorations":true,"decorations":["D1","D2","D3"]}']},motionCurrentFont:{D:"20px Verdana",M:"Fonts",C:"Font for the text in motion charts<br>",T:"font",Z:"true"},margin:{H:['{[5,20],"data":"Random:1:3"}'],D:"5",C:"Relative length in pixels for the distance between various objects in the graphs. This value is adjusted acording to the graph dimensions if the adjustAspectRatio parameter is set to 'true'.<br>",M:"Margins",T:"integer",S:["adjustAspectRatio"]},toolbarEffectIn:{C:"toolbarEffectIn<br>",T:"string",D:"holeIn",M:"Effect",H:["{[*]}"]},ratioGroupReference:{C:"Name of the group used in ratio transformation. Almost 'private' parameters used within the different CanvasXpress UIs.<br>",D:"false",X:"getXData",O:["false"],T:"option",M:"Data"},isHistogram:{D:"false",M:"Histograms",C:"Flag to track conversion of 2D scatter plot into histograms.<br>",T:"boolean",Z:"true"},varOverlays:{T:"array",M:"Overlays",C:"Variable annotations included in the 'data.z' object used in one dimensional plots<br>",H:['{"data":"Random:10:10:3:0","graphType":"Heatmap","varOverlays":["Annt1","Annt2","Annt3"]}'],X:"getZData",D:"[]"},showVarDendrogram:{D:"true",M:"Dendrograms",H:['{[*],"data":"Random:4:8:1:1","graphType":"Heatmap","variablesClustered":true}'],C:"Flag to show or not the variable dendrogram<br>",T:"boolean"},showAnimation:{H:['{[*],"graphType":"Network"}'],M:"Animations and Visualization Transitions",D:"false",T:"boolean",C:"Flag to show or not animation for the graphs<br>"},xAxisS2Show:{T:"boolean",U:["Scatter2D","ScatterBubble2D","Scatter3D","Correlation"],M:"X-Axis",C:"Flag to show or not the values of the ticks in the X axis at the top in Scatter plots<br>",H:['{[*],"graphType":"Scatter2D"}'],D:"false"},ratioSampleReference:{T:"option",O:["false"],M:"Data",C:"Name of the sample used in ratio transformation. Almost 'private' parameters used within the different CanvasXpress UIs.<br>",X:"getSamplesAsArray",D:"false"},confidenceIntervalType:{O:["ordinary","log","loglog"],T:"option",M:"Error Bars and Confidence Intervals",C:"Confidence intervals type for Kaplan Meier estimates<br>",D:"log",H:['{[*],"data":"RandomKaplanMeier","showDecorations":true,"graphType":"Scatter2D","showLegend":false,"functions":["addKaplanMeierCurve:Time:Censored-1:Data 1 Population:rgb(0,0,255)","addKaplanMeierCurve:Time:Censored-2:Data 2 Population:rgb(255,0,0)"]}']},varLabelScaleFontFactor:{U:["Heatmap"],T:"float",M:"Variables",C:"Scaling factor used to increse or decrease variable font size in the canvas.<br>",D:"1",H:["{[*]}"]},treeVarIndex:{D:"0",M:"Trees",C:"Variable index to use in the tree diagrams<br>",T:"integer",Z:"true"},createVersion:{M:"General",D:"false",T:"float",C:"CanvasXpress Version used to create plot. This is parsed from the PNG or JSON data loaded<br>",Z:"true"},errorBarsType:{C:"Type of error bars.<br>",D:"confidenceInterval95",H:['{[*],"setMinX":0,"groupingFactors":["Factor1"]}'],O:["standardDeviation","standardErrorMean","confidenceInterval95"],T:"option",M:"Error Bars and Confidence Intervals"},yAxisRugPosition:{O:["left","right","both"],U:["Scatter2D","ScatterBubble2D"],T:"option",M:"Y-Axis",C:"Position for the rug in the Y axis<br>",D:"left",H:['{[*],"data":"Random:10:2","graphType":"Scatter2D","yAxisRugShow":true}']},fitLineStyle:{M:"Error Bars and Confidence Intervals",T:"option",O:["solid","dotted","dashed","dotdash","longdash","twodash"],H:['{[*],"data":"Random:200:2","graphType":"Scatter2D","showLoessFit":true}'],D:"solid",C:"Color for the fit line<br>"},rAxisTicks:{C:"Number of ticks in the R axis<br>",T:"integer",D:"5",M:"R-Axis",H:['{[*],"data":"RandomCircular2:4:8:2:3","rAxis":"Number","segregateVariablesBy":["Ring"],"segregateSamplesBy":["Factor2"]}']},imputeMethod:{M:"Clustering",T:"option",O:["mean","median"],S:["distance","linkage","clusterSamples","clusterVariables"],H:['{[*],"data":"Random:20:20:::::0.15","graphType":"Heatmap","samplesClustered":true,"variablesClustered":true}'],D:"mean",C:"Imputation method for missing data when clustering<br>"},yAxisAbsMin:{Z:"true",T:"float",C:"Minimum non-filtered value for the data plotted in the Y axis<br>",M:"Y-Axis",D:"null"},yAxisHistogramShow:{U:["Scatter2D","ScatterBubble2D"],T:"boolean",M:"Y-Axis",C:"Flag to indicate whether to show a histogram for the data in the Y axis<br>",D:"false",H:['{[*],"data":"Random:10:2","graphType":"Scatter2D"}']},motionCurrentFontSize:{M:"Motion Charts",T:"integer",S:["autoScaleFont","motionCurrentScaleFontFactor"],H:['{"data":"Random:30:3:2:2","graphType":"Scatter2D","motionBy":"Annt1"}'],D:"60",C:"Font size for the motion charts.<br>"},gradientOrientation:{T:"option",O:["vertical","horizontal"],S:["backgroundType"],M:"Gradients",C:"Specifies the orientation of the gradient if the gradient type is of the type 'linear'<br>",H:['{[*],"data":"Random:1:3:0:0","gradient":true,"gradientType":"linear"}'],D:"vertical"},lazyLoad:{H:["{[*]}"],D:"false",M:"Events",T:"boolean",C:"Load canvas only if shown in viewport.<br>"},xAxisMajorTicks:{T:"boolean",C:"A flag to show Major tick lines in the X axis<br>",H:["{[*]}"],M:"X-Axis",D:"true"},decorationsProperties:{T:"object",U:["Network"],M:"Decorations",C:"Object to assign properties like color for the network decorations<br>",H:['{"data":"RandomNetwork:1:20:10:0:0:large","graphType":"Network","decorationsPosition":"right","showDecorations":true,"decorations":["D1","D2","D3"],"decorationsProperties":{"exp1":{"color":"rgb(51,125,255)","shape":"square"},"exp2":{"color":"rgb(125,255,51)","shape":"square"},"exp2":{"color":"rgb(255,125,51)","shape":"square"}}}'],D:"{}"},selectionMetadata:{H:['{"selectionMode":"name","selectionMetadata":false}','{"selectionMode":"name","selectionMetadata":"Annt1","graphType":"Scatter2D"}'],X:"getZData",D:"false",C:"Matadata (or factor) to use to display selected data points instead of the variable name. This metadata has to be in the 'data.z' object. This property is only valid when the selectionMode is 'name' and the visualization is a Scatter plot.<br> @see{selectionMode}",M:"Data Selection",T:"option",O:["false"]},trackDirColor:{H:["{[*]}"],D:"rgb(0,0,0)",M:"Genome Browser",T:"color",C:"Default color for the strand direction of the tracks in the genome browser<br>"},pieSegmentSeparation:{D:"1",M:"Pie Charts",H:["{[*]}"],C:"Length in pixels for the separation of the pieces of the pie charts<br>",T:"integer"},rAxisTickFormat:{T:"string",C:"Format for the tick values in the R axis. It could be a string with the sprintf format or an array where the first parameter is the sprintf format and the second parameter is a modification applied to the value before is passed to the sprintf function.<br>",H:['{"data":"RandomCircular2:4:8:2:3","rAxisTickFormat":"%.4f cxs","rAxis":"Number","segregateVariablesBy":["Ring"],"segregateSamplesBy":["Factor2"]}','{"data":"RandomCircular2:4:8:2:3","rAxis":"Number","segregateVariablesBy":["Ring"],"segregateSamplesBy":["Factor2"]}'],D:"false",M:"R-Axis"},zAxisTitle:{H:['{"data":"Random:10:3","graphType":"Scatter3D","zAxisTitle":"Z-axis title"}'],M:"Z-Axis",D:"false",T:"string",C:"Title for the Z axis<br>"},axisExtension:{C:"Percentage to extend the values of the data to ensure all the data points are plotted inside and not over the edges of the graph<br>",T:"float",D:"0.1",M:"Axis",H:['{[0.1,0.2],"graphType":"Scatter2D"}']},smpTitleFontStyle:{M:"Samples",T:"option",O:["","bold","italic","bold italic"],H:['{[*],"smpTitle":"Sample Title"}'],D:"",C:"Font style for the samples.<br>"},contourLevelWidth:{H:['{[5,10],"data":"Random:20:20","functions":["createContour"]}'],D:"null",C:"Width of contour levels.<br>",M:"Contours",T:"integer",S:["createContour","contourLevels","axisAlgorithm","contourLevelNumber"]},transform:{M:"Functions",S:["transformType","ratioReference","zscoreAxis"],C:"Transform all the data. Warning: the option 'save' overwrites the original data<br>",U:["Bar","Line","Area","AreaLine","Dotplot","DotLine","Heatmap","Stacked","StackedPercent","Boxplot","Correletion","Pie","Barline","StackedLine","StackedPercentLine","Scatter2D","ScatterBubble2D","Scatter3D"],O:["false","log2","log10","exp2","exp10","percentile","zscore","ratio","ratio2","ratio10","save","reset","undo"],T:"option"},boxplotCoef:{T:"float",C:"Number that determines how far the plot ‘whiskers’ extend out from the box.<br>",H:['{[*],"data":"Random:2:12:0:1:1:100:0:false:normal:50:10","groupingFactors":["Factor1"]}'],D:"1.5",M:"Boxplot Graphs"},ridgelineScale:{C:"Scale for ridgeline<br>",T:"float",D:"1.5",M:"Ridgeline Plots",H:['{[*],"data":"Random:20000:2","dataPointSize":2,"scatterOutlineThreshold":1}']},patternNodeBy:{H:['{"data":"RandomNetwork:1:20:10:0:0:large","patternNodeBy":"type"}'],D:"false",M:"Network Node and Edge Attributes",T:"string",C:"Name of the attribute to pattern the nodes.<br>"},networkVendor:{D:"false",M:"Network Graphs",T:"string",C:"Network vendor<br>",Z:"true"},yAxisValuesRaw:{Z:"true",T:"array",C:"Raw values for the ticks in the Y axis<br>",M:"Y-Axis",D:"[]"},randomNetworkNodes:{U:["Network"],C:"Default number of nodes when creating random networks<br>",T:"integer",D:"40",M:"Random"},oncoprintRowSummary:{D:"false",M:"Oncoprint Graphs",H:["{[*]}"],C:"Flag to show row summary in oncoprints.<br>",T:"boolean"},cacheBase64:{T:"boolean",C:"Cache image in meta data as Base64.<br>",H:["{[*]}"],M:"General",D:"false"},ellipseBy:{M:"Data Point Attributes",T:"option",O:["false","variable"],H:['{[false,"variable","Annt1"],"data":"Random:30:3:2:2","graphType":"Scatter3D"}'],D:"false",C:"Utility to create error ellipses in Scatter plots<br> @funtion getZData"},violinBorderColor:{H:['{[*],"data":"Random:2:12:0:2","showViolinBoxplot":true,"showBoxplotIfViolin":true,"groupingFactors":["Factor1"]}'],D:"rgb(0,0,0)",M:"Boxplot Graphs",T:"color",C:"Color for the violin borders<br>"},binplotBinWidth:{T:"array",C:"Width in actual units for the histogram bin.<br>",H:['{[10, 50],"data":"Random:200:1","functions":["createHistogram"]}'],M:"Bin Plots",D:"[]"},decorationsHeight:{U:["Network"],T:"integer",M:"Decorations",C:"Length in pixels of the height for the decorations in the networks<br>",D:"40",H:['{[*],"data":"RandomNetwork:1:20:10:0:0:large","graphType":"Network","decorationsPosition":"left","showDecorations":true,"decorations":["D1","D2","D3"]}']},layoutCollapse:{D:"false",M:"Combination Plots",H:['{[*],"data":"Random:4:8:2:2","segregateSamplesBy":["Factor1"]}'],C:"Flag to make layout graphs without any space in between<br>",T:"boolean"},theme:{D:"none",H:["{[*]}"],C:"Themes for the plot. This parameter will overwrite colors, background, axes, etc<br>",M:"General",O:["none","economist","excel","tableau","stata","igray","solarized","paulTol","ggplot","wallStreetJournal","cx"],T:"option"},widthFactor:{C:"Factor to adjust the width of the bars in the one dimensional and the three dimensional plots. The greater the number, the wider the bars.<br>",D:"1",H:['{[1,2],"data":"Random:2:4","graphType":"Bar"}','{[1,2],"data":"Random:8:4","graphType":"Scatter3D","scatterType":"bar"}'],S:["sampleSpaceFactor","variableSpaceFactor"],T:"integer",M:"Aspect Ratio, Space and width"},xAxisAbsMax:{D:"null",M:"X-Axis",C:"Maximum non-filtered value for the data plotted in the X axis<br>",T:"float",Z:"true"},sequenceEndColor:{M:"Genome Browser",D:"rgb(255,0,0)",H:["{[*]}"],C:"Color for the end codon in the genome browser<br>",T:"color"},chromosomeLengths:{H:['{[*],"graphType":"Scatter2D"}'],D:"[]",C:"Manhattan Chromosomes length is a sorted array by chromosome with the length in base pairs for each chromosome. It is required when scatterType is manhattan.<br>",M:"Scatter Plots",T:"array",S:["scatterType"]},selectionMode:{C:"Mode use to highlight selected data points in visualizations.<br> @see{selectionColor,selectionMetadata}",D:"highlight",H:['{[*],"graphType":"Scatter2D"}'],O:["highlight","ghost","name","filter"],T:"option",M:"Data Selection"},patternByShowLegend:{H:['{[*],"graphType":"Dotplot","patternBy":"Factor1"}'],M:"Data Point Attributes",D:"true",T:"boolean",C:"Flag to show the patternBy legend<br>"},connectBy:{M:"Data Point Attributes",T:"option",U:["Scatter2D","ScatterBubble2D","Scatter3D"],O:["false"],X:"getZData",H:['{"data":"Random:8:4:1:1","graphType":"Scatter3D","connectBy":"Annt1"}','{"data":"Random:8:4:1:1","graphType":"Scatter3D","connectBy":false}'],D:"false",C:"Name of a variable annotation to connect the variables.<br>"},datafilterEffectOut:{C:"datafilterEffectOut<br>",T:"string",M:"Effect",D:"holeOut",H:["{[*]}"]},baseline:{C:"Default vertical alignment for drawing text.<br>",D:"middle",H:['{[*],"title":"Graph Title"}'],O:["top","middle","bottom"],T:"option",M:"Text"},imageTimeOut:{C:"Time in milliseconds to wait to load images<br>",D:"1000",H:["{[*]}"],S:["imageMaxTries","imageTries"],T:"integer",M:"Images"},toolbarType:{C:"Toolbar type",D:"under",H:["{[*]}"],O:["over","under","fixed"],T:"option",M:"Events"},manhattanMarkerPosition:{C:"Sample name included in the 'data.y.smps' object used to map to the position in base pairs.<br>",H:['{[*],"graphType":"Scatter2D"}'],X:"getSamplesAsArray",D:"false",T:"option",O:["false"],M:"Scatter Plots"},sankeyNodeWidth:{C:"Width for the Sankey nodes<br>",T:"integer",D:"20",M:"Sankey Diagrams",H:['{[*],"data":"RandomSankey","graphType":"Sankey"}']},createHistogram:{C:"Create a histogram in 2D-Scatter plots in the 'x' axis or the 'y' axis<br> @advanced",O:["x","y"],U:["Scatter2D","ScatterBubble2D","Scatter3D"],T:"option",M:"Functions"},showDecorations:{H:['{"data":"Random:16:2","showDecorations":true,"graphType":"Scatter2D","functions":["addNormalDistributionLine"]}'],D:"true",M:"Decorations",T:"boolean",C:"Flag to show or not extra decorations like (regression lines, splines, etc) in scatter plots and (heatmaps, pie charts or stacked bar graphs in) network graphs<br>"},playable:{H:["{[*]}"],M:"Events",D:"false",T:"boolean",C:"Flag to make the plot playable if there are after rendering functions<br>"},visibleMapFeatures:{T:"array",C:"Visible Map features. It Overrides the hidden features<br>",M:"Maps",D:"[]"},treemapBorderColor:{T:"color",C:"The color for the treemap header and border<br>",H:["{[*]}"],M:"Treemap Graphs",D:"rgb(204,204,204)"},isReproducibleResearch:{H:['{[*],"groupingFactors":["Factor1"]}'],D:"true",M:"General",T:"boolean",C:"Flag to indicate to track user modifications for Reproducible Research. For developers only.<br>"},dataTableTransposed:{D:"true",M:"Data Table",C:"Flag to transpose the data in the data table<br>",T:"boolean"},citationColor:{S:["citation"],T:"color",M:"Citations or References",C:"Color for a reference citation of the graph<br>",D:"rgb(0,0,0)",H:['{[*],"citation":"Graph citation or reference"}']},clusterAxis:{Z:"true",C:"Axis to use when clustering data.<br>",D:"samples",O:["samples","variables"],T:"option",M:"Clustering"},colorNodeBy:{C:"Name of the attribute to color the nodes.<br>",T:"string",D:"false",M:"Network Node and Edge Attributes",H:['{"data":"RandomNetwork:1:20:10:0:0:large","colorNodeBy":"n"}']},ideogramChromosome:{D:"chr",X:"getZData",H:['{"data":"RandomIdeogram:200:10:4:4","showIdeogram":true,"arcSegmentsSeparation":1,"segregateSamplesBy":["Factor4"]}'],C:"Factor name included in the 'data.z' object used to map to the chromosome number.<br>",M:"Circular Graphs",T:"string"},autoScaleFont:{T:"boolean",S:["smpLabelFontSize","varLabelFontSize","legendFontSize","axisTickFontSize","axisTitleFontSize"],M:"Text",C:"Flag to automatically adjust the font size in many visualization. Please be aware that scaling factors can still modify the font size. This flag needs to be false for the text to accept the specified font size.<br>",H:['{[*],"title":"Graph Title"}'],D:"true"},xAxisAbsMin:{Z:"true",D:"null",M:"X-Axis",C:"Minimum non-filtered value for the data plotted in the X axis<br>",T:"float"},axisTitleFont:{T:"font",C:"Font for the axis titles in one, two and three dimensional plots<br>",D:"12px Verdana",M:"Fonts",Z:"true"},datatableEffectIn:{H:["{[*]}"],M:"Effect",D:"holeOut",T:"string",C:"datatableEffectIn<br>"},xAxisHistogramShow:{C:"Flag to indicate whether to show a histogram for the data in the X axis<br>",H:['{[*],"graphType":"Scatter2D"}'],D:"false",T:"boolean",U:["Scatter2D","ScatterBubble2D"],M:"X-Axis"},networkTheta:{C:"Theta coefficient from Barnes Hut simulation. Ranged between (0, 1). The closer it's to 1 the more nodes algorithm will have to go through. Setting it to one makes Barnes Hut simulation no different from brute-force forces calculation (each node is considered).<br>",T:"float",M:"Network Algorithm Parameters",D:"0.8",H:['{[*],"data":"RandomNetwork:1:20:10:0:0:large"}']},sankeyColor:{C:"The default color for the sankey lines (links)<br>",T:"color",M:"Sankey Diagrams",D:"rgba(150,150,150,0.5)",H:['{[*],"data":"RandomSankey","graphType":"Sankey"}']},hierarchy:{D:"[]",X:"getXData",H:['{"data":"RandomCircular:4:8:0:2","graphType":"Circular","circularType":"bubble","colorBy":"Factor2","hierarchy":["Factor1","Factor2"]}','{"data":"RandomCircular:4:8:0:2","graphType":"Tree","colorBy":"Factor2","hierarchy":["Factor1","Factor2"]}'],C:"Hierarchy for trees and bubble graphs made up of sample annotations present the data x object.<br>",M:"Hierarchy",T:"array"},xAxisRugPosition:{D:"bottom",H:['{[*],"data":"Random:10:2","graphType":"Scatter2D","xAxisRugShow":true}'],C:"Position for the rug in the X axis<br>",M:"X-Axis",O:["top","bottom","both"],U:["Scatter2D","ScatterBubble2D"],T:"option"},legendFontStyle:{T:"option",O:["","bold","italic","bold italic"],M:"Legends",C:"Font style for the legend.<br>",H:["{[*]}"],D:""},shadowOffsetY:{M:"Shadows",T:"integer",S:["showShadow"],H:['{[*],"showShadow":true}'],D:"1",C:"Length in pixels for the shadow offset in the Y axis.<br>"},heatmapCollapse:{C:"Flag to collapse cells in heatmaps of type circle or hexagon. If true cells are ploted without outline otherwise the outline is the foreground color.<br>",T:"boolean",D:"false",M:"Heatmap Graphs",H:["{[*]}"]},imageTries:{D:"0",C:"Image try counter.<br>",Z:"true",M:"Images",S:["imageTimeOut","imageMaxTries"],T:"integer"},fishShape:{C:"Fish Shape<br>",H:['{[*],"graphType":"Fish"}'],D:"polygon",T:"option",O:["spline","polygon"],M:"Fish Graphs"},histogramRight:{D:"true",M:"Histograms",H:['{[10,50],"data":"Random:200:1","functions":["createHistogram"]}'],C:"Histogram right is a boolean.  If true, the histogram cells are right-closed (left open) intervals.<br>",T:"boolean"},groupingFactorWindow:{S:["scatterType"],C:"The width for the data when grouping in Scatter2D plots. This is the analogous parameter to cut_width in R. It defaults to a fifth of the data range. The scatterType must be boxplot to take this parameter into effect.<br>",T:"float",D:"false",M:"Scatter Plots"},disableUndoRedoKeys:{D:"true",M:"Events",H:["{[*]}"],C:"Flag to disable undo / redo key binding events.<br>",T:"boolean"},tagCloudTextEllipticity:{C:"Ellipticity for the for text in tag cloud visualizations<br>",T:"float",M:"Tag Cloud",D:"0.65",H:["{[*]}"]},zAxisMinorValues:{C:"Values for the minor ticks in the Z axis<br>",T:"array",D:"[]",M:"Z-Axis",Z:"true"},binplotColorScheme:{T:"option",O:["YlGn","YlGnBu","GnBu","BuGn","PuBuGn","PuBu","BuPu","RdPu","PuRd","OrRd","YlOrRd","YlOrBr","Purples","Blues","Greens","Oranges","Reds","Greys","PuOr","BrBG","PRGn","PiYG","RdBu","RdGy","RdYlBu","Spectral","RdYlGn","Accent","Dark2","Paired","Pastel1","Pastel2","Set1","Set2","Set3","Default","Basic","Light","Favorite","Pastel","Balanced","Rpalette","RlatticeBackground","RlatticeShingle","RlatticeLine","RlatticePolygon","Bootstrap","Economist","EconomistBG","Excel","Excel2","Excel3","GGPlot","Solarized","SolarizedBase","PaulTol","ColorBlind","Tableau","TableauGrey","TableauColorBlind","TableauTrafficLight","TableauPurpleGrey","TableauBlueRed","TableauGreenOrange","TableauCyclic","TableauPairSequential","TableauTripleDiverging","WallStreetJournal","WallStreetJournal2","WallStreetJournal3","WallStreetJournalRedGreen","WallStreetJournalBlackGreen","WallStreetJournalDemRep","Stata","Stata2","Stata3","StataMono","BlackAndWhite","CanvasXpress","CanvasXpressT"],M:"Bin Plots",C:"Color scheme to use in binplots<br>",X:"getColorSchemes",H:['{[*],"data":"Random:8:8","graphType":"Scatter2D","scatterPlotMatrix":true}'],D:"Blues"},rotationStep:{C:"Number of degrees used when the plot is automatically rotated<br>",T:"integer",M:"3D Attributes",D:"2",H:['{[*],"data":"Random:8:4","graphType":"Scatter3D"}']},broadcast:{T:"boolean",C:"Flag to enable broadcasting to other canvasXpress objects in the page<br>",H:["{[*]}"],D:"true",M:"Events"},layoutCurrent:{Z:"true",T:"integer",C:"Integer to identify the current graph being displayed in the canvas.<br>",M:"Combination Plots",D:"0"},motionCurrentFontStyle:{T:"option",O:["","bold","italic","bold italic"],M:"Motion Charts",C:"Font style for the motion charts.<br>",H:['{"data":"Random:30:3:2:2","graphType":"Scatter2D","motionBy":"Annt1"}'],D:""},showLegendTitle:{M:"Legends",D:"true",H:["{[*]}"],C:"Flag to show or not the legend title in the graphs<br>",T:"boolean"},mapGraticuleType:{D:"solid",H:["{[*]}"],C:"Map Graticule type<br>",M:"Maps",O:["dashed","solid"],T:"option"},showDataTable:{T:"boolean",C:"Flag to indicate to show the data table<br>",D:"false",M:"Data Table"},segregateSamplesBy:{T:"array",C:"An array that holds the annotation(s) used to segregate the samples. It must be categories in the 'data.x' object<br>",H:['{"data":"Random:4:8:2:2","segregateSamplesBy":["Factor1"]}','{"data":"Random:4:8:2:2","segregateSamplesBy":["Factor1","Factor2"]}'],M:"Data",D:"[]"},sequenceFill:{C:"Color for the background when showing sequnces in the box or sequence object in the Genome. The default is to use the background of the object. If specied a valid color then all the background of sequences will be uniform<br>",T:"color",D:"false",M:"Genome Browser",H:["{[*]}"]},isContour:{M:"Contours",D:"false",H:['{"data":"Random:20:20","functions":["createContour"]}'],C:"Flag to show the contour<br>",T:"boolean"},mapConfig:{M:"Maps",D:"false",C:"Map config<br>",T:"object"},xAxis2Title:{C:"Title for the 2nd X axis<br>",T:"string",D:"false",M:"X-Axis2",H:['{"data":"Random:4:8","graphType":"BarLine","xAxis2":["V1","V2"],"xAxis":["V3","V4"],"xAxis2Title":"2nd X-axis title"}']},x3DRatio:{C:"Value between 0 - 1 for adjusting the 3D of the X Axis<br>",H:['{[0.5,1],"data":"Random:8:4","graphType":"Scatter3D"}'],D:"1",T:"float",U:["Scatter3D","Bar"],M:"3D Attributes"},showScatterDensity:{T:"boolean",C:"Flag to show the density kernel in histograms<br>",H:['{[*],"data":"Random:20000:2","dataPointSize":2,"scatterOutlineThreshold":1}'],D:"false",M:"Density Plots"},tagCloudTextGridSize:{T:"integer",C:"Size for the grid in text tag cloud visualizations<br>",H:["{[*]}"],D:"8",M:"Tag Cloud"},oncoprintMUT:{T:"boolean",C:"String to identify the data object to use to draw the mutations. For example missense, non-synonymous, truncating, etc. Each level will be colored in a shade of green.<br>",H:['{"data":"RandomMultidimensional:5:10","oncoprintMUT":"data2"}'],D:"false",M:"Oncoprint Graphs"},nodeFontSize:{Z:"true",C:"Size in pixels for the font size of text in the networks. This is based  on the nodeSize<br>",T:"integer",D:"15",M:"Network Graphs"},randomDataSigma:{M:"Random",D:"1",C:"Sigma value when creating random data<br>",T:"integer"},marginTop:{T:"integer",C:"Specifies the length in pixels for the top margin in the canvas.<br>",H:['{[5,100],"data":"Random:1:3"}'],M:"Margins",D:"5"},ungroupSamples:{M:"Functions",S:["groupSamples"],C:"Ungroup samples previously grouped according to a sample category (data.x object)<br>",U:["Bar","Line","Area","AreaLine","Dotplot","DotLine","Heatmap","Stacked","StackedPercent","Boxplot","Correletion","Pie","Barline","StackedLine","StackedPercentLine"],T:"void"},binAlignment:{M:"Plot area",T:"option",O:["left","center","right"],H:['{[*],"graphType":"Line"}'],D:"center",C:"Alignment for the data points when binned<br>"},yAxisTicks:{T:"integer",C:"Number of ticks in the Y axis<br>",H:['{[*],"data":"Random:10:2","graphType":"Scatter2D"}'],M:"Y-Axis",D:"5"},heatmapCellBoxWidth:{C:"Width for the heatmap boxes around the cells<br>",T:"float",M:"Heatmap Graphs",D:"1",H:['{[0.5,2],"graphType":"Heatmap"}']},rAxisAbsMin:{Z:"true",C:"Minimum non-filtered value for the data plotted in the R axis<br>",T:"float",M:"R-Axis",D:"null"},scaleTextConstantMult:{T:"integer",C:"Constants to autoscale text<br>",M:"Text",D:"25",Z:"true"},maxRows:{D:"10",M:"Data Table",T:"integer",C:"Maximum number of rows to display in the data table<br>"},varTitleFontStyle:{C:"Font style for the var title.<br>",H:['{[*],"varTitle":"Variable Title"}'],D:"",T:"option",U:["Heatmap"],O:["","bold","italic","bold italic"],M:"Variables"},yAxisRugShow:{H:['{[*],"data":"Random:10:2","graphType":"Scatter2D"}'],D:"false",C:"Flag to indicate whether to show a rug for the data in the Y axis<br>",M:"Y-Axis",T:"boolean",U:["Scatter2D","ScatterBubble2D"]},ridgeBy:{H:['{[false,"Annt1"],"data":"Random:30:3:2:2","graphType":"Scatter2D"}'],D:"false",C:"Utility to create ridgelines in Scatter2D plots<br> @funtion getZData",M:"Data Point Attributes",T:"option",O:["false"]},broadcastGroup:{H:["{[*]}"],M:"Events",D:"false",T:"string",C:"Group Id for canvas to broadcast to. If not specified then it broadcasts to all canvases.<br>"},randomNetworkReduce:{C:"Flag to create or not a single random network for debug and demonstration purposes<br>",U:["Network"],T:"boolean",M:"Random",D:"true"},sequenceGColor:{C:"Color for the guanines and glycines in the genome browser<br>",T:"color",D:"rgb(0,0,0)",M:"Genome Browser",H:["{[*]}"]},heatmapIndicatorHistogramColor:{C:"Color for the heatmap indicator histogram<br>",T:"color",D:"rgb(0,255,255)",M:"Heatmap Graphs",H:['{[*],"heatmapIndicatorHistogram":true,"heatmapIndicatorHeight":50}']},codeType:{T:"option",O:["pretty","compact","tab","params"],C:"Output type for the JSON code<br>",M:"Debug",D:"params"},showNetworkCommunities:{T:"boolean",C:"Flag to show or hide network communities<br>",H:['{[*],"data":"RandomNetwork:1:20:10:0:0:karate","calculateNetworkCommunities":true}'],M:"Network Communities",D:"false"},hullScale:{M:"Network Communities",D:"1.25",H:['{[*],"data":"RandomNetwork:1:20:10:0:0:karate","showNetworkCommunities":true,"calculateNetworkCommunities":true}'],C:"Scaling factor for extension of the hulls in the network communities<br>",T:"float"},panningY:{H:["{[*]}"],M:"Zooming, Panning and Resizing",D:"0",T:"float",C:"Number of unit to pan the network in the Y dimension<br>"},showRegressionFullRange:{H:['{[*],"data":"Random:16:2","showDecorations":true,"graphType":"Scatter2D","functions":["addRegressionLine"]}'],D:"false",C:"Flag to show or not the full range in regression plots<br>",M:"Error Bars and Confidence Intervals",T:"boolean",S:["decorations"]},rAxisMajorTicks:{H:['{[*],"data":"RandomCircular2:4:8:2:3","rAxis":"Number","segregateVariablesBy":["Ring"],"segregateSamplesBy":["Factor2"]}'],M:"R-Axis",D:"true",T:"boolean",C:"A flag to show Major tick lines in the R axis<br>"},sampleSpaceFactor:{C:"Factor to adjust the spacing between the data points between the samples in the one dimensional graphs. The greater the number, the greater the gap.<br>",H:['{[*],"data":"Random:2:4","graphType":"Bar"}'],D:"1",T:"integer",S:["widthFactor","variableSpaceFactor"],M:"Aspect Ratio, Space and width"},shapes:{C:"Array with shapes used in visualizations. The order will dictate the utilization in the visualization.<br>",H:['{"data":"Random:8:4:2:1","shapes":["sphere","square","triangle","star"],"shapeBy":"Factor2","graphType":"Dotplot"}','{"data":"Random:8:4:2:1","shapes":["rhombus","octagon","oval","plus"],"shapeBy":"Factor2","graphType":"Dotplot"}'],D:["sphere","square","triangle","star","rhombus","octagon","oval","plus","minus","pacman","pacman2","mdavid","rect2","pentagon","rect3","arc","rectangle","image"],T:"array",O:["sphere","square","triangle","star","rhombus","octagon","oval","plus","minus","pacman","mdavid","rect2","pentagon","rect3","arc","rectangle","image"],M:"General Attributes"},xAxisTickFormat:{M:"X-Axis",D:"false",H:['{"xAxisTickFormat":"%.2f cxs","graphOrientation":"vertical"}'],C:"Format for the tick values in the X axis. It could be a string with the sprintf format or an array where the first parameter is the sprintf format and the second parameter is a modification applied to the value before is passed to the sprintf function.<br>",T:"string"},transitionFunction:{H:['{[*],"graphType":"Bar","showTransition":true,"groupingFactors":["Factor1"]}'],D:"easeInOutQuad",C:"Easing function for the transition<br>",M:"Animations and Visualization Transitions",T:"option",O:["linear","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint"]},asDOE:{T:"object",C:'Object with configurations to create DOE. Example: [ {size: "2X2", graphType: "Bar"} ]<br>',H:['{[*],"data":"Random:3:24:3:5","groupingFactors":["Factor1"],"functions":["createDOE"]}'],M:"DOE",D:"false"},sequenceSColor:{C:"Color for the degenerate G/C and serines in the genome browser<br>",T:"color",M:"Genome Browser",D:"rgb(255,165,0)",H:["{[*]}"]},useRoundRectangles:{C:"Use round rectangles in bar graphs, stacked graphs and boxplots<br>",T:"boolean",M:"Shapes",D:"false",H:['{[*],"data":"Random:1:6"}']},treeCircular:{T:"boolean",C:"Flag to plot a circular tree layout.<br>",H:["{[*]}"],D:"false",M:"Trees"},smpLabelOrientation:{D:"perpendicular",H:['{[*],"data":"RandomCircular:4:8:2:3","segregateVariablesBy":["Ring"],"segregateSamplesBy":["Factor2"]}'],C:"Orientation to show the sample names<br>",M:"Circular Graphs",O:["perpendicular","circular"],T:"option"},legendFont:{M:"Fonts",D:"12px Verdana",T:"font",C:"Font for the legends<br>",Z:"true"},setMax:{T:"float",C:"Maximum value to set the data<br>",M:"Axis",D:"null",Z:"true"},binplotBins:{T:"array",C:"Approximate number of bins in a bin plot. It may vary considerably to the actual number used in the bin plot to ensure a 'pretty' size for the intervals in the bin plot. ggplot's default is 30.<br>",H:['{[10,50],"data":"Random:200:1","functions":["createHistogram"]}'],D:"[]",M:"Bin Plots"},meterIndex:{T:"integer",C:"Variable index to use creating a meter when there are multiple variables<br>",D:"0",M:"Meter Graphs",Z:"true"},sequenceMColor:{T:"color",C:"Color for the degenerate A/G and methionines in the genome browser<br>",H:["{[*]}"],M:"Genome Browser",D:"rgb(0,103,0)"},heatmapIndicatorWidth:{H:['{[*],"graphType":"Heatmap"}'],M:"Heatmap Graphs",D:"250",T:"integer",C:"Length in pixels for the heatmap indicator line width used for increase the size of the indicator<br>"},xAxisTitleDynamic:{T:"boolean",C:"Set the title for the X axis dynamically as it changes<br>",H:["{[*]}"],M:"X-Axis",D:"false"},disableKeys:{C:"Flag to disable key binding events. This prevent some default browser shortcuts and it is system specific. Please see the Event section bellow.<br>",T:"boolean",D:"false",M:"Events",H:["{[*]}"]},regressionOrder:{H:['{[*],"data":"Random:16:2","showDecorations":true,"graphType":"Scatter2D","regressionType":\'polynomial",functions":["addRegressionLine"]}'],D:"2",M:"Error Bars and Confidence Intervals",T:"integer",C:"Specifies the number of degrees to solve for in polynomial regressions<br>"},dashLength:{T:"integer",C:"Size in pixels of the length of the dashes and the separation between the dashes in the dashed lines.<br>",H:['{[*],"data":"RandomNetwork:1:20:10:1:0:forceDirected","graphType":"Network"}'],D:"8",M:"Lines"},mapSmps:{T:"array",C:"Samples to use in maps<br>",D:"[]",M:"Maps"},imageMaxTries:{C:"Maximum times to try to load images. Used to calculate the timeout which will be imageTimeOut / imageTries which will be 100ms by default.<br>",D:"10",H:["{[*]}"],S:["imageTimeOut","imageTries"],T:"integer",M:"Images"},showPieSampleLabel:{C:"A flag to show the sample label when plotting multiple pies<br>",T:"boolean",D:"true",M:"Pie Charts",H:['{[*],"data":"Random:5:6","xAxis":["S1","S2","S3","S4","S5","S6"],"layout":"2X3"}']},remoteAutoSize:{M:"Remote Procedures",D:"true",C:"Flag to adjust remote graph to current canvas size<br>",T:"boolean"},nodeFontStyle:{T:"option",O:["","bold","italic","bold italic"],M:"Network Graphs",C:"Font style for the node label.<br>",H:['{[*],"data":"RandomNetwork:1:20:10:0:0:large"}'],D:""},isCreateHistogram:{Z:"true",C:"Object to store histogram data<br>",T:"object",D:"false",M:"Histograms"},axisTickScaleFontFactor:{T:"float",C:"Scaling factor used to increase or decrease tick font size in the canvas in one, two and three dimensional plots<br>",H:["{[*]}"],D:"1",M:"Axis"},transformAxis:{D:"samples",H:['{[*],"data":"Random:4:8:2:2","transformType":"zscore","transformedData":true}'],C:"Default axis to use to transform the data when either z-score or ratio transformation is used.<br>",M:"Data",O:["samples","variables"],S:["transformedData","transformType"],T:"option"},segregateSamples:{X:"getXData",M:"Functions",T:"option",S:["desegregateSamples"],C:"Segregate samples based on a sample category (data.x object)<br>",U:["Bar","Line","Area","AreaLine","Dotplot","DotLine","Heatmap","Stacked","StackedPercent","Boxplot","Correletion","Pie","Barline","StackedLine","StackedPercentLine"]},sequenceDColor:{H:["{[*]}"],D:"rgb(0,0,0)",M:"Genome Browser",T:"color",C:"Color for the degenerate A/G/T and aspartic acids in the genome browser<br>"},colorSpectrumTarget:{M:"Colors",D:"10",H:['{[100,6],"graphType":"Heatmap"}'],C:"Approximate number of colors to use to build the color spectrum<br>",T:"integer"},ganttStart:{C:"Variable to use in Gantt plots as start date. Defaults to the first variable in the data set.<br>",D:"false",X:"getVariablesAsArray",H:['{[*],"data":"Gantt","graphType":"Gantt"}'],O:["false"],T:"option",M:"Gantt Charts"},xAxisCurrent:{M:"X-Axis",U:["Scatter2D","ScatterBubble2D"],T:"integer",D:"0",H:['{[0,1],"xAxis":["S1","S2"],"yAxis":["S3","S4","S5"],"graphType":"Scatter2D","xAxisCurrent":0}'],C:"Index (zero-based) of the sample that is currently displayed in the X axis when there are more series in the Y axis than in the X axis in an Scarrter2D plot or when there are multiple series in an ScatterBubble2D plot. Use ctrl + arrow keys to cycle through data series.<br>"},repulsiveForceFunction:{M:"Network Algorithm Parameters",O:["square","cubic","log","pow","sqrt"],T:"option",D:"square",H:['{[*],"data":"RandomNetwork:1:20:10:0:0:large"}'],C:"Type of function to apply when calculating repulsive force in forceDirected network layouts. Fruchterman-Reingold uses square while Eades uses log.<br>"},rAxisAbsMax:{Z:"true",D:"null",M:"R-Axis",T:"float",C:"Maximum non-filtered value for the data plotted in the R axis<br>"},missingDataValue:{M:"Missing Data",D:"NA",C:"String value use to specify missing data<br>",T:"string"},updateCodeDiv:{M:"Functions",C:"Update the code to generate the plot<br> @advanced",T:"void"},colorVarDendrogramBy:{X:"getZData",H:['{"data":"Random:4:8:1:1","colorVarDendrogramBy":"Annt1","graphType":"Heatmap","variablesClustered":true}'],D:"false",C:"Name of a variable annotation to color the variable dendrogram.<br>",M:"Dendrograms",T:"option",O:["false"]},decorations:{H:['{"data":"RandomNetwork:1:20:10:0:0:large","graphType":"Network","showDecorations":true,"decorationsType":"pie","decorations":["D1","D2","D3"]}','{"data":"RandomNonLinearFit","showDecorations":true,"graphType":"Scatter2D","xAxisTransform":"log10","xAxisTransformTicks":false,"setMaxY":350,"setMinY":100,"yAxisExact":true,"decorations": {"nlfit":[{"label":"Custom Fit","type":"cst","param":["164","313","0.031","-1.5","1.2e-06","1.9"]},{"label":"Regular Fit","type":"reg","param":["164","313","0.031","1.5","1.2e-06","1.9"]}]}}','{"data":"Random:1:8","showDecorations":true,"graphType":"Bar","decorations":{"line":[{"value":20,"label":"Background","color":"rgb(255,125,51)","type":"dashedLine","graphOrientation":"vertical"}]}}','{"data":"Random:16:2","showDecorations":true,"graphType":"Scatter2D","functions":["addNormalDistributionLine"]}','{"data":"Random:16:2","showDecorations":true,"graphType":"Scatter2D","functions":["addRegressionLine"]}','{"data":"Random:8:4","showDecorations":true,"showLegend":false,"graphType":"Scatter2D","decorations":{"area":[{"x":20,"y":20,"label":"Area","width":8,"height":8,"color":"rgb(255,125,51,0.5)","ouline":"rgb(255,125,51,0.5)","pattern":"closed","type":"oval"}]}}','{"data":"RandomKaplanMeier","showDecorations":true,"graphType":"Scatter2D","showLegend":false,"functions":["addKaplanMeierCurve:Time:Censored-1:Data 1 Population:rgb(0,0,255)","addKaplanMeierCurve:Time:Censored-2:Data 2 Population:rgb(255,0,0)"]}'],D:"false",C:"Name of the node properties to include in the network decorations in the 'data.nodes' object<br>",M:"Decorations",T:"object",S:["showDecorations"]},axisWilkinsonLoose:{M:"Axis",S:["axisAlgorithm"],T:"boolean",D:"false",H:['{[*],"data":"Random:2:4","graphType":"Bar","axisAlgorithm":"wilkinson"}'],C:"Flag to indicate whether to use loose positioning when using the wilkinson algorithm to position the labels on the axis. There will not be a difference most of the times.<br>"},layoutAxis:{T:"option",O:["1","2","3"],M:"Combination Plots",Z:"true",C:"Flag to indicated whether to print axes values when multiple graphs are displayed in the canvas. The possible values are: 1: horizontal, 2: vertical, 3: both<br>",D:"3"},regressionType:{T:"option",O:["linear","exponential","logarithmic","power","polynomial"],M:"Error Bars and Confidence Intervals",C:"Type of linear least-squares fitting methods for simple data analysis",H:['{[*],"data":"Random:16:2","showDecorations":true,"graphType":"Scatter2D","functions":["addRegressionLine"]}'],D:"linear"},hiddenMapFeatures:{M:"Maps",D:"[]",C:"Hidden Map features<br>",T:"array"},xAxis2Ticks:{Z:"true",D:"5",M:"X-Axis2",T:"integer",C:"Number of ticks in the 2nd X axis. It is the same as xAxisTicks.<br>"},fonts:{M:"Text",D:"[]",H:['{"data":"Random:8:4:2:1","title":"Google Fonts","graphType":"Scatter2D","fonts":["Indie Flower", "Ubuntu", "Architects Daughter", "Roboto"],"fontName":"Indie Flower"}'],C:"Goggle Fonts.<br>",T:"array"},isGraphTime:{H:['{"data":"Random:2:150:0:0:1:100:0:true","isGraphTime":true}'],D:"false",M:"Time Series",T:"boolean",C:"Flag to indicate if the data is a time series so there is no need to plot every time interval. It is boolean in one dimensional plots or a string indicating the axis which is timed 'x', 'y' or 'z'<br>"},adjustBezier:{C:"Flag to automatically select the bezier line type. the bezier can start from the top or bottom (vertical), or from the side (horizontal). This will be based on the location of the two points joined by the line.<br>",H:['{[*],"data":"RandomNetwork:1:20:10:1:0:forceDirected","graphType":"Network"}'],D:"false",T:"boolean",U:["Network"],M:"Lines"},contourLevelNumber:{S:["createContour","contourLevels","axisAlgorithm","contourLevelWidth"],T:"integer",M:"Contours",C:"Numbe of contour levels. Overridden by contourLevelWidth<br>",D:"10",H:['{[5,10],"data":"Random:20:20","functions":["createContour"]}']},lines:{H:['{"data":"RandomNetwork:1:30:15:1:0:forceDirected","graphType":"Network"}'],D:["line","solid","straight","bezier","curved","curvedCC","dashedLine","dashedBezier","dashedCurved","dashedCurvedCC","dottedLine","dottedBezier","dottedCurved","dottedCurvedCC"],C:"Line types in network graphs for the edges (or connections) between network nodes.<br> There are three styles: solid, dashed and dotted and four sub types: straight, bezier, curved (clockwise) and curvedCC (counter clockwise). The line types can be any combination of a style followed by a subtype. By default the type is always a solid straight line so there is no need to specify solid or stright as a style if there is a subtype.<br> Lines can also have elbows which are specified as a 2D-array. In the case a straight solid line each elements in the array will have an x,y coordinate and each segment will be perpendicular to the previous one. For example in this edge object:<br> <i>{ ..., type : 'line', elbows : [ [20, 40], [60, 80] ], ... }</i><br> A special subtype of line called segmented can also have elbows which are not perpendicalar to each other. For example in this edge object:<br> <i>{ ..., type : 'segmented', elbows : [ [20, 40], [60, 80] ], ... }</i><br> In the case of a bezier curved each element of the array will have an x,y coordinate for the control point 1, an x,y coordinate for the control point 2 and an x,y coordinate for the end of the line.<br> <i>{ ..., type : 'bezier', elbows : [ [20, 40, 40, 20, 40, 40], ... ], ... }</i><br> If the property elbow is specified the line will be drawn using the first and last elements of the array rather than the coordinates of the two nodes. A property startX and startY can be used to better adjust the position of the starting line. Similarly, a property endX and endY can be used to better adjust the position of the end line. These properties have a maginitud between -1 to 1 which will be used based on the width and height of the source and target node. For example in the following edge object the line will start in the middle bottom of the source node and will end at the upper left of the target node.<br>  <i>{ ..., type : 'line', startX : 0, startY : 1, endX : -1, endY : -0.5, ... }</i><br>",Z:"true",M:"Lines",T:"array",S:["arrows"],O:["line","solid","straight","bezier","curved","curvedCC","dashedLine","dashedBezier","dashedCurved","dashedCurvedCC","dottedLine","dottedBezier","dottedCurved","dottedCurvedCC"]},preScaleNetwork:{D:"false",M:"Network Graphs",H:['{[*],"data":"RandomNetwork:1:20:10:0:0:large"}'],C:"Flag to prescale or not the network. This is an aesthetic parameter to make the graph look nicer... Sometimes...<br>",T:"boolean"},circularAnchorsAlign:{T:"option",O:["inside","outside"],M:"Circular Graphs",C:"Position to align the anchors in circular plot<br>",H:['{"data":"RandomIdeogram:200:10:4:4","showIdeogram":true,"arcSegmentsSeparation":1,"segregateSamplesBy":["Factor4"],"circularAnchorsAlign":"inside"}','{"data":"RandomIdeogram:200:10:4:4","showIdeogram":true,"arcSegmentsSeparation":1,"segregateSamplesBy":["Factor4"],"circularLabelsAlign":"inside","circularAnchorsAlign":"outside","ringsOrder":["chromosomes","Annt1","Lev:1","anchors","labels","ideogram"],"circularCenterProportion":0.6}'],D:"inside"},ignoreEventlessOrder:{H:['{[*],"data":"RandomNetwork:1:20:10:0:0:large"}'],M:"Network Graphs",D:"false",T:"boolean",C:"Flag to render all nodes at one time rather that rendering first the eventless nodes and then the non-eventless nodes<br>"},sequenceQColor:{C:"Color for the glutamines in the genome browser<br>",T:"color",D:"rgb(0,0,0)",M:"Genome Browser",H:["{[*]}"]},arrowQuadraticFactor:{T:"integer",C:"Factor to use to bend the quadratic lines.<br>",H:['{[*],"data":"RandomNetwork:1:20:10:1:0:forceDirected","graphType":"Network"}'],M:"Lines",D:"2.3"},axisTickThickness:{H:['{[*],"graphType":"Scatter2D"}'],D:"1",C:"Thickness of the axis ticks.<br>",M:"Axis",T:"float",U:["Scatter2D","ScatterBubble2D"]},RdatastesURL:{Z:"true",M:"R",D:"https://raw.githubusercontent.com/neuhausi/Rdatasets/master/",T:"array",C:"URL for R objects<br>"},zAxisShow:{D:"true",M:"Z-Axis",H:['{[*],"data":"Random:10:3","graphType":"Scatter3D"}'],C:"Flag to show on not the values of the ticks in the Z axis<br>",T:"boolean"},manhattanContrastColor:{T:"array",C:"Manhattan contrast color",H:['{[*],"graphType":"Scatter2D"}'],D:"rgba(0,0,0,0.1)",M:"Scatter Plots"},datatableEffectOut:{D:"holeOut",M:"Effect",H:["{[*]}"],C:"datatableEffectOut<br>",T:"string"},y3DRatio:{C:"Value between 0 - 1 for adjusting the 3D of the Y Axis<br>",H:['{[0.5,1],"data":"Random:8:4","graphType":"Scatter3D"}'],D:"1",T:"float",U:["Scatter3D","Bar"],M:"3D Attributes"},yAxis2Title:{C:"Title for the Y axis in Scatter plots and in Correlation graphs.<br>",D:"false",H:['{"data":"Random:10:2","yAxisTitle":"Y-axis title"}','{"data":"Random:8:4","yAxisTitle":"Y-axis title","graphType":"Correlation"}'],U:["Scatter2D","ScatterBubble2D","Scatter3D","Correlation"],T:"string",M:"Y-Axis"},fishAxisLabels:{M:"Fish Graphs",S:["fishAxis"],T:"array",D:"[]",H:['{[*],"graphType":"Fish"}'],C:"Fish Axis Labels (array with names for the lines across the X Axis). Must have the same dimension as the fishAxis<br>"},plotByVariable:{T:"boolean",C:"Flag to indicate whether to group the data variable rather than by sample<br>",H:['{[*],"graphType":"Bar"}'],D:"false",M:"Plot area"},lineDecoration:{H:['{[*],"graphType":"Line"}'],D:"symbol",C:"Lines decorations in the line graphs<br>",M:"Line Graphs",T:"option",O:["false","dot","symbol","pattern"]},citation:{C:"A reference citation of the graph which is placed at the bottom right corner<br>",H:['{"citation":"Graph citation or reference"}'],D:"false",T:"string",S:["citationColor"],M:"Citations or References"},includeDOE:{T:"array",C:"Array containing the factors to include when exploring the DOE. If left empty all the factors will be included<br>",M:"DOE",D:"[]"},randomNetworkNodeEdgesMax:{T:"integer",U:["Network"],C:"Default number of maximum edges when creating random networks<br>",M:"Random",D:"5"},subtitleFontSize:{C:"Font size for the subtitle of the graph. The font height will be adjusted automatically to fit in the canvas.<br>",H:['{[*],"title":"Graph Title","subtitle":"Graph Subtitle","autoScaleFont":false}'],D:"14",T:"integer",S:["subtitle","subtitleColor"],M:"Titles and Subtitles"},xAxisRugShow:{M:"X-Axis",T:"boolean",U:["Scatter2D","ScatterBubble2D"],H:['{[*],"data":"Random:10:2","graphType":"Scatter2D"}'],D:"false",C:"Flag to indicate whether to show a rug for the data in the X axis<br>"},varLabelRotate:{D:"0",H:['{[0,45,90],"data":"Random:8:4"}'],C:"Rotation for variable labels in degrees It could be positive or negative.<br>",M:"Variables",U:["Heatmap"],T:"integer"},oncoprintHeatmapPosition:{C:"Position for the heatmap in the oncoprint<br>",D:"bottom",H:["{[*]}"],O:["right","bottom","left","top"],S:["showHeatmapOncoprint"],T:"option",M:"Oncoprint Graphs"},codeEffectIn:{D:"swashIn",M:"Effect",H:["{[*]}"],C:"codeEffectIn<br>",T:"string"},legendBoxColor:{M:"Legends",T:"color",S:["legendBox"],H:["{[*]}"],D:"rgb(204,204,204)",C:"Color for the box around the legend<br>"},timeValues:{T:"array",C:"Array containing the tick values when the the graph is a time series<br>",D:"[]",M:"Time Series",Z:"true"},remoteDirection:{D:"next",C:"Direction parameter used to obtain data remotely.<br>",M:"Remote Procedures",T:"option",O:["next","prev"],S:["remoteService","remoteServiceType","remoteParams"]},colorSpectrumNumber:{C:"Number of colors to use in the color spectrum<br>",T:"integer",D:"100",M:"Colors",H:['{[100,6],"graphType":"Heatmap"}']},circularCenterProportion:{D:"0.3",M:"Circular Graphs",H:['{[0.3,0.5],"data":"RandomCircular:4:20:2:3","graphType":"Circular","segregateSamplesBy":["Factor1"]}'],C:"Proportion of the center of the circular graph to use as void; that is the fraction of the radius in the middle of the graph.<br>",T:"float"},fitLineWidth:{T:"integer",C:"Specifies the width for the fitLine<br>",H:['{[*],"data":"Random:200:2","graphType":"Scatter2D","showLoessFit":true}'],M:"Error Bars and Confidence Intervals",D:"2"},xAxisTicks:{D:"5",M:"X-Axis",H:["{[*]}"],C:"Number of ticks in the X axis<br>",T:"integer"},axisAlgorithm:{C:"Algorithm used to position tick labels on axes. See An Extension of Wilkinson’s Algorithm for Positioning Tick Labels on Axes. Justin Talbot, Sharon Lin, Pat Hanrahan.<br>",D:"rPretty",H:['{[*],"data":"Random:2:4","graphType":"Bar"}'],S:["axisWilkinsonLoose"],O:["heckbert","wilkinson","wilkinsonExtended","rPretty"],T:"option",M:"Axis"},pieSegmentLabels:{C:"Location for the values in the pie charts<br>",H:["{[*]}"],D:"inside",T:"option",O:["inside","outside"],M:"Pie Charts"},yAxisTickFormat:{M:"Y-Axis",D:"false",H:['{"data":"Random:10:2","graphType":"Scatter2D","yAxisTickFormat":"%.2f cxs"}'],C:"Format for the tick values in the Y axis. It could be a string with the sprintf format or an array where the first parameter is the sprintf format and the second parameter is a modification applied to the value before is passed to the sprintf function.<br>",T:"string"},sequenceGAPColor:{D:"rgb(255,0,255)",M:"Genome Browser",H:["{[*]}"],C:"Color for the deletions, insertions and gaps in the genome browser<br>",T:"color"},groupingFactors:{C:"An array that holds the group names used for grouping the data. It must be a category in the 'data.x' object<br>",T:"array",D:"[]",M:"Data",H:['{"data":"Random:4:8:2:2","setMinX":0,"groupingFactors":["Factor1"]}','{"data":"Random:4:8:2:2","setMinX":0,"groupingFactors":["Factor1","Factor2"]}']},edgeThickness:{C:"Default thickness for the edges in the networks<br>",T:"integer",M:"Network Graphs",D:"1",Z:"true"},violinScale:{C:"Type for scaling violin plots<br>",D:"width",H:['{[*],"data":"Random:2:12:0:2","showViolinBoxplot":true,"groupingFactors":["Factor1"]}'],O:["area","count","width"],T:"option",M:"Boxplot Graphs"},featureQualityShow:{D:"true",M:"Genome Browser",H:["{[*]}"],C:"Flag use to show quality<br>",T:"boolean"},lineErrorType:{M:"Line Graphs",O:["bar","area"],T:"option",D:"bar",H:['{[*],"data":"Random:1:80:0:4","groupingFactors":["Factor4"],"graphType":"Line","lineType":"spline","setMinX":18}'],C:"Line error type in the line graphs. The line type must be spline for the area error type. <br>"},setMaxY:{T:"float",C:"Maximum value to set the data in the Y axis<br>",H:['{[25,50,null],"data":"Random:10:2","graphType":"Scatter2D"}'],D:"null",M:"Y-Axis"},smpLabelScaleFontFactor:{T:"float",C:"Scaling factor used to increase or decrease sample label font size in the canvas.<br>",H:["{[*]}"],M:"Samples",D:"1"},rAxisValuesRaw:{T:"array",C:"Raw values for the ticks in the R axis<br>",M:"R-Axis",D:"[]",Z:"true"},colors:{H:['{"data":"Random:16:1:0:0:1:100:0:false:uniform","graphType":"Pie"}'],D:["#fe296c","#487eb6","#a7ce31","#f8cc03","#ff8c02","#699696","#b77844","#83acd0","#c2e076","#fadc5a","#ff549f","#ffaf54","#9ab8b7","#d2a683","#3d699b","#87ac22","#cda908","#d02158","#d07300","#567676"],C:"Colors.<br>",M:"Colors",T:"array",S:["colorScheme"]},disableWindow:{C:"Flag to disable resizing the canvas when the window is resized. <br>",T:"boolean",D:"false",M:"Events",H:["{[*]}"]},smpOverlays:{T:"array",M:"Overlays",C:"Sample annotations included in the 'data.x' object used in one dimensional plots<br>",D:"[]",X:"getXData",H:['{"data":"Random:10:10:0:3","smpOverlays":["Factor1","Factor2","Factor3"]}']},showCode:{T:"boolean",C:"Flag to show code for the canvas.<br>",D:"false",M:"Debug"},yAxisTitleDynamic:{C:"Set the title for the Y axis dynamically as it changes<br>",T:"boolean",M:"Y-Axis",D:"false",H:["{[*]}"]},showBoxplotOriginalData:{H:['{[*],"data":"Random:2:12:0:2","groupingFactors":["Factor1"]}'],D:"false",C:"Flag to show all the observed data point in boxplots. (Should be called showBoxplotDataPoints)<br>",M:"Boxplot Graphs",T:"boolean",S:["jitterColumns","boxplotDataPointTransparency","jitter"]},sequenceAColor:{M:"Genome Browser",D:"rgb(0,103,0)",H:["{[*]}"],C:"Color for the adenines and alanines in the genome browser<br>",T:"color"},yAxisCurrent:{H:['{[0,1],"data":"Random:10:2","yAxis":["S1","S2"],"xAxis":["S3","S4","S5"],"graphType":"Scatter2D","yAxisCurrent":0}'],D:"0",C:"Index (zero-based) of the sample that is currently displayed in the Y axis when there are more series in the X axis than in the Y axis in an Scarrter2D plot or when there are multiple series in an ScatterBubble2D plot. Use ctrl + arrow keys to cycle through data series.<br>",M:"Y-Axis",T:"integer",U:["Scatter2D","ScatterBubble2D"]},heatmapCellBoxColor:{C:"Color for the heatmap boxes around the cells<br>",T:"color",D:"rgb(102,102,102)",M:"Heatmap Graphs",H:['{[*],"graphType":"Heatmap"}']},patterns:{T:"array",O:["solid","hatchForward","hatchReverse","stripeHorizontal","stripeVertical","polkaDot","crossHatch","crossStripe","squares","circles","plus","minus","bars","squiglesVertical","squiglesHorizontal","brickForward","brickReverse","art","pcx","hatchForward3","hatchReverse3"],M:"General Attributes",C:"Patterns used in visualizations to fill objects. This array must contain one or more pattern names and in concert with the color array can be used to specify the pattern colors for all filled objects in the visualizations.. The order will dictate the utilization in the visualization.<br>",H:['{"data":"Random:21:1:0:0:1:100:0:false:uniform","graphType":"Bar","graphOrientation":"vertical","setMaxX":1,"setMinX":0,"smpLabelRotate":90,"patternBy":"variable","showLegend":false,"colorScheme":"White"}'],D:["solid","hatchForward","hatchReverse","stripeHorizontal","stripeVertical","polkaDot","crossHatch","crossStripe","squares","circles","plus","minus","bars","squiglesVertical","squiglesHorizontal","brickForward","brickReverse","art","pcx","hatchForward3","hatchReverse3"]},treeLinkWidth:{T:"integer",C:"Width for the Tree lines<br>",H:["{[*]}"],M:"Trees",D:"1"},filtersExposed:{M:"Data Filters",D:"[]",C:"Exposed filters after rendering the plot. Each element in the array is an object as follows: {name: [var or smp annotation|vars|smps], position: [topRight|topLeft|bottomRight|bottomLeft], css: {property:value}}<br>",T:"array"},showConfiguratorExamplesOnSelect:{H:["{[*]}"],M:"Events",D:"false",T:"boolean",C:"Flag to display examples as the configurator property changes<br>"},showPieGrid:{T:"boolean",C:"A flag to show the labels for the grid when plotting multiple pies<br>",H:['{[*],"data":"Random:5:6","xAxis":["S1","S2","S3","S4","S5","S6"],"layout":"2X3"}'],M:"Pie Charts",D:"true"},zAxisExact:{C:"Flag to force exact values for the data in the Z axis<br>",T:"boolean",M:"Z-Axis",D:"false",H:['{[*],"data":"Random:10:3","graphType":"Scatter3D"}']},varDendrogramNewick:{D:"false",M:"Dendrograms",T:"string",C:"Dendrogram in Newick format for the variables<br>"},overlayFontStyle:{C:"Font style for the overlays.<br>",D:"",H:['{[*],"data":"Random:10:10:3:3","graphType":"Heatmap","varOverlays":["Annt1","Annt2","Annt3"],"smpOverlays":["Factor1","Factor2","Factor3"]}'],O:["","bold","italic","bold italic"],T:"option",M:"Overlays"},jitter:{H:['{[*],"graphType":"Dotplot","groupingFactors":["Factor1"]}','{[*],"graphType":"Boxplot","showBoxplotOriginalData":true,"groupingFactors":["Factor1"]}'],D:"false",C:"Flag to jitter the data points in dotplots, boxplots and scatter2D plots<br>",M:"Plot area",T:"boolean",U:["Dotplot","DotLine","Boxplot","Scatter2D"],S:["showBoxplotOriginalData","boxplotDataPointTransparency","jitterColumns"]},totalRows:{D:"null",M:"Data Table",C:"Total rows in the data table<br>",T:"integer",Z:"true"},sequenceFont:{M:"Fonts",D:"12px Verdana",C:"inititalizeConfig     * Initialize configurations<br> @param void @returns void",T:"font",Z:"true"},maxTextSize:{C:"Maximum size for any text in the canvas.<br>",T:"integer",D:"40",M:"Text",H:['{[*],"title":"Graph Title"}']},ganttDependency:{O:["false"],T:"option",M:"Gantt Charts",C:"Variable annotation in the x object to use in Gantt plots as dependency. Must be a valid sample / group name<br>",D:"false",H:['{[*],"data":"Gantt","graphType":"Gantt"}'],X:"getXData"},maxVarStringLen:{M:"Variables",U:["Heatmap"],T:"integer",D:"25",H:['{[1,30],"data":"Random:8:4"}'],C:"Maximum length in characters a variable label or description can have so anything above is truncated.<br>"},sortCaseSensitive:{D:"false",M:"Data sorting",T:"boolean",C:"Whether to use case sensitive in ascii sorting. Almost 'private' parameters used within the different CanvasXpress UIs.<br>"},showDataTableOnSelect:{C:"Flag to indicate to show data after selecting data in the plot<br>",T:"boolean",D:"false",M:"Data Table"},xAxisTickColor:{T:"color",C:"Color for the tick lines in the X axis<br>",H:["{[*]}"],M:"X-Axis",D:"rgb(204,204,204)"},treeNodeOutlineColor:{T:"color",C:"The default color for the tree lines (links)<br>",H:["{[*]}"],M:"Trees",D:"rgb(51,122,183)"},arcSegmentsSeparation:{D:"8",M:"Circular Graphs",H:['{[8,20],"data":"RandomCircular:4:8:2:3","graphType":"Circular","segregateSamplesBy":["Factor2"]}'],C:"Number of degrees to separate the arc segments in the circular plots. The arc segments can be set with the segregateSampleBy property.<br>",T:"integer"},desegregateSamples:{M:"Functions",C:"Desegreagate samples previously segregated based on a sample category (data.x object)<br>",U:["Bar","Line","Area","AreaLine","Dotplot","DotLine","Heatmap","Stacked","StackedPercent","Boxplot","Correletion","Pie","Barline","StackedLine","StackedPercentLine"],S:["segregateSamples"],T:"void"},yAxisTransform:{M:"Y-Axis",T:"option",O:["false","log2","log10","exp2","exp10","percentile"],H:['{[*],"data":"Random:10:2","graphType":"Scatter2D"}'],D:"false",C:"Transformation for the values in the Y axis.<br>"},resizable:{H:["{[*]}"],M:"Events",D:"true",T:"boolean",C:"Flag to disable resizing the canvas by dragging the mouse over the edges<br>"},visiumPanning:{T:"boolean",C:"No panning on visium plots so dragging will always zoom.<br>",H:['{[*],"graphType":"Scatter2D"}'],M:"Scatter Plots",D:"false"},sequenceIColor:{D:"rgb(0,103,0)",M:"Genome Browser",H:["{[*]}"],C:"Color for the isoleucines in the genome browser<br>",T:"color"},loessCell:{M:"Loess",D:"0.2",H:['{[0.5,0.9],"data":"Random:200:2","graphType":"Scatter2D","showLoessFit":true,"showConfidenceIntervals":true}'],C:"Loess cell. If interpolation is used this controls the accuracy of the approximation via the maximum number of points in a cell in the kd tree. Cells with more than floor(n*span*cell) points are subdivided.<br>",T:"float"},sortData:{D:"[]",M:"Data sorting",C:"Array of arrays with sorting functions. Each function takes three parameters. The first parameter must be either 'smp' to identify the parameters are related to the samples, 'var' to identify  the parameters are related to the variables, or 'cat' to identify a sample or variable category. The second parameter can be either 'smp' to indicate to sort the sample indices or 'var' to indicate to sort the variable indices. The third parameter is the value for the key referenced by the first parameter. A special case for this parameter could be 'samples' or 'variables' to indicate to sort by the names of the samples or variables respectively. Here are some examples to sort the samples in the data: [ ['cat', 'smp', 'Factor1'] ]   : Sort the samples by the sample category 'Factor1' [ ['var', 'smp', 'Variable1'] ] : Sort the samples by the value of the 'Variable1' [ ['cat', 'smp', 'samples'] ]   : Sort the samples by their name.  Important!!!! This parameter will clean the data and remove any variables not used in the dataset at load time.<br>",T:"object"},scaleX:{Z:"true",D:"1",M:"Combination Plots",T:"float",C:"Scale factor for the X axis<br>"},colorKey:{M:"Data Point Attributes",D:"false",H:['{"graphType":"Dotplot","colorBy":"Factor1","colorKey":{"Factor1":{"Lev:1":"gold","Lev:2":"silver"}}}'],C:"Object to assign custom colors to sample annotations and variable annotations included in the data object. The key of the object is the name of an annotation in the data.x object, or the name of an annotation in the data.z object. The value for each key could be either: (1) a scalar with a valid color scheme (see this.meta.def.colorSchemes), or (2) an array with valid colors, or (3) an object to specify custom colors for each of the values of the annotation. A default color will be assigned to a data point whose value was not included the object. CanvasXpress will handle string and numeric annotation approprietly. However, if an object is specified like that one in number (3) the annotation will be treated as categorical even if the annotation is numeric.<br>",T:"object"},varTitleScaleFontFactor:{M:"Variables",T:"float",U:["Heatmap"],H:['{[*],"varTitle":"Variable Title"}'],D:"1",C:"Scaling factor used to increse or decrease variable font size in the canvas.<br>"},sequenceLColor:{T:"color",C:"Color for the leucines in the genome browser<br>",H:["{[*]}"],M:"Genome Browser",D:"rgb(0,103,0)"},datafilterEffectIn:{D:"holeOut",M:"Effect",H:["{[*]}"],C:"datafilterEffectIn<br>",T:"string"},remoteEffectOut:{H:["{[*]}"],D:"holeOut",M:"Effect",T:"string",C:"remoteEffectOut<br>"},colorByShowLegend:{C:"Flag to show the colorBy legend<br>",T:"boolean",D:"true",M:"Data Point Attributes",H:['{[*],"graphType":"Dotplot","colorBy":"Factor1"}']},summaryType:{H:['{[*],"data":"Random:4:8:2:2","setMinX":0,"groupingFactors":["Factor1"]}'],D:"false",C:"Summary type for the data when grouping<br>",M:"Data",T:"option",O:["false","iqr","median","mean","cor","min","max","count","sum"]},featureNameFont:{Z:"true",M:"Fonts",D:"12px Verdana",C:"Font for the text of the features in the genome browser<br>",T:"font"},boxplotType:{H:['{[*],"data":"Random:2:12:0:1:1:100:0:false:normal:50:10","groupingFactors":["Factor1"]}'],D:"boxWhiskers",C:"Boxplot type<br>",M:"Boxplot Graphs",T:"option",O:["boxWhiskers","range"]},subtitleColor:{M:"Titles and Subtitles",S:["subtitle","subtitleHeight"],T:"color",D:"rgb(0,0,0)",H:['{[*],"title":"Graph Title","subtitle":"Graph Subtitle"}'],C:"Color for the subtitle<br>"},resizeHeightOnLayout:{D:"true",M:"Events",H:["{[*]}"],C:"Flag to enable resizing the height of the canvas after changing the layout<br>",T:"boolean"},zoomGlobal:{Z:"true",M:"Zooming, Panning and Resizing",D:"1",C:"Cumulative zoom factor for the networks.<br>",T:"float"},networkRepulsion:{T:"float",C:"Coulomb's law coefficient. It's used to repel nodes thus should be negative if you make it positive nodes start attract each other.<br>",H:['{[*],"data":"RandomNetwork:1:20:10:0:0:large"}'],D:"-1",M:"Network Algorithm Parameters"},hideUnhideVars:{T:"array",C:"Hide or unhide variables. It works like a switch<br>",U:["Bar","Line","Area","AreaLine","Dotplot","DotLine","Heatmap","Stacked","StackedPercent","Boxplot","Correletion","Pie","Barline","StackedLine","StackedPercentLine","Scatter2D","ScatterBubble2D","Scatter3D"],X:"getVariablesAsArray",M:"Functions"},networkDragCoeff:{T:"float",C:"Drag force coefficient. Used to slow down system, thus should be less than 1. The closer it is to 0 the less tight system will be.<br>",H:['{[*],"data":"RandomNetwork:1:20:10:0:0:large"}'],M:"Network Algorithm Parameters",D:"0.09"},showDecorationsLegend:{T:"boolean",C:"Flag to show or not the decoration legends<br>",H:['{"data":"Random:16:2","showDecorationsLegends":true,"graphType":"Scatter2D","functions":["addNormalDistributionLine"]}','{"data":"Random:16:2","showDecorationsLegends":false,"graphType":"Scatter2D","functions":["addNormalDistributionLine"]}'],D:"true",M:"Decorations"},outlineByShowLegend:{M:"Data Point Attributes",D:"true",H:['{[*],"data":"RandomMultidimensional:5:10:1:1","graphType":"Heatmap","outlineBy":"data2","outlineBy":"DataOutline"}'],C:"Flag to show the outlineBy legend<br>",T:"boolean"},guides:{M:"Plot area",T:"option",O:["false","solid","dotted","dashed","dotdash","longdash","twodash"],H:['{[*],"graphType":"Bar"}'],D:"false",C:"This is a thin line that appears in the middle of the variables and / or samples in one dimensional graphs and multidimensional heatmaps just for aesthetics.<br>"},showErrorBars:{T:"boolean",C:"Flag to indicate whether to show or not error bars in the graphs.<br>",H:['{[*],"setMinX":0,"groupingFactors":["Factor1"]}'],D:"true",M:"Error Bars and Confidence Intervals"},decorationsBoxColor:{M:"Decorations",T:"color",S:["decorationsBox"],H:['{[*],"data":"Random:16:2","showDecorations":true,"graphType":"Scatter2D","functions":["addNormalDistributionLine"]}'],D:"rgb(204,204,204)",C:"Color for the box around the decoration legend<br>"},layoutType:{H:['{[*],"data":"Random:4:8:2:2","segregateSamplesBy":["Factor1"]}'],D:"wrap",C:"Type of layout to place the position for the labels in the trellis plot. Identify the axis that will be used to place the first segregating factor. 'rows' will use the first segregating factor in the rows and the second in the columns. 'cols' will use the first segregating factor in the columns and the second in the rows. 'wrap' will wrap the segregating factors putting the sample factors in the columns.<br>",M:"Combination Plots",T:"option",O:["wrap","rows","cols"]},nanOmit:{T:"boolean",C:"Flag to omit NaN values in log transformation.<br>",H:['{[*],"setMinX":0,"groupingFactors":["Factor1"]}'],M:"Missing Data",D:"false"},violinTransparency:{C:"Fraction to adjust color transparency for the violins.<br>",T:"float",M:"Boxplot Graphs",D:"0.5",H:['{[*],"data":"Random:2:12:0:2","showViolinBoxplot":true,"showBoxplotIfViolin":true,"groupingFactors":["Factor1"]}']},boxplotMedianWidth:{T:"integer",C:"Width for the line of the median of data in boxplots<br>",H:['{[*],"data":"Random:2:12:0:2","groupingFactors":["Factor1"]}'],D:"2",M:"Boxplot Graphs"},shadowColor:{H:['{[*],"showShadow":true}'],D:"rgba(0,0,0,0.5)",C:"Color for the shadow.<br>",M:"Shadows",T:"color",S:["showShadow"]},draw:{M:"Functions",T:"void",C:"Redraw the canvas<br>"},showViolinQuantiles:{T:"boolean",C:"Flag to show quantile 0.25 and 0.75 in violin plots<br>",H:['{[*],"data":"Random:2:12:0:2","showViolinBoxplot":true,"groupingFactors":["Factor1"]}'],M:"Boxplot Graphs",D:"false"},nodesProperties:{D:"[]",M:"Data Table/Filter",C:"Two dimensional array with object properties not at the root level for the nodes in the Network graph to include in the Data table and the data filter<br>",T:"array"},swimHigh:{X:"getVariablesAsArray",H:['{[*],"data":"Swimmer","graphType":"Bar","barType":"swimmer"}'],D:"false",C:"Variable to use in Swimmer plot. Defaults to the first variable in the data set. See https://blogs.sas.com/content/graphicallyspeaking/2014/06/22/swimmer-plot/<br>",M:"Bar Graphs",T:"option",O:["false"]},transparency:{C:"Percentage of transparency applied to all elements in the visualizations<br>",T:"float",D:"null",M:"General",H:["{[*]}"]},smpOverlaysLegendColumns:{H:['{[1,2,3],"data":"Random:10:10:0:3","showSmpOverlaysLegend":true,"smpOverlays":["Factor1","Factor2","Factor3"]}'],D:"1",M:"Overlays",T:"integer",C:"Number of columns for the sample overlay legends<br>"},histogramMedianLineStyle:{S:["createHistogram","densityKernel"],O:["solid","dotted","dashed","dotdash","longdash","twodash"],T:"option",M:"Histograms",C:"Line type for the histogram median<br>",D:"dashed",H:['{[*],"data":"Random:200:1","functions":["createHistogram"],"histogramBins":50}']},varHighlightColor:{C:"The color for the highlighted variables.<br>",D:"rgb(255,0,0)",H:['{[*],"highlightVar":["V1","V3"]}'],U:["Heatmap"],T:"color",M:"Variables"},offsetX:{Z:"true",T:"float",C:"Additional amount to move for the X axis<br>",M:"Combination Plots",D:"0"},filterDataBy:{M:"Data Filters",D:"{'cases':[],'comp':[],'op':[],'type':[],'value':[]}",T:"filter",U:["Heatmap"],C:"Filter data by their value in the 'data' object used in oncoprints. Used in the CanvasXpress UIs.<br>"},ganttCompletionTransparency:{T:"float",C:"Fraction to adjust color transparency for completion.<br>",H:['{[*],"data":"Gantt","graphType":"Gantt"}'],M:"Gantt Charts",D:"0.5"},axisTickFontStyle:{M:"Axis",T:"option",O:["","bold","italic","bold italic"],H:["{[*]}"],D:"",C:"Font style of the axis.<br>"},vennColors:{M:"Venn Diagrams",S:["colors"],T:"array",D:"[]",H:['{"data":"RandomVenn","vennColors":["rgb(51,151,255)","rgb(151,255,51)","rgb(255,51,125)"],"vennGroups":3}'],C:"Colors for the Venn bubles. If not specified the colors will be chosen from the colors array. Colors in this array need to be at least the same number of groups in the Venn diagram<br>"},heatmapSeparatorThickness:{C:"Thickness of the separation of samples and variables in the heatmap.<br>",T:"float",D:"3",M:"Heatmap Graphs",H:['{[2.5,5],"graphType":"Heatmap","heatmapVarSeparateBy":"Annt1","variablesClustered":true,"varOverlays":["Annt1"],"heatmapSmpSeparateBy":"Factor1","samplesClustered":true,"smpOverlays":["Factor1"]}']},disableCode:{M:"Events",D:"false",H:["{[*]}"],C:"Flag to disable showing the code<br>",T:"boolean"},circularType:{H:['{[*],"graphType":"Circular"}'],D:"normal",C:"Property to set the subtype of circular graph. If set to sunburst or bubble then smpOverlays can be used to build a hierarchy for the graph.<br>",M:"Circular Graphs",T:"option",O:["normal","radar","sunburst","chord","bubble"]},backgroundWindow:{D:"rgb(244,244,244)",H:['{[*],"backgroundType":"window"}'],C:"Specifies the background color for the canvas when the background type is of a type 'window'.<br>",M:"Foreground and Background",S:["backgroundType"],T:"color"},yAxisBottomMajorTick:{C:"A flag to show the bottom Major tick line in the Y axis in Scatter2D plots<br>",H:['{[*],"data":"Random:10:2","graphType":"Scatter2D"}'],D:"true",T:"boolean",U:["Scatter2D","ScatterBubble2D"],M:"Y-Axis"},remoteParams:{S:["remoteService","remoteServiceType","remoteDirection"],C:"Object to hold additional parameters used to obtain data remotely. The target property will be always added to the method as well as the direction [next|prev].<br>",T:"object",D:"{}",M:"Remote Procedures"},binplotDrop:{C:"Flag to drop cells with zero counts in binplots<br>",T:"boolean",M:"Bin Plots",D:"true",H:['{[*],"data":"Random:3:24:3:5","groupingFactors":["Factor1"],"functions":["createDOE"]}']},rowHeight:{M:"Data Table",D:"18",T:"integer",C:"Mumber of pixels for the height of cells in the data table<br>"},panningX:{T:"float",C:"Number of unit to pan the network in the X dimension<br>",M:"Zooming, Panning and Resizing",D:"0"},yAxisTickColor:{C:"Color for the tick lines in the Y axis<br>",D:"rgb(204,204,204)",H:['{[*],"data":"Random:10:2","graphType":"Scatter2D"}'],U:["Scatter2D","ScatterBubble2D","Scatter3D","Correlation"],T:"color",M:"Y-Axis"},backgroundImage:{C:"Specifies the url for the background image when the background type is of the type 'image' or 'windowImage'.<br>",H:['{"backgroundType":"image","backgroundImage":"https://www.canvasxpress.org/assets/images/nanotube.jpg"}','{"backgroundType":"windowImage","backgroundImage":"https://www.canvasxpress.org/assets/images/nanotube.jpg"}'],D:"false",T:"url",S:["backgroundType"],M:"Foreground and Background"},shapeByShowLegend:{C:"Flag to show the shapeBy legend<br>",T:"boolean",D:"true",M:"Data Point Attributes",H:['{[*],"graphType":"Dotplot","shapeBy":"Factor1"}']},showBoxplotIfViolin:{H:['{[*],"data":"Random:2:12:0:2","showViolinBoxplot":true,"groupingFactors":["Factor1"]}'],D:"true",M:"Boxplot Graphs",T:"boolean",C:"Flag to show boxplots when violin plot are show. It does not affect anything unless violins are shown.<br>"},xAxis2MinorValues:{T:"array",U:["AreaLine","BarLine","StackedLine","StackedPercentLine"],M:"X-Axis2",C:"Values for the minor ticks in the 2nd X axis<br>",D:"[]",Z:"true"},dotplotType:{C:"Flag to produce normal, stacked or movement dotplot graphs. Movement plot are only applicable when data is grouped.<br>",H:['{[*],"graphType":"Dotplot"}'],D:"normal",T:"option",O:["normal","stacked","movement"],M:"Dotplot Graphs"},moveParentsWithChildren:{M:"Network Graphs",D:"false",H:['{[*],"data":"RandomNetwork:1:20:10:0:0:large"}'],C:"Flag to make parents move when a child is moved<br>",T:"boolean"},rAxisLabelOrientation:{C:"Orientation to show the ticks values in circular plots.<br>",H:['{[*],"data":"RandomCircular2:4:8:2:3","rAxis":"Number","segregateVariablesBy":["Ring"],"segregateSamplesBy":["Factor2"]}'],D:"perpendicular",T:"option",O:["perpendicular","circular"],M:"R-Axis"},dotLength:{T:"integer",C:"Size in pixels of the length between dots in the doted lines.<br>",H:['{[*],"data":"RandomNetwork:1:20:10:1:0:forceDirected","graphType":"Network"}'],D:"1",M:"Lines"},showDataValues:{D:"false",M:"Plot area",H:['{[*],"graphType":"Bar"}'],C:"Flag to indicate whether to show data values in the one bar graphs.<br>",T:"boolean"},shapeKey:{M:"Data Point Attributes",D:"false",H:['{"graphType":"Dotplot","shapeBy":"Factor1","shapeKey":{"Factor1":{"Lev:1":"star","Lev:2":"diamond"}}}'],C:"Object to assign custom shapes to sample annotations and variable annotations included in the data object. The key of the object is the name of an annotation in the data.x object or the name of an annotation in the data.z object. A default shape will be assigned to a data point whose value was not included the object.<br>",T:"object"},background:{C:"Specifies the background color for the canvas.<br>",D:"rgb(255,255,255)",H:["{[*]}"],S:["backgroundType"],T:"color",M:"Foreground and Background"},zAxisCeilValue:{D:"null",M:"Z-Axis",H:['{[null,50],"data":"Random:10:3","graphType":"Scatter3D"}'],C:"Value to ceil the data in the Z axis.<br>",T:"float"},citationFont:{Z:"true",C:"Font for the reference citation<br>",T:"font",D:"7px Verdana",M:"Fonts"},contourColorScheme:{H:['{[*],"data":"Random:20:20","contourType":"overlay","functions":["createContour"]}'],M:"Contours",D:"Viridis",T:"color",C:"The color scheme when the contour is filled.<br>"},samplesKmeaned:{M:"Clustering",D:"false",H:['{[*],"data":"Random:20:20","graphType":"Heatmap"}'],C:"Configuration property to k-mean samples<br>",T:"boolean"},arrows:{H:['{"data":"RandomNetwork:1:30:15:1:0:forceDirected","graphType":"Network"}'],D:["arrow","square","round"],C:"Arrows for the edges (or connections) in network graphs.<br> There are three arrow types: arrow, square and round. They can be at the start or at the end of the line. To specify an arrow at the start of the line include a startArrow property in the edge; to specify an arrow at the end of the line include a endArrow property in the edge. For example in this edge object:<br> <i>{ ..., type : 'line', startArrow : 'square', endArrow : 'arrow', ... }</i><br>",Z:"true",M:"Lines",T:"array",O:["arrow","square","round"],S:["lines"]},topoJSON:{T:"string",C:"TopoJSON map string<br>",H:['{[*],"graphType":"Map"}'],M:"Maps",D:"false"},parallelCoordinates:{C:"Array used to store and handle a parallel coordinates plot<br>",T:"array",D:"[]",M:"Line Graphs",Z:"true"},circularArc:{D:"360",M:"Circular Graphs",H:['{[360,180,90],"data":"Random:1:10","graphType":"Circular","circularType":"sunburst"}'],C:"Number of degrees to extend the circular graph.<br>",T:"integer"},xAxisTransform:{C:"Tranformation for the values in the X axis.<br>",H:['{[*],"graphType":"Scatter2D"}'],D:"false",T:"option",U:["Scatter2D","ScatterBubble2D"],O:["false","log2","log10","exp2","exp10","percentile"],M:"X-Axis"},isNetworkMetrics:{D:"false",M:"Network Graphs",H:['{[*],"data":"RandomNetwork:1:20:10:0:0:large","networkLayoutType":"radial","networkRoot":"ND1","showAnimation":true}'],C:"Flag to calculate all network metrics: betweenness, closeness, eccentricity and degree.<br>",T:"boolean"},useOpenShapes:{C:"Use open shapes in most visualizations<br>",T:"boolean",D:"false",M:"Shapes",H:['{[*],"data":"Random:1:6"}']},binned:{T:"boolean",S:["showBoxplotOriginalData","boxplotDataPointTransparency"],U:["Dotplot","DotLine","Boxplot"],M:"Plot area",C:"Flag to bin the data points in dotplots and boxplots.<br>",H:['{[*],"graphType":"Dotplot","groupingFactors":["Factor1"]}','{[*],"graphType":"Boxplot","showBoxplotOriginalData":true,"groupingFactors":["Factor1"]}'],D:"false"},removeContour:{T:"void",U:["Bar","Line","Area","AreaLine","Dotplot","DotLine","Heatmap","Stacked","StackedPercent","Boxplot","Correletion","Pie","Barline","StackedLine","StackedPercentLine","Scatter2D","ScatterBubble2D","Scatter3D"],C:"Remove contour<br>",S:["contourXBinSize","contourYBinSize","contourZBinSize","contourType"],M:"Functions"},fishSeparateIndependentClones:{C:"Separate indepenent clones<br>",T:"boolean",D:"false",M:"Fish Graphs",H:['{[*],"graphType":"Fish"}']},xAxis2Values:{U:["AreaLine","BarLine","StackedLine","StackedPercentLine"],T:"array",M:"X-Axis2",Z:"true",C:"Values for the ticks in the 2nd X axis<br>",D:"[]"},shapeByShape:{M:"Data Point Attributes",U:["Heatmap"],O:["false","sphere","square","triangle","star","rhombus","octagon","oval","plus","minus","mdavid"],T:"option",D:"false",H:["{[*]}"],C:"String that identify the shape to use in regular and multidimensional heatmaps. shapeByData will take precedence over this property.<br>"},meterStart:{H:['{[*],"graphType":"Meter"}'],M:"Meter Graphs",D:"270",T:"float",C:"Start value for the meter in degrees.<br>"},meterType:{D:"gauge",H:['{[*],"graphType":"Meter"}'],C:"Type of meter. <br>",M:"Meter Graphs",O:["gauge","speedometer","vertical","horizontal","state","digital","number"],T:"option"},kmeansSmpClusters:{C:"Number of clusters when clustering sample data with kmeans.<br>",H:['{[*],"data":"Random:20:20","graphType":"Heatmap","samplesKmeaned":true}'],D:"3",T:"integer",S:["maxIterations","kmeansVarClusters","kmeansSamples","kmeansVariables"],M:"Clustering"},legendColumns:{C:"Number of columns for the variable legends in one dimensional plots<br>",T:"integer",D:"1",M:"Legends",H:["{[*]}"]},highlightGreyOutTransparency:{M:"General",T:"float",S:["highlightGreyOut"],H:['{[0.67,0.33],"graphType":"Scatter2D","highlightGreyOut":true}'],D:"0.67",C:"Fraction of transparency for grey out when highlighting with mouse over<br>"},smpLabelFontStyle:{T:"option",O:["","bold","italic","bold italic"],M:"Samples",C:"Font style for the sample label.<br>",H:["{[*]}"],D:""},contourDataPointsColor:{H:['{[*],"data":"Random:20:20","contourType":"overlay","functions":["createContour"]}'],D:"rgb(0,0,0)",C:"The color used for the data point in contours when the contour is filled.<br>",M:"Contours",T:"color",S:["showContourDataPoints"]},sankeyCoordinateColor:{D:"false",M:"Sankey Diagrams",H:['{[*],"data":"RandomSankey","graphType":"Sankey"}'],C:"Flag to use same color for the nodes and for the lines (links) in the Sankey diagram.<br>",T:"boolean"},featureTraceHeight:{T:"integer",C:"Default size in pixels of the trace height<br>",H:["{[*]}"],D:"40",M:"Genome Browser"},lineType:{H:['{[*],"data":"Random:4:6","graphType":"Line"}'],D:"rect",C:"Type of line used to join the points in line graphs<br>",M:"Line Graphs",T:"option",O:["rect","solid","spline","dotted","dashed","dotdash","longdash","twodash"]},trackNameFontStyle:{C:"Font style for the track name.<br>",D:"",H:["{[*]}"],O:["","bold","italic","bold italic"],T:"option",M:"Genome Browser"},saveFilename:{C:"Filename to use when downloading the canvas as an image or as json. If not specified. the filename will be based on the target id of the canvas. 'cX-' + canvas.targetId + extension.<br>",T:"string",M:"General",D:"false"},visiumFixedAspectRatio:{C:"Fix aspect ratio for visium plots.<br>",T:"boolean",M:"Scatter Plots",D:"true",H:['{[*],"graphType":"Scatter2D"}']},dataTableFontFamily:{T:"string",C:"Data table font family<br>",D:"unset",M:"Data Table"},subtracksMaxDefault:{M:"Genome Browser",D:"8",C:"Maximum number of subtracks to show in a track<br>",T:"integer"},guidesColor:{H:['{[*],"graphType":"Bar","guides":true}'],D:"rgb(204,204,204)",M:"Plot area",T:"color",C:"The color for the thin line that appears in the middle of the variables and / or samples in one dimensional graphs and multidimensional heatmaps just for aesthetics.<br>"},mapStandardParallel2:{C:"Map Standard Parallel 2 in degrees. (Applicable to Albers projection only). Default adjusts to USA maps.<br>",T:"float",M:"Maps",D:"45.5",H:["{[*]}"]},segregateVariables:{U:["Bar","Line","Area","AreaLine","Dotplot","DotLine","Heatmap","Stacked","StackedPercent","Boxplot","Correletion","Pie","Barline","StackedLine","StackedPercentLine"],C:"Segregate variables based on a variable category (data.z object)<br>",S:["segregateVariables"],T:"option",M:"Functions",X:"getZData"},remoteTransitionEffect:{T:"option",O:["none","slide","fade"],C:"Effect for the remote transitions.<br>",D:"slide",M:"Remote Procedures"},circularAnchors2Align:{O:["inside","outside"],T:"option",M:"Circular Graphs",C:"Position to align the anchors2 in circular plot<br>",D:"outside",H:['{"data":"RandomIdeogram:200:10:4:4","showIdeogram":true,"arcSegmentsSeparation":1,"segregateSamplesBy":["Factor4"],"circularAnchorsAlign":"outside","circularAnchors2Align":"inside","circularLabelsAlign":"inside","ringsOrder":["chromosomes","Annt1","Lev:1","anchors","labels","ideogram","anchors2","Lev:4"]}']},dendrogramHeight:{H:['{[*],"data":"Random:4:8:1:1","graphType":"Heatmap","samplesClustered":true,"variablesClustered":true}'],M:"Dendrograms",D:"80",T:"integer",C:"Size in pixels for the dendrogram.<br>"},tagCloudGridPoints:{M:"Tag Cloud",D:"[]",T:"array",C:"Array to keep state of the used space in the tag cloud visualization<br>",Z:"true"},axisTitleFontSize:{M:"Axis",S:["autoScaleFont","axisTitleScaleFontFactor"],T:"integer",D:"12",H:['{[*],"autoScaleFont":false,"xAxisTitle":"Axis Title"}'],C:"Font size for the axis titles in one, two and three dimensional plots. Be aware that auto scaling font must be turned off for this property to take effect. A more convenient way to modify the size is to use the axis title scaling factor<br>"},overlayFontColor:{C:"Color for the overlays in one dimensional plots<br>",T:"color",M:"Overlays",D:"rgb(0,0,0)",H:['{[*],"data":"Random:10:10:3:3","graphType":"Heatmap","varOverlays":["Annt1","Annt2","Annt3"],"smpOverlays":["Factor1","Factor2","Factor3"]}']},heatmapCellBoxHighlightWidth:{H:['{[*],"graphType":"Heatmap","highlightVar":["V1","V2"],"highlightSmp":["S1","S2"]}'],D:"1",M:"Heatmap Graphs",T:"float",C:"Width for the highlighting heatmap boxes around the cells<br>"},treeInverted:{T:"boolean",C:"Flag to plot the tree inverted.<br>",H:["{[*]}"],D:"false",M:"Trees"},motionBy:{M:"Data Point Attributes",T:"option",O:["false","variable"],H:['{"data":"Random:30:3:2:2","graphType":"Scatter2D","motionBy":"Annt1"}','{"data":"Random:30:3:2:2","graphType":"Scatter2D","motionBy":false}'],X:"getZData",D:"false",C:"Utility to create dynamic filtering of data in Scatter plots<br>"},showOverlays:{T:"boolean",C:"Flag to indicate to show or not the overlays in one dimensional plots<br>",H:['{[*],"data":"Random:10:10:3:3","graphType":"Heatmap","varOverlays":["Annt1","Annt2","Annt3"],"smpOverlays":["Factor1","Factor2","Factor3"]}'],M:"Overlays",D:"true"},shapeByContinuous:{M:"Data Point Attributes",D:"false",H:['{[*],"data":"Random:8:4:3:3","graphType":"Scatter2D","shapeBy":"Factor3"}'],C:"Flag to use pie shapes with continuous data as opposed to by binning the data and show regular shapes<br>",T:"boolean"},printThumbnail:{D:"false",M:"General",H:["{[*]}"],C:"Print thumbnail.<br>",T:"boolean"},xAxisLeftMajorTick:{C:"A flag to show the left Major tick line in the X axis in Scatter2D plots<br>",D:"true",H:['{[*],"graphType":"Scatter2D"}'],U:["Scatter2D","ScatterBubble2D"],T:"boolean",M:"X-Axis"},dataFilterWidth:{T:"integer",C:"Size in pixels for the data filters.<br>",H:["{[*]}"],D:"220",M:"Data Filters"},ganttCompletion:{M:"Gantt Charts",T:"option",O:["false"],X:"getXData",H:['{[*],"data":"Gantt","graphType":"Gantt"}'],D:"false",C:"Variable annotation in the x object to use in Gantt plots as completion percentage. Must be a value between 0 and 1.<br>"},meterBackgroundColor:{C:"Meter Background Color.<br>",T:"color",D:"rgb(229,229,229)",M:"Meter Graphs",H:['{[*],"graphType":"Meter"}']},tension:{H:['{[*],"data":"Random:4:6","graphType":"Line","lineType":"spline"}'],M:"Line Graphs",D:"0.3",T:"float",C:"Curvature for the splines and hulls<br>"},boxplotConnectWidth:{H:['{[*],"data":"Random:2:12:0:2","boxplotConnect":true,"groupingFactors":["Factor1"]}'],M:"Boxplot Graphs",D:"2",T:"integer",C:"Width for the line of the connection of boxes in boxplots<br>"},debug:{T:"boolean",C:"Flag to turn on alerts.<br>",M:"Debug",D:"false"},legendPosition:{S:["legendInside","legendPositionAuto"],O:["topRight","right","bottomRight","bottom","bottomLeft","left","topLeft","top"],T:"option",M:"Legends",C:"Position for the legend in the graphs. If legendInside is true the all the options apply but if legendInside is false only right and bottom are valid options<br>",D:"right",H:['{["right","bottom"],"legendInside":false}','{[*],"legendInside":true}']},startPieSectors:{H:['{[0,90,180,270],"data":"Random:5:6"}'],M:"Pie Charts",D:"270",T:"float",C:"Starting degrees for pie sectors. 0 is equivalent to 3:00 oclock<br>"},tags:{C:"Tags<br>",T:"array",D:"[]",M:"General"},xRotate:{C:"Starting number of degrees to rotate graph arround the X axis<br>",T:"float",D:"45",M:"3D Attributes",H:['{[0,45],"data":"Random:8:4","graphType":"Scatter3D"}']},randomMissingDataPercentage:{D:"0",M:"Random",C:"Default percentage of missing values when creating random data. A value between 0 and 1.<br>",T:"float"},xAxis2AbsMax:{Z:"true",M:"X-Axis2",D:"null",T:"float",C:"Minimum non-filtered value for the data plotted in the 2nd X axis<br>"},subtitle:{M:"Titles and Subtitles",S:["subtitleHeight","subtitleColor"],T:"string",D:"false",H:['{"title":"Graph Title","subtitle":"Graph Subtitle"}'],C:"Subtitle of the graph.<br>"},zoomSamplesDisable:{C:"Flag to disable zooming in all plots<br>",D:"false",H:['{[*],"graphType":"Heatmap"}','{[*],"graphType":"Heatmap"}'],S:["zoomVariablesDisable"],T:"boolean",M:"Zooming, Panning and Resizing"},align:{D:"center",H:['{[*],"title":"Graph Title"}'],C:"Default horizontal alignment for drawing text.<br>",M:"Text",O:["right","center","left"],T:"option"},maxSmpStringLen:{C:"Maximum length in characters a sample label or description can have so anything above is truncated.<br>",T:"integer",M:"Samples",D:"25",H:['{[1,30],"graphType":"Bar"}']},markerBy:{O:["false","variable"],T:"option",M:"Data Point Attributes",C:"Utility to create dynamic markers in Map. It must have a latitude and longitude metadata too.<br>",D:"false",X:"getXData"},filterVarBy:{C:"Filter variables by their annotation included in the 'data.z' object used in one dimensional plots. Used in the CanvasXpress UIs.<br>",D:"{'cases':[],'comp':[],'op':[],'type':[],'value':[]}",X:"getZData",U:["AGraphs"],T:"filter",M:"Data Filters"},vennCompartments:{Z:"true",C:"Name for the compartments in the the Venn diagrams<br>",T:"array",M:"Venn Diagrams",D:["A","B","AB","C","AC","BC","ABC","D","AD","BD","CD","ABD","ACD","BCD","ABCD"]},dataTableColumnWidth:{Z:"true",T:"array",C:"setInitialFonts     * Set the initial fonts @param void @returns void",M:"Data Table",D:"[]"},scaleTextConstantAdd:{T:"float",C:"Constants to autoscale text (extra)<br>",D:"2.0",M:"Text",Z:"true"},citationFontSize:{M:"Citations or References",D:"7",H:['{[*],"citation":"Graph citation or reference","autoScaleFont":false}'],C:"Size for the text of the reference citation of the graph<br>",T:"integer"},meterSegments:{C:"Meter Segments.<br>",D:"[]",H:['{[*],"graphType":"Meter"}'],S:["meterColors"],T:"array",M:"Meter Graphs"},legendScaleFontFactor:{T:"float",C:"Scaling factor used to increase or decrease legend font size in the canvas.<br>",H:["{[*]}"],M:"Legends",D:"1"},histogramStat:{T:"option",S:["createHistogram","showHistogramDensity"],O:["density","count"],M:"Histograms",C:"Histogram density type<br>",H:['{[*],"data":"Random:200:1","functions":["createHistogram"],"histogramBins":50,"showHistogramDensity":true}'],D:"count"},panningGlobalY:{Z:"true",T:"float",C:"Cumulative number of unit to pan the network in the Y dimension<br>",D:"0",M:"Zooming, Panning and Resizing"},sortDir:{D:"ascending",M:"Data sorting",T:"option",C:"Default direction for data sorting. Almost 'private' parameters used within the different CanvasXpress UIs.<br>",O:["ascending","descending"]},zAxis:{T:"array",M:"Z-Axis",C:"Name of the samples groups or variables to be displayed in the Z axis<br>",H:['{"data":"Random:10:6","xAxis":["S1","S2"],"yAxis":["S3","S4"],"zAxis":["S5","S6"],"graphType":"ScatterBubble2D"}'],X:"getSamplesAsArray",D:"[]"},xAxisRugHeight:{H:['{[*],"data":"Random:10:2","graphType":"Scatter2D","xAxisRugShow":true}'],D:"15",C:"Number of pixels for the rug in the X axis<br>",M:"X-Axis",T:"integer",U:["Scatter2D","ScatterBubble2D"]},circularConnectionsTransparency:{T:"float",C:"Percentage of transparency applied to the connections in the circular graphs<br>",H:['{[0.2,0.5],"data":"RandomCircular:4:8:2:3","segregateVariablesBy":["Ring"],"connections":[["red","S1","S4"],["blue","S2","S5"],["green","S3","S6"]]}'],D:"0.5",M:"Circular Graphs"},remoteEffectIn:{M:"Effect",D:"holeIn",H:["{[*]}"],C:"remoteEffectIn<br>",T:"string"},densityPixels:{C:"Number of pixels to stack on the density plots.<br>",T:"integer",D:"1000",M:"Density Plots",H:['{[*],"data":"Random:20000:2","showScatterDensity":true,"dataPointSize":2,"scatterOutlineThreshold":1}']},wireColor:{H:["{[*]}"],M:"Genome Browser",D:"rgba(204,204,204,0.1)",T:"color",C:"Color for the ticks in the genome browser<br>"},sequenceEColor:{M:"Genome Browser",D:"rgb(0,0,0)",H:["{[*]}"],C:"Color for the glutamic acids in the genome browser<br>",T:"color"},loessSpan:{C:"Loess span. Factor to adjust the gaussian shape of the loess curve. A vaulue between 0 and 1.<br>",T:"float",M:"Loess",D:"0.75",H:['{[0.5,0.9],"data":"Random:200:2","graphType":"Scatter2D","showLoessFit":true,"showConfidenceIntervals":true}']},colorSpectrum:{C:"An array with valid color names to create a color brew for the default color indicators<br>",D:["#4575b4","#91bfdb","#e0f3f8","#ffffbf","#fee090","#fc8d59","#d73027"],H:['{"graphType":"Heatmap","colorSpectrum":["blue","white","red"]}','{"graphType":"Heatmap","colorSpectrum":["green","black","red"]}'],S:["colorSpectrumBreaks"],T:"array",M:"Colors"},barnesHutUpdateQueue:{M:"Network Algorithm Parameters",D:"[]",T:"array",C:"Barnes Hut Queue for performance and avoid Javascript GC<br>",Z:"true"},loessFamily:{M:"Loess",O:["gaussian","symmetric"],T:"option",D:"gaussian",H:['{[0.5,0.9],"data":"Random:200:2","graphType":"Scatter2D","showLoessFit":true,"showConfidenceIntervals":true}'],C:'Loess Family. Type of error distribution to be optimized in fitting. The default, "gaussian" is fitting with least squares. Fitting with Tukey\'s biweight M-Estimator is used if family = "symmetric".<br>'},xAxisLeftRightTickColor:{M:"X-Axis",T:"color",U:["Scatter2D","ScatterBubble2D"],H:['{[*],"graphType":"Scatter2D"}'],D:"rgb(204,204,204)",C:"Color for the left and right tick lines in the Y axis<br>"},setMinX2:{U:["AreaLine","BarLine","StackedLine","StackedPercentLine"],T:"float",M:"X-Axis2",C:"Minimum value to set the data in the 2nd axis<br>",D:"null",H:['{[10,20,null],"data":"Random:4:8","graphType":"BarLine","xAxis2":["V1","V2"],"xAxis":["V3","V4"]}']},xAxisFloorValue:{H:['{[null,60],"graphType":"Dotplot"}','{[null,60],"graphType":"Scatter2D"}'],D:"null",M:"X-Axis",T:"float",C:"Value to floor the data in the X axis.<br>"},perspectiveFactor:{C:"Factor to use to make the 3D perspective. The higher the number the more perspective. Perspective of zero is no perspective at all.<br>",T:"float",M:"3D Attributes",D:"2.2",H:['{[*],"data":"Random:8:4","graphType":"Scatter3D"}']},showCircularConnections:{T:"boolean",C:"Flag to show connections in circular graphs<br>",H:['{[*],"data":"RandomCircular:4:8:2:3","segregateVariablesBy":["Ring"],"connections":[["red","S1","S4"],["blue","S2","S5"],["green","S3","S6"]]}'],D:"true",M:"Circular Graphs"},maxItemMenuCheckbox:{T:"integer",C:"Maximum number of items in a menu before it becomes a scroll box<br>",H:["{[*]}"],D:"10",M:"Events"},randomDataDistribution:{T:"option",O:["range","normal","uniform","symmetrical","biased"],C:"Distribution for the random data<br>",M:"Random",D:"biased"},smpLabelImage:{T:"boolean",C:"Use images as sample labels when possible<br>",M:"Samples",D:"false"},barLollipopFactor:{C:"Ratio for the lollipop in bar graphs. The higher the value the bigger the lollipop.<br>",T:"integer",M:"Bar Graphs",D:"1.5",H:['{[*],"data":"Random:1:8","graphType":"Bar","widthFactor":0.1,"barType":"lollipop"}']},createFactory:{M:"General",D:"false",T:"object",C:"CanvasXpress Factory used to create plot. This is parsed from the PNG or JSON data loaded<br>",Z:"true"},showLevelOverlays:{H:['{[*],"data":"Random:10:10:3:3","graphType":"Heatmap","varOverlays":["Annt1","Annt2","Annt3"],"smpOverlays":["Factor1","Factor2","Factor3"]}'],D:"true",M:"Overlays",T:"boolean",C:"Flag to indicate to show or not the level overlays in one dimensional plots<br>"},sequenceBColor:{M:"Genome Browser",D:"rgb(0,0,0)",H:["{[*]}"],C:"Color for the degenerate C/G/T and asparagines in the genome browser<br>",T:"color"},zAxisTransformTicks:{T:"boolean",C:"Flag to transform the values of the ticks in the Z axis<br>",H:['{[*],"data":"Random:10:3","zAxisTransform":"log10","graphType":"Scatter3D"}'],M:"Z-Axis",D:"true"},marginRight:{T:"integer",C:"Specifies the length in pixels for the right margin in the canvas.<br>",H:['{[5,100],"data":"Random:1:3"}'],M:"Margins",D:"5"},featureConfigurableProperties:{H:["{[*]}"],M:"Genome Browser",D:["id","name","label","hideName","fill","outline","dir","showDir","connect","offset","data","subtype","quality","signalToNoise","coordinate","sequence","trace","gaps","translate","hide","counter"],T:"array",C:"Feature configurable properties<br> @features {id:[string];Feature id;[],fill:[color];Color for the feature;[]}"},showSmpOverlaysLegend:{C:"Flag to show or not the legend for the sample overlays in the graphs. If set to false the level information will be displayed in the actual colored boxes of the overlays<br>",T:"boolean",D:"false",M:"Overlays",H:['{[*],"data":"Random:10:10:3:3","graphType":"Heatmap","varOverlays":["Annt1"],"smpOverlays":["Factor1"]}']},variableSpaceFactor:{C:"Factor to adjust the spacing between the data points between the variables in the one dimensional plots. The greater the number, the greater the gap.<br>",D:"2",H:['{[2,6],"data":"Random:2:4","graphType":"Bar"}'],S:["sampleSpaceFactor","widthFactor"],T:"integer",M:"Aspect Ratio, Space and width"},layoutRemoveEmpty:{C:"Flag to remove empty combinations in segregated layouts.<br>",T:"boolean",M:"Combination Plots",D:"true",H:['{[*],"data":"Random:4:8:2:2","segregateSamplesBy":["Factor1"]}']},networkNodesOnTop:{C:"Order to use when drawing the nodes and edges in the networks. Useful for very populated netwrok graphs. When is set to true all the edges will be in the background.<br>",T:"boolean",D:"true",M:"Network Graphs",H:['{[*],"data":"RandomNetwork:1:50:10:0:0:forceDirected"}']},ganttDependencyThickness:{X:"getXData",H:['{[*],"data":"Gantt","graphType":"Gantt"}'],D:"false",C:"Variable annotation for the thickness of the dependency line. Defaults to 1.<br>",M:"Gantt Charts",T:"float",O:["false"]},overlayScaleFontFactor:{M:"Overlays",D:"1",H:['{[*],"data":"Random:10:10:3:3","graphType":"Heatmap","varOverlays":["Annt1","Annt2","Annt3"],"smpOverlays":["Factor1","Factor2","Factor3"]}'],C:"Scaling factor used to increse or decrease overlays font size in the canvas in one dimensional plots<br>",T:"float"},functions:{C:"Functions exposed to the api<br>",T:"array",M:"General",D:"[];",Z:"true"},ringSeparation:{T:"integer",C:"Number of pixels to separate the rings in the circular plots.<br>",H:['{[*],"data":"RandomCircular:4:8:2:3","segregateVariablesBy":["Ring"],"ringGraphType":["bar","heatmap","dot"]}'],M:"Circular Graphs",D:"5"},violinTrim:{C:"Flag to trim violin plots<br>",T:"boolean",M:"Boxplot Graphs",D:"true",H:['{[*],"data":"Random:2:12:0:2","showViolinBoxplot":true,"groupingFactors":["Factor1"]}']},networkShowDataTable:{T:"option",O:["nodes","edges"],C:"Show nodes or edges on data table<br>",M:"Data Table",D:"nodes"},boxplotWidthRatioIfViolin:{D:"0.33",M:"Boxplot Graphs",H:['{[*],"data":"Random:2:12:0:2","showViolinBoxplot":true,"showBoxplotIfViolin":true,"groupingFactors":["Factor1"]}'],C:"A number between 0.1 and 1 to adjust the width of the boxplot when violins are shown. It does not affect anything unless violins are shown.<br>",T:"float"},chordThickness:{H:['{[*],"data":"RandomChord","graphType":"Circular","circularType":"chord"}'],M:"Circular Graphs",D:"28",T:"integer",C:"Relative length in pixels of the chord thickness in the circular graphs. Only applicable to the chord subtype.<br>"},startRow:{Z:"true",D:"0",M:"Data Table",T:"integer",C:"Starting row in the data table<br>"},mapCentralMeridian:{T:"float",C:"Map Latitude Of Origin in degrees. (Applicable to Albers projection only). Default adjusts to USA maps.<br>",H:["{[*]}"],M:"Maps",D:"-96.0"},layoutLabelShow:{H:['{[*],"data":"Random:4:8:2:2","segregateSamplesBy":["Factor1"]}'],M:"Combination Plots",D:"true",T:"boolean",C:"Flag to draw the layout label.<br>"},varLabelFontStyle:{D:"",H:["{[*]}"],C:"Font style for the variable label.<br>",M:"Variables",U:["Heatmap"],O:["","bold","italic","bold italic"],T:"option"},showNodeNameThreshold:{M:"Network Graphs",D:"50",H:['{[5,50],"data":"RandomNetwork:1:20:10:0:0:large"}'],C:"Thereshold used to set the limit to hide or display the name of nodes in a network. If the number of nodes exceed this thereshold then the name will not be shown.<br>",T:"integer"},reproduceTime:{H:['{[*],"groupingFactors":["Factor1"],"isReproducibleResearch":true}'],D:"500",M:"General",T:"integer",C:"Time to wait in milliseconds to reproduce user modifications through the UI.<br>"},outlineColor3D:{D:"rgba(0,0,0,0)",M:"3D Attributes",H:["{[*]}"],C:"Color for the outline of the 3D Scatters.<br>",T:"color"},contourLevels:{S:["createContour","axisAlgorithm","contourLevelNumber","contourLevelWidth"],T:"array",M:"Contours",C:"Numeric vector to set the contour levels. It is automatically calculated if not defined using the axisAlgorithm setting and the contourLevelNumber.<br>",D:"[]",H:['{[5,10],"data":"Random:20:20","functions":["createContour"]}']},isTransformedData:{T:"boolean",C:"Flag to indicate if the data is transformed.<br>",M:"Data",D:"false",Z:"true"},setMinX:{H:['{[20,50,null],"graphType":"Bar"}','{[20,50,null],"graphType":"Scatter2D"}'],D:"null",M:"X-Axis",T:"float",C:"Minimum value to set the data in the X axis<br>"},sequenceXColor:{M:"Genome Browser",D:"rgb(0,0,0)",H:["{[*]}"],C:"Color for the any aminoacid code in the genome browser<br>",T:"color"},loessBandwidth:{H:['{[0.5,0.9],"data":"Random:200:2","graphType":"Scatter2D","showLoessFit":true,"showConfidenceIntervals":true}'],M:"Loess",D:"0.8",T:"float",C:"Loess bandwidth. Thickness for the confidence of the loess curve. A vaulue between 0 and 1.<br>"},filterNodeBy:{D:"{'cases':[],'comp':[],'op':[],'type':[],'value':[]}",X:"getNodeData",C:"Filter nodes by their properties used in network graphs. Used in the CanvasXpress UIs.<br>",M:"Data Filters",U:["Network"],T:"filter"},fixedAspectRatio:{D:"0",M:"Aspect Ratio, Space and width",H:['{[*],"graphType":"Scatter2D"}'],C:"Keep fixed aspect ratio expressed as y / x. A zero value is used to ignore otherwise the x and y axes are set accordingly.<br>",T:"float"},appendNetworkData:{D:"[]",M:"Data",C:"Array containing additional data files to append to networks. Useful for loading KEGG and Wikipatways to decorate the nodes and the edges.<br>",T:"array"},featureNameFontStyle:{M:"Genome Browser",O:["","bold","italic","bold italic"],T:"option",D:"",H:["{[*]}"],C:"Font style for the feature name.<br>"},yRotate:{H:['{[0,45],"data":"Random:8:4","graphType":"Scatter3D"}'],M:"3D Attributes",D:"0",T:"float",C:"Starting number of degrees to rotate graph arround the Y axis<br>"},disableConfigurator:{M:"Events",D:"false",H:["{[*]}"],C:"Flag to disable configurator.<br>",T:"boolean"},smpTitleScaleFontFactor:{C:"Scaling factor used to increse or decrease sample title font size in the canvas<br>",T:"float",M:"Samples",D:"1",H:['{[*],"smpTitle":"Sample Title"}']},toolbarEffectOut:{C:"toolbarEffectOut<br>",T:"string",M:"Effect",D:"holeOut",H:["{[*]}"]},canvasBoxColor:{M:"General",T:"color",S:["canvasBox"],H:['{[*],"canvasBox":true}'],D:"rgb(204,204,204)",C:"Color for the box around the canvas<br>"},areaType:{H:['{[*],"data":"Random:4:8:0:0","transparency":0.5,"lineType":"spline"}'],D:"normal",C:"Flag to produce normal, stacked, center or percent area graphs<br>",M:"Area Graphs",T:"option",O:["normal","stacked","percent"]},featureTraceTrim:{M:"Genome Browser",D:"1",H:["{[*]}"],C:"Default triming for nucleotide values in the traces (expressed in percent)<br>",T:"integer"},networkSpeed:{C:"Network Speed<br>",T:"float",D:"0.1",M:"Network Algorithm Parameters",H:['{[*],"data":"RandomNetwork:1:20:10:0:0:large"}']},networkSpringCoeff:{T:"float",C:"Hook's law coefficient. 1 - solid spring.<br>",H:['{[*],"data":"RandomNetwork:1:20:10:0:0:large"}'],M:"Network Algorithm Parameters",D:"0.0008"},vennLegendColors:{T:"boolean",C:"Flag to use the venn colors to use for the legends instead of the letters<br>",H:['{[*],"data":"RandomVenn"}'],D:"false",M:"Venn Diagrams"},hierarchyVarIndex:{D:"0",M:"Hierarchy",C:"Variable index to use in the sankey, sunburst and bubble graphs.<br>",T:"integer",Z:"true"},stackBy:{H:['{"data":"Random:4:8:1:1","graphType":"Bar","stackBy":"Annt1"}'],X:"getXData",D:"false",C:"Name of a sample annotation to stack the samples of each variable in Bar graphs.<br>",M:"Data Point Attributes",T:"option",O:["false"]},xAxis2MaxStrLength:{Z:"true",D:"null",M:"X-Axis2",T:"string",C:"Longest string of all the values in the ticks in the 2nd X axis<br>"},clusterVariables:{C:"Cluster variables based on data and generate a dendrogram on the variable axis. It takes no parameters<br>",S:["distance","linkage","imputeMethod"],U:["Heatmap"],T:"void",M:"Functions"},sequenceFontSize:{T:"integer",C:"Size in pixels for the font size of text of the sequence in the genome browser<br>",H:["{[*]}"],M:"Genome Browser",D:"12"},connections:{T:"array",C:"Array to store connections in circular graphs<br>",H:['{"data":"RandomCircular:4:8:2:3","segregateVariablesBy":["Ring"],"connections":[["red","S1","S4"],["blue","S2","S5"],["green","S3","S6"]]}'],D:"[]",M:"Circular Graphs"},yAxisRugHeight:{C:"Number of pixels for the rug in the Y axis<br>",D:"15",H:['{[*],"data":"Random:10:2","graphType":"Scatter2D","yAxisRugShow":true}'],U:["Scatter2D","ScatterBubble2D"],T:"integer",M:"Y-Axis"},shapeByData:{C:"String that identify the object containing a two dimensional array with values used to shape data points when drawing a multidimensional Heatmap. It must be located within the data.y object (for example: data.y.data2)<br>",H:['{"data":"RandomMultidimensional:5:10:1:1","shapeByData":"data4","shapeBy":"DataShape"}'],D:"false",T:"string",S:["shapeBy"],U:["Heatmap"],M:"Data Point Attributes"},featureHeightDefault:{T:"integer",C:"Default size in pixels of the feature height<br>",D:"14",M:"Genome Browser"},jitterFactor:{D:"0.4",M:"Plot area",H:['{[0.3,0.8],"graphType":"Scatter2D","jitter":true}'],C:"Factor for jittering. The larger the more jitter.<br>",T:"float"},featureDirColor:{H:["{[*]}"],M:"Genome Browser",D:"rgb(0,0,0)",T:"color",C:"Default color for the strand direction of the feature in the genome browser<br>"},treeNodeId:{Z:"true",C:"Id for the nodes in the tree<br>",T:"integer",M:"Trees",D:"0"},randomMethod:{T:"option",C:"Random method",O:["jenkins","numericalRecipes"],M:"Random",D:"numericalRecipes"},disableDataFilters:{M:"Events",D:"false",H:["{[*]}"],C:"Flag to disable showing data filters<br>",T:"boolean"},printMagnification:{C:"Print Magnification to produce High Definition images. Courtesy of Baohong Zhang.<br>",T:"integer",D:"1",M:"General",H:["{[*]}"]},oncoprintHeatmapSwitch:{D:"false",H:["{[*]}","{[*]}"],C:"Flag to show heatmap instead of oncoprint.<br>",M:"Oncoprint Graphs",S:["showHeatmapOncoprint"],T:"boolean"},ringsOrder:{H:['{"data":"RandomIdeogram:200:10:4:4","showIdeogram":true,"arcSegmentsSeparation":1,"segregateSamplesBy":["Factor4"],"circularLabelsAlign":"inside","ringsOrder":["chromosomes","labels","ideogram"]}','{"data":"RandomIdeogram:200:10:4:4","showIdeogram":true,"arcSegmentsSeparation":1,"segregateSamplesBy":["Factor4"],"circularLabelsAlign":"outside","ringsOrder":["scale","ideogram","labels"]}'],D:"[]",C:"Array containing the order of the rings. The array includes the levels of the factor specified as either segregateSamplesBy when show the ideogram or segregateVariablesBy when there is no ideogram. It may also include any of the following terms: 'dendrogram', 'ideogram', 'labels', 'scale', 'percent' and 'data'. If there are sample overlays, the array may also contain any of the factor names include in the this.data.x object. This array supersede any other configurations for example for the sample overlays. CanvasXpress will honored all other configurations if left empty.<br>",M:"Circular Graphs",T:"array",S:["ringOrder"]},yAxisFloorValue:{T:"float",C:"Value to floor the data in the Y axis.<br>",H:['{[null,50],"data":"Random:10:2","graphType":"Scatter2D"}'],D:"null",M:"Y-Axis"},xAxis2:{M:"X-Axis2",T:"array",H:['{"data":"Random:4:8","xAxis2":["V1"],"xAxis":["V2"],"graphType":"BarLine"}'],X:"getVariablesAsArray",D:"[]",C:"Name of the variables in one dimensional graphs<br>"},smpDendrogramNewick:{M:"Dendrograms",D:"false",T:"string",C:"Dendrogram in Newick format for the samples<br>"},objectBorderColor:{C:"The color for the border of all objects in one dimensional graphs. It turns into the non-transparent fill color if set to false.<br>",T:"color",D:"rgb(0,0,0)",M:"Plot area",H:['{[*],"graphType":"Bar"}']},showFeatureNameThereshold:{T:"integer",C:"Threshehold used to set te limit when there are too many features in the genome browser<br>",H:["{[*]}"],D:"20",M:"Genome Browser"},boxplotMean:{C:"Flag to show mean of data in boxplots<br>",T:"boolean",M:"Boxplot Graphs",D:"false",H:['{[*],"data":"Random:2:12:0:2","boxplotMean":true,"groupingFactors":["Factor1"]}']},print:{M:"Functions",C:"initializeApi     * @param void @returns void",T:"void"},lineBy:{O:["false"],T:"option",M:"Data Point Attributes",C:"Name of a sample annotation to stack the samples of each variable in Line graphs.<br>",D:"false",H:['{"data":"Random:4:8:1:1","graphType":"Bar","lineBy":"Annt1"}'],X:"getXZData"},varOverlaysLegendColumns:{D:"1",M:"Overlays",H:['{[1,2,3],"data":"Random:10:10:3:0","graphType":"Heatmap","showVarOverlaysLegend":true,"varOverlays":["Annt1","Annt2","Annt3"]}'],C:"Number of columns for the variable overlay legends<br>",T:"integer"},labelNodePosition:{T:"option",O:["auto","center","top","right","bottom","left"],M:"Network Graphs",C:"Default position for the node label<br>",H:['{[*],"data":"RandomNetwork:1:20:10:0:0:large"}'],D:"auto"},remoteData:{C:"Array for the remote data pased after a service call<br>",T:"array",M:"Remote Procedures",D:"[]",Z:"true"},maxFeatureStringLen:{T:"integer",C:"Maximum length in characters a feature label can have so anything above is truncated.<br>",H:["{[*]}"],D:"30",M:"Genome Browser"},treeLinkColor:{T:"color",C:"The default color for the tree lines (links)<br>",H:["{[*]}"],M:"Trees",D:"rgb(150,150,150)"},smpHighlightColor:{H:['{[*],"highlightSmp":["S1","S3"]}'],M:"Samples",D:"rgb(255,0,0)",T:"color",C:"The color for the higlighted samples.<br>"},transformData:{C:"Default transformation type for ALL the data. Data can also be transformed by axis (x,y,z) to give more flexibility. false, save, reset and undo are NOT real transformations. They are only used in the canvasXpress UIs to save the transformed data.<br>",D:"false",H:['{[*],"data":"Random:4:8:2:2"}'],S:["transformAxis"],O:["false","log2","log10","exp2","exp10","percentile","zscore","ratio2","ratio10","save","reset","undo"],T:"option",M:"Data"},zAxisMaxStrLength:{Z:"true",T:"string",C:"Longest string of all the values in the ticks in the Z axis<br>",M:"Z-Axis",D:"null"},timeValueProperties:{M:"Time Series",D:"{}",T:"object",C:"Object with all the time properties needed to plot the data",Z:"true"},sortOnGrouping:{D:"false",M:"Data sorting",T:"option",O:["false","ascending","descending"],C:"Sort the name of the groups after sample grouping.<br><br>"},rAxisTickColor:{H:['{[*],"data":"RandomCircular2:4:8:2:3","rAxis":"Number","segregateVariablesBy":["Ring"],"segregateSamplesBy":["Factor2"]}'],M:"R-Axis",D:"rgb(0,0,0)",T:"color",C:"Color for the tick lines in the R axis<br>"},connectByNoColor:{M:"Data Point Attributes",D:"false",H:['{[*],"graphType":"Dotplot","connectBy":"Factor1"}'],C:"Flag to prevent coloring the lines  by the connectBy annotation. Usefull when connectBy is used along with colorBy to avoid confusion of colors<br>",T:"boolean"},shadowOffsetX:{C:"Length in pixels for the shadow offset in the X axis.<br>",D:"1",H:['{[*],"showShadow":true}'],S:["showShadow"],T:"integer",M:"Shadows"},randomSeed:{C:"Specifies the random seed number to create pseudo random numbers<br>",T:"integer",D:"8",M:"Random"},zAxisTickStyle:{D:"solid",H:['{[*],"data":"Random:10:3","graphType":"Scatter3D"}'],C:"Style for the tick lines in the Z axis<br>",M:"Z-Axis",O:["solid","dotted","dashed","dotdash","longdash","twodash"],T:"option"},featureCoordinateShow:{T:"boolean",C:"Flag use to show coordinates<br>",H:["{[*]}"],M:"Genome Browser",D:"true"},showFunctionNamesAfterRender:{M:"General",D:"false",T:"boolean",C:"Show function names when after render is set<br>"},overlaysThickness:{C:"Relative length in pixels for the thickness of the colored boxes to classify samples and or variables in one dimensional plots. This value is adjusted acording to the graph dimensions if the adjustAspectRatio parameter is set to 'true'.<br>",H:['{[*],"data":"Random:10:10:3:3","graphType":"Heatmap","varOverlays":["Annt1","Annt2","Annt3"],"smpOverlays":["Factor1","Factor2","Factor3"]}'],D:"18",T:"integer",S:["adjustAspectRatio"],M:"Overlays"},correlationAxis:{T:"option",O:["samples","variables"],M:"Correlation Graphs",C:"Axis used for the correlation.<br>",H:['{[*],"data":"Random:4:8"}'],D:"samples"},filterEdgeBy:{D:"{'cases':[],'comp':[],'op':[],'type':[],'value':[]}",X:"getEdgeData",C:"Filter edges by their properties used in network graphs. Used in the CanvasXpress UIs.<br>",M:"Data Filters",U:["Network"],T:"filter"},networkRoot:{C:"Node Id of the network root.<br>",T:"string",M:"Network Graphs",D:"false",H:['{"data":"RandomNetwork:1:20:10:0:0:large","networkLayoutType":"radial","networkRoot":"ND1","showAnimation":true}','{"data":"RandomNetwork:1:20:10:0:0:large","networkLayoutType":"radial","networkRoot":"ND6","showAnimation":true}']},panningStep:{T:"float",C:"Percentage step for panning networks.<br>",H:['{[*],"graphType":"Heatmap"}'],M:"Zooming, Panning and Resizing",D:"0.2"},patternKey:{H:['{"graphType":"Dotplot","patternBy":"Factor1","patternKey":{"Factor1":{"Lev:1":"stripeVertical","Lev:2":"stripeHorizontal"}}}'],D:"false",M:"Data Point Attributes",T:"object",C:"Object to assign custom patterns to sample annotations and variable annotations included in the data object. The key of the object is the name of an annotation in the data.x object or the name of an annotation in the data.z object. A default pattern will be assigned to a data point whose value was not included the object.<br>"},sequenceKColor:{T:"color",C:"Color for the degenerate G/T and lysines in the genome browser<br>",H:["{[*]}"],D:"rgb(255,0,0)",M:"Genome Browser"},highlightSmp:{D:"[]",X:"getSamplesAsArray",H:['{"highlightSmp":["S1","S3"]}'],C:"Name of samples in the 'data.y' object to highlight.<br>",M:"Samples",T:"array"},hideUnhideSmps:{C:"Hide or unhide samples. It works like a switch<br>",U:["Bar","Line","Area","AreaLine","Dotplot","DotLine","Heatmap","Stacked","StackedPercent","Boxplot","Correletion","Pie","Barline","StackedLine","StackedPercentLine","Scatter2D","ScatterBubble2D","Scatter3D"],T:"array",M:"Functions",X:"getSamplesAsArray"},tagCloudShape:{H:["{[*]}"],D:"false",C:"Shape for the tag cloud<br>",M:"Tag Cloud",T:"option",O:["false","circle","cardioid","diamond","square","triangle","triangle2","pentagon","star"]},circularAnchorColor:{M:"Circular Graphs",D:"rgb(0,0,255)",H:['{[*],"data":"RandomIdeogram:200:10:4:4","showIdeogram":true,"arcSegmentsSeparation":1,"segregateSamplesBy":["Factor4"]}'],C:"Default color for the circular anchor.<br>",T:"color"},scatterType:{C:"Type of scatter plot<br>",H:['{[*],"graphType":"Scatter2D","scatterType":"image","images":["area", "bar", "boxplot", "heatmap", "line", "pie"]}'],D:"false",T:"option",O:["false","line","bar","dot","image","lineImage","lineStep","boxplot","visium","manhattan","bin2d"],S:["images","isHistogram","histogramBarWidth","chromosomeLengths"],M:"Scatter Plots"},circularAnchorLength:{D:"15",M:"Circular Graphs",H:['{[*],"data":"RandomIdeogram:200:10:4:4","showIdeogram":true,"arcSegmentsSeparation":1,"segregateSamplesBy":["Factor4"]}'],C:"Length in pixels of the height of the circular anchor<br>",T:"integer"},resizerBackgroundColor:{M:"Zooming, Panning and Resizing",D:"rgba(204,204,204,0.7)",H:["{[*]}"],C:"Color for the div that shows up when resizing the canvas<br>",T:"color"},nodeSize:{Z:"true",T:"integer",C:"Approximate pixels for the size of the nodes in the network. Automatically adjusted depending on the numebr of nodes in the network.<br>",M:"Network Graphs",D:"15"},motionWidth:{T:"integer",C:"Size in pixels for the motion widget when used to reproduce user customizations.<br>",H:["{[*]}"],M:"Motion Charts",D:"250"},hideInfoDiv:{C:"Hide additional information<br> @advanced",T:"void",M:"Functions"},maxIterations:{T:"integer",S:["kmeansVarClusters","kmeansSmpClusters","kmeansSamples","kmeansVariables"],C:"Number of maximum iterations when clustering data with kmeans for one dimensional graphs or maximum number of iterations when calculating force direct layout networks.<br>",M:"Clustering",D:"500"},periodTicksLabels:{H:["{[*]}"],M:"Genome Browser",D:"5",T:"integer",C:"Number of ticks to skip between values in the genome browser<br>"},connectByData:{Z:"true",M:"Data Point Attributes",D:"{}",C:"Internal object with connectBy data<br>",T:"object"},showHeatmapOncoprint:{M:"Oncoprint Graphs",S:["showHeatmapOncoprint","showHeatmapOncoprint"],T:"boolean",D:"false",H:["{[*]}"],C:"Flag to show heatmap along with the oncoprint.<br>"},smpLabelFontSize:{M:"Samples",T:"integer",S:["autoScaleFont","smpLabelScaleFontFactor"],H:['{[*],"autoScaleFont":false}'],D:"12",C:"Size for the sample labels in one dimensional plots. Be aware that auto scaling font must be turned off for this property to take effect. A more convenient way to modify the size is to use the sample label scaling factor<br>"},disableMenu:{C:"Flag to disable showing the menu on right clicks<br>",T:"boolean",D:"false",M:"Events",H:["{[*]}"]},varLabelFont:{C:"Font for the variable labels in one dimensional plots<br>",T:"font",D:"12px Verdana",M:"Fonts",Z:"true"},extendedDOE:{M:"DOE",D:"true",H:['{[*],"data":"Random:3:24:3:5","groupingFactors":["Factor1"],"functions":["createDOE"]}'],C:"Flag to extend DOE to include variables / samples.<br>",T:"boolean"},ideogramChromosomePosition:{C:"Factor name included in the 'data.z' object used to map to the chromosome position.<br>",X:"getZData",H:['{"data":"RandomIdeogram:200:10:4:4","showIdeogram":true,"arcSegmentsSeparation":1,"segregateSamplesBy":["Factor4"]}'],D:"pos",T:"string",M:"Circular Graphs"},zAxisTitleDynamic:{T:"boolean",C:"Set the title for the Z axis dynamically as it changes<br>",H:["{[*]}"],D:"false",M:"Z-Axis"},showInfoDiv:{T:"void",C:"Show additional information<br> @advanced",M:"Functions"},layoutLabelColor:{D:"rgb(0,0,0)",M:"Combination Plots",H:['{[*],"data":"Random:4:8:2:2","segregateSamplesBy":["Factor1"]}'],C:"Color for the label text in layout graphs<br>",T:"color"},featureQualityValues:{C:"Flag use to show values for the quality<br>",T:"boolean",M:"Genome Browser",D:"false",H:["{[*]}"]},smpOverlayProperties:{M:"Overlays",D:"{}",C:"Object to assign properties to the variable overlays. The key should be an annotation in the 'data.z' object and the value may contain 'type' which could be either one of the one dimensional graph types or Increase, or Decrease for continuous annotations; 'color' to assign the color for the Bar, Line, etc.; 'level' which is an object where the key is the level and the value is the corresponding color. 'height' to identify how tall the overlay will be<br>",T:"object"},showQuantileRegressionFit:{D:"false",M:"Quantile Regression Plots",H:['{[*],"data":"Random:200:2","graphType":"Scatter2D"}'],C:"Flag to show the Quantile Regression fit in Scatter2D plots<br>",T:"boolean"},arrowPointSize:{M:"Lines",D:"9",H:['{[*],"data":"RandomNetwork:1:20:10:1:0:forceDirected","graphType":"Network"}'],C:"Size in pixels of the arrow head in arrow lines.<br>",T:"integer"},histogramStackRatio:{O:["down","center","centerwhole"],T:"boolean",M:"Histograms",C:"Direction to stack the dots in dotplot histograms.<br>",D:"down",H:['{[*],"data":"Random:200:1","functions":["createHistogram"],"histogramBins":50}','{[*],"data":"Random:200:1","functions":["createHistogram"],"histogramBins":50}']},smpTitleFontColor:{H:['{[*],"smpTitle":"Sample Title"}'],D:"rgb(0,0,0)",M:"Samples",T:"color",C:"Font color for the sample title in one dimensional plots<br>"},showHistogramQuantiles:{C:"Flag to show quantile 0.25 and 0.75 in density plots<br>",D:"false",H:['{[*],"data":"Random:200:1","functions":["createHistogram"],"histogramBins":50}'],S:["createHistogram","densityKernel"],T:"boolean",M:"Histograms"},colorSmpDendrogramBy:{M:"Dendrograms",O:["false"],T:"option",D:"false",H:['{"data":"Random:4:8:1:1","colorSmpDendrogramBy":"Factor1","graphType":"Heatmap","samplesClustered":true}'],X:"getXData",C:"Name of a sample annotation to color the variable dendrogram.<br>"},sizeBy:{T:"option",O:["false","variable"],S:["sizeByData"],M:"Data Point Attributes",C:"Name of a variable annotation or a sample name or the string 'variable' to size the variables. When sizeByData is specified sizeBy is used for the title in the legend.<br>",H:['{"data":"Random:8:4:1:1","graphType":"Scatter3D","sizeBy":"Annt1"}','{"data":"Random:8:4:1:1","graphType":"Scatter3D","sizeBy":"Sample4"}','{"data":"Random:4:8:1:1","graphType":"Dotplot","sizeBy":"Factor1"}','{"data":"Random:4:8:1:1","graphType":"Dotplot","sizeBy":"Annt1"}'],X:"getXZData",D:"false"},meterMin:{T:"float",C:"Minimum value in the meter.<br>",H:['{[*],"graphType":"Meter"}'],D:"null",M:"Meter Graphs"},boxplotOutliersRatio:{C:"Ratio for the size of the outliers with respect to boxplot<br>",T:"integer",D:"8",M:"Boxplot Graphs",H:['{[*],"data":"Random:2:12:0:1:1:100:0:false:normal:50:10","groupingFactors":["Factor1"]}']},zAxisCurrent:{M:"Z-Axis",U:["ScatterBubble2D"],T:"integer",D:"0",H:['{[0,1],"data":"Random:10:6","xAxis":["S1","S2"],"yAxis":["S3","S4"],"zAxis":["S5","S6"],"graphType":"ScatterBubble2D"}'],C:"Index (zero-based) of the sample that is currently displayed in the Z axis when there are multiple series in an ScatterBubble2D plot. Use ctrl + arrow keys to cycle through data series.<br>"},blindnessType:{C:"Color Blindness<br>",H:['{[*],"data":"Random:1:6"}'],D:"false",T:"string",O:["false","protanopia","deuteranopia","tritanopia","monochromatic"],M:"Colors"},mapColor:{C:"Color for the maps<br>",T:"color",D:"rgb(105,210,230)",M:"Maps",H:["{[*]}"]},decorationFont:{Z:"true",T:"font",C:"Font for the decoration in scatter plots and network graphs<br>",M:"Fonts",D:"12px Verdana"},loessSurface:{D:"interpolate",H:['{[0.5,0.9],"data":"Random:200:2","graphType":"Scatter2D","showLoessFit":true,"showConfidenceIntervals":true}'],C:'Loess Surface. The fitted surface to be computed exactly ("direct") or via interpolation from a kd tree.<br>',M:"Loess",O:["direct","interpolate"],T:"option"},infoTimeOut:{D:"3000",M:"Events",H:["{[*]}"],C:"Time in milliseconds to wait between updates for the mouse over info to show up<br>",T:"integer"},sequenceFColor:{M:"Genome Browser",D:"rgb(0,0,255)",H:["{[*]}"],C:"Color for the phenylalanines in the genome browser<br>",T:"color"},xAxisMinorTicks:{T:"boolean",C:"A flag to show minor tick lines in the X axis<br>",H:["{[*]}"],M:"X-Axis",D:"true"},capType:{D:"butt",H:['{[*],"data":"RandomNetwork:1:20:10:1:0:forceDirected","graphType":"Network"}'],C:"Default type of cap for lines.<br>",M:"Lines",O:["butt","round","square"],T:"option"},disableCanvas:{C:"Flag to disable all canvas events<br>",T:"boolean",M:"Events",D:"false",H:["{[*]}"]},bubbleColor:{T:"color",C:"Default color for the bubbles. Only applicable to the bubble subtype.<br>",H:['{[*],"data":"RandomCircular:4:8:2:3","graphType":"Circular","circularType":"bubble","colorBy":"Factor2","hierarchy":["Factor1","Factor2"]}'],D:"rgba(204,204,204,0.33)",M:"Circular Graphs"},heatmapVarSeparateBy:{M:"Heatmap Graphs",T:"string",D:"false",X:"getZData",H:['{"graphType":"Heatmap","heatmapVarSeparateBy":"Annt1","variablesClustered":true,"varOverlays":["Annt1"]}'],C:"Factor (in the z data object) used to separate the variables in the heatmap. The same factor must be included in the variable overlays.<br>"},zAxisTickFormat:{C:"Format for the tick values in the Z axis. It could be a string with the sprintf format or an array where the first parameter is the sprintf format and the second parameter is a modification applied to the value before is passed to the sprintf function.<br>",T:"string",D:"false",M:"Z-Axis",H:['{"data":"Random:10:3","graphType":"Scatter3D","zAxisTickFormat":"%.2f cxs"}']},maxPieSectors:{T:"float",C:"Max pie sectors. After that number the sectors will be put in a sector named 'other'.<br>",H:['{[2,3],"data":"Random:4:8:"}'],M:"Pie Charts",D:"20"},yAxisTopBottomTickColor:{M:"Y-Axis",T:"color",U:["Scatter2D","ScatterBubble2D","Scatter3D","Correlation"],H:['{[*],"data":"Random:10:2","graphType":"Scatter2D"}'],D:"rgb(204,204,204)",C:"Color for the top and bottom tick lines in the Y axis<br>"},setMinY:{C:"Minimum value to set the data in the Y axis<br>",T:"float",D:"null",M:"Y-Axis",H:['{[10,15,null],"data":"Random:10:2","graphType":"Scatter2D"}']},invertCensored:{C:"Flag to indicate whether zero values are censored or not in Kaplan-Meier plots <br>",T:"boolean",D:"false",M:"Error Bars and Confidence Intervals",H:['{[*],"data":"RandomKaplanMeier","showDecorations":true,"graphType":"Scatter2D","showLegend":false,"functions":["addKaplanMeierCurve:Time:Censored-1:Data 1 Population:rgb(0,0,255)","addKaplanMeierCurve:Time:Censored-2:Data 2 Population:rgb(255,0,0)"]}']},startCol:{T:"integer",C:"Starting column in the data table<br>",M:"Data Table",D:"0",Z:"true"},yAxisTopMajorTick:{H:['{[*],"data":"Random:10:2","graphType":"Scatter2D"}'],D:"true",C:"A flag to show the top Major tick line in the Y axis in Scatter2D plots<br>",M:"Y-Axis",T:"boolean",U:["Scatter2D","ScatterBubble2D"]},fontScaleFontFactor:{T:"float",C:"Scaling factor used to increase or decrease the font size in the canvas.<br>",H:['{[*],"title":"Graph Title","subtitle":"Graph Subtitle"}'],M:"Text",D:"1"},dataTableFontSize:{M:"Data Table",D:"12",C:"Data table font size<br>",T:"integer"},yAxisShow:{M:"Y-Axis",T:"boolean",U:["Scatter2D","ScatterBubble2D","Scatter3D","Correlation"],H:['{[*],"data":"Random:10:2","graphType":"Scatter2D"}'],D:"true",C:"Flag to show on not the values of the ticks in the Y axis<br>"},highlightGreyOut:{D:"false",H:['{[*],"graphType":"Scatter2D"}'],C:"Flag to add grey out when highlighting with mouse over<br>",M:"General",S:["highlightGreyOutTransparency"],T:"boolean"},z3DRatio:{C:"Value between 0 - 1 for adjusting the 3D of the Z Axis<br>",H:['{[0.5,1],"data":"Random:8:4","graphType":"Scatter3D"}'],D:"1",T:"float",U:["Scatter3D","Bar"],M:"3D Attributes"},loessSteps:{T:"integer",C:"Loess steps. Number of steps to smooth the line.<br>",H:['{[20,30],"data":"Random:200:2","graphType":"Scatter2D","showLoessFit":true,"loessDegree":1,"showConfidenceIntervals":true}'],M:"Loess",D:"30"},scatterOutlineThreshold:{D:"50000",M:"Scatter Plots",H:['{[10,3],"data":"Random:8:4:2:1","graphType":"Scatter3D","scatterOutlineThreshold":10}'],C:"Maximum number of data points before skipping plotting their outline but only the fill color<br>",T:"integer"},decorationsColor:{D:"rgb(0,0,0)",M:"Decorations",H:['{[*],"data":"Random:16:2","showDecorations":true,"graphType":"Scatter2D","functions":["addNormalDistributionLine"]}'],C:"Color for the decorations in scatter plots and network graphs<br>",T:"color"},configuratorExamplesSize:{D:"500",M:"Events",C:"Size in pixels for the examples in the configurator.<br>",T:"integer",Z:"true"},outlineBy:{M:"Data Point Attributes",U:["Heatmap"],S:["outlineByData"],T:"string",D:"false",H:['{"data":"RandomMultidimensional:5:10:1:1","graphType":"Heatmap","outlineBy":"data2"}'],C:"Name of the annotation for the outline when drawing a multidimensional Heatmap<br>"},treemapBy:{T:"array",M:"Data Point Attributes",C:"Array of sample annotations to treemap the variables. The array may also include 'sample' to use as last level.<br>",D:"[]",X:"getXData",H:['{"data":"Random:4:8:2:2","graphType":"Stacked","treemapBy":["Factor1","Factor2"]}','{"data":"Random:4:8:2:2","graphType":"Stacked","treemapBy":["Factor2"],"groupingFactors":["Factor1"]}']},tagCloudMask:{M:"Tag Cloud",D:"false",H:["{[*]}"],C:"Add a shadow for the selected shape<br>",T:"boolean"},legendBox:{H:["{[*]}"],D:"false",C:"Flag to create a box around the legend<br>",M:"Legends",T:"boolean",S:["legendBoxColor","legendBackgroundColor"]},networkLayoutType:{H:['{[*],"data":"RandomNetwork:1:20:10:0:0:large"}'],D:"forceDirected",C:"Type of network layout.<br>",M:"Network Graphs",T:"option",O:["forceDirected","circular","radial"]},visiumFlip:{C:"Invert the data in visium plots. <br>",T:"boolean",D:"false",M:"Scatter Plots",H:['{[*],"graphType":"Scatter2D"}']},layoutConfig:{M:"Combination Plots",D:"[]",T:"array",C:"Array of object to assign visualization configurations to each layout.<br>"},xAxisRightMajorTick:{D:"true",H:['{[*],"graphType":"Scatter2D"}'],C:"A flag to show the right Major tick line in the X axis in Scatter2D plots<br>",M:"X-Axis",U:["Scatter2D","ScatterBubble2D"],T:"boolean"},tooltipDivEffectIn:{T:"string",C:"tooltipDivEffectIn<br>",H:["{[*]}"],M:"Effect",D:"holeOut"},boxplotMeanColorBorder:{D:"rgb(255,0,0)",M:"Boxplot Graphs",H:['{[*],"data":"Random:2:12:0:2","boxplotMean":true,"groupingFactors":["Factor1"]}'],C:"Color for the border of the mean of data in boxplots<br>",T:"color"},boxplotBorderColor:{H:['{[*],"data":"Random:2:12:0:2","groupingFactors":["Factor1"]}'],M:"Boxplot Graphs",D:"false",T:"color",C:"Color for the line of the borders in boxplots.<br>"},xAxisMinorValues:{Z:"true",D:"[]",M:"X-Axis",C:"Values for the minor ticks in the X axis<br>",T:"array"},subtitleScaleFontFactor:{D:"1",M:"Titles and Subtitles",H:['{[*],"title":"Graph Title","subtitle":"Graph Subtitle"}'],C:"Scaling factor used to increase or decrease the subtitle font size in the canvas.<br>",T:"float"},showVarOverlaysLegend:{M:"Overlays",D:"false",H:['{[*],"data":"Random:10:10:3:3","graphType":"Heatmap","varOverlays":["Annt1"],"smpOverlays":["Factor1"]}'],C:"Flag to show or not the legend for the variable overlays in the graphs. If set to false the level information will be displayed in the actual colored boxes of the overlays<br>",T:"boolean"},asVariableFactors:{H:['{"data":"Random:4:8:2:2","asSampleFactors":["Smp1"]}'],M:"Data",D:"[]",T:"array",C:"Array containing sample names. Numeric sample data (in columns) to be treated as a variable factor (move from 'y' to 'z' object). This parameter accomplishes the same as the function switchSmpToAnnotation at load time. It can be used in conjunction with the parameter stringVariableFactors to be treated as a string. TO DO: write example.<br>"},decorationScaleFontFactor:{T:"float",C:"Scaling factor used to increase or decrease decoration font size in the canvas.<br>",H:['{[*],"data":"Random:16:2","showDecorations":true,"graphType":"Scatter2D","functions":["addNormalDistributionLine"]}'],D:"1",M:"Decorations"},remoteAutoPlayDelay:{M:"Remote Procedures",D:"3000",T:"integer",C:"Time in milliseconds to wait between iterations while automatically going over remote data sets<br>"},genomeResolution:{O:["low","medium","high"],T:"option",M:"Genome Browser",Z:"true",C:"Number to adjust the splines curvature<br>",D:"low"},heatmapCellBoxColorHighlight:{H:['{[*],"graphType":"Heatmap","highlightVar":["V1","V2"],"highlightSmp":["S1","S2"]}'],M:"Heatmap Graphs",D:"rgb(255,215,0)",T:"color",C:"Color for highlighting heatmap cells<br>"},colorDataTable:{S:["colorDataTableTransparency"],C:"Flag to color the data table<br>",T:"boolean",D:"true",M:"Data Table"},plotBox:{M:"General",T:"boolean",S:["plotBoxColor"],H:["{[*]}"],D:"false",C:"Flag to draw a box around the x,y coordinates of the plot<br>"},disableDataExplorer:{H:["{[*]}"],M:"Events",D:"false",T:"boolean",C:"Flag to disable the data explorer<br>"},legendInside:{C:"Position the legend inside the graphs<br>",D:"false",H:["{[*]}"],S:["legendPosition","legendPositionAuto"],T:"boolean",M:"Legends"},circularScalesAlign:{C:"Position to align the percent and radial axes in circular plot<br>",D:"inside",H:['{"data":"RandomIdeogram:200:10:4:4","showIdeogram":true,"arcSegmentsSeparation":1,"segregateSamplesBy":["Factor4"],"circularScalesAlign":"outside","ringsOrder":["ideogram","scale"]}','{"data":"RandomIdeogram:200:10:4:4","showIdeogram":true,"arcSegmentsSeparation":1,"segregateSamplesBy":["Factor4"],"circularScalesAlign":"inside","ringsOrder":["scale","ideogram"]}'],O:["inside","outside"],T:"option",M:"Circular Graphs"},pieInnerRadius:{T:"float",C:"Percentage of the radius in the pies to remove to make a donut. It must be a number between 0 to 1<br>",H:['{[0.2,0.35,0.5],"data":"Random:4:8"}'],D:"0",M:"Pie Charts"},fishParents:{C:"Fish Parents.<br>",H:['{[*],"graphType":"Fish"}'],D:"[]",T:"array",S:["fishTimepoints","fishColors"],M:"Fish Graphs"},tagCloudTextWeightFactor:{C:"Factor weight for text in tag cloud visualizations<br>",T:"integer",D:"1",M:"Tag Cloud",H:["{[*]}"]},loessDegree:{M:"Loess",T:"option",O:["0","1","2"],H:['{[*],"data":"Random:200:2","graphType":"Scatter2D","showLoessFit":true,"showConfidenceIntervals":true}'],D:"2",C:"Loess degree. 0 : Constant, 1 : Linear, 2 : Quadratic.<br>"},contourFilledTransparency:{T:"float",C:"Transparency applied to the filled contours<br>",H:['{[0.2,0.5,1],"data":"Random:20:20","functions":["createContour"]}'],D:"1",M:"Contours"},fishCloneLabels:{H:['{[*],"graphType":"Fish"}'],M:"Fish Graphs",D:"[]",T:"array",C:"Fish Clone Labels (array with names for the clones). Must have the same dimension as the fishParents<br>"},layoutCanvasCompartments:{D:"false",M:"Combination Plots",H:['{[*],"data":"Random:4:8:2:2","segregateSamplesBy":["Factor1"]}'],C:"Flag to draw lines around each graph in the layout in the canvas. Used only when debugging.<br>",T:"boolean"},selectedDataPoints:{D:"[]",M:"Data Selection",H:['{"data":"Random:20:20","graphType":"Scatter2D","selectedDataPoints":["V1", "V2"]}'],C:"Variable / Sample names of data points (in the data object) to initially select.<br>",T:"array"},randomData:{Z:"true",D:"false",M:"Random",T:"boolean",C:"Flag to indicate random data for debug and demonstration purposes<br>"},decorationsType:{C:"Type for the decorations in the networks. The types stacked and stackedpercent must be two dimensional. Heatmap could be one or two dimensional<br>",D:"bar",H:['{"data":"RandomNetwork:1:20:10:0:0:large","graphType":"Network","showDecorations":true,"decorationsType":"pie","decorations":["D1","D2","D3"]}','{"data":"RandomNetwork:1:20:10:0:0:large","graphType":"Network","showDecorations":true,"decorationsType":"bar","decorations":["D1","D2","D3"]}','{"data":"RandomNetwork:1:20:10:0:0:large","graphType":"Network","showDecorations":true,"decorationsType":"heatmap","decorations":["D4","D5"]}','{"data":"RandomNetwork:1:20:10:0:0:large","graphType":"Network","showDecorations":true,"decorationsType":"stacked","decorations":["D4","D5"]}','{"data":"RandomNetwork:1:20:10:0:0:large","graphType":"Network","showDecorations":true,"decorationsType":"stackedpercent","decorations":["D4","D5"]}'],U:["Network"],O:["pie","bar","heatmap","stacked","stackedpercent"],T:"option",M:"Decorations"},roundedPolygonRadius:{C:"Radius for rounded polygons<br>",T:"integer",M:"Shapes",D:"5"},percentAspectRatioPlotArea:{C:"Specifies the minimum percentage for the plotting area<br>",T:"float",D:"0.5",M:"Aspect Ratio, Space and width",H:['{[0.25,0.5],"graphType":"Bar"}','{[0.25,0.5],"graphType":"Pie"}']},showContourLevel:{H:['{"data":"Random:20:20","functions":["createContour"]}'],M:"Contours",D:"false",T:"boolean",C:"Flag to show the levels in contours<br>"},yAxisMinorTicks:{M:"Y-Axis",U:["Scatter2D","ScatterBubble2D"],T:"boolean",D:"true",H:['{[*],"data":"Random:10:2","graphType":"Scatter2D"}'],C:"A flag to show minor tick lines in the Y axis<br>"},axisTickFontSize:{D:"12",H:['{[*],"autoScaleFont":false}'],C:"Font size of the axis ticks in one, two and three dimensional plots. Be aware that auto scaling font must be turned off for this property to take effect. A more convenient way to modify the size is to use the tick scaling factor<br>",M:"Axis",S:["autoScaleFont","axisTickScaleFontFactor"],T:"integer"},maxSubMenus:{C:"Maximum number of submenus in the context menus<br>",T:"integer",M:"Events",D:"25",H:["{[*]}"]},showFilledHistogramDensity:{H:['{[*],"data":"Random:200:1","functions":["createHistogram"],"histogramBins":50}'],D:"false",C:"Flag to show a filled histogram density<br>",M:"Histograms",T:"boolean",S:["createHistogram","densityKernel"]},smpTitleLabelPosition:{M:"Heatmap Graphs",O:["left","right"],T:"option",D:"left",H:['{[*],"graphType":"Heatmap","smpOverlays":["Factor1"]}'],C:"Position for sample labels<br>"},networkCommunities:{Z:"true",D:"null",M:"Network Communities",T:"integer",C:"Number of network communities<br>"},disableDataTable:{T:"boolean",C:"Flag to disable showing data table<br>",H:["{[*]}"],D:"false",M:"Events"},motionCurrentColor:{H:['{"data":"Random:30:3:2:2","graphType":"Scatter2D","motionBy":"Annt1"}'],M:"Motion Charts",D:"rgba(0,0,0,0.3)",T:"color",C:"Color for the axis title in motion charts<br>"},setMin:{T:"float",C:"Minimum value to set the data<br>",D:"null",M:"Axis",Z:"true"},binplotShape:{T:"option",O:["rectangle","hexagon","oval"],M:"Bin Plots",C:"Type for the shape to use in binplots<br>",H:['{[*],"data":"Random:8:8","graphType":"Scatter2D","scatterPlotMatrix":true}'],D:"hexagon"},meterEnd:{H:['{[*],"graphType":"Meter"}'],D:"90",M:"Meter Graphs",T:"float",C:"End value for the meter in degrees.<br>"},densityKernel:{T:"option",O:["gaussian","rectangular","triangular","epanechnikov","quartic","biweight","cosine","optcosine"],S:["createHistogram","showHistogramDensity"],M:"Density Plots",C:"Histogram density kernels<br>",H:['{[*],"data":"Random:200:1","functions":["createHistogram"],"histogramBins":50,"showHistogramDensity":true}'],D:"gaussian"},remoteParentId:{Z:"true",D:"",M:"Remote Procedures",T:"string",C:"Id for the parent holding the remoteWindow to prevent id collisions<br>"},networkFreeze:{T:"boolean",C:"Flag to prevent autoscaling for the network layout. Useful when images are part of the network.<br>",H:['{[*],"data":"RandomNetwork:1:20:10:0:0:large","networkLayoutType":"forceDirected"}','{[*],"data":"RandomNetwork:1:20:10:0:0:large","networkLayoutType":"radial"}'],M:"Network Graphs",D:"false"},xAxisShow:{T:"boolean",C:"Flag to show on not the values of the ticks in the X axis<br>",H:['{[*],"graphType":"Bar"}','{[*],"graphType":"Scatter2D"}'],D:"true",M:"X-Axis"},objectColorTransparency:{M:"Plot area",D:"1",H:['{[*],"graphType":"Bar"}'],C:"The transparency for the color fill of all objects in one dimensional graphs. A value between 0 and 1.<br>",T:"float"},images:{T:"array",S:["scatterType"],M:"General Attributes",C:"Array of urls of images used in scatter plots. Additional shapes will be used if the array does not contain as many images as needed.<br>",H:['{"data":"Random:8:4:2:1","scatterType":"image","graphType":"Scatter2D","images":["https://www.canvasxpress.org/assets/images/prot.png","https://www.canvasxpress.org/assets/images/prot1.png","https://www.canvasxpress.org/assets/images/prot2.png","https://www.canvasxpress.org/assets/images/prot3.png","https://www.canvasxpress.org/assets/images/prot4.png"]}'],D:"[]"},vennGroups:{H:['{[2,3,4],"data":"RandomVenn"}'],D:"4",M:"Venn Diagrams",T:"integer",C:"Number of groups in the Venn diagram<br>"},sequenceRColor:{H:["{[*]}"],M:"Genome Browser",D:"rgb(255,0,0)",T:"color",C:"Color for the degenerate A/G and arginines in the genome browser<br>"},fishAxis:{M:"Fish Graphs",T:"array",S:["fishAxisLabels"],H:['{[*],"graphType":"Fish"}'],D:"[]",C:"Fish Axis (array with lines across the X Axis)<br>"},circularRotate:{M:"Circular Graphs",D:"0",H:['{[0,90,180],"graphType":"Circular"}'],C:"Number of degrees to rotate the circular graph to adjust the starting point.<br>",T:"integer"},featureSpliceStyle:{T:"option",C:"Default style for splicing in boxes<br>",O:["rect","broken"],D:"rect",M:"Genome Browser"},tensionSegments:{M:"Line Graphs",D:"16",H:['{[*],"data":"RandomCircular:4:8"}'],C:"Number of segments to smooth a quadratic curve<br>",T:"integer"},codeEffectOut:{C:"codeEffectOut<br>",T:"string",D:"holeOut",M:"Effect",H:["{[*]}"]},histogramType:{D:"dodged",H:['{[*],"data":"Random:200:3","functions":["createHistogram"]}'],C:"Type of histogram when multiple series are present<br>",M:"Histograms",S:["createHistogram"],O:["dodged","staggered","stacked"],T:"option"},fontStyle:{H:['{[*],"title":"Graph Title"}'],D:"",C:"Font style.<br>",M:"Text",T:"option",O:["","bold","italic","bold italic"]},trackNameFontSize:{H:["{[*]}"],D:"10",M:"Genome Browser",T:"integer",C:"Size in pixels for the font size of text of the tracks in the genome browser<br>"},zAxisTicks:{Z:"true",D:"10",M:"Z-Axis",C:"Number of ticks in the Z axis<br>",T:"integer"},remoteDataIndex:{Z:"true",C:"Index of the canvasXpress object requested<br>",T:"integer",D:"0",M:"Remote Procedures"},featuresProperties:{D:"[]",M:"Data Table/Filter",C:"Two dimensional array with object properties not at the root level for the features in the Genome graph to include in the Data table and the data filter<br>",T:"array"},showMousePositionOnDrag:{C:"Show mouse position when dragging in relation to the zero coordinate (top-right) of the canvas.<br>",T:"boolean",M:"Events",D:"true",H:["{[*]}"]},lineWidthEvent:{Z:"true",D:"2",M:"Lines",T:"integer",C:"Size in pixels of the width for the events in the lines.<br>"},axisTitleFontStyle:{H:['{[*],"xAxisTitle":"Axis Title"}'],D:"",C:"Font style for the axis titles.<br>",M:"Axis",T:"option",O:["","bold","italic","bold italic"]},showScatterPlotMatrixLabels:{T:"boolean",C:"Flag to show the labels in the scatter plot matrix<br>",H:['{[*],"data":"Random:8:8","graphType":"Scatter2D","scatterPlotMatrix":true}'],D:"false",M:"Scatter Plot Matrix"},disableEvents:{T:"boolean",C:"Flag to disable all events.<br>",H:["{[*]}"],M:"Events",D:"false"},barPath:{H:['{[*],"data":"Random:1:8","graphType":"Bar","barType":"lollipop"}'],M:"Bar Graphs",D:"false",T:"boolean",C:"Show the path for the bar graph<br>"},titleFontSize:{S:["title","titleColor"],T:"integer",M:"Titles and Subtitles",C:"Font size for the title of the graph. The font height will be adjusted automatically to fit in the canvas.<br>",D:"16",H:['{[*],"title":"Graph Title","autoScaleFont":false}']},transitionStep:{T:"integer",C:"Steps for transition<br>",H:['{[*],"graphType":"Bar","showTransition":true,"groupingFactors":["Factor1"]}'],M:"Animations and Visualization Transitions",D:"20"},title:{H:['{"title":"Graph Title"}'],D:"false",C:"Title of the graph.<br>",M:"Titles and Subtitles",T:"string",S:["titleHeight","titleColor"]},yAxisMinorValues:{M:"Y-Axis",D:"[]",C:"Values for the minor ticks in the Y axis<br>",T:"array",Z:"true"},contourBandsColor:{M:"Contours",S:["showContourBands"],T:"color",D:"rgb(0,0,255)",H:['{[*],"data":"Random:20:20","contourType":"overlay","functions":["createContour"]}'],C:"The color used for the bands in contours.<br>"},errorBarsThickness:{C:"Thickness for the error bars in dotplots.<br>",T:"float",D:"3",M:"Error Bars and Confidence Intervals",H:['{[*],"setMinX":0,"groupingFactors":["Factor1"]}']},titleFontStyle:{C:"Font style for the title.<br>",D:"",H:['{[*],"title":"Graph Title"}'],O:["","bold","italic","bold italic"],T:"option",M:"Titles and Subtitles"},attractiveForceFunction:{O:["square","cubic","log","pow","sqrt"],T:"option",M:"Network Algorithm Parameters",C:"Type of function to apply when calculating attractive force in forceDirected network layouts. Fruchterman-Reingold uses square while Eades uses log.<br>",D:"square",H:['{[*],"data":"RandomNetwork:1:20:10:0:0:large"}']},clusterSamples:{T:"void",U:["Bar","Line","Area","AreaLine","Dotplot","Heatmap","Stacked","StackedPercent","Boxplot","StackedLine","StackedPercentLine"],C:"Cluster samples based on data and generate a dendrogram on the sample axis. It takes no parameters<br>",S:["distance","linkage","imputeMethod"],M:"Functions"},boxplotMedianColor:{D:"rgb(0,0,0)",M:"Boxplot Graphs",H:['{[*],"data":"Random:2:12:0:2","groupingFactors":["Factor1"]}'],C:"Color for the line of the median of data in boxplots.<br>",T:"color"},trackFillColor:{D:"rgb(255,255,255)",M:"Genome Browser",H:["{[*]}"],C:"Default color for the fill of the tracks in the genome browser<br>",T:"color"},treeNodeSize:{Z:"true",T:"integer",C:"Size for the Tree nodes<br>",M:"Trees",D:"5"},rAxisValues:{C:"Values for the ticks in the R axis<br>",T:"array",D:"[]",M:"R-Axis"},overlayLevelOrientation:{O:["perpendicular","circular"],T:"option",M:"Circular Graphs",C:"Orientation to show the segregation levels<br>",D:"circular",H:['{[*],"data":"RandomCircular:4:8:2:3","segregateVariablesBy":["Ring"],"segregateSamplesBy":["Factor2"]}']},smpTitle:{H:['{"smpTitle":"Sample Title"}'],D:"false",M:"Samples",T:"string",C:"Title for the sample axis in one dimensional plots<br>"},featureSignalToNoiseHeight:{T:"integer",C:"Default size in pixels of the quality height<br>",H:["{[*]}"],D:"14",M:"Genome Browser"},guidesWidth:{M:"Plot area",D:"1",H:['{[*],"graphType":"Bar","guides":true}'],C:"The width for the thin line that appears in the middle of the variables and / or samples in one dimensional graphs and multidimensional heatmaps just for aesthetics.<br>",T:"float"},loadRDatasets:{C:"Flag to load R datasets from Github<br>",T:"boolean",M:"R",D:"false"},layoutLabelBoxThickness:{M:"Combination Plots",D:"30",H:['{[*],"data":"Random:4:8:2:2","segregateSamplesBy":["Factor1"]}'],C:"Thickness of the layout label boxes.<br>",T:"float"},layoutBoxShow:{D:"true",M:"Combination Plots",H:['{[*],"data":"Random:4:8:2:2","segregateSamplesBy":["Factor1"]}'],C:"Flag to draw the layout boxes.<br>",T:"boolean"},rAxisShow:{D:"true",M:"R-Axis",H:['{[*],"data":"RandomCircular2:4:8:2:3","rAxis":"Number","segregateVariablesBy":["Ring"],"segregateSamplesBy":["Factor2"]}'],C:"Flag to show on not the values of the ticks in the R axis<br>",T:"boolean"},zoomStep:{C:"Percentage step for zooming networks and genome panel.<br>",T:"float",M:"Zooming, Panning and Resizing",D:"0.2",H:['{[*],"graphType":"Heatmap"}']},zoomScale:{M:"Zooming, Panning and Resizing",D:"true",H:["{[*]}"],C:"Flag to scale nodes and edges in networks with zoom and data points in 3D scatter plots<br>",T:"boolean"},metaData:{M:"General",D:"{}",T:"object",C:"Meta data for files read from a url<br>"},variablesKmeaned:{C:"Configuration property to k-mean variables<br>",T:"boolean",D:"false",M:"Clustering",H:['{[*],"data":"Random:20:20","graphType":"Heatmap"}']},gradientRatio:{C:"Specifies the ratio used to generate linear gradients.<br>",D:"1.3",H:['{[*],"data":"Random:1:3:0:0","gradient":true,"gradientType":"linear"}'],S:["gradientType"],T:"float",M:"Gradients"},overlayFontSize:{C:"Font size for the overlays in one dimensional plots<br>",T:"integer",M:"Overlays",D:"12",H:['{[*],"data":"Random:10:10:3:3","autoScaleFont":false,"graphType":"Heatmap","varOverlays":["Annt1","Annt2","Annt3"],"smpOverlays":["Factor1","Factor2","Factor3"]}']},varTitleLabelPosition:{M:"Heatmap Graphs",T:"option",O:["bottom","top"],H:['{[*],"graphType":"Heatmap","varOverlays":["Annt1"]}'],D:"bottom",C:"Position for variable labels<br>"},loessIteration:{Z:"true",D:"4",M:"Loess",C:"Loess iterations<br>",T:"integer"},outlineWidth:{H:['{[*],"data":"RandomNetwork:1:20:10:1:0:forceDirected","graphType":"Network"}'],D:"1",C:"Default width in pixels for lines in networks and other line elements in all visualizations except for the lines in the line plots.<br>",M:"Lines",T:"float",S:["lineThickness"]},useBarnesHutSimulation:{T:"boolean",C:"Flag to use Barnes–Hut simulation<br>",H:['{[*],"data":"RandomNetwork:1:20:10:0:0:large"}'],D:"false",M:"Network Algorithm Parameters"},violinColor:{T:"color",C:"Color for the violins. If specified all the violins will have the assigned color; otherwise it will be automatically assigned.<br>",H:['{[*],"data":"Random:2:12:0:2","showViolinBoxplot":true,"showBoxplotIfViolin":true,"groupingFactors":["Factor1"]}'],M:"Boxplot Graphs",D:"false"},swimStatus:{C:"Name of sample annotation to use in Swimmer Plot. Defaults to 'Status'. See https://blogs.sas.com/content/graphicallyspeaking/2014/06/22/swimmer-plot/<br>",X:"getXData",H:['{[*],"data":"Swimmer","graphType":"Bar","barType":"swimmer"}'],D:"false",T:"option",O:["false"],M:"Bar Graphs"},titleColorBackground:{S:["title","titleHeight"],T:"color",M:"Titles and Subtitles",C:"Color for the background of the title<br>",D:"false",H:['{[*],"title":"Graph Title"}']},showTextShadow:{M:"Shadows",T:"boolean",S:["shadowOffsetX","shadowOffsetY","shadowBlur","shadowColor"],H:["{[*]}"],D:"false",C:"Flag used to add shadows to all text in the canvas. It will be forced to false if the browser is IE.<br>"},skipClick:{Z:"true",C:"Flag to skip click events after a mouse down event in visualizations where there is a drag capabilities<br>",T:"boolean",D:"false",M:"Events"},axisTickFont:{Z:"true",T:"font",C:"Font for the axis ticks in one, two and three dimensional plots<br>",M:"Fonts",D:"12px Verdana"},fullTextMeasureCheck:{H:["{[*]}"],D:"500",M:"General",T:"integer",C:"Full thorough check of variable and sample names when more than the specified number. This is useful for large data sets as canvas has not an efficent maner to measure text.<br>"},errors:{Z:"true",C:"Array containing benign errors produced when rendering canvasXpress<br>",T:"array",D:"[]",M:"Debug"},ratioLevelReference:{D:"",M:"Data",C:"Name of the level used in ratio transformation. Almost 'private' parameters used within the different CanvasXpress UIs.<br>",T:"option"},offsetY:{T:"float",C:"Additional amount to move for the Y axis.<br>",M:"Combination Plots",D:"0",Z:"true"},mapStandardParallel1:{H:["{[*]}"],M:"Maps",D:"29.5",T:"float",C:"Map Standard Parallel 1 in degrees. (Applicable to Albers projection only). Default adjusts to USA maps.<br>"},confidenceLevel:{T:"float",C:"Confidence level for regression, ellipse and Kaplan Meier.<br>",H:['{"data":"Random:16:2","confidenceLevel":0.80,"showDecorations":true,"graphType":"Scatter2D","functions":["addRegressionLine"]}','{"data":"Random:16:2","confidenceLevel":0.90,"showDecorations":true,"graphType":"Scatter2D","functions":["addRegressionLine"]}','{"data":"Random:30:2","confidenceLevel":0.80,"graphType":"Scatter2D","ellipseBy":"variable"}','{"data":"Random:30:2","confidenceLevel":0.90,"graphType":"Scatter2D","ellipseBy":"variable"}'],M:"Error Bars and Confidence Intervals",D:"0.95"},show3DGrid:{T:"boolean",U:["Scatter3D"],M:"3D Attributes",C:"Flag to show the X,Y,Z grid in 3D plots<br>",H:['{[*],"data":"Random:8:4","graphType":"Scatter3D"}'],D:"true"},isBoxplotCalc:{Z:"true",T:"boolean",C:"Flag to indicate if the iqr has been calculated when the graph type is Boxplot.<br>",D:"false",M:"Data"},subtitleAlign:{D:"center",H:['{[*],"title":"Graph Title","subtitle":"Graph Subtitle"}'],C:"Subtitle alignment<br>",M:"Titles and Subtitles",O:["left","center","right"],T:"option"},translateX:{Z:"true",D:"0",M:"Combination Plots",C:"Amount to translate for the X axis.<br>",T:"float"},xAxisValues:{C:"Values for the ticks in the X axis<br>",T:"array",D:"[]",M:"X-Axis",Z:"true"},randomDataMean:{D:"0",M:"Random",T:"integer",C:"Mean value when creating random data<br>"},fontsExternal:{T:"array",C:"External Fonts.<br>",H:['{"data":"Random:8:4:2:1","title":"External Fonts","graphType":"Scatter2D","fontsExternal":[{"url": "https://www.canvasxpress.org/assets/fonts/NewWaltDisneyFontRegular-BPen.ttf", "name": "New Waltograph"}]}'],D:"[]",M:"Text"},graphType:{M:"General",T:"option",O:["Bar","Line","Area","AreaLine","BarLine","Boxplot","Dotplot","DotLine","Fish","Gantt","Meter","Heatmap","Stacked","StackedLine","StackedPercent","StackedPercentLine","Tree","Treemap","TagCloud","ParallelCoordinates","Sankey","Scatter2D","ScatterBubble2D","Scatter3D","Correlation","Pie","Venn","Network","Genome","Circular"],H:['{[*],"graphOrientation":"vertical"}'],D:"Bar",C:"Specifies the type of graph.<br>"},dotplotOutlineThreshold:{H:['{[10,3],"data":"Random:20:4:2:1","graphType":"Dotplot","dotplotOutlineThreshold":10}'],M:"Plot area",D:"500",T:"integer",C:"Maximum number of data points before skipping plotting their outline but only the fill color<br>"},networkTimeStep:{C:"Default time step (dt) for forces integration.<br>",T:"integer",M:"Network Algorithm Parameters",D:"20",H:['{[*],"data":"RandomNetwork:1:20:10:0:0:large"}']},adjustAspectRatio:{H:['{[*],"graphOrientation":"vertical"}'],D:"true",C:"Flag to automatically adjust the size of the bars or points in the one dimensional plots to fit in the provided canvas width and height. If the flag is set to 'false' the width and height of the canvas will be sized according to the number of bars or points in the data set.<br>",M:"Aspect Ratio, Space and width",T:"boolean",S:["variableSpaceFactor","sampleSpaceFactor","widthFactor","adjustAspectRatioHeatmapIndicator"]},heatmapIndicatorPosition:{M:"Heatmap Graphs",T:"option",O:["topLeft","top","topRight","right"],H:["{[*]}"],D:"right",C:"Position for the heatmap indicator<br>"},showConfidenceIntervals:{H:['{[*],"data":"Random:16:2","showDecorations":true,"graphType":"Scatter2D","functions":["addRegressionLine"]}'],D:"true",C:"Flag to show or not the confidence intervals in the regression and Kaplan-Meier plots <br>",M:"Error Bars and Confidence Intervals",T:"boolean",S:["decorations"]},varTitle:{C:"Title for the sample axis in one dimensional plots<br>",H:['{"varTitle":"Variable Title"}'],D:"false",T:"string",U:["Heatmap"],M:"Variables"},histogramAsDotplot:{T:"boolean",C:"Flag to use dots as histogram bars<br>",H:['{[*],"data":"Random:200:1","functions":["createHistogram"],"histogramBins":50}'],D:"false",M:"Histograms"},axisCoordinate:{T:"boolean",C:"Flag to coordinate xAxis and xAxis2 in *-Line combination plots<br>",H:['{[*],"graphType":"BarLine","xAxis":["V1","V2"],"xAxis2":["V3","V4"]}'],M:"Axis",D:"false"},showHistogramPath:{S:["createHistogram","densityKernel"],T:"boolean",M:"Histograms",C:"Flag to show the histograms path<br>",D:"false",H:['{[*],"data":"Random:200:1","functions":["createHistogram"],"histogramBins":50}']},connectByColor:{C:"The color for the connectBy lines<br>",D:"rgb(204,204,204)",H:['{[*],"graphType":"Scatter3D","connectBy":"Annt1"}'],U:["Scatter2D","ScatterBubble2D","Scatter3D"],T:"color",M:"Data Point Attributes"},legendBackgroundColor:{H:["{[*]}"],D:"rgba(255,255,255,0)",C:"Color for the legend background<br>",M:"Legends",T:"color",S:["legendBox"]},transposeData:{C:"Flag to transpose data as a parameter. This parameter accomplishes the same as the function transpose at load time.<br>",T:"boolean",M:"Data",D:"false",H:['{[*],"data":"Random:4:8:2:2"}']},overlaysLegendPosition:{D:"topRight",H:['{[*],"data":"Random:10:10:3:3","graphType":"Heatmap","showVarOverlaysLegend":true,"showSmpOverlaysLegend":true,"varOverlays":["Annt1"],"smpOverlays":["Factor1"]}'],C:"Position for the variable and sample overlays legend in the graphs.<br>",M:"Overlays",O:["topRight","right","bottomLeft","bottom"],T:"option"},missingDataColor:{T:"color",C:"Color for the missing data<br>",H:['{[*],"data":"Random:10:10:0:0:1:100:0.15","graphType":"Heatmap"}'],M:"Missing Data",D:"rgb(245,245,245)"},histogramBarWidth:{Z:"true",D:"false",M:"Histograms",T:"float",C:"Length in pixels for half of the bar width in the 2D sccater plot histogram.<br>"},errorBarsColor:{T:"color",C:"Color for the error bars in dotplots and barplots.<br>",H:['{[*],"setMinX":0,"groupingFactors":["Factor1"]}'],M:"Error Bars and Confidence Intervals",D:"rgb(0,0,0)"},histogramLowest:{H:['{[10,50],"data":"Random:200:1","functions":["createHistogram"]}'],D:"true",M:"Histograms",T:"boolean",C:"Histogram lowest is a boolean. If true, an x[i] equal to the breaks value will be included in the first (or last, for right = FALSE) bar.<br>"},sequenceZColor:{H:["{[*]}"],M:"Genome Browser",D:"rgb(0,0,0)",T:"color",C:"Color for the glutamines in the genome browser<br>"},recalculateLayout:{C:"Recalculate the network layout<br>",U:["Scatter2D","ScatterBubble2D","Scatter3D"],T:"void",M:"Functions"},createContour:{S:["contourXBinSize","contourYBinSize","contourZBinSize","contourType"],C:"Create contour<br>",U:["Bar","Line","Area","AreaLine","Dotplot","DotLine","Heatmap","Stacked","StackedPercent","Boxplot","Correletion","Pie","Barline","StackedLine","StackedPercentLine","Scatter2D","ScatterBubble2D","Scatter3D"],T:"void",M:"Functions"},yAxisTitle:{H:['{"data":"Random:10:2","yAxisTitle":"Y-axis title"}'],D:"false",C:"Title for the Y axis in Scatter plots and in Correlation graphs.<br>",M:"Y-Axis",T:"string",U:["Scatter2D","ScatterBubble2D","Scatter3D","Correlation"]},totalCols:{T:"integer",C:"Total columns in the data table<br>",M:"Data Table",D:"null",Z:"true"},swimStart:{M:"Bar Graphs",O:["false"],T:"option",D:"false",X:"getVariablesAsArray",H:['{[*],"data":"Swimmer","graphType":"Bar","barType":"swimmer"}'],C:"Variable to use in Swimmer Plot. Defaults to the second variable in the data set. See https://blogs.sas.com/content/graphicallyspeaking/2014/06/22/swimmer-plot/<br>"},sequenceFontStyle:{T:"option",O:["","bold","italic","bold italic"],M:"Genome Browser",C:"Font style for the sequences.<br>",H:["{[*]}"],D:""},bandwidthRule:{H:['{[*],"data":"Random:200:1","functions":["createHistogram"],"histogramBins":50,"showHistogramDensity":true}'],D:"nrd0",C:"Bandwidth rule <br>",M:"Density Plots",T:"option",O:["nrd0","nrd","silverman"],S:["createHistogram","showHistogramDensity"]},zAxisValuesRaw:{M:"Z-Axis",D:"[]",C:"Raw values for the ticks in the Z axis<br>",T:"array",Z:"true"},alignConfiguratorExamples:{H:["{[*]}"],D:"false",M:"Events",T:"boolean",C:"Flag to align examples to the configurator<br>"},segregateVariablesBy:{T:"array",C:"An array that holds the annotation(s) used to segregate the variables. It must be categories in the 'data.z' object<br>",H:['{"data":"Random:4:8:2:2","segregateVariablesBy":["Annt1"]}'],M:"Data",D:"[]"},circularDataPosition:{M:"Circular Graphs",T:"option",O:["absolute","distributed"],H:['{[*],"data":"RandomIdeogram:200:10:4:4","showIdeogram":true,"arcSegmentsSeparation":1,"segregateSamplesBy":["Factor4"]}'],D:"distributed",C:"Position to align the data in 2D radial graphs and ideograms<br>"},scatterAxesEqual:{C:"Keep same range in both axes<br>",T:"boolean",M:"Scatter Plots",D:"false",H:['{[*],"graphType":"Scatter2D"}']},histogramBinWidth:{H:['{[10, 50],"data":"Random:200:1","functions":["createHistogram"]}'],M:"Histograms",D:"false",T:"float",C:"Width in actual units for the histogram bin.<br>"},ideogram:{M:"Circular Graphs",T:"option",O:["hg19","hg38"],H:['{"data":"RandomIdeogram:200:10:4:4","showIdeogram":true,"arcSegmentsSeparation":1,"segregateSamplesBy":["Factor4"]}'],D:"hg38",C:'Ideogram. Additional ideograms can be loaded by appending to the CanvasXpress.chromosomes object. The format of the ideogram is based on the R data for \'USCS.hg19.chr\'<br> CanvasXpress.chromosomes = {<br> &nbsp;&nbsp;hg19 : {<br> &nbsp;&nbsp;&nbsp;&nbsp;order : [ 1, 2, 3, 4, 5, 6, 7, 8, ...],<br> &nbsp;&nbsp;&nbsp;&nbsp;data : {<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1 : [ [ 0, 2300000, "p36.33", "gneg" ], ...],<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2 : [ [ 0, 4300000, "p25.3", "gneg" ],  ...],<br> &nbsp;&nbsp;&nbsp;&nbsp;}<br> &nbsp;&nbsp;}<br> }'},showHistogramDensity:{T:"boolean",S:["createHistogram","densityKernel"],M:"Histograms",C:"Flag to show the density kernel in histograms<br>",H:['{[*],"data":"Random:200:1","functions":["createHistogram"],"histogramBins":50}'],D:"false"},fishTimepoints:{S:["fishParents","fishColors"],T:"array",M:"Fish Graphs",C:"Fish Timepoints.<br>",D:"[]",H:['{[*],"graphType":"Fish"}']},mapConfigFeatures:{C:"Map config for features use to translate and scale<br>",T:"object",D:"false",M:"Maps"},layoutAdjust:{H:['{[*],"data":"Random:4:8:2:2","segregateSamplesBy":["Factor1"]}'],D:"false",C:"Flag to force recalculating the ranges in the axes when multiple graphs are displayed in the canvas.<br>",M:"Combination Plots",T:"option",O:["false","axis","global","true"]},rotationSensitivity:{M:"3D Attributes",U:["Scatter3D"],T:"integer",D:"450",H:['{[*],"data":"Random:8:4","graphType":"Scatter3D"}'],C:"Factor to adjust the sensitivity of the mouse when rotating the graph<br>"},zAxisAbsMin:{Z:"true",D:"null",M:"Z-Axis",C:"Minimum non-filtered value for the data plotted in the Z axis<br>",T:"float"},networkConvexHulls:{Z:"true",T:"array",C:"Array for the Network community convex hull property object<br>",M:"Network Communities",D:"[]"},dataexplorerEffectOut:{H:["{[*]}"],D:"holeOut",M:"Effect",T:"string",C:"dataexplorerEffectOut<br>"},weight:{D:"1",M:"Combination Plots",T:"float",C:"Fraction of the canvas to be used (a value between 0 and 1). Used when multiple graphs are displayed in one canvas. Could be an number or an array of numbers.<br>",Z:"true"},resizeWidthOnLayout:{T:"boolean",C:"Flag to enable resizing the width of the canvas after changing the layout<br>",H:["{[*]}"],D:"true",M:"Events"},remoteIds:{Z:"true",T:"array",C:"Array of the remoteIds passed after a service call<br>",M:"Remote Procedures",D:"[]"},varTitleFontColor:{C:"Font color for the variable titles in one dimensional plots<br>",H:['{[*],"varTitle":"Variable Title"}'],D:"rgb(0,0,0)",T:"color",U:["Heatmap"],M:"Variables"},asSampleFactors:{H:['{"data":"Random:4:8:2:2","asSampleFactors":["Var1"]}'],D:"[]",M:"Data",T:"array",C:"Array containing variable names. Numeric variable data (in rows) to be treated as a sample factor (move from 'y' to 'x' object). This parameter accomplishes the same as the function switchVarToAnnotation at load time. It can be used in conjunction with the parameter stringSampleFactors to be treated as a string. TO DO: write example.<br>"},configuratorEffectIn:{H:["{[*]}"],M:"Effect",D:"swashIn",T:"string",C:"configuratorEffectIn<br>"},legendFontSize:{M:"Legends",T:"integer",S:["autoScaleFont","legendScaleFontFactor"],H:['{[*],"autoScaleFont":false}'],D:"12",C:"Font size for the legends. Be aware that auto scaling font must be turned off for this property to take effect. A more convenient way to modify the size is to use the legend scaling factor<br>"},oncoprintCNA:{H:['{"data":"RandomMultidimensional:5:10","oncoprintCNA":"data2"}'],D:"false",M:"Oncoprint Graphs",T:"boolean",C:"String to identify the data object to use to draw the copy number alterations; that is the amplifications (which will be colored red) and deletions (which will be colored blue). It MUST be a file with only two categorical levels.<br>"},tagCloudTextRotateRatio:{C:"Ratio for rotation of text in cloud visualizations<br>",T:"float",D:"0.1",M:"Tag Cloud",H:["{[*]}"]},boxplotDataPointTransparency:{C:"Fraction to adjust color transparency for the data points when displaying original data in boxplots.<br>",D:"0.5",H:['{[0.2,0.5,0.8],"data":"Random:2:12:0:2","jitter":true,"showBoxplotOriginalData":true,"groupingFactors":["Factor1"]}'],S:["showBoxplotOriginalData","jitterColumns","jitter"],T:"float",M:"Boxplot Graphs"},layoutTopology:{C:"Topology of the canvas. Number of columns and rows separated by X. For example: 2X1, 1X3, etc.<br>",T:"string",M:"Combination Plots",D:"false",H:['{["4X6","6X4"],"data":"Random:16:16:4:6","segregateSamplesBy":["Factor6"],"segregateVariablesBy":["Annt4"]}']},graphOrientation:{H:["{[*]}"],D:"horizontal",C:"Specifies the orientation of one dimensional graphs.<br>",M:"General",T:"option",U:["Bar","Line","Area","AreaLine","BarLine","Boxplot","Dotplot","DotLine","Heatmap","Stacked","StackedLine","StackedPercent","StackedPercentLine","Tree","Treemap","TagCloud","ParallelCoordinates","Sankey"],O:["horizontal","vertical"]},ringGraphWeight:{D:"[]",H:['{"data":"RandomCircular:4:8:2:3","segregateVariablesBy":["Ring"],"ringGraphWeight":[0.4,0.2,0.2,0.2]}'],C:"Array containing the proportion of the dimensions for each data ring in the circular plot. It must be a value between 0.1 and 1. If not specified then all ring will be weighted the same.<br>",M:"Circular Graphs",S:["ringOrder"],T:"array"},rAxisMinorValues:{T:"array",C:"Values for the minor ticks in the R axis<br>",D:"[]",M:"R-Axis"},groupSamples:{T:"array",C:"Group samples based on a sample category (data.x object)<br>",U:["Bar","Line","Area","AreaLine","Dotplot","DotLine","Heatmap","Stacked","StackedPercent","Boxplot","Correletion","Pie","Barline","StackedLine","StackedPercentLine"],S:["ungroupSamples"],X:"getXData",M:"Functions"},subNetworks:{Z:"true",D:"false",M:"Network Graphs",T:"array",C:"Array to keep independent networks<br>"},sequenceTColor:{M:"Genome Browser",D:"rgb(255,0,0)",H:["{[*]}"],C:"Color for the thymidines and threonines in the genome browser<br>",T:"color"},showPieValues:{T:"boolean",C:"A flag to show the values for the pie<br>",H:["{[*]}"],D:"true",M:"Pie Charts"},varLabelFontSize:{D:"12",H:['{[*],"autoScaleFont":false}'],C:"Size for the variable labels in one dimensional plots. Be aware that auto scaling font must be turned off for this property to take effect. A more convenient way to modify the size is to use the variable label scaling factor<br>",M:"Variables",S:["autoScaleFont","varLabelScaleFontFactor"],U:["Heatmap"],T:"integer"},isCxplot:{H:["{[*]}"],D:"false",M:"General",T:"boolean",C:"Flag to indicate is using cxplot.<br>"},smpLabelFont:{T:"font",C:"Font for the sample labels in one dimensional plots<br>",M:"Fonts",D:"12px Verdana",Z:"true"},sizeKey:{H:['{"graphType":"Dotplot","sizeBy":"Factor1","sizeKey":{"Factor1":{"Lev:1":5,"Lev:2":10}}}'],D:"false",M:"Data Point Attributes",T:"object",C:"Object to assign custom sizes to sample annotations and variable annotations included in the data object. The key of the object is the name of an annotation in the data.x object or the name of an annotation in the data.z object. A default size will be assigned to a data point whose value was not included the object.<br>"},networkSpringLength:{T:"integer",C:"Ideal length for links (springs in physical model).<br>",H:['{[*],"data":"RandomNetwork:1:20:10:0:0:large"}'],M:"Network Algorithm Parameters",D:"35"},xAxis2TickFormat:{D:"false",M:"X-Axis2",H:['{"data":"Random:4:8","graphType":"BarLine","xAxis2":["V1","V2"],"xAxis":["V3","V4"],"xAxis2TickFormat":"%.2f cxs","graphOrientation":"vertical"}'],C:"Format for the tick values in the second X axis. It could be a string with the sprintf format or an array where the first parameter is the sprintf format and the second parameter is a modification applied to the value before is passed to the sprintf function.<br>",T:"string"},varOverlayProperties:{C:"Object to assign properties to the variable overlays. The key should be an annotation in the 'data.z' object and the value should be either type which could be either one of the one dimensional graph types or increasing, or decreasing for continuous annotations<br>",T:"object",M:"Overlays",D:"{}"},yAxisValues:{T:"array",C:"Values for the ticks in the Y axis<br>",D:"[]",M:"Y-Axis",Z:"true"},titleFont:{Z:"true",C:"Font for the title<br>",T:"font",M:"Fonts",D:"16px Verdana"},colWidth:{C:"Mumber of pixels for the width of cells in the data table<br>",T:"integer",D:"100",M:"Data Table"},dataPointSize:{H:['{[*],"graphType":"Scatter2D"}'],D:"15",M:"Aspect Ratio, Space and width",T:"integer",C:"Approximate size for the data points in scatter plots, dotplots and boxplots. The size will be adjusted according to the dimensions of the graph.<br>"},ratioReference:{C:"Default index of sample used in ratio transformation. Almost 'private' parameters used within the different CanvasXpress UIs.<br>",T:"integer",D:"0",M:"Data"},citationFontStyle:{C:"Font style for the citation.<br>",D:"",H:['{[*],"citation":"Graph citation or reference"}'],O:["","bold","italic","bold italic"],T:"option",M:"Citations or References"},transitionStaggering:{M:"Animations and Visualization Transitions",D:"10",H:['{[*],"graphType":"Bar","showTransition":true,"groupingFactors":["Factor1"]}'],C:"Steps for transitionioning data objects<br>",T:"integer"},functionColor:{M:"Scatter Plots",D:"rgb(0,0,0)",H:['{[*],"graphType":"Scatter2D"}'],C:"Color for the function plots",T:"array"},bandwidthAdjust:{S:["createHistogram","showHistogramDensity"],T:"float",M:"Density Plots",C:"Bandwidth adjust for the window<br>",D:"1",H:['{[*],"data":"Random:200:1","functions":["createHistogram"],"histogramBins":50,"showHistogramDensity":true}']},decorationFontStyle:{M:"Decorations",T:"option",O:["","bold","italic","bold italic"],H:['{[*],"data":"Random:16:2","showDecorations":true,"graphType":"Scatter2D","functions":["addNormalDistributionLine"]}'],D:"",C:"Font style for the decorations.<br>"},boxplotNotched:{C:"Flag to notch boxplots.<br>",T:"boolean",D:"false",M:"Boxplot Graphs",H:['{[*],"data":"Random:2:12:0:2","groupingFactors":["Factor1"]}']},font:{M:"Fonts",D:"12px Verdana",T:"font",C:"The combination of font name style and size.<br>",Z:"true"},colorDataTableTransparency:{M:"Data Table",D:"0.5",S:["colorDataTable"],C:"Transparency for the background of the data table cells if colored<br>",T:"float"},showHistogramDataPoints:{C:"Flag to show the original data point in histograms<br>",D:"false",H:['{[*],"data":"Random:200:1","functions":["createHistogram"],"histogramBins":50}'],S:["createHistogram","densityKernel"],T:"boolean",M:"Histograms"},heatmapType:{D:"normal",H:["{[*]}"],C:"Type of Heatmap used to overlay a layer on top of an image. Special for spatial transcriptomics.<br>",M:"Heatmap Graphs",O:["normal","circle","hexagon"],T:"option"},heatmapIndicatorHistogram:{D:"false",M:"Heatmap Graphs",H:["{[*]}"],C:"Flag to show histogram in the heatmap indicator<br>",T:"boolean"},randomDataSamples:{T:"integer",C:"Default number of samples when creating random data<br>",M:"Random",D:"36"},hierarchyVar:{M:"Hierarchy",D:"false",H:['{"data":"RandomCircular:4:8","graphType":"Circular","circularType":"sunburst","hierarchyVar":"V1"}','{"data":"RandomCircular:4:8","graphType":"Circular","circularType":"sunburst","hierarchyVar":"V3"}'],C:"Variable name to use in the sankey, sunburst and bubble graphs. This is used when the data set has more than a single variable. Otherwise the first variable will be selected.<br>",T:"string"},zAxisAbsMax:{Z:"true",C:"Maximum non-filtered value for the data plotted in the Z axis<br>",T:"float",D:"null",M:"Z-Axis"},axisTitleColor:{H:['{[*],"xAxisTitle":"Axis Title"}'],M:"Axis",D:"rgb(0,0,0)",T:"color",C:"Color for the axis title in one, two and three dimensional plots<br>"},heatmapCellBox:{C:"Flag to print a box around the heatmap cells<br>",T:"boolean",D:"true",M:"Heatmap Graphs",H:['{[*],"graphType":"Heatmap"}']},rAxisPercentShow:{D:"true",M:"R-Axis",H:['{[*],"data":"RandomCircular2:4:8:2:3","rAxis":"Number","segregateVariablesBy":["Ring"],"segregateSamplesBy":["Factor2"]}'],C:"Flag to show on not the percent in each segment in the R axis<br>",T:"boolean"},remoteServiceType:{D:"webService",C:"Type of web service to obtain data remotely<br>",M:"Remote Procedures",T:"string",O:["webService","file"],S:["remoteService","remoteParams"]},layoutBoxLabelColors:{C:'Layout box label background colors.<br> @ex {["gold","silver"],"data":"Random:4:8:2:2","segregateSamplesBy":["Factor1"];',T:"array",M:"Combination Plots",D:"[]"},manhattanMarkerLogPValue:{C:"Sample name included in the 'data.y.smps' object used to map to the negative log 10 p value.<br>",H:['{[*],"graphType":"Scatter2D"}'],X:"getSamplesAsArray",D:"false",T:"option",O:["false"],M:"Scatter Plots"},backgroundDataTable:{T:"color",C:"Color for the data table background<br>",M:"Data Table",D:"rgba(255,255,255,0.95)"},translateY:{Z:"true",D:"0",M:"Combination Plots",T:"float",C:"Amount to translate for the Y axis.<br>"},patternByData:{S:["patternBy"],U:["Heatmap"],T:"string",M:"Data Point Attributes",C:"String that identify the object containing a two dimensional array with values used to pattern the data points when drawing a multidimensional Heatmap. It must be located within the data.y object (for example: data.y.data4)<br>",D:"false",H:['{"data":"RandomMultidimensional:5:10:1:1","patternByData":"data3","patternBy":"DataPattern"}']},filterSkipNullValues:{M:"Data Filters",D:"false",C:"Flag to indicate to bypass filtering when a value is null.<br>",T:"boolean"},grpIndicesStart:{M:"Heatmap Graphs",D:"-1",T:"integer",C:"Number that indicates starting point for grouped samples in heatmaps when the canvas is zoom in.<br>",Z:"true"},xAxisTitle:{M:"X-Axis",D:"false",H:['{"xAxisTitle":"X-axis title"}'],C:"Title for the X axis<br>",T:"string"},rAxisMinorTicks:{T:"boolean",C:"A flag to show minor tick lines in the R axis<br>",H:['{[*],"data":"RandomCircular2:4:8:2:3","rAxis":"Number","segregateVariablesBy":["Ring"],"segregateSamplesBy":["Factor2"]}'],D:"true",M:"R-Axis"},configuratorWidth:{M:"Events",D:"250",H:["{[*]}"],C:"Size in pixels for the configurator.<br>",T:"integer"},setMinZ:{H:['{[25,null],"data":"Random:10:3","graphType":"Scatter3D"}'],D:"null",M:"Z-Axis",T:"float",C:"Minimum value to set the data in the Z axis<br>"},calculateLayout:{D:"true",M:"Network Graphs",H:['{[*],"data":"RandomNetwork:1:20:10:0:0:large"}'],C:"Flag to force or not to calculate the network layout.<br>",T:"boolean"},transparencyHidden:{C:"Percentage of transparency applied to elements that are hidden<br>",T:"float",M:"General",D:"0.1",H:["{[*]}"]},contourType:{T:"option",O:["normal","raster","point"],M:"Contours",C:"Contour type<br>",H:['{[5,10],"data":"Random:20:20","functions":["createContour"]}'],D:"normal"},linkage:{C:"Linkage type to use when clustering data.<br>",D:"complete",H:['{[*],"data":"Random:20:20","graphType":"Heatmap","samplesClustered":true,"variablesClustered":true}'],S:["distance","imputeMethod","clusterSamples","clusterVariables"],O:["single","complete","average"],T:"option",M:"Clustering"},fontName:{T:"option",O:["Courier","Arial","Verdana","sans-serif","Indie Flower","Ubuntu","Architects Daughter","Roboto"],M:"Text",C:"Font name. It will be set depending on the browser.<br>",H:["{[*]}"],D:"Arial"},connectKey:{T:"object",C:"Object to assign custom colors to lines when samples are connected by a sample annotations included in the data object. The key of the object is the name of an annotation in the data.x object. A default connect will be assigned to a data point whose value was not included the object.<br>",H:['{"graphType":"Dotplot","connectBy":"Factor1","connectKey":{"Factor1":{"Lev:1":"red","Lev:2":"gold"}}}'],M:"Data Point Attributes",D:"false"},coordinateNetworkConvexHullCommunityColor:{H:['{[*],"data":"RandomNetwork:1:20:10:0:0:karate","showNetworkCommunities":true,"calculateNetworkCommunities":true}'],M:"Network Communities",D:"false",T:"boolean",C:"Flag to coordinate colors of the nodes with convex hull for the network communities<br>"},desegregateVariables:{M:"Functions",U:["Bar","Line","Area","AreaLine","Dotplot","DotLine","Heatmap","Stacked","StackedPercent","Boxplot","Correletion","Pie","Barline","StackedLine","StackedPercentLine"],C:"Desegregate variables previously segregated based on a variable category (data.z object)<br>",S:["segregateVariables"],T:"void"},calculateNetworkCommunities:{C:"Flag to calculate the network communities using the jLouvain algorithm. If this flag is false the property community and communityColor for each node will need to be provided, otherwise all nodes will belong to a single community.<br>",T:"boolean",D:"true",M:"Network Communities",H:['{[*],"data":"RandomNetwork:1:20:10:0:0:karate","showNetworkCommunities":true}']},showVersion:{T:"boolean",C:"Flag to show version when mouse over top-left corner of the canvas.<br>",D:"true",M:"Debug"},panningGlobalX:{T:"float",C:"Cumulative number of unit to pan the network in the X dimension<br>",M:"Zooming, Panning and Resizing",D:"0",Z:"true"},showContourDataPoints:{S:["contourDataColor"],T:"boolean",M:"Contours",C:"Flag to show the data points in contours<br>",D:"false",H:['{"data":"Random:20:20","functions":["createContour"]}']}},M:{"R-Axis":{P:["rAxisAbsMax","rAxisAbsMin","rAxisLabelOrientation","rAxisMajorTicks","rAxisMaxStrLength","rAxisMinorTicks","rAxisMinorValues","rAxisPercentShow","rAxisShow","rAxisTickColor","rAxisTickFormat","rAxisTicks","rAxisValues","rAxisValuesRaw"],D:"R axis parameters",U:["Circular"]},"Missing Data":{U:["OneTwoThreeeDGraphs"],D:"Missing data related parameters",P:["missingDataColor","missingDataValue","nanOmit"]},Events:{D:"Event parameters",P:["alignConfiguratorExamples","broadcast","broadcastGroup","configuratorExamplesSize","configuratorWidth","disableCanvas","disableCode","disableConfigurator","disableDataExplorer","disableDataFilters","disableDataTable","disableDocument","disableEvents","disableKeys","disableMenu","disablePlusMinusKeys","disableShowShortcuts","disableToolbar","disableUndoRedoKeys","disableWheel","disableWindow","infoStartTime","infoTimeIn","infoTimeOut","lazyLoad","maxItemMenuCheckbox","maxSubMenus","movable","playable","resizable","resizableX","resizableY","resizeHeightOnLayout","resizeWidthOnLayout","showConfiguratorExamplesOnSelect","showMousePositionOnDrag","showPrimaryMenus","skipClick","toolbarType"],U:["AllGraphs"]},"Data sorting":{D:"Data sorting related parameters",P:["sortCaseSensitive","sortData","sortDir","sortOnGrouping"],U:["OneTwoThreeeDGraphs"]},Effect:{D:"Effects for UI widgets",P:["codeEffectIn","codeEffectOut","configuratorEffectIn","configuratorEffectOut","dataexplorerEffectIn","dataexplorerEffectOut","datafilterEffectIn","datafilterEffectOut","datatableEffectIn","datatableEffectOut","effect","motionEffectIn","motionEffectOut","remoteEffectIn","remoteEffectOut","toolbarEffectIn","toolbarEffectOut","tooltipDivEffectIn","tooltipDivEffectOut"],U:["AllGraphs"]},"Data Table":{P:["backgroundDataTable","colWidth","colorDataTable","colorDataTableTransparency","dataTableColumnWidth","dataTableFontFamily","dataTableFontSize","dataTableStyle","dataTableTransposed","maxCols","maxRows","networkShowDataTable","refresehDataTableOnDraw","rowHeight","showDataTable","showDataTableOnSelect","startCol","startRow","totalCols","totalRows"],D:"Parameters associated with the data table",U:["AllGraphs"]},"Oncoprint Graphs":{P:["isOncoprint","oncoprintCNA","oncoprintColSummary","oncoprintHeatmapPosition","oncoprintHeatmapSwitch","oncoprintMUT","oncoprintNoAlterations","oncoprintRowSummary","showHeatmapOncoprint"],D:"General parameters for oncoprints",U:["Heatmap"]},"Dotplot Graphs":{U:["Dotplot","DotLine"],P:["dotplotType"],D:"General parameters in dotplot graphs"},"Zooming, Panning and Resizing":{U:["AllGraphs"],P:["panningGlobalX","panningGlobalY","panningStep","panningX","panningY","resizerBackgroundColor","zoom","zoomGlobal","zoomSamplesDisable","zoomScale","zoomStep","zoomVariablesDisable"],D:"Parameters associated with zooming, panning and resizing events"},"Scatter Plots":{D:"General parameters in scatter plots",P:["chromosomeLengths","functionColor","groupingFactorWindow","manhattanColors","manhattanContrastColor","manhattanMarkerChromosomeNumber","manhattanMarkerLogPValue","manhattanMarkerPosition","scatterAxesEqual","scatterOutlineThreshold","scatterType","visiumFixedAspectRatio","visiumFlip","visiumPanning"],U:["Scatter2D","ScatterBubble2D","Scatter3D"]},"Ridgeline Plots":{D:"Parameters used to create ridgeline plots in 1d and 2d scatter plots",P:["ridgelineScale"],U:["OneTwoThreeeDGraphs"]},Hierarchy:{U:["Circular","Tree","Bubble"],D:"General parameters to build hierarchy for circular (sunburst) trees and bubbles graphs",P:["hierarchy","hierarchyVar","hierarchyVarIndex"]},Data:{P:["appendNetworkData","asSampleFactors","asVariableFactors","groupingFactors","histogramData","isBoxplotCalc","isGroupedData","isTransformedData","ratioGroupReference","ratioLevelReference","ratioReference","ratioSampleReference","segregateSamplesBy","segregateVariablesBy","stringSampleFactors","stringVariableFactors","summaryType","transformAxis","transformBase","transformData","transposeData"],D:"Data related parameters",U:["Bar","Line","Area","AreaLine","Dotplot","DotLine","Heatmap","Tree","Treemap","TagCloud","ParallelCoordinates","Sankey","Stacked","StackedPercent","Boxplot","Correletion","Pie","Barline","StackedLine","StackedPercentLine","Scatter2D","ScatterBubble2D","Scatter3D"]},"Titles and Subtitles":{U:["AllGraphs"],P:["subtitle","subtitleAlign","subtitleColor","subtitleFontSize","subtitleFontStyle","subtitleScaleFontFactor","title","titleAlign","titleColor","titleColorBackground","titleFontSize","titleFontStyle","titleScaleFontFactor"],D:"Properties associated with titles and subtitles"},Shadows:{D:"Shadow properties used in most visualizations",P:["shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","showShadow","showTextShadow"],U:["AllGraphs"]},"Remote Procedures":{U:["AllGraphs"],P:["remoteAutoPlay","remoteAutoPlayDelay","remoteAutoSize","remoteData","remoteDataIndex","remoteDirection","remoteIds","remoteParamOverride","remoteParams","remoteParentId","remoteService","remoteServiceType","remoteTransitionEffect","remoteUpdating"],D:"Parameters used when getting data remotely"},"Data Selection":{U:["AllGraphs"],D:"Parameters used to select data in all visualizations",P:["selectedDataPoints","selectionColor","selectionMetadata","selectionMode"]},Legends:{U:["Bar","Line","Area","AreaLine","Dotplot","DotLine","Heatmap","Tree","Treemap","TagCloud","ParallelCoordinates","Sankey","Stacked","StackedPercent","Boxplot","Correletion","Pie","Barline","StackedLine","StackedPercentLine","Scatter2D","ScatterBubble2D","Scatter3D","Network"],P:["legend","legendBackgroundColor","legendBox","legendBoxColor","legendColor","legendColumns","legendFontSize","legendFontStyle","legendInside","legendOrder","legendPosition","legendPositionAuto","legendScaleFontFactor","showLegend","showLegendTitle"],D:"Legends for variables and samples"},"Time Series":{P:["isGraphTime","timeFormat","timeValueIndices","timeValueProperties","timeValues"],D:"Time series related parameters",U:["OneTwoThreeeDGraphs"]},"Fish Graphs":{U:["Fish"],D:"General parameters in fish graphs",P:["fishAxis","fishAxisLabels","fishCloneLabels","fishParents","fishSeparateIndependentClones","fishShape","fishTimepoints"]},"Pie Charts":{U:["Pie"],D:"General parameters in pie charts",P:["maxPieSectors","pieColors","pieInnerRadius","pieLabelType","pieSegmentLabels","pieSegmentPrecision","pieSegmentSeparation","pieType","showPieGrid","showPieSampleLabel","showPieValues","startPieSectors"]},Bins:{U:["Bar","Line","Area","AreaLine","Dotplot","DotLine","Heatmap","Stacked","StackedPercent","Boxplot","Correletion","Pie","Barline","StackedLine","StackedPercentLine"],P:["binConfigurations"],D:"Function to bin samples and variables"},"Z-Axis":{P:["setMaxZ","setMinZ","zAxis","zAxisAbsMax","zAxisAbsMin","zAxisCeilValue","zAxisCurrent","zAxisExact","zAxisFloorValue","zAxisMaxStrLength","zAxisMinorValues","zAxisShow","zAxisTickColor","zAxisTickFormat","zAxisTickStyle","zAxisTicks","zAxisTitle","zAxisTitleDynamic","zAxisTransform","zAxisTransformTicks","zAxisValues","zAxisValuesRaw"],D:"Z axes parameters",U:["ScatterBubble2D","Scatter3D"]},"Network Graphs":{P:["calculateLayout","edgeThickness","highlightNode","ignoreEventlessOrder","is3DNetwork","isNetworkMetrics","labelNodePosition","moveParentsWithChildren","networkFreeze","networkFreezeOnLoad","networkLayoutType","networkNodesOnTop","networkRoot","networkVendor","nodeFontColor","nodeFontSize","nodeFontStyle","nodeHighlightColor","nodeScaleFontFactor","nodeSize","preScaleNetwork","showNetworkRadialLayout","showNodeNameSizeThreshold","showNodeNameThreshold","subNetworks"],D:"General parameters used in networks",U:["Network"]},Fonts:{D:"Default fonts",P:["axisTickFont","axisTitleFont","citationFont","decorationFont","featureNameFont","font","legendFont","motionCurrentFont","nodeFont","overlayFont","sequenceFont","smpLabelFont","smpTitleFont","subtitleFont","titleFont","trackNameFont","varLabelFont","varTitleFont"],U:["AllGraphs"]},"Data Point Attributes":{U:["AGraphs"],P:["colorBy","colorByShowLegend","colorKey","connectBy","connectByColor","connectByData","connectByNoColor","connectByShowLegend","connectByWidth","connectKey","ellipseBy","lineBy","lineByShowLegend","markerBy","motionBy","outlineBy","outlineByData","outlineByShowLegend","patternBy","patternByData","patternByShowLegend","patternKey","ridgeBy","shapeBy","shapeByContinuous","shapeByData","shapeByShape","shapeByShowLegend","shapeKey","sizeBy","sizeByContinuous","sizeByData","sizeByShowLegend","sizeKey","stackBy","treemapBy"],D:"General attributes for data points in scatter and one dimensional plots"},"Circular Graphs":{D:"General parameters in circular graphs",P:["arcSegmentsRadius","arcSegmentsSeparation","bubbleColor","chordColor","chordThickness","circularAnchorColor","circularAnchorLength","circularAnchors2Align","circularAnchorsAlign","circularArc","circularCenterProportion","circularConnectionsTransparency","circularDataPosition","circularLabelsAlign","circularLetterSeparationFactor","circularRotate","circularScalesAlign","circularType","connections","ideogram","ideogramChromosome","ideogramChromosomePosition","overlayLevelOrientation","rAxis","rAxisZero","ringGraphType","ringGraphWeight","ringSeparation","ringsOrder","showCircularConnections","showIdeogram","smpLabelOrientation"],U:["Circular"]},"Data Table/Filter":{P:["edgesProperties","featuresProperties","nodesProperties","skipConfigurableProperties"],D:"Parameters associated with data table and data filter",U:["Network","Genome"]},"Error Bars and Confidence Intervals":{P:["confidenceIntervalColor","confidenceIntervalType","confidenceLevel","errorBarsColor","errorBarsThickness","errorBarsType","errorBarsWidth","fitLineColor","fitLineStyle","fitLineTransparency","fitLineWidth","invertCensored","regressionOrder","regressionType","showConfidenceIntervals","showErrorBars","showRegressionFullRange","standardDeviationType"],D:"Error bar and confidence intervals related parameters",U:["OneTwoThreeeDGraphs"]},"Correlation Graphs":{U:["Correlation"],D:"General parameters for correlation",P:["correlationAnchorLegend","correlationAnchorLegendAlignWidth","correlationAxis","correlationLabelInterval","correlationType"]},Samples:{U:["Bar","Line","Area","AreaLine","Dotplot","DotLine","Heatmap","Tree","Treemap","TagCloud","ParallelCoordinates","Sankey","Stacked","StackedPercent","Boxplot","Correletion","Pie","Barline","StackedLine","StackedPercentLine","Scatter2D","ScatterBubble2D","Scatter3D"],P:["highlightSmp","maxSmpStringLen","showSampleNames","smpHighlightColor","smpLabelFontColor","smpLabelFontSize","smpLabelFontStyle","smpLabelImage","smpLabelImageRound","smpLabelInterval","smpLabelRotate","smpLabelScaleFontFactor","smpTitle","smpTitleFontColor","smpTitleFontSize","smpTitleFontStyle","smpTitleScaleFontFactor"],D:"Properties associated with samples"},Text:{D:"Properties associated with text attributes",P:["align","autoScaleFont","baseline","fontName","fontScaleFontFactor","fontSize","fontStyle","fonts","fontsExternal","maxTextSize","minTextSize","scaleTextConstantAdd","scaleTextConstantMult"],U:["AllGraphs"]},Variables:{U:["Bar","Line","Area","AreaLine","Dotplot","DotLine","Heatmap","Tree","Treemap","TagCloud","ParallelCoordinates","Sankey","Stacked","StackedPercent","Boxplot","Correletion","Pie","Barline","StackedLine","StackedPercentLine","Scatter2D","ScatterBubble2D","Scatter3D"],P:["highlightVar","maxVarStringLen","showVariableNames","varHighlightColor","varLabelFontColor","varLabelFontSize","varLabelFontStyle","varLabelInterval","varLabelRotate","varLabelScaleFontFactor","varTitle","varTitleFontColor","varTitleFontSize","varTitleFontStyle","varTitleScaleFontFactor"],D:"Properties associated with variables"},"Citations or References":{D:"Properties associated with citations or references of the plot",P:["citation","citationColor","citationFontSize","citationFontStyle","citationScaleFontFactor"],U:["AllGraphs"]},"Venn Diagrams":{U:["Venn"],D:"General parameters in Venn diagrams",P:["vennColors","vennCompartments","vennGroups","vennLegendColors"]},Debug:{U:["AllGraphs"],P:["codeType","debug","errors","offline","showCode","showVersion","verbose"],D:"Debugging parameters"},"Network Algorithm Parameters":{U:["Network"],D:"General parameters used in the layout algorithms for networks",P:["attractiveForceFunction","barnesHutNodesCache","barnesHutNodesCacheCurrent","barnesHutUpdateQueue","networkDragCoeff","networkGravity","networkRepulsion","networkSpeed","networkSpringCoeff","networkSpringLength","networkTheta","networkTimeStep","repulsiveForceFunction","useBarnesHutSimulation"]},Trees:{D:"General parameters in trees",P:["treeCircular","treeInverted","treeLinkColor","treeLinkWidth","treeNodeId","treeNodeOutlineColor","treeNodeSize","treeVarIndex"],U:["Tree"]},Random:{U:["AllGraphs"],D:"Properties used to generate random data sets",P:["pseudoRandom","randomData","randomDataDistribution","randomDataMax","randomDataMean","randomDataMin","randomDataSampleAnnotations","randomDataSamples","randomDataSigma","randomDataTime","randomDataVariableAnnotations","randomDataVariables","randomMethod","randomMissingDataPercentage","randomNetworkAll","randomNetworkLayout","randomNetworkNodeEdgesMax","randomNetworkNodes","randomNetworkReduce","randomSeed"]},"Bin Plots":{U:["AllGraphs"],D:"Parameters used to create bin plots in 2d scatter plots",P:["binplotBinWidth","binplotBins","binplotColorScheme","binplotDrop","binplotShape"]},"Network Node and Edge Attributes":{D:"General parameters used for nodes and edges in networks",P:["colorEdgeBy","colorNodeBy","patternNodeBy","shapeNodeBy","sizeEdgeBy","sizeNodeBy"],U:["Network"]},"General Attributes":{P:["images","linePatterns","patterns","shapes","sizes"],D:"Properties related to Shapes, Sizes, Images and Patterns",U:["AllGraphs"]},"3D Attributes":{D:"General parameters in 3d scatter plots and networks",P:["outlineColor3D","perspectiveFactor","rotationSensitivity","rotationStep","show3DGrid","x3DRatio","xRotate","y3DRatio","yRotate","z3DRatio","zRotate"],U:["Scatter3D","Network","Bar"]},"X-Axis2":{U:["Bar","Line","Area","AreaLine","Dotplot","DotLine","Heatmap","Stacked","StackedPercent","Boxplot","Correletion","Pie","BarLine","StackedLine","StackedPercentLine"],P:["setMaxX2","setMinX2","xAxis2","xAxis2AbsMax","xAxis2MaxStrLength","xAxis2MinorValues","xAxis2Show","xAxis2TickFormat","xAxis2Ticks","xAxis2Title","xAxis2Values","xAxis2ValuesRaw"],D:"X2 Axis parameters"},"Quantile Regression Plots":{U:["AllGraphs"],P:["quantiles","showQuantileRegressionFit"],D:"Parameters used to create Quantile Regression plots in 2d scatter plots"},Contours:{D:"Parameters used to create contours in one and two dimensional plots",P:["contourBandsColor","contourColorScheme","contourDataPointsColor","contourFilled","contourFilledTransparency","contourLevelNumber","contourLevelWidth","contourLevels","contourStat","contourType","isContour","showContourBands","showContourDataPoints","showContourLevel"],U:["AllGraphs"]},Functions:{P:["addNormalDistributionLine","addRegressionLine","clusterSamples","clusterVariables","createContour","createHistogram","createRandomData","desegregateSamples","desegregateVariables","draw","drawArea","groupSamples","hideCodeDiv","hideInfoDiv","hideUnhideSmps","hideUnhideVars","kmeansSamples","kmeansVariables","print","recalculateLayout","removeContour","removeHistogram","reset","segregateSamples","segregateVariables","showCodeDiv","showInfoDiv","transform","transpose","ungroupSamples","updateCodeDiv"],D:"Functions exposed in the configurator :"},Maps:{U:["Map"],P:["hiddenMapFeatures","mapCentralMeridian","mapColor","mapConfig","mapConfigFeatures","mapGraticuleShow","mapGraticuleType","mapId","mapLatideOrigin","mapOutlineColor","mapProjection","mapPropertyId","mapSmps","mapStandardParallel1","mapStandardParallel2","topoJSON","visibleMapFeatures"],D:"Map properties used in all visualizations"},"Data Explorer":{D:"Parameters associated with data explorer :",P:["maxDataExplorerEntries"]},"Line Graphs":{D:"General parameters in line graphs",P:["coordinateLineColor","lineDecoration","lineErrorType","lineType","parallelCoordinates","tension","tensionSegments"],U:["Area","Line","Heatmap","ParallelCoordinates","BarLine","AreaLine","StackedLine","StackedPercentLine"]},Colors:{P:["blindnessType","colorHSV","colorRGB","colorScheme","colorSpectrum","colorSpectrumBreaks","colorSpectrumNumber","colorSpectrumTarget","colorSpectrumZeroValue","colors","evenColor","oddColor"],D:"Properties to adjust Colors",U:["AllGraphs"]},Gradients:{U:["AllGraphs"],D:"Properties used to adjust color gradients in all visualizations",P:["gradient","gradientOrientation","gradientRatio","gradientType"]},"Meter Graphs":{D:"General parameters in meter graphs",P:["meterBackgroundColor","meterColors","meterEnd","meterIndex","meterMax","meterMin","meterNeedleColor","meterSegments","meterStart","meterThickness","meterType","meterVar"],U:["Meter"]},"Scatter Plot Matrix":{D:"Parameters used to create a matrix of 2d scatter plots",P:["scatterPlotMatrix","scatterPlotMatrixType","showScatterPlotMatrixLabels"],U:["Scatter2D","ScatterBubble2D"]},"Y-Axis":{P:["setMaxY","setMinY","yAxis","yAxis2Show","yAxis2Title","yAxisAbsMax","yAxisAbsMin","yAxisBottomMajorTick","yAxisCeilValue","yAxisCurrent","yAxisExact","yAxisFloorValue","yAxisHistogramHeight","yAxisHistogramShow","yAxisMajorTicks","yAxisMaxStrLength","yAxisMinorTicks","yAxisMinorValues","yAxisRugHeight","yAxisRugPosition","yAxisRugShow","yAxisShow","yAxisTickColor","yAxisTickFormat","yAxisTickStyle","yAxisTicks","yAxisTitle","yAxisTitleDynamic","yAxisTopBottomTickColor","yAxisTopMajorTick","yAxisTransform","yAxisTransformTicks","yAxisValues","yAxisValuesRaw"],D:"Y axes parameters",U:["Scatter2D","ScatterBubble2D","Scatter3D"]},"X-Axis":{U:["Bar","Line","Area","AreaLine","Dotplot","DotLine","Heatmap","Tree","Treemap","TagCloud","ParallelCoordinates","Sankey","Stacked","StackedPercent","Boxplot","Correletion","Pie","BarLine","StackedLine","StackedPercentLine","Scatter2D","ScatterBubble2D","Scatter3D"],D:"X axis parameters",P:["setMaxX","setMinX","xAxis","xAxisAbsMax","xAxisAbsMin","xAxisCeilValue","xAxisCurrent","xAxisExact","xAxisFloorValue","xAxisHistogramHeight","xAxisHistogramShow","xAxisLeftMajorTick","xAxisLeftRightTickColor","xAxisMajorTicks","xAxisMaxStrLength","xAxisMinorTicks","xAxisMinorValues","xAxisRightMajorTick","xAxisRugHeight","xAxisRugPosition","xAxisRugShow","xAxisS2Show","xAxisShow","xAxisTickColor","xAxisTickFormat","xAxisTickStyle","xAxisTicks","xAxisTitle","xAxisTitleDynamic","xAxisTransform","xAxisTransformTicks","xAxisValues","xAxisValuesRaw"]},Axis:{D:"General axis parameters",P:["axisAlgorithm","axisCoordinate","axisExtension","axisMinMaxTickThickness","axisTickColor","axisTickFontSize","axisTickFontStyle","axisTickScaleFontFactor","axisTickThickness","axisTitleColor","axisTitleFontSize","axisTitleFontStyle","axisTitleScaleFontFactor","axisWilkinsonLoose","setMax","setMin"],U:["OneTwoThreeeDGraphs"]},"Sankey Diagrams":{D:"General parameters in sankey diagrams",P:["sankeyColor","sankeyCoordinateColor","sankeyIterations","sankeyNodeWidth","sankeySource","sankeyTarget"],U:["Sankey"]},"Area Graphs":{P:["areaType"],D:"General parameters in area graphs",U:["Area","AreaLine"]},"Bar Graphs":{P:["barLollipopFactor","barLollipopOpen","barPath","barPathColor","barPathTransparency","barType","swimEnd","swimHigh","swimHighCap","swimStart","swimStatus"],D:"General parameters in bar graphs",U:["Bar","BarLine"]},Histograms:{P:["hideHistogram","histogramAsDotplot","histogramBarWidth","histogramBinWidth","histogramBins","histogramDensityFillTransparency","histogramLowest","histogramMedianLineStyle","histogramRight","histogramSizeEstimator","histogramStackRatio","histogramStat","histogramType","isCreateHistogram","isHistogram","showFilledHistogramDensity","showHistogramDataPoints","showHistogramDensity","showHistogramMedian","showHistogramPath","showHistogramQuantiles"],D:"Parameters used to create histograms in 2d scatter plots",U:["AllGraphs"]},Margins:{D:"Margin properties used in most visualizations",P:["margin","marginBottom","marginLeft","marginRight","marginTop"],U:["AllGraphs"]},"Aspect Ratio, Space and width":{U:["AllGraphs"],D:"Properties used to adjust the aspect ratio, space and width in most visualizations",P:["adjustAspectRatio","adjustAspectRatioMax","adjustAspectRatioXTries","adjustAspectRatioYTries","dataPointSize","dataPointSizeScaleFactor","fixedAspectRatio","percentAspectRatioPlotArea","sampleSpaceFactor","variableSpaceFactor","widthFactor"]},"Network Communities":{U:["Network"],D:"General parameters used in network communities",P:["calculateNetworkCommunities","coordinateNetworkConvexHullCommunityColor","hullScale","networkCommunities","networkConvexHulls","showNetworkCommunities"]},"Density Plots":{D:"Parameters used to create density plots in 1d and 2d scatter plots",P:["bandwidthAdjust","bandwidthCut","bandwidthRule","densityKernel","densityPixels","densityPosition","showScatterDensity"],U:["OneTwoThreeeDGraphs"]},"Data Filters":{U:["AllGraphs"],P:["dataFilterWidth","filterDataBy","filterEdgeBy","filterFeatureBy","filterMode","filterNodeBy","filterSkipNullKeys","filterSkipNullValues","filterSmpBy","filterType","filterVarBy","filtersExposed"],D:"Parameters associated with filtering"},"Plot area":{D:"General parameters for the plotting area in one dimensional plots",P:["binAlignment","binned","blockContrast","dotplotOutlineThreshold","guides","guidesColor","guidesWidth","is3DPlot","jitter","jitterFactor","objectBorderColor","objectColorTransparency","plotByVariable","showDataValues"],U:["Bar","Line","Area","AreaLine","Dotplot","DotLine","Heatmap","Tree","Treemap","TagCloud","ParallelCoordinates","Sankey","Stacked","StackedPercent","Boxplot","Correlation","Pie","Barline","StackedLine","StackedPercentLine"]},General:{P:["cacheBase64","canvasBox","canvasBoxColor","createFactory","createVersion","editable","fullTextMeasureCheck","functions","graphOrientation","graphType","highlightGreyOut","highlightGreyOutTransparency","invertGraph","isCxplot","isR","isReproducibleResearch","metaData","plotBox","plotBoxColor","printMagnification","printThumbnail","printType","reproduceTime","saveFilename","showFunctionNamesAfterRender","skipRender","tags","theme","transparency","transparencyHidden","useRawLines","view"],D:"General properties used in most visualizations",U:["AllGraphs"]},"Animations and Visualization Transitions":{D:"Animation and visualization transition parameters",P:["showAnimation","showTransition","transitionFunction","transitionStaggering","transitionStep"],U:["AllGraphs"]},R:{U:["AllGraphs"],P:["RdatastesURL","loadRDatasets"],D:"Parameters associated with R"},Loess:{P:["loessBandwidth","loessCell","loessDegree","loessFamily","loessIteration","loessNormalize","loessSpan","loessStatistics","loessSteps","loessSurface","showLoessFit"],D:"Parameters used to create smooth lines in 2d scatter plots",U:["AllGraphs"]},Clustering:{P:["clusterAxis","distance","imputeMethod","kmeansSmpClusters","kmeansVarClusters","linkage","maxIterations","samplesClustered","samplesKmeaned","variablesClustered","variablesKmeaned"],D:"Parameters used in clustering",U:["Bar","Line","Area","AreaLine","Dotplot","DotLine","Heatmap","Tree","Treemap","TagCloud","ParallelCoordinates","Sankey","Stacked","StackedPercent","Boxplot","Correletion","Pie","Barline","StackedLine","StackedPercentLine"]},"Treemap Graphs":{D:"General parameters for treemaps",P:["treemapBorderColor","treemapBorderWidth"],U:["Treemap"]},Dendrograms:{U:["Bar","Line","Area","AreaLine","Dotplot","DotLine","Heatmap","Tree","Treemap","TagCloud","ParallelCoordinates","Sankey","Stacked","StackedPercent","Boxplot","Correletion","Pie","Barline","StackedLine","StackedPercentLine","Circular"],D:"General parameters in dendrograms",P:["colorSmpDendrogramBy","colorVarDendrogramBy","dendrogramColor","dendrogramHeight","showSmpDendrogram","showVarDendrogram","smpDendrogramNewick","smpDendrogramPosition","varDendrogramNewick","varDendrogramPosition"]},Shapes:{U:["AllGraphs"],P:["roundedPolygonRadius","useOpenShapes","useRoundRectangles"],D:"Properties to adjust Shapes"},"Tag Cloud":{U:["TagCloud"],D:"General parameters used in tag clouds",P:["tagCloudGridPoints","tagCloudMask","tagCloudShape","tagCloudTextEllipticity","tagCloudTextGridSize","tagCloudTextRotateRatio","tagCloudTextWeightFactor"]},Lines:{U:["AllGraphs"],D:"Properties to adjust Lines",P:["adjustBezier","arrowPointSize","arrowQuadraticFactor","arrows","capType","dashLength","dotLength","joinType","lineThickness","lineWidthEvent","lines","outlineWidth"]},Images:{D:"General parameters with images",P:["imageMaxTries","imageTimeOut","imageTries"],U:["AllGraphs"]},"Motion Charts":{U:["Scatter2D","ScatterBubble2D"],D:"General parameters in scatter plots",P:["motionCurrentColor","motionCurrentFontSize","motionCurrentFontStyle","motionCurrentScaleFontFactor","motionWidth"]},cxplot:{U:["AllGraphs"],P:["configuration"],D:"General properties used in cxplot"},"Combination Plots":{P:["layout","layoutAdjust","layoutAxis","layoutBoxLabelColors","layoutBoxShow","layoutCanvasCompartments","layoutCollapse","layoutComb","layoutConfig","layoutCurrent","layoutHeight","layoutLabelBoxThickness","layoutLabelColor","layoutLabelShow","layoutRemoveEmpty","layoutTopology","layoutType","layoutWidth","offsetX","offsetY","scaleX","scaleY","translateX","translateY","weight"],D:"Parameters used in complex plots",U:["AllGraphs"]},"Gantt Charts":{P:["ganttCompletion","ganttCompletionTransparency","ganttDependency","ganttDependencyColor","ganttDependencyEnd","ganttDependencyThickness","ganttEnd","ganttStart"],D:"General parameters in gantt charts",U:["Gantt"]},Decorations:{D:"Additional elements added to graphs to increase data understanding",P:["decorationFontSize","decorationFontStyle","decorationScaleFontFactor","decorations","decorationsBackgroundColor","decorationsBox","decorationsBoxColor","decorationsColor","decorationsColors","decorationsHeight","decorationsPosition","decorationsProperties","decorationsType","decorationsWidth","showDecorations","showDecorationsLegend"],U:["Scatter2D","ScatterBubble2D","Scatter3D","Network"]},Overlays:{P:["maxOverlayStringLen","overlayFontColor","overlayFontSize","overlayFontStyle","overlayScaleFontFactor","overlaysLegendPosition","overlaysThickness","showLevelOverlays","showOverlays","showSmpOverlaysLegend","showVarOverlaysLegend","smpOverlayProperties","smpOverlays","smpOverlaysLegendColumns","varOverlayProperties","varOverlays","varOverlaysLegendColumns"],D:"Colored boxes to help in the visualization of samples and variables",U:["Bar","Line","Area","AreaLine","Dotplot","DotLine","Heatmap","Stacked","StackedPercent","Boxplot","Correletion","Pie","Barline","StackedLine","StackedPercentLine"]},"Boxplot Graphs":{U:["Boxplot"],D:"General parameters in Boxplot Graphs",P:["boxplotBorderColor","boxplotCoef","boxplotColor","boxplotConnect","boxplotConnectWidth","boxplotDataPointTransparency","boxplotHingeFunction","boxplotMean","boxplotMeanColor","boxplotMeanColorBorder","boxplotMedianColor","boxplotMedianWidth","boxplotNotched","boxplotOutliersRatio","boxplotTransparency","boxplotType","boxplotVarWidth","boxplotWhiskersType","boxplotWidthRatioIfViolin","showBoxplotIfViolin","showBoxplotOriginalData","showViolinBoxplot","showViolinQuantiles","violinBorderColor","violinColor","violinScale","violinTransparency","violinTrim"]},DOE:{D:"Parameters used to create graphs with meta data",P:["asDOE","autoexpandDOE","extendedDOE","includeDOE","maxDOENumber"],U:["AllGraphs"]},"Genome Browser":{D:"General parameters used in genome browser",P:["featureConfigurableProperties","featureCoordinateHeight","featureCoordinateShow","featureDirColor","featureFillColor","featureHeightDefault","featureNameFontColor","featureNameFontSize","featureNameFontStyle","featureQualityHeight","featureQualityShow","featureQualityValues","featureSignalToNoiseHeight","featureSignalToNoiseShow","featureSignalToNoiseValues","featureSpliceStyle","featureStaggered","featureTraceHeight","featureTraceTrim","featureTracesShow","featureTranslateHeight","featureTranslateShow","featureTypeDefault","featureWidthDefault","genomeResolution","genomeTicks","maxFeatureStringLen","periodTicksLabels","sequenceAColor","sequenceBColor","sequenceCColor","sequenceDColor","sequenceEColor","sequenceEndColor","sequenceFColor","sequenceFill","sequenceFontSize","sequenceFontStyle","sequenceGAPColor","sequenceGColor","sequenceHColor","sequenceIColor","sequenceKColor","sequenceLColor","sequenceMColor","sequenceNColor","sequencePColor","sequenceQColor","sequenceRColor","sequenceSColor","sequenceStartColor","sequenceTColor","sequenceUColor","sequenceVColor","sequenceWColor","sequenceXColor","sequenceYColor","sequenceZColor","showFeatureNameThereshold","subtracksMaxDefault","trackConfigurableProperties","trackDirColor","trackFillColor","trackNameFontColor","trackNameFontSize","trackNameFontStyle","wireColor"],U:["Genome"]},"Heatmap Graphs":{U:["Heatmap"],D:"General parameters for heatmaps",P:["adjustAspectRatioHeatmapIndicator","grpIndicesStart","heatmapAutoAdjust","heatmapCellBox","heatmapCellBoxColor","heatmapCellBoxColorHighlight","heatmapCellBoxHighlightWidth","heatmapCellBoxWidth","heatmapCollapse","heatmapIndicatorHeight","heatmapIndicatorHistogram","heatmapIndicatorHistogramColor","heatmapIndicatorPosition","heatmapIndicatorWidth","heatmapSeparatorThickness","heatmapSmpSeparateBy","heatmapType","heatmapVarSeparateBy","isMultidimensionalData","showHeatmapIndicator","smpIndicesStart","smpTitleLabelPosition","varIndicesStart","varTitleLabelPosition"]},"Foreground and Background":{P:["background","backgroundImage","backgroundType","backgroundWindow","foreground"],D:"Foreground and Background properties used in all visualizations",U:["AllGraphs"]}}},exports.init=CanvasXpress,exports.cxplot=cxplot,exports.aes=aes}).call(this,__webpack_require__(6))},function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){var a=i(8);"string"==typeof a&&(a=[[t.i,a,""]]);var s={insertAt:"top",hmr:!0,transform:void 0,insertInto:void 0};i(10)(a,s);a.locals&&(t.exports=a.locals)},function(t,e,i){(e=i(9)(!1)).push([t.i,'@charset "UTF-8";\n\n/*\n * Loading\n */\n\n.lds-ring {\n  display: inline-block;\n  position: relative;\n  width: 80px;\n  height: 80px;\n}\n.lds-ring div {\n  box-sizing: border-box;\n  display: block;\n  position: absolute;\n  width: 64px;\n  height: 64px;\n  margin: 8px;\n  border: 8px solid rgb(51, 122, 183);\n  border-radius: 50%;\n  animation: lds-ring 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;\n  border-color: rgb(51, 122, 183) transparent transparent transparent;\n}\n.lds-ring div:nth-child(1) {\n  animation-delay: -0.45s;\n}\n.lds-ring div:nth-child(2) {\n  animation-delay: -0.3s;\n}\n.lds-ring div:nth-child(3) {\n  animation-delay: -0.15s;\n}\n@keyframes lds-ring {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}  \n\n/*\n * Loading Image\n */\n\n /*\n.sk-fading-circle {\n    margin: 50px auto;\n    width: 80px;\n    height: 80px;\n    position: relative;\n}\n\n.sk-fading-circle .sk-circle {\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    left: 0;\n    top: 0;\n}\n\n.sk-fading-circle .sk-circle:before {\n    content: \'\';\n    display: block;\n    margin: 0 auto;\n    width: 15%;\n    height: 15%;\n    background-color: #333;\n    border-radius: 100%;\n    -webkit-animation: sk-circleFadeDelay 1.2s infinite ease-in-out both;\n    animation: sk-circleFadeDelay 1.2s infinite ease-in-out both;\n}\n\n.sk-fading-circle .sk-circle2 {\n    -webkit-transform: rotate(30deg);\n    -ms-transform: rotate(30deg);\n    transform: rotate(30deg);\n}\n\n.sk-fading-circle .sk-circle3 {\n    -webkit-transform: rotate(60deg);\n    -ms-transform: rotate(60deg);\n    transform: rotate(60deg);\n}\n\n.sk-fading-circle .sk-circle4 {\n    -webkit-transform: rotate(90deg);\n    -ms-transform: rotate(90deg);\n    transform: rotate(90deg);\n}\n\n.sk-fading-circle .sk-circle5 {\n    -webkit-transform: rotate(120deg);\n    -ms-transform: rotate(120deg);\n    transform: rotate(120deg);\n}\n\n.sk-fading-circle .sk-circle6 {\n    -webkit-transform: rotate(150deg);\n    -ms-transform: rotate(150deg);\n    transform: rotate(150deg);\n}\n\n.sk-fading-circle .sk-circle7 {\n    -webkit-transform: rotate(180deg);\n    -ms-transform: rotate(180deg);\n    transform: rotate(180deg);\n}\n\n.sk-fading-circle .sk-circle8 {\n    -webkit-transform: rotate(210deg);\n    -ms-transform: rotate(210deg);\n    transform: rotate(210deg);\n}\n\n.sk-fading-circle .sk-circle9 {\n    -webkit-transform: rotate(240deg);\n    -ms-transform: rotate(240deg);\n    transform: rotate(240deg);\n}\n\n.sk-fading-circle .sk-circle10 {\n    -webkit-transform: rotate(270deg);\n    -ms-transform: rotate(270deg);\n    transform: rotate(270deg);\n}\n\n.sk-fading-circle .sk-circle11 {\n    -webkit-transform: rotate(300deg);\n    -ms-transform: rotate(300deg);\n    transform: rotate(300deg);\n}\n\n.sk-fading-circle .sk-circle12 {\n    -webkit-transform: rotate(330deg);\n    -ms-transform: rotate(330deg);\n    transform: rotate(330deg);\n}\n\n.sk-fading-circle .sk-circle2:before {\n    -webkit-animation-delay: -1.1s;\n    animation-delay: -1.1s;\n}\n\n.sk-fading-circle .sk-circle3:before {\n    -webkit-animation-delay: -1s;\n    animation-delay: -1s;\n}\n\n.sk-fading-circle .sk-circle4:before {\n    -webkit-animation-delay: -0.9s;\n    animation-delay: -0.9s;\n}\n\n.sk-fading-circle .sk-circle5:before {\n    -webkit-animation-delay: -0.8s;\n    animation-delay: -0.8s;\n}\n\n.sk-fading-circle .sk-circle6:before {\n    -webkit-animation-delay: -0.7s;\n    animation-delay: -0.7s;\n}\n\n.sk-fading-circle .sk-circle7:before {\n    -webkit-animation-delay: -0.6s;\n    animation-delay: -0.6s;\n}\n\n.sk-fading-circle .sk-circle8:before {\n    -webkit-animation-delay: -0.5s;\n    animation-delay: -0.5s;\n}\n\n.sk-fading-circle .sk-circle9:before {\n    -webkit-animation-delay: -0.4s;\n    animation-delay: -0.4s;\n}\n\n.sk-fading-circle .sk-circle10:before {\n    -webkit-animation-delay: -0.3s;\n    animation-delay: -0.3s;\n}\n\n.sk-fading-circle .sk-circle11:before {\n    -webkit-animation-delay: -0.2s;\n    animation-delay: -0.2s;\n}\n\n.sk-fading-circle .sk-circle12:before {\n    -webkit-animation-delay: -0.1s;\n    animation-delay: -0.1s;\n}\n\n@-webkit-keyframes sk-circleFadeDelay {\n    0%,\n    39%,\n    100% {\n        opacity: 0;\n    }\n    40% {\n        opacity: 1;\n    }\n}\n\n@keyframes sk-circleFadeDelay {\n    0%,\n    39%,\n    100% {\n        opacity: 0;\n    }\n    40% {\n        opacity: 1;\n    }\n}\n\n.counter {\n    position: relative;\n    top: 101px;\n    width: 25px;\n    font-size: x-large;\n    cursor: default;\n    overflow: hidden;\n    margin: 0px auto;\n}\n\n.timer {\n    height: 25px;\n    float: left;\n}\n\n.timer-val-container {\n    float: left;\n}\n\n.seconds-single {\n    animation: count-10 10s steps(10, end) infinite;\n}\n\n.timer-val {\n    width: 25px;\n    height: 25px;\n    text-align: center;\n    line-height: 25px;\n    text-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);\n}\n\n@keyframes count-10 {\n    to {\n        transform: translateY(-250px);\n    }\n}\n\n@-webkit-keyframes count-10 {\n    to {\n        transform: translateY(-250px);\n    }\n}\n*/\n\ntable.shorts {\n    margin: 2px 3px;\n    padding: 2px 3px;\n    border: 1px solid #fafafa;\n    border-collapse: collapse;\n    font-size: x-small\n}\n\ntd.k {\n    text-align: center;\n    padding: 2px 5px;\n    margin: 2px 5px;\n    border: 1px solid #cccccc;\n}\n\ntd.d {\n    padding: 2px 5px;\n    margin: 2px 5px;\n    border: 1px solid #cccccc;\n}\n\nth.d {\n    padding: 2px 5px;\n    margin: 2px 5px;\n    border: 1px solid #cccccc;\n}\n\nth.cxx,\nth.cxz,\nth.cxb,\nth.cxs,\nth.cxv,\ntd.cxx,\ntd.cxz,\ntd.cxb,\ntd.cxs,\ntd.cxv {\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAeCAYAAADtlXTHAAAAFklEQVR42mP88OHDf0aSiGfPntGaAAAL8XAJa+SuYgAAAABJRU5ErkJggg==);\n    background-repeat: repeat-x;\n    border: 1px solid #cccccc;\n    vertical-align: middle;\n}\n\ntd.cxx,\ntd.cxz,\ntd.cxb,\ntd.cxs,\ntd.cxv {\n    font: normal 12px arial, tahoma, sans-serif;\n    line-height: 24px;\n    background: #fefefe;\n    padding: 1px;\n    color: rgb(34, 34, 34);\n}\n\ntd.cxy {\n    font: normal 12px arial, tahoma, sans-serif;\n    line-height: 24px;\n    border: 1px solid #cccccc;\n    vertical-align: middle;\n    text-align: right;\n    background: #fefefe;\n    padding: 1px;\n    color: rgb(34, 34, 34);\n}\n\ninput[type="color"] {\n    -webkit-appearance: none;\n    border: none;\n    width: 100%;\n    height: 100%;\n}\n\ninput[type="color"]::-webkit-color-swatch-wrapper {\n    padding: 0;\n}\n\ninput[type="color"]::-webkit-color-swatch {\n    border: none;\n}\n\n.unselectable {\n    -webkit-touch-callout: none;\n    -webkit-user-select: none;\n    -khtml-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n}\n\ndiv.cxc {\n    left: 0px;\n    top: 0px;\n    margin-left: 5px;\n    margin-top: 2px;\n    white-space: nowrap;\n    overflow: hidden;\n}\n\n.json-key {\n    color: #d73027;\n    font-weight: bold;\n}\n\n.json-value {\n    color: #4575b4;\n}\n\n.json-string {\n    color: #a85302;\n}\n\n.json-number {\n    color: #4575b4;\n}\n\n.json-boolean {\n    color: #666600;\n}\n\n.json-null {\n    color: #4575b4;\n}\n\n.json-comment {\n    color: #397300\n}\n\ndiv.CanvasXpressCode {\n    border: 1px solid rgb(51, 122, 183);\n    border-radius: 5px;\n    box-sizing: content-box;\n    background-color: rgba(255, 255, 255, 0.95);\n    cursor: move;\n    color: rgb(34, 34, 34);\n    font: normal 12px arial, tahoma, sans-serif;\n    margin: 2px 3px;\n    padding: 18px;\n    position: absolute;\n    white-space: nowrap;\n}\n\nimg.CanvasXpressCode, svg.CanvasXpressCode {\n    background: rgba(0, 0, 0, 0) !important;\n    border: 0px none !important;\n    box-shadow: 0 0 0px rgba(0, 0, 0, 0) !important;\n    cursor: default;\n    float: right;\n    margin: 5px 8px 0px 0px !important;\n    -moz-user-select: none;\n    -khtml-user-select: none;\n    -webkit-user-select: none;\n    -o-user-select: none;\n    -ms-user-select: none;\n}\n\npre.CanvasXpressCode {\n    text-align: left;\n    padding: inherit;\n    margin: inherit;\n    font-size: inherit;\n    line-height: inherit;\n    color: inherit;\n    word-break: inherit;\n    word-wrap: inherit;\n    background-color: inherit;\n    border: none;\n    border-radius: inherit;\n    counter-reset: line;\n}\n\ndiv.CanvasXpressCodeContainer {\n    box-sizing: content-box;\n    clear: both;\n    max-height: 500px;\n    max-width: 600px;\n    overflow: auto;\n    padding: 10px;\n}\n\ndiv.CanvasXpressCodeContent {\n    box-sizing: content-box;\n    margin: 2px 3px;\n    padding: 2px 3px;\n}\n\npre.CanvasXpressCodeContent {\n    margin: 0 !important;\n    padding: 0 !important;\n    white-space: pre;\n    font-size: inherit;\n    line-height: inherit;\n    color: inherit;\n    border-radius: inherit;\n}\n\npre.CanvasXpressCodeContent:before {\n    counter-reset: listing;\n}\n\npre.CanvasXpressCodeContent code {\n    counter-increment: listing;\n    white-space: inherit;\n    line-height: 1.5;\n}\n\npre.CanvasXpressCodeContent code::before {\n    content: counter(listing) " ";\n    display: inline-block;\n    width: 3em;\n    /* Fixed width */\n    border-right: 1px solid #ddd;\n    padding-left: auto;\n    margin-left: auto;\n    text-align: right;\n    /*color: #888;*/\n    background-color: #efefef;\n    -webkit-user-select: none;\n}\n\n\n/*\n * Carousel\n */\n\ndiv.CanvasXpressCarouselScene {\n    position: relative;\n    margin: 0;\n}\n\ndiv.CanvasXpressCarousel {\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    transform: translateZ(-288px);\n    transform-style: preserve-3d;\n    transition: transform 1s;\n}\n\nspan.CanvasXpressCarousel {\n    padding: 1px;\n    position: absolute;\n    border: 1px solid rgb(51, 122, 183);\n    border-radius: 2px;\n    line-height: 10px;\n    cursor: pointer;\n}\n\ndiv.CanvasXpressCarouselCell {\n    position: absolute;\n    transition: transform 1s, opacity 1s;\n    background-color: rgba(255, 255, 255, 0.95);\n    border: 1px solid rgb(51, 122, 183);\n    border-radius: 5px;\n    backface-visibility: hidden;\n}\n\ndiv.CanvasXpressCarouselCell:nth-child(1) {\n    transform: rotateY( 0deg) translateZ(288px);\n}\n\ndiv.CanvasXpressCarouselCell:nth-child(2) {\n    transform: rotateY( 40deg) translateZ(288px);\n}\n\ndiv.CanvasXpressCarouselCell:nth-child(3) {\n    transform: rotateY( 80deg) translateZ(288px);\n}\n\ndiv.CanvasXpressCarouselCell:nth-child(4) {\n    transform: rotateY(120deg) translateZ(288px);\n}\n\ndiv.CanvasXpressCarouselCell:nth-child(5) {\n    transform: rotateY(160deg) translateZ(288px);\n}\n\ndiv.CanvasXpressCarouselCell:nth-child(6) {\n    transform: rotateY(200deg) translateZ(288px);\n}\n\ndiv.CanvasXpressCarouselCell:nth-child(7) {\n    transform: rotateY(240deg) translateZ(288px);\n}\n\ndiv.CanvasXpressCarouselCell:nth-child(8) {\n    transform: rotateY(280deg) translateZ(288px);\n}\n\ndiv.CanvasXpressCarouselCell:nth-child(9) {\n    transform: rotateY(320deg) translateZ(288px);\n}\n\nimg.CanvasXpressCarousel:hover, svg.CanvasXpressCarousel:hover {\n    -webkit-transform: scale(1.8, 1.8);\n    -ms-transform: scale(1.8, 1.8);\n    transform: scale(1.8, 1.8);\n    transition-duration: 0.3s;\n    -webkit-transition-duration: 0.3s;\n    /* Safari */\n    box-shadow: 10px 10px 5px #888888;\n    z-index: 2;\n    position: relative;\n    cursor: pointer;\n    background: rgba(0, 0, 0, 0) !important;\n    border: 0px none !important;\n    box-shadow: 0 0 0px rgba(0, 0, 0, 0) !important;\n    margin: 0px !important;\n}\n\n\n/*\n * CanvasXpressBin\n */\n\ndiv.CanvasXpressBin {\n    border: 1px solid rgb(51, 122, 183);\n    border-radius: 5px;\n    background-color: rgba(255, 255, 255, 0.95);\n    box-sizing: content-box;\n    cursor: move;\n    color: rgb(34, 34, 34);\n    font: normal 12px arial, tahoma, sans-serif;\n    margin: 2px 3px;\n    padding: 2px 3px 5px 3px;\n    position: absolute;\n    white-space: nowrap;\n    -moz-user-select: none;\n    -khtml-user-select: none;\n    -webkit-user-select: none;\n    -o-user-select: none;\n}\n\nimg.CanvasXpressBin, svg.CanvasXpressBin {\n    background: rgba(0, 0, 0, 0) !important;\n    border: 0px none !important;\n    box-shadow: 0 0 0px rgba(0, 0, 0, 0) !important;\n    cursor: default;\n    float: right;\n    margin: 5px 5px 0px 0px !important;\n    -moz-user-select: none;\n    -khtml-user-select: none;\n    -webkit-user-select: none;\n    -o-user-select: none;\n    -ms-user-select: none;\n}\n\ndiv.CanvasXpressBinContainer {\n    background-color: rgba(255, 255, 255, 0.95);\n    box-sizing: content-box;\n    clear: both;\n    text-align: left;\n    -moz-user-select: none;\n    -khtml-user-select: none;\n    -webkit-user-select: none;\n    -o-user-select: none;\n}\n\ndiv.CanvasXpressBinContainerTab {\n    background-color: rgba(255, 255, 255, 0.95);\n    border-width: 1px 1px 1px 1px;\n    border-style: solid;\n    border-color: rgb(51, 122, 183);   \n    border-radius: 5px;\n    box-sizing: content-box;\n    clear: none;\n    height: 16px;\n    margin: 3px;\n    overflow-y: auto;\n    padding: 5px;\n    -moz-user-select: none;\n    -khtml-user-select: none;\n    -webkit-user-select: none;\n    -o-user-select: none;\n}\n\ndiv.CanvasXpressBinNameContainer {\n    background-color: rgba(255, 255, 255, 0.95);\n    border: 1px solid rgb(51, 122, 183);\n    border-radius: 5px;\n    box-sizing: content-box;\n    clear: both;\n    max-height: 400px;\n    margin: 8px;\n    overflow-y: auto;\n    padding: 5px;\n    -moz-user-select: none;\n    -khtml-user-select: none;\n    -webkit-user-select: none;\n    -o-user-select: none;\n}\n\ninput.CanvasXpressBin {\n    background-color: rgba(255, 255, 255, 0.95);\n    border: 1px solid rgb(51, 122, 183);\n    color: rgb(34, 34, 34);\n    cursor: default;\n    font: normal 12px arial, tahoma, sans-serif;\n    line-height: 24px;\n    padding-left: 3px;\n    border-radius: 5px;\n    margin: 3px;\n}\n\ntable.CanvasXpressBinTable {\n    border: collapse;\n    line-height: 20px;\n    color: rgb(34, 34, 34);\n    cursor: default;\n    font: normal 12px arial, tahoma, sans-serif;\n    line-height: 24px;\n    padding-left: 3px;\n    -moz-user-select: none;\n    -khtml-user-select: none;\n    -webkit-user-select: none;\n    -o-user-select: none;\n}\n\nspan.CanvasXpressBin {\n    font: bold 12px arial, tahoma, sans-serif;\n    color: rgb(34, 34, 34);\n    margin-left: 5px;\n    -moz-user-select: none;\n    -khtml-user-select: none;\n    -webkit-user-select: none;\n    -o-user-select: none;\n}\n\nimg.CanvasXpressBin::selection,\nsvg.CanvasXpressBin::selection,\nspan.CanvasXpressBin::selection {\n    background: rgba(0, 0, 0, 0) !important;\n    border: 0px none !important;\n    box-shadow: 0 0 0px rgba(0, 0, 0, 0) !important;\n    color: rgb(0, 0, 0);\n    margin: 0px !important;\n}\n\n\n/*\n * CanvasXpressDataExplorer\n */\n\ndiv.CanvasXpressDataExplorerPanel {\n    -webkit-transition: all 0.5s ease;\n    -moz-transition: all 0.5s ease;\n    -o-transition: all 0.5s ease;\n    -ms-transition: all 0.5s ease;\n    transition: all 0.5s ease;\n    max-height: 0;\n    overflow: hidden;\n    cursor: default;\n}\n\ndiv.CanvasXpressDataExplorerPanelOpen {\n    -webkit-transition: all 0.5s ease;\n    -moz-transition: all 0.5s ease;\n    -o-transition: all 0.5s ease;\n    -ms-transition: all 0.5s ease;\n    transition: all 0.5s ease;\n    cursor: default;\n    height: auto;\n    max-height: 1000px;\n    overflow: hidden;\n}\n\nhr.CanvasXpressDataExplorer {\n    border: 0;\n    background-color: rgb(51, 122, 183);\n    height: 1px;\n    margin: 1px -3px 1px !important;\n    padding: 0;\n}\n\nimg.CanvasXpressDataExplorerActive, svg.CanvasXpressDataExplorerActive {\n    background: rgba(0, 0, 0, 0) !important;\n    box-shadow: 0 0 0px rgba(0, 0, 0, 0) !important;\n    border: 1px dashed rgb(255, 0, 0) !important;\n    border-radius: 5px;\n    cursor: pointer;\n    margin: 3px !important;\n    padding: 2px;\n}\n\nimg.CanvasXpressDataExplorer, svg.CanvasXpressDataExplorer {\n    background: rgba(0, 0, 0, 0) !important;\n    box-shadow: 0 0 0px rgba(0, 0, 0, 0) !important;\n    border: 1px solid rgb(51, 122, 183) !important;\n    border-radius: 5px;\n    cursor: pointer;\n    margin: 2px 3px !important;\n    padding: 2px;\n    -webkit-transform: scale(1, 1);\n    -ms-transform: scale(1, 1);\n    transform: scale(1, 1);\n    transition-duration: 0.3s;\n    -webkit-transition-duration: 0.3s;\n    /* Safari */\n}\n\nimg.CanvasXpressDataExplorer:hover,\nimg.CanvasXpressDataExplorer3:hover img.CanvasXpressDataExplorer4:hover,\nsvg.CanvasXpressDataExplorer:hover,\nsvg.CanvasXpressDataExplorer3:hover svg.CanvasXpressDataExplorer4:hover {\n    background: rgba(0, 0, 0, 0) !important;\n    border: 1px solid rgb(51, 122, 183) !important;\n    border-radius: 5px;\n    cursor: pointer;\n    margin: 2px 3px !important;\n    padding: 3px;\n    -webkit-transform: scale(1.8, 1.8);\n    -ms-transform: scale(1.8, 1.8);\n    transform: scale(1.8, 1.8);\n    transition-duration: 0.3s;\n    -webkit-transition-duration: 0.3s;\n    /* Safari */\n    box-shadow: 10px 10px 5px #888888 !important;\n    z-index: 2;\n    position: relative;\n}\n\nimg.CanvasXpressDataExplorer2,\nimg.CanvasXpressDataExplorer4,\nsvg.CanvasXpressDataExplorer2,\nsvg.CanvasXpressDataExplorer4 {\n    background: rgba(0, 0, 0, 0) !important;\n    box-shadow: 0 0 0px rgba(0, 0, 0, 0) !important;\n    border: 0px none !important;\n    border-radius: 0px;\n    cursor: pointer;\n    margin: 2px 3px !important;\n    -webkit-transform: scale(1, 1);\n    -ms-transform: scale(1, 1);\n    transform: scale(1, 1);\n    transition-duration: 0.3s;\n    -webkit-transition-duration: 0.3s;\n    /* Safari */\n}\n\nimg.CanvasXpressDataExplorer2:hover, svg.CanvasXpressDataExplorer2:hover {\n    background: rgba(0, 0, 0, 0) !important;\n    border: 0px none !important;\n    border-radius: 5px;\n    cursor: pointer;\n    margin: 2px 4px !important;\n    padding: 4px;\n    -webkit-transform: scale(1.8, 1.8);\n    -ms-transform: scale(1.8, 1.8);\n    transform: scale(1.8, 1.8);\n    transition-duration: 0.3s;\n    -webkit-transition-duration: 0.3s;\n    /* Safari */\n    box-shadow: 10px 10px 5px #888888 !important;\n    z-index: 2;\n    position: relative;\n}\n\nimg.CanvasXpressDataExplorer3, svg.CanvasXpressDataExplorer3 {\n    background: rgba(0, 0, 0, 0) !important;\n    box-shadow: 0 0 0px rgba(0, 0, 0, 0) !important;\n    border: 1px solid rgb(51, 122, 183) !important;\n    border-radius: 5px;\n    cursor: pointer;\n    margin: 12px 3px 3px 3px !important;\n    padding: 2px 3px;\n    -webkit-transform: scale(1, 1);\n    -ms-transform: scale(1, 1);\n    transform: scale(1, 1);\n    transition-duration: 0.3s;\n    -webkit-transition-duration: 0.3s;\n    /* Safari */\n}\n\ndiv.CanvasXpressDataExplorerActive {\n    border: 1px dashed rgb(255, 0, 0);\n    border-radius: 5px;\n    box-sizing: content-box;\n    font: normal 12px arial, tahoma, sans-serif;\n    color: rgb(34, 34, 34);\n    margin: 3px;\n    padding: 3px;\n    white-space: normal;\n}\n\ndiv.CanvasXpressDataExplorer {\n    border: 1px solid rgb(51, 122, 183);\n    border-radius: 2px;\n    box-sizing: content-box;\n    font: normal 12px arial, tahoma, sans-serif;\n    color: rgb(34, 34, 34);\n    margin: 3px;\n    padding: 3px;\n    white-space: normal;\n}\n\nimg.CanvasXpressDataExplorerMask, svg.CanvasXpressDataExplorerMask {\n    background: rgba(0, 0, 0, 0) !important;\n    border: 0px none !important;\n    box-shadow: 0 0 0px rgba(0, 0, 0, 0) !important;\n    position: absolute;\n    left: 0px;\n    top: 0px;\n    margin: 0px !important;\n    width: 100%;\n    height: 20px;\n    -moz-user-select: none;\n    -khtml-user-select: none;\n    -webkit-user-select: none;\n    -o-user-select: none;\n    -ms-user-select: none;\n    -moz-user-select: none;\n}\n\nspan.CanvasXpressDataExplorerNumeric,\nspan.CanvasXpressDataExplorerString,\nspan.CanvasXpressDataExplorerUnique {\n    border: 1px solid rgb(51, 122, 183);\n    border-radius: 5px;\n    cursor: move;\n    font: normal 12px arial, tahoma, sans-serif;\n    color: rgb(34, 34, 34);\n    margin: 3px;\n    padding: 3px;\n    word-wrap: normal;\n    display: inline-block;\n    text-align: start;\n    max-width: 150px;\n    overflow: hidden;\n    position: relative;\n    -moz-user-select: none;\n    -khtml-user-select: none;\n    -webkit-user-select: none;\n    -o-user-select: none;\n    -ms-user-select: none;\n}\n\nspan.CanvasXpressDataExplorerString {\n    color: rgb(255, 0, 0);\n}\n\nspan.CanvasXpressDataExplorerUnique {\n    color: rgb(0, 0, 255);\n}\n\nspan.CanvasXpressDataExplorer {\n    border: 1px solid rgb(51, 122, 183);\n    border-radius: 5px;\n    cursor: pointer;\n    font: bold 12px arial, tahoma, sans-serif;\n    color: rgb(34, 34, 34);\n    line-height: 380%;\n    padding: 6px 29px;\n    margin-left: -4px;\n}\n\nbr::selection,\nhr.CanvasXpressDataExplorer::selection,\nimg.CanvasXpressDataExplorerActive::selection,\nimg.CanvasXpressDataExplorer::selection,\nsvg.CanvasXpressDataExplorerActive::selection,\nsvg.CanvasXpressDataExplorer::selection,\ndiv.CanvasXpressDataExplorerActive::selection,\ndiv.CanvasXpressDataExplorer::selection,\nimg.CanvasXpressDataExplorerMask::selection,\nsvg.CanvasXpressDataExplorerMask::selection,\nspan.CanvasXpressDataExplorerNumeric::selection,\nspan.CanvasXpressDataExplorerString::selection,\nspan.CanvasXpressDataExplorerUnique::selection,\nspan.CanvasXpressDataExplorer::selection {\n    background: rgba(0, 0, 0, 0);\n    color: rgb(0, 0, 0);\n    padding: 0;\n}\n\n\n/*\n * CanvasXpressDrag\n */\n\ndiv.CanvasXpressDrag {\n    opacity: 0.75;\n    box-sizing: content-box;\n    filter: alpha(opacity=75);\n    background-color: rgba(255, 255, 255, 0.95);\n    position: absolute;\n}\n\ndiv.CanvasXpressDragLayout {\n    opacity: 0.65;\n    box-sizing: content-box;\n    filter: alpha(opacity=65);\n    background-color: rgba(51, 122, 183, 0.65);\n    position: absolute;\n}\n\ndiv.CanvasXpressTooltip {\n    border: 1px solid rgb(51, 122, 183);\n    border-radius: 5px;\n    background-color: rgba(255, 255, 255, 0.95);\n    box-sizing: content-box;\n    cursor: move;\n    color: rgb(34, 34, 34);\n    font: normal 12px arial, tahoma, sans-serif;\n    margin: 2px 3px;\n    overflow: hidden;\n    padding: 5px 6px;\n    position: absolute;\n    white-space: nowrap;\n    text-align: left;\n}\n\ndiv.CanvasXpressTooltipArrowLeft {\n    position: absolute;\n    height: 0;\n    width: 0;\n    background: rgba(255, 255, 255, 0.95);\n    border: 1px solid rgb(51, 122, 183);\n    z-index: 1;\n}\n\ndiv.CanvasXpressTooltipArrowLeft:after,\ndiv.CanvasXpressTooltipArrowLeft:before {\n    border: solid transparent;\n    right: 0px;\n    content: " ";\n    position: absolute;\n    pointer-events: none;\n}\n\ndiv.CanvasXpressTooltipArrowLeft:after {\n    border-color: rgba(245, 245, 245, 0);\n    border-right-color: rgb(245, 245, 245);\n    border-width: 8px;\n    margin-top: -8px;\n}\n\ndiv.CanvasXpressTooltipArrowLeft:before {\n    border-color: rgba(51, 122, 183, 0);\n    border-right-color: rgb(51, 122, 183);\n    border-width: 9px;\n    margin-top: -9px;\n}\n\nimg.CanvasXpressTooltip, svg.CanvasXpressTooltip {\n    background: rgba(0, 0, 0, 0) !important;\n    border: 0px none !important;\n    box-shadow: 0 0 0px rgba(0, 0, 0, 0) !important;\n    cursor: default;\n    float: right;\n    margin: 5px 8px 0px 0px !important;\n    cursor: default;\n    -moz-user-select: none;\n    -khtml-user-select: none;\n    -webkit-user-select: none;\n    -o-user-select: none;\n    -ms-user-select: none;\n}\n\nspan.CanvasXpressTooltip {\n    border: 1px solid rgb(51, 122, 183);\n    border-radius: 5px;\n    background-color: rgba(255, 255, 255, 0.95);\n    cursor: move;\n    color: rgb(34, 34, 34);\n    font: normal 12px arial, tahoma, sans-serif;\n    margin: 2px 3px;\n    max-height: 800px;\n    overflow: hidden;\n    padding: 5px 6px;\n    position: absolute;\n    white-space: nowrap;\n    text-align: left;\n    z-index: 1;\n}\n\ndiv.CanvasXpressMousePosition {\n    background: rgba(0, 0, 0, 0) !important;\n    border: 0px none !important;\n    box-shadow: 0 0 0px rgba(0, 0, 0, 0) !important;\n    cursor: move;\n    color: rgb(34, 34, 34);\n    font: normal 12px arial, tahoma, sans-serif;\n    position: absolute;\n    white-space: nowrap;\n    text-align: left;\n    z-index: 1;\n}\n\nimg.CanvasXpressMousePosition, svg.CanvasXpressMousePosition {\n    background: rgba(0, 0, 0, 0) !important;\n    border: 0px none !important;\n    box-shadow: 0 0 0px rgba(0, 0, 0, 0) !important;\n    cursor: default;\n    margin: 0px !important;\n    padding: 0px !important;\n    position: relative;\n    left: -13px;\n    top: -13px;\n    cursor: default;\n    -moz-user-select: none;\n    -khtml-user-select: none;\n    -webkit-user-select: none;\n    -o-user-select: none;\n    -ms-user-select: none;\n}\n\nspan.CanvasXpressMousePosition {\n    background: rgba(0, 0, 0, 0) !important;\n    border: 0px none !important;\n    box-shadow: 0 0 0px rgba(0, 0, 0, 0) !important;\n    cursor: move;\n    color: rgb(34, 34, 34);\n    font: normal 12px arial, tahoma, sans-serif;\n    position: absolute;\n    left: 4px;\n    top: -20px;\n    white-space: nowrap;\n    text-align: left;\n    z-index: 1;\n}\n\n\n/*\ndiv.CanvasXpressCanvasResizer {\n\n}\n*/\n\ndiv.CanvasXpressCanvasResizerClose {\n    box-sizing: content-box;\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAOCAYAAAD9lDaoAAAAcUlEQVR42mM8e/bsfwYCgBGkSE9PD6eCS5cuIRSxsrIy/P79Gy4J42MoAgGQBDIbRRFMNwzATMVQhGwNVjehm/T582cwfevWLfxu+vTpO8Pt29ew++7Hjx8MvLy8mIpgAKTg/38WOB+uiGCIE1JAXUUA5WZpcWW3WYkAAAAASUVORK5CYII=);\n}\n\ndiv.CanvasXpressCanvasResizerloading1 {\n    box-sizing: content-box;\n    background-image: url(data:image/gif;base64,R0lGODlhZABkAPQAAP///wCQ/47N/mi9/jan/jyp/ly3/hyc/hKX/iyj/lS0/kyw/n7G/obK/iSf/gCQ/3bD/kSt/gqU/gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJBwAAACwAAAAAZABkAAAF/yAgjmRpnmiqrmzrvnAsz3Rt33iu73zfMgoDw0csAgSEh/JBEBifucRymYBaaYzpdHjtuhba5cJLXoHDj3HZBykkIpDWAP0YrHsDiV5faB3CB3c8EHuFdisNDlMHTi4NEI2CJwWFewQuAwtBMAIKQZGSJAmVelVGEAaeXKEkEaQSpkUNngYNrCWEpIdGj6C3IpSFfb+CAwkOCbvEy8zNzs/Q0dLT1NUrAgOf1kUMBwjfB8rbOQLe3+C24wxCNwPn7wrjEAv0qzMK7+eX2wb0mzXu8iGIty1TPRvlBKazJgBVnBsN8okbRy6VgoUUM2rcyLGjx48gQ4ocSbKkyZMoJf8JMFCAwAJfKU0gOUDzgAOYHiE8XDGAJoKaalAoObHERFESU0oMFbF06YikKQQsiKCJBYGaNR2ocPr0AQCuQ8F6Fdt1rNeuLSBQjRDB3qSfPm1uPYvUbN2jTO2izQs171e6J9SuxXjCAFaaQYkC9ku2MWCnYR2rkDqV4IoEWG/O5fp3ceS7nuk2Db0YBQS3UVm6xBmztevXsGPLnk27tu3buHOvQU3bgIPflscJ4C3D92/gFNUWgHPj2G+bmhkWWL78xvPjDog/azCdOmsXzrF/dyYgAvUI7Y7bDF5N+QLCM4whM7BxvO77+PPr38+//w4GbhSw0xMQDKCdJAwkcIx2ggMSsQABENLHzALILDhMERAQ0BKE8IUSwYILPjEAhCQ2yMoCClaYmA8NQLhhh5I0oOCCB5rAQI0mGEDiRLfMQhWOI3CXgIYwotBAA/aN09KQCVw4m4wEMElAkTEhIWUCSaL0IJPsySZVlC/5J+aYZJZppgghAAAh+QQJBwAAACwAAAAAZABkAAAF/yAgjmRpnmiqrmzrvnAsz3Rt33iu73zfMhAIw0csAgQDhESCGAiM0NzgsawOolgaQ1ldIobZsAvS7ULE6BW5vDynfUiFsyVgL58rwQLxOCzeKwwHCIQHYCsLbH95Dg+OjgeAKAKDhIUNLA2JVQt4KhGPoYuSJEmWlgYuSBCYLRKhjwikJQqnlgpFsKGzJAa2hLhEuo6yvCKUv549BcOjxgOVhFdFdbAOysYNCgQK2HDMVAXexuTl5ufo6err7O3kAgKs4+48AhEH+ATz9Dj2+P8EWvET0YDBPlX/Eh7i18CAgm42ICT8l2ogAAYPFSyU0WAiPjcDtSkwIHCGAAITE/+UpCeg4EqTKPGptEikpQEGL2nq3Mmzp8+fQIMKHUq0qNGjSJO6E8DA4RyleQw4mOqgk1F4LRo4OEDVwTQUjk48MjGWxC6zD0aEBbBWbdlJBhYsAJlC6lSuDiKoaOuWbdq+fMMG/us37eCsCuRaVWG3q94UfEUIJlz48GHJsND6VaFJ8UEAWrdS/SqWMubNgClP1nz67ebIJQTEnduicdWDZ92aXq17N+G1kV2nwEqnqYGnUJMrX868ufPn0KNLn069Or+N0hksSFCArkWmORgkcJCgvHeWCiIYOB9jAfnx3D+fE5A+woKKNSLAh4+dXYMI9gEonwoKlPeeON8ZAOCgfTc0UB5/OiERwQA5xaCJff3xM6B1HHbo4YcghigiNXFBhEVLGc5yEgEJEKBPFBBEUEAE7M0yAIs44leTjDNGUKEkBrQopDM+NFDAjEf+CMiNQhJAWpE8zqjkG/8JGcGGIjCQIgoMyOhjOkwNMMCWJTTkInJZNYAlPQYU4KKT0xnpopsFTKmUPW8ScOV0N7oJ53TxJAbBmiMWauihiIIYAgAh+QQJBwAAACwAAAAAZABkAAAF/yAgjmRpnmiqrmzrvnAsz3Rt33iu73zv/8AZo4BAFBjBpI5xKBYPSKWURnA6CdNszGrVeltc5zcoYDReiXDCBSkQCpDxShA52AuCFoQribMKEoGBA3IpdQh2B1h6TQgOfisDgpOQhSMNiYkIZy4CnC0Ek4IFliVMmnYGQAmigWull5mJUT6srRGwJESZrz+SrZWwAgSJDp8/gJOkuaYKwUADCQ4JhMzW19jZ2tvc3d7f4NoCCwgPCAs4AwQODqrhIgIOD/PzBzYDDgfsDgrvAAX0AqKjIW0fuzzhJASk56CGwXwOaH1bGLBGQX0H31Gch6CGgYf93gGkOJCGgYIh3/8JUBjQHg6J/gSMlBABob+bOHPq3Mmzp8+fQIMKHUq0qNEUAiBAOHZ0RYN10p41PZGg6jQHNk/M07q1BD2vX0l0BdB1rIiKKhgoMMD0BANpVqmpMHv2AVm7I7aa1Yu3bl6+YvuuUEDYXdq40qqhoHu38d+wfvf2pRjYcYq1a0FNg5vVBGPAfy03lhwa8mjBJxqs7Yzi6WapgemaPh0b9diythnjSAqB9dTfwIMLH068uPHjyJMrX84cnIABCwz4Hj4uAYEEeHIOMAAbhjrr1lO+g65gQXcX0a5fL/nOwIL3imlAUG/d8DsI7xfAlEFH/SKcEAywHw3b9dbcgQgmqOByggw26KAIDAxwnnAGEGAhe0AIoEAE0mXzlBsWTojDhhFwmE0bFroR3w8RLNAiLtg8ZaGFbfVgwIv2WaOOGzn+IIABCqx4TRk1pkXYgMQNUUAERyhnwJIFFNAjcTdGaWJydCxZ03INBFjkg2CGKeaYCYYAACH5BAkHAAAALAAAAABkAGQAAAX/ICCOZGmeaKqubOu+cCzPdG3feK7vfO//wBnDUCAMBMGkTkA4OA8EpHJKMzyfBqo2VkBcEYWtuNW8HsJjoIDReC2e3kPEJRgojulVPeFIGKQrEGYOgCoMBwiJBwx5KQMOkJBZLQILkAuFKQ2IiYqZjQANfA4HkAltdKgtBp2tA6AlDJGzjD8KrZ0KsCSipJCltT63uAiTuyIGsw66asQHn6ACCpEKqj8DrQevxyVr0D4NCgTV3OXm5+jp6uvs7e7v6gIQEQkFEDgNCxELwfACBRICBtxGQ1QCPgn6uRsgsOE9GgoQ8inwLV2ChgLRzKCHsI9Cdg4wBkxQw9LBPhTh/wG4KHIODQYnDz6Ex1DkTCEL6t189w+jRhsf/Q04WACPyqNIkypdyrSp06dQo0qdSrWqVUcL+NER0MAa1AYOHoh9kKCiiEoE6nl1emDsWAIrcqYlkDKF2BNjTeQl4bbEXRF//47oe8KABLdjg4qAOTcBAcWAH+iVLBjA3cqXJQ/WbDkzX84oFCAey+wEg8Zp136e3Pnz3sitN28mDLsyiQWjxRo7EaFxXRS2W2OmDNqz7NrDY5swkPsB5FC91a6gHRm08OKvYWu3nd1EW8Rw9XA1q1TAd7Flr76wo1W9+/fw48ufT7++/fv48+s/wXUABPLwCWAAAQRiolQD/+FDIKRdBOz0TjgKkGNDAwsSSJBKEESowHOUEFjEY0lJEyGAegyw4G5HNcAAiS0g2ACL+8Uo44w01mjjjTi+wMCKMs5TQAQO+iCPAQme00AEP/4IIw0DZLVAkLA0kGQBBajGQ5MLKIDiMUcmGYGVO0CQZXvnCIAkkFOsYQCH0XQVAwP+sRlgVvssadU8+6Cp3zz66JmfNBFE8EeMKrqZ46GIJqrooi6EAAAh+QQJBwAAACwAAAAAZABkAAAF/yAgjmRpnmiqrmzrvnAsz3Rt33iu73zv/0Baw2BoBI88g2N5MCCfNgZz6WBArzEl1dHEeluGw9Sh+JpTg+1y8GpABGdWQxFZWF0L7nLhEhAOgBFwcScNCYcOCXctAwsRbC5/gIGEJwuIh3xADJOdg5UjEQmJowlBYZ2AEKAkeZgFQZypB0asIgyYCatBCakEtiQMBQkFu0GGkwSfwGYQBovM0dLT1NXW19jZ2ts+AgYKA8s0As6Q3AADBwjrB9AzogkEytwN6uvs4jAQ8fxO2wr3ApqTMYAfgQSatBEIeK8MjQEHIzrUBpAhgoEyIkSct62BxQP5YAhoZCDktQEB2/+d66ZAQZGVMGPKnEmzps2bOHPq3Mmzp88v5Iz9ZLFAgtGLjCIU8IezqFGjDzCagCBPntQSDx6cyKoVa1avX0mEBRB2rAiuXU00eMoWwQoF8grIW2H2rFazX/HeTUs2Lde+YvmegMCWrVATC+RWpSsYsN6/I/LyHYtWL+ATAwo/PVyCatWrgU1IDm3Zst2+k/eiEKBZgtsVA5SGY1wXcmTVt2v77aq7cSvNoIeOcOo6uPARAhhwPs68ufPn0KNLn069uvXrfQpklSAoRwOT1lhXdgC+BQSlEZZb0175QcJ3Sgt039Y+6+sZDQrI119LW/26MUQQ33zaSFDfATY0kFh2euewV9l748AkwAGVITidAAA9gACE2HXo4YcghijiiN0YEIEC5e3QAAP9RWOiIxMd0xKK0zhSRwRPMNCSAepVYoCNTMnoUopxNDLbEysSuVIDLVLXyALGMSfAAgsosICSP01J5ZXWQUBlj89hSeKYZJZpJoghAAAh+QQJBwAAACwAAAAAZABkAAAF/yAgjmRpnmiqrmzrvnAsz3Rt33iu73zv/0Bag8FoBI+8RmKZMCKfNQbTkSAIoNgYZElNOBjZcGtLLUPE6JSg601cXQ3IO60SQAzyF9l7bgkMbQNzdCUCC1UJEWAuAgOCLwYOkpIDhCdbBIiVQFIOB5IHVpYlBpmmC0EMk6t9oyIDplUGqZ+ek06uAAwEpqJBCqsOs7kjDAYLCoM/DQa1ycSEEBCL0NXW19jZ2tvc3d7fPwJDAsoz4hC44AIFB+0R5TGwvAbw2Q0E7fnvNQIEBbwEqHVj0A5BvgPpYtzj9W+TNwUHDR4QqBAgr1bdIBzMlzCGgX8EFtTD1sBTPgQFRv/6YTAgDzgAJfP5eslDAAMFDTrS3Mmzp8+fQIMKHUq0qNGjSJMisYNR6YotCBAE9GPAgE6fEKJqnbiiQYQCYCmaePDgBNmyJc6mVUuC7Ai3AOC+ZWuipAStUQusGFDgawQFK+TOjYtWhFvBhwsTnlsWseITDfDibVoCAtivgFUINtxY8VnHiwdz/ty2MwoBkrVSJtEAbNjAjxeDnu25cOLaoU2sSa236wCrKglvpss5t/DHcuEO31z57laxTisniErganQSNldf3869u/fv4MOLH0++vHk/A5YQeISjQfBr6yTIl5/Sxp2/76sNmM9fuwsDESyAHzgJ8DdfbzN4JWCkBBFYd40DBsqXgA0DMIhMfsQUGGEENjRQIR4v7Rehfy9gWE18/DkEnh0RJELieTDGKOOMNAa1DlkS1Bceap894ICJUNjhCJAyFNAjWahAA8ECTKrow5FkIVDNMcgMAwSUzFnCAJMLvHiDBFBKWQ1LLgERAZRJBpVTiQ70eMBQDSigAHSnLYCAj2kCJYCcBjwz3h98EnkUM1adJ2iNiCaq6KKLhgAAIfkECQcAAAAsAAAAAGQAZAAABf8gII5kaZ5oqq5s675wLM90bd94ru987//AoHAYEywShIWAyKwtCMjEokmFCaJQwrLKVTWy0UZ3jCqAC+SfoCF+NQrIQrvFWEQU87RpQOgbYg0MMAwJDoUEeXoiX2Z9iT0LhgmTU4okEH0EZgNCk4WFEZYkX5kEEEJwhoaVoiIGmklDEJOSgq0jDAOnRBBwBba3wcLDxMXGx8jJysvMzUJbzgAGn7s2DQsFEdXLCg4HDt6cNhHZ2dDJAuDqhtbkBe+Pxgze4N8ON+Tu58jp6+A3DPJtU9aNnoM/OBrs4wYuAcJoPYBBnEixosWLGDNq3Mixo8ePIEOKxGHEjIGFKBj/DLyY7oDLA1pYKIgQQcmKBw9O4MxZYmdPnyRwjhAKgOhQoCcWvDyA4IC4FAHtaLvJM2hOo0WvVs3K9ehRrVZZeFsKc0UDmnZW/jQhFOtOt2C9ingLt+uJsU1dolmhwI5NFVjnxhVsl2tdwkgNby0RgSyCpyogqGWbOOvitlvfriVc2LKKli9jjkRhRNPJ0ahTq17NurXr17Bjy55NG0UDBQpOvx6AoHdTiTQgGICsrIFv3wdQvoCwoC9xZAqO+34Ow0DfBQ+VEZDeW4GNOgsWTC4WnTv1QQaAJ2vA9Hhy1wPaN42XWoD1Acpr69/Pv79/ZgN8ch5qBUhgoIF7BSMAfAT07TDAgRCON8ZtuDWYQwIQHpigKAzgpoCEOGCYoQQJKGidARaaYB12LhAwogShKMhAiqMc8JYDNELwIojJ2EjXAS0UCOGAywxA105EjgBBBAlMZdECR+LESmpQRjklagxE+YB6oyVwZImtCUDAW6K51mF6/6Wp5po2hAAAIfkECQcAAAAsAAAAAGQAZAAABf8gII5kaZ5oqq5s675wLM90bd94ru987//AoHAYE0AWC4iAyKwNCFDCoEmFCSJRQmRZ7aoaBWi40PCaUc/o9OwTNMqvhiE84LYYg4GSnWpEChEQMQ0MVlgJWnZ8I36AgHBAT4iIa4uMjo9CC5MECZWWAI2Oij4GnaefoEcFBYVCAlCIBK6gIwwNpEACCgsGubXAwcLDxMXGx8jJysvMZ7/KDAsRC5A1DQO9z8YMCQ4J39UzBhHTCtrDAgXf3gkKNg3S0hHhx9zs3hE3BvLmzOnd6xbcYDCuXzMI677RenfOGAR1CxY26yFxosWLGDNq3Mixo8ePIEOKHEmyZDEBAwz/GGDQcISAlhMFLHBwwIEDXyyOZFvx4MGJnj5LABU6lETPEUcBJEVa9MQAm1Ad0CshE4mCqUaDZlWqlatXpl9FLB26NGyKCFBr3lyxCwk1nl3F+iwLlO7crmPr4r17NqpNAzkXKMCpoqxcs0ftItaaWLFhEk9p2jyAlSrMukTjNs5qOO9hzipkRiVsMgXKwSxLq17NurXr17Bjy55Nu7ZtIoRWwizZIMGB3wR2f4FQuVjv38gLCD8hR8HVg78RIEdQnAUD5woqHjMgPfpv7S92Oa8ujAHy8+TZ3prYgED331tkp0Mef7YbJctv69/Pv7//HOlI0JNyQ+xCwHPACOCAmV4S5AfDAAhEKF0qfCyg14BANCChhAc4CAQCFz6mgwIbSggYKCGKmAOJJSLgDiggXiiBC9cQ5wJ3LVJ4hoUX5rMCPBIEKcFbPx5QYofAHKAXkissIKSQArGgIYfgsaGAki62JMCTT8J0Wh0cQcClkIK8JuaYEpTpGgMIjIlAlSYNMKaOq6HUpgQIgDkbAxBAAOd/gAYqKA0hAAAh+QQJBwAAACwAAAAAZABkAAAF/yAgjmRpnmiqrmzrvnAsz3Rt33iu73zv/8CgcChrQAYNotImiBQKi+RyCjM4nwOqtmV4Og3bcIpRuDLEaBNDoTjDGg1BWmVQGORDA2GfnZusCxFgQg17BAUEUn4jEYGNQwOHhhCLJFYREQpDEIZ7ipUCVgqfQAt7BYOVYkduqq6vsLGys7S1tre4ubq7UwIDBn04DAOUuwJ7CQQReDUMC8/FuXrJydE0Bs92uwvUBAnBNM7P4LcK3ufkMxDAvMfnBbw9oQsDzPH3+Pn6+/z9/v8AAwocSLCgwYO9IECwh9AEBAcJHCRq0aAOqRMPHmDMaCKjRhIeP47gKIIkyZEeU/8IgMiSABc2mlacRAlgJkebGnGizCmyZk8UAxIIHdoqRR02LGaW5AkyZFOfT5c6pamURFCWES+aCGWgKIqqN3uGfapzqU+xTFEIiChUYo+pO0uM3fnzpMm6VUs8jDixoVoIDBj6HUy4sOHDiBMrXsy4sWMSTSRkLCD4ltcZK0M+QFB5lgIHEFPNWKB5cq7PDg6AFh0DQem8sVaCBn0gQY3XsGExSD0bdI0DryXgks0bYg3SpeHhQj07HQzgIR10lmWAr/MYC1wjWDD9sffv4MOLR3j1m5J1l/0UkMCevXIgDRIcQHCAQHctENrrv55D/oH/B7ynnn7t2fYDAwD+R59zVmEkQCB7BvqgQIIAphdGBA9K4JILcbzQAID0/cfgFvk9aE0KDyFA34kp+AdgBK4MQKCAKEqg4o0sniBAAQBS9goEESQQQY4nJHDjjRGy0EBg/Rx55GFO3ngYAVFuWBiCRx4w4kENFKBiAVuOJ+aYZIoZAgAh+QQJBwAAACwAAAAAZABkAAAF/yAgjmRpnmiqrmzrvnAsz3Rt33iu73zv/8CgcChrMBoNotImUCwiiuRyCoNErhEIdduCPJ9arhgleEYWgrHaxIBAGDFkep1iGBhzobUQkdJLDAtOYUENEXx8fn8iBguOBkMNiImLJF6CA0MCBYh9lSMCEAYQikAMnBFwn2MCRquvsLGys7S1tre4ubq7vDqtpL5HvAIGBMYDeTTECgrJtwwEBcYEzjIMzKO7A9PGpUUGzN61EMbSBOIxoei0ZdOQvTuhAw3V8Pb3+Pn6+/z9/v8AAwocSBCQo0wFUwhI8KDhgwPrerUSUK8EAYcOD/CTRCABGhUMMGJ8d6JhSZMlHP+mVEkCJQCULkVgVFggQUcCC1QoEOlQQYqYMh+8FDrCZEyjRIMWRdoyaZ2bNhOoOmGAZ8OcKIAO3bqUpdKjSXk25XqiQdSb60JaJWlCK9OlZLeChetVrtMSm85iTXFRpMafdYfefRsUqEuYg7WWkGTTk4qFGB1EHEavIpuDCTNr3sy5s+fPoEOLHk063YCaCZD1mlpjk4TXrwtYjgWh5gLWMiDA3o3wFoQECRwExw2jwG7YCXDlFS58r4wEx187wMUgOHDgEWpEiC4h+a281h34pKE7em9b1YUDn7xiwHHZugKdYc/CSoIss0vr38+/v//RTRAQhRIC4AHLAAcgoCCkAuf50IACDkTYzCcCJLiggvTRAKEDB0TIFh0GXLjgeD4wwGGEESaQIREKiKggiT2YiOKJxI0xgIsIfKgCPS+YFWGHwq2oiYULHpCfCFZE+FELBszoQIN0NEDkATWaIACHB2TpwJEAEGOdaqsIMIACYLKwQJZoHuDcCkZweUsBaCKQJQGfEZBmlgV8ZkCCceqYWXVpUgOamNEYIOR/iCaq6KIAhAAAIfkECQcAAAAsAAAAAGQAZAAABf8gII5kaZ5oqq5s675wLM90bd94ru987//AoHBIExCPOMhiAUE6ZYLl0vissqJSqnWLGiwUA64Y1WiMfwKGmSgwgM+otsKwFhoWkYgBbmIo/gxEeXgLfCUNfwp1QQp4eoaHakdRelqQl5iZmpucnZ6foKGioz8LCA8IC5akOAcPr68Oq6CzMguwuAWjEBEFC4syDriwEqICvcg2w7iiDQXPBRHAMKfLD8bR0RE2t8u6ogzPEU01AsK4ErWdAtMzxxKvBeqs9PX29/j5+vv8/f7/AAMKNAEBwryBJAYgkMCwEMIUAxhKlOBQn4AB0cKsWDiRYTsRr07AMjGSBDOT10D/pgyJkmUXAjAJkEMBoaPEmSRTogTgkue1niGB6hwptAXMAgR8qahpU4JGkTpHBI06bGdRlSdV+lQRE6aCjU3n9dRatCzVoT/NqjCAFCbOExE7VoQ6tqTUtC2jbtW6967eE2wjPFWhUOLchzQNIl7MuLHjx5AjS55MubJlGQ3cKDj4kMEBBKARDKZ1ZwDnFQI+hwb9UZMAAglgb6uhcDXor6EUwN49GoYC26AJiFoQu3jvF7Vt4wZloDjstzBS2z7QWtPuBKpseA594LinAQYU37g45/Tl8+jTq19fmUF4yq8PfE5QPQeEAgkKBLpUQL7/BEJAkMCADiSwHx8NyIeAfH8IHOgDfgUm4MBhY0Dg34V7ACEhgQnMxocACyoon4M9EBfhhJdEcOEBwrkwQAQLeHcCAwNKSEB9VRzjHwHmAbCAA0Ci6AIDeCjiGgQ4jjBAkAcAKSNCCgQZ5HKOGQBkk0Bm+BgDUjZJYmMGYOmAlpFlRgd7aKap5poyhAAAIfkECQcAAAAsAAAAAGQAZAAABf8gII5kaZ5oqq5s675wLM90bd94ru987//AoHBIExCPOIHB0EA6ZUqFwmB8WlkCqbR69S0cD8SCy2JMGd3f4cFmO8irRjPdW7TvEaEAYkDTTwh3bRJCEAoLC35/JIJ3QgaICwaLJYGND0IDkRCUJHaNBXoDAxBwlGt3EqadRwIFEmwFq6y0tba3uLm6u7y9viYQEQkFpb8/AxLJybLGI7MwEMrSA81KEQNzNK/SyQnGWQsREZM1CdzJDsYN4RHh2TIR5xLev1nt4zbR59TqCuOcNVxxY1btXcABBBIkGPCsmcOHECNKnEixosWLGDNq3MjxCIRiHV0wIIAAQQKAIVX/MDhQsqQElBUFNFCAjUWBli0dGGSEyUQbn2xKOOI5IigAo0V/pmBQIEIBgigg4MS5MynQoz1FBEWKtatVrVuzel2h4GlTflGntnzGFexYrErdckXaiGjbEv6aEltxc+qbFHfD2hUr+GvXuIfFmmD6NEJVEg1Y4oQJtC3ixDwtZzWqWfGJBksajmhA0iTllCk+ikbNurXr17Bjy55Nu7bt20HkKGCwOiWDBAeC63S4B1vvFAIIBF+e4DEuAQsISCdHI/Ly5ad1QZBeQLrzMssRLFdgDKF0AgUUybB+/YB6XiO7Sz9+QkAE8cEREPh+y8B5hjbYtxxU6kDQAH3I7XEgnG4MNujggxBGCAVvt2XhwIUK8JfEIX3YYsCFB2CoRwEJJEQAgkM0ANyFLL7HgwElxphdGhCwCKIDLu4QXYwEUEeJAAnc6EACOeowAI8n1TKAjQ74uIIAo9Bnn4kRoDgElEEmQIULNWY54wkMjAKSLQq+IMCQQwZp5UVdZpnkbBC4OeSXqCXnJpG1qahQc7c1wAADGkoo6KCEFrpCCAA7AAAAAAAAAAAA);\n    background-position: 50% 50%;\n    background-repeat: no-repeat;\n}\n\ndiv.CanvasXpressCanvasResizerloading2 {\n    box-sizing: content-box;\n    background-image: url(data:image/gif;base64,R0lGODlhZABkAPQAAP///6qqqtjY2MzMzLu7u729vcjIyLOzs6+vr7i4uMXFxcPDw9PT09bW1rW1taqqqtHR0cDAwK2trQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJBwAAACwAAAAAZABkAAAF/yAgjmRpnmiqrmzrvnAsz3Rt33iu73zfMgoDw0csAgSEh/JBEBifucRymYBaaYzpdHjtuhba5cJLXoHDj3HZBykkIpDWAP0YrHsDiV5faB3CB3c8EHuFdisNDlMHTi4NEI2CJwWFewQuAwtBMAIKQZGSJAmVelVGEAaeXKEkEaQSpkUNngYNrCWEpIdGj6C3IpSFfb+CAwkOCbvEy8zNzs/Q0dLT1NUrAgOf1kUMBwjfB8rbOQLe3+C24wxCNwPn7wrjEAv0qzMK7+eX2wb0mzXu8iGIty1TPRvlBKazJgBVnBsN8okbRy6VgoUUM2rcyLGjx48gQ4ocSbKkyZMoJf8JMFCAwAJfKU0gOUDzgAOYHiE8XDGAJoKaalAoObHERFESU0oMFbF06YikKQQsiKCJBYGaNR2ocPr0AQCuQ8F6Fdt1rNeuLSBQjRDB3qSfPm1uPYvUbN2jTO2izQs171e6J9SuxXjCAFaaQYkC9ku2MWCnYR2rkDqV4IoEWG/O5fp3ceS7nuk2Db0YBQS3UVm6xBmztevXsGPLnk27tu3buHOvQU3bgIPflscJ4C3D92/gFNUWgHPj2G+bmhkWWL78xvPjDog/azCdOmsXzrF/dyYgAvUI7Y7bDF5N+QLCM4whM7BxvO77+PPr38+//w4GbhSw0xMQDKCdJAwkcIx2ggMSsQABENLHzALILDhMERAQ0BKE8IUSwYILPjEAhCQ2yMoCClaYmA8NQLhhh5I0oOCCB5rAQI0mGEDiRLfMQhWOI3CXgIYwotBAA/aN09KQCVw4m4wEMElAkTEhIWUCSaL0IJPsySZVlC/5J+aYZJZppgghAAAh+QQJBwAAACwAAAAAZABkAAAF/yAgjmRpnmiqrmzrvnAsz3Rt33iu73zfMhAIw0csAgQDhESCGAiM0NzgsawOolgaQ1ldIobZsAvS7ULE6BW5vDynfUiFsyVgL58rwQLxOCzeKwwHCIQHYCsLbH95Dg+OjgeAKAKDhIUNLA2JVQt4KhGPoYuSJEmWlgYuSBCYLRKhjwikJQqnlgpFsKGzJAa2hLhEuo6yvCKUv549BcOjxgOVhFdFdbAOysYNCgQK2HDMVAXexuTl5ufo6err7O3kAgKs4+48AhEH+ATz9Dj2+P8EWvET0YDBPlX/Eh7i18CAgm42ICT8l2ogAAYPFSyU0WAiPjcDtSkwIHCGAAITE/+UpCeg4EqTKPGptEikpQEGL2nq3Mmzp8+fQIMKHUq0qNGjSJO6E8DA4RyleQw4mOqgk1F4LRo4OEDVwTQUjk48MjGWxC6zD0aEBbBWbdlJBhYsAJlC6lSuDiKoaOuWbdq+fMMG/us37eCsCuRaVWG3q94UfEUIJlz48GHJsND6VaFJ8UEAWrdS/SqWMubNgClP1nz67ebIJQTEnduicdWDZ92aXq17N+G1kV2nwEqnqYGnUJMrX868ufPn0KNLn069Or+N0hksSFCArkWmORgkcJCgvHeWCiIYOB9jAfnx3D+fE5A+woKKNSLAh4+dXYMI9gEonwoKlPeeON8ZAOCgfTc0UB5/OiERwQA5xaCJff3xM6B1HHbo4YcghigiNXFBhEVLGc5yEgEJEKBPFBBEUEAE7M0yAIs44leTjDNGUKEkBrQopDM+NFDAjEf+CMiNQhJAWpE8zqjkG/8JGcGGIjCQIgoMyOhjOkwNMMCWJTTkInJZNYAlPQYU4KKT0xnpopsFTKmUPW8ScOV0N7oJ53TxJAbBmiMWauihiIIYAgAh+QQJBwAAACwAAAAAZABkAAAF/yAgjmRpnmiqrmzrvnAsz3Rt33iu73zv/8AZo4BAFBjBpI5xKBYPSKWURnA6CdNszGrVeltc5zcoYDReiXDCBSkQCpDxShA52AuCFoQribMKEoGBA3IpdQh2B1h6TQgOfisDgpOQhSMNiYkIZy4CnC0Ek4IFliVMmnYGQAmigWull5mJUT6srRGwJESZrz+SrZWwAgSJDp8/gJOkuaYKwUADCQ4JhMzW19jZ2tvc3d7f4NoCCwgPCAs4AwQODqrhIgIOD/PzBzYDDgfsDgrvAAX0AqKjIW0fuzzhJASk56CGwXwOaH1bGLBGQX0H31Gch6CGgYf93gGkOJCGgYIh3/8JUBjQHg6J/gSMlBABob+bOHPq3Mmzp8+fQIMKHUq0qNEUAiBAOHZ0RYN10p41PZGg6jQHNk/M07q1BD2vX0l0BdB1rIiKKhgoMMD0BANpVqmpMHv2AVm7I7aa1Yu3bl6+YvuuUEDYXdq40qqhoHu38d+wfvf2pRjYcYq1a0FNg5vVBGPAfy03lhwa8mjBJxqs7Yzi6WapgemaPh0b9diythnjSAqB9dTfwIMLH068uPHjyJMrX84cnIABCwz4Hj4uAYEEeHIOMAAbhjrr1lO+g65gQXcX0a5fL/nOwIL3imlAUG/d8DsI7xfAlEFH/SKcEAywHw3b9dbcgQgmqOByggw26KAIDAxwnnAGEGAhe0AIoEAE0mXzlBsWTojDhhFwmE0bFroR3w8RLNAiLtg8ZaGFbfVgwIv2WaOOGzn+IIABCqx4TRk1pkXYgMQNUUAERyhnwJIFFNAjcTdGaWJydCxZ03INBFjkg2CGKeaYCYYAACH5BAkHAAAALAAAAABkAGQAAAX/ICCOZGmeaKqubOu+cCzPdG3feK7vfO//wBnDUCAMBMGkTkA4OA8EpHJKMzyfBqo2VkBcEYWtuNW8HsJjoIDReC2e3kPEJRgojulVPeFIGKQrEGYOgCoMBwiJBwx5KQMOkJBZLQILkAuFKQ2IiYqZjQANfA4HkAltdKgtBp2tA6AlDJGzjD8KrZ0KsCSipJCltT63uAiTuyIGsw66asQHn6ACCpEKqj8DrQevxyVr0D4NCgTV3OXm5+jp6uvs7e7v6gIQEQkFEDgNCxELwfACBRICBtxGQ1QCPgn6uRsgsOE9GgoQ8inwLV2ChgLRzKCHsI9Cdg4wBkxQw9LBPhTh/wG4KHIODQYnDz6Ex1DkTCEL6t189w+jRhsf/Q04WACPyqNIkypdyrSp06dQo0qdSrWqVUcL+NER0MAa1AYOHoh9kKCiiEoE6nl1emDsWAIrcqYlkDKF2BNjTeQl4bbEXRF//47oe8KABLdjg4qAOTcBAcWAH+iVLBjA3cqXJQ/WbDkzX84oFCAey+wEg8Zp136e3Pnz3sitN28mDLsyiQWjxRo7EaFxXRS2W2OmDNqz7NrDY5swkPsB5FC91a6gHRm08OKvYWu3nd1EW8Rw9XA1q1TAd7Flr76wo1W9+/fw48ufT7++/fv48+s/wXUABPLwCWAAAQRiolQD/+FDIKRdBOz0TjgKkGNDAwsSSJBKEESowHOUEFjEY0lJEyGAegyw4G5HNcAAiS0g2ACL+8Uo44w01mjjjTi+wMCKMs5TQAQO+iCPAQme00AEP/4IIw0DZLVAkLA0kGQBBajGQ5MLKIDiMUcmGYGVO0CQZXvnCIAkkFOsYQCH0XQVAwP+sRlgVvssadU8+6Cp3zz66JmfNBFE8EeMKrqZ46GIJqrooi6EAAAh+QQJBwAAACwAAAAAZABkAAAF/yAgjmRpnmiqrmzrvnAsz3Rt33iu73zv/0Baw2BoBI88g2N5MCCfNgZz6WBArzEl1dHEeluGw9Sh+JpTg+1y8GpABGdWQxFZWF0L7nLhEhAOgBFwcScNCYcOCXctAwsRbC5/gIGEJwuIh3xADJOdg5UjEQmJowlBYZ2AEKAkeZgFQZypB0asIgyYCatBCakEtiQMBQkFu0GGkwSfwGYQBovM0dLT1NXW19jZ2ts+AgYKA8s0As6Q3AADBwjrB9AzogkEytwN6uvs4jAQ8fxO2wr3ApqTMYAfgQSatBEIeK8MjQEHIzrUBpAhgoEyIkSct62BxQP5YAhoZCDktQEB2/+d66ZAQZGVMGPKnEmzps2bOHPq3Mmzp88v5Iz9ZLFAgtGLjCIU8IezqFGjDzCagCBPntQSDx6cyKoVa1avX0mEBRB2rAiuXU00eMoWwQoF8grIW2H2rFazX/HeTUs2Lde+YvmegMCWrVATC+RWpSsYsN6/I/LyHYtWL+ATAwo/PVyCatWrgU1IDm3Zst2+k/eiEKBZgtsVA5SGY1wXcmTVt2v77aq7cSvNoIeOcOo6uPARAhhwPs68ufPn0KNLn069uvXrfQpklSAoRwOT1lhXdgC+BQSlEZZb0175QcJ3Sgt039Y+6+sZDQrI119LW/26MUQQ33zaSFDfATY0kFh2euewV9l748AkwAGVITidAAA9gACE2HXo4YcghijiiN0YEIEC5e3QAAP9RWOiIxMd0xKK0zhSRwRPMNCSAepVYoCNTMnoUopxNDLbEysSuVIDLVLXyALGMSfAAgsosICSP01J5ZXWQUBlj89hSeKYZJZpJoghAAAh+QQJBwAAACwAAAAAZABkAAAF/yAgjmRpnmiqrmzrvnAsz3Rt33iu73zv/0Bag8FoBI+8RmKZMCKfNQbTkSAIoNgYZElNOBjZcGtLLUPE6JSg601cXQ3IO60SQAzyF9l7bgkMbQNzdCUCC1UJEWAuAgOCLwYOkpIDhCdbBIiVQFIOB5IHVpYlBpmmC0EMk6t9oyIDplUGqZ+ek06uAAwEpqJBCqsOs7kjDAYLCoM/DQa1ycSEEBCL0NXW19jZ2tvc3d7fPwJDAsoz4hC44AIFB+0R5TGwvAbw2Q0E7fnvNQIEBbwEqHVj0A5BvgPpYtzj9W+TNwUHDR4QqBAgr1bdIBzMlzCGgX8EFtTD1sBTPgQFRv/6YTAgDzgAJfP5eslDAAMFDTrS3Mmzp8+fQIMKHUq0qNGjSJMisYNR6YotCBAE9GPAgE6fEKJqnbiiQYQCYCmaePDgBNmyJc6mVUuC7Ai3AOC+ZWuipAStUQusGFDgawQFK+TOjYtWhFvBhwsTnlsWseITDfDibVoCAtivgFUINtxY8VnHiwdz/ty2MwoBkrVSJtEAbNjAjxeDnu25cOLaoU2sSa236wCrKglvpss5t/DHcuEO31z57laxTisniErganQSNldf3869u/fv4MOLH0++vHk/A5YQeISjQfBr6yTIl5/Sxp2/76sNmM9fuwsDESyAHzgJ8DdfbzN4JWCkBBFYd40DBsqXgA0DMIhMfsQUGGEENjRQIR4v7Rehfy9gWE18/DkEnh0RJELieTDGKOOMNAa1DlkS1Bceap894ICJUNjhCJAyFNAjWahAA8ECTKrow5FkIVDNMcgMAwSUzFnCAJMLvHiDBFBKWQ1LLgERAZRJBpVTiQ70eMBQDSigAHSnLYCAj2kCJYCcBjwz3h98EnkUM1adJ2iNiCaq6KKLhgAAIfkECQcAAAAsAAAAAGQAZAAABf8gII5kaZ5oqq5s675wLM90bd94ru987//AoHAYEywShIWAyKwtCMjEokmFCaJQwrLKVTWy0UZ3jCqAC+SfoCF+NQrIQrvFWEQU87RpQOgbYg0MMAwJDoUEeXoiX2Z9iT0LhgmTU4okEH0EZgNCk4WFEZYkX5kEEEJwhoaVoiIGmklDEJOSgq0jDAOnRBBwBba3wcLDxMXGx8jJysvMzUJbzgAGn7s2DQsFEdXLCg4HDt6cNhHZ2dDJAuDqhtbkBe+Pxgze4N8ON+Tu58jp6+A3DPJtU9aNnoM/OBrs4wYuAcJoPYBBnEixosWLGDNq3Mixo8ePIEOKxGHEjIGFKBj/DLyY7oDLA1pYKIgQQcmKBw9O4MxZYmdPnyRwjhAKgOhQoCcWvDyA4IC4FAHtaLvJM2hOo0WvVs3K9ehRrVZZeFsKc0UDmnZW/jQhFOtOt2C9ingLt+uJsU1dolmhwI5NFVjnxhVsl2tdwkgNby0RgSyCpyogqGWbOOvitlvfriVc2LKKli9jjkRhRNPJ0ahTq17NurXr17Bjy55NG0UDBQpOvx6AoHdTiTQgGICsrIFv3wdQvoCwoC9xZAqO+34Ow0DfBQ+VEZDeW4GNOgsWTC4WnTv1QQaAJ2vA9Hhy1wPaN42XWoD1Acpr69/Pv79/ZgN8ch5qBUhgoIF7BSMAfAT07TDAgRCON8ZtuDWYQwIQHpigKAzgpoCEOGCYoQQJKGidARaaYB12LhAwogShKMhAiqMc8JYDNELwIojJ2EjXAS0UCOGAywxA105EjgBBBAlMZdECR+LESmpQRjklagxE+YB6oyVwZImtCUDAW6K51mF6/6Wp5po2hAAAIfkECQcAAAAsAAAAAGQAZAAABf8gII5kaZ5oqq5s675wLM90bd94ru987//AoHAYE0AWC4iAyKwNCFDCoEmFCSJRQmRZ7aoaBWi40PCaUc/o9OwTNMqvhiE84LYYg4GSnWpEChEQMQ0MVlgJWnZ8I36AgHBAT4iIa4uMjo9CC5MECZWWAI2Oij4GnaefoEcFBYVCAlCIBK6gIwwNpEACCgsGubXAwcLDxMXGx8jJysvMZ7/KDAsRC5A1DQO9z8YMCQ4J39UzBhHTCtrDAgXf3gkKNg3S0hHhx9zs3hE3BvLmzOnd6xbcYDCuXzMI677RenfOGAR1CxY26yFxosWLGDNq3Mixo8ePIEOKHEmyZDEBAwz/GGDQcISAlhMFLHBwwIEDXyyOZFvx4MGJnj5LABU6lETPEUcBJEVa9MQAm1Ad0CshE4mCqUaDZlWqlatXpl9FLB26NGyKCFBr3lyxCwk1nl3F+iwLlO7crmPr4r17NqpNAzkXKMCpoqxcs0ftItaaWLFhEk9p2jyAlSrMukTjNs5qOO9hzipkRiVsMgXKwSxLq17NurXr17Bjy55Nu7ZtIoRWwizZIMGB3wR2f4FQuVjv38gLCD8hR8HVg78RIEdQnAUD5woqHjMgPfpv7S92Oa8ujAHy8+TZ3prYgED331tkp0Mef7YbJctv69/Pv7//HOlI0JNyQ+xCwHPACOCAmV4S5AfDAAhEKF0qfCyg14BANCChhAc4CAQCFz6mgwIbSggYKCGKmAOJJSLgDiggXiiBC9cQ5wJ3LVJ4hoUX5rMCPBIEKcFbPx5QYofAHKAXkissIKSQArGgIYfgsaGAki62JMCTT8J0Wh0cQcClkIK8JuaYEpTpGgMIjIlAlSYNMKaOq6HUpgQIgDkbAxBAAOd/gAYqKA0hAAAh+QQJBwAAACwAAAAAZABkAAAF/yAgjmRpnmiqrmzrvnAsz3Rt33iu73zv/8CgcChrQAYNotImiBQKi+RyCjM4nwOqtmV4Og3bcIpRuDLEaBNDoTjDGg1BWmVQGORDA2GfnZusCxFgQg17BAUEUn4jEYGNQwOHhhCLJFYREQpDEIZ7ipUCVgqfQAt7BYOVYkduqq6vsLGys7S1tre4ubq7UwIDBn04DAOUuwJ7CQQReDUMC8/FuXrJydE0Bs92uwvUBAnBNM7P4LcK3ufkMxDAvMfnBbw9oQsDzPH3+Pn6+/z9/v8AAwocSLCgwYO9IECwh9AEBAcJHCRq0aAOqRMPHmDMaCKjRhIeP47gKIIkyZEeU/8IgMiSABc2mlacRAlgJkebGnGizCmyZk8UAxIIHdoqRR02LGaW5AkyZFOfT5c6pamURFCWES+aCGWgKIqqN3uGfapzqU+xTFEIiChUYo+pO0uM3fnzpMm6VUs8jDixoVoIDBj6HUy4sOHDiBMrXsy4sWMSTSRkLCD4ltcZK0M+QFB5lgIHEFPNWKB5cq7PDg6AFh0DQem8sVaCBn0gQY3XsGExSD0bdI0DryXgks0bYg3SpeHhQj07HQzgIR10lmWAr/MYC1wjWDD9sffv4MOLR3j1m5J1l/0UkMCevXIgDRIcQHCAQHctENrrv55D/oH/B7ynnn7t2fYDAwD+R59zVmEkQCB7BvqgQIIAphdGBA9K4JILcbzQAID0/cfgFvk9aE0KDyFA34kp+AdgBK4MQKCAKEqg4o0sniBAAQBS9goEESQQQY4nJHDjjRGy0EBg/Rx55GFO3ngYAVFuWBiCRx4w4kENFKBiAVuOJ+aYZIoZAgAh+QQJBwAAACwAAAAAZABkAAAF/yAgjmRpnmiqrmzrvnAsz3Rt33iu73zv/8CgcChrMBoNotImUCwiiuRyCoNErhEIdduCPJ9arhgleEYWgrHaxIBAGDFkep1iGBhzobUQkdJLDAtOYUENEXx8fn8iBguOBkMNiImLJF6CA0MCBYh9lSMCEAYQikAMnBFwn2MCRquvsLGys7S1tre4ubq7vDqtpL5HvAIGBMYDeTTECgrJtwwEBcYEzjIMzKO7A9PGpUUGzN61EMbSBOIxoei0ZdOQvTuhAw3V8Pb3+Pn6+/z9/v8AAwocSBCQo0wFUwhI8KDhgwPrerUSUK8EAYcOD/CTRCABGhUMMGJ8d6JhSZMlHP+mVEkCJQCULkVgVFggQUcCC1QoEOlQQYqYMh+8FDrCZEyjRIMWRdoyaZ2bNhOoOmGAZ8OcKIAO3bqUpdKjSXk25XqiQdSb60JaJWlCK9OlZLeChetVrtMSm85iTXFRpMafdYfefRsUqEuYg7WWkGTTk4qFGB1EHEavIpuDCTNr3sy5s+fPoEOLHk063YCaCZD1mlpjk4TXrwtYjgWh5gLWMiDA3o3wFoQECRwExw2jwG7YCXDlFS58r4wEx187wMUgOHDgEWpEiC4h+a281h34pKE7em9b1YUDn7xiwHHZugKdYc/CSoIss0vr38+/v//RTRAQhRIC4AHLAAcgoCCkAuf50IACDkTYzCcCJLiggvTRAKEDB0TIFh0GXLjgeD4wwGGEESaQIREKiKggiT2YiOKJxI0xgIsIfKgCPS+YFWGHwq2oiYULHpCfCFZE+FELBszoQIN0NEDkATWaIACHB2TpwJEAEGOdaqsIMIACYLKwQJZoHuDcCkZweUsBaCKQJQGfEZBmlgV8ZkCCceqYWXVpUgOamNEYIOR/iCaq6KIAhAAAIfkECQcAAAAsAAAAAGQAZAAABf8gII5kaZ5oqq5s675wLM90bd94ru987//AoHBIExCPOMhiAUE6ZYLl0vissqJSqnWLGiwUA64Y1WiMfwKGmSgwgM+otsKwFhoWkYgBbmIo/gxEeXgLfCUNfwp1QQp4eoaHakdRelqQl5iZmpucnZ6foKGioz8LCA8IC5akOAcPr68Oq6CzMguwuAWjEBEFC4syDriwEqICvcg2w7iiDQXPBRHAMKfLD8bR0RE2t8u6ogzPEU01AsK4ErWdAtMzxxKvBeqs9PX29/j5+vv8/f7/AAMKNAEBwryBJAYgkMCwEMIUAxhKlOBQn4AB0cKsWDiRYTsRr07AMjGSBDOT10D/pgyJkmUXAjAJkEMBoaPEmSRTogTgkue1niGB6hwptAXMAgR8qahpU4JGkTpHBI06bGdRlSdV+lQRE6aCjU3n9dRatCzVoT/NqjCAFCbOExE7VoQ6tqTUtC2jbtW6967eE2wjPFWhUOLchzQNIl7MuLHjx5AjS55MubJlGQ3cKDj4kMEBBKARDKZ1ZwDnFQI+hwb9UZMAAglgb6uhcDXor6EUwN49GoYC26AJiFoQu3jvF7Vt4wZloDjstzBS2z7QWtPuBKpseA594LinAQYU37g45/Tl8+jTq19fmUF4yq8PfE5QPQeEAgkKBLpUQL7/BEJAkMCADiSwHx8NyIeAfH8IHOgDfgUm4MBhY0Dg34V7ACEhgQnMxocACyoon4M9EBfhhJdEcOEBwrkwQAQLeHcCAwNKSEB9VRzjHwHmAbCAA0Ci6AIDeCjiGgQ4jjBAkAcAKSNCCgQZ5HKOGQBkk0Bm+BgDUjZJYmMGYOmAlpFlRgd7aKap5poyhAAAIfkECQcAAAAsAAAAAGQAZAAABf8gII5kaZ5oqq5s675wLM90bd94ru987//AoHBIExCPOIHB0EA6ZUqFwmB8WlkCqbR69S0cD8SCy2JMGd3f4cFmO8irRjPdW7TvEaEAYkDTTwh3bRJCEAoLC35/JIJ3QgaICwaLJYGND0IDkRCUJHaNBXoDAxBwlGt3EqadRwIFEmwFq6y0tba3uLm6u7y9viYQEQkFpb8/AxLJybLGI7MwEMrSA81KEQNzNK/SyQnGWQsREZM1CdzJDsYN4RHh2TIR5xLev1nt4zbR59TqCuOcNVxxY1btXcABBBIkGPCsmcOHECNKnEixosWLGDNq3MjxCIRiHV0wIIAAQQKAIVX/MDhQsqQElBUFNFCAjUWBli0dGGSEyUQbn2xKOOI5IigAo0V/pmBQIEIBgigg4MS5MynQoz1FBEWKtatVrVuzel2h4GlTflGntnzGFexYrErdckXaiGjbEv6aEltxc+qbFHfD2hUr+GvXuIfFmmD6NEJVEg1Y4oQJtC3ixDwtZzWqWfGJBksajmhA0iTllCk+ikbNurXr17Bjy55Nu7bt20HkKGCwOiWDBAeC63S4B1vvFAIIBF+e4DEuAQsISCdHI/Ly5ad1QZBeQLrzMssRLFdgDKF0AgUUybB+/YB6XiO7Sz9+QkAE8cEREPh+y8B5hjbYtxxU6kDQAH3I7XEgnG4MNujggxBGCAVvt2XhwIUK8JfEIX3YYsCFB2CoRwEJJEQAgkM0ANyFLL7HgwElxphdGhCwCKIDLu4QXYwEUEeJAAnc6EACOeowAI8n1TKAjQ74uIIAo9Bnn4kRoDgElEEmQIULNWY54wkMjAKSLQq+IMCQQwZp5UVdZpnkbBC4OeSXqCXnJpG1qahQc7c1wAADGkoo6KCEFrpCCAA7AAAAAAAAAAAA);\n    background-position: 50% 50%;\n    background-repeat: no-repeat;\n}\n\n\n/*\n * Motion\n */\n\ndiv.CanvasXpressMotion {\n    color: rgb(34, 34, 34);\n    font: normal 12px arial, tahoma, sans-serif;\n}\n\nimg.CanvasXpressMotion, svg.CanvasXpressMotion {\n    margin: 0px !important;\n    background: rgba(0, 0, 0, 0) !important;\n    border: 0px none !important;\n    box-shadow: 0 0 0px rgba(0, 0, 0, 0) !important;\n}\n\ndiv.CanvasXpressMotionContainer {\n    box-sizing: content-box;\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAOCAYAAADuQ3ZcAAAAF0lEQVR42mNkAAJGNOLChQv/cRNYdAAA0dgUqRX/AM0AAAAASUVORK5CYII=);\n    background-repeat: repeat-x;\n}\n\ndiv.CanvasXpressMotionCurrent {\n    box-sizing: content-box;\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAlUlEQVR42mNkgIIDBw78ZyACODg4MCLzGWGa7e3tidHPcPDgQRRDGEGaTc0tidIMA6dPHocbAjZAV9eQJAMuXz5PZQM0NA1IMuDG9QuoBqioqJBkwJ07d1ANkJRWJ8mA509vUtkAUVFFkgx4/fo+qgG8fHIkGfD50yMqGgAiQIaws4oTpfnn75eoSRnGoCgzUQIoNgAAbjRcEcsB8BEAAAAASUVORK5CYII=);\n    background-repeat: no-repeat;\n    float: left;\n    height: 14px;\n    position: relative;\n    width: 14px;\n    z-index: 1000002;\n}\n\ndiv.CanvasXpressMotionRange {\n    box-sizing: content-box;\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAOCAYAAADuQ3ZcAAAAFklEQVR42mNkAAJGNMKxcdd/3AQWHQAD/g7xOirtNAAAAABJRU5ErkJggg==);\n    background-repeat: repeat-x;\n    float: left;\n    height: 14px;\n    left: 0px;\n    top: -1px;\n    position: relative;\n    z-index: 1000001;\n}\n\n\n/*\n* Marker\n*/\n\ndiv.CanvasXpressMarker {\n    box-sizing: content-box;\n    border: 1px solid rgb(51, 122, 183);\n    border-radius: 5px;\n    background-color: rgba(255, 255, 255, 0.95);\n    color: rgb(34, 34, 34);\n    cursor: move;\n    font: normal 12px arial, tahoma, sans-serif;\n    height: 400px;\n    width: 286px;\n    left: 0px;\n    line-height: 100%;\n    position: absolute;\n    top: 0px;\n    padding: 2px;\n    -moz-user-select: none;\n    -khtml-user-select: none;\n    -webkit-user-select: none;\n    -o-user-select: none;\n}\n\n\n/*\n * Toolbar \n */\n\n\n/*\ndiv.CanvasXpressToolbar {\n\n}\n*/\n\n/*\ndiv.CanvasXpressToolbar img.CanvasXpressToolbarImage, div.CanvasXpressToolbar svg.CanvasXpressToolbarImage {\n    transition: all 0.3s;\n    -moz-transition: all 0.3s;\n    -webkit-transition: all 0.3s;\n    -o-transition: all 0.3s;\n    -ms-transition: all 0.3s;\n}\n\ndiv.CanvasXpressToolbar img.CanvasXpressToolbarImage:hover, div.CanvasXpressToolbar svg.CanvasXpressToolbarImage:hover{\n    margin: 0 7px;\n    transform: scale(1.2);\n    -webkit-box-reflect: below 0px -webkit-gradient(linear, left top, left bottom, from(transparent), to(rgba(255, 255, 255, 0.7)));\n}\n\ndiv.CanvasXpressToolbar img.CanvasXpressToolbarImage:hover+img.CanvasXpressToolbarImage, div.CanvasXpressToolbar svg.CanvasXpressToolbarImage:hover+svg.CanvasXpressToolbarImage {\n    margin: 0 6px;\n    transform: scale(1.1);\n    -webkit-box-reflect: below 0px -webkit-gradient(linear, left top, left bottom, from(transparent), to(rgba(255, 255, 255, 0.7)));\n    }\n*/    \n\ndiv.CanvasXpressToolbar img.CanvasXpressToolbarImage, div.CanvasXpressToolbar svg.CanvasXpressToolbarImage {\n    background: rgba(0, 0, 0, 0) !important;\n    border: 0px none !important;\n    box-shadow: 0 0 0px rgba(0, 0, 0, 0) !important;\n    cursor: pointer;\n    float: right;\n    margin: 5px 8px 0px 0px;\n    -moz-user-select: none;\n    -khtml-user-select: none;\n    -webkit-user-select: none;\n    -o-user-select: none;\n    -ms-user-select: none;\n}\n\n/*\n * Data Table DOE\n */\n\ntable.CanvasXpressDataTableDOE {\n    border-spacing: 0 !important;\n    font-size: 12px !important;\n    padding: 0 !important;\n    border: none !important;\n}\n\nth.CanvasXpressDataTableDOE {\n    padding: 0 !important;\n    font-size: 12px !important;\n    font-weight: bolder !important;\n    padding-left: 5px !important;\n    padding-right: 5px !important;\n    height: 18px !important;\n    line-height: 18px !important;\n    white-space: nowrap !important;\n    overflow: hidden !important;\n    max-height: 18px !important;\n    border: none !important;\n}\n\ntd.CanvasXpressDataTableDOE {\n    padding: 0 !important;\n    font-size: 12px !important;\n    padding-left: 5px !important;\n    padding-right: 18px !important;\n    height: 18px  !important;\n    line-height: 18px !important;\n    white-space: nowrap !important;\n    overflow: hidden !important;\n    max-height: 18px !important;\n    border: none !important;\n}\n\ntr.CanvasXpressDataTableDOE {\n    font-size: 12px !important;\n}\n\n/*\n * Data Table\n */\n\ndiv.CanvasXpressDataTable {\n    box-sizing: content-box;\n    border: 1px solid rgb(51, 122, 183);\n    border-radius: 5px;\n    background-color: rgba(255, 255, 255, 0.95);\n    clear: both;\n    color: rgb(34, 34, 34);\n    overflow: hidden;\n    position: absolute;\n    -moz-user-select: none;\n    -khtml-user-select: none;\n    -webkit-user-select: none;\n    -o-user-select: none;\n}\n\ndiv.CanvasXpressDataTableToolbar {\n    box-sizing: content-box;\n    border: 0px;\n    border-radius: 5px 5px 0px 0px;\n    background-color: rgba(255, 255, 255, 0.95);\n    color: rgb(34, 34, 34);\n    cursor: move;\n    height: 32px;\n    left: 0px;\n    line-height: 100%;\n    position: absolute;\n    top: 0px;\n    padding: 2px;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -khtml-user-select: none;\n    -webkit-user-select: none;\n    -o-user-select: none;\n}\n\nimg.CanvasXpressDataTableToolbarImage, svg.CanvasXpressDataTableToolbarImage {\n    background: rgba(0, 0, 0, 0) !important;\n    border: 0px none !important;\n    box-shadow: 0 0 0px rgba(0, 0, 0, 0) !important;\n    cursor: pointer;\n    float: right;\n    margin: 5px 8px 0px 0px !important;\n    user-select: none;\n    -moz-user-select: none;\n    -khtml-user-select: none;\n    -webkit-user-select: none;\n    -o-user-select: none;\n    -ms-user-select: none;\n}\n\ndiv.CanvasXpressDataTableContainer {\n    box-sizing: content-box;\n    border-radius: 0px 0px 5px 5px;\n    color: rgb(34, 34, 34);\n    display: block;\n    left: 0px;\n    line-height: 100%;\n    position: absolute;\n    top: 35px;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -khtml-user-select: none;\n    -webkit-user-select: none;\n    -o-user-select: none;\n}\n\ndiv.CanvasXpressDataTableVertical {\n    box-sizing: content-box;\n    background-color: rgba(255, 255, 255, 0.95);\n    overflow-x: hidden;\n    overflow-y: auto;\n    position: absolute;\n    right: 6px;\n    top: 0px;\n    width: 32px;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -khtml-user-select: none;\n    -webkit-user-select: none;\n    -o-user-select: none;\n}\n\nimg.CanvasXpressDataTableVertical {\n  max-height: unset !important;\n}\n\ndiv.CanvasXpressDataTableHorizontal {\n    box-sizing: content-box;\n    background-color: rgba(255, 255, 255, 0.95);\n    bottom: 12px;\n    height: 32px;\n    left: 32px;\n    overflow-x: auto;\n    overflow-y: hidden;\n    position: absolute;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -khtml-user-select: none;\n    -webkit-user-select: none;\n    -o-user-select: none;\n}\n\nimg.CanvasXpressDataTableHorizontal {\n  max-width: unset !important;\n}\n\ndiv.CanvasXpressDataTableResizer {\n    box-sizing: content-box;\n    background-color: rgba(255, 255, 255, 0.95);\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAAR0lEQVR42pXPQQoAIAhEUb25nrwyKIpMndkJz8VnAtbGGMGqSqWHhW3pw4lFhBnBYYOHvw0/7DZE+GnI8NVQwbuhimcDgu3uM5KV++8QfCcAAAAASUVORK5CYII=);\n    background-repeat: no-repeat;\n    cursor: se-resize;\n    bottom: 4px;\n    height: 15px;\n    position: absolute;\n    opacity: 0.95;\n    right: 0px;\n    width: 15px;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -khtml-user-select: none;\n    -webkit-user-select: none;\n    -o-user-select: none;\n}\n\ntable.CanvasXpressDataTable {\n    border: 0px;\n    border-spacing: 1px;\n    color: rgb(34, 34, 34);\n    left: 1px;\n    position: absolute;\n    opacity: 0.95;\n    table-layout: fixed;\n    top: 1px;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -khtml-user-select: none;\n    -webkit-user-select: none;\n    -o-user-select: none;\n}\n\ndiv.CanvasXpressDataTableMask {\n    box-sizing: content-box;\n    border: 0px;\n    left: 32px;\n    position: absolute;\n    top: 0px;\n    overflow: hidden;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -khtml-user-select: none;\n    -webkit-user-select: none;\n    -o-user-select: none;\n}\n\nth.CanvasXpressTableCellHead {\n    background: linear-gradient(rgb(240, 240, 240), rgb(230, 230, 230));\n    border: 1px solid #ccc;\n    color: rgb(34, 34, 34);\n    font-style: bold;\n    opacity: 0.95;\n    padding: 2px;\n    text-align: left;\n    vertical-align: middle;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -khtml-user-select: none;\n    -webkit-user-select: none;\n    -o-user-select: none;\n}\n\nth.CanvasXpressTableCellHeadActive {\n    background: linear-gradient(rgb(243, 253, 255), rgb(217, 232, 251));\n    border: 1px solid #ccc;\n    color: rgb(34, 34, 34);\n    font-style: bold;\n    opacity: 0.95;\n    padding: 2px;\n    text-align: left;\n    vertical-align: middle;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -khtml-user-select: none;\n    -webkit-user-select: none;\n    -o-user-select: none;\n}\n\na.CanvasXpressTableCellHead {\n    background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAeCAYAAADzXER0AAAAVElEQVR42mNkAIL/QMAIBAwkAsZRzaOah5BmEBunYjQLUDSDaGW3Dpw23d1VgWIAVpuxGYCuEaef0Q3AphFvgMEMwKWRYGgTioVBFM+jmkc1U1UzAAG5nB8y5eufAAAAAElFTkSuQmCC) no-repeat left center;\n    cursor: pointer;\n    display: none;\n    height: 20px;\n    position: absolute;\n    opacity: 0.95;\n    right: 4px;\n    white-space: normal;\n    width: 14px;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -khtml-user-select: none;\n    -webkit-user-select: none;\n    -o-user-select: none;\n}\n\na.CanvasXpressTableCellHeadActive {\n    background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAeCAYAAADzXER0AAAAVElEQVR42mNkAIL/QMAIBAwkAsZRzaOah5BmEBunYjQLUDSDaGW3Dpw23d1VgWIAVpuxGYCuEaef0Q3AphFvgMEMwKWRYGgTioVBFM+jmkc1U1UzAAG5nB8y5eufAAAAAElFTkSuQmCC) no-repeat left center;\n    cursor: pointer;\n    display: block;\n    height: 20px;\n    position: absolute;\n    opacity: 0.95;\n    right: 4px;\n    white-space: normal;\n    width: 14px;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -khtml-user-select: none;\n    -webkit-user-select: none;\n    -o-user-select: none;\n}\n\ntd.CanvasXpressTableCell {\n    border-bottom: 1px solid #ccc;\n    border-right: 1px solid #ccc;\n    color: rgb(34, 34, 34);\n    padding: 2px;\n    vertical-align: middle;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -khtml-user-select: none;\n    -webkit-user-select: none;\n    -o-user-select: none;\n}\n\ntd.CanvasXpressTableCellActive {\n    background-color: #dfe8f9;\n    border-bottom: 1px solid #ccc;\n    border-right: 1px solid #ccc;\n    color: rgb(34, 34, 34);\n    padding: 2px;\n    opacity: 0.95;\n    vertical-align: middle;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -khtml-user-select: none;\n    -webkit-user-select: none;\n    -o-user-select: none;\n}\n\ndiv.CanvasXpressTableCell {\n    box-sizing: content-box;\n    color: rgb(34, 34, 34);\n    line-height: 20px;\n    margin: 2px 2px 1px 5px;\n    overflow: hidden;\n    position: relative;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n}\n\ndiv.CanvasXpressTableCellSortAsc {\n    box-sizing: content-box;\n    background: url(data:image/gif;base64,R0lGODlhDQAFAIcAAGGQzUD/QOPu+wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAMAAAEALAAAAAANAAUAAAgbAAMIDABgoEGDABIeRJhQ4cKGEA8KmEiRosGAADs=) no-repeat right 7px;\n    color: rgb(34, 34, 34);\n    margin: 2px 2px 1px 5px;\n    overflow: hidden;\n    position: relative;\n    white-space: nowrap;\n}\n\ndiv.CanvasXpressTableCellSortDesc {\n    box-sizing: content-box;\n    background: url(data:image/gif;base64,R0lGODlhDQAFAIcAAGGQzUD/QOPu+wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAMAAAEALAAAAAANAAUAAAgeAAUAGEgQgIAACBEKLHgwYcKFBh1KFNhQosOKEgMCADs=) no-repeat right 7px;\n    color: rgb(34, 34, 34);\n    margin: 2px 2px 1px 5px;\n    overflow: hidden;\n    position: relative;\n    white-space: nowrap;\n}\n\n/*\n * Configurator\n */\n\ndiv.CanvasXpressConfigurator {\n    box-sizing: content-box;\n    background-color: rgba(255, 255, 255, 0.95);\n    border-radius: 5px;\n    border: 1px solid rgb(51, 122, 183);\n    box-shadow: rgba(154, 154, 154, 0.2) 3px 3px;\n    color: rgb(34, 34, 34);\n    cursor: default;\n    font: normal 12px arial, tahoma, sans-serif;\n    opacity: 0.95;\n    line-height: 24px;\n    text-align: left;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -khtml-user-select: none;\n    -webkit-user-select: none;\n    -o-user-select: none;\n}\n\nspan.CanvasXpressConfigurator {\n    cursor: default;\n    font: normal 12px arial, tahoma, sans-serif;\n    color: rgb(34, 34, 34);\n    -moz-user-select: none;\n    -khtml-user-select: none;\n    -webkit-user-select: none;\n    -o-user-select: none;\n}\n\ntextarea.CanvasXpressConfigurator {\n    background-color: rgba(255, 255, 255, 0.95);\n    border-radius: 5px;\n    border: 1px solid rgb(51, 122, 183);\n    box-shadow: rgba(154, 154, 154, 0.2) 3px 3px;\n    color: rgb(34, 34, 34);\n    cursor: default;\n    font: normal 12px arial, tahoma, sans-serif;\n}\n\nimg.CanvasXpressConfigurator, svg.CanvasXpressConfigurator {\n    background: rgba(0, 0, 0, 0) !important;\n    border: 0px none !important;\n    box-shadow: 0 0 0px rgba(0, 0, 0, 0) !important;\n    cursor: default;\n    float: right;\n    margin: 0px 0px 0px 5px !important;\n    -moz-user-select: none;\n    -khtml-user-select: none;\n    -webkit-user-select: none;\n    -o-user-select: none;\n}\n\nselect.CanvasXpressConfigurator {\n    background-color: rgba(255, 255, 255, 0.95);\n    border: 1px solid rgb(51, 122, 183);\n    color: rgb(34, 34, 34);\n    cursor: default;\n    font: normal 12px arial, tahoma, sans-serif;\n    padding-left: 3px;\n}\n\ninput.CanvasXpressConfigurator {\n    background-color: rgba(255, 255, 255, 0.95);\n    border: 1px solid rgb(51, 122, 183);\n    color: rgb(34, 34, 34);\n    cursor: default;\n    font: normal 12px arial, tahoma, sans-serif;\n    padding-left: 3px;\n}\n\ndiv.CanvasXpressConfiguratorOptions {\n    box-sizing: content-box;\n    cursor: default;\n    font: normal 12px arial, tahoma, sans-serif;\n    color: rgb(34, 34, 34);\n    height: 100px;\n    margin-top: 8px;\n    overflow: auto;\n    width: 180px;\n}\n\ndiv.CanvasXpressConfiguratorFilter {\n    box-sizing: content-box;\n    background-color: rgba(255, 255, 255, 0.95);\n    border-radius: 5px;\n    border: 1px solid rgb(51, 122, 183);\n    box-shadow: rgba(154, 154, 154, 0.2) 3px 3px;\n    color: rgb(34, 34, 34);\n    font: normal 12px arial, tahoma, sans-serif;\n}\n\nselect.CanvasXpressConfiguratorFilter {\n    border: 1px solid rgb(51, 122, 183);\n    font: normal 12px arial, tahoma, sans-serif;\n    color: rgb(34, 34, 34);\n}\n\ninput.CanvasXpressConfiguratorFilter {\n    border: 1px solid rgb(51, 122, 183);\n    font: normal 12px arial, tahoma, sans-serif;\n    color: rgb(34, 34, 34);\n}\n\ndiv.CanvasXpressConfiguratorExample {\n    box-sizing: content-box;\n    background-color: rgba(255, 255, 255, 0.95);\n    border-radius: 5px;\n    border: 1px solid rgb(51, 122, 183);\n    box-shadow: rgba(154, 154, 154, 0.2) 3px 3px;\n    color: rgb(34, 34, 34);\n    font: normal 12px arial, tahoma, sans-serif;\n    overflow-y: scroll;\n    overflow-x: hidden;\n}\n\nspan.CanvasXpressConfiguratorExample {\n    cursor: default;\n    font: bold 14px arial, tahoma, sans-serif;\n    color: rgb(34, 34, 34);\n    line-height: 18px;\n    -moz-user-select: none;\n    -khtml-user-select: none;\n    -webkit-user-select: none;\n    -o-user-select: none;\n}\n\ndiv.CanvasXpressConfiguratorExampleContent {\n    overflow: hidden;\n}\n\ndiv.CanvasXpressConfiguratorColor {\n    box-sizing: content-box;\n    border: 1px solid rgb(51, 122, 183);\n    font: normal 12px arial, tahoma, sans-serif;\n    color: rgb(34, 34, 34);\n    line-height: 18px;\n}\n\ndiv.CanvasXpressConfiguratorColorMain {\n    box-sizing: content-box;\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALUAAABlCAIAAACEDzXRAAAKQ0lEQVR42u2d23IjKwxFBeRh5v8/9uQlzXlI2gGELoCEm6pxubp6PI69WoV3C20uIQPAH4A/AH/p41/pDcTxP4BPGDtq3vYJGPpv8craeRdo/fyTI8ZhHnodOGgcV/3rnx8QI0SABO2xfAbiCfVR8Wj+CD8jenbRJNyGOxLoAaH1iLu4EUEHAv1+MsQ4zLE4AiIOcpibv4u9OET6+cP4ASnJ1JH4/G60A9km+GbBxLlpKAkADoR2JnaBrvWD/x1GCZn9EYLEHqVfI6Efx0D7E9tDF/rBSJ54l8FqTUse0J+EvxPrdK0fD4aOLXQi7zyGxMaRvvWjjH2U8o9I44OKnf+wyCpHoR/Phk6d/COq8481YrNI3/qR2B+kMl1Fl6J8o/JrU/GEA6HdiB2ha/0YBVx7rFwNHAj9JuIl6EI/qKyJug4Yvg7xA0QEpB8nQe8itoQu9EOT8M3mTsqUSUzykH6cBO1PbA9d91+ShDzV9xrtcgW21IT6L0yfcS90FKCdw+wS6Q9ISWjVfLTVVT2mdiPGGRduFKWm7dBStWlLmI0j/QExdgp7gT5qCu2BLKiLqtc94hI7PB8auQP4KuyIvSJ960fUqXWcd2F48Khr1bHSj2dDp/afmg7tMrFxpG/9mHMFuqrH3spFw0s0Bgr9OAzamdgFutaPpMuqo6WVEXWJdSL14xhof2J76MKfS2yXWGOVB1WXXGOVdxFSx587CXoLsTE0689RH7VW4RMLeKI9wPpzz4XeS2wDzdbXR52AWStjwiSAA6HdiB2h1f6cqT0whzzuzz0LejuxATTy90Xt40v7CzdGRvKS4O/zQ0AiXaRW5x/dv4vS4A/a308LYR5pFquRRvlHIrKWoCj5woCVId4eR/KPNDjURg2tdEC7rSQN5B9DYR70X5YivVxft7AyrOvrD4V2JnaBJurr+qpemLEywlRhT6qvPx16C7ExdK0fSjcj0maAzsqgBt7rfIxGP46B9iT2gi70I842bNj0U4wd/WAG/L5VP3p0W4iNoYv6Oh6eoJmSMW5laIzF8iT1TtgeV9RZoZ7QvdEUzsQu0CP+HOMKDFoZvDFg6s89CNqf2B5a4e8Hts84W0pgeohBtspBXYp8H3Tk/H23MBtHuvbn5mp7dlU9TUkP+XNJMabzHdCIbnuYDSItzZ+bdgUWrAwNPhwInRxw1/wXuYGj+4vo7flboRpjEQ6EjgojYK9/K04NFfNTauEBypXQWQLAfqQoHl9CfvpQ6C3ExtC9/q2YW2u6X1JWzfsYFPKX3L99LrQ/sT10XR+jKh+UN2AxlDOyXfLQaxxf/fkvT4d2JnaBZv258M6h4IFu2Em7/sezoLcQG0Mjfy6xrqLnVBLGWHw1i69WP5LCCn0TNEL3DLNXpCV/n5oo5jAVLY5Em6i8Pwm6uSNuCrNxpNX+nDira20qqyZriv384xhoZ2IX6Lr/wg8eiwpXYGQqPEgjsBrX+er3X46B9ie2h6bX/4i6IfcLS2mIY++7TfoCuLj6hwgN89CwBJ3Gx8rOVsn0kQ48tDS/4X1L8SzMb3BbkGdtwsD05AbP9YOU8xui+uljZei/P/3qx2HQbsSO0Ar/lveHLZYCVK4GeN1P5N+eAb2R2Aya9ueUY+8dlhLtdhWvgfEfz4AeGf9hR2wcaeTPpacvRdzLTx8J/Qq1Ij995PrJ3/mp0p8LO5YyF0s215g/9yxoZ2IXaLo+FiwtgTlvIAznp4+G3khsBk3Pf5mYvqOwMqZnNnw3i9cRDoT2JPaCZuvreskDuXkHxfQMvfbBgdBbiI2hC/3QLCg6lESZZkrfJ7nSj3gWNEMcRkYJsf5L0BXENBl1WV8/aquMLM9/eSJ0UtxZmFGGg4MigZ75ovHnvsOcUX09zRbzjCrU/K/Rev0gT2i2vu4cZrNI1+sH2e49Yb3lRC6e9fSS9ETohjj7hdkx0rQ/57/rxIrhBQdCv494Hlrtz1lo30Qjz1z+cRh02ndTNIMm1j8NxtmePs+76i+/esJHrH/6dGh/YntoRf9l2RtQWgJXzY4bdtbqx0OhnYldoHv7I79jf4+rOGGaRWr14yToLcTG0Ky/v32rjAsdX9S5vgI4ENqT2Asa7Z/9vq0yStiGNNVHkOe/RGmqwBQ0jEDHFpoJ85BLN+jPaRoHGWl2/2yx3msxVRHjZ0Td4GfV/Bf9bCM1dBiBfrHeJ1HR6dKEedDf5yPdBLilp/efC3Ribb1VxlUHGQe8iTb0598+Hdqf2B6a3b9SOerezsoIBWaJ3IBn1fp0j4PeQmwMzc5/idLK3UZWRkmKX2zA4Vc/DoPeSGwGrdvfY24RpKmVjrLuCQdCuxE7Qkv64TZ3Z44dVPrxUOh3EK9C1/lHGpz7ZzpVsYTF7K8Hyj+Ogd5FbAk9uL9H9LIyYg821sjo13gYtD+xPbRU/9Ds/b1sZTTIr5OStMGHA6GdiV2gUf2UmQcfJdUbXOoe6HoN1A0b2uQD4EBosXJqQTwKnXvXAEX+oZlfGaS9ewetDGCLeV1exH4e9Mr+2TDpv2iggYFW+LdBsTbngv/yUroGH0jleEX7MOgtxMbQ7PzKoMuajKyM8pYIiB194HnQzsQu0Gp/LvpulVHylsgK/TgG2p/YHrqXf6T3bJUBhfxFWUDPg95CbAytm/+ycasM9WOxWu0PnTniLWE2iLRi/4Z3bJXRvY76s0+Arl93I3aMNOHPBce2PdSkL7Kpnwe9l9gGutCPoFgkUtytXAGbex0vKCznSOs00o+ToLcQG0N/QErCrG6jrTIynVUDwo896vCzssPrNnAYtD+xPfR9fwmKeu/CVhm5OAn1STPkvhxBW1KXjeP60Y/DoJ2JXaAL/RCPy+PXc80L9d7OV294dVPbC/fb4EDoLcTG0IV+TCDrrIxMHIFg512BWj9OgvYk9oK+9SMoZG55q/JMiGS40/sLjacu28T3MVfd0Aha+u3QJXr+0Q//MBtHutaPQOzh3H0RBoZS5OJ/MjqJ9x2vQb7qgSuvX0StH0+FLptzrvTDh9gl0oV+iAbi2lAsqNmbK3yBAyLNdbRzW8Y6Btqf2B76A2IURE2zZY16KGfZlwqofJSL4feABka+xCNX+ekx0LuILaFr/Zit7s4ZA7y5Qg2sDr/t4zDodxCvQt/6occctDKGriMPzH85D9qN2BG61g/QwcLSVDSGl78C6LePY6A3EptBf0BKcjWWH/GqyJqoxKnMufEVBLJxAJwJ7U9sDH3fX0CxnIB4orMyuilTyRh6g+0bfDgQ2p/YHrrQD+jV6qb/SdRrMit8TRWwyEabxgFwJrQnsQt0rR+LR3VqFNiGHRBv73ge9EZiM+haPyicuRcVmIxzAMTMl9wfi3sGtBuxF3ShH92C29yJTteU+ohbRrZk3Qe9hdgY+tYPnOqanA+mTN33ZGKE06HQbsQu0LV+MF8+94rU5dK8B8/KyJaI+6D9ie2hC/3Q12QnSnYLn5p9P/6d0D7EltAh5wz/Hv8exON/LUjHOuz5CksAAAAASUVORK5CYII=);\n    background-repeat: no-repeat;\n    box-sizing: content-box;\n    border: none;\n    font: normal 12px arial, tahoma, sans-serif;\n    color: rgb(34, 34, 34);\n    float: left;\n    cursor: crosshair;\n}\n\ndiv.CanvasXpressConfiguratorColorExtra {\n    box-sizing: content-box;\n    background-image: url(data:image/gif;base64,R0lGODlhDwAPAKEBAAAAAP///////////yH5BAEKAAIALAAAAAAPAA8AAAIklB8Qx53b4otSUWcvyiz4/4AeQJbmKY4p1HHapBlwPL/uVRsFADs=);\n    background-repeat: no-repeat;\n    border: none;\n    font: normal 12px arial, tahoma, sans-serif;\n    color: rgb(34, 34, 34);\n    cursor: crosshair;\n    overflow: hidden;\n}\n\ndiv.accordionHead {\n    box-sizing: content-box;\n    margin-top: 2px;\n    height: 24px;\n    overflow: hidden;\n    float: left;\n    cursor: pointer;\n    vertical-align: middle;\n    text-align: left;\n    display: table-cell;\n    -moz-user-select: none;\n    -khtml-user-select: none;\n    -webkit-user-select: none;\n    -o-user-select: none;\n}\n\ndiv.accordionContent {\n    box-sizing: content-box;\n    overflow: auto;\n}\n\ndiv.hoverable:hover {\n    box-sizing: content-box;\n    background-color: #dfe8f6;\n}\n\ndiv.CanvasXpressContainer {\n    box-sizing: content-box;\n    position: relative;\n    float: left;\n}\n\ndiv.CanvasXpressContainerNT {\n    box-sizing: content-box;\n    position: relative;\n    float: left;\n}\n\ndiv.CanvasXpressHandlerVerticalOpen {\n    box-sizing: content-box;\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAHCAYAAAAxrNxjAAAANklEQVR42mNkIBIwgoi0tLT/IHrWrFmMyJLI4igKkRWjizGi60YHMI1YrUJXhKEQn3sxFOICAH1yHAgCw6JnAAAAAElFTkSuQmCC);\n    position: relative;\n    float: left;\n    background-position: 50% 50%;\n    background-repeat: no-repeat;\n}\n\ndiv.CanvasXpressHandlerVerticalClose {\n    box-sizing: content-box;\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAHCAYAAAAxrNxjAAAAN0lEQVR42mNkIBIwogukpaX9B9GzZs1ixKkQpggGkBUz4lKErpgRXRFMAl0MRRDdXcjijAxEAgClNhwIDjZ11QAAAABJRU5ErkJggg==);\n    position: relative;\n    float: left;\n    background-position: 50% 50%;\n    background-repeat: no-repeat;\n}\n\ndiv.CanvasXpressHandlerHorizontalOpen {\n    box-sizing: content-box;\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAKCAYAAAB4zEQNAAAAMElEQVR42mNkwAMYQURaWtp/ED1r1ixGnJLoCuAMbApQjEFXQJwkTmPxOgivV3ABAClDIAsKqUy5AAAAAElFTkSuQmCC);\n    position: relative;\n    float: left;\n    background-position: 50% 50%;\n    background-repeat: no-repeat;\n}\n\ndiv.CanvasXpressHandlerHorizontalClose {\n    box-sizing: content-box;\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAKCAYAAAB4zEQNAAAAL0lEQVR42mNkwAMY0QXS0tL+g+hZs2YxMmKTwJBEl4Abi02COEm8xhJ0EEGvoAMAyTQgC6MMiAUAAAAASUVORK5CYII=);\n    position: relative;\n    float: left;\n    background-position: 50% 50%;\n    background-repeat: no-repeat;\n}\n\ndiv.CanvasXpressWrapper {\n    box-sizing: content-box;\n    position: relative;\n    float: left;\n    line-height: 100%;\n}\n\n/***************/\n/* Data Filter */\n/***************/\n\ndiv.CanvasXpressDataFilter {\n    box-sizing: content-box;\n    color: rgb(34, 34, 34);\n    font: normal 12px arial, tahoma, sans-serif;\n    line-height: 100%;\n    margin: 0px;\n    padding: 0px;\n    position: absolute;\n    -moz-user-select: none;\n    -khtml-user-select: none;\n    -webkit-user-select: none;\n    -o-user-select: none;\n}\n\ndiv.CanvasXpressDataFilterToolbar {\n    box-sizing: content-box;\n    /*background: linear-gradient(rgb(240, 240, 240), rgb(230,230,230));*/\n    border: 1px solid rgb(51, 122, 183);\n    border-radius: 4px;\n    color: rgb(34, 34, 34);\n    cursor: move;\n    font: normal 12px arial, tahoma, sans-serif;\n    height: 32px;\n    left: 0px;\n    line-height: 100%;\n    margin: 0px;\n    padding: 2px;\n    position: absolute;\n    opacity: 0.95;\n    top: 0px;\n}\n\nspan.CanvasXpressDataFilterToolbarText {\n    font: normal 12px arial, tahoma, sans-serif;\n    color: rgb(34, 34, 34);\n    left: 8px;\n    line-height: 100%;\n    position: relative;\n    top: 9px;\n}\n\nimg.CanvasXpressDataFilterToolbarImage, svg.CanvasXpressDataFilterToolbarImage {\n    background: rgba(0, 0, 0, 0) !important;\n    border: 0px none !important;\n    box-shadow: 0 0 0px rgba(0, 0, 0, 0) !important;\n    cursor: pointer;\n    margin: 5px 8px 0px 0px !important;\n    float: right;\n}\n\nspan.CanvasXpressDataFilterText {\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAASElEQVR42mNkoBAwUt2A/0AAlgACsg0A6QWZQ4whOA2AsgkagtcAYgwhaAAhQ4gyAJ8htHcBRWFAUSxQlA7AEuSmRFLBwBsAAMDpRxF7e4BAAAAAAElFTkSuQmCC);\n    background-repeat: no-repeat;\n    background-position: -3px;\n    font: normal 12px arial, tahoma, sans-serif;\n    color: rgb(34, 34, 34);\n    left: 8px;\n    line-height: 100%;\n    position: relative;\n    top: 9px;\n}\n\nspan.CanvasXpressDataFilterTextActive {\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAASUlEQVR42mNkoBAwjhqAMOA/EBCtCQiwGoAkjhOA7MFqADGGoGvGGga4DMGmGWcgohuCSzNOA5ANwacZrwFIhuBVM4gS0oAZAAD1oisRsByngAAAAABJRU5ErkJggg==);\n    background-repeat: no-repeat;\n    background-position: -3px;\n    font: normal 12px arial, tahoma, sans-serif;\n    color: rgb(34, 34, 34);\n    left: 8px;\n    line-height: 100%;\n    position: relative;\n    top: 9px;\n}\n\ndiv.CanvasXpressDataFilterContainer {\n    box-sizing: content-box;\n    border: 0px;\n    left: 0px;\n    margin: 0px;\n    padding: 0px;\n    position: absolute;\n    top: 38px;\n}\n\ninput[type=checkbox].CanvasXpressCheckbox {\n    position: absolute;\n    overflow: hidden;\n    clip: rect(0, 0, 0, 0);\n    height: 1px;\n    width: 1px;\n    margin: -1px;\n    padding: 0;\n    border: 0;\n}\n\ninput[type=checkbox].CanvasXpressDataFilterContainerItem {\n    position: absolute;\n    overflow: hidden;\n    clip: rect(0, 0, 0, 0);\n    height: 1px;\n    width: 1px;\n    margin: -1px;\n    padding: 0;\n    border: 0;\n}\n\ninput[type=checkbox].CanvasXpressDataFilterContainerItemSelected {\n    position: absolute;\n    overflow: hidden;\n    clip: rect(0, 0, 0, 0);\n    height: 1px;\n    width: 1px;\n    margin: -1px;\n    padding: 0;\n    border: 0;\n}\n\ninput[type=checkbox].CanvasXpressCheckbox+label.CanvasXpressCheckboxLabel {\n    padding-left: 18px;\n    height: 13px;\n    display: inline-block;\n    line-height: 24px;\n    background-repeat: no-repeat;\n    background-position: 0 0;\n    font: normal 12px arial, tahoma, sans-serif;\n    color: rgb(34, 34, 34);\n    vertical-align: middle;\n    margin: 2px;\n    cursor: pointer;\n}\n\ninput[type=checkbox].CanvasXpressDataFilterContainerItem+label.CanvasXpressCheckboxLabel {\n    padding-left: 18px;\n    height: 13px;\n    display: inline-block;\n    line-height: 24px;\n    background-repeat: no-repeat;\n    background-position: 0 0;\n    font: normal 12px arial, tahoma, sans-serif;\n    color: rgb(34, 34, 34);\n    vertical-align: middle;\n    margin: 2px;\n    cursor: pointer;\n}\n\ninput[type=checkbox].CanvasXpressDataFilterContainerItemSelected+label.CanvasXpressCheckboxLabel {\n    padding-left: 18px;\n    height: 13px;\n    display: inline-block;\n    line-height: 24px;\n    background-repeat: no-repeat;\n    background-position: 0 0;\n    font: normal 12px arial, tahoma, sans-serif;\n    color: rgb(34, 34, 34);\n    vertical-align: middle;\n    margin: 2px;\n    cursor: pointer;\n}\n\ninput[type=checkbox].CanvasXpressCheckbox:checked+label.CanvasXpressCheckboxLabel {\n    background-position: 0 -13px;\n}\n\ninput[type=checkbox].CanvasXpressDataFilterContainerItemSelected:checked+label.CanvasXpressCheckboxLabel {\n    background-position: 0 -13px;\n}\n\nlabel.CanvasXpressCheckboxLabel {\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAA0CAYAAABRnrIZAAACXElEQVR42uWUT2iSYRzHv+8Sm3O2aYSMBJU8jOqyRhc1ELGCBZuH/mCYB7WiY4XQNTpKdAtmuoMJwuogDUYHUSMlIoajSx2EKXMLOvhvW0OU94n3ffPd1uvr+3Zc+x1e3ufh+Tzv+zy/D18KfyqXy5FSqYR6vY6/S6vVwmKxwOFwUMyYfSQSCWI2m2Gz2SiIVD6fJ+VyGV6vl6KYLygUCtjtdlFgP9jpdEDFYjESCAQkgV4x66lwOExCoZBsiFn/X0LRaJQEg8F/u71MJkOYgdPplASz2SyhaZozIh6PE4PBMBBkNq9Wq/D5fBS/KJ1Ok0qlglqtJgB0Oh2MRiNcLteee0wdUmGffd4mp9UU/OfVFH/lg5q7Vm+Tq0vbmDMrEb6kofjmDoJuv2+Q73Uab66ocOakqj/09FOLTGqHcGtylPq4/osEsrt4cE6Jh9MaflMB9PhDkyxVupg1KbC5Q2Njh2Dx8jD0YyPiEFPzq03y/GuXfX9hVeKaRXPg10WFXdnYIvPfuoi4tIKzHglhrVar6HkKhQIEwk5NX5S6BxRXvoAX1u2+Lgn0KpV6C7a5fv892dDCQoSD7vjuyoZex19xkMfjkQ0lk0kOmnV7ZUPvUgkOmpm5KRtaXl4EK+zUBadsaLWYBS/s2LhJEmg1KxAIqzo+IQrstn/gSAv7snQMTMLOTXBhIylsa2gYvYR9cpZm5ySFfVQEegmr7rbZOYGwsfUTYBLWNtrAGtGhl7A39E1+I4Gwkc0R9EvYxs89qK+w+c449iesqX2w2eLC6k+BSdj7OmGjD4GwvwHoyQhLMetK1QAAAABJRU5ErkJggg==);\n    background-repeat: no-repeat;\n    white-space: nowrap;\n}\n\ndiv.CanvasXpressDataFilterContainerMaskNoOverflow {\n    box-sizing: content-box;\n    border: 1px solid #d0d0d0;\n    margin: 5px;\n    overflow: hidden;\n}\n\ndiv.CanvasXpressDataFilterContainerMaskNoOverflowOut {\n    box-sizing: content-box;\n    border: none;\n    margin: 5px;\n    overflow: hidden;\n}\n\ndiv.CanvasXpressDataFilterContainerMask {\n    box-sizing: content-box;\n    border: 1px solid #d0d0d0;\n    margin: 5px;\n    overflow-x: hidden;\n    overflow-y: scroll;\n}\n\ndiv.CanvasXpressDataFilterContainerItem {\n    box-sizing: content-box;\n    color: #4181ba;\n    height: 15px;\n    padding: 1px 0px 0px 1px;\n    overflow: hidden;\n    white-space: nowrap;\n}\n\ndiv.CanvasXpressDataFilterContainerItemSelected {\n    box-sizing: content-box;\n    background-color: #dfe8f6;\n    color: #4181ba;\n    height: 15px;\n    padding: 1px 0px 0px 1px;\n    overflow: hidden;\n    white-space: nowrap;\n}\n\ndiv.CanvasXpressDataFilterContainerHoverable {\n    box-sizing: content-box;\n    border: 1px solid rgb(51, 122, 183);\n    margin: 2px;\n    margin-bottom: 4px;\n}\n\ndiv.CanvasXpressDataFilterContainerHoverableOut {\n    box-sizing: content-box;\n    border: none;\n    margin: 2px;\n    margin-bottom: 4px;\n}\n\ndiv.CanvasXpressDataFilterContainerHoverable:hover {\n    box-sizing: content-box;\n    background-color: #dfe8f6;\n}\n\ndiv.CanvasXpressDataFilterContainerNumeric {\n    box-sizing: content-box;\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAOCAYAAADuQ3ZcAAAAF0lEQVR42mNkAAJGNOLChQv/cRNYdAAA0dgUqRX/AM0AAAAASUVORK5CYII=);\n    background-repeat: repeat-x;\n    clear: both;\n    height: 18px;\n    margin: 2px;\n}\n\ndiv.CanvasXpressDataFilterContainerMin {\n    box-sizing: content-box;\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAlUlEQVR42mNkgIIDBw78ZyACODg4MCLzGWGa7e3tidHPcPDgQRRDGEGaTc0tidIMA6dPHocbAjZAV9eQJAMuXz5PZQM0NA1IMuDG9QuoBqioqJBkwJ07d1ANkJRWJ8mA509vUtkAUVFFkgx4/fo+qgG8fHIkGfD50yMqGgAiQIaws4oTpfnn75eoSRnGoCgzUQIoNgAAbjRcEcsB8BEAAAAASUVORK5CYII=);\n    background-repeat: no-repeat;\n    float: left;\n    height: 14px;\n    position: relative;\n    width: 14px;\n    z-index: 10002;\n}\n\ndiv.CanvasXpressDataFilterContainerMax {\n    box-sizing: content-box;\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAlUlEQVR42mNkgIIDBw78ZyACODg4MCLzGWGa7e3tidHPcPDgQRRDGEGaTc0tidIMA6dPHocbAjZAV9eQJAMuXz5PZQM0NA1IMuDG9QuoBqioqJBkwJ07d1ANkJRWJ8mA509vUtkAUVFFkgx4/fo+qgG8fHIkGfD50yMqGgAiQIaws4oTpfnn75eoSRnGoCgzUQIoNgAAbjRcEcsB8BEAAAAASUVORK5CYII=);\n    background-repeat: no-repeat;\n    float: left;\n    height: 14px;\n    position: relative;\n    width: 14px;\n    z-index: 10002;\n}\n\ndiv.CanvasXpressDataFilterContainerRange {\n    box-sizing: content-box;\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAOCAYAAADuQ3ZcAAAAFklEQVR42mNkAAJGNMKxcdd/3AQWHQAD/g7xOirtNAAAAABJRU5ErkJggg==);\n    background-repeat: repeat-x;\n    float: left;\n    height: 14px;\n    left: 0px;\n    position: relative;\n    z-index: 10001;\n}\n\ninput.CanvasXpressDataFilterContainerMinValue {\n    border: 1px solid rgba(255, 255, 255, 0.95);\n    color: rgb(51, 122, 183);\n    float: left;\n    font: normal 12px arial, tahoma, sans-serif;\n    margin-bottom: 2px;\n    margin-left: 1px;\n    line-height: 100%;\n    width: 40px;\n}\n\ninput.CanvasXpressDataFilterContainerMaxValue {\n    border: 1px solid rgba(255, 255, 255, 0.95);\n    color: rgb(51, 122, 183);\n    float: right;\n    font: normal 12px arial, tahoma, sans-serif;\n    margin-bottom: 2px;\n    margin-right: 1px;\n    line-height: 100%;\n    text-align: right;\n    width: 40px;\n}\n\ndiv.CanvasXpressDataFilterContainerScaleNone {\n    box-sizing: content-box;\n    background-image: url(data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==);\n    background-repeat: no-repeat;\n    background-position: 98% 50%;\n}\n\ndiv.CanvasXpressDataFilterContainerScaleLinearLog {\n    box-sizing: content-box;\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAQCAYAAAAMJL+VAAAAcElEQVR42mNkoDFgpIsFa9eu/R8cHEyqZf+JcSDdLWAC4n8kWgDS8xeXZRg+ALFBNC4+AR+AxAqBuB9KT0CxgBCNxwJsbDA9zC0gIQ6ItwCmGxufbAuQUtR/ZBMIBBFRAK8muliAI3ioYwE1AM0tAAB/xqIRdKGeOwAAAABJRU5ErkJggg==);\n    background-repeat: no-repeat;\n    background-position: 98% 50%;\n}\n\ndiv.CanvasXpressDataFilterContainerScaleLogLinear {\n    box-sizing: content-box;\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAQCAYAAAAMJL+VAAAAdElEQVR42mNkoDFgpJcF/0m1bO3atf+Dg4MJ6qG7BUxA/I9EC5iA7L+4LMPmAxC7EIgn4ODj9AFIDJkPkke3gBCN1QJsbBg9/C2AyVUCcQe1LEBOAO1AXIGWIMiygAGLBdh8RjIgpIkuFhCjjmwLKAY0twAAISOOEQIlMUAAAAAASUVORK5CYII=);\n    background-repeat: no-repeat;\n    background-position: 98% 50%;\n}\n\nselect.CanvasXpressDataFilterContainerString {\n    background-color: rgba(255, 255, 255, 0.95);\n    font: normal 12px arial, tahoma, sans-serif;\n    color: rgb(34, 34, 34);\n    margin-left: 3px;\n    margin-bottom: 3px;\n}\n\ndiv.CanvasXpressDataFilterHead {\n    box-sizing: content-box;\n    /*background: linear-gradient(rgb(240, 240, 240), rgb(230,230,230));*/\n    border: 1px solid rgb(51, 122, 183);\n    border-radius: 4px;\n    color: rgb(34, 34, 34);\n    cursor: pointer;\n    float: left;\n    height: 30px;\n    margin-top: 2px;\n    overflow: hidden;\n    opacity: 0.95;\n    padding: 2px;\n    text-align: left;\n    vertical-align: middle;\n    -moz-user-select: none;\n    -khtml-user-select: none;\n    -webkit-user-select: none;\n    -o-user-select: none;\n}\n\ndiv.CanvasXpressDataFilterHeadActive {\n    box-sizing: content-box;\n    background: linear-gradient(rgb(243, 253, 255), rgb(217, 232, 251));\n    border: 1px solid rgb(51, 122, 183);\n    border-radius: 4px 4px 0px 0px;\n    color: rgb(34, 34, 34);\n    cursor: pointer;\n    float: left;\n    height: 30px;\n    margin-top: 2px;\n    overflow: hidden;\n    opacity: 0.95;\n    padding: 2px;\n    text-align: left;\n    vertical-align: middle;\n    -moz-user-select: none;\n    -khtml-user-select: none;\n    -webkit-user-select: none;\n    -o-user-select: none;\n}\n\ndiv.CanvasXpressDataFilterContent {\n    box-sizing: content-box;\n    background-color: rgba(255, 255, 255, 0.95);\n    border: 1px solid rgb(51, 122, 183);\n    border-radius: 0px 0px 4px 4px;\n    border-top: 0px;\n    color: rgb(51, 122, 183);\n    font: normal 12px arial, tahoma, sans-serif;\n    overflow-y: scroll;\n    overflow-x: hidden;\n    padding: 2px;\n}\n\n\n/**\n * Scrollbars\n */\n\n\n/* All scrollbar buttons*/\n\ndiv.CanvasXpressDataTableHorizontal::-webkit-scrollbar-button,\ndiv.CanvasXpressDataTableVertical::-webkit-scrollbar-button,\ndiv.CanvasXpressDataFilterContent::-webkit-scrollbar-button,\ndiv.CanvasXpressDataFilterContainerMask::-webkit-scrollbar-button,\ndiv.CanvasXpressDataFilterContainerMaskNoOverflow::-webkit-scrollbar-button,\ndiv.CanvasXpressDataExplorer::-webkit-scrollbar-button,\nselect.CanvasXpressConfigurator::-webkit-scrollbar-button,\ndiv.CanvasXpressConfiguratorExample::-webkit-scrollbar-button,\ndiv.CanvasXpressConfiguratorExampleContent::-webkit-scrollbar-button,\nselect.CanvasXpressSlider::-webkit-scrollbar-button,\ndiv.CanvasXpressBinNameContainer::-webkit-scrollbar-button {\n    width: 4px;\n    height: 4px;\n}\n\n\n/* Tracks can be of two different colors */\n\ndiv.CanvasXpressDataFilterContent::-webkit-scrollbar-track,\ndiv.CanvasXpressDataFilterContainerMask::-webkit-scrollbar-track,\ndiv.CanvasXpressDataFilterContainerMaskNoOverflow::-webkit-scrollbar-track,\nselect.CanvasXpressConfigurator::-webkit-scrollbar-track,\nselect.CanvasXpressSlider::-webkit-scrollbar-track {\n    background-color: #FFFFFF;\n}\n\ndiv.CanvasXpressDataTableHorizontal::-webkit-scrollbar-track,\ndiv.CanvasXpressDataTableVertical::-webkit-scrollbar-track,\ndiv.CanvasXpressDataExplorer::-webkit-scrollbar-track,\ndiv.CanvasXpressConfiguratorExample::-webkit-scrollbar-track,\ndiv.CanvasXpressConfiguratorExampleContent::-webkit-scrollbar-track,\ndiv.CanvasXpressBinNameContainer::-webkit-scrollbar-track {\n    background-color: #F5F5F5;\n}\n\n\n/* All tracks -hovers */\n\ndiv.CanvasXpressDataTableHorizontal::-webkit-scrollbar-track:hover,\ndiv.CanvasXpressDataTableVertical::-webkit-scrollbar-track:hover,\ndiv.CanvasXpressDataFilterContent::-webkit-scrollbar-track:hover,\ndiv.CanvasXpressDataFilterContainerMask::-webkit-scrollbar-track:hover,\ndiv.CanvasXpressDataFilterContainerMaskNoOverflow::-webkit-scrollbar-track:hover,\ndiv.CanvasXpressDataExplorer::-webkit-scrollbar-track:hover,\nselect.CanvasXpressConfigurator::-webkit-scrollbar-track:hover,\ndiv.CanvasXpressConfiguratorExample::-webkit-scrollbar-track:hover,\ndiv.CanvasXpressConfiguratorExampleContent::-webkit-scrollbar-track:hover,\nselect.CanvasXpressSlider::-webkit-scrollbar-track:hover,\ndiv.CanvasXpressBinNameContainer::-webkit-scrollbar-track:hover {\n    background-color: #BEBEBE;\n    border-radius: 8px;\n}\n\n\n/* scrollbar background could be of two different colors but match the style tracks above */\n\ndiv.CanvasXpressDataFilterContent::-webkit-scrollbar,\ndiv.CanvasXpressDataFilterContainerMask::-webkit-scrollbar,\ndiv.CanvasXpressDataFilterContainerMaskNoOverflow::-webkit-scrollbar,\nselect.CanvasXpressConfigurator::-webkit-scrollbar,\nselect.CanvasXpressSlider::-webkit-scrollbar {\n    width: 8px;\n    height: 8px;\n    background-color: #FFFFFF;\n}\n\ndiv.CanvasXpressDataTableHorizontal::-webkit-scrollbar,\ndiv.CanvasXpressDataTableVertical::-webkit-scrollbar,\ndiv.CanvasXpressDataExplorer::-webkit-scrollbar,\ndiv.CanvasXpressConfiguratorExample::-webkit-scrollbar,\ndiv.CanvasXpressConfiguratorExampleContent::-webkit-scrollbar,\ndiv.CanvasXpressBinNameContainer::-webkit-scrollbar {\n    width: 8px;\n    height: 8px;\n    background-color: #F5F5F5;\n}\n\n\n/* All tracks thumbs */\n\ndiv.CanvasXpressDataTableHorizontal::-webkit-scrollbar-thumb,\ndiv.CanvasXpressDataTableVertical::-webkit-scrollbar-thumb,\ndiv.CanvasXpressDataFilterContent::-webkit-scrollbar-thumb,\ndiv.CanvasXpressDataFilterContainerMask::-webkit-scrollbar-thumb,\ndiv.CanvasXpressDataFilterContainerMaskNoOverflow::-webkit-scrollbar-thumb,\ndiv.CanvasXpressDataExplorer::-webkit-scrollbar-thumb,\nselect.CanvasXpressConfigurator::-webkit-scrollbar-thumb,\ndiv.CanvasXpressConfiguratorExample::-webkit-scrollbar-thumb,\ndiv.CanvasXpressConfiguratorExampleContent::-webkit-scrollbar-thumb,\nselect.CanvasXpressSlider::-webkit-scrollbar-thumb,\ndiv.CanvasXpressBinNameContainer::-webkit-scrollbar-thumb {\n    background-color: #337AB7;\n    border-radius: 4px;\n    border: none;\n}\n\ndiv.CanvasXpressDataFilter::selection,\ndiv.CanvasXpressDataFilterToolbar::selection {\n    background: rgba(0, 0, 0, 0);\n    color: rgb(34, 34, 34);\n}\n\ndiv.CanvasXpressDataFilterContainerItem::selection {\n    background: rgba(0, 0, 0, 0);\n    color: #4181ba;\n}\n\n\n/*\n * Menu\n */\n\ndiv.CanvasXpressLink {\n    box-sizing: content-box;\n    background-color: rgba(255, 255, 255, 0.95);\n    background-image: url(data:image/gif;base64,R0lGODlh+gABAIcAAOLj4/Dw8P///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAAAAP8ALAAAAAD6AAEAAAgfAAMIHEiwoMGBAAQcXMiwocOHECNKnEixosWLGCMGBAA7);\n    background-repeat: repeat-y;\n    border: 1px solid rgb(51, 122, 183);\n    border-radius: 3px;\n    box-shadow: rgba(154, 154, 154, 0.2) 3px 3px;\n    color: rgb(34, 34, 34);\n    cursor: default;\n    font: normal 12px arial, tahoma, sans-serif;\n    line-height: 100%;\n    margin: 0px;\n    opacity: 0.95;\n    padding: 0px;\n    position: absolute;\n    -moz-box-shadow: rgba(154, 154, 154, 0.2) 3px 3px;\n}\n\ndiv.CanvasXpressTabMenuConfigurator {\n    box-sizing: content-box;\n    position: relative;\n}\n\ninput.CanvasXpressTabMenuConfigurator {\n    display: none;\n}\n\ninput:not(:checked).CanvasXpressTabMenuConfigurator+section.CanvasXpressTabMenuConfigurator>div.CanvasXpressTabMenuConfigurator {\n    display: none;\n}\n\nsection.CanvasXpressTabMenuConfigurator>h1.CanvasXpressTabMenuConfigurator {\n    float: left;\n}\n\nsection.CanvasXpressTabMenuConfigurator>div.CanvasXpressTabMenuConfigurator {\n    float: right;\n    width: 100%;\n    margin: 22 0 0 -100%;\n}\n\nsection.CanvasXpressTabMenuConfigurator>h1.CanvasXpressTabMenuConfigurator>label.CanvasXpressTabMenuConfigurator {\n    cursor: pointer;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    -webkit-user-select: none;\n}\n\nsection.CanvasXpressTabMenuConfigurator>div.CanvasXpressTabMenuConfigurator {\n    box-sizing: border-box;\n    padding: 0.5px;\n    border: 1px solid #ddd;\n    border-radius: 4px;\n    background: #fff;\n}\n\nsection.CanvasXpressTabMenuConfigurator>h1.CanvasXpressTabMenuConfigurator {\n    box-sizing: border-box;\n    margin: 0;\n    padding: 0.5px;\n    overflow: hidden;\n    font: normal 12px arial, tahoma, sans-serif;\n    color: rgb(34, 34, 34);\n    line-height: 100%;\n}\n\nsection.CanvasXpressTabMenuConfigurator>h1.CanvasXpressTabMenuConfigurator>label.CanvasXpressTabMenuConfigurator {\n    display: block;\n    padding: 5px;\n    border: 1px solid #ddd;\n    border-bottom: none;\n    border-top-left-radius: 4px;\n    border-top-right-radius: 4px;\n    background: #fff;\n}\n\ninput:first-child.CanvasXpressTabMenuConfigurator+section.CanvasXpressTabMenuConfigurator>h1.CanvasXpressTabMenuConfigurator {\n    padding-left: 0;\n}\n\nsection.CanvasXpressTabMenuConfigurator>div.CanvasXpressTabMenuConfigurator {\n    position: relative;\n    z-index: 1;\n}\n\ninput:checked.CanvasXpressTabMenuConfigurator+section.CanvasXpressTabMenuConfigurator>h1.CanvasXpressTabMenuConfigurator {\n    position: relative;\n    z-index: 2;\n}\n\ndiv.CanvasXpressMenu {\n    box-sizing: content-box;\n    background-color: rgba(255, 255, 255, 0.95);\n    border: 1px solid rgb(51, 122, 183);\n    border-radius: 3px;\n    box-shadow: rgba(154, 154, 154, 0.2) 3px 3px;\n    color: rgb(34, 34, 34);\n    cursor: default;\n    font: normal 12px arial, tahoma, sans-serif;\n    line-height: 100%;\n    margin: 0px;\n    padding: 0px;\n    position: absolute;\n    opacity: 0.95;\n    -moz-box-shadow: rgba(154, 154, 154, 0.2) 3px 3px;\n}\n\nul.CanvasXpressList {\n    background: transparent;\n    border: 0px none;\n    cursor: default;\n    list-style: none;\n    margin: 0px;\n    overflow: auto;\n    padding: 2px;\n    height: calc(100% - 100px);\n}\n\nli.CanvasXpressListItemSep {\n    cursor: default;\n    display: block;\n    font: normal 12px arial, tahoma, sans-serif;\n    color: rgb(34, 34, 34);\n    font-size: 1px;\n    height: 100%;\n    line-height: 1px;\n    list-style: none;\n    margin: 0px;\n    padding: 1px;\n    width: 100%;\n    white-space: nowrap;\n}\n\ninput.CanvasXpressListItem {\n    cursor: default;\n    display: block;\n    font: normal 12px arial, tahoma, sans-serif;\n    color: rgb(34, 34, 34);\n    line-height: 100%;\n    list-style: none;\n    margin: 0px;\n    padding: 1px;\n    white-space: nowrap;\n}\n\ninput[type=file] {\n    display: block;\n}\n\ndiv.CanvasXpressListItem {\n    box-sizing: content-box;\n    border: 1px solid rgb(51, 122, 183);\n    font: normal 12px arial, tahoma, sans-serif;\n    color: rgb(34, 34, 34);\n    line-height: 24px;\n}\n\nli.CanvasXpressListItem {\n    border-color: rgba(0, 0, 0, 0);\n    border-style: solid;\n    border-width: 1px 0px;\n    cursor: default;\n    display: block;\n    font: normal 12px arial, tahoma, sans-serif;\n    color: rgb(34, 34, 34);\n    height: 100%;\n    line-height: 100%;\n    list-style: none;\n    margin: 0px;\n    padding: 0px;\n    width: 100%;\n    white-space: nowrap;\n    text-align: left;\n}\n\nli.CanvasXpressListItemActive {\n    background: linear-gradient(rgb(243, 253, 255), rgb(217, 232, 251));\n    border-color: rgb(170, 204, 246);\n    border-style: solid;\n    border-width: 1px 0px;\n    cursor: default;\n    display: block;\n    font: normal 12px arial, tahoma, sans-serif;\n    color: rgb(34, 34, 34);\n    height: 100%;\n    line-height: 100%;\n    list-style: none;\n    margin: 0px;\n    padding: 0px;\n    width: 100%;\n    white-space: nowrap;\n    text-align: left;\n}\n\nli.CanvasXpressListItemScrollTop {\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAFCAYAAACw/UeDAAAARUlEQVR42mNkQAMXL178z0Ah0NfXZ0Tmo3BAFkhLS+M1IDw8kmHlyuV41Tx9+hTFIjiDWAtggBSLGMmxgFSLGKkRB4QAAILWJXgE49MrAAAAAElFTkSuQmCC);\n    background-repeat: no-repeat;\n    background-position: 50% 50%;\n    border: 0px;\n    cursor: pointer;\n    height: 9px;\n    line-height: 9px;\n    width: 100%;\n    -moz-user-select: none;\n    -khtml-user-select: none;\n    -webkit-user-select: none;\n    -o-user-select: none;\n}\n\nli.CanvasXpressListItemScrollTopActive {\n    background-color: rgb(219, 236, 244);\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAFCAYAAACw/UeDAAAAbUlEQVR42mNkQAOHb/38z0AhsFVjZ0Tmo3BAFmjIsOHULMLJwKDs1sFwd1cFw5vvuC258eQXikWMyBYoSOC2QIYXYgEMgCx68hm3RQ9eICxihFkgzI/bAk0xVAuQLbr+CrdFbz9CLGKkRhwQAgBYqyubRxy5uAAAAABJRU5ErkJggg==);\n    background-repeat: no-repeat;\n    background-position: 50% 50%;\n    border: 1px;\n    border-color: rgb(170, 204, 246);\n    border-style: solid;\n    cursor: pointer;\n    height: 9px;\n    line-height: 9px;\n    width: 100%;\n    -moz-user-select: none;\n    -khtml-user-select: none;\n    -webkit-user-select: none;\n    -o-user-select: none;\n}\n\nli.CanvasXpressListItemScrollBottom {\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAFCAYAAACw/UeDAAAASUlEQVR42mO8ePHifwYaA0YQAbJIWloar8Lw8EgMsZUrl+PV8/TpUwZ9fX1GRpgAqRYRawHcJ6RaRIoFGJbALCIcyvgBsgUgAACiryV42XltywAAAABJRU5ErkJggg==);\n    background-repeat: no-repeat;\n    background-position: 50% 50%;\n    border: 0px;\n    cursor: pointer;\n    height: 9px;\n    line-height: 9px;\n    width: 100%;\n    -moz-user-select: none;\n    -khtml-user-select: none;\n    -webkit-user-select: none;\n    -o-user-select: none;\n}\n\nli.CanvasXpressListItemScrollBottomActive {\n    background-color: rgb(219, 236, 244);\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAFCAYAAACw/UeDAAAAcklEQVR42mM8fOvnfwYaA0YQAbJImJ8NpyJNMQYGZbcODPG7uyoYrr/Cbfjbj78YbNXYGRlhAiCLFCRwWyTDi2oRyIInn3Fb8OAFxAK4T5At0pDBbZEIJ8QikAVvvuO24MYThAUYlsAsIjPo4QDZAhAAAK/AK5vjVTSgAAAAAElFTkSuQmCC);\n    background-repeat: no-repeat;\n    background-position: 50% 50%;\n    border: 1px;\n    border-color: rgb(170, 204, 246);\n    border-style: solid;\n    cursor: pointer;\n    height: 9px;\n    line-height: 9px;\n    width: 100%;\n    -moz-user-select: none;\n    -khtml-user-select: none;\n    -webkit-user-select: none;\n    -o-user-select: none;\n}\n\nli.CanvasXpressListItemScrollSearch {\n    border-color: rgb(170, 204, 246);\n    border-style: solid;\n    border-width: 1px;\n    width: 100%;\n}\n\ninput.CanvasXpressListItemScrollSearch {\n    color: rgb(34, 34, 34);\n    cursor: default;\n    font: normal 12px arial, tahoma, sans-serif;\n    line-height: 24px;\n    list-style: none;\n    margin: 3px;\n    outline-style: none;\n    outline-width: 0px;\n    padding-left: 5px;\n    width: 93%;\n}\n\na.CanvasXpressListItemA {\n    border-color: rgba(0, 0, 0, 0);\n    border-style: solid;\n    border-width: 0px 1px;\n    color: rgb(34, 34, 34);\n    cursor: pointer;\n    display: block;\n    font: normal 12px arial, tahoma, sans-serif;\n    line-height: 24px;\n    list-style: none;\n    margin: 0px;\n    outline-style: none;\n    outline-width: 0px;\n    padding: 3px 3px 3px 38px;\n    position: relative;\n    text-decoration: none;\n    white-space: nowrap;\n}\n\na.CanvasXpressListItemAActive {\n    border-color: rgb(170, 204, 246);\n    border-style: solid;\n    border-width: 0px 1px;\n    color: rgb(34, 34, 34);\n    cursor: pointer;\n    display: block;\n    font: normal 12px arial, tahoma, sans-serif;\n    line-height: 24px;\n    list-style: none;\n    margin: 0px;\n    outline-style: none;\n    outline-width: 0px;\n    padding: 3px 3px 3px 38px;\n    position: relative;\n    text-decoration: none !important;\n    white-space: nowrap;\n}\n\na.CanvasXpressListItemAArrow {\n    background: url(data:image/gif;base64,R0lGODlhDAAJAIcAACluvipxvzJ1vyxwwCt1yjp6zkD/QDiC1jmE0zyE0z2I3UeLyUGJ2VWUzlKg7FSg6Weg1WKq8Y7D9orD/JXL/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAMAAAYALAAAAAAMAAkAAAgzAA8YGEiwoAEFCQwaJEABgUKCBCRMYPDQAIEHESAIeEjAQYMAFQksAFDR4oCSBgqgNBAQADs=) no-repeat scroll right 50% transparent;\n    border-color: rgba(0, 0, 0, 0);\n    border-style: solid;\n    border-width: 0px 1px;\n    color: rgb(34, 34, 34);\n    cursor: pointer;\n    display: block;\n    font: normal 12px arial, tahoma, sans-serif;\n    line-height: 24px;\n    list-style: none;\n    margin: 0px;\n    outline-style: none;\n    outline-width: 0px;\n    padding: 3px 3px 3px 38px;\n    position: relative;\n    text-decoration: none;\n    white-space: nowrap;\n}\n\na.CanvasXpressListItemAArrowActive {\n    background: url(data:image/gif;base64,R0lGODlhDAAJAIcAACluvipxvzJ1vyxwwCt1yjp6zkD/QDiC1jmE0zyE0z2I3UeLyUGJ2VWUzlKg7FSg6Weg1WKq8Y7D9orD/JXL/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAMAAAYALAAAAAAMAAkAAAgzAA8YGEiwoAEFCQwaJEABgUKCBCRMYPDQAIEHESAIeEjAQYMAFQksAFDR4oCSBgqgNBAQADs=) no-repeat scroll right 50% transparent;\n    border-color: rgb(170, 204, 246);\n    border-style: solid;\n    border-width: 0px 1px;\n    color: rgb(34, 34, 34);\n    cursor: pointer;\n    display: block;\n    font: normal 12px arial, tahoma, sans-serif;\n    line-height: 24px;\n    list-style: none;\n    margin: 0px;\n    outline-style: none;\n    outline-width: 0px;\n    padding: 3px 3px 3px 38px;\n    position: relative;\n    text-decoration: none !important;\n    white-space: nowrap;\n}\n\nimg.CanvasXpressListIcon, svg.CanvasXpressListIcon {\n    background-position: center;\n    border: 0px none !important;\n    color: rgb(34, 34, 34);\n    cursor: pointer;\n    font: normal 12px arial, tahoma, sans-serif;\n    height: 24px;\n    line-height: 24px;\n    list-style: none;\n    left: 3px;\n    margin: 0px !important;\n    padding: 0px;\n    position: absolute;\n    top: 3px;\n    vertical-align: top;\n    width: 24px;\n    white-space: nowrap;\n    background: rgba(0, 0, 0, 0) !important;\n    box-shadow: 0 0 0px rgba(0, 0, 0, 0) !important;\n}\n\nspan.CanvasXpressListItemText {\n    color: rgb(34, 34, 34);\n    cursor: pointer;\n    font: normal 12px arial, tahoma, sans-serif;\n    line-height: 24px;\n    list-style: none;\n    margin-right: 10px;\n    white-space: nowrap;\n}\n\ninput.CanvasXpressListItemText {\n    color: rgb(34, 34, 34);\n    cursor: pointer;\n    font: normal 12px arial, tahoma, sans-serif;\n    line-height: 24px;\n    list-style: none;\n    white-space: nowrap;\n}\n\nspan.CanvasXpressListItemTextShort {\n    color: rgb(34, 34, 34);\n    cursor: pointer;\n    float: right;\n    font: italic 9px arial, tahoma, sans-serif;\n    line-height: 24px;\n    list-style: none;\n    margin-left: 10px;\n    white-space: nowrap;\n}\n\nspan.CanvasXpressListItemTextSep {\n    background-color: rgb(224, 224, 224);\n    border-bottom: 1px solid;\n    border-bottom-color: rgb(255, 255, 255);\n    cursor: default;\n    display: block;\n    font: normal 12px arial, tahoma, sans-serif;\n    color: rgb(34, 34, 34);\n    font-size: 1px;\n    line-height: 1px;\n    list-style: none;\n    margin: 2px 3px;\n    overflow: hidden;\n    white-space: nowrap;\n}\n\ntable.CanvasXpressListItemTable {\n    border: collapse;\n    line-height: 20px;\n    color: rgb(34, 34, 34);\n    cursor: default;\n    font: normal 12px arial, tahoma, sans-serif;\n    color: rgb(34, 34, 34);\n    line-height: 24px;\n    padding-left: 3px;\n    -moz-user-select: none;\n    -khtml-user-select: none;\n    -webkit-user-select: none;\n    -o-user-select: none;\n}\n\nimg.CanvasXpressToolbarHelp, svg.CanvasXpressToolbarHelp {\n    background: rgba(0, 0, 0, 0) !important;\n    border: 0px none !important;\n    box-shadow: 0 0 0px rgba(0, 0, 0, 0) !important;\n    cursor: default;\n    float: right;\n    margin: 0px 0px 0px 2px !important;\n    -moz-user-select: none;\n    -khtml-user-select: none;\n    -webkit-user-select: none;\n    -o-user-select: none;\n    -ms-user-select: none;\n}\n\ndiv.CanvasXpressToolbarHelp {\n    box-sizing: content-box;\n    background-color: rgba(255, 255, 255, 0.95);\n    border-radius: 5px;\n    border: 1px solid rgb(51, 122, 183);\n    box-shadow: rgba(154, 154, 154, 0.2) 3px 3px;\n    color: rgb(34, 34, 34);\n    cursor: default;\n    font: normal 12px arial, tahoma, sans-serif;\n    line-height: 24px;\n    -moz-user-select: none;\n    -khtml-user-select: none;\n    -webkit-user-select: none;\n    -o-user-select: none;\n    -ms-user-select: none;\n}\n\np.CanvasXpressToolbarHelp {\n    cursor: default;\n    font: normal 12px arial, tahoma, sans-serif;\n    color: rgb(34, 34, 34);\n    line-height: 24px;\n    margin: 0px;\n    padding: 5px 5px 5px 20px;\n}\n\ndiv.CanvasXpressForm {\n    box-sizing: content-box;\n    border: 1px solid rgb(51, 122, 183);\n    border-radius: 5px;\n    background-color: rgba(255, 255, 255, 0.95);\n    color: rgb(34, 34, 34);\n    cursor: move;\n    font: normal 12px arial, tahoma, sans-serif;\n    margin: 8px;\n    padding: 8px;\n    position: absolute;\n    white-space: nowrap;\n}\n\ninput.CanvasXpressFormButton {\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAeCAYAAADtlXTHAAAAFklEQVR42mP88OHDf0aSiGfPntGaAAAL8XAJa+SuYgAAAABJRU5ErkJggg==);\n    background-repeat: repeat-x;\n    border: 1px solid rgb(51, 122, 183);\n    border-radius: 5px 5px 5px 5px;\n    color: rgb(34, 34, 34);\n    cursor: pointer;\n    float: left;\n    height: 22px;\n    margin-top: 2px;\n    overflow: hidden;\n    padding: 2px;\n    vertical-align: middle;\n    -moz-user-select: none;\n    -khtml-user-select: none;\n    -webkit-user-select: none;\n    -o-user-select: none;\n    -ms-user-select: none;\n}\n\ninput.CanvasXpressFormButtonActive {\n    background-color: rgba(255, 255, 255, 0.95);\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAeCAYAAADtlXTHAAAAFklEQVR42mN89fnvf0aSiBvPf9GaAABVL3D5nF6uqAAAAABJRU5ErkJggg==);\n    background-repeat: repeat-x;\n    border: 1px solid rgb(51, 122, 183);\n    border-radius: 5px 5px 0px 0px;\n    color: rgb(34, 34, 34);\n    cursor: pointer;\n    float: left;\n    height: 22px;\n    margin-top: 2px;\n    overflow: hidden;\n    opacity: 0.95;\n    padding: 2px;\n    vertical-align: middle;\n    -moz-user-select: none;\n    -khtml-user-select: none;\n    -webkit-user-select: none;\n    -o-user-select: none;\n    -ms-user-select: none;\n}\n\ninput.CanvasXpressFormText {\n    background-color: rgba(255, 255, 255, 0.95);\n    border: 1px solid rgb(51, 122, 183);\n    color: rgb(34, 34, 34);\n    cursor: default;\n    font: normal 12px arial, tahoma, sans-serif;\n    line-height: 24px;\n    padding-left: 3px;\n}\n\nform.CanvasXpressFormForm {\n    background-color: rgba(255, 255, 255, 0.95);\n    border: 1px solid rgb(51, 122, 183);\n    color: rgb(34, 34, 34);\n    cursor: default;\n    font: normal 12px arial, tahoma, sans-serif;\n    line-height: 24px;\n    margin: 8px;\n    overflow: auto;\n    padding-left: 3px;\n}\n\n\n/*\n * Slider\n */\n\ndiv.CanvasXpressSlider {\n    background: rgba(0, 0, 0, 0);\n    border: 1px solid rgba(35, 82, 124, 0.2);\n    border-radius: 50%;\n    height: 36px;\n    position: absolute;\n    margin-left: 3px;\n    margin-right: 3px;\n    width: 36px;\n}\n\ndiv.CanvasXpressSliderRemote {\n    background: rgba(0, 0, 0, 0);\n    height: 36px;\n    position: absolute;\n    margin-left: 3px;\n    margin-right: 3px;\n    width: 36px;\n}\n\ndiv.CanvasXpressSlider:hover {\n    background: rgba(0, 0, 0, 0.4);\n}\n\n@media screen and (max-width: 480px) {\n    div.CanvasXpressSlider {\n        width: 20px;\n        height: 20px;\n    }\n}\n\ndiv.CanvasXpressSliderLeft {\n    left: -50px;\n}\n\ndiv.CanvasXpressSliderLeft img, div.CanvasXpressSliderLeft svg {\n    margin: 5px 5px 3px 3px;\n}\n\n@media screen and (max-width: 480px) {\n    div.CanvasXpressSliderLeft {\n        left: -25px;\n    }\n    div.CanvasXpressSliderLeft img, div.CanvasXpressSliderLeft svg {\n        margin: -4px 0px 0px -2px;\n    }\n}\n\ndiv.CanvasXpressSliderRight {\n    right: -50px;\n}\n\ndiv.CanvasXpressSliderRight img, div.CanvasXpressSliderRight svg {\n    margin: 5px 3px 3px 8px;\n}\n\n@media screen and (max-width: 480px) {\n    div.CanvasXpressSliderRight {\n        right: -25px;\n    }\n    div.CanvasXpressSliderRight img, div.CanvasXpressSliderRight svg {\n        margin: -4px -2px 0px 2px;\n    }\n}\n\ndiv.CanvasXpressSliderDotsContainer {\n    top: 25%;\n}\n\ndiv.CanvasXpressSliderDots {\n    width: 10px;\n    height: 10px;\n}\n\n@media screen and (max-width: 480px) {\n    div.CanvasXpressSliderDots {\n        width: 5px;\n        height: 5px;\n        margin-left: 1px;\n        margin-right: 1px;\n    }\n}\n\ninput.CanvasXpressSlider,\nselect.CanvasXpressSlider {\n    padding: 2px 3px 2px 2px;\n    cursor: default;\n    color: rgb(34, 34, 34);\n    border-left: none;\n    border-right: none;\n    border-top: none;\n    border-bottom: 1px solid rgb(51, 122, 183);\n    background: rgba(0, 0, 0, 0);\n    width: 100%;\n    max-Width: 100%;\n    line-height: 22px;\n    margin: 0;\n}\n\ninput.CanvasXpressSlider:focus,\nselect.CanvasXpressSlider:focus {\n    outline: 0;\n}\n\n\n/*\n@media (max-width: 480px) {\n  img {\n    height : 16px;\n    width : 16px;\n  }\n}\n*/\n\n\n/*\n * Parent Node\n */\n\ndiv.CanvasXpress-ParentNode {\n    margin: auto;\n    display: table;\n    padding: 0;\n}\n\n/*\n * CanvasXpress\n */\n\ncanvas.CanvasXpress {\n    -moz-user-select: none;\n    -khtml-user-select: none;\n    -webkit-user-select: none;\n    -o-user-select: none;\n    user-select: none;\n    -ms-user-select: none;\n}\n\ncanvas.CanvasXpress:hover {\n    border: 1px solid rgba(35, 82, 124, 0.2);\n    border-radius: 6px;\n    margin: -1px;\n}\n\ncanvas.CanvasXpressUpload {\n    border: 1px solid rgba(35, 82, 124, 0.2);\n    border-radius: 6px;\n    margin: -1px;\n    background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAAQn0lEQVR4nO3dX4gd133A8W/CLSztUrZ0Hzbgh01Z6BZUWIpKHKKHDcigB1EMVcAPwmxBUIea1g95UMFNEEENJhFFEa6dGOMoxijCMW4QJlHjoAZHyK1TFOqAFCSQiAwrWIMMa1jDCrYPZxcvK91zZu6dmTNz5/uBQbZXvvu7c+f3u2fOnD8gSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSVJffSZ3AOqFWWARmN8+/hSY2f7v03v+7ifA3e0/V4HfAx8A17f/VIUsAKraDLAMfBH4K2CJkOhV+Bj4LfAu8N/bf96u6LUljehR4CTwHrDV8HEDOAMcBAZ1v1FJwT7gOeAOzSf9sGMNeInQApFUsSngKHCF/MmeOq4BXyPckkgawwxwnNAplzuxyx7rwGlgrvKzIk24KeAEcI/8iTzusYGF4AE+BdAwx4BvUk/CfLR93B7y8zlCq6Ou330K+A7hUWOvWQC01xLwAqFnf1wfAr8C/g94n/As/zbhcV4RA2Bh+1gEvgDsJ4wlGNdN4KvA2xW8ltR5U4Rvxk3Ga2b/FHiakLB1mQNWgFcZ//bkLHYUqueWgKuMlkCbhKQ/yoOj+powIIwBeJVQgEZ5D3fw0aF66hijJc4qYfDPI82HPNQMofVxg9EK2YnmQ87LPoA8Zgn3sY8QLtoZ4I+3f/b77T9vE8a+36wphgHwMvBkyf/vLmEA0Iu0uxPtceAbhNZNGf8J/C3F+ymkpEcJz9EvEEarlb2vvkoY7voE1YyrnwMul4xjDXiG0FfQJUco3yK4Ruh4lEa2TBiWWjbhizRV3wGeYrTOqwXCBV7m950e8Xe1xRShAK9T7hZnf45g1V1ThHvQMgk2zrFBaMYX7XFfpNxovqtMVhLMA5co/v7XgQM5AlW3DAjN45xDZc8Tb7aWSf5Nwn3+pM6ue5riHZ8WAUUdZLRe5zqOncTde59eJvlXt9/TpFui+OdmEdADpgmDSHIn/cOOW3x6wc5RPPnfo12P9eo2DVyk2Lm5R72Dm9Qh+wlJljvRU62Bk4QhuEX+/hvkGciT2wB4nmLn6A5OJuq9o4w+4myD0An1bcIjvZ1x7bvvtXfWzztE6Fc4R/2LbjzP5N7vF/U1ireSuvYoVBU5zmhJf44wMGWcC2cf8CzVtzxOjxHTpHmGYufsbK4Alc9pyiXWKqFgVLUg5m6HKPc4y+QvrmgROJYrQDXvBOW+8U/QTDPxIMXv8fcerzUQX1edJH3+1rFTsBeOUTypLlHNXPUyBoT71zL9Er/Ae/6UIk94ruJ5nGjLFJsfv0lo7udU9Ln2Dbo9rLcpA4otfvpsrgBVr1mKPT9fpz0DZ2aAXxKPdV+26LqnyBiKDZw4NJHeIp38q5Sfblq3AeGZvh1X1ThI+jr4abboVIujdLsT6GFF4HzWiLqtyBOgQ9miU6VmSDf7Nmn/2PDdReAW3vePY4r0DM/3sUNwIjxHuto/lS26cgaEb/62F6suKHIrsJIrOFVjjvTjtDeyRafczpN+wmIroMNOEf+A16hnZJ+6YZ70F8TjuYLTeKZIrzFvL7pSHYJX8oWmcaRG/DnqS1DsNnGSllHrjXeIf6hH8oWmlkm1Ar6XLzSNYo74B3oLv/31qXniQ8TX6ciaAZ/NHUBLHE78/GXgfhOBqBNuAz+L/Hya9DWlFjlHvAXgWG/tdZj4NfN6vtBUVmzJrfczxqX2GhDf9KUTtwHeAoTn+rGVcN0/Xg9zH/hR5OfTdGAEZp86tuYITfmF7X/+I0Lip1Z5vVxzXOqunxA2GRnmMfwCyWKeMKPvDGFgRpk94fYebZ3xp/wGxK8tBwU1ZIowHfMFql81V4p5k+HXzib93GuhMcvAK4z3DZ96/i/FpFYRbn0/QNfMEBbBbGIH3qsNvSd116PEr6Fn8oWW1qVOwDngn4EnaW5xi48a+j3qrt8QnggMy6U/bzCWiTRDWKRj1O24xjlc601FxPZmeCdjXEltbgEMCDP0vkk9c/DvAx9Efj4L3K3h92ryXGf4asvzDcZRWlsLwBLwEtVMq7wN/Br4X8IHdZOQ+DbvVZWbkZ/1abv1sQ0I22oV2Yxj2HEPeJUwDsCtnNWEp4lfk/PZIuuQecLWy6Mk/QYh6Q/S3laNJtcR4tdn2/aOaJ3DpJfjethxg/CYxSWvldMy8et0OVdgXVBm593dib+C3/Zqh9RYgOVskbXYgLBFdZnEX8XEV/vME79uXU5uj2nCFtVFE3+TsA6bTX210Tzx63clV2BtNE2YYls0+a/hKqtqt3lsARRSNvlP04FVVdR7B7APIGkAXKRY4q9j1VR3LGMBSDpLseS/xfBhlVIbOQ4g4VmKJf9VHL2n7nEkYMQhiiX/ZVw9Rd30LeLXdm/NU2yEn8mvLnud4df2nYxxZTUgvd/eFmEutcmvLuvsegB1KnLffwfv+dVtU8Rnr76QL7R8FklP6V3H3lF1337i13mr1wSsyxXS3/5PZItOqo6rAu+xQjr53T9dk8J9AXaZJszYiyX/NXp2UjSxUjsD9W5Z+dTc/k3C3GlpEhwkfr2fyhda82ZIP/N/Plt0UvVOE7/eD+ULrXmpb/81nM/fNqdw0tWoBsRvd9fp0UzWKUKCxwpAbBtlNW/n22sTi8AoDhO/3l/PF1rzniJ+Mm7gMl5tsrfpahEoL9b737vH3KnlvFeyRaa9ht23WgSKmyc+0K1Xzf/USKhV/PZvi1SnlUWgmNR5/Dn1bGfXSqmTcTxfaNol9TlZBIqZo/hGtdeAM0z4hjV3iF9MTvbJr2jyWwTSyp7LnWONMAJ2oua/pBZDfDNfaNo26gVrEXhQmW//2HEJeLzh2GtxkvgbnYg32WGjJr9F4OHGPZ97jyt0fLJQrPd/gx71hLZQVRerRSCo6tv/YcdrdLDTcIb4m7qQL7Teq/qbyiJQ/Tnde6yRocU8Ts9kquny1hivrdGdBv6x4tccAOe2//nHFb92V1whzO6bBf5w+7/9CeGLcBZ4BFhg9Jmus4Q+s+8D/wDcHyfYJqTu/xfzhdZbdX9L2RJI20cY+HaO+FTh2HGZDjw9u8DwN3AvY1x9VXfyWwTKmyI06y+QXiJv73GN0KJorVsMD977/2YVTf5V4lO2b1DsQrUIlLdA2B2rTCFYpaUt6SnigX87X2i9Uyb5F4kX7lcIiW0RqM8iYahwmSLQutuBfcSDPpYvtF4pm/yQLgBgEWjCCsX7CFq3jF5qu6/lbJH1xyjJD8UKAFgEmjBPeLJQ5HO8SIvmE6wQD3Y+V2A9MWryQ/ECABaBJkwDb1Ds8zyRKcYHHCceaGsq1QQaJ/mhXAEAi0ATBsDLFDvHrVhU9+vEA1U9xk1+KF8AwCLQlPOkz/E1WjDEPlYAbmWMa5JVkfwwWgEAi0ATBoR7/dQ5PpkrwB2vYAFoUlXJD6MXALAINGGGMB4jdn43CEOPs7EANKfK5IfxCgBYBJqwRPocn80WHfCtIUFZAKpVdfLD+AUALAJNKLLLVrahwrE+gI1cQU2YOpIfqikAYBGo2xTpW4HTuYLzKUC96kp+qK4AgEWgbo8TP6/3yPREYCURWNYOio6rM/mh2gIAFoG6pUYKruQIKlWZ9ucIagLUnfxQfQEAi0CdjhA/pz/PEVRqMxA/5PKaSH6opwCARaAuqU1IN8kwUWg2EtAWbgZSVlPJD/UVALAI1OU5WviFG1tYolc7o46pyeSHegsAWATqkGpxn8kR1JVIQDdyBNRBTSc/1F8AwCJQh9htwNUcAZ2JBLRFGNKo4XIkPzRTAMAiULXXiZ/DxmfgrkQC2sJdgWJyJT80VwDAIlClZ4ifw31NB7SYCOiFpgPqiJzJD80WALAIVCW1CtfhHEHF7kvu5Aio5XInPzRfAMAiUIV54ufuqRxBvZIIaqK2Qh5TG5If8hQAsAiMa0D8vH09R1BHE0GdyhFUC6VGTjaV/JCvAEDxIrBBC5fCboHY5qRZCsB0IqhVXB9wR6oF0NQmEDkLAKSLgC2A4WKf3Uu5gnozEtQWfpi7DSsCTe4Ak7sAwPAiYPLHtbIAPBEJagu4lCuwltpbBJre/qkNBQAeLAImf1rrbgEgzEeODQvews7AvXaKQI6939pSAODTImDyFxPLsWwFANL3t2/mC621TpBn48c2FQAIiW/yp80Tz7EsjwF3LAwJylZA+7StAKiYWgYCfbai4G4C/5H4O/9W0e+S+ig11Pf2KC9aVQGA9L5ly4QOQ0nlfSHys0+A600FEpN6JHgHZwnm5i1AN60x/HN7b9QXrbIFAOlWwCNkXMpY6qgDhFW4hvnVqC9cdQH4DfDDxN95kkwzl6SO+kri579sJIqC5kiPC1jDpcNz8RagW1KLgm4wxqKgVbcAAO4C/5L4O7OE/oLs2xxLLXeE+MSonwEfNxRLKZdIjw14LVt0/WULoFtSG4O09snaPLBOughk3+u8ZywA3ZGaZ7NGy1vRK6QLwBZhvTM1wwLQDVPEP6stOrLexlksAm1iAeiGU8TzpTOLpkwRBioUKQLuKFQ/C0D7HSC9clKnxtPMEX+Usfv4Hq4iVCcLQLvNEUbMxnLkHh359t9tkWKdglvAL4iPfNLoLADtNQAuM8Et5QMULwK3gEfzhDnRLADtNADeIJ0XV+l4C7lMEdgkzC/o9BtuGQtA+xRN/k0mZF2NMkVgp+rtzxLp5LEAtMs0cJFieTBRT8r2U7xjcKf6vUwHOz9axgLQHvuAaxS7/s9nirFWCxQ/ATvHOuG2wHUFRmMBaIenKd4KvsIYE37abhp4i3JFYIvwKOQ0YcixirMA5LUEvEPx6/waPWn1HqfYtlEPuzW4QJg11epx0S1hAchjgTAqtsw13pvk37Gf8rcEe28PXiVMovAW4eEsAM2ZIuwLeYHy1/L79Cz5d0wRxkGP0hrYe1wFzhAmJS1hCwEsAHVbJFxv5yj3pGv3cZGG7vk/08QvGdESIXkPVPy6H2wfd4GPCIsprFX8O3L6IfElom8xvN/kB8DfRf7fJeBvRglqQv0BYWWracI5XWT8xP1X4BvA/TFfZ2I8Adxg/NZAX47lxPkcpwWw0oL3N6nHHcLmH42qY0mwqv0I+AvCN9PNzLFIdfg+8JeE5b0a1YUCAKE59ANCIfgK8G7WaKRq/Bfw18DfE25HG9eVArDjPvBj4IuEivld4MOsEUnlvQ18efv4dc5AulYAdvst8E/A54DHgBcJnXtSG30I/Dvhi+sxwrd/dpMwy+4+oaK+DXyV0BO7DHyJMJ14IVtk6rvrhOvyJ4SEb13P/iQUgL2ubx8vbv/7NGHSxQLwZ8DnE///NPUuRjJLvc94P6nxtT9mxF1oJ9wnhMfKN4HfEa6/d/H2VC00zmNATZgu9wFIGpMFQOoxC4DUYxYAqccsAFKPWQCkHrMASD1mAZB6zAIg9ZgFQOoxC4DUYxYAqccsAFKPWQCkHrMASD1mAZB6zAIg9ZgFQOoxC4DUYxYAqccsAFKPWQCkHrMASD1mAZB6zAIg9ZgFQOoxC4DUYxYAqccsAFKPWQCkHrMASD02yB2AGvc/wO0hP/tdg3FIkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRl9P8s0/RVv6+5CQAAAABJRU5ErkJggg==\');\n    background-size: contain;\n    background-repeat: no-repeat;\n}\n\ncanvas.CanvasXpress::selection {\n    background: rgba(0, 0, 0, 0);\n    color: rgb(0, 0, 0);\n}\n\ndiv.CanvasXpressPlay {\n  background-color: rgba(0, 0, 0, 0.1);\n  background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAARtElEQVR42u2dB7gdRRXHT0AUMdIEARF5IBEpIh9GQIh4RSw0AwjYKIpUQQUpghUbICIWLIiU2OgoVQxFnijSFKWpFOGpFCUiLQpY0Pm92U0um5md2Tpz793/950vedvu7MzZmdNnigwfpihaWdFaisYSepGiZRN6nqJnK3qGoqnJPXMV/UfR44oeVDQnoT8pmkjoluTv/4V+wbo7a9CxvKIZijZStIGitRUt3tBvParoZkXXKfqFop8r+kvoDqiCQWSAZyrqKXqjos0VrRG4Pb9TdLGi2YrGFf0rcHsKYVAYgOn6dYrermgbRUuEbpAFjyg6V9Fpii4XvaxEjdgZ4MWKdkto+dCNKQiWhpMVnaTortCNsSFWBugpOkjRFhXbiHA3kdC9ogU86CFFTyl6MrnuWYoWUrSUaCERWlHmC5FTvX9xQSA0XqToC6KXiKgQEwPQljcr+qii6SXuR2pHKENAu0m0sPbnmtq2kqKXKVpH0fqihc5lSzznl4o+o+i8OjuuCmJhgM0UfVrRhgXuQWUbFy2AXaLotpbbvLqiN4gWRHuiVUtfXKPoY4oua7nNCyA0A7xE0bGKtvS8/gnR0+lZyb9zA7c/xdTkHXZI/l3U8z7e4QBFd4RqeCgGoIM+oeiDotU6F5jOT1T0PUV/D9RmXyytaCdFu4teNlxAbeQjOFzmyyStIQQD9BSdoGia4zqEJ6Z3OufyAO2sA6iuCLPYLFx9zSywp7QsKLbJAEjaRyra3/G7DDxC0icV/abNzmgQ64qe8WZ6vPuXFB0qLRmU2mKANUUbR9ZxXDcueln4dUvtahvriVYHe47rblT0DkW/bbpBbTAAghEGkTxd+m5FByr6YQvtiQHbKTpG0So51yDgYgA7q8mGNMkACys6SvTA2n4HU+mXFX1c0T+bfNEIsZiiT4leEhe2XMOSwIzBkvDfJhrRFAOgEzPlz8y5BifKzop+1VAbBgWvEK3dvDTnGvwLLAmP1/3jTTDAMqKl9zxr3vGiZ4ZR++ptYDbgS98755rrRZvG/1bnD9fNANjPsW7ZuLmVdW2AsaNo55FNXmLWfL1ov0YtqJMBVhXtE1/Ncv52RdtKC5LtgINIJoRhm53kTtEm6Lvr+LG6GIAvf1zsg/8z0YP/YF29NOTAG8m6P8NyHiboSQ0zQR0MwJrPANum/TMU7SoBzJwDDgxn3xG9LJjAcrCJVJQJqjIA0v6VYhf4sN8j2DSiwowAUA+/qeg9lvMIhq+RCtpBFQagceeIXdX7hqJ9ZciiaAOAMfqaon0s51kqtpeSH1kVBvi8aEeHCXz5ODa6wa8HjBN9upvlPFbFg8s+uAww755pOcea/07ppv26wYx7qphlAj60t0oJ9boMA+DYuVbMuirCIHpqJ/A1AwRD7Cwm7QAbC3kRhdTsogxAA4i5M3n10PNJzuhUvWaBini1mO0EeBFhAu8PsCgDEJxxgOF4Ke7rUBoYi4grNM3CXxTtUvdCEQboKfqJ5R7Wpc682y7o8zMMx5EHNhXPyCJfBkDfZ3oxTTs4dvbxfE6HeoGqbXIgEV7GMv2E6wG+DIBf/0OG41ijMAJ1Xr0wwIuIO91khWXMDnM9wIcBCN0mKjcbvUswx4bS+fNDg3gCtLJsUAkxhWRK54ac+zDAhWKO2y9tfOhQOxiLAw3HGbut8250MQAZO5cajuOKhLtCTP3owGOibQ5/DPD7MYKlgAIWphhD7DLWDKQ8BuAcRRBM6VoENYYI4ETg3Cv5P1PccaLj6h4N0JbYwJicYziOuvgq2015DICT51zD8XFFrw3wgki1NxqOPyA6oZRImqcCtCsmXCHmkHPG8nzTDXkMgKsx6+ZFx0ToCBG3b2PIFCSRvF/00jCqYGwYt+y4kpX8StMNNgboieamLBiAbQO9nIsBUuCkOkRGVz5gad7GcJxZezx70MYAJsmfr5/MllDpWr4MAAiQwF39ORk9GwVpaDfIgmNr1AhMDEBZljsM534k/mncTaAIA6S4R7QBixyFUYpNICz/TZljvD8xm08rV2NigM8q+rDhOCphyCxdGwMg+C3kuBdthgyc6wO2v02QlWxS/Y5Q9JH+A1kGWER0McRsQSYsga7EzqZhYwAEVdLLNnbcD6MQZEma1V8Dv0sboExOtj4BhasodzOvelmWAchj/7HhYUjXxwV+IRsDTEmIiJijkxfMw2OiZzncpgNV068gPiA61TwLlobZ6R9ZBvi2ol0yx/AoEfcfujJHHgOkwCJ2SEKumj2shfjNoynYVDOoVELeQLZczSxF707/6O88on2YGrNFGLEubR/6bcSPAVIwC6AF7ChuczdrJUEut4R+wQZwtqK3ZI5RzHI5SaKG+juHdKPZhoe8TcyBB22jCAOkwG+AfLCe49msicTfk6YeeqarEyyLpxuOM9aTPp7+zmNN3D9zIfo09fD+EfpNpBwDADQEpjzW/eUc1zL4h4sOtIi+zKsHCBnDVJ5dDgntm/Qe9nce8XzZwsvok1uEfosEZRkgBUsbKhDCkasy2a2il4VLXQ8dAGC/2TxzjEAeorvndd4Kiu4z3ByD9J+iKgOkIKyNXPytPa7FgYKg+IfQL18B71P0FcPxFyi6P+08hDxTUCfVMG8P/QYJ6mKAFKyDLHtrOq5DVUSdosTrY6E7oQQYw98bjpPcc3baeaZwb9YO15rZJupmAEAZ+veKXveXclyLhoSFdJYMntuZsczWNp4MH0877yrRSR39wKu0XeiW96EJBkhBsgW1ivcQzRR5IAYSOeKq0B1SAPRbNomX9s9IrWgPy4LbrBBRelTolvehSQZIQZgbauOmjutwrKBe4WiqqyJ5k8D8fWTmGFFUS9J5Y2IuN4L0f3HolvehDQZIQcwDgZarOq7D1Xx0QrVX8KoReHEvNBxfZUrOSXbaiom722QAgAkVuwjr/nMd1+JAw/xMMEqMbueVkjZmsSWdRxGHr2ZOzPV46bbRNgOkQF3CiLSrx2+xYQWqc4ylbhnT52SO7ccLmQo9YBf3KXXeJkIxQApi6tCnXZtaoCGcInrmeKC13nEDl/7amWPH0HnY+bNFBy4QvX1LTAjNAOlvUbGTULMVHdciZGE7wIbw7xbbaANjulXm2Jm8EBm/2TBvHCN7+zy1RcTAACmYSpGssae73M53JNddEKCd/WBM98wcu4LOM00NC4QORYCYGCAFW9SyhO7gcS2eVszKoWooMKbZZNFb6Dx8ACtkTsCxxwZqqA0xMkAKSrUx1a/ruA4P49dFWx4farmNjOkxmWOTvgAasmTmBO7TWS030IWYGQCQnUs9PyyKz3dcSxkdhMRvSXtqIxXGTsoce5jOw8GRLTXyLtHhYTEhdgZIwcfElnB44RZxXHu46K1x2gBq7KzMscfoPBMHskfv6a4ntoxBYYAU1FVgWdg85xpmgmVaag9jemr2YMcAzcGHAajzW2YH0jKwMkC3BNQLIo/YIWw/cS8BaFpHtNQu6xLQCYH1IBUCMf64vmoshNgRTmmxfVYhsFMDqwM1EDfyyx3XEV2EORkmeaTlNlrVwM4QVB5jol3BPoYgPK4YgkLtE2w1BJmqSnSm4HyQgYQez4C6TMFE4BJuN9v10IZhNQWbnEHO6lIBEAMD8FtUQidSyuUMQrZCx6fWfww5BlZnUOcO9oOvO5jBxsJHllGtW7xVhNUd3AWE5AMBmXi6XTx+i+WUgNGbW+8dN8juWixzbL8uJMwOkmVZuxGGpzqujX3vY8bSVDNpMiSM4oJ3mU6KTiuKBTEGhTJTEi6Gxc9ZmDkgcoNCu7Dw+UDuYTB9wsKpNoImcJ/roREgNywcdIkh/okhVN5knb8udIcUQG5iCOhSw9ypYVTb4Ev6vsQZ+p0HZ2qYLTmUOvS3hW59giaSQ5nu13BcR8IHHwhTaAx1EorCKzl01NLDGdCtPK6lxAol8SdCv3wFeKWHg2EvEIGQS6QOTO0qEEFRatb5n4Z+6RrgVSACUDQhu9sU0x/xbXNDv4VUKxGDKxQPnEummSPzK48Pw8aXhUrEDGORqFeLXuddRaJI3MAayt4DD4d+0RphKxI1bxOJYS0Th+ULN61PmTiWOTSgWITdOlGoTByYJTp0qB9YuBAY2o5jz8KHAZjqyNn3KRTJgDPwMaXA1wnUWgT7bKFIopDmbULtWyoWgcgkSbYJn1KxeDZf6HgOUzxTPVN+DDl7TaFUqdhBLRYNc27kuJ+s3dRNG1PWblMwuX+dxaLBMJaLR53ji7hRRgOly8WDYdowYkK0IefsgO0OAduGEYzt08oB2SRkU/jQIG0Zg8kW0y36bsy1e5pA5S1jQE8Gc9MomJTsF7SAQXDTNgHbplE9MVg2h2nbONyzrPPXBGhbLKht2zgQ28aRBGvcZDjOl47QSoDGoLlp60atG0fGuHUsuvu+yf+xZKVu2kGs4Vs3sPiZhN3SW8eCGDeP5mWI1WM9uyfA78cIon0pcT9mOFd68+gUtu3j8R4e5HF/h+bR2PbxgAAKEkWyPnTcpRuILp7cIRwQ/K4VnZ3cDxJRmaVzcxF9gylYZw81HCewAE1h1LZnjQVM/ej8qxvOEdF9mOsBvgyAZw0z6jTDueMV7RO6J0YU7G1kSuLlq8d348xVKBJP1xNdVNJ0D564M0P3xoiBWAdToA6qMGq6Vzhb0YBKU/g4IGQMdfHW0L0yIlhLtHpnSlmbDPf2fVBRBiBqCIubyTXMtAMTDNO+ezGCJJarxbwcs0wjmD/p+7AyMfVEkyJ1mriPcumbFWlAh0Iguge7zAzDOWbh9UUL5t4om1RBUsEZlvuRBaioPQxRtTEBNQ9H146Gc6z7yGFnFXqiVEurMhWWSEFY9R7S2ebrAuN0ovTF8mWAIejgsg8uCziSiOGZlvOoKNjtOyaoBsaIMjM2VRuHHVHbpWbcqpm1GCJQN6ZbzjMT7FW2cR0mP7ITxP7l4/rtSQVDXB2p1WSdXik6kdQEZIKdRZsmO/gD0/t3xbzmA4Q96hPOqfIjdRVXoGLWuKLVLOfRDlgqOhXRD0srOk/M0j64U/SXf2/VH6qzugalZi4ROxNgJyCcrDMW5QMjD7EW0yznGXxcvBN1/Fjd9XWYCfA925YDdFXq6XZmYzOY7pGbbEWpmPYZ/MpffoomCiwhExBCPj3nGhxImCtHLWLXBoRp4ivyqrMi8BGXUWnNz6KpEmu8EKVUtsm5hqoVO0kXT4A/n75aPecaVD0qlNbudm+yyCIqDD7pA3N+B/WQ/DUKN4zabICLncJUbE+7sOUabCjMDMRiNKJKt1FmFbPxyZJfbJEYQ6yKP2ihPTGAAE6sd2M51yAvof8XNu8WQVt1dnEgnSbuBNNx0TPGDS21q20w3TPwPcd1ePXY4qWQY6cM2qy0jSuZ0LL9Hb/LtIcOTKXtUGlodYN0LbaRmenx7iyJhHK14lENUWu/J9q8Oc1xHZ1BHjtfTMis5CogS5eljboLrr7GTkI9//E2Gxhqtw0EIPL0UQVdFbsAue7ox2T/hK5U4gKVOagsvrssmJ9vAiZyIq2Y8VqvNxx6vx1mAUKYfNPO6aCLRAtGxLzHUriRzaTJpt4heZdFPe8LvY1McAZIQRQRKpFrM4Z+oDaOi86FxwTddpEn9HYqq1GDryfumkT9IJ4P1feyAvc0glgYIAVCEnX6ppe4FwsZuYx0LksGiaR17XdAWRU0GBJUYVLK0ZTZ8JEsXRj9/BL3NoLYGCBFT7Q6uGXFNrJEYGOYEG0/xxvJdq3IERhWUhc1cgjGGNZvgi7xxuHXGBOdh7hYgd/MAmGWZQuDznjrPelArAyQgs7HeYRBZPmKz2obFGTCAIbwelfFZzWG2BkgBdXL2MSBqqW4lJeo9rjGQBFGXLlU5ySJJvoydIPCAP3AoLSJ6CJICGCucu9NA2sdgij1FYmMGqiQ+EFkgCwodb+xaMGMuHgEtcUrPdEOtllBwCQ5BoGTXTfuD90BVTAMDGB6p5VF+x+IUhoTXTt42YQQ8lDZ2C0kdVDheKF4IqolQuKchCiaOSFakKScPjtvDVWU8/8BFWavcIiHLzgAAAAASUVORK5CYII=\');\n  background-position-x: 50%;\n  background-position-y: center;\n  background-size: 25%;\n  background-repeat: no-repeat;\n  position: absolute;\n}\n\ndiv.CanvasXpressPlay:hover {\n  background-color: rgba(0, 0, 0, 0);\n}\n\n/*\n * full-screen-warning-container\n */\n\n#full-screen-warning-container {\n    background-color: transparent !important;\n    opacity: 0.4 !important;\n}\n\n#full-screen-warning-container[fade-warning-out] {\n    transition-property: opacity !important;\n    transition-duration: 1ms !important;\n    opacity: 0.0 !important;\n}\n\n#full-screen-warning-message {\n    padding: 15px !important;\n}\n\n.full-screen-description {\n    font-size: 100% !important;\n}\n\n#full-screen-domain-text {\n    font-size: 100% !important;\n    font-weight: bold !important;\n}\n\n.full-screen-approval-button,\n#full-screen-remember-decision {\n    font-size: 100% !important;\n}\n\n@media (min-width: 300px) {\n    div.CanvasXpressBin {\n        transform: scale(0.5);\n    }\n}\n\n@media (min-width: 450px) {\n    div.CanvasXpressBin {\n        transform: scale(0.75);\n    }\n}\n\n@media (min-width: 600px) {\n    div.CanvasXpressBin {\n        transform: scale(1);\n    }\n}\n\n\n/* Genie Effect */\n\n.genie {\n    position: relative;\n    background-repeat: no-repeat;\n    background-size: cover;\n}\n\n.genie .genie-step {\n    background-repeat: no-repeat;\n    background-image: inherit;\n    position: absolute;\n}\n\n.genie.genie-expand .genie-step {\n    -moz-transition: background-position 800ms ease-in-out;\n    -webkit-transition: background-position 800ms ease-in-out;\n    -o-transition: background-position 800ms ease-in-out;\n    -ms-transition: background-position 800ms ease-in-out;\n    transition: background-position 800ms ease-in-out;\n}\n\n.genie.genie-collapse .genie-step {\n    -moz-transition: all 300ms ease-in-out;\n    -webkit-transition: all 300ms ease-in-out;\n    -o-transition: all 300ms ease-in-out;\n    -ms-transition: all 300ms ease-in-out;\n    transition: all 300ms ease-in-out;\n}\n\n.genie.genie-collapse.change-pace .genie-step {\n    -moz-transition: background-position 800ms ease-in-out;\n    -webkit-transition: background-position 800ms ease-in-out;\n    -o-transition: background-position 800ms ease-in-out;\n    -ms-transition: background-position 800ms ease-in-out;\n    transition: background-position 800ms ease-in-out;\n}\n\n.genie.genie-expand.change-pace .genie-step {\n    -moz-transition: all 300ms ease-in-out;\n    -webkit-transition: all 300ms ease-in-out;\n    -o-transition: all 300ms ease-in-out;\n    -ms-transition: all 300ms ease-in-out;\n    transition: all 300ms ease-in-out;\n}\n\n\n/* Magic Effects */\n\n\n/*\nMagic - Ver 1.3.0 - https://minimamente.com\nLicensed under the MIT license\nCopyright (c) 2018 Christian Pucci\n*/\n\n.magictime {\n    -webkit-animation-duration: 1s;\n    animation-duration: 1s;\n    -webkit-animation-fill-mode: both;\n    animation-fill-mode: both;\n}\n\n.puffIn {\n    -webkit-animation-name: puffIn;\n    animation-name: puffIn;\n}\n\n@-webkit-keyframes puffIn {\n    0% {\n        opacity: 0;\n        -webkit-transform-origin: 50% 50%;\n        transform-origin: 50% 50%;\n        -webkit-transform: scale(2, 2);\n        transform: scale(2, 2);\n        -webkit-filter: blur(2px);\n        filter: blur(2px);\n    }\n    100% {\n        opacity: 1;\n        -webkit-transform-origin: 50% 50%;\n        transform-origin: 50% 50%;\n        -webkit-transform: scale(1, 1);\n        transform: scale(1, 1);\n        -webkit-filter: blur(0px);\n        filter: blur(0px);\n    }\n}\n\n@keyframes puffIn {\n    0% {\n        opacity: 0;\n        -webkit-transform-origin: 50% 50%;\n        transform-origin: 50% 50%;\n        -webkit-transform: scale(2, 2);\n        transform: scale(2, 2);\n        -webkit-filter: blur(2px);\n        filter: blur(2px);\n    }\n    100% {\n        opacity: 1;\n        -webkit-transform-origin: 50% 50%;\n        transform-origin: 50% 50%;\n        -webkit-transform: scale(1, 1);\n        transform: scale(1, 1);\n        -webkit-filter: blur(0px);\n        filter: blur(0px);\n    }\n}\n\n.puffOut {\n    -webkit-animation-name: puffOut;\n    animation-name: puffOut;\n}\n\n@-webkit-keyframes puffOut {\n    0% {\n        opacity: 1;\n        -webkit-transform-origin: 50% 50%;\n        transform-origin: 50% 50%;\n        -webkit-transform: scale(1, 1);\n        transform: scale(1, 1);\n        -webkit-filter: blur(0px);\n        filter: blur(0px);\n    }\n    100% {\n        opacity: 0;\n        -webkit-transform-origin: 50% 50%;\n        transform-origin: 50% 50%;\n        -webkit-transform: scale(2, 2);\n        transform: scale(2, 2);\n        -webkit-filter: blur(2px);\n        filter: blur(2px);\n    }\n}\n\n@keyframes puffOut {\n    0% {\n        opacity: 1;\n        -webkit-transform-origin: 50% 50%;\n        transform-origin: 50% 50%;\n        -webkit-transform: scale(1, 1);\n        transform: scale(1, 1);\n        -webkit-filter: blur(0px);\n        filter: blur(0px);\n    }\n    100% {\n        opacity: 0;\n        -webkit-transform-origin: 50% 50%;\n        transform-origin: 50% 50%;\n        -webkit-transform: scale(2, 2);\n        transform: scale(2, 2);\n        -webkit-filter: blur(2px);\n        filter: blur(2px);\n    }\n}\n\n.vanishIn {\n    -webkit-animation-name: vanishIn;\n    animation-name: vanishIn;\n}\n\n@-webkit-keyframes vanishIn {\n    0% {\n        opacity: 0;\n        -webkit-transform-origin: 50% 50%;\n        transform-origin: 50% 50%;\n        -webkit-transform: scale(2, 2);\n        transform: scale(2, 2);\n        -webkit-filter: blur(90px);\n        filter: blur(90px);\n    }\n    100% {\n        opacity: 1;\n        -webkit-transform-origin: 50% 50%;\n        transform-origin: 50% 50%;\n        -webkit-transform: scale(1, 1);\n        transform: scale(1, 1);\n        -webkit-filter: blur(0px);\n        filter: blur(0px);\n    }\n}\n\n@keyframes vanishIn {\n    0% {\n        opacity: 0;\n        -webkit-transform-origin: 50% 50%;\n        transform-origin: 50% 50%;\n        -webkit-transform: scale(2, 2);\n        transform: scale(2, 2);\n        -webkit-filter: blur(90px);\n        filter: blur(90px);\n    }\n    100% {\n        opacity: 1;\n        -webkit-transform-origin: 50% 50%;\n        transform-origin: 50% 50%;\n        -webkit-transform: scale(1, 1);\n        transform: scale(1, 1);\n        -webkit-filter: blur(0px);\n        filter: blur(0px);\n    }\n}\n\n.vanishOut {\n    -webkit-animation-name: vanishOut;\n    animation-name: vanishOut;\n}\n\n@-webkit-keyframes vanishOut {\n    0% {\n        opacity: 1;\n        -webkit-transform-origin: 50% 50%;\n        transform-origin: 50% 50%;\n        -webkit-transform: scale(1, 1);\n        transform: scale(1, 1);\n        -webkit-filter: blur(0px);\n        filter: blur(0px);\n    }\n    100% {\n        opacity: 0;\n        -webkit-transform-origin: 50% 50%;\n        transform-origin: 50% 50%;\n        -webkit-transform: scale(2, 2);\n        transform: scale(2, 2);\n        -webkit-filter: blur(20px);\n        filter: blur(20px);\n    }\n}\n\n@keyframes vanishOut {\n    0% {\n        opacity: 1;\n        -webkit-transform-origin: 50% 50%;\n        transform-origin: 50% 50%;\n        -webkit-transform: scale(1, 1);\n        transform: scale(1, 1);\n        -webkit-filter: blur(0px);\n        filter: blur(0px);\n    }\n    100% {\n        opacity: 0;\n        -webkit-transform-origin: 50% 50%;\n        transform-origin: 50% 50%;\n        -webkit-transform: scale(2, 2);\n        transform: scale(2, 2);\n        -webkit-filter: blur(20px);\n        filter: blur(20px);\n    }\n}\n\n.boingInUp {\n    -webkit-animation-name: boingInUp;\n    animation-name: boingInUp;\n}\n\n@-webkit-keyframes boingInUp {\n    0% {\n        opacity: 0;\n        -webkit-transform-origin: 50% 0%;\n        transform-origin: 50% 0%;\n        -webkit-transform: perspective(800px) rotateX(-90deg);\n        transform: perspective(800px) rotateX(-90deg);\n    }\n    50% {\n        opacity: 1;\n        -webkit-transform-origin: 50% 0%;\n        transform-origin: 50% 0%;\n        -webkit-transform: perspective(800px) rotateX(50deg);\n        transform: perspective(800px) rotateX(50deg);\n    }\n    100% {\n        opacity: 1;\n        -webkit-transform-origin: 50% 0%;\n        transform-origin: 50% 0%;\n        -webkit-transform: perspective(800px) rotateX(0deg);\n        transform: perspective(800px) rotateX(0deg);\n    }\n}\n\n@keyframes boingInUp {\n    0% {\n        opacity: 0;\n        -webkit-transform-origin: 50% 0%;\n        transform-origin: 50% 0%;\n        -webkit-transform: perspective(800px) rotateX(-90deg);\n        transform: perspective(800px) rotateX(-90deg);\n    }\n    50% {\n        opacity: 1;\n        -webkit-transform-origin: 50% 0%;\n        transform-origin: 50% 0%;\n        -webkit-transform: perspective(800px) rotateX(50deg);\n        transform: perspective(800px) rotateX(50deg);\n    }\n    100% {\n        opacity: 1;\n        -webkit-transform-origin: 50% 0%;\n        transform-origin: 50% 0%;\n        -webkit-transform: perspective(800px) rotateX(0deg);\n        transform: perspective(800px) rotateX(0deg);\n    }\n}\n\n.boingOutDown {\n    -webkit-animation-name: boingOutDown;\n    animation-name: boingOutDown;\n}\n\n@-webkit-keyframes boingOutDown {\n    0% {\n        opacity: 1;\n        -webkit-transform-origin: 100% 100%;\n        transform-origin: 100% 100%;\n        -webkit-transform: perspective(800px) rotateX(0deg) rotateY(0deg);\n        transform: perspective(800px) rotateX(0deg) rotateY(0deg);\n    }\n    20% {\n        opacity: 1;\n        -webkit-transform-origin: 100% 100%;\n        transform-origin: 100% 100%;\n        -webkit-transform: perspective(800px) rotateX(0deg) rotateY(10deg);\n        transform: perspective(800px) rotateX(0deg) rotateY(10deg);\n    }\n    30% {\n        opacity: 1;\n        -webkit-transform-origin: 0% 100%;\n        transform-origin: 0% 100%;\n        -webkit-transform: perspective(800px) rotateX(0deg) rotateY(0deg);\n        transform: perspective(800px) rotateX(0deg) rotateY(0deg);\n    }\n    40% {\n        opacity: 1;\n        -webkit-transform-origin: 0% 100%;\n        transform-origin: 0% 100%;\n        -webkit-transform: perspective(800px) rotateX(10deg) rotateY(10deg);\n        transform: perspective(800px) rotateX(10deg) rotateY(10deg);\n    }\n    100% {\n        opacity: 0;\n        -webkit-transform-origin: 100% 100%;\n        transform-origin: 100% 100%;\n        -webkit-transform: perspective(800px) rotateX(90deg) rotateY(0deg);\n        transform: perspective(800px) rotateX(90deg) rotateY(0deg);\n    }\n}\n\n@keyframes boingOutDown {\n    0% {\n        opacity: 1;\n        -webkit-transform-origin: 100% 100%;\n        transform-origin: 100% 100%;\n        -webkit-transform: perspective(800px) rotateX(0deg) rotateY(0deg);\n        transform: perspective(800px) rotateX(0deg) rotateY(0deg);\n    }\n    20% {\n        opacity: 1;\n        -webkit-transform-origin: 100% 100%;\n        transform-origin: 100% 100%;\n        -webkit-transform: perspective(800px) rotateX(0deg) rotateY(10deg);\n        transform: perspective(800px) rotateX(0deg) rotateY(10deg);\n    }\n    30% {\n        opacity: 1;\n        -webkit-transform-origin: 0% 100%;\n        transform-origin: 0% 100%;\n        -webkit-transform: perspective(800px) rotateX(0deg) rotateY(0deg);\n        transform: perspective(800px) rotateX(0deg) rotateY(0deg);\n    }\n    40% {\n        opacity: 1;\n        -webkit-transform-origin: 0% 100%;\n        transform-origin: 0% 100%;\n        -webkit-transform: perspective(800px) rotateX(10deg) rotateY(10deg);\n        transform: perspective(800px) rotateX(10deg) rotateY(10deg);\n    }\n    100% {\n        opacity: 0;\n        -webkit-transform-origin: 100% 100%;\n        transform-origin: 100% 100%;\n        -webkit-transform: perspective(800px) rotateX(90deg) rotateY(0deg);\n        transform: perspective(800px) rotateX(90deg) rotateY(0deg);\n    }\n}\n\n.foolishIn {\n    -webkit-animation-name: foolishIn;\n    animation-name: foolishIn;\n}\n\n@-webkit-keyframes foolishIn {\n    0% {\n        opacity: 0;\n        -webkit-transform-origin: 50% 50%;\n        transform-origin: 50% 50%;\n        -webkit-transform: scale(0, 0) rotate(360deg);\n        transform: scale(0, 0) rotate(360deg);\n    }\n    20% {\n        opacity: 1;\n        -webkit-transform-origin: 0% 100%;\n        transform-origin: 0% 100%;\n        -webkit-transform: scale(0.5, 0.5) rotate(0deg);\n        transform: scale(0.5, 0.5) rotate(0deg);\n    }\n    40% {\n        opacity: 1;\n        -webkit-transform-origin: 100% 100%;\n        transform-origin: 100% 100%;\n        -webkit-transform: scale(0.5, 0.5) rotate(0deg);\n        transform: scale(0.5, 0.5) rotate(0deg);\n    }\n    60% {\n        opacity: 1;\n        -webkit-transform-origin: 0%;\n        transform-origin: 0%;\n        -webkit-transform: scale(0.5, 0.5) rotate(0deg);\n        transform: scale(0.5, 0.5) rotate(0deg);\n    }\n    80% {\n        opacity: 1;\n        -webkit-transform-origin: 0% 0%;\n        transform-origin: 0% 0%;\n        -webkit-transform: scale(0.5, 0.5) rotate(0deg);\n        transform: scale(0.5, 0.5) rotate(0deg);\n    }\n    100% {\n        opacity: 1;\n        -webkit-transform-origin: 50% 50%;\n        transform-origin: 50% 50%;\n        -webkit-transform: scale(1, 1) rotate(0deg);\n        transform: scale(1, 1) rotate(0deg);\n    }\n}\n\n@keyframes foolishIn {\n    0% {\n        opacity: 0;\n        -webkit-transform-origin: 50% 50%;\n        transform-origin: 50% 50%;\n        -webkit-transform: scale(0, 0) rotate(360deg);\n        transform: scale(0, 0) rotate(360deg);\n    }\n    20% {\n        opacity: 1;\n        -webkit-transform-origin: 0% 100%;\n        transform-origin: 0% 100%;\n        -webkit-transform: scale(0.5, 0.5) rotate(0deg);\n        transform: scale(0.5, 0.5) rotate(0deg);\n    }\n    40% {\n        opacity: 1;\n        -webkit-transform-origin: 100% 100%;\n        transform-origin: 100% 100%;\n        -webkit-transform: scale(0.5, 0.5) rotate(0deg);\n        transform: scale(0.5, 0.5) rotate(0deg);\n    }\n    60% {\n        opacity: 1;\n        -webkit-transform-origin: 0%;\n        transform-origin: 0%;\n        -webkit-transform: scale(0.5, 0.5) rotate(0deg);\n        transform: scale(0.5, 0.5) rotate(0deg);\n    }\n    80% {\n        opacity: 1;\n        -webkit-transform-origin: 0% 0%;\n        transform-origin: 0% 0%;\n        -webkit-transform: scale(0.5, 0.5) rotate(0deg);\n        transform: scale(0.5, 0.5) rotate(0deg);\n    }\n    100% {\n        opacity: 1;\n        -webkit-transform-origin: 50% 50%;\n        transform-origin: 50% 50%;\n        -webkit-transform: scale(1, 1) rotate(0deg);\n        transform: scale(1, 1) rotate(0deg);\n    }\n}\n\n.foolishOut {\n    -webkit-animation-name: foolishOut;\n    animation-name: foolishOut;\n}\n\n@-webkit-keyframes foolishOut {\n    0% {\n        opacity: 1;\n        -webkit-transform-origin: 50% 50%;\n        transform-origin: 50% 50%;\n        -webkit-transform: scale(1, 1) rotate(360deg);\n        transform: scale(1, 1) rotate(360deg);\n    }\n    20% {\n        opacity: 1;\n        -webkit-transform-origin: 0% 0%;\n        transform-origin: 0% 0%;\n        -webkit-transform: scale(0.5, 0.5) rotate(0deg);\n        transform: scale(0.5, 0.5) rotate(0deg);\n    }\n    40% {\n        opacity: 1;\n        -webkit-transform-origin: 100% 0%;\n        transform-origin: 100% 0%;\n        -webkit-transform: scale(0.5, 0.5) rotate(0deg);\n        transform: scale(0.5, 0.5) rotate(0deg);\n    }\n    60% {\n        opacity: 1;\n        -webkit-transform-origin: 0%;\n        transform-origin: 0%;\n        -webkit-transform: scale(0.5, 0.5) rotate(0deg);\n        transform: scale(0.5, 0.5) rotate(0deg);\n    }\n    80% {\n        opacity: 1;\n        -webkit-transform-origin: 0% 100%;\n        transform-origin: 0% 100%;\n        -webkit-transform: scale(0.5, 0.5) rotate(0deg);\n        transform: scale(0.5, 0.5) rotate(0deg);\n    }\n    100% {\n        opacity: 0;\n        -webkit-transform-origin: 50% 50%;\n        transform-origin: 50% 50%;\n        -webkit-transform: scale(0, 0) rotate(0deg);\n        transform: scale(0, 0) rotate(0deg);\n    }\n}\n\n@keyframes foolishOut {\n    0% {\n        opacity: 1;\n        -webkit-transform-origin: 50% 50%;\n        transform-origin: 50% 50%;\n        -webkit-transform: scale(1, 1) rotate(360deg);\n        transform: scale(1, 1) rotate(360deg);\n    }\n    20% {\n        opacity: 1;\n        -webkit-transform-origin: 0% 0%;\n        transform-origin: 0% 0%;\n        -webkit-transform: scale(0.5, 0.5) rotate(0deg);\n        transform: scale(0.5, 0.5) rotate(0deg);\n    }\n    40% {\n        opacity: 1;\n        -webkit-transform-origin: 100% 0%;\n        transform-origin: 100% 0%;\n        -webkit-transform: scale(0.5, 0.5) rotate(0deg);\n        transform: scale(0.5, 0.5) rotate(0deg);\n    }\n    60% {\n        opacity: 1;\n        -webkit-transform-origin: 0%;\n        transform-origin: 0%;\n        -webkit-transform: scale(0.5, 0.5) rotate(0deg);\n        transform: scale(0.5, 0.5) rotate(0deg);\n    }\n    80% {\n        opacity: 1;\n        -webkit-transform-origin: 0% 100%;\n        transform-origin: 0% 100%;\n        -webkit-transform: scale(0.5, 0.5) rotate(0deg);\n        transform: scale(0.5, 0.5) rotate(0deg);\n    }\n    100% {\n        opacity: 0;\n        -webkit-transform-origin: 50% 50%;\n        transform-origin: 50% 50%;\n        -webkit-transform: scale(0, 0) rotate(0deg);\n        transform: scale(0, 0) rotate(0deg);\n    }\n}\n\n.holeIn {\n    -webkit-animation-name: holeIn;\n    animation-name: holeIn;\n}\n\n@-webkit-keyframes holeIn {\n    0% {\n        opacity: 0;\n        -webkit-transform-origin: 50% 50%;\n        transform-origin: 50% 50%;\n        -webkit-transform: scale(0, 0) rotateY(360deg);\n        transform: scale(0, 0) rotateY(360deg);\n    }\n    100% {\n        opacity: 1;\n        -webkit-transform-origin: 50% 50%;\n        transform-origin: 50% 50%;\n        -webkit-transform: scale(1, 1) rotateY(0deg);\n        transform: scale(1, 1) rotateY(0deg);\n    }\n}\n\n@keyframes holeIn {\n    0% {\n        opacity: 0;\n        -webkit-transform-origin: 50% 50%;\n        transform-origin: 50% 50%;\n        -webkit-transform: scale(0, 0) rotateY(360deg);\n        transform: scale(0, 0) rotateY(360deg);\n    }\n    100% {\n        opacity: 1;\n        -webkit-transform-origin: 50% 50%;\n        transform-origin: 50% 50%;\n        -webkit-transform: scale(1, 1) rotateY(0deg);\n        transform: scale(1, 1) rotateY(0deg);\n    }\n}\n\n.holeOut {\n    -webkit-animation-name: holeOut;\n    animation-name: holeOut;\n}\n\n@-webkit-keyframes holeOut {\n    0% {\n        opacity: 1;\n        -webkit-transform-origin: 50% 50%;\n        transform-origin: 50% 50%;\n        -webkit-transform: scale(1, 1) rotateY(0deg);\n        transform: scale(1, 1) rotateY(0deg);\n    }\n    100% {\n        opacity: 0;\n        -webkit-transform-origin: 50% 50%;\n        transform-origin: 50% 50%;\n        -webkit-transform: scale(0, 0) rotateY(180deg);\n        transform: scale(0, 0) rotateY(180deg);\n    }\n}\n\n@keyframes holeOut {\n    0% {\n        opacity: 1;\n        -webkit-transform-origin: 50% 50%;\n        transform-origin: 50% 50%;\n        -webkit-transform: scale(1, 1) rotateY(0deg);\n        transform: scale(1, 1) rotateY(0deg);\n    }\n    100% {\n        opacity: 0;\n        -webkit-transform-origin: 50% 50%;\n        transform-origin: 50% 50%;\n        -webkit-transform: scale(0, 0) rotateY(180deg);\n        transform: scale(0, 0) rotateY(180deg);\n    }\n}\n\n.swashIn {\n    -webkit-animation-name: swashIn;\n    animation-name: swashIn;\n}\n\n@-webkit-keyframes swashIn {\n    0% {\n        opacity: 0;\n        -webkit-transform-origin: 50% 50%;\n        transform-origin: 50% 50%;\n        -webkit-transform: scale(0, 0);\n        transform: scale(0, 0);\n    }\n    90% {\n        opacity: 1;\n        -webkit-transform-origin: 50% 50%;\n        transform-origin: 50% 50%;\n        -webkit-transform: scale(0.9, 0.9);\n        transform: scale(0.9, 0.9);\n    }\n    100% {\n        opacity: 1;\n        -webkit-transform-origin: 50% 50%;\n        transform-origin: 50% 50%;\n        -webkit-transform: scale(1, 1);\n        transform: scale(1, 1);\n    }\n}\n\n@keyframes swashIn {\n    0% {\n        opacity: 0;\n        -webkit-transform-origin: 50% 50%;\n        transform-origin: 50% 50%;\n        -webkit-transform: scale(0, 0);\n        transform: scale(0, 0);\n    }\n    90% {\n        opacity: 1;\n        -webkit-transform-origin: 50% 50%;\n        transform-origin: 50% 50%;\n        -webkit-transform: scale(0.9, 0.9);\n        transform: scale(0.9, 0.9);\n    }\n    100% {\n        opacity: 1;\n        -webkit-transform-origin: 50% 50%;\n        transform-origin: 50% 50%;\n        -webkit-transform: scale(1, 1);\n        transform: scale(1, 1);\n    }\n}\n\n.swashOut {\n    -webkit-animation-name: swashOut;\n    animation-name: swashOut;\n}\n\n@-webkit-keyframes swashOut {\n    0% {\n        opacity: 1;\n        -webkit-transform-origin: 50% 50%;\n        transform-origin: 50% 50%;\n        -webkit-transform: scale(1, 1);\n        transform: scale(1, 1);\n    }\n    80% {\n        opacity: 1;\n        -webkit-transform-origin: 50% 50%;\n        transform-origin: 50% 50%;\n        -webkit-transform: scale(0.9, 0.9);\n        transform: scale(0.9, 0.9);\n    }\n    100% {\n        opacity: 0;\n        -webkit-transform-origin: 50% 50%;\n        transform-origin: 50% 50%;\n        -webkit-transform: scale(0, 0);\n        transform: scale(0, 0);\n    }\n}\n\n@keyframes swashOut {\n    0% {\n        opacity: 1;\n        -webkit-transform-origin: 50% 50%;\n        transform-origin: 50% 50%;\n        -webkit-transform: scale(1, 1);\n        transform: scale(1, 1);\n    }\n    80% {\n        opacity: 1;\n        -webkit-transform-origin: 50% 50%;\n        transform-origin: 50% 50%;\n        -webkit-transform: scale(0.9, 0.9);\n        transform: scale(0.9, 0.9);\n    }\n    100% {\n        opacity: 0;\n        -webkit-transform-origin: 50% 50%;\n        transform-origin: 50% 50%;\n        -webkit-transform: scale(0, 0);\n        transform: scale(0, 0);\n    }\n}\n\n.bombLeftOut {\n    -webkit-animation-name: bombLeftOut;\n    animation-name: bombLeftOut;\n}\n\n@-webkit-keyframes bombLeftOut {\n    0% {\n        opacity: 1;\n        -webkit-transform-origin: 50% 50%;\n        transform-origin: 50% 50%;\n        -webkit-transform: rotate(0deg);\n        transform: rotate(0deg);\n        -webkit-filter: blur(0px);\n        filter: blur(0px);\n    }\n    50% {\n        opacity: 1;\n        -webkit-transform-origin: -100% 50%;\n        transform-origin: -100% 50%;\n        -webkit-transform: rotate(-160deg);\n        transform: rotate(-160deg);\n        -webkit-filter: blur(0px);\n        filter: blur(0px);\n    }\n    100% {\n        opacity: 0;\n        -webkit-transform-origin: -100% 50%;\n        transform-origin: -100% 50%;\n        -webkit-transform: rotate(-160deg);\n        transform: rotate(-160deg);\n        -webkit-filter: blur(20px);\n        filter: blur(20px);\n    }\n}\n\n@keyframes bombLeftOut {\n    0% {\n        opacity: 1;\n        -webkit-transform-origin: 50% 50%;\n        transform-origin: 50% 50%;\n        -webkit-transform: rotate(0deg);\n        transform: rotate(0deg);\n        -webkit-filter: blur(0px);\n        filter: blur(0px);\n    }\n    50% {\n        opacity: 1;\n        -webkit-transform-origin: -100% 50%;\n        transform-origin: -100% 50%;\n        -webkit-transform: rotate(-160deg);\n        transform: rotate(-160deg);\n        -webkit-filter: blur(0px);\n        filter: blur(0px);\n    }\n    100% {\n        opacity: 0;\n        -webkit-transform-origin: -100% 50%;\n        transform-origin: -100% 50%;\n        -webkit-transform: rotate(-160deg);\n        transform: rotate(-160deg);\n        -webkit-filter: blur(20px);\n        filter: blur(20px);\n    }\n}\n\n.bombRightOut {\n    -webkit-animation-name: bombRightOut;\n    animation-name: bombRightOut;\n}\n\n@-webkit-keyframes bombRightOut {\n    0% {\n        opacity: 1;\n        -webkit-transform-origin: 50% 50%;\n        transform-origin: 50% 50%;\n        -webkit-transform: rotate(0deg);\n        transform: rotate(0deg);\n        -webkit-filter: blur(0px);\n        filter: blur(0px);\n    }\n    50% {\n        opacity: 1;\n        -webkit-transform-origin: 200% 50%;\n        transform-origin: 200% 50%;\n        -webkit-transform: rotate(160deg);\n        transform: rotate(160deg);\n        -webkit-filter: blur(0px);\n        filter: blur(0px);\n    }\n    100% {\n        opacity: 0;\n        -webkit-transform-origin: 200% 50%;\n        transform-origin: 200% 50%;\n        -webkit-transform: rotate(160deg);\n        transform: rotate(160deg);\n        -webkit-filter: blur(20px);\n        filter: blur(20px);\n    }\n}\n\n@keyframes bombRightOut {\n    0% {\n        opacity: 1;\n        -webkit-transform-origin: 50% 50%;\n        transform-origin: 50% 50%;\n        -webkit-transform: rotate(0deg);\n        transform: rotate(0deg);\n        -webkit-filter: blur(0px);\n        filter: blur(0px);\n    }\n    50% {\n        opacity: 1;\n        -webkit-transform-origin: 200% 50%;\n        transform-origin: 200% 50%;\n        -webkit-transform: rotate(160deg);\n        transform: rotate(160deg);\n        -webkit-filter: blur(0px);\n        filter: blur(0px);\n    }\n    100% {\n        opacity: 0;\n        -webkit-transform-origin: 200% 50%;\n        transform-origin: 200% 50%;\n        -webkit-transform: rotate(160deg);\n        transform: rotate(160deg);\n        -webkit-filter: blur(20px);\n        filter: blur(20px);\n    }\n}\n\n.magic {\n    -webkit-animation-name: magic;\n    animation-name: magic;\n}\n\n@-webkit-keyframes magic {\n    0% {\n        opacity: 1;\n        -webkit-transform-origin: 100% 200%;\n        transform-origin: 100% 200%;\n        -webkit-transform: scale(1, 1) rotate(0deg);\n        transform: scale(1, 1) rotate(0deg);\n    }\n    100% {\n        opacity: 0;\n        -webkit-transform-origin: 200% 500%;\n        transform-origin: 200% 500%;\n        -webkit-transform: scale(0, 0) rotate(270deg);\n        transform: scale(0, 0) rotate(270deg);\n    }\n}\n\n@keyframes magic {\n    0% {\n        opacity: 1;\n        -webkit-transform-origin: 100% 200%;\n        transform-origin: 100% 200%;\n        -webkit-transform: scale(1, 1) rotate(0deg);\n        transform: scale(1, 1) rotate(0deg);\n    }\n    100% {\n        opacity: 0;\n        -webkit-transform-origin: 200% 500%;\n        transform-origin: 200% 500%;\n        -webkit-transform: scale(0, 0) rotate(270deg);\n        transform: scale(0, 0) rotate(270deg);\n    }\n}\n\n.swap {\n    -webkit-animation-name: swap;\n    animation-name: swap;\n}\n\n@-webkit-keyframes swap {\n    0% {\n        opacity: 0;\n        -webkit-transform-origin: 0 100%;\n        transform-origin: 0 100%;\n        -webkit-transform: scale(0, 0) translate(-700px, 0px);\n        transform: scale(0, 0) translate(-700px, 0px);\n    }\n    100% {\n        opacity: 1;\n        -webkit-transform-origin: 100% 100%;\n        transform-origin: 100% 100%;\n        -webkit-transform: scale(1, 1) translate(0px, 0px);\n        transform: scale(1, 1) translate(0px, 0px);\n    }\n}\n\n@keyframes swap {\n    0% {\n        opacity: 0;\n        -webkit-transform-origin: 0 100%;\n        transform-origin: 0 100%;\n        -webkit-transform: scale(0, 0) translate(-700px, 0px);\n        transform: scale(0, 0) translate(-700px, 0px);\n    }\n    100% {\n        opacity: 1;\n        -webkit-transform-origin: 100% 100%;\n        transform-origin: 100% 100%;\n        -webkit-transform: scale(1, 1) translate(0px, 0px);\n        transform: scale(1, 1) translate(0px, 0px);\n    }\n}\n\n.twisterInDown {\n    -webkit-animation-name: twisterInDown;\n    animation-name: twisterInDown;\n}\n\n@-webkit-keyframes twisterInDown {\n    0% {\n        opacity: 0;\n        -webkit-transform-origin: 0 100%;\n        transform-origin: 0 100%;\n        -webkit-transform: scale(0, 0) rotate(360deg) translateY(-100%);\n        transform: scale(0, 0) rotate(360deg) translateY(-100%);\n    }\n    30% {\n        -webkit-transform-origin: 0 100%;\n        transform-origin: 0 100%;\n        -webkit-transform: scale(0, 0) rotate(360deg) translateY(-100%);\n        transform: scale(0, 0) rotate(360deg) translateY(-100%);\n    }\n    100% {\n        opacity: 1;\n        -webkit-transform-origin: 100% 100%;\n        transform-origin: 100% 100%;\n        -webkit-transform: scale(1, 1) rotate(0deg) translateY(0%);\n        transform: scale(1, 1) rotate(0deg) translateY(0%);\n    }\n}\n\n@keyframes twisterInDown {\n    0% {\n        opacity: 0;\n        -webkit-transform-origin: 0 100%;\n        transform-origin: 0 100%;\n        -webkit-transform: scale(0, 0) rotate(360deg) translateY(-100%);\n        transform: scale(0, 0) rotate(360deg) translateY(-100%);\n    }\n    30% {\n        -webkit-transform-origin: 0 100%;\n        transform-origin: 0 100%;\n        -webkit-transform: scale(0, 0) rotate(360deg) translateY(-100%);\n        transform: scale(0, 0) rotate(360deg) translateY(-100%);\n    }\n    100% {\n        opacity: 1;\n        -webkit-transform-origin: 100% 100%;\n        transform-origin: 100% 100%;\n        -webkit-transform: scale(1, 1) rotate(0deg) translateY(0%);\n        transform: scale(1, 1) rotate(0deg) translateY(0%);\n    }\n}\n\n.twisterInUp {\n    -webkit-animation-name: twisterInUp;\n    animation-name: twisterInUp;\n}\n\n@-webkit-keyframes twisterInUp {\n    0% {\n        opacity: 0;\n        -webkit-transform-origin: 100% 0;\n        transform-origin: 100% 0;\n        -webkit-transform: scale(0, 0) rotate(360deg) translateY(100%);\n        transform: scale(0, 0) rotate(360deg) translateY(100%);\n    }\n    30% {\n        -webkit-transform-origin: 100% 0;\n        transform-origin: 100% 0;\n        -webkit-transform: scale(0, 0) rotate(360deg) translateY(100%);\n        transform: scale(0, 0) rotate(360deg) translateY(100%);\n    }\n    100% {\n        opacity: 1;\n        -webkit-transform-origin: 0 0;\n        transform-origin: 0 0;\n        -webkit-transform: scale(1, 1) rotate(0deg) translateY(0);\n        transform: scale(1, 1) rotate(0deg) translateY(0);\n    }\n}\n\n@keyframes twisterInUp {\n    0% {\n        opacity: 0;\n        -webkit-transform-origin: 100% 0;\n        transform-origin: 100% 0;\n        -webkit-transform: scale(0, 0) rotate(360deg) translateY(100%);\n        transform: scale(0, 0) rotate(360deg) translateY(100%);\n    }\n    30% {\n        -webkit-transform-origin: 100% 0;\n        transform-origin: 100% 0;\n        -webkit-transform: scale(0, 0) rotate(360deg) translateY(100%);\n        transform: scale(0, 0) rotate(360deg) translateY(100%);\n    }\n    100% {\n        opacity: 1;\n        -webkit-transform-origin: 0 0;\n        transform-origin: 0 0;\n        -webkit-transform: scale(1, 1) rotate(0deg) translateY(0);\n        transform: scale(1, 1) rotate(0deg) translateY(0);\n    }\n}\n\n.spaceInDown {\n    -webkit-animation-name: spaceInDown;\n    animation-name: spaceInDown;\n}\n\n@-webkit-keyframes spaceInDown {\n    0% {\n        opacity: 0;\n        -webkit-transform-origin: 50% 100%;\n        transform-origin: 50% 100%;\n        -webkit-transform: scale(.2) translate(0%, 200%);\n        transform: scale(.2) translate(0%, 200%);\n    }\n    100% {\n        opacity: 1;\n        -webkit-transform-origin: 50% 100%;\n        transform-origin: 50% 100%;\n        -webkit-transform: scale(1) translate(0%, 0%);\n        transform: scale(1) translate(0%, 0%);\n    }\n}\n\n@keyframes spaceInDown {\n    0% {\n        opacity: 0;\n        -webkit-transform-origin: 50% 100%;\n        transform-origin: 50% 100%;\n        -webkit-transform: scale(.2) translate(0%, 200%);\n        transform: scale(.2) translate(0%, 200%);\n    }\n    100% {\n        opacity: 1;\n        -webkit-transform-origin: 50% 100%;\n        transform-origin: 50% 100%;\n        -webkit-transform: scale(1) translate(0%, 0%);\n        transform: scale(1) translate(0%, 0%);\n    }\n}\n\n.spaceInLeft {\n    -webkit-animation-name: spaceInLeft;\n    animation-name: spaceInLeft;\n}\n\n@-webkit-keyframes spaceInLeft {\n    0% {\n        opacity: 0;\n        -webkit-transform-origin: 0% 50%;\n        transform-origin: 0% 50%;\n        -webkit-transform: scale(.2) translate(-200%, 0%);\n        transform: scale(.2) translate(-200%, 0%);\n    }\n    100% {\n        opacity: 1;\n        -webkit-transform-origin: 0% 50%;\n        transform-origin: 0% 50%;\n        -webkit-transform: scale(1) translate(0%, 0%);\n        transform: scale(1) translate(0%, 0%);\n    }\n}\n\n@keyframes spaceInLeft {\n    0% {\n        opacity: 0;\n        -webkit-transform-origin: 0% 50%;\n        transform-origin: 0% 50%;\n        -webkit-transform: scale(.2) translate(-200%, 0%);\n        transform: scale(.2) translate(-200%, 0%);\n    }\n    100% {\n        opacity: 1;\n        -webkit-transform-origin: 0% 50%;\n        transform-origin: 0% 50%;\n        -webkit-transform: scale(1) translate(0%, 0%);\n        transform: scale(1) translate(0%, 0%);\n    }\n}\n\n.spaceInRight {\n    -webkit-animation-name: spaceInRight;\n    animation-name: spaceInRight;\n}\n\n@-webkit-keyframes spaceInRight {\n    0% {\n        opacity: 0;\n        -webkit-transform-origin: 100% 50%;\n        transform-origin: 100% 50%;\n        -webkit-transform: scale(.2) translate(200%, 0%);\n        transform: scale(.2) translate(200%, 0%);\n    }\n    100% {\n        opacity: 1;\n        -webkit-transform-origin: 100% 50%;\n        transform-origin: 100% 50%;\n        -webkit-transform: scale(1) translate(0%, 0%);\n        transform: scale(1) translate(0%, 0%);\n    }\n}\n\n@keyframes spaceInRight {\n    0% {\n        opacity: 0;\n        -webkit-transform-origin: 100% 50%;\n        transform-origin: 100% 50%;\n        -webkit-transform: scale(.2) translate(200%, 0%);\n        transform: scale(.2) translate(200%, 0%);\n    }\n    100% {\n        opacity: 1;\n        -webkit-transform-origin: 100% 50%;\n        transform-origin: 100% 50%;\n        -webkit-transform: scale(1) translate(0%, 0%);\n        transform: scale(1) translate(0%, 0%);\n    }\n}\n\n.spaceInUp {\n    -webkit-animation-name: spaceInUp;\n    animation-name: spaceInUp;\n}\n\n@-webkit-keyframes spaceInUp {\n    0% {\n        opacity: 0;\n        -webkit-transform-origin: 50% 0%;\n        transform-origin: 50% 0%;\n        -webkit-transform: scale(.2) translate(0%, -200%);\n        transform: scale(.2) translate(0%, -200%);\n    }\n    100% {\n        opacity: 1;\n        -webkit-transform-origin: 50% 0%;\n        transform-origin: 50% 0%;\n        -webkit-transform: scale(1) translate(0%, 0%);\n        transform: scale(1) translate(0%, 0%);\n    }\n}\n\n@keyframes spaceInUp {\n    0% {\n        opacity: 0;\n        -webkit-transform-origin: 50% 0%;\n        transform-origin: 50% 0%;\n        -webkit-transform: scale(.2) translate(0%, -200%);\n        transform: scale(.2) translate(0%, -200%);\n    }\n    100% {\n        opacity: 1;\n        -webkit-transform-origin: 50% 0%;\n        transform-origin: 50% 0%;\n        -webkit-transform: scale(1) translate(0%, 0%);\n        transform: scale(1) translate(0%, 0%);\n    }\n}\n\n.spaceOutDown {\n    -webkit-animation-name: spaceOutDown;\n    animation-name: spaceOutDown;\n}\n\n@-webkit-keyframes spaceOutDown {\n    0% {\n        opacity: 1;\n        -webkit-transform-origin: 50% 100%;\n        transform-origin: 50% 100%;\n        -webkit-transform: scale(1) translate(0%, 0%);\n        transform: scale(1) translate(0%, 0%);\n    }\n    100% {\n        opacity: 0;\n        -webkit-transform-origin: 50% 100%;\n        transform-origin: 50% 100%;\n        -webkit-transform: scale(.2) translate(0%, 200%);\n        transform: scale(.2) translate(0%, 200%);\n    }\n}\n\n@keyframes spaceOutDown {\n    0% {\n        opacity: 1;\n        -webkit-transform-origin: 50% 100%;\n        transform-origin: 50% 100%;\n        -webkit-transform: scale(1) translate(0%, 0%);\n        transform: scale(1) translate(0%, 0%);\n    }\n    100% {\n        opacity: 0;\n        -webkit-transform-origin: 50% 100%;\n        transform-origin: 50% 100%;\n        -webkit-transform: scale(.2) translate(0%, 200%);\n        transform: scale(.2) translate(0%, 200%);\n    }\n}\n\n.spaceOutLeft {\n    -webkit-animation-name: spaceOutLeft;\n    animation-name: spaceOutLeft;\n}\n\n@-webkit-keyframes spaceOutLeft {\n    0% {\n        opacity: 1;\n        -webkit-transform-origin: 0% 50%;\n        transform-origin: 0% 50%;\n        -webkit-transform: scale(1) translate(0%, 0%);\n        transform: scale(1) translate(0%, 0%);\n    }\n    100% {\n        opacity: 0;\n        -webkit-transform-origin: 0% 50%;\n        transform-origin: 0% 50%;\n        -webkit-transform: scale(.2) translate(-200%, 0%);\n        transform: scale(.2) translate(-200%, 0%);\n    }\n}\n\n@keyframes spaceOutLeft {\n    0% {\n        opacity: 1;\n        -webkit-transform-origin: 0% 50%;\n        transform-origin: 0% 50%;\n        -webkit-transform: scale(1) translate(0%, 0%);\n        transform: scale(1) translate(0%, 0%);\n    }\n    100% {\n        opacity: 0;\n        -webkit-transform-origin: 0% 50%;\n        transform-origin: 0% 50%;\n        -webkit-transform: scale(.2) translate(-200%, 0%);\n        transform: scale(.2) translate(-200%, 0%);\n    }\n}\n\n.spaceOutRight {\n    -webkit-animation-name: spaceOutRight;\n    animation-name: spaceOutRight;\n}\n\n@-webkit-keyframes spaceOutRight {\n    0% {\n        opacity: 1;\n        -webkit-transform-origin: 100% 50%;\n        transform-origin: 100% 50%;\n        -webkit-transform: scale(1) translate(0%, 0%);\n        transform: scale(1) translate(0%, 0%);\n    }\n    100% {\n        opacity: 0;\n        -webkit-transform-origin: 100% 50%;\n        transform-origin: 100% 50%;\n        -webkit-transform: scale(.2) translate(200%, 0%);\n        transform: scale(.2) translate(200%, 0%);\n    }\n}\n\n@keyframes spaceOutRight {\n    0% {\n        opacity: 1;\n        -webkit-transform-origin: 100% 50%;\n        transform-origin: 100% 50%;\n        -webkit-transform: scale(1) translate(0%, 0%);\n        transform: scale(1) translate(0%, 0%);\n    }\n    100% {\n        opacity: 0;\n        -webkit-transform-origin: 100% 50%;\n        transform-origin: 100% 50%;\n        -webkit-transform: scale(.2) translate(200%, 0%);\n        transform: scale(.2) translate(200%, 0%);\n    }\n}\n\n.spaceOutUp {\n    -webkit-animation-name: spaceOutUp;\n    animation-name: spaceOutUp;\n}\n\n@-webkit-keyframes spaceOutUp {\n    0% {\n        opacity: 1;\n        -webkit-transform-origin: 50% 0%;\n        transform-origin: 50% 0%;\n        -webkit-transform: scale(1) translate(0%, 0%);\n        transform: scale(1) translate(0%, 0%);\n    }\n    100% {\n        opacity: 0;\n        -webkit-transform-origin: 50% 0%;\n        transform-origin: 50% 0%;\n        -webkit-transform: scale(.2) translate(0%, -200%);\n        transform: scale(.2) translate(0%, -200%);\n    }\n}\n\n@keyframes spaceOutUp {\n    0% {\n        opacity: 1;\n        -webkit-transform-origin: 50% 0%;\n        transform-origin: 50% 0%;\n        -webkit-transform: scale(1) translate(0%, 0%);\n        transform: scale(1) translate(0%, 0%);\n    }\n    100% {\n        opacity: 0;\n        -webkit-transform-origin: 50% 0%;\n        transform-origin: 50% 0%;\n        -webkit-transform: scale(.2) translate(0%, -200%);\n        transform: scale(.2) translate(0%, -200%);\n    }\n}\n\n.perspectiveDown {\n    -webkit-animation-name: perspectiveDown;\n    animation-name: perspectiveDown;\n}\n\n@-webkit-keyframes perspectiveDown {\n    0% {\n        -webkit-transform-origin: 0 100%;\n        transform-origin: 0 100%;\n        -webkit-transform: perspective(800px) rotateX(0deg);\n        transform: perspective(800px) rotateX(0deg);\n    }\n    100% {\n        -webkit-transform-origin: 0 100%;\n        transform-origin: 0 100%;\n        -webkit-transform: perspective(800px) rotateX(-180deg);\n        transform: perspective(800px) rotateX(-180deg);\n    }\n}\n\n@keyframes perspectiveDown {\n    0% {\n        -webkit-transform-origin: 0 100%;\n        transform-origin: 0 100%;\n        -webkit-transform: perspective(800px) rotateX(0deg);\n        transform: perspective(800px) rotateX(0deg);\n    }\n    100% {\n        -webkit-transform-origin: 0 100%;\n        transform-origin: 0 100%;\n        -webkit-transform: perspective(800px) rotateX(-180deg);\n        transform: perspective(800px) rotateX(-180deg);\n    }\n}\n\n.perspectiveDownReturn {\n    -webkit-animation-name: perspectiveDownReturn;\n    animation-name: perspectiveDownReturn;\n}\n\n@-webkit-keyframes perspectiveDownReturn {\n    0% {\n        -webkit-transform-origin: 0 100%;\n        transform-origin: 0 100%;\n        -webkit-transform: perspective(800px) rotateX(-180deg);\n        transform: perspective(800px) rotateX(-180deg);\n    }\n    100% {\n        -webkit-transform-origin: 0 100%;\n        transform-origin: 0 100%;\n        -webkit-transform: perspective(800px) rotateX(0deg);\n        transform: perspective(800px) rotateX(0deg);\n    }\n}\n\n@keyframes perspectiveDownReturn {\n    0% {\n        -webkit-transform-origin: 0 100%;\n        transform-origin: 0 100%;\n        -webkit-transform: perspective(800px) rotateX(-180deg);\n        transform: perspective(800px) rotateX(-180deg);\n    }\n    100% {\n        -webkit-transform-origin: 0 100%;\n        transform-origin: 0 100%;\n        -webkit-transform: perspective(800px) rotateX(0deg);\n        transform: perspective(800px) rotateX(0deg);\n    }\n}\n\n.perspectiveLeft {\n    -webkit-animation-name: perspectiveLeft;\n    animation-name: perspectiveLeft;\n}\n\n@-webkit-keyframes perspectiveLeft {\n    0% {\n        -webkit-transform-origin: 0 0;\n        transform-origin: 0 0;\n        -webkit-transform: perspective(800px) rotateY(0deg);\n        transform: perspective(800px) rotateY(0deg);\n    }\n    100% {\n        -webkit-transform-origin: 0 0;\n        transform-origin: 0 0;\n        -webkit-transform: perspective(800px) rotateY(-180deg);\n        transform: perspective(800px) rotateY(-180deg);\n    }\n}\n\n@keyframes perspectiveLeft {\n    0% {\n        -webkit-transform-origin: 0 0;\n        transform-origin: 0 0;\n        -webkit-transform: perspective(800px) rotateY(0deg);\n        transform: perspective(800px) rotateY(0deg);\n    }\n    100% {\n        -webkit-transform-origin: 0 0;\n        transform-origin: 0 0;\n        -webkit-transform: perspective(800px) rotateY(-180deg);\n        transform: perspective(800px) rotateY(-180deg);\n    }\n}\n\n.perspectiveLeftReturn {\n    -webkit-animation-name: perspectiveLeftReturn;\n    animation-name: perspectiveLeftReturn;\n}\n\n@-webkit-keyframes perspectiveLeftReturn {\n    0% {\n        -webkit-transform-origin: 0 0;\n        transform-origin: 0 0;\n        -webkit-transform: perspective(800px) rotateY(-180deg);\n        transform: perspective(800px) rotateY(-180deg);\n    }\n    100% {\n        -webkit-transform-origin: 0 0;\n        transform-origin: 0 0;\n        -webkit-transform: perspective(800px) rotateY(0deg);\n        transform: perspective(800px) rotateY(0deg);\n    }\n}\n\n@keyframes perspectiveLeftReturn {\n    0% {\n        -webkit-transform-origin: 0 0;\n        transform-origin: 0 0;\n        -webkit-transform: perspective(800px) rotateY(-180deg);\n        transform: perspective(800px) rotateY(-180deg);\n    }\n    100% {\n        -webkit-transform-origin: 0 0;\n        transform-origin: 0 0;\n        -webkit-transform: perspective(800px) rotateY(0deg);\n        transform: perspective(800px) rotateY(0deg);\n    }\n}\n\n.perspectiveRight {\n    -webkit-animation-name: perspectiveRight;\n    animation-name: perspectiveRight;\n}\n\n@-webkit-keyframes perspectiveRight {\n    0% {\n        -webkit-transform-origin: 100% 0;\n        transform-origin: 100% 0;\n        -webkit-transform: perspective(800px) rotateY(0deg);\n        transform: perspective(800px) rotateY(0deg);\n    }\n    100% {\n        -webkit-transform-origin: 100% 0;\n        transform-origin: 100% 0;\n        -webkit-transform: perspective(800px) rotateY(180deg);\n        transform: perspective(800px) rotateY(180deg);\n    }\n}\n\n@keyframes perspectiveRight {\n    0% {\n        -webkit-transform-origin: 100% 0;\n        transform-origin: 100% 0;\n        -webkit-transform: perspective(800px) rotateY(0deg);\n        transform: perspective(800px) rotateY(0deg);\n    }\n    100% {\n        -webkit-transform-origin: 100% 0;\n        transform-origin: 100% 0;\n        -webkit-transform: perspective(800px) rotateY(180deg);\n        transform: perspective(800px) rotateY(180deg);\n    }\n}\n\n.perspectiveRightReturn {\n    -webkit-animation-name: perspectiveRightReturn;\n    animation-name: perspectiveRightReturn;\n}\n\n@-webkit-keyframes perspectiveRightReturn {\n    0% {\n        -webkit-transform-origin: 100% 0;\n        transform-origin: 100% 0;\n        -webkit-transform: perspective(800px) rotateY(180deg);\n        transform: perspective(800px) rotateY(180deg);\n    }\n    100% {\n        -webkit-transform-origin: 100% 0;\n        transform-origin: 100% 0;\n        -webkit-transform: perspective(800px) rotateY(0deg);\n        transform: perspective(800px) rotateY(0deg);\n    }\n}\n\n@keyframes perspectiveRightReturn {\n    0% {\n        -webkit-transform-origin: 100% 0;\n        transform-origin: 100% 0;\n        -webkit-transform: perspective(800px) rotateY(180deg);\n        transform: perspective(800px) rotateY(180deg);\n    }\n    100% {\n        -webkit-transform-origin: 100% 0;\n        transform-origin: 100% 0;\n        -webkit-transform: perspective(800px) rotateY(0deg);\n        transform: perspective(800px) rotateY(0deg);\n    }\n}\n\n.perspectiveUp {\n    -webkit-animation-name: perspectiveUp;\n    animation-name: perspectiveUp;\n}\n\n@-webkit-keyframes perspectiveUp {\n    0% {\n        -webkit-transform-origin: 0 0;\n        transform-origin: 0 0;\n        -webkit-transform: perspective(800px) rotateX(0deg);\n        transform: perspective(800px) rotateX(0deg);\n    }\n    100% {\n        -webkit-transform-origin: 0 0;\n        transform-origin: 0 0;\n        -webkit-transform: perspective(800px) rotateX(180deg);\n        transform: perspective(800px) rotateX(180deg);\n    }\n}\n\n@keyframes perspectiveUp {\n    0% {\n        -webkit-transform-origin: 0 0;\n        transform-origin: 0 0;\n        -webkit-transform: perspective(800px) rotateX(0deg);\n        transform: perspective(800px) rotateX(0deg);\n    }\n    100% {\n        -webkit-transform-origin: 0 0;\n        transform-origin: 0 0;\n        -webkit-transform: perspective(800px) rotateX(180deg);\n        transform: perspective(800px) rotateX(180deg);\n    }\n}\n\n.perspectiveUpReturn {\n    -webkit-animation-name: perspectiveUpReturn;\n    animation-name: perspectiveUpReturn;\n}\n\n@-webkit-keyframes perspectiveUpReturn {\n    0% {\n        -webkit-transform-origin: 0 0;\n        transform-origin: 0 0;\n        -webkit-transform: perspective(800px) rotateX(180deg);\n        transform: perspective(800px) rotateX(180deg);\n    }\n    100% {\n        -webkit-transform-origin: 0 0;\n        transform-origin: 0 0;\n        -webkit-transform: perspective(800px) rotateX(0deg);\n        transform: perspective(800px) rotateX(0deg);\n    }\n}\n\n@keyframes perspectiveUpReturn {\n    0% {\n        -webkit-transform-origin: 0 0;\n        transform-origin: 0 0;\n        -webkit-transform: perspective(800px) rotateX(180deg);\n        transform: perspective(800px) rotateX(180deg);\n    }\n    100% {\n        -webkit-transform-origin: 0 0;\n        transform-origin: 0 0;\n        -webkit-transform: perspective(800px) rotateX(0deg);\n        transform: perspective(800px) rotateX(0deg);\n    }\n}\n\n.rotateDown {\n    -webkit-animation-name: rotateDown;\n    animation-name: rotateDown;\n}\n\n@-webkit-keyframes rotateDown {\n    0% {\n        opacity: 1;\n        -webkit-transform-origin: 0 0;\n        transform-origin: 0 0;\n        -webkit-transform: perspective(800px) rotateX(0deg) translateZ(0px);\n        transform: perspective(800px) rotateX(0deg) translateZ(0px);\n    }\n    100% {\n        opacity: 0;\n        -webkit-transform-origin: 50% 100%;\n        transform-origin: 50% 100%;\n        -webkit-transform: perspective(800px) rotateX(-180deg) translateZ(300px);\n        transform: perspective(800px) rotateX(-180deg) translateZ(300px);\n    }\n}\n\n@keyframes rotateDown {\n    0% {\n        opacity: 1;\n        -webkit-transform-origin: 0 0;\n        transform-origin: 0 0;\n        -webkit-transform: perspective(800px) rotateX(0deg) translateZ(0px);\n        transform: perspective(800px) rotateX(0deg) translateZ(0px);\n    }\n    100% {\n        opacity: 0;\n        -webkit-transform-origin: 50% 100%;\n        transform-origin: 50% 100%;\n        -webkit-transform: perspective(800px) rotateX(-180deg) translateZ(300px);\n        transform: perspective(800px) rotateX(-180deg) translateZ(300px);\n    }\n}\n\n.rotateLeft {\n    -webkit-animation-name: rotateLeft;\n    animation-name: rotateLeft;\n}\n\n@-webkit-keyframes rotateLeft {\n    0% {\n        opacity: 1;\n        -webkit-transform-origin: 0 0;\n        transform-origin: 0 0;\n        -webkit-transform: perspective(800px) rotateY(0deg) translateZ(0px);\n        transform: perspective(800px) rotateY(0deg) translateZ(0px);\n    }\n    100% {\n        opacity: 0;\n        -webkit-transform-origin: 50% 0;\n        transform-origin: 50% 0;\n        -webkit-transform: perspective(800px) rotateY(-180deg) translateZ(300px);\n        transform: perspective(800px) rotateY(-180deg) translateZ(300px);\n    }\n}\n\n@keyframes rotateLeft {\n    0% {\n        opacity: 1;\n        -webkit-transform-origin: 0 0;\n        transform-origin: 0 0;\n        -webkit-transform: perspective(800px) rotateY(0deg) translateZ(0px);\n        transform: perspective(800px) rotateY(0deg) translateZ(0px);\n    }\n    100% {\n        opacity: 0;\n        -webkit-transform-origin: 50% 0;\n        transform-origin: 50% 0;\n        -webkit-transform: perspective(800px) rotateY(-180deg) translateZ(300px);\n        transform: perspective(800px) rotateY(-180deg) translateZ(300px);\n    }\n}\n\n.rotateRight {\n    -webkit-animation-name: rotateRight;\n    animation-name: rotateRight;\n}\n\n@-webkit-keyframes rotateRight {\n    0% {\n        opacity: 1;\n        -webkit-transform-origin: 0 0;\n        transform-origin: 0 0;\n        -webkit-transform: perspective(800px) rotateY(0deg) translate3d(0px);\n        transform: perspective(800px) rotateY(0deg) translate3d(0px);\n    }\n    100% {\n        opacity: 0;\n        -webkit-transform-origin: 50% 0;\n        transform-origin: 50% 0;\n        -webkit-transform: perspective(800px) rotateY(180deg) translateZ(150px);\n        transform: perspective(800px) rotateY(180deg) translateZ(150px);\n    }\n}\n\n@keyframes rotateRight {\n    0% {\n        opacity: 1;\n        -webkit-transform-origin: 0 0;\n        transform-origin: 0 0;\n        -webkit-transform: perspective(800px) rotateY(0deg) translate3d(0px);\n        transform: perspective(800px) rotateY(0deg) translate3d(0px);\n    }\n    100% {\n        opacity: 0;\n        -webkit-transform-origin: 50% 0;\n        transform-origin: 50% 0;\n        -webkit-transform: perspective(800px) rotateY(180deg) translateZ(150px);\n        transform: perspective(800px) rotateY(180deg) translateZ(150px);\n    }\n}\n\n.rotateUp {\n    -webkit-animation-name: rotateUp;\n    animation-name: rotateUp;\n}\n\n@-webkit-keyframes rotateUp {\n    0% {\n        opacity: 1;\n        -webkit-transform-origin: 0 0;\n        transform-origin: 0 0;\n        -webkit-transform: perspective(800px) rotateX(0deg) translateZ(0px);\n        transform: perspective(800px) rotateX(0deg) translateZ(0px);\n    }\n    100% {\n        opacity: 0;\n        -webkit-transform-origin: 50% 0;\n        transform-origin: 50% 0;\n        -webkit-transform: perspective(800px) rotateX(180deg) translateZ(100px);\n        transform: perspective(800px) rotateX(180deg) translateZ(100px);\n    }\n}\n\n@keyframes rotateUp {\n    0% {\n        opacity: 1;\n        -webkit-transform-origin: 0 0;\n        transform-origin: 0 0;\n        -webkit-transform: perspective(800px) rotateX(0deg) translateZ(0px);\n        transform: perspective(800px) rotateX(0deg) translateZ(0px);\n    }\n    100% {\n        opacity: 0;\n        -webkit-transform-origin: 50% 0;\n        transform-origin: 50% 0;\n        -webkit-transform: perspective(800px) rotateX(180deg) translateZ(100px);\n        transform: perspective(800px) rotateX(180deg) translateZ(100px);\n    }\n}\n\n.slideDown {\n    -webkit-animation-name: slideDown;\n    animation-name: slideDown;\n}\n\n@-webkit-keyframes slideDown {\n    0% {\n        -webkit-transform-origin: 0 0;\n        transform-origin: 0 0;\n        -webkit-transform: translateY(0%);\n        transform: translateY(0%);\n    }\n    100% {\n        -webkit-transform-origin: 0 0;\n        transform-origin: 0 0;\n        -webkit-transform: translateY(100%);\n        transform: translateY(100%);\n    }\n}\n\n@keyframes slideDown {\n    0% {\n        -webkit-transform-origin: 0 0;\n        transform-origin: 0 0;\n        -webkit-transform: translateY(0%);\n        transform: translateY(0%);\n    }\n    100% {\n        -webkit-transform-origin: 0 0;\n        transform-origin: 0 0;\n        -webkit-transform: translateY(100%);\n        transform: translateY(100%);\n    }\n}\n\n.slideDownReturn {\n    -webkit-animation-name: slideDownReturn;\n    animation-name: slideDownReturn;\n}\n\n@-webkit-keyframes slideDownReturn {\n    0% {\n        -webkit-transform-origin: 0 0;\n        transform-origin: 0 0;\n        -webkit-transform: translateY(100%);\n        transform: translateY(100%);\n    }\n    100% {\n        -webkit-transform-origin: 0 0;\n        transform-origin: 0 0;\n        -webkit-transform: translateY(0%);\n        transform: translateY(0%);\n    }\n}\n\n@keyframes slideDownReturn {\n    0% {\n        -webkit-transform-origin: 0 0;\n        transform-origin: 0 0;\n        -webkit-transform: translateY(100%);\n        transform: translateY(100%);\n    }\n    100% {\n        -webkit-transform-origin: 0 0;\n        transform-origin: 0 0;\n        -webkit-transform: translateY(0%);\n        transform: translateY(0%);\n    }\n}\n\n.slideLeft {\n    -webkit-animation-name: slideLeft;\n    animation-name: slideLeft;\n}\n\n@-webkit-keyframes slideLeft {\n    0% {\n        -webkit-transform-origin: 0 0;\n        transform-origin: 0 0;\n        -webkit-transform: translateX(0%);\n        transform: translateX(0%);\n    }\n    100% {\n        -webkit-transform-origin: 0 0;\n        transform-origin: 0 0;\n        -webkit-transform: translateX(-100%);\n        transform: translateX(-100%);\n    }\n}\n\n@keyframes slideLeft {\n    0% {\n        -webkit-transform-origin: 0 0;\n        transform-origin: 0 0;\n        -webkit-transform: translateX(0%);\n        transform: translateX(0%);\n    }\n    100% {\n        -webkit-transform-origin: 0 0;\n        transform-origin: 0 0;\n        -webkit-transform: translateX(-100%);\n        transform: translateX(-100%);\n    }\n}\n\n.slideLeftReturn {\n    -webkit-animation-name: slideLeftReturn;\n    animation-name: slideLeftReturn;\n}\n\n@-webkit-keyframes slideLeftReturn {\n    0% {\n        -webkit-transform-origin: 0 0;\n        transform-origin: 0 0;\n        -webkit-transform: translateX(-100%);\n        transform: translateX(-100%);\n    }\n    100% {\n        -webkit-transform-origin: 0 0;\n        transform-origin: 0 0;\n        -webkit-transform: translateX(0%);\n        transform: translateX(0%);\n    }\n}\n\n@keyframes slideLeftReturn {\n    0% {\n        -webkit-transform-origin: 0 0;\n        transform-origin: 0 0;\n        -webkit-transform: translateX(-100%);\n        transform: translateX(-100%);\n    }\n    100% {\n        -webkit-transform-origin: 0 0;\n        transform-origin: 0 0;\n        -webkit-transform: translateX(0%);\n        transform: translateX(0%);\n    }\n}\n\n.slideRight {\n    -webkit-animation-name: slideRight;\n    animation-name: slideRight;\n}\n\n@-webkit-keyframes slideRight {\n    0% {\n        -webkit-transform-origin: 0 0;\n        transform-origin: 0 0;\n        -webkit-transform: translateX(0%);\n        transform: translateX(0%);\n    }\n    100% {\n        -webkit-transform-origin: 0 0;\n        transform-origin: 0 0;\n        -webkit-transform: translateX(100%);\n        transform: translateX(100%);\n    }\n}\n\n@keyframes slideRight {\n    0% {\n        -webkit-transform-origin: 0 0;\n        transform-origin: 0 0;\n        -webkit-transform: translateX(0%);\n        transform: translateX(0%);\n    }\n    100% {\n        -webkit-transform-origin: 0 0;\n        transform-origin: 0 0;\n        -webkit-transform: translateX(100%);\n        transform: translateX(100%);\n    }\n}\n\n.slideRightReturn {\n    -webkit-animation-name: slideRightReturn;\n    animation-name: slideRightReturn;\n}\n\n@-webkit-keyframes slideRightReturn {\n    0% {\n        -webkit-transform-origin: 0 0;\n        transform-origin: 0 0;\n        -webkit-transform: translateX(100%);\n        transform: translateX(100%);\n    }\n    100% {\n        -webkit-transform-origin: 0 0;\n        transform-origin: 0 0;\n        -webkit-transform: translateX(0%);\n        transform: translateX(0%);\n    }\n}\n\n@keyframes slideRightReturn {\n    0% {\n        -webkit-transform-origin: 0 0;\n        transform-origin: 0 0;\n        -webkit-transform: translateX(100%);\n        transform: translateX(100%);\n    }\n    100% {\n        -webkit-transform-origin: 0 0;\n        transform-origin: 0 0;\n        -webkit-transform: translateX(0%);\n        transform: translateX(0%);\n    }\n}\n\n.slideUp {\n    -webkit-animation-name: slideUp;\n    animation-name: slideUp;\n}\n\n@-webkit-keyframes slideUp {\n    0% {\n        -webkit-transform-origin: 0 0;\n        transform-origin: 0 0;\n        -webkit-transform: translateY(0%);\n        transform: translateY(0%);\n    }\n    100% {\n        -webkit-transform-origin: 0 0;\n        transform-origin: 0 0;\n        -webkit-transform: translateY(-100%);\n        transform: translateY(-100%);\n    }\n}\n\n@keyframes slideUp {\n    0% {\n        -webkit-transform-origin: 0 0;\n        transform-origin: 0 0;\n        -webkit-transform: translateY(0%);\n        transform: translateY(0%);\n    }\n    100% {\n        -webkit-transform-origin: 0 0;\n        transform-origin: 0 0;\n        -webkit-transform: translateY(-100%);\n        transform: translateY(-100%);\n    }\n}\n\n.slideUpReturn {\n    -webkit-animation-name: slideUpReturn;\n    animation-name: slideUpReturn;\n}\n\n@-webkit-keyframes slideUpReturn {\n    0% {\n        -webkit-transform-origin: 0 0;\n        transform-origin: 0 0;\n        -webkit-transform: translateY(-100%);\n        transform: translateY(-100%);\n    }\n    100% {\n        -webkit-transform-origin: 0 0;\n        transform-origin: 0 0;\n        -webkit-transform: translateY(0%);\n        transform: translateY(0%);\n    }\n}\n\n@keyframes slideUpReturn {\n    0% {\n        -webkit-transform-origin: 0 0;\n        transform-origin: 0 0;\n        -webkit-transform: translateY(-100%);\n        transform: translateY(-100%);\n    }\n    100% {\n        -webkit-transform-origin: 0 0;\n        transform-origin: 0 0;\n        -webkit-transform: translateY(0%);\n        transform: translateY(0%);\n    }\n}\n\n.openDownLeft {\n    -webkit-animation-name: openDownLeft;\n    animation-name: openDownLeft;\n}\n\n@-webkit-keyframes openDownLeft {\n    0% {\n        -webkit-transform-origin: bottom left;\n        transform-origin: bottom left;\n        -webkit-transform: rotate(0deg);\n        transform: rotate(0deg);\n        -webkit-animation-timing-function: ease-out;\n        animation-timing-function: ease-out;\n    }\n    100% {\n        -webkit-transform-origin: bottom left;\n        transform-origin: bottom left;\n        -webkit-transform: rotate(-110deg);\n        transform: rotate(-110deg);\n        -webkit-animation-timing-function: ease-in-out;\n        animation-timing-function: ease-in-out;\n    }\n}\n\n@keyframes openDownLeft {\n    0% {\n        -webkit-transform-origin: bottom left;\n        transform-origin: bottom left;\n        -webkit-transform: rotate(0deg);\n        transform: rotate(0deg);\n        -webkit-animation-timing-function: ease-out;\n        animation-timing-function: ease-out;\n    }\n    100% {\n        -webkit-transform-origin: bottom left;\n        transform-origin: bottom left;\n        -webkit-transform: rotate(-110deg);\n        transform: rotate(-110deg);\n        -webkit-animation-timing-function: ease-in-out;\n        animation-timing-function: ease-in-out;\n    }\n}\n\n.openDownLeftReturn {\n    -webkit-animation-name: openDownLeftReturn;\n    animation-name: openDownLeftReturn;\n}\n\n@-webkit-keyframes openDownLeftReturn {\n    0% {\n        -webkit-transform-origin: bottom left;\n        transform-origin: bottom left;\n        -webkit-transform: rotate(-110deg);\n        transform: rotate(-110deg);\n        -webkit-animation-timing-function: ease-in-out;\n        animation-timing-function: ease-in-out;\n    }\n    100% {\n        -webkit-transform-origin: bottom left;\n        transform-origin: bottom left;\n        -webkit-transform: rotate(0deg);\n        transform: rotate(0deg);\n        -webkit-animation-timing-function: ease-out;\n        animation-timing-function: ease-out;\n    }\n}\n\n@keyframes openDownLeftReturn {\n    0% {\n        -webkit-transform-origin: bottom left;\n        transform-origin: bottom left;\n        -webkit-transform: rotate(-110deg);\n        transform: rotate(-110deg);\n        -webkit-animation-timing-function: ease-in-out;\n        animation-timing-function: ease-in-out;\n    }\n    100% {\n        -webkit-transform-origin: bottom left;\n        transform-origin: bottom left;\n        -webkit-transform: rotate(0deg);\n        transform: rotate(0deg);\n        -webkit-animation-timing-function: ease-out;\n        animation-timing-function: ease-out;\n    }\n}\n\n.openDownRight {\n    -webkit-animation-name: openDownRight;\n    animation-name: openDownRight;\n}\n\n@-webkit-keyframes openDownRight {\n    0% {\n        -webkit-transform-origin: bottom right;\n        transform-origin: bottom right;\n        -webkit-transform: rotate(0deg);\n        transform: rotate(0deg);\n        -webkit-animation-timing-function: ease-out;\n        animation-timing-function: ease-out;\n    }\n    100% {\n        -webkit-transform-origin: bottom right;\n        transform-origin: bottom right;\n        -webkit-transform: rotate(110deg);\n        transform: rotate(110deg);\n        -webkit-animation-timing-function: ease-in-out;\n        animation-timing-function: ease-in-out;\n    }\n}\n\n@keyframes openDownRight {\n    0% {\n        -webkit-transform-origin: bottom right;\n        transform-origin: bottom right;\n        -webkit-transform: rotate(0deg);\n        transform: rotate(0deg);\n        -webkit-animation-timing-function: ease-out;\n        animation-timing-function: ease-out;\n    }\n    100% {\n        -webkit-transform-origin: bottom right;\n        transform-origin: bottom right;\n        -webkit-transform: rotate(110deg);\n        transform: rotate(110deg);\n        -webkit-animation-timing-function: ease-in-out;\n        animation-timing-function: ease-in-out;\n    }\n}\n\n.openDownRightReturn {\n    -webkit-animation-name: openDownRightReturn;\n    animation-name: openDownRightReturn;\n}\n\n@-webkit-keyframes openDownRightReturn {\n    0% {\n        -webkit-transform-origin: bottom right;\n        transform-origin: bottom right;\n        -webkit-transform: rotate(110deg);\n        transform: rotate(110deg);\n        -webkit-animation-timing-function: ease-in-out;\n        animation-timing-function: ease-in-out;\n    }\n    100% {\n        -webkit-transform-origin: bottom right;\n        transform-origin: bottom right;\n        -webkit-transform: rotate(0deg);\n        transform: rotate(0deg);\n        -webkit-animation-timing-function: ease-out;\n        animation-timing-function: ease-out;\n    }\n}\n\n@keyframes openDownRightReturn {\n    0% {\n        -webkit-transform-origin: bottom right;\n        transform-origin: bottom right;\n        -webkit-transform: rotate(110deg);\n        transform: rotate(110deg);\n        -webkit-animation-timing-function: ease-in-out;\n        animation-timing-function: ease-in-out;\n    }\n    100% {\n        -webkit-transform-origin: bottom right;\n        transform-origin: bottom right;\n        -webkit-transform: rotate(0deg);\n        transform: rotate(0deg);\n        -webkit-animation-timing-function: ease-out;\n        animation-timing-function: ease-out;\n    }\n}\n\n.openUpLeft {\n    -webkit-animation-name: openUpLeft;\n    animation-name: openUpLeft;\n}\n\n@-webkit-keyframes openUpLeft {\n    0% {\n        -webkit-transform-origin: top left;\n        transform-origin: top left;\n        -webkit-transform: rotate(0deg);\n        transform: rotate(0deg);\n        -webkit-animation-timing-function: ease-out;\n        animation-timing-function: ease-out;\n    }\n    100% {\n        -webkit-transform-origin: top left;\n        transform-origin: top left;\n        -webkit-transform: rotate(110deg);\n        transform: rotate(110deg);\n        -webkit-animation-timing-function: ease-in-out;\n        animation-timing-function: ease-in-out;\n    }\n}\n\n@keyframes openUpLeft {\n    0% {\n        -webkit-transform-origin: top left;\n        transform-origin: top left;\n        -webkit-transform: rotate(0deg);\n        transform: rotate(0deg);\n        -webkit-animation-timing-function: ease-out;\n        animation-timing-function: ease-out;\n    }\n    100% {\n        -webkit-transform-origin: top left;\n        transform-origin: top left;\n        -webkit-transform: rotate(110deg);\n        transform: rotate(110deg);\n        -webkit-animation-timing-function: ease-in-out;\n        animation-timing-function: ease-in-out;\n    }\n}\n\n.openUpLeftReturn {\n    -webkit-animation-name: openUpLeftReturn;\n    animation-name: openUpLeftReturn;\n}\n\n@-webkit-keyframes openUpLeftReturn {\n    0% {\n        -webkit-transform-origin: top left;\n        transform-origin: top left;\n        -webkit-transform: rotate(110deg);\n        transform: rotate(110deg);\n        -webkit-animation-timing-function: ease-in-out;\n        animation-timing-function: ease-in-out;\n    }\n    100% {\n        -webkit-transform-origin: top left;\n        transform-origin: top left;\n        -webkit-transform: rotate(0deg);\n        transform: rotate(0deg);\n        -webkit-animation-timing-function: ease-out;\n        animation-timing-function: ease-out;\n    }\n}\n\n@keyframes openUpLeftReturn {\n    0% {\n        -webkit-transform-origin: top left;\n        transform-origin: top left;\n        -webkit-transform: rotate(110deg);\n        transform: rotate(110deg);\n        -webkit-animation-timing-function: ease-in-out;\n        animation-timing-function: ease-in-out;\n    }\n    100% {\n        -webkit-transform-origin: top left;\n        transform-origin: top left;\n        -webkit-transform: rotate(0deg);\n        transform: rotate(0deg);\n        -webkit-animation-timing-function: ease-out;\n        animation-timing-function: ease-out;\n    }\n}\n\n.openUpRight {\n    -webkit-animation-name: openUpRight;\n    animation-name: openUpRight;\n}\n\n@-webkit-keyframes openUpRight {\n    0% {\n        -webkit-transform-origin: top right;\n        transform-origin: top right;\n        -webkit-transform: rotate(0deg);\n        transform: rotate(0deg);\n        -webkit-animation-timing-function: ease-out;\n        animation-timing-function: ease-out;\n    }\n    100% {\n        -webkit-transform-origin: top right;\n        transform-origin: top right;\n        -webkit-transform: rotate(-110deg);\n        transform: rotate(-110deg);\n        -webkit-animation-timing-function: ease-in-out;\n        animation-timing-function: ease-in-out;\n    }\n}\n\n@keyframes openUpRight {\n    0% {\n        -webkit-transform-origin: top right;\n        transform-origin: top right;\n        -webkit-transform: rotate(0deg);\n        transform: rotate(0deg);\n        -webkit-animation-timing-function: ease-out;\n        animation-timing-function: ease-out;\n    }\n    100% {\n        -webkit-transform-origin: top right;\n        transform-origin: top right;\n        -webkit-transform: rotate(-110deg);\n        transform: rotate(-110deg);\n        -webkit-animation-timing-function: ease-in-out;\n        animation-timing-function: ease-in-out;\n    }\n}\n\n.openUpRightReturn {\n    -webkit-animation-name: openUpRightReturn;\n    animation-name: openUpRightReturn;\n}\n\n@-webkit-keyframes openUpRightReturn {\n    0% {\n        -webkit-transform-origin: top right;\n        transform-origin: top right;\n        -webkit-transform: rotate(-110deg);\n        transform: rotate(-110deg);\n        -webkit-animation-timing-function: ease-in-out;\n        animation-timing-function: ease-in-out;\n    }\n    100% {\n        -webkit-transform-origin: top right;\n        transform-origin: top right;\n        -webkit-transform: rotate(0deg);\n        transform: rotate(0deg);\n        -webkit-animation-timing-function: ease-out;\n        animation-timing-function: ease-out;\n    }\n}\n\n@keyframes openUpRightReturn {\n    0% {\n        -webkit-transform-origin: top right;\n        transform-origin: top right;\n        -webkit-transform: rotate(-110deg);\n        transform: rotate(-110deg);\n        -webkit-animation-timing-function: ease-in-out;\n        animation-timing-function: ease-in-out;\n    }\n    100% {\n        -webkit-transform-origin: top right;\n        transform-origin: top right;\n        -webkit-transform: rotate(0deg);\n        transform: rotate(0deg);\n        -webkit-animation-timing-function: ease-out;\n        animation-timing-function: ease-out;\n    }\n}\n\n.openDownLeftOut {\n    -webkit-animation-name: openDownLeftOut;\n    animation-name: openDownLeftOut;\n}\n\n@-webkit-keyframes openDownLeftOut {\n    0% {\n        opacity: 1;\n        -webkit-transform-origin: bottom left;\n        transform-origin: bottom left;\n        -webkit-transform: rotate(0deg);\n        transform: rotate(0deg);\n        -webkit-animation-timing-function: ease-out;\n        animation-timing-function: ease-out;\n    }\n    100% {\n        opacity: 0;\n        -webkit-transform-origin: bottom left;\n        transform-origin: bottom left;\n        -webkit-transform: rotate(-110deg);\n        transform: rotate(-110deg);\n        -webkit-animation-timing-function: ease-in-out;\n        animation-timing-function: ease-in-out;\n    }\n}\n\n@keyframes openDownLeftOut {\n    0% {\n        opacity: 1;\n        -webkit-transform-origin: bottom left;\n        transform-origin: bottom left;\n        -webkit-transform: rotate(0deg);\n        transform: rotate(0deg);\n        -webkit-animation-timing-function: ease-out;\n        animation-timing-function: ease-out;\n    }\n    100% {\n        opacity: 0;\n        -webkit-transform-origin: bottom left;\n        transform-origin: bottom left;\n        -webkit-transform: rotate(-110deg);\n        transform: rotate(-110deg);\n        -webkit-animation-timing-function: ease-in-out;\n        animation-timing-function: ease-in-out;\n    }\n}\n\n.openDownRightOut {\n    -webkit-animation-name: openDownRightOut;\n    animation-name: openDownRightOut;\n}\n\n@-webkit-keyframes openDownRightOut {\n    0% {\n        opacity: 1;\n        -webkit-transform-origin: bottom right;\n        transform-origin: bottom right;\n        -webkit-transform: rotate(0deg);\n        transform: rotate(0deg);\n        -webkit-animation-timing-function: ease-out;\n        animation-timing-function: ease-out;\n    }\n    100% {\n        opacity: 0;\n        -webkit-transform-origin: bottom right;\n        transform-origin: bottom right;\n        -webkit-transform: rotate(110deg);\n        transform: rotate(110deg);\n        -webkit-animation-timing-function: ease-in-out;\n        animation-timing-function: ease-in-out;\n    }\n}\n\n@keyframes openDownRightOut {\n    0% {\n        opacity: 1;\n        -webkit-transform-origin: bottom right;\n        transform-origin: bottom right;\n        -webkit-transform: rotate(0deg);\n        transform: rotate(0deg);\n        -webkit-animation-timing-function: ease-out;\n        animation-timing-function: ease-out;\n    }\n    100% {\n        opacity: 0;\n        -webkit-transform-origin: bottom right;\n        transform-origin: bottom right;\n        -webkit-transform: rotate(110deg);\n        transform: rotate(110deg);\n        -webkit-animation-timing-function: ease-in-out;\n        animation-timing-function: ease-in-out;\n    }\n}\n\n.openUpLeftOut {\n    -webkit-animation-name: openUpLeftOut;\n    animation-name: openUpLeftOut;\n}\n\n@-webkit-keyframes openUpLeftOut {\n    0% {\n        opacity: 1;\n        -webkit-transform-origin: top left;\n        transform-origin: top left;\n        -webkit-transform: rotate(0deg);\n        transform: rotate(0deg);\n        -webkit-animation-timing-function: ease-out;\n        animation-timing-function: ease-out;\n    }\n    100% {\n        opacity: 0;\n        -webkit-transform-origin: top left;\n        transform-origin: top left;\n        -webkit-transform: rotate(110deg);\n        transform: rotate(110deg);\n        -webkit-animation-timing-function: ease-in-out;\n        animation-timing-function: ease-in-out;\n    }\n}\n\n@keyframes openUpLeftOut {\n    0% {\n        opacity: 1;\n        -webkit-transform-origin: top left;\n        transform-origin: top left;\n        -webkit-transform: rotate(0deg);\n        transform: rotate(0deg);\n        -webkit-animation-timing-function: ease-out;\n        animation-timing-function: ease-out;\n    }\n    100% {\n        opacity: 0;\n        -webkit-transform-origin: top left;\n        transform-origin: top left;\n        -webkit-transform: rotate(110deg);\n        transform: rotate(110deg);\n        -webkit-animation-timing-function: ease-in-out;\n        animation-timing-function: ease-in-out;\n    }\n}\n\n.openUpRightOut {\n    -webkit-animation-name: openUpRightOut;\n    animation-name: openUpRightOut;\n}\n\n@-webkit-keyframes openUpRightOut {\n    0% {\n        opacity: 1;\n        -webkit-transform-origin: top right;\n        transform-origin: top right;\n        -webkit-transform: rotate(0deg);\n        transform: rotate(0deg);\n        -webkit-animation-timing-function: ease-out;\n        animation-timing-function: ease-out;\n    }\n    100% {\n        opacity: 0;\n        -webkit-transform-origin: top right;\n        transform-origin: top right;\n        -webkit-transform: rotate(-110deg);\n        transform: rotate(-110deg);\n        -webkit-animation-timing-function: ease-in-out;\n        animation-timing-function: ease-in-out;\n    }\n}\n\n@keyframes openUpRightOut {\n    0% {\n        opacity: 1;\n        -webkit-transform-origin: top right;\n        transform-origin: top right;\n        -webkit-transform: rotate(0deg);\n        transform: rotate(0deg);\n        -webkit-animation-timing-function: ease-out;\n        animation-timing-function: ease-out;\n    }\n    100% {\n        opacity: 0;\n        -webkit-transform-origin: top right;\n        transform-origin: top right;\n        -webkit-transform: rotate(-110deg);\n        transform: rotate(-110deg);\n        -webkit-animation-timing-function: ease-in-out;\n        animation-timing-function: ease-in-out;\n    }\n}\n\n.tinDownIn {\n    -webkit-animation-name: tinDownIn;\n    animation-name: tinDownIn;\n}\n\n@-webkit-keyframes tinDownIn {\n    0% {\n        opacity: 0;\n        -webkit-transform: scale(1, 1) translateY(900%);\n        transform: scale(1, 1) translateY(900%);\n    }\n    50%,\n    70%,\n    90% {\n        opacity: 1;\n        -webkit-transform: scale(1.1, 1.1) translateY(0);\n        transform: scale(1.1, 1.1) translateY(0);\n    }\n    60%,\n    80%,\n    100% {\n        opacity: 1;\n        -webkit-transform: scale(1, 1) translateY(0);\n        transform: scale(1, 1) translateY(0);\n    }\n}\n\n@keyframes tinDownIn {\n    0% {\n        opacity: 0;\n        -webkit-transform: scale(1, 1) translateY(900%);\n        transform: scale(1, 1) translateY(900%);\n    }\n    50%,\n    70%,\n    90% {\n        opacity: 1;\n        -webkit-transform: scale(1.1, 1.1) translateY(0);\n        transform: scale(1.1, 1.1) translateY(0);\n    }\n    60%,\n    80%,\n    100% {\n        opacity: 1;\n        -webkit-transform: scale(1, 1) translateY(0);\n        transform: scale(1, 1) translateY(0);\n    }\n}\n\n.tinDownOut {\n    -webkit-animation-name: tinDownOut;\n    animation-name: tinDownOut;\n}\n\n@-webkit-keyframes tinDownOut {\n    0%,\n    20%,\n    40%,\n    50% {\n        opacity: 1;\n        -webkit-transform: scale(1, 1) translateY(0);\n        transform: scale(1, 1) translateY(0);\n    }\n    10%,\n    30% {\n        opacity: 1;\n        -webkit-transform: scale(1.1, 1.1) translateY(0);\n        transform: scale(1.1, 1.1) translateY(0);\n    }\n    100% {\n        opacity: 0;\n        -webkit-transform: scale(1, 1) translateY(900%);\n        transform: scale(1, 1) translateY(900%);\n    }\n}\n\n@keyframes tinDownOut {\n    0%,\n    20%,\n    40%,\n    50% {\n        opacity: 1;\n        -webkit-transform: scale(1, 1) translateY(0);\n        transform: scale(1, 1) translateY(0);\n    }\n    10%,\n    30% {\n        opacity: 1;\n        -webkit-transform: scale(1.1, 1.1) translateY(0);\n        transform: scale(1.1, 1.1) translateY(0);\n    }\n    100% {\n        opacity: 0;\n        -webkit-transform: scale(1, 1) translateY(900%);\n        transform: scale(1, 1) translateY(900%);\n    }\n}\n\n.tinLeftIn {\n    -webkit-animation-name: tinLeftIn;\n    animation-name: tinLeftIn;\n}\n\n@-webkit-keyframes tinLeftIn {\n    0% {\n        opacity: 0;\n        -webkit-transform: scale(1, 1) translateX(-900%);\n        transform: scale(1, 1) translateX(-900%);\n    }\n    50%,\n    70%,\n    90% {\n        opacity: 1;\n        -webkit-transform: scale(1.1, 1.1) translateX(0);\n        transform: scale(1.1, 1.1) translateX(0);\n    }\n    60%,\n    80%,\n    100% {\n        opacity: 1;\n        -webkit-transform: scale(1, 1) translateX(0);\n        transform: scale(1, 1) translateX(0);\n    }\n}\n\n@keyframes tinLeftIn {\n    0% {\n        opacity: 0;\n        -webkit-transform: scale(1, 1) translateX(-900%);\n        transform: scale(1, 1) translateX(-900%);\n    }\n    50%,\n    70%,\n    90% {\n        opacity: 1;\n        -webkit-transform: scale(1.1, 1.1) translateX(0);\n        transform: scale(1.1, 1.1) translateX(0);\n    }\n    60%,\n    80%,\n    100% {\n        opacity: 1;\n        -webkit-transform: scale(1, 1) translateX(0);\n        transform: scale(1, 1) translateX(0);\n    }\n}\n\n.tinLeftOut {\n    -webkit-animation-name: tinLeftOut;\n    animation-name: tinLeftOut;\n}\n\n@-webkit-keyframes tinLeftOut {\n    0%,\n    20%,\n    40%,\n    50% {\n        opacity: 1;\n        -webkit-transform: scale(1, 1) translateX(0);\n        transform: scale(1, 1) translateX(0);\n    }\n    10%,\n    30% {\n        opacity: 1;\n        -webkit-transform: scale(1.1, 1.1) translateX(0);\n        transform: scale(1.1, 1.1) translateX(0);\n    }\n    100% {\n        opacity: 0;\n        -webkit-transform: scale(1, 1) translateX(-900%);\n        transform: scale(1, 1) translateX(-900%);\n    }\n}\n\n@keyframes tinLeftOut {\n    0%,\n    20%,\n    40%,\n    50% {\n        opacity: 1;\n        -webkit-transform: scale(1, 1) translateX(0);\n        transform: scale(1, 1) translateX(0);\n    }\n    10%,\n    30% {\n        opacity: 1;\n        -webkit-transform: scale(1.1, 1.1) translateX(0);\n        transform: scale(1.1, 1.1) translateX(0);\n    }\n    100% {\n        opacity: 0;\n        -webkit-transform: scale(1, 1) translateX(-900%);\n        transform: scale(1, 1) translateX(-900%);\n    }\n}\n\n.tinRightIn {\n    -webkit-animation-name: tinRightIn;\n    animation-name: tinRightIn;\n}\n\n@-webkit-keyframes tinRightIn {\n    0% {\n        opacity: 0;\n        -webkit-transform: scale(1, 1) translateX(900%);\n        transform: scale(1, 1) translateX(900%);\n    }\n    50%,\n    70%,\n    90% {\n        opacity: 1;\n        -webkit-transform: scale(1.1, 1.1) translateX(0);\n        transform: scale(1.1, 1.1) translateX(0);\n    }\n    60%,\n    80%,\n    100% {\n        opacity: 1;\n        -webkit-transform: scale(1, 1) translateX(0);\n        transform: scale(1, 1) translateX(0);\n    }\n}\n\n@keyframes tinRightIn {\n    0% {\n        opacity: 0;\n        -webkit-transform: scale(1, 1) translateX(900%);\n        transform: scale(1, 1) translateX(900%);\n    }\n    50%,\n    70%,\n    90% {\n        opacity: 1;\n        -webkit-transform: scale(1.1, 1.1) translateX(0);\n        transform: scale(1.1, 1.1) translateX(0);\n    }\n    60%,\n    80%,\n    100% {\n        opacity: 1;\n        -webkit-transform: scale(1, 1) translateX(0);\n        transform: scale(1, 1) translateX(0);\n    }\n}\n\n.tinRightOut {\n    -webkit-animation-name: tinRightOut;\n    animation-name: tinRightOut;\n}\n\n@-webkit-keyframes tinRightOut {\n    0%,\n    20%,\n    40%,\n    50% {\n        opacity: 1;\n        -webkit-transform: scale(1, 1) translateX(0);\n        transform: scale(1, 1) translateX(0);\n    }\n    10%,\n    30% {\n        opacity: 1;\n        -webkit-transform: scale(1.1, 1.1) translateX(0);\n        transform: scale(1.1, 1.1) translateX(0);\n    }\n    100% {\n        opacity: 0;\n        -webkit-transform: scale(1, 1) translateX(900%);\n        transform: scale(1, 1) translateX(900%);\n    }\n}\n\n@keyframes tinRightOut {\n    0%,\n    20%,\n    40%,\n    50% {\n        opacity: 1;\n        -webkit-transform: scale(1, 1) translateX(0);\n        transform: scale(1, 1) translateX(0);\n    }\n    10%,\n    30% {\n        opacity: 1;\n        -webkit-transform: scale(1.1, 1.1) translateX(0);\n        transform: scale(1.1, 1.1) translateX(0);\n    }\n    100% {\n        opacity: 0;\n        -webkit-transform: scale(1, 1) translateX(900%);\n        transform: scale(1, 1) translateX(900%);\n    }\n}\n\n.tinUpIn {\n    -webkit-animation-name: tinUpIn;\n    animation-name: tinUpIn;\n}\n\n@-webkit-keyframes tinUpIn {\n    0% {\n        opacity: 0;\n        -webkit-transform: scale(1, 1) translateY(-900%);\n        transform: scale(1, 1) translateY(-900%);\n    }\n    50%,\n    70%,\n    90% {\n        opacity: 1;\n        -webkit-transform: scale(1.1, 1.1) translateY(0);\n        transform: scale(1.1, 1.1) translateY(0);\n    }\n    60%,\n    80%,\n    100% {\n        opacity: 1;\n        -webkit-transform: scale(1, 1) translateY(0);\n        transform: scale(1, 1) translateY(0);\n    }\n}\n\n@keyframes tinUpIn {\n    0% {\n        opacity: 0;\n        -webkit-transform: scale(1, 1) translateY(-900%);\n        transform: scale(1, 1) translateY(-900%);\n    }\n    50%,\n    70%,\n    90% {\n        opacity: 1;\n        -webkit-transform: scale(1.1, 1.1) translateY(0);\n        transform: scale(1.1, 1.1) translateY(0);\n    }\n    60%,\n    80%,\n    100% {\n        opacity: 1;\n        -webkit-transform: scale(1, 1) translateY(0);\n        transform: scale(1, 1) translateY(0);\n    }\n}\n\n.tinUpOut {\n    -webkit-animation-name: tinUpOut;\n    animation-name: tinUpOut;\n}\n\n@-webkit-keyframes tinUpOut {\n    0%,\n    20%,\n    40%,\n    50% {\n        opacity: 1;\n        -webkit-transform: scale(1, 1) translateY(0);\n        transform: scale(1, 1) translateY(0);\n    }\n    10%,\n    30% {\n        opacity: 1;\n        -webkit-transform: scale(1.1, 1.1) translateY(0);\n        transform: scale(1.1, 1.1) translateY(0);\n    }\n    100% {\n        opacity: 0;\n        -webkit-transform: scale(1, 1) translateY(-900%);\n        transform: scale(1, 1) translateY(-900%);\n    }\n}\n\n@keyframes tinUpOut {\n    0%,\n    20%,\n    40%,\n    50% {\n        opacity: 1;\n        -webkit-transform: scale(1, 1) translateY(0);\n        transform: scale(1, 1) translateY(0);\n    }\n    10%,\n    30% {\n        opacity: 1;\n        -webkit-transform: scale(1.1, 1.1) translateY(0);\n        transform: scale(1.1, 1.1) translateY(0);\n    }\n    100% {\n        opacity: 0;\n        -webkit-transform: scale(1, 1) translateY(-900%);\n        transform: scale(1, 1) translateY(-900%);\n    }\n}\n',""]),t.exports=e},function(t,e,i){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i=function(t,e){var i=t[1]||"",a=t[3];if(!a)return i;if(e&&"function"==typeof btoa){var s=function(t){var e=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(e);return"/*# ".concat(i," */")}(a),r=a.sources.map((function(t){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(t," */")}));return[i].concat(r).concat([s]).join("\n")}return[i].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(i,"}"):i})).join("")},e.i=function(t,i,a){"string"==typeof t&&(t=[[null,t,""]]);var s={};if(a)for(var r=0;r<this.length;r++){var n=this[r][0];null!=n&&(s[n]=!0)}for(var o=0;o<t.length;o++){var h=[].concat(t[o]);a&&s[h[0]]||(i&&(h[2]?h[2]="".concat(i," and ").concat(h[2]):h[2]=i),e.push(h))}},e}},function(t,e,i){var a,s={},r=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}((function(){return window&&document&&document.all&&!window.atob})),n=function(t,e){return e?e.querySelector(t):document.querySelector(t)},o=(a={},function(t,e){if("function"==typeof t)return t();if(void 0===a[t]){var i=n.call(this,t,e);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}a[t]=i}return a[t]}),h=null,l=0,c=[],d=i(11);function p(t,e){for(var i=0;i<t.length;i++){var a=t[i],r=s[a.id];if(r){r.refs++;for(var n=0;n<r.parts.length;n++)r.parts[n](a.parts[n]);for(;n<a.parts.length;n++)r.parts.push(x(a.parts[n],e))}else{var o=[];for(n=0;n<a.parts.length;n++)o.push(x(a.parts[n],e));s[a.id]={id:a.id,refs:1,parts:o}}}}function g(t,e){for(var i=[],a={},s=0;s<t.length;s++){var r=t[s],n=e.base?r[0]+e.base:r[0],o={css:r[1],media:r[2],sourceMap:r[3]};a[n]?a[n].parts.push(o):i.push(a[n]={id:n,parts:[o]})}return i}function u(t,e){var i=o(t.insertInto);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var a=c[c.length-1];if("top"===t.insertAt)a?a.nextSibling?i.insertBefore(e,a.nextSibling):i.appendChild(e):i.insertBefore(e,i.firstChild),c.push(e);else if("bottom"===t.insertAt)i.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var s=o(t.insertAt.before,i);i.insertBefore(e,s)}}function m(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=c.indexOf(t);e>=0&&c.splice(e,1)}function f(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var a=function(){0;return i.nc}();a&&(t.attrs.nonce=a)}return y(e,t.attrs),u(t,e),e}function y(t,e){Object.keys(e).forEach((function(i){t.setAttribute(i,e[i])}))}function x(t,e){var i,a,s,r;if(e.transform&&t.css){if(!(r="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=r}if(e.singleton){var n=l++;i=h||(h=f(e)),a=A.bind(null,i,n,!1),s=A.bind(null,i,n,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",y(e,t.attrs),u(t,e),e}(e),a=C.bind(null,i,e),s=function(){m(i),i.href&&URL.revokeObjectURL(i.href)}):(i=f(e),a=w.bind(null,i),s=function(){m(i)});return a(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;a(t=e)}else s()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=r()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var i=g(t,e);return p(i,e),function(t){for(var a=[],r=0;r<i.length;r++){var n=i[r];(o=s[n.id]).refs--,a.push(o)}t&&p(g(t,e),e);for(r=0;r<a.length;r++){var o;if(0===(o=a[r]).refs){for(var h=0;h<o.parts.length;h++)o.parts[h]();delete s[o.id]}}}};var b,v=(b=[],function(t,e){return b[t]=e,b.filter(Boolean).join("\n")});function A(t,e,i,a){var s=i?"":a.css;if(t.styleSheet)t.styleSheet.cssText=v(e,s);else{var r=document.createTextNode(s),n=t.childNodes;n[e]&&t.removeChild(n[e]),n.length?t.insertBefore(r,n[e]):t.appendChild(r)}}function w(t,e){var i=e.css,a=e.media;if(a&&t.setAttribute("media",a),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}function C(t,e,i){var a=i.css,s=i.sourceMap,r=void 0===e.convertToAbsoluteUrls&&s;(e.convertToAbsoluteUrls||r)&&(a=d(a)),s&&(a+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */");var n=new Blob([a],{type:"text/css"}),o=t.href;t.href=URL.createObjectURL(n),o&&URL.revokeObjectURL(o)}},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var i=e.protocol+"//"+e.host,a=i+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(t,e){var s,r=e.trim().replace(/^"(.*)"$/,(function(t,e){return e})).replace(/^'(.*)'$/,(function(t,e){return e}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(r)?t:(s=0===r.indexOf("//")?r:0===r.indexOf("/")?i+r:a+r.replace(/^\.\//,""),"url("+JSON.stringify(s)+")")}))}}]);
//# sourceMappingURL=cxdash.min.js.map
//# sourceMappingURL=cxdash.min.js.map